var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,e){a!=Array.prototype&&a!=Object.prototype&&(a[c]=e.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var a=0;return function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+a++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var c=0;return $jscomp.iteratorPrototype(function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var c=a[Symbol.iterator];return c?c.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,c,e,m){if(c){e=$jscomp.global;a=a.split(".");for(m=0;m<a.length-1;m++){var l=a[m];l in e||(e[l]={});e=e[l]}a=a[a.length-1];m=e[a];c=c(m);c!=m&&null!=c&&$jscomp.defineProperty(e,a,{configurable:!0,writable:!0,value:c})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function c(){this.batch_=null}function e(a){return a instanceof l?a:new l(function(c,e){c(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;c.prototype.asyncExecute=function(a){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(a);return this};c.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var m=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(a){m(a,
0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=this.batch_;this.batch_=[];for(var c=0;c<a.length;++c){var e=a[c];a[c]=null;try{e()}catch(u){this.asyncThrow_(u)}}}this.batch_=null};c.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var l=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var c=this.createResolveAndReject_();try{a(c.resolve,c.reject)}catch(B){c.reject(B)}};l.prototype.createResolveAndReject_=
function(){function a(a){return function(f){e||(e=!0,a.call(c,f))}}var c=this,e=!1;return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};l.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof l)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var c=null!=a;break a;case "function":c=!0;break a;default:c=!1}c?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};l.prototype.resolveToNonPromiseObj_=function(a){var c=
void 0;try{c=a.then}catch(B){this.reject_(B);return}"function"==typeof c?this.settleSameAsThenable_(c,a):this.fulfill_(a)};l.prototype.reject_=function(a){this.settle_(2,a)};l.prototype.fulfill_=function(a){this.settle_(1,a)};l.prototype.settle_=function(a,c){if(0!=this.state_)throw Error("Cannot settle("+a+", "+c+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=c;this.executeOnSettledCallbacks_()};l.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=
0;a<this.onSettledCallbacks_.length;++a)f.asyncExecute(this.onSettledCallbacks_[a]);this.onSettledCallbacks_=null}};var f=new c;l.prototype.settleSameAsPromise_=function(a){var c=this.createResolveAndReject_();a.callWhenSettled_(c.resolve,c.reject)};l.prototype.settleSameAsThenable_=function(a,c){var e=this.createResolveAndReject_();try{a.call(c,e.resolve,e.reject)}catch(u){e.reject(u)}};l.prototype.then=function(a,c){function e(a,b){return"function"==typeof a?function(b){try{f(a(b))}catch(g){m(g)}}:
b}var f,m,q=new l(function(a,b){f=a;m=b});this.callWhenSettled_(e(a,f),e(c,m));return q};l.prototype.catch=function(a){return this.then(void 0,a)};l.prototype.callWhenSettled_=function(a,c){function e(){switch(l.state_){case 1:a(l.result_);break;case 2:c(l.result_);break;default:throw Error("Unexpected state: "+l.state_);}}var l=this;null==this.onSettledCallbacks_?f.asyncExecute(e):this.onSettledCallbacks_.push(e)};l.resolve=e;l.reject=function(a){return new l(function(c,e){e(a)})};l.race=function(a){return new l(function(c,
f){for(var l=$jscomp.makeIterator(a),m=l.next();!m.done;m=l.next())e(m.value).callWhenSettled_(c,f)})};l.all=function(a){var c=$jscomp.makeIterator(a),f=c.next();return f.done?e([]):new l(function(a,l){function m(d){return function(g){q[d]=g;b--;0==b&&a(q)}}var q=[],b=0;do q.push(void 0),b++,e(f.value).callWhenSettled_(m(q.length-1),l),f=c.next();while(!f.done)})};return l},"es6","es3");$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},c={};try{return c.__proto__=a,c.a}catch(e){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,c){a.__proto__=c;if(a.__proto__!==c)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,c){this.nextAddress=c;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,c){a=$jscomp.makeIterator(a);var e=a.next();$jscomp.generator.ensureIteratorResultIsObject_(e);if(e.done)this.yieldResult=e.value,this.nextAddress=c;else return this.yieldAllIterator_=a,this.yield(e.value,c)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,c){this.catchAddress_=a;void 0!=c&&(this.finallyAddress_=c)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,c){this.nextAddress=a;this.catchAddress_=c||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,c,e){e?this.finallyContexts_[e]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=c||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,c){c=this.finallyContexts_.splice(c||0)[0];if(c=this.abruptCompletion_=this.abruptCompletion_||c){if(c.isException)return this.jumpToErrorHandler_();void 0!=c.jumpTo&&this.finallyAddress_<c.jumpTo?(this.nextAddress=c.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var c in a)this.properties_.push(c);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var c=this.context_.yieldAllIterator_;if(c)return this.yieldAllStep_("return"in c?c["return"]:function(a){return{value:a,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,c,e){try{var m=a.call(this.context_.yieldAllIterator_,c);$jscomp.generator.ensureIteratorResultIsObject_(m);if(!m.done)return this.context_.stop_(),m;var l=m.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;e.call(this.context_,l);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(c){this.context_.yieldResult=void 0,this.context_.throw_(c)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(c){return a.next_(c)};this.throw=function(c){return a.throw_(c)};this.return=function(c){return a.return_(c)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,c){c=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(c,a.prototype);return c};
$jscomp.asyncExecutePromiseGenerator=function(a){function c(c){return a.next(c)}function e(c){return a.throw(c)}return new Promise(function(m,l){function f(a){a.done?m(a.value):Promise.resolve(a.value).then(c,e).then(f,l)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.findInternal=function(a,c,e){a instanceof String&&(a=String(a));for(var m=a.length,l=0;l<m;l++){var f=a[l];if(c.call(e,f,l,a))return{i:l,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,e){return $jscomp.findInternal(this,a,e).v}},"es6","es3");
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var e=0,m={next:function(){if(e<a.length){var l=e++;return{value:c(l,a[l]),done:!1}}m.next=function(){return{done:!0,value:void 0}};return m.next()}};m[Symbol.iterator]=function(){return m};return m};$jscomp.polyfill("Array.prototype.values",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a,e){return e})}},"es8","es3");
$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,e,m){var c=this.length||0;0>e&&(e=Math.max(0,c+e));if(null==m||m>c)m=c;m=Number(m);0>m&&(m=Math.max(0,c+m));for(e=Number(e||0);e<m;e++)this[e]=a;return this}},"es6","es3");
$jscomp.checkStringArgs=function(a,c,e){if(null==a)throw new TypeError("The 'this' value for String.prototype."+e+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+e+" must not be a regular expression");return a+""};
$jscomp.polyfill("String.prototype.repeat",function(a){return a?a:function(a){var c=$jscomp.checkStringArgs(this,null,"repeat");if(0>a||1342177279<a)throw new RangeError("Invalid count value");a|=0;for(var m="";a;)if(a&1&&(m+=c),a>>>=1)c+=c;return m}},"es6","es3");$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.polyfill("String.prototype.startsWith",function(a){return a?a:function(a,e){var c=$jscomp.checkStringArgs(this,a,"startsWith");a+="";var l=c.length,f=a.length;e=Math.max(0,Math.min(e|0,c.length));for(var q=0;q<f&&e<l;)if(c[e++]!=a[q++])return!1;return q>=f}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(a){return a?a:function(a,e){var c=$jscomp.checkStringArgs(this,a,"endsWith");a+="";void 0===e&&(e=c.length);e=Math.max(0,Math.min(e|0,c.length));for(var l=a.length;0<l&&0<e;)if(c[--e]!=a[--l])return!1;return 0>=l}},"es6","es3");IndependentFunc={player:""};window.onload=function(){var a=document.getElementsByTagName("body")[0].innerHTML;document.getElementsByTagName("body")[0].innerHTML=a.replace(/%{(\w+)}/g,function(a,e){return MSG[e]})};
document.onreadystatechange=function(){if("complete"==document.readyState||"loaded"==document.readyState)document.getElementById("shadow").style.display="none"};IndependentFunc.applicationCache_progress=function(){window.applicationCache.addEventListener("progress",function(a){console.log(a);Coding.progressModal(MSG.loading_cache,a.loaded/a.total*100);1==a.loaded/a.total&&window.location.reload()});navigator.onLine&&window.applicationCache.status==window.applicationCache.UPDATEREADY&&window.applicationCache.update()};
IndependentFunc.createYouTubeScript=function(){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)};IndependentFunc.onSetSize=function(a,c){IndependentFunc.player.setSize(a,c)};IndependentFunc.init=function(){};window.addEventListener("load",IndependentFunc.init);var VERSION="v0.0.189",device={},count=window.location.href.lastIndexOf("/"),CORE_DIR=window.navigator.onLine?window.location.href.substr(0,count+1):"./",iot_token="",BUILD_IN_PACKAGES={basic:"basic",music:"music",time:"time",remote:"remote",iot:"iot"};function isEmptyObject(a){for(var c in a)return!1;return!0}function firstUpperCase(a){return a.slice(0,1).toUpperCase()+a.substring(1)}
function createIotToken(){for(var a=[],c=0;16>c;c++){var e=Math.random();e=Math.round(61*e+48);57<e&&(e+=7);90<e&&(e+=6);e=String.fromCharCode(e);a.push(e)}iot_token=a.join("")}function getStringParamFromUrl(a,c){return(a=location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):c}_distributor=getStringParamFromUrl("distributor","SunFounder");Choice={current:{device:"",platform:"",kit:{}},renderRecently:function(){},kit:function(){var a=device.functions.indexOf("routing"),c=device.functions.indexOf("play");isEmptyObject(device.kits)?(Choice.current.kit={},-1!=a&&-1!=c&&(device.functions.splice(a,1),c=device.functions.indexOf("play"),device.functions.splice(c,1))):(Choice.current.kit=device.kits,-1==a&&-1==c&&(device.functions.splice(0,0,"routing"),device.functions.splice(1,0,"play")))}};Distributor={sunfounder:{name:"SunFounder",Category:{Boards:{raspberrypi:"RaspberryPi",leaf:"Leaf"},Kits:{jellypi:"JellyPi",sensorkitforpi:"RaspberryPi",sensorkitforleaf:"Leaf"},Robots:{lizard:"Lizard",pimobile:"PiMobile"}},PACKAGES:{sensorkit:"sensorkit",jelly:"jelly",switchbot:"switchbot"}},xiaomi:{name:"XiaoMi",Category:{Kits:{jellypi:"JellyPi"}},PACKAGES:{sensorkit:"sensorkit"}}};/*
 jQuery v1.12.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?c(a,!0):function(a){if(!a.document)throw Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,c){function e(a){var b=!!a&&"length"in a&&a.length,d=t.type(a);return"function"===d||t.isWindow(a)?!1:"array"===d||0===b||"number"==typeof b&&0<b&&b-1 in a}function m(a,b,d){if(t.isFunction(b))return t.grep(a,function(a,g){return!!b.call(a,g,a)!==
d});if(b.nodeType)return t.grep(a,function(a){return a===b!==d});if("string"==typeof b){if(Wa.test(b))return t.filter(b,a,d);b=t.filter(b,a)}return t.grep(a,function(a){return-1<t.inArray(a,b)!==d})}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function f(a){var b={};return t.each(a.match(Cb)||[],function(a,d){b[d]=!0}),b}function q(){E.addEventListener?(E.removeEventListener("DOMContentLoaded",z),a.removeEventListener("load",z)):(E.detachEvent("onreadystatechange",z),a.detachEvent("onload",
z))}function z(){(E.addEventListener||"load"===a.event.type||"complete"===E.readyState)&&(q(),t.ready())}function B(a,b,d){if(void 0===d&&1===a.nodeType){var g="data-"+b.replace(db,"-$1").toLowerCase();if(d=a.getAttribute(g),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Ra.test(d)?t.parseJSON(d):d}catch(oc){}t.data(a,b,d)}else d=void 0}return d}function u(a){for(var b in a)if(("data"!==b||!t.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function C(a,b,
d,g){if(na(a)){var c,r,L=t.expando,e=a.nodeType,f=e?t.cache:a,D=e?a[L]:a[L]&&L;if(D&&f[D]&&(g||f[D].data)||void 0!==d||"string"!=typeof b)return D||(D=e?a[L]=ja.pop()||t.guid++:L),f[D]||(f[D]=e?{}:{toJSON:t.noop}),"object"!=typeof b&&"function"!=typeof b||(g?f[D]=t.extend(f[D],b):f[D].data=t.extend(f[D].data,b)),r=f[D],g||(r.data||(r.data={}),r=r.data),void 0!==d&&(r[t.camelCase(b)]=d),"string"==typeof b?(c=r[b],null==c&&(c=r[t.camelCase(b)])):c=r,c}}function A(a,b,d){if(na(a)){var g,c,r=a.nodeType,
L=r?t.cache:a,e=r?a[t.expando]:t.expando;if(L[e]){if(b&&(g=d?L[e]:L[e].data)){t.isArray(b)?b=b.concat(t.map(b,t.camelCase)):b in g?b=[b]:(b=t.camelCase(b),b=b in g?[b]:b.split(" "));for(c=b.length;c--;)delete g[b[c]];if(d?!u(g):!t.isEmptyObject(g))return}(d||(delete L[e].data,u(L[e])))&&(r?t.cleanData([a],!0):Q.deleteExpando||L!=L.window?delete L[e]:L[e]=void 0)}}}function v(a,b,d,g){var c,r=1,L=20,e=g?function(){return g.cur()}:function(){return t.css(a,b,"")},f=e(),D=d&&d[3]||(t.cssNumber[b]?"":
"px"),l=(t.cssNumber[b]||"px"!==D&&+f)&&Bc.exec(t.css(a,b));if(l&&l[3]!==D){D=D||l[3];d=d||[];l=+f||1;do r=r||".5",l/=r,t.style(a,b,l+D);while(r!==(r=e()/f)&&1!==r&&--L)}return d&&(l=+l||+f||0,c=d[1]?l+(d[1]+1)*d[2]:+d[2],g&&(g.unit=D,g.start=l,g.end=c)),c}function b(a){var b="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");a=a.createDocumentFragment();
if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function d(a,b){var g,c,r=0,L="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!L)for(L=[],g=a.childNodes||a;null!=(c=g[r]);r++)!b||t.nodeName(c,b)?L.push(c):t.merge(L,d(c,b));return void 0===b||b&&t.nodeName(a,b)?t.merge([a],L):L}function g(a,b){for(var d,g=0;null!=(d=a[g]);g++)t._data(d,"globalEval",!b||t._data(b[g],"globalEval"))}
function r(a){sa.test(a.type)&&(a.defaultChecked=a.checked)}function D(a,c,e,f,D){for(var L,l,m,q,z,vb,H,u=a.length,B=b(c),W=[],Ac=0;u>Ac;Ac++)if(l=a[Ac],l||0===l)if("object"===t.type(l))t.merge(W,l.nodeType?[l]:l);else if(Ne.test(l)){q=q||B.appendChild(c.createElement("div"));z=(Zc.exec(l)||["",""])[1].toLowerCase();H=ab[z]||ab._default;q.innerHTML=H[1]+t.htmlPrefilter(l)+H[2];for(L=H[0];L--;)q=q.lastChild;if(!Q.leadingWhitespace&&Cc.test(l)&&W.push(c.createTextNode(Cc.exec(l)[0])),!Q.tbody)for(L=
(l="table"!==z||Fa.test(l)?"<table>"!==H[1]||Fa.test(l)?0:q:q.firstChild)&&l.childNodes.length;L--;)t.nodeName(vb=l.childNodes[L],"tbody")&&!vb.childNodes.length&&l.removeChild(vb);t.merge(W,q.childNodes);for(q.textContent="";q.firstChild;)q.removeChild(q.firstChild);q=B.lastChild}else W.push(c.createTextNode(l));q&&B.removeChild(q);Q.appendChecked||t.grep(d(W,"input"),r);for(Ac=0;l=W[Ac++];)if(f&&-1<t.inArray(l,f))D&&D.push(l);else if(m=t.contains(l.ownerDocument,l),q=d(B.appendChild(l),"script"),
m&&g(q),e)for(L=0;l=q[L++];)Xd.test(l.type||"")&&e.push(l);return B}function H(){return!0}function W(){return!1}function P(){try{return E.activeElement}catch(L){}}function M(a,b,d,g,c,r){var L,e;if("object"==typeof b){"string"!=typeof d&&(g=g||d,d=void 0);for(e in b)M(a,e,d,g,b[e],r);return a}if(null==g&&null==c?(c=d,g=d=void 0):null==c&&("string"==typeof d?(c=g,g=void 0):(c=g,g=d,d=void 0)),!1===c)c=W;else if(!c)return a;return 1===r&&(L=c,c=function(a){return t().off(a),L.apply(this,arguments)},
c.guid=L.guid||(L.guid=t.guid++)),a.each(function(){t.event.add(this,b,c,g,d)})}function Z(a,b){return t.nodeName(a,"table")&&t.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function G(a){return a.type=(null!==t.find.attr(a,"type"))+"/"+a.type,a}function R(a){var b=Qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function I(a,b){if(1===b.nodeType&&t.hasData(a)){var d,g;var c=t._data(a);a=t._data(b,
c);var r=c.events;if(r)for(d in delete a.handle,a.events={},r)for(c=0,g=r[d].length;g>c;c++)t.event.add(b,d,r[d][c]);a.data&&(a.data=t.extend({},a.data))}}function X(a,b,g,c){b=Oa.apply([],b);var r,L,e,f=0,l=a.length,m=l-1,q=b[0],z=t.isFunction(q);if(z||1<l&&"string"==typeof q&&!Q.checkClone&&tc.test(q))return a.each(function(d){var r=a.eq(d);z&&(b[0]=q.call(this,d,r.html()));X(r,b,g,c)});if(l&&(e=D(b,a[0].ownerDocument,!1,a,c),r=e.firstChild,1===e.childNodes.length&&(e=r),r||c)){var H=t.map(d(e,
"script"),G);for(L=H.length;l>f;f++)r=e,f!==m&&(r=t.clone(r,!0,!0),L&&t.merge(H,d(r,"script"))),g.call(a[f],r,f);if(L)for(e=H[H.length-1].ownerDocument,t.map(H,R),f=0;L>f;f++)r=H[f],Xd.test(r.type||"")&&!t._data(r,"globalEval")&&t.contains(e,r)&&(r.src?t._evalUrl&&t._evalUrl(r.src):t.globalEval((r.text||r.textContent||r.innerHTML||"").replace(Lb,"")));e=r=null}return a}function J(a,b,c){for(var r=b?t.filter(b,a):a,L=0;null!=(b=r[L]);L++)c||1!==b.nodeType||t.cleanData(d(b)),b.parentNode&&(c&&t.contains(b.ownerDocument,
b)&&g(d(b,"script")),b.parentNode.removeChild(b));return a}function S(a,b){a=t(b.createElement(a)).appendTo(b.body);b=t.css(a[0],"display");return a.detach(),b}function ba(a){var b=E,d=eb[a];return d||(d=S(a,b),"none"!==d&&d||(fb=(fb||t("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(fb[0].contentWindow||fb[0].contentDocument).document,b.write(),b.close(),d=S(a,b),fb.detach()),eb[a]=d),d}function T(a,b){return{get:function(){return a()?void delete this.get:(this.get=
b).apply(this,arguments)}}}function Y(a){if(a in Yd)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),d=Zd.length;d--;)if(a=Zd[d]+b,a in Yd)return a}function ta(a,b){for(var d,g,c,r=[],L=0,e=a.length;e>L;L++)g=a[L],g.style&&(r[L]=t._data(g,"olddisplay"),d=g.style.display,b?(r[L]||"none"!==d||(g.style.display=""),""===g.style.display&&bb(g)&&(r[L]=t._data(g,"olddisplay",ba(g.nodeName)))):(c=bb(g),(d&&"none"!==d||!c)&&t._data(g,"olddisplay",c?d:t.css(g,"display"))));for(L=0;e>L;L++)g=a[L],g.style&&
(b&&"none"!==g.style.display&&""!==g.style.display||(g.style.display=b?r[L]||"":"none"));return a}function Ia(a,b,d){return(a=Oe.exec(b))?Math.max(0,a[1]-(d||0))+(a[2]||"px"):b}function Ha(a,b,d,g,c){b=d===(g?"border":"content")?4:"width"===b?1:0;for(var r=0;4>b;b+=2)"margin"===d&&(r+=t.css(a,d+ya[b],!0,c)),g?("content"===d&&(r-=t.css(a,"padding"+ya[b],!0,c)),"margin"!==d&&(r-=t.css(a,"border"+ya[b]+"Width",!0,c))):(r+=t.css(a,"padding"+ya[b],!0,c),"padding"!==d&&(r+=t.css(a,"border"+ya[b]+"Width",
!0,c)));return r}function ia(a,b,d){var g=!0,c="width"===b?a.offsetWidth:a.offsetHeight,r=Gb(a),L=Q.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,r);if(0>=c||null==c){if(c=Tb(a,b,r),(0>c||null==c)&&(c=a.style[b]),Yb.test(c))return c;g=L&&(Q.boxSizingReliable()||c===a.style[b]);c=parseFloat(c)||0}return c+Ha(a,b,d||(L?"border":"content"),g,r)+"px"}function va(a,b,d,g,c){return new va.prototype.init(a,b,d,g,c)}function oa(){return a.setTimeout(function(){uc=void 0}),uc=t.now()}function wa(a,b){var d=
{height:a},g=0;for(b=b?1:0;4>g;g+=2-b){var c=ya[g];d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function Ga(a,b,d){for(var g,c=(la.tweeners[b]||[]).concat(la.tweeners["*"]),r=0,L=c.length;L>r;r++)if(g=c[r].call(d,b,a))return g}function fa(a,b){var d,g,c,r,L;for(d in a)if(g=t.camelCase(d),c=b[g],r=a[d],t.isArray(r)&&(c=r[1],r=a[d]=r[0]),d!==g&&(a[g]=r,delete a[d]),L=t.cssHooks[g],L&&"expand"in L)for(d in r=L.expand(r),delete a[g],r)d in a||(a[d]=r[d],b[d]=c);else b[g]=c}function la(a,
b,d){var g,c=0,r=la.prefilters.length,e=t.Deferred().always(function(){delete L.elem}),L=function(){if(g)return!1;var b=uc||oa();b=Math.max(0,f.startTime+f.duration-b);for(var d=1-(b/f.duration||0),c=0,r=f.tweens.length;r>c;c++)f.tweens[c].run(d);return e.notifyWith(a,[f,d,b]),1>d&&r?b:(e.resolveWith(a,[f]),!1)},f=e.promise({elem:a,props:t.extend({},b),opts:t.extend(!0,{specialEasing:{},easing:t.easing._default},d),originalProperties:b,originalOptions:d,startTime:uc||oa(),duration:d.duration,tweens:[],
createTween:function(b,d){b=t.Tween(a,f.opts,b,d,f.opts.specialEasing[b]||f.opts.easing);return f.tweens.push(b),b},stop:function(b){var d=0,c=b?f.tweens.length:0;if(g)return this;for(g=!0;c>d;d++)f.tweens[d].run(1);return b?(e.notifyWith(a,[f,1,0]),e.resolveWith(a,[f,b])):e.rejectWith(a,[f,b]),this}});d=f.props;for(fa(d,f.opts.specialEasing);r>c;c++)if(b=la.prefilters[c].call(f,a,d,f.opts))return t.isFunction(b.stop)&&(t._queueHooks(f.elem,f.opts.queue).stop=t.proxy(b.stop,b)),b;return t.map(d,Ga,
f),t.isFunction(f.opts.start)&&f.opts.start.call(a,f),t.fx.timer(t.extend(L,{elem:a,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function ka(a){return t.attr(a,"class")||""}function ra(a){return function(b,d){"string"!=typeof b&&(d=b,b="*");var g=0,c=b.toLowerCase().match(Cb)||[];if(t.isFunction(d))for(;b=c[g++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(d)):(a[b]=a[b]||[]).push(d)}}function Da(a,
b,d,g){function c(L){var f;return r[L]=!0,t.each(a[L]||[],function(a,L){a=L(b,d,g);return"string"!=typeof a||e||r[a]?e?!(f=a):void 0:(b.dataTypes.unshift(a),c(a),!1)}),f}var r={},e=a===qc;return c(b.dataTypes[0])||!r["*"]&&c("*")}function ea(a,b){var d,g,c=t.ajaxSettings.flatOptions||{};for(g in b)void 0!==b[g]&&((c[g]?a:d||(d={}))[g]=b[g]);return d&&t.extend(!0,a,d),a}function U(a){if(!t.contains(a.ownerDocument||E,a))return!0;for(;a&&1===a.nodeType;){if("none"===(a.style&&a.style.display||t.css(a,
"display"))||"hidden"===a.type)return!0;a=a.parentNode}return!1}function O(a,b,d,g){var c;if(t.isArray(b))t.each(b,function(b,c){d||Pe.test(a)?g(a,c):O(a+"["+("object"==typeof c&&null!=c?b:"")+"]",c,d,g)});else if(d||"object"!==t.type(b))g(a,b);else for(c in b)O(a+"["+c+"]",b[c],d,g)}function Ka(){try{return new a.XMLHttpRequest}catch(L){}}function N(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(L){}}function V(a){return t.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}
var ja=[],E=a.document,pa=ja.slice,Oa=ja.concat,La=ja.push,cb=ja.indexOf,ca={},Ea=ca.toString,Sa=ca.hasOwnProperty,Q={},t=function(a,b){return new t.fn.init(a,b)},gb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Xa=/^-ms-/,Ub=/-([\da-z])/gi,hb=function(a,b){return b.toUpperCase()};$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();$jscomp.initSymbol();$jscomp.initSymbolIterator();t.fn=t.prototype={jquery:"1.12.4",constructor:t,selector:"",length:0,toArray:function(){return pa.call(this)},
get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:pa.call(this)},pushStack:function(a){a=t.merge(this.constructor(),a);return a.prevObject=this,a.context=this.context,a},each:function(a){return t.each(this,a)},map:function(a){return this.pushStack(t.map(this,function(b,d){return a.call(b,d,b)}))},slice:function(){return this.pushStack(pa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=
a&&b>a?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:La,sort:ja.sort,splice:ja.splice};t.extend=t.fn.extend=function(){var a,b,d,g,c=arguments[0]||{},r=1,e=arguments.length,f=!1;"boolean"==typeof c&&(f=c,c=arguments[r]||{},r++);"object"==typeof c||t.isFunction(c)||(c={});for(r===e&&(c=this,r--);e>r;r++)if(null!=(d=arguments[r]))for(b in d){var D=c[b];var l=d[b];c!==l&&(f&&l&&(t.isPlainObject(l)||(a=t.isArray(l)))?(a?(a=!1,g=D&&t.isArray(D)?D:[]):g=D&&t.isPlainObject(D)?
D:{},c[b]=t.extend(f,g,l)):void 0!==l&&(c[b]=l))}return c};t.extend({expando:"jQuery"+("1.12.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===t.type(a)},isArray:Array.isArray||function(a){return"array"===t.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!t.isArray(a)&&0<=b-parseFloat(b)+1},isEmptyObject:function(a){for(var b in a)return!1;return!0},
isPlainObject:function(a){var b;if(!a||"object"!==t.type(a)||a.nodeType||t.isWindow(a))return!1;try{if(a.constructor&&!Sa.call(a,"constructor")&&!Sa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(Ac){return!1}if(!Q.ownFirst)for(b in a)return Sa.call(a,b);for(b in a);return void 0===b||Sa.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ca[Ea.call(a)]||"object":typeof a},globalEval:function(b){b&&t.trim(b)&&(a.execScript||function(b){a.eval.call(a,
b)})(b)},camelCase:function(a){return a.replace(Xa,"ms-").replace(Ub,hb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,g=0;if(e(a))for(d=a.length;d>g&&!1!==b.call(a[g],g,a[g]);g++);else for(g in a)if(!1===b.call(a[g],g,a[g]))break;return a},trim:function(a){return null==a?"":(a+"").replace(gb,"")},makeArray:function(a,b){b=b||[];return null!=a&&(e(Object(a))?t.merge(b,"string"==typeof a?[a]:a):La.call(b,a)),b},inArray:function(a,b,
d){if(b){if(cb)return cb.call(b,a,d);var g=b.length;for(d=d?0>d?Math.max(0,g+d):d:0;g>d;d++)if(d in b&&b[d]===a)return d}return-1},merge:function(a,b){for(var d=+b.length,g=0,c=a.length;d>g;)a[c++]=b[g++];if(d!==d)for(;void 0!==b[g];)a[c++]=b[g++];return a.length=c,a},grep:function(a,b,d){for(var g=[],c=0,r=a.length,e=!d;r>c;c++)d=!b(a[c],c),d!==e&&g.push(a[c]);return g},map:function(a,b,d){var g,c=0,r=[];if(e(a))for(g=a.length;g>c;c++){var f=b(a[c],c,d);null!=f&&r.push(f)}else for(c in a)f=b(a[c],
c,d),null!=f&&r.push(f);return Oa.apply([],r)},guid:1,proxy:function(a,b){var d,g,c;return"string"==typeof b&&(c=a[b],b=a,a=c),t.isFunction(a)?(d=pa.call(arguments,2),g=function(){return a.apply(b||this,d.concat(pa.call(arguments)))},g.guid=a.guid=a.guid||t.guid++,g):void 0},now:function(){return+new Date},support:Q});"function"==typeof Symbol&&(t.fn[Symbol.iterator]=ja[Symbol.iterator]);t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ca["[object "+
b+"]"]=b.toLowerCase()});var Aa=function(a){function b(a,b,d,g){var c,r,e,f,D=b&&b.ownerDocument,l=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==l&&9!==l&&11!==l)return d;if(!g&&((b?b.ownerDocument||b:Ra)!==I&&rb(b),b=b||I,J)){if(11!==l&&(f=la.exec(a)))if(c=f[1])if(9===l){if(!(r=b.getElementById(c)))return d;if(r.id===c)return d.push(r),d}else{if(D&&(r=D.getElementById(c))&&Z(b,r)&&r.id===c)return d.push(r),d}else{if(f[2])return ka.apply(d,b.getElementsByTagName(a)),d;if((c=f[3])&&ya.getElementsByClassName&&
b.getElementsByClassName)return ka.apply(d,b.getElementsByClassName(c)),d}if(!(!ya.qsa||Y[a+" "]||G&&G.test(a))){if(1!==l){D=b;var m=a}else if("object"!==b.nodeName.toLowerCase()){(e=b.getAttribute("id"))?e=e.replace(La,"\\$&"):b.setAttribute("id",e=na);f=V(a);c=f.length;for(r=U.test(e)?"#"+e:"[id='"+e+"']";c--;)f[c]=r+" "+q(f[c]);m=f.join(",");D=fa.test(a)&&L(b.parentNode)||b}if(m)try{return ka.apply(d,D.querySelectorAll(m)),d}catch(Bg){}finally{e===na&&b.removeAttribute("id")}}}return X(a.replace(ra,
"$1"),b,d,g)}function d(){function a(d,g){return b.push(d+" ")>sa.cacheLength&&delete a[b.shift()],a[d+" "]=g}var b=[];return a}function g(a){return a[na]=!0,a}function c(a){var b=I.createElement("div");try{return!!a(b)}catch(xg){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function r(a,b){a=a.split("|");for(var d=a.length;d--;)sa.attrHandle[a[d]]=b}function e(a,b){var d=b&&a,g=d&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(g)return g;
if(d)for(;d=d.nextSibling;)if(d===b)return-1;return a?1:-1}function f(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function D(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function l(a){return g(function(b){return b=+b,g(function(d,g){for(var c,r=a([],d.length,b),e=r.length;e--;)d[c=r[e]]&&(d[c]=!(g[c]=d[c]))})})}function L(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function m(){}function q(a){for(var b=
0,d=a.length,g="";d>b;b++)g+=a[b].value;return g}function z(a,b,d){var g=b.dir,c=d&&"parentNode"===g,r=ba++;return b.first?function(b,d,r){for(;b=b[g];)if(1===b.nodeType||c)return a(b,d,r)}:function(b,d,e){var f,D,l,L=[T,r];if(e)for(;b=b[g];){if((1===b.nodeType||c)&&a(b,d,e))return!0}else for(;b=b[g];)if(1===b.nodeType||c){if(l=b[na]||(b[na]={}),D=l[b.uniqueID]||(l[b.uniqueID]={}),(f=D[g])&&f[0]===T&&f[1]===r)return L[2]=f[2];if(D[g]=L,L[2]=a(b,d,e))return!0}}}function H(a){return 1<a.length?function(b,
d,g){for(var c=a.length;c--;)if(!a[c](b,d,g))return!1;return!0}:a[0]}function t(a,b,d,g,c){for(var r,e=[],f=0,D=a.length,l=null!=b;D>f;f++)(r=a[f])&&(d&&!d(r,g,c)||(e.push(r),l&&b.push(f)));return e}function u(a,d,c,r,e,f){return r&&!r[na]&&(r=u(r)),e&&!e[na]&&(e=u(e,f)),g(function(g,f,D,l){var L,m=[],q=[],z=f.length,H;if(!(H=g)){H=d||"*";for(var u=D.nodeType?[D]:D,B=[],W=0,vb=u.length;vb>W;W++)b(H,u[W],B);H=B}H=!a||!g&&d?H:t(H,m,a,D,l);u=c?e||(g?a:z||r)?[]:f:H;if(c&&c(H,u,D,l),r){var v=t(u,q);r(v,
[],D,l);for(D=v.length;D--;)(L=v[D])&&(u[q[D]]=!(H[q[D]]=L))}if(g){if(e||a){if(e){v=[];for(D=u.length;D--;)(L=u[D])&&v.push(H[D]=L);e(null,u=[],v,l)}for(D=u.length;D--;)(L=u[D])&&-1<(v=e?aa(g,L):m[D])&&(g[v]=!(f[v]=L))}}else u=t(u===f?u.splice(z,u.length):u),e?e(null,f,u,l):ka.apply(f,u)})}function B(a){var b,d,g=a.length,c=sa.relative[a[0].type];var r=c||sa.relative[" "];for(var e=c?1:0,f=z(function(a){return a===b},r,!0),D=z(function(a){return-1<aa(b,a)},r,!0),l=[function(a,d,g){a=!c&&(g||d!==R)||
((b=d).nodeType?f(a,d,g):D(a,d,g));return b=null,a}];g>e;e++)if(r=sa.relative[a[e].type])l=[z(H(l),r)];else{if(r=sa.filter[a[e].type].apply(null,a[e].matches),r[na]){for(d=++e;g>d&&!sa.relative[a[d].type];d++);return u(1<e&&H(l),1<e&&q(a.slice(0,e-1).concat({value:" "===a[e-2].type?"*":""})).replace(ra,"$1"),r,d>e&&B(a.slice(e,d)),g>d&&B(a=a.slice(d)),g>d&&q(a))}l.push(r)}return H(l)}function W(a,d){var c=0<d.length,r=0<a.length,e=function(g,e,f,D,l){var L,m,q=0,z="0",H=g&&[],u=[],B=R,W=g||r&&sa.find.TAG("*",
l),vb=T+=null==B?1:Math.random()||.1,v=W.length;for(l&&(R=e===I||e||l);z!==v&&null!=(L=W[z]);z++){if(r&&L){var A=0;for(e||L.ownerDocument===I||(rb(L),f=!J);m=a[A++];)if(m(L,e||I,f)){D.push(L);break}l&&(T=vb)}c&&((L=!m&&L)&&q--,g&&H.push(L))}if(q+=z,c&&z!==q){for(A=0;m=d[A++];)m(H,u,e,f);if(g){if(0<q)for(;z--;)H[z]||u[z]||(u[z]=ia.call(D));u=t(u)}ka.apply(D,u);l&&!g&&0<u.length&&1<q+d.length&&b.uniqueSort(D)}return l&&(T=vb,R=B),H};return c?g(e):e}var v,A,X,R,C,xb,I,P,J,G,M,S,Z,na="sizzle"+1*new Date,
Ra=a.document,T=0,ba=0,ha=d(),Ia=d(),Y=d(),ta=function(a,b){return a===b&&(xb=!0),0},E={}.hasOwnProperty,db=[],ia=db.pop,Q=db.push,ka=db.push,oa=db.slice,aa=function(a,b){for(var d=0,g=a.length;g>d;d++)if(a[d]===b)return d;return-1},Ha=/[\x20\t\r\n\f]+/g,ra=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Dc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,va=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,Da=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,Bc=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
U=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ea={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},wa=/^(?:input|select|textarea|button)$/i,O=/^h\d$/i,Ib=/^[^{]+\{\s*\[native \w/,
la=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,fa=/[+~]/,La=/'|\\/g,N=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Ga=function(a,b,d){a="0x"+b-65536;return a!==a||d?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},Xb=function(){rb()};try{ka.apply(db=oa.call(Ra.childNodes),Ra.childNodes),db[Ra.childNodes.length].nodeType}catch(yf){ka={apply:db.length?function(a,b){Q.apply(a,oa.call(b))}:function(a,b){for(var d=a.length,g=0;a[d++]=b[g++];);a.length=d-1}}}var ya=b.support=
{};var ca=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var rb=b.setDocument=function(a){var b,d;a=a?a.ownerDocument||a:Ra;return a!==I&&9===a.nodeType&&a.documentElement?(I=a,P=I.documentElement,J=!ca(I),(d=I.defaultView)&&d.top!==d&&(d.addEventListener?d.addEventListener("unload",Xb,!1):d.attachEvent&&d.attachEvent("onunload",Xb)),ya.attributes=c(function(a){return a.className="i",!a.getAttribute("className")}),ya.getElementsByTagName=c(function(a){return a.appendChild(I.createComment("")),
!a.getElementsByTagName("*").length}),ya.getElementsByClassName=Ib.test(I.getElementsByClassName),ya.getById=c(function(a){return P.appendChild(a).id=na,!I.getElementsByName||!I.getElementsByName(na).length}),ya.getById?(sa.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J)return(a=b.getElementById(a))?[a]:[]},sa.filter.ID=function(a){var b=a.replace(N,Ga);return function(a){return a.getAttribute("id")===b}}):(delete sa.find.ID,sa.filter.ID=function(a){var b=a.replace(N,Ga);return function(a){return(a=
"undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}}),sa.find.TAG=ya.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):ya.qsa?b.querySelectorAll(a):void 0}:function(a,b){var d=[],g=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[g++];)1===a.nodeType&&d.push(a);return d}return b},sa.find.CLASS=ya.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&J?b.getElementsByClassName(a):
void 0},M=[],G=[],(ya.qsa=Ib.test(I.querySelectorAll))&&(c(function(a){P.appendChild(a).innerHTML="<a id='"+na+"'></a><select id='"+na+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&G.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||G.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~="+na+"-]").length||G.push("~=");a.querySelectorAll(":checked").length||G.push(":checked");a.querySelectorAll("a#"+na+"+*").length||G.push(".#.+[+~]")}),c(function(a){var b=I.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&G.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");a.querySelectorAll(":enabled").length||G.push(":enabled",":disabled");a.querySelectorAll("*,:x");G.push(",.*:")})),(ya.matchesSelector=
Ib.test(S=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&c(function(a){ya.disconnectedMatch=S.call(a,"div");S.call(a,"[s!='']:x");M.push("!=",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")}),
G=G.length&&new RegExp(G.join("|")),M=M.length&&new RegExp(M.join("|")),b=Ib.test(P.compareDocumentPosition),Z=b||Ib.test(P.contains)?function(a,b){var d=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!(!b||1!==b.nodeType||!(d.contains?d.contains(b):a.compareDocumentPosition&&16&a.compareDocumentPosition(b)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},ta=b?function(a,b){if(a===b)return xb=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;
return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!ya.sortDetached&&b.compareDocumentPosition(a)===d?a===I||a.ownerDocument===Ra&&Z(Ra,a)?-1:b===I||b.ownerDocument===Ra&&Z(Ra,b)?1:C?aa(C,a)-aa(C,b):0:4&d?-1:1)}:function(a,b){if(a===b)return xb=!0,0;var d=0,g=a.parentNode,c=b.parentNode,r=[a],f=[b];if(!g||!c)return a===I?-1:b===I?1:g?-1:c?1:C?aa(C,a)-aa(C,b):0;if(g===c)return e(a,b);for(;a=a.parentNode;)r.unshift(a);for(a=b;a=a.parentNode;)f.unshift(a);for(;r[d]===
f[d];)d++;return d?e(r[d],f[d]):r[d]===Ra?-1:f[d]===Ra?1:0},I):I};b.matches=function(a,d){return b(a,null,null,d)};b.matchesSelector=function(a,d){if((a.ownerDocument||a)!==I&&rb(a),d=d.replace(Da,"='$1']"),!(!ya.matchesSelector||!J||Y[d+" "]||M&&M.test(d)||G&&G.test(d)))try{var g=S.call(a,d);if(g||ya.disconnectedMatch||a.document&&11!==a.document.nodeType)return g}catch($d){}return 0<b(d,I,null,[a]).length};b.contains=function(a,b){return(a.ownerDocument||a)!==I&&rb(a),Z(a,b)};b.attr=function(a,
b){(a.ownerDocument||a)!==I&&rb(a);var d=sa.attrHandle[b.toLowerCase()];d=d&&E.call(sa.attrHandle,b.toLowerCase())?d(a,b,!J):void 0;return void 0!==d?d:ya.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,d=[],g=0,c=0;if(xb=!ya.detectDuplicates,C=!ya.sortStable&&a.slice(0),a.sort(ta),xb){for(;b=a[c++];)b===a[c]&&(g=d.push(c));for(;g--;)a.splice(d[g],1)}return C=
null,a};var bb=b.getText=function(a){var b,d="",g=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=bb(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[g++];)d+=bb(b);return d};var sa=b.selectors={cacheLength:50,createPseudo:g,match:ea,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=
a[1].replace(N,Ga),a[3]=(a[3]||a[4]||a[5]||"").replace(N,Ga),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,d=!a[6]&&a[2];return ea.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":d&&Bc.test(d)&&(b=V(d,!0))&&(b=d.indexOf(")",d.length-b)-d.length)&&(a[0]=a[0].slice(0,
b),a[2]=d.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(N,Ga).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ha[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ha(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,d,g){return function(c){c=b.attr(c,
a);return null==c?"!="===d:d?(c+="","="===d?c===g:"!="===d?c!==g:"^="===d?g&&0===c.indexOf(g):"*="===d?g&&-1<c.indexOf(g):"$="===d?g&&c.slice(-g.length)===g:"~="===d?-1<(" "+c.replace(Ha," ")+" ").indexOf(g):"|="===d?c===g||c.slice(0,g.length+1)===g+"-":!1):!0}},CHILD:function(a,b,d,g,c){var r="nth"!==a.slice(0,3),e="last"!==a.slice(-4),f="of-type"===b;return 1===g&&0===c?function(a){return!!a.parentNode}:function(b,d,D){var l,L;d=r!==e?"nextSibling":"previousSibling";var m=b.parentNode,q=f&&b.nodeName.toLowerCase();
D=!D&&!f;var z=!1;if(m){if(r){for(;d;){for(l=b;l=l[d];)if(f?l.nodeName.toLowerCase()===q:1===l.nodeType)return!1;var H=d="only"===a&&!H&&"nextSibling"}return!0}if(H=[e?m.firstChild:m.lastChild],e&&D){l=m;var u=l[na]||(l[na]={});var t=u[l.uniqueID]||(u[l.uniqueID]={});var B=t[a]||[];z=(L=B[0]===T&&B[1])&&B[2];for(l=L&&m.childNodes[L];l=++L&&l&&l[d]||(z=L=0)||H.pop();)if(1===l.nodeType&&++z&&l===b){t[a]=[T,L,z];break}}else if(D&&(l=b,u=l[na]||(l[na]={}),t=u[l.uniqueID]||(u[l.uniqueID]={}),B=t[a]||[],
L=B[0]===T&&B[1],z=L),!1===z)for(;(l=++L&&l&&l[d]||(z=L=0)||H.pop())&&((f?l.nodeName.toLowerCase()!==q:1!==l.nodeType)||!++z||(D&&(u=l[na]||(l[na]={}),t=u[l.uniqueID]||(u[l.uniqueID]={}),t[a]=[T,z]),l!==b)););return z-=c,z===g||0===z%g&&0<=z/g}}},PSEUDO:function(a,d){var c,r=sa.pseudos[a]||sa.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return r[na]?r(d):1<r.length?(c=[a,a,"",d],sa.setFilters.hasOwnProperty(a.toLowerCase())?g(function(a,b){for(var g,c=r(a,d),e=c.length;e--;)g=aa(a,
c[e]),a[g]=!(b[g]=c[e])}):function(a){return r(a,0,c)}):r}},pseudos:{not:g(function(a){var b=[],d=[],c=A(a.replace(ra,"$1"));return c[na]?g(function(a,b,d,g){var r;d=c(a,null,g,[]);for(g=a.length;g--;)(r=d[g])&&(a[g]=!(b[g]=r))}):function(a,g,r){return b[0]=a,c(b,null,r,d),b[0]=null,!d.pop()}}),has:g(function(a){return function(d){return 0<b(a,d).length}}),contains:g(function(a){return a=a.replace(N,Ga),function(b){return-1<(b.textContent||b.innerText||bb(b)).indexOf(a)}}),lang:g(function(a){return U.test(a||
"")||b.error("unsupported lang: "+a),a=a.replace(N,Ga).toLowerCase(),function(b){var d;do if(d=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var d=a.location&&a.location.hash;return d&&d.slice(1)===b.id},root:function(a){return a===P},focus:function(a){return a===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===
a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!sa.pseudos.empty(a)},header:function(a){return O.test(a.nodeName)},input:function(a){return wa.test(a.nodeName)},button:function(a){var b=
a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,d){return[0>d?d+b:d]}),even:l(function(a,b){for(var d=0;b>d;d+=2)a.push(d);return a}),odd:l(function(a,b){for(var d=1;b>d;d+=2)a.push(d);return a}),lt:l(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);
return a}),gt:l(function(a,b,d){for(d=0>d?d+b:d;++d<b;)a.push(d);return a})}};sa.pseudos.nth=sa.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})sa.pseudos[v]=f(v);for(v in{submit:!0,reset:!0})sa.pseudos[v]=D(v);m.prototype=sa.filters=sa.pseudos;sa.setFilters=new m;var V=b.tokenize=function(a,d){var g,c,r,e,f;if(e=Ia[a+" "])return d?0:e.slice(0);e=a;var D=[];for(f=sa.preFilter;e;){l&&!(g=Dc.exec(e))||(g&&(e=e.slice(g[0].length)||e),D.push(c=[]));var l=!1;(g=va.exec(e))&&(l=g.shift(),
c.push({value:l,type:g[0].replace(ra," ")}),e=e.slice(l.length));for(r in sa.filter)!(g=ea[r].exec(e))||f[r]&&!(g=f[r](g))||(l=g.shift(),c.push({value:l,type:r,matches:g}),e=e.slice(l.length));if(!l)break}return d?e.length:e?b.error(a):Ia(a,D).slice(0)};return A=b.compile=function(a,b){var d,g=[],c=[],r=Y[a+" "];if(!r){b||(b=V(a));for(d=b.length;d--;)r=B(b[d]),r[na]?g.push(r):c.push(r);r=Y(a,W(c,g));r.selector=a}return r},X=b.select=function(a,b,d,g){var c,r,e,f,l,D="function"==typeof a&&a,m=!g&&
V(a=D.selector||a);if(d=d||[],1===m.length){if(r=m[0]=m[0].slice(0),2<r.length&&"ID"===(e=r[0]).type&&ya.getById&&9===b.nodeType&&J&&sa.relative[r[1].type]){if(b=(sa.find.ID(e.matches[0].replace(N,Ga),b)||[])[0],!b)return d;D&&(b=b.parentNode);a=a.slice(r.shift().value.length)}for(c=ea.needsContext.test(a)?0:r.length;c--&&(e=r[c],!sa.relative[f=e.type]);)if((l=sa.find[f])&&(g=l(e.matches[0].replace(N,Ga),fa.test(r[0].type)&&L(b.parentNode)||b))){if(r.splice(c,1),a=g.length&&q(r),!a)return ka.apply(d,
g),d;break}}return(D||A(a,m))(g,b,!J,d,!b||fa.test(a)&&L(b.parentNode)||b),d},ya.sortStable=na.split("").sort(ta).join("")===na,ya.detectDuplicates=!!xb,rb(),ya.sortDetached=c(function(a){return 1&a.compareDocumentPosition(I.createElement("div"))}),c(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||r("type|href|height|width",function(a,b,d){return d?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),ya.attributes&&c(function(a){return a.innerHTML="<input/>",
a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||r("value",function(a,b,d){return d||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),c(function(a){return null==a.getAttribute("disabled")})||r("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,d){var g;return d?void 0:!0===a[b]?b.toLowerCase():(g=a.getAttributeNode(b))&&g.specified?g.value:null}),b}(a);t.find=Aa;t.expr=
Aa.selectors;t.expr[":"]=t.expr.pseudos;t.uniqueSort=t.unique=Aa.uniqueSort;t.text=Aa.getText;t.isXMLDoc=Aa.isXML;t.contains=Aa.contains;var Na=function(a,b,d){for(var g=[],c=void 0!==d;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(c&&t(a).is(d))break;g.push(a)}return g},Zb=function(a,b){for(var d=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&d.push(a);return d},Rb=t.expr.match.needsContext,pb=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Wa=/^.[^:#\[\.,]*$/;t.filter=function(a,b,d){var g=b[0];return d&&(a=":not("+
a+")"),1===b.length&&1===g.nodeType?t.find.matchesSelector(g,a)?[g]:[]:t.find.matches(a,t.grep(b,function(a){return 1===a.nodeType}))};t.fn.extend({find:function(a){var b,d=[],g=this,c=g.length;if("string"!=typeof a)return this.pushStack(t(a).filter(function(){for(b=0;c>b;b++)if(t.contains(g[b],this))return!0}));for(b=0;c>b;b++)t.find(a,g[b],d);return d=this.pushStack(1<c?t.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(m(this,a||[],!1))},not:function(a){return this.pushStack(m(this,
a||[],!0))},is:function(a){return!!m(this,"string"==typeof a&&Rb.test(a)?t(a):a||[],!1).length}});var Db=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(t.fn.init=function(a,b,d){var g,c;if(!a)return this;if(d=d||qb,"string"==typeof a){if(g="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Db.exec(a),!g||!g[1]&&b)return!b||b.jquery?(b||d).find(a):this.constructor(b).find(a);if(g[1]){if(b=b instanceof t?b[0]:b,t.merge(this,t.parseHTML(g[1],b&&b.nodeType?b.ownerDocument||b:E,!0)),pb.test(g[1])&&
t.isPlainObject(b))for(g in b)t.isFunction(this[g])?this[g](b[g]):this.attr(g,b[g]);return this}if(c=E.getElementById(g[2]),c&&c.parentNode){if(c.id!==g[2])return qb.find(a);this.length=1;this[0]=c}return this.context=E,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):t.isFunction(a)?"undefined"!=typeof d.ready?d.ready(a):a(t):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),t.makeArray(a,this))}).prototype=t.fn;var qb=t(E);var wb=/^(?:parents|prev(?:Until|All))/,
Vb={children:!0,contents:!0,next:!0,prev:!0};t.fn.extend({has:function(a){var b,d=t(a,this),g=d.length;return this.filter(function(){for(b=0;g>b;b++)if(t.contains(this,d[b]))return!0})},closest:function(a,b){for(var d,g=0,c=this.length,r=[],e=Rb.test(a)||"string"!=typeof a?t(a,b||this.context):0;c>g;g++)for(d=this[g];d&&d!==b;d=d.parentNode)if(11>d.nodeType&&(e?-1<e.index(d):1===d.nodeType&&t.find.matchesSelector(d,a))){r.push(d);break}return this.pushStack(1<r.length?t.uniqueSort(r):r)},index:function(a){return a?
"string"==typeof a?t.inArray(this[0],t(a)):t.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(t.uniqueSort(t.merge(this.get(),t(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});t.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return Na(a,"parentNode")},parentsUntil:function(a,b,d){return Na(a,"parentNode",d)},next:function(a){return l(a,
"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return Na(a,"nextSibling")},prevAll:function(a){return Na(a,"previousSibling")},nextUntil:function(a,b,d){return Na(a,"nextSibling",d)},prevUntil:function(a,b,d){return Na(a,"previousSibling",d)},siblings:function(a){return Zb((a.parentNode||{}).firstChild,a)},children:function(a){return Zb(a.firstChild)},contents:function(a){return t.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:t.merge([],a.childNodes)}},
function(a,b){t.fn[a]=function(d,g){var c=t.map(this,b,d);return"Until"!==a.slice(-5)&&(g=d),g&&"string"==typeof g&&(c=t.filter(g,c)),1<this.length&&(Vb[a]||(c=t.uniqueSort(c)),wb.test(a)&&(c=c.reverse())),this.pushStack(c)}});var Cb=/\S+/g;t.Callbacks=function(a){a="string"==typeof a?f(a):t.extend({},a);var b,d,g,c,r=[],e=[],l=-1,D=function(){c=a.once;for(g=b=!0;e.length;l=-1)for(d=e.shift();++l<r.length;)!1===r[l].apply(d[0],d[1])&&a.stopOnFalse&&(l=r.length,d=!1);a.memory||(d=!1);b=!1;c&&(r=d?
[]:"")},m={add:function(){return r&&(d&&!b&&(l=r.length-1,e.push(d)),function Ca(b){t.each(b,function(b,d){t.isFunction(d)?a.unique&&m.has(d)||r.push(d):d&&d.length&&"string"!==t.type(d)&&Ca(d)})}(arguments),d&&!b&&D()),this},remove:function(){return t.each(arguments,function(a,b){for(var d;-1<(d=t.inArray(b,r,d));)r.splice(d,1),l>=d&&l--}),this},has:function(a){return a?-1<t.inArray(a,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return c=e=[],r=d="",this},disabled:function(){return!r},
lock:function(){return c=!0,d||m.disable(),this},locked:function(){return!!c},fireWith:function(a,d){return c||(d=d||[],d=[a,d.slice?d.slice():d],e.push(d),b||D()),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!g}};return m};t.extend({Deferred:function(a){var b=[["resolve","done",t.Callbacks("once memory"),"resolved"],["reject","fail",t.Callbacks("once memory"),"rejected"],["notify","progress",t.Callbacks("memory")]],d="pending",g={state:function(){return d},
always:function(){return c.done(arguments).fail(arguments),this},then:function(){var a=arguments;return t.Deferred(function(d){t.each(b,function(b,r){var e=t.isFunction(a[b])&&a[b];c[r[1]](function(){var a=e&&e.apply(this,arguments);a&&t.isFunction(a.promise)?a.promise().progress(d.notify).done(d.resolve).fail(d.reject):d[r[0]+"With"](this===g?d.promise():this,e?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?t.extend(a,g):g}},c={};return g.pipe=g.then,t.each(b,function(a,
r){var e=r[2],f=r[3];g[r[1]]=e.add;f&&e.add(function(){d=f},b[1^a][2].disable,b[2][2].lock);c[r[0]]=function(){return c[r[0]+"With"](this===c?g:this,arguments),this};c[r[0]+"With"]=e.fireWith}),g.promise(c),a&&a.call(c,c),c},when:function(a){var b=0,d=pa.call(arguments),g=d.length,c=1!==g||a&&t.isFunction(a.promise)?g:0,r=1===c?a:t.Deferred(),e=function(a,b,d){return function(g){b[a]=this;d[a]=1<arguments.length?pa.call(arguments):g;d===l?r.notifyWith(b,d):--c||r.resolveWith(b,d)}},f;if(1<g){var l=
Array(g);var D=Array(g);for(f=Array(g);g>b;b++)d[b]&&t.isFunction(d[b].promise)?d[b].promise().progress(e(b,D,l)).done(e(b,f,d)).fail(r.reject):--c}return c||r.resolveWith(f,d),r.promise()}});var Wb;t.fn.ready=function(a){return t.ready.promise().done(a),this};t.extend({isReady:!1,readyWait:1,holdReady:function(a){a?t.readyWait++:t.ready(!0)},ready:function(a){(!0===a?--t.readyWait:t.isReady)||(t.isReady=!0,!0!==a&&0<--t.readyWait||(Wb.resolveWith(E,[t]),t.fn.triggerHandler&&(t(E).triggerHandler("ready"),
t(E).off("ready"))))}});t.ready.promise=function(b){if(!Wb)if(Wb=t.Deferred(),"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll)a.setTimeout(t.ready);else if(E.addEventListener)E.addEventListener("DOMContentLoaded",z),a.addEventListener("load",z);else{E.attachEvent("onreadystatechange",z);a.attachEvent("onload",z);var d=!1;try{d=null==a.frameElement&&E.documentElement}catch(Ac){}d&&d.doScroll&&!function xf(){if(!t.isReady){try{d.doScroll("left")}catch(oc){return a.setTimeout(xf,
50)}q();t.ready()}}()}return Wb.promise(b)};t.ready.promise();for(var xb in t(Q))break;Q.ownFirst="0"===xb;Q.inlineBlockNeedsLayout=!1;t(function(){var a,b,d,g;(d=E.getElementsByTagName("body")[0])&&d.style&&(b=E.createElement("div"),g=E.createElement("div"),g.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(g).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",Q.inlineBlockNeedsLayout=
a=3===b.offsetWidth,a&&(d.style.zoom=1)),d.removeChild(g))});(function(){var a=E.createElement("div");Q.deleteExpando=!0;try{delete a.test}catch(vb){Q.deleteExpando=!1}})();var na=function(a){var b=t.noData[(a.nodeName+" ").toLowerCase()],d=+a.nodeType||1;return 1!==d&&9!==d?!1:!b||!0!==b&&a.getAttribute("classid")===b},Ra=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,db=/([A-Z])/g;t.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=
a.nodeType?t.cache[a[t.expando]]:a[t.expando],!!a&&!u(a)},data:function(a,b,d){return C(a,b,d)},removeData:function(a,b){return A(a,b)},_data:function(a,b,d){return C(a,b,d,!0)},_removeData:function(a,b){return A(a,b,!0)}});t.fn.extend({data:function(a,b){var d,g,c,r=this[0],e=r&&r.attributes;if(void 0===a){if(this.length&&(c=t.data(r),1===r.nodeType&&!t._data(r,"parsedAttrs"))){for(d=e.length;d--;)e[d]&&(g=e[d].name,0===g.indexOf("data-")&&(g=t.camelCase(g.slice(5)),B(r,g,c[g])));t._data(r,"parsedAttrs",
!0)}return c}return"object"==typeof a?this.each(function(){t.data(this,a)}):1<arguments.length?this.each(function(){t.data(this,a,b)}):r?B(r,a,t.data(r,a)):void 0},removeData:function(a){return this.each(function(){t.removeData(this,a)})}});t.extend({queue:function(a,b,d){var g;return a?(b=(b||"fx")+"queue",g=t._data(a,b),d&&(!g||t.isArray(d)?g=t._data(a,b,t.makeArray(d)):g.push(d)),g||[]):void 0},dequeue:function(a,b){b=b||"fx";var d=t.queue(a,b),g=d.length,c=d.shift(),r=t._queueHooks(a,b),e=function(){t.dequeue(a,
b)};"inprogress"===c&&(c=d.shift(),g--);c&&("fx"===b&&d.unshift("inprogress"),delete r.stop,c.call(a,e,r));!g&&r&&r.empty.fire()},_queueHooks:function(a,b){var d=b+"queueHooks";return t._data(a,d)||t._data(a,d,{empty:t.Callbacks("once memory").add(function(){t._removeData(a,b+"queue");t._removeData(a,d)})})}});t.fn.extend({queue:function(a,b){var d=2;return"string"!=typeof a&&(b=a,a="fx",d--),arguments.length<d?t.queue(this[0],a):void 0===b?this:this.each(function(){var d=t.queue(this,a,b);t._queueHooks(this,
a);"fx"===a&&"inprogress"!==d[0]&&t.dequeue(this,a)})},dequeue:function(a){return this.each(function(){t.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,g=1,c=t.Deferred(),r=this,e=this.length,f=function(){--g||c.resolveWith(r,[r])};"string"!=typeof a&&(b=a,a=void 0);for(a=a||"fx";e--;)(d=t._data(r[e],a+"queueHooks"))&&d.empty&&(g++,d.empty.add(f));return f(),c.promise(b)}});(function(){var a;Q.shrinkWrapBlocks=function(){if(null!=a)return a;a=
!1;var b,d,g;return d=E.getElementsByTagName("body")[0],d&&d.style?(b=E.createElement("div"),g=E.createElement("div"),g.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",d.appendChild(g).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(E.createElement("div")).style.width="5px",a=3!==b.offsetWidth),
d.removeChild(g),a):void 0}})();var Dc=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bc=new RegExp("^(?:([+-])=|)("+Dc+")([a-z%]*)$","i"),ya=["Top","Right","Bottom","Left"],bb=function(a,b){return a=b||a,"none"===t.css(a,"display")||!t.contains(a.ownerDocument,a)},rb=function(a,b,d,g,c,r,e){var f=0,l=a.length,D=null==d;if("object"===t.type(d))for(f in c=!0,d)rb(a,b,f,d[f],!0,r,e);else if(void 0!==g&&(c=!0,t.isFunction(g)||(e=!0),D&&(e?(b.call(a,g),b=null):(D=b,b=function(a,b,d){return D.call(t(a),
d)})),b))for(;l>f;f++)b(a[f],d,e?g:g.call(a[f],f,b(a[f],d)));return c?a:D?b.call(a):l?b(a[0],d):r},sa=/^(?:checkbox|radio)$/i,Zc=/<([\w:-]+)/,Xd=/^$|\/(?:java|ecma)script/i,Cc=/^\s+/;!function(){var a=E.createElement("div"),b=E.createDocumentFragment(),d=E.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Q.leadingWhitespace=3===a.firstChild.nodeType;Q.tbody=!a.getElementsByTagName("tbody").length;Q.htmlSerialize=!!a.getElementsByTagName("link").length;
Q.html5Clone="<:nav></:nav>"!==E.createElement("nav").cloneNode(!0).outerHTML;d.type="checkbox";d.checked=!0;b.appendChild(d);Q.appendChecked=d.checked;a.innerHTML="<textarea>x</textarea>";Q.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;b.appendChild(a);d=E.createElement("input");d.setAttribute("type","radio");d.setAttribute("checked","checked");d.setAttribute("name","t");a.appendChild(d);Q.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;Q.noCloneEvent=!!a.addEventListener;a[t.expando]=
1;Q.attributes=!a.getAttribute(t.expando)}();var ab={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Q.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};ab.optgroup=ab.option;ab.tbody=ab.tfoot=ab.colgroup=
ab.caption=ab.thead;ab.th=ab.td;var Ne=/<|&#?\w+;/,Fa=/<tbody/i;!function(){var b,d=E.createElement("div");for(b in{submit:!0,change:!0,focusin:!0}){var g="on"+b;(Q[b]=g in a)||(d.setAttribute(g,"t"),Q[b]=!1===d.attributes[g].expando)}}();var bd=/^(?:input|select|textarea)$/i,de=/^key/,yd=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,cd=/^(?:focusinfocus|focusoutblur)$/,dd=/^([^.]*)(?:\.(.+)|)/;t.event={global:{},add:function(a,b,d,g,c){var r,e,f,l,D,m,q,z;if(e=t._data(a)){d.handler&&(f=d,d=f.handler,
c=f.selector);d.guid||(d.guid=t.guid++);(r=e.events)||(r=e.events={});(D=e.handle)||(D=e.handle=function(a){return"undefined"==typeof t||a&&t.event.triggered===a.type?void 0:t.event.dispatch.apply(D.elem,arguments)},D.elem=a);b=(b||"").match(Cb)||[""];for(e=b.length;e--;){var L=dd.exec(b[e])||[];var H=z=L[1];L=(L[2]||"").split(".").sort();H&&(l=t.event.special[H]||{},H=(c?l.delegateType:l.bindType)||H,l=t.event.special[H]||{},m=t.extend({type:H,origType:z,data:g,handler:d,guid:d.guid,selector:c,needsContext:c&&
t.expr.match.needsContext.test(c),namespace:L.join(".")},f),(q=r[H])||(q=r[H]=[],q.delegateCount=0,l.setup&&!1!==l.setup.call(a,g,L,D)||(a.addEventListener?a.addEventListener(H,D,!1):a.attachEvent&&a.attachEvent("on"+H,D))),l.add&&(l.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),c?q.splice(q.delegateCount++,0,m):q.push(m),t.event.global[H]=!0)}a=null}},remove:function(a,b,d,g,c){var r,e,f,l,D,m,q,z,L=t.hasData(a)&&t._data(a);if(L&&(D=L.events)){b=(b||"").match(Cb)||[""];for(l=b.length;l--;)if(e=
dd.exec(b[l])||[],m=z=e[1],q=(e[2]||"").split(".").sort(),m){var H=t.event.special[m]||{};m=(g?H.delegateType:H.bindType)||m;var u=D[m]||[];e=e[2]&&new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=r=u.length;r--;){var B=u[r];!c&&z!==B.origType||d&&d.guid!==B.guid||e&&!e.test(B.namespace)||g&&g!==B.selector&&("**"!==g||!B.selector)||(u.splice(r,1),B.selector&&u.delegateCount--,H.remove&&H.remove.call(a,B))}f&&!u.length&&(H.teardown&&!1!==H.teardown.call(a,q,L.handle)||t.removeEvent(a,
m,L.handle),delete D[m])}else for(m in D)t.event.remove(a,m+b[l],d,g,!0);t.isEmptyObject(D)&&(delete L.handle,t._removeData(a,"events"))}},trigger:function(b,d,g,c){var r,e,f,l,D=[g||E],m=Sa.call(b,"type")?b.type:b;var q=Sa.call(b,"namespace")?b.namespace.split("."):[];if(f=r=g=g||E,3!==g.nodeType&&8!==g.nodeType&&!cd.test(m+t.event.triggered)&&(-1<m.indexOf(".")&&(q=m.split("."),m=q.shift(),q.sort()),e=0>m.indexOf(":")&&"on"+m,b=b[t.expando]?b:new t.Event(m,"object"==typeof b&&b),b.isTrigger=c?2:
3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=g),d=null==d?[b]:t.makeArray(d,[b]),l=t.event.special[m]||{},c||!l.trigger||!1!==l.trigger.apply(g,d))){if(!c&&!l.noBubble&&!t.isWindow(g)){var z=l.delegateType||m;for(cd.test(z+m)||(f=f.parentNode);f;f=f.parentNode)D.push(f),r=f;r===(g.ownerDocument||E)&&D.push(r.defaultView||r.parentWindow||a)}for(q=0;(f=D[q++])&&!b.isPropagationStopped();)b.type=1<
q?z:l.bindType||m,(r=(t._data(f,"events")||{})[b.type]&&t._data(f,"handle"))&&r.apply(f,d),(r=e&&f[e])&&r.apply&&na(f)&&(b.result=r.apply(f,d),!1===b.result&&b.preventDefault());if(b.type=m,!(c||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(D.pop(),d))&&na(g)&&e&&g[m]&&!t.isWindow(g)){(r=g[e])&&(g[e]=null);t.event.triggered=m;try{g[m]()}catch(Ca){}t.event.triggered=void 0;r&&(g[e]=r)}return b.result}},dispatch:function(a){a=t.event.fix(a);var b,d,g,c,r=pa.call(arguments);var e=(t._data(this,
"events")||{})[a.type]||[];var f=t.event.special[a.type]||{};if(r[0]=a,a.delegateTarget=this,!f.preDispatch||!1!==f.preDispatch.call(this,a)){var l=t.event.handlers.call(this,a,e);for(e=0;(g=l[e++])&&!a.isPropagationStopped();)for(a.currentTarget=g.elem,b=0;(c=g.handlers[b++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(c.namespace)||(a.handleObj=c,a.data=c.data,d=((t.event.special[c.origType]||{}).handle||c.handler).apply(g.elem,r),void 0!==d&&!1===(a.result=d)&&(a.preventDefault(),
a.stopPropagation()));return f.postDispatch&&f.postDispatch.call(this,a),a.result}},handlers:function(a,b){var d,g=[],c=b.delegateCount,r=a.target;if(c&&r.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;r!=this;r=r.parentNode||this)if(1===r.nodeType&&(!0!==r.disabled||"click"!==a.type)){var e=[];for(d=0;c>d;d++){var f=b[d];var l=f.selector+" ";void 0===e[l]&&(e[l]=f.needsContext?-1<t(l,this).index(r):t.find(l,this,null,[r]).length);e[l]&&e.push(f)}e.length&&g.push({elem:r,handlers:e})}return c<
b.length&&g.push({elem:this,handlers:b.slice(c)}),g},fix:function(a){if(a[t.expando])return a;var b=a.type;var d=a,g=this.fixHooks[b];g||(this.fixHooks[b]=g=yd.test(b)?this.mouseHooks:de.test(b)?this.keyHooks:{});var c=g.props?this.props.concat(g.props):this.props;a=new t.Event(d);for(b=c.length;b--;){var r=c[b];a[r]=d[r]}return a.target||(a.target=d.srcElement||E),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,d):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,g,c,r=b.button,e=b.fromElement;return null==a.pageX&&null!=b.clientX&&(g=a.target.ownerDocument||E,c=g.documentElement,d=g.body,a.pageX=b.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&
c.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&e&&(a.relatedTarget=e===a.target?b.toElement:e),a.which||void 0===r||(a.which=1&r?1:2&r?3:4&r?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==P()&&this.focus)try{return this.focus(),!1}catch(L){}},delegateType:"focusin"},blur:{trigger:function(){return this===P()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return t.nodeName(this,
"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return t.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,d){a=t.extend(new t.Event,d,{type:a,isSimulated:!0});t.event.trigger(a,null,b);a.isDefaultPrevented()&&d.preventDefault()}};t.removeEvent=E.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d)}:function(a,
b,d){b="on"+b;a.detachEvent&&("undefined"==typeof a[b]&&(a[b]=null),a.detachEvent(b,d))};t.Event=function(a,b){return this instanceof t.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?H:W):this.type=a,b&&t.extend(this,b),this.timeStamp=a&&a.timeStamp||t.now(),void(this[t.expando]=!0)):new t.Event(a,b)};t.Event.prototype={constructor:t.Event,isDefaultPrevented:W,isPropagationStopped:W,isImmediatePropagationStopped:W,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=H;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=H;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=H;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};t.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){t.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d,g=a.relatedTarget,c=a.handleObj;return g&&(g===this||t.contains(this,g))||(a.type=c.origType,d=c.handler.apply(this,arguments),a.type=b),d}}});Q.submit||(t.event.special.submit={setup:function(){return t.nodeName(this,"form")?!1:void t.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=t.nodeName(a,"input")||t.nodeName(a,
"button")?t.prop(a,"form"):void 0)&&!t._data(a,"submit")&&(t.event.add(a,"submit._submit",function(a){a._submitBubble=!0}),t._data(a,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&t.event.simulate("submit",this.parentNode,a))},teardown:function(){return t.nodeName(this,"form")?!1:void t.event.remove(this,"._submit")}});Q.change||(t.event.special.change={setup:function(){return bd.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==
this.type||(t.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),t.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);t.event.simulate("change",this,a)})),!1):void t.event.add(this,"beforeactivate._change",function(a){a=a.target;bd.test(a.nodeName)&&!t._data(a,"change")&&(t.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||t.event.simulate("change",
this.parentNode,a)}),t._data(a,"change",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return t.event.remove(this,"._change"),!bd.test(this.nodeName)}});Q.focusin||t.each({focus:"focusin",blur:"focusout"},function(a,b){var d=function(a){t.event.simulate(b,a.target,t.event.fix(a))};t.event.special[b]={setup:function(){var g=this.ownerDocument||this,c=t._data(g,
b);c||g.addEventListener(a,d,!0);t._data(g,b,(c||0)+1)},teardown:function(){var g=this.ownerDocument||this,c=t._data(g,b)-1;c?t._data(g,b,c):(g.removeEventListener(a,d,!0),t._removeData(g,b))}}});t.fn.extend({on:function(a,b,d,g){return M(this,a,b,d,g)},one:function(a,b,d,g){return M(this,a,b,d,g,1)},off:function(a,b,d){var g,c;if(a&&a.preventDefault&&a.handleObj)return g=a.handleObj,t(a.delegateTarget).off(g.namespace?g.origType+"."+g.namespace:g.origType,g.selector,g.handler),this;if("object"==
typeof a){for(c in a)this.off(c,b,a[c]);return this}return!1!==b&&"function"!=typeof b||(d=b,b=void 0),!1===d&&(d=W),this.each(function(){t.event.remove(this,a,d,b)})},trigger:function(a,b){return this.each(function(){t.event.trigger(a,b,this)})},triggerHandler:function(a,b){var d=this[0];return d?t.event.trigger(a,b,d,!0):void 0}});var Ec=/ jQuery\d+="(?:null|\d+)"/g,Fc=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\s/>]/i,
zd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gc=/<script|<style|<link/i,tc=/checked\s*(?:[^=]|=\s*.checked.)/i,Qb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb=b(E).appendChild(E.createElement("div"));t.extend({htmlPrefilter:function(a){return a.replace(zd,"<$1></$2>")},clone:function(a,b,c){var r,e,f,l=t.contains(a.ownerDocument,a);if(Q.html5Clone||t.isXMLDoc(a)||!Fc.test("<"+a.nodeName+">")?e=a.cloneNode(!0):(sb.innerHTML=a.outerHTML,sb.removeChild(e=
sb.firstChild)),!(Q.noCloneEvent&&Q.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||t.isXMLDoc(a))){var D=d(e);var m=d(a);for(f=0;null!=(r=m[f]);++f)if(D[f]){var q=void 0,z,H=r,u=D[f];if(1===u.nodeType){if(z=u.nodeName.toLowerCase(),!Q.noCloneEvent&&u[t.expando]){r=t._data(u);for(q in r.events)t.removeEvent(u,q,r.handle);u.removeAttribute(t.expando)}"script"===z&&u.text!==H.text?(G(u).text=H.text,R(u)):"object"===z?(u.parentNode&&(u.outerHTML=H.outerHTML),Q.html5Clone&&H.innerHTML&&!t.trim(u.innerHTML)&&
(u.innerHTML=H.innerHTML)):"input"===z&&sa.test(H.type)?(u.defaultChecked=u.checked=H.checked,u.value!==H.value&&(u.value=H.value)):"option"===z?u.defaultSelected=u.selected=H.defaultSelected:"input"!==z&&"textarea"!==z||(u.defaultValue=H.defaultValue)}}}if(b)if(c)for(m=m||d(a),D=D||d(e),f=0;null!=(r=m[f]);f++)I(r,D[f]);else I(a,e);return D=d(e,"script"),0<D.length&&g(D,!l&&d(a,"script")),e},cleanData:function(a,b){for(var d,g,c,r,e=0,f=t.expando,l=t.cache,D=Q.attributes,m=t.event.special;null!=(d=
a[e]);e++)if((b||na(d))&&(c=d[f],r=c&&l[c])){if(r.events)for(g in r.events)m[g]?t.event.remove(d,g):t.removeEvent(d,g,r.handle);l[c]&&(delete l[c],D||"undefined"==typeof d.removeAttribute?d[f]=void 0:d.removeAttribute(f),ja.push(c))}}});t.fn.extend({domManip:X,detach:function(a){return J(this,a,!0)},remove:function(a){return J(this,a)},text:function(a){return rb(this,function(a){return void 0===a?t.text(this):this.empty().append((this[0]&&this[0].ownerDocument||E).createTextNode(a))},null,a,arguments.length)},
append:function(){return X(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Z(this,a).appendChild(a)})},prepend:function(){return X(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Z(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return X(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return X(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,
this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&t.cleanData(d(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&t.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return t.clone(this,a,b)})},html:function(a){return rb(this,function(a){var b=this[0]||{},g=0,c=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(Ec,""):void 0;if(!("string"!=typeof a||
Gc.test(a)||!Q.htmlSerialize&&Fc.test(a)||!Q.leadingWhitespace&&Cc.test(a)||ab[(Zc.exec(a)||["",""])[1].toLowerCase()])){a=t.htmlPrefilter(a);try{for(;c>g;g++)b=this[g]||{},1===b.nodeType&&(t.cleanData(d(b,!1)),b.innerHTML=a);b=0}catch(oi){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return X(this,arguments,function(b){var g=this.parentNode;0>t.inArray(this,a)&&(t.cleanData(d(this)),g&&g.replaceChild(b,this))},a)}});t.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){t.fn[a]=function(a){for(var d=0,g=[],c=t(a),r=c.length-1;r>=d;d++)a=d===r?this:this.clone(!0),t(c[d])[b](a),La.apply(g,a.get());return this.pushStack(g)}});var fb,eb={HTML:"block",BODY:"block"},Hb=/^margin/,Yb=new RegExp("^("+Dc+")(?!px)[a-z%]+$","i"),ec=function(a,b,d,g){var c,r={};for(c in b)r[c]=a.style[c],a.style[c]=b[c];d=d.apply(a,g||[]);for(c in b)a.style[c]=r[c];return d},Hc=E.documentElement;!function(){var b,
d,g,c,r,e,f=E.createElement("div"),l=E.createElement("div");if(l.style){var D=function(){var D,m,q=E.documentElement;q.appendChild(f);l.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";b=g=e=!1;d=r=!0;a.getComputedStyle&&(m=a.getComputedStyle(l),b="1%"!==(m||{}).top,e="2px"===(m||{}).marginLeft,g="4px"===(m||{width:"4px"}).width,l.style.marginRight="50%",d="4px"===(m||{marginRight:"4px"}).marginRight,
D=l.appendChild(E.createElement("div")),D.style.cssText=l.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",D.style.marginRight=D.style.width="0",l.style.width="1px",r=!parseFloat((a.getComputedStyle(D)||{}).marginRight),l.removeChild(D));l.style.display="none";(c=0===l.getClientRects().length)&&(l.style.display="",l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",l.childNodes[0].style.borderCollapse=
"separate",D=l.getElementsByTagName("td"),D[0].style.cssText="margin:0;border:0;padding:0;display:none",c=0===D[0].offsetHeight,c&&(D[0].style.display="",D[1].style.display="none",c=0===D[0].offsetHeight));q.removeChild(f)};l.style.cssText="float:left;opacity:.5";Q.opacity="0.5"===l.style.opacity;Q.cssFloat=!!l.style.cssFloat;l.style.backgroundClip="content-box";l.cloneNode(!0).style.backgroundClip="";Q.clearCloneStyle="content-box"===l.style.backgroundClip;f=E.createElement("div");f.style.cssText=
"border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute";l.innerHTML="";f.appendChild(l);Q.boxSizing=""===l.style.boxSizing||""===l.style.MozBoxSizing||""===l.style.WebkitBoxSizing;t.extend(Q,{reliableHiddenOffsets:function(){return null==b&&D(),c},boxSizingReliable:function(){return null==b&&D(),g},pixelMarginRight:function(){return null==b&&D(),d},pixelPosition:function(){return null==b&&D(),b},reliableMarginRight:function(){return null==b&&D(),r},reliableMarginLeft:function(){return null==
b&&D(),e}})}}();var Gb,Tb,ee=/^(top|right|bottom|left)$/;a.getComputedStyle?(Gb=function(b){var d=b.ownerDocument.defaultView;return d&&d.opener||(d=a),d.getComputedStyle(b)},Tb=function(a,b,d){var g,c,r,e,f=a.style;return d=d||Gb(a),e=d?d.getPropertyValue(b)||d[b]:void 0,""!==e&&void 0!==e||t.contains(a.ownerDocument,a)||(e=t.style(a,b)),d&&!Q.pixelMarginRight()&&Yb.test(e)&&Hb.test(b)&&(g=f.width,c=f.minWidth,r=f.maxWidth,f.minWidth=f.maxWidth=f.width=e,e=d.width,f.width=g,f.minWidth=c,f.maxWidth=
r),void 0===e?e:e+""}):Hc.currentStyle&&(Gb=function(a){return a.currentStyle},Tb=function(a,b,d){var g,c,r,e,f=a.style;return d=d||Gb(a),e=d?d[b]:void 0,null==e&&f&&f[b]&&(e=f[b]),Yb.test(e)&&!ee.test(b)&&(g=f.left,c=a.runtimeStyle,r=c&&c.left,r&&(c.left=a.currentStyle.left),f.left="fontSize"===b?"1em":e,e=f.pixelLeft+"px",f.left=g,r&&(c.left=r)),void 0===e?e:e+""||"auto"});var ed=/alpha\([^)]*\)/i,Ad=/opacity\s*=\s*([^)]*)/i,fe=/^(none|table(?!-c[ea]).+)/,Oe=new RegExp("^("+Dc+")(.*)$","i"),Ue=
{position:"absolute",visibility:"hidden",display:"block"},Ic={letterSpacing:"0",fontWeight:"400"},Zd=["Webkit","O","Moz","ms"],Yd=E.createElement("div").style;t.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=Tb(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Q.cssFloat?"cssFloat":"styleFloat"},style:function(a,
b,d,g){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var c,r,e,f=t.camelCase(b),l=a.style;if(b=t.cssProps[f]||(t.cssProps[f]=Y(f)||f),e=t.cssHooks[b]||t.cssHooks[f],void 0===d)return e&&"get"in e&&void 0!==(c=e.get(a,!1,g))?c:l[b];if(r=typeof d,"string"===r&&(c=Bc.exec(d))&&c[1]&&(d=v(a,b,c),r="number"),null!=d&&d===d&&("number"===r&&(d+=c&&c[3]||(t.cssNumber[f]?"":"px")),Q.clearCloneStyle||""!==d||0!==b.indexOf("background")||(l[b]="inherit"),!(e&&"set"in e&&void 0===(d=e.set(a,d,g)))))try{l[b]=
d}catch(Xc){}}},css:function(a,b,d,g){var c,r,e,f=t.camelCase(b);return b=t.cssProps[f]||(t.cssProps[f]=Y(f)||f),e=t.cssHooks[b]||t.cssHooks[f],e&&"get"in e&&(r=e.get(a,!0,d)),void 0===r&&(r=Tb(a,b,g)),"normal"===r&&b in Ic&&(r=Ic[b]),""===d||d?(c=parseFloat(r),!0===d||isFinite(c)?c||0:r):r}});t.each(["height","width"],function(a,b){t.cssHooks[b]={get:function(a,d,g){return d?fe.test(t.css(a,"display"))&&0===a.offsetWidth?ec(a,Ue,function(){return ia(a,b,g)}):ia(a,b,g):void 0},set:function(a,d,g){var c=
g&&Gb(a);return Ia(a,d,g?Ha(a,b,g,Q.boxSizing&&"border-box"===t.css(a,"boxSizing",!1,c),c):0)}}});Q.opacity||(t.cssHooks.opacity={get:function(a,b){return Ad.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var d=a.style;a=a.currentStyle;var g=t.isNumeric(b)?"alpha(opacity="+100*b+")":"",c=a&&a.filter||d.filter||"";d.zoom=1;(1<=b||""===b)&&""===t.trim(c.replace(ed,""))&&d.removeAttribute&&(d.removeAttribute("filter"),""===
b||a&&!a.filter)||(d.filter=ed.test(c)?c.replace(ed,g):c+" "+g)}});t.cssHooks.marginRight=T(Q.reliableMarginRight,function(a,b){return b?ec(a,{display:"inline-block"},Tb,[a,"marginRight"]):void 0});t.cssHooks.marginLeft=T(Q.reliableMarginLeft,function(a,b){return b?(parseFloat(Tb(a,"marginLeft"))||(t.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-ec(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px":void 0});t.each({margin:"",padding:"",border:"Width"},function(a,
b){t.cssHooks[a+b]={expand:function(d){var g=0,c={};for(d="string"==typeof d?d.split(" "):[d];4>g;g++)c[a+ya[g]+b]=d[g]||d[g-2]||d[0];return c}};Hb.test(a)||(t.cssHooks[a+b].set=Ia)});t.fn.extend({css:function(a,b){return rb(this,function(a,b,d){var g,c={},r=0;if(t.isArray(b)){d=Gb(a);for(g=b.length;g>r;r++)c[b[r]]=t.css(a,b[r],!1,d);return c}return void 0!==d?t.style(a,b,d):t.css(a,b)},a,b,1<arguments.length)},show:function(){return ta(this,!0)},hide:function(){return ta(this)},toggle:function(a){return"boolean"==
typeof a?a?this.show():this.hide():this.each(function(){bb(this)?t(this).show():t(this).hide()})}});t.Tween=va;va.prototype={constructor:va,init:function(a,b,d,g,c,r){this.elem=a;this.prop=d;this.easing=c||t.easing._default;this.options=b;this.start=this.now=this.cur();this.end=g;this.unit=r||(t.cssNumber[d]?"":"px")},cur:function(){var a=va.propHooks[this.prop];return a&&a.get?a.get(this):va.propHooks._default.get(this)},run:function(a){var b,d=va.propHooks[this.prop];return this.options.duration?
this.pos=b=t.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):va.propHooks._default.set(this),this}};va.prototype.init.prototype=va.prototype;va.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=t.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){t.fx.step[a.prop]?
t.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[t.cssProps[a.prop]]&&!t.cssHooks[a.prop]?a.elem[a.prop]=a.now:t.style(a.elem,a.prop,a.now+a.unit)}}};va.propHooks.scrollTop=va.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};t.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};t.fx=va.prototype.init;t.fx.step={};var uc,fd,Bd=/^(?:toggle|show|hide)$/,ge=/queueHooks$/;t.Animation=t.extend(la,
{tweeners:{"*":[function(a,b){var d=this.createTween(a,b);return v(d.elem,a,Bc.exec(b),d),d}]},tweener:function(a,b){t.isFunction(a)?(b=a,a=["*"]):a=a.match(Cb);for(var d,g=0,c=a.length;c>g;g++)d=a[g],la.tweeners[d]=la.tweeners[d]||[],la.tweeners[d].unshift(b)},prefilters:[function(a,b,d){var g,c,r,e,f,l,D,m=this,q={},z=a.style,H=a.nodeType&&bb(a),u=t._data(a,"fxshow");d.queue||(e=t._queueHooks(a,"fx"),null==e.unqueued&&(e.unqueued=0,f=e.empty.fire,e.empty.fire=function(){e.unqueued||f()}),e.unqueued++,
m.always(function(){m.always(function(){e.unqueued--;t.queue(a,"fx").length||e.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[z.overflow,z.overflowX,z.overflowY],l=t.css(a,"display"),D="none"===l?t._data(a,"olddisplay")||ba(a.nodeName):l,"inline"===D&&"none"===t.css(a,"float")&&(Q.inlineBlockNeedsLayout&&"inline"!==ba(a.nodeName)?z.zoom=1:z.display="inline-block"));d.overflow&&(z.overflow="hidden",Q.shrinkWrapBlocks()||m.always(function(){z.overflow=d.overflow[0];z.overflowX=
d.overflow[1];z.overflowY=d.overflow[2]}));for(g in b)if(c=b[g],Bd.exec(c)){if(delete b[g],r=r||"toggle"===c,c===(H?"hide":"show")){if("show"!==c||!u||void 0===u[g])continue;H=!0}q[g]=u&&u[g]||t.style(a,g)}else l=void 0;if(t.isEmptyObject(q))"inline"===("none"===l?ba(a.nodeName):l)&&(z.display=l);else for(g in u?"hidden"in u&&(H=u.hidden):u=t._data(a,"fxshow",{}),r&&(u.hidden=!H),H?t(a).show():m.done(function(){t(a).hide()}),m.done(function(){var b;t._removeData(a,"fxshow");for(b in q)t.style(a,b,
q[b])}),q)b=Ga(H?u[g]:0,g,m),g in u||(u[g]=b.start,H&&(b.end=b.start,b.start="width"===g||"height"===g?1:0))}],prefilter:function(a,b){b?la.prefilters.unshift(a):la.prefilters.push(a)}});t.speed=function(a,b,d){var g=a&&"object"==typeof a?t.extend({},a):{complete:d||!d&&b||t.isFunction(a)&&a,duration:a,easing:d&&b||b&&!t.isFunction(b)&&b};return g.duration=t.fx.off?0:"number"==typeof g.duration?g.duration:g.duration in t.fx.speeds?t.fx.speeds[g.duration]:t.fx.speeds._default,null!=g.queue&&!0!==g.queue||
(g.queue="fx"),g.old=g.complete,g.complete=function(){t.isFunction(g.old)&&g.old.call(this);g.queue&&t.dequeue(this,g.queue)},g};t.fn.extend({fadeTo:function(a,b,d,g){return this.filter(bb).css("opacity",0).show().end().animate({opacity:b},a,d,g)},animate:function(a,b,d,g){var c=t.isEmptyObject(a),r=t.speed(b,d,g);b=function(){var b=la(this,t.extend({},a),r);(c||t._data(this,"finish"))&&b.stop(!0)};return b.finish=b,c||!1===r.queue?this.each(b):this.queue(r.queue,b)},stop:function(a,b,d){var g=function(a){var b=
a.stop;delete a.stop;b(d)};return"string"!=typeof a&&(d=b,b=a,a=void 0),b&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",r=t.timers,e=t._data(this);if(c)e[c]&&e[c].stop&&g(e[c]);else for(c in e)e[c]&&e[c].stop&&ge.test(c)&&g(e[c]);for(c=r.length;c--;)r[c].elem!==this||null!=a&&r[c].queue!==a||(r[c].anim.stop(d),b=!1,r.splice(c,1));!b&&d||t.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b=t._data(this),d=b[a+"queue"];
var g=b[a+"queueHooks"];var c=t.timers,r=d?d.length:0;b.finish=!0;t.queue(this,a,[]);g&&g.stop&&g.stop.call(this,!0);for(g=c.length;g--;)c[g].elem===this&&c[g].queue===a&&(c[g].anim.stop(!0),c.splice(g,1));for(g=0;r>g;g++)d[g]&&d[g].finish&&d[g].finish.call(this);delete b.finish})}});t.each(["toggle","show","hide"],function(a,b){var d=t.fn[b];t.fn[b]=function(a,g,c){return null==a||"boolean"==typeof a?d.apply(this,arguments):this.animate(wa(b,!0),a,g,c)}});t.each({slideDown:wa("show"),slideUp:wa("hide"),
slideToggle:wa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){t.fn[a]=function(a,d,g){return this.animate(b,a,d,g)}});t.timers=[];t.fx.tick=function(){var a=t.timers,b=0;for(uc=t.now();b<a.length;b++){var d=a[b];d()||a[b]!==d||a.splice(b--,1)}a.length||t.fx.stop();uc=void 0};t.fx.timer=function(a){t.timers.push(a);a()?t.fx.start():t.timers.pop()};t.fx.interval=13;t.fx.start=function(){fd||(fd=a.setInterval(t.fx.tick,t.fx.interval))};t.fx.stop=
function(){a.clearInterval(fd);fd=null};t.fx.speeds={slow:600,fast:200,_default:400};t.fn.delay=function(b,d){return b=t.fx?t.fx.speeds[b]||b:b,d=d||"fx",this.queue(d,function(d,g){var c=a.setTimeout(d,b);g.stop=function(){a.clearTimeout(c)}})};(function(){var a=E.createElement("input");E.createElement("div");var b=E.createElement("select"),d=b.appendChild(E.createElement("option"));var g=E.createElement("div");g.setAttribute("className","t");g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";
g.getElementsByTagName("a");a.setAttribute("type","checkbox");g.appendChild(a);var c=g.getElementsByTagName("a")[0];c.style.cssText="top:1px";Q.getSetAttribute="t"!==g.className;Q.style=/top/.test(c.getAttribute("style"));Q.hrefNormalized="/a"===c.getAttribute("href");Q.checkOn=!!a.value;Q.optSelected=d.selected;Q.enctype=!!E.createElement("form").enctype;b.disabled=!0;Q.optDisabled=!d.disabled;a=E.createElement("input");a.setAttribute("value","");Q.input=""===a.getAttribute("value");a.value="t";
a.setAttribute("type","radio");Q.radioValue="t"===a.value})();var Ff=/\r/g,he=/[\x20\t\r\n\f]+/g;t.fn.extend({val:function(a){var b,d,g,c=this[0];if(arguments.length)return g=t.isFunction(a),this.each(function(d){var c;1===this.nodeType&&(c=g?a.call(this,d,t(this).val()):a,null==c?c="":"number"==typeof c?c+="":t.isArray(c)&&(c=t.map(c,function(a){return null==a?"":a+""})),b=t.valHooks[this.type]||t.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))});
if(c)return b=t.valHooks[c.type]||t.valHooks[c.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(d=b.get(c,"value"))?d:(d=c.value,"string"==typeof d?d.replace(Ff,""):null==d?"":d)}});t.extend({valHooks:{option:{get:function(a){var b=t.find.attr(a,"value");return null!=b?b:t.trim(t.text(a)).replace(he," ")}},select:{get:function(a){for(var b,d=a.options,g=a.selectedIndex,c="select-one"===a.type||0>g,r=c?null:[],e=c?g+1:d.length,f=0>g?e:c?g:0;e>f;f++)if(b=d[f],!(!b.selected&&f!==g||(Q.optDisabled?b.disabled:
null!==b.getAttribute("disabled"))||b.parentNode.disabled&&t.nodeName(b.parentNode,"optgroup"))){if(a=t(b).val(),c)return a;r.push(a)}return r},set:function(a,b){var d,g,c=a.options;b=t.makeArray(b);for(var r=c.length;r--;)if(g=c[r],-1<t.inArray(t.valHooks.option.get(g),b))try{g.selected=d=!0}catch(pi){g.scrollHeight}else g.selected=!1;return d||(a.selectedIndex=-1),c}}}});t.each(["radio","checkbox"],function(){t.valHooks[this]={set:function(a,b){return t.isArray(b)?a.checked=-1<t.inArray(t(a).val(),
b):void 0}};Q.checkOn||(t.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var qa,Mb=t.expr.attrHandle,Cd=/^(?:checked|selected)$/i,fc=Q.getSetAttribute,gd=Q.input;t.fn.extend({attr:function(a,b){return rb(this,t.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){t.removeAttr(this,a)})}});t.extend({attr:function(a,b,d){var g,c,r=a.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof a.getAttribute?t.prop(a,b,d):(1===r&&t.isXMLDoc(a)||
(b=b.toLowerCase(),c=t.attrHooks[b]||(t.expr.match.bool.test(b)?Qa:qa)),void 0!==d?null===d?void t.removeAttr(a,b):c&&"set"in c&&void 0!==(g=c.set(a,d,b))?g:(a.setAttribute(b,d+""),d):c&&"get"in c&&null!==(g=c.get(a,b))?g:(g=t.find.attr(a,b),null==g?void 0:g))},attrHooks:{type:{set:function(a,b){if(!Q.radioValue&&"radio"===b&&t.nodeName(a,"input")){var d=a.value;return a.setAttribute("type",b),d&&(a.value=d),b}}}},removeAttr:function(a,b){var d=0,g=b&&b.match(Cb);if(g&&1===a.nodeType)for(;b=g[d++];){var c=
t.propFix[b]||b;t.expr.match.bool.test(b)?gd&&fc||!Cd.test(b)?a[c]=!1:a[t.camelCase("default-"+b)]=a[c]=!1:t.attr(a,b,"");a.removeAttribute(fc?b:c)}}});var Qa={set:function(a,b,d){return!1===b?t.removeAttr(a,d):gd&&fc||!Cd.test(d)?a.setAttribute(!fc&&t.propFix[d]||d,d):a[t.camelCase("default-"+d)]=a[d]=!0,d}};t.each(t.expr.match.bool.source.match(/\w+/g),function(a,b){var d=Mb[b]||t.find.attr;gd&&fc||!Cd.test(b)?Mb[b]=function(a,b,g){var c,r;return g||(r=Mb[b],Mb[b]=c,c=null!=d(a,b,g)?b.toLowerCase():
null,Mb[b]=r),c}:Mb[b]=function(a,b,d){return d?void 0:a[t.camelCase("default-"+b)]?b.toLowerCase():null}});gd&&fc||(t.attrHooks.value={set:function(a,b,d){return t.nodeName(a,"input")?void(a.defaultValue=b):qa&&qa.set(a,b,d)}});fc||(qa={set:function(a,b,d){var g=a.getAttributeNode(d);return g||a.setAttributeNode(g=a.ownerDocument.createAttribute(d)),g.value=b+="","value"===d||b===a.getAttribute(d)?b:void 0}},Mb.id=Mb.name=Mb.coords=function(a,b,d){var g;return d?void 0:(g=a.getAttributeNode(b))&&
""!==g.value?g.value:null},t.valHooks.button={get:function(a,b){return(a=a.getAttributeNode(b))&&a.specified?a.value:void 0},set:qa.set},t.attrHooks.contenteditable={set:function(a,b,d){qa.set(a,""===b?!1:b,d)}},t.each(["width","height"],function(a,b){t.attrHooks[b]={set:function(a,d){return""===d?(a.setAttribute(b,"auto"),d):void 0}}}));Q.style||(t.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Ya=/^(?:input|select|textarea|button|object)$/i,
Jc=/^(?:a|area)$/i;t.fn.extend({prop:function(a,b){return rb(this,t.prop,a,b,1<arguments.length)},removeProp:function(a){return a=t.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(vb){}})}});t.extend({prop:function(a,b,d){var g,c,r=a.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&t.isXMLDoc(a)||(b=t.propFix[b]||b,c=t.propHooks[b]),void 0!==d?c&&"set"in c&&void 0!==(g=c.set(a,d,b))?g:a[b]=d:c&&"get"in c&&null!==(g=c.get(a,b))?g:a[b]},propHooks:{tabIndex:{get:function(a){var b=
t.find.attr(a,"tabindex");return b?parseInt(b,10):Ya.test(a.nodeName)||Jc.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});Q.hrefNormalized||t.each(["href","src"],function(a,b){t.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});Q.optSelected||(t.propHooks.selected={get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null},set:function(a){a=a.parentNode;a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex)}});
t.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){t.propFix[this.toLowerCase()]=this});Q.enctype||(t.propFix.enctype="encoding");var hd=/[\t\r\n\f]/g;t.fn.extend({addClass:function(a){var b,d,g,c,r,e,f=0;if(t.isFunction(a))return this.each(function(b){t(this).addClass(a.call(this,b,ka(this)))});if("string"==typeof a&&a)for(b=a.match(Cb)||[];d=this[f++];)if(c=ka(d),g=1===d.nodeType&&(" "+c+" ").replace(hd," ")){for(e=
0;r=b[e++];)0>g.indexOf(" "+r+" ")&&(g+=r+" ");g=t.trim(g);c!==g&&t.attr(d,"class",g)}return this},removeClass:function(a){var b,d,g,c,r,e,f=0;if(t.isFunction(a))return this.each(function(b){t(this).removeClass(a.call(this,b,ka(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(Cb)||[];d=this[f++];)if(c=ka(d),g=1===d.nodeType&&(" "+c+" ").replace(hd," ")){for(e=0;r=b[e++];)for(;-1<g.indexOf(" "+r+" ");)g=g.replace(" "+r+" "," ");g=t.trim(g);c!==g&&t.attr(d,
"class",g)}return this},toggleClass:function(a,b){var d=typeof a;return"boolean"==typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):t.isFunction(a)?this.each(function(d){t(this).toggleClass(a.call(this,d,ka(this),b),b)}):this.each(function(){var b,g;if("string"===d){var c=0;var r=t(this);for(g=a.match(Cb)||[];b=g[c++];)r.hasClass(b)?r.removeClass(b):r.addClass(b)}else void 0!==a&&"boolean"!==d||(b=ka(this),b&&t._data(this,"__className__",b),t.attr(this,"class",b||!1===a?"":t._data(this,
"__className__")||""))})},hasClass:function(a){var b,d=0;for(a=" "+a+" ";b=this[d++];)if(1===b.nodeType&&-1<(" "+ka(b)+" ").replace(hd," ").indexOf(a))return!0;return!1}});t.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){t.fn[b]=function(a,d){return 0<arguments.length?this.on(b,null,a,d):this.trigger(b)}});t.fn.extend({hover:function(a,
b){return this.mouseenter(a).mouseleave(b||a)}});var Nb=a.location,$b=t.now(),Dd=/\?/,ha=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;t.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var d,g=null,c=t.trim(b+"");return c&&!t.trim(c.replace(ha,function(a,b,c,r){return d&&b&&(g=0),0===g?a:(d=c||b,g+=!r-!c,"")}))?Function("return "+c)():t.error("Invalid JSON: "+b)};t.parseXML=function(b){var d,
g;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(g=new a.DOMParser,d=g.parseFromString(b,"text/xml")):(d=new a.ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(xf){d=void 0}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||t.error("Invalid XML: "+b),d};var aa=/#.*$/,Ib=/([?&])_=[^&]*/,Xb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,wc=/^(?:GET|HEAD)$/,pc=/^\/\//,ac=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ob={},qc={},ie="*/".concat("*"),
je=Nb.href,jd=ac.exec(je.toLowerCase())||[];t.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:je,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(jd[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ie,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",
text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":t.parseJSON,"text xml":t.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ea(ea(a,t.ajaxSettings),b):ea(t.ajaxSettings,a)},ajaxPrefilter:ra(Ob),ajaxTransport:ra(qc),ajax:function(b,d){function g(b,d,g,c){var r,m,v,A=d;if(2!==X){X=2;f&&a.clearTimeout(f);D=void 0;e=c||"";C.readyState=0<b?4:0;c=200<=b&&300>b||304===b;if(g){var R=q;for(var xb=C,P,J,G,M,S=R.contents,Z=R.dataTypes;"*"===
Z[0];)Z.shift(),void 0===J&&(J=R.mimeType||xb.getResponseHeader("Content-Type"));if(J)for(M in S)if(S[M]&&S[M].test(J)){Z.unshift(M);break}if(Z[0]in g)G=Z[0];else{for(M in g){if(!Z[0]||R.converters[M+" "+Z[0]]){G=M;break}P||(P=M)}G=G||P}R=G?(G!==Z[0]&&Z.unshift(G),g[G]):void 0}a:{g=q;P=R;J=C;G=c;var na,Ra,T;R={};xb=g.dataTypes.slice();if(xb[1])for(na in g.converters)R[na.toLowerCase()]=g.converters[na];for(M=xb.shift();M;)if(g.responseFields[M]&&(J[g.responseFields[M]]=P),!T&&G&&g.dataFilter&&(P=
g.dataFilter(P,g.dataType)),T=M,M=xb.shift())if("*"===M)M=T;else if("*"!==T&&T!==M){if(na=R[T+" "+M]||R["* "+M],!na)for(ba in R)if(Ra=ba.split(" "),Ra[1]===M&&(na=R[T+" "+Ra[0]]||R["* "+Ra[0]])){!0===na?na=R[ba]:!0!==R[ba]&&(M=Ra[0],xb.unshift(Ra[1]));break}if(!0!==na)if(na&&g["throws"])P=na(P);else try{P=na(P)}catch(Cg){var ba={state:"parsererror",error:na?Cg:"No conversion from "+T+" to "+M};break a}}ba={state:"success",data:P}}R=ba;c?(q.ifModified&&(v=C.getResponseHeader("Last-Modified"),v&&(t.lastModified[I]=
v),v=C.getResponseHeader("etag"),v&&(t.etag[I]=v)),204===b||"HEAD"===q.type?A="nocontent":304===b?A="notmodified":(A=R.state,r=R.data,m=R.error,c=!m)):(m=A,!b&&A||(A="error",0>b&&(b=0)));C.status=b;C.statusText=(d||A)+"";c?u.resolveWith(z,[r,A,C]):u.rejectWith(z,[C,A,m]);C.statusCode(W);W=void 0;l&&H.trigger(c?"ajaxSuccess":"ajaxError",[C,q,c?r:m]);B.fireWith(z,[C,A]);l&&(H.trigger("ajaxComplete",[C,q]),--t.active||t.event.trigger("ajaxStop"))}}"object"==typeof b&&(d=b,b=void 0);d=d||{};var c,r,e,
f,l,D,m,q=t.ajaxSetup({},d),z=q.context||q,H=q.context&&(z.nodeType||z.jquery)?t(z):t.event,u=t.Deferred(),B=t.Callbacks("once memory"),W=q.statusCode||{},v={},A={},X=0,R="canceled",C={readyState:0,getResponseHeader:function(a){var b;if(2===X){if(!m)for(m={};b=Xb.exec(e);)m[b[1].toLowerCase()]=b[2];b=m[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===X?e:null},setRequestHeader:function(a,b){var d=a.toLowerCase();return X||(a=A[d]=A[d]||a,v[a]=b),this},overrideMimeType:function(a){return X||
(q.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>X)for(b in a)W[b]=[W[b],a[b]];else C.always(a[C.status]);return this},abort:function(a){a=a||R;return D&&D.abort(a),g(0,a),this}};if(u.promise(C).complete=B.add,C.success=C.done,C.error=C.fail,q.url=((b||q.url||je)+"").replace(aa,"").replace(pc,jd[1]+"//"),q.type=d.method||d.type||q.method||q.type,q.dataTypes=t.trim(q.dataType||"*").toLowerCase().match(Cb)||[""],null==q.crossDomain&&(c=ac.exec(q.url.toLowerCase()),q.crossDomain=!(!c||c[1]===
jd[1]&&c[2]===jd[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(jd[3]||("http:"===jd[1]?"80":"443")))),q.data&&q.processData&&"string"!=typeof q.data&&(q.data=t.param(q.data,q.traditional)),Da(Ob,q,d,C),2===X)return C;(l=t.event&&q.global)&&0===t.active++&&t.event.trigger("ajaxStart");q.type=q.type.toUpperCase();q.hasContent=!wc.test(q.type);var I=q.url;q.hasContent||(q.data&&(I=q.url+=(Dd.test(I)?"&":"?")+q.data,delete q.data),!1===q.cache&&(q.url=Ib.test(I)?I.replace(Ib,"$1_="+$b++):I+(Dd.test(I)?"&":
"?")+"_="+$b++));q.ifModified&&(t.lastModified[I]&&C.setRequestHeader("If-Modified-Since",t.lastModified[I]),t.etag[I]&&C.setRequestHeader("If-None-Match",t.etag[I]));(q.data&&q.hasContent&&!1!==q.contentType||d.contentType)&&C.setRequestHeader("Content-Type",q.contentType);C.setRequestHeader("Accept",q.dataTypes[0]&&q.accepts[q.dataTypes[0]]?q.accepts[q.dataTypes[0]]+("*"!==q.dataTypes[0]?", "+ie+"; q=0.01":""):q.accepts["*"]);for(r in q.headers)C.setRequestHeader(r,q.headers[r]);if(q.beforeSend&&
(!1===q.beforeSend.call(z,C,q)||2===X))return C.abort();R="abort";for(r in{success:1,error:1,complete:1})C[r](q[r]);if(D=Da(qc,q,d,C)){if(C.readyState=1,l&&H.trigger("ajaxSend",[C,q]),2===X)return C;q.async&&0<q.timeout&&(f=a.setTimeout(function(){C.abort("timeout")},q.timeout));try{X=1,D.send(v,g)}catch(Bf){if(!(2>X))throw Bf;g(-1,Bf)}}else g(-1,"No Transport");return C},getJSON:function(a,b,d){return t.get(a,b,d,"json")},getScript:function(a,b){return t.get(a,void 0,b,"script")}});t.each(["get",
"post"],function(a,b){t[b]=function(a,d,g,c){return t.isFunction(d)&&(c=c||g,g=d,d=void 0),t.ajax(t.extend({url:a,type:b,dataType:c,data:d,success:g},t.isPlainObject(a)&&a))}});t._evalUrl=function(a){return t.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};t.fn.extend({wrapAll:function(a){if(t.isFunction(a))return this.each(function(b){t(this).wrapAll(a.call(this,b))});if(this[0]){var b=t(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return t.isFunction(a)?this.each(function(b){t(this).wrapInner(a.call(this,b))}):this.each(function(){var b=t(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=t.isFunction(a);return this.each(function(d){t(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(){return this.parent().each(function(){t.nodeName(this,"body")||
t(this).replaceWith(this.childNodes)}).end()}});t.expr.filters.hidden=function(a){return Q.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:U(a)};t.expr.filters.visible=function(a){return!t.expr.filters.hidden(a)};var Gf=/%20/g,Pe=/\[\]$/,ke=/\r?\n/g,ic=/^(?:submit|button|image|reset|file)$/i,le=/^(?:input|select|textarea|keygen)/i;t.param=function(a,b){var d,g=[],c=function(a,b){b=t.isFunction(b)?b():null==b?"":b;g[g.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};
if(void 0===b&&(b=t.ajaxSettings&&t.ajaxSettings.traditional),t.isArray(a)||a.jquery&&!t.isPlainObject(a))t.each(a,function(){c(this.name,this.value)});else for(d in a)O(d,a[d],b,c);return g.join("&").replace(Gf,"+")};t.fn.extend({serialize:function(){return t.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=t.prop(this,"elements");return a?t.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!t(this).is(":disabled")&&le.test(this.nodeName)&&
!ic.test(a)&&(this.checked||!sa.test(a))}).map(function(a,b){a=t(this).val();return null==a?null:t.isArray(a)?t.map(a,function(a){return{name:b.name,value:a.replace(ke,"\r\n")}}):{name:b.name,value:a.replace(ke,"\r\n")}}).get()}});t.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?N():8<E.documentMode?Ka():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Ka()||N()}:Ka;var Eg=0,Pb={},Kc=t.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Pb)Pb[a](void 0,
!0)});Q.cors=!!Kc&&"withCredentials"in Kc;(Kc=Q.ajax=!!Kc)&&t.ajaxTransport(function(b){if(!b.crossDomain||Q.cors){var d;return{send:function(g,c){var r,e=b.xhr(),f=++Eg;if(e.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(r in b.xhrFields)e[r]=b.xhrFields[r];b.mimeType&&e.overrideMimeType&&e.overrideMimeType(b.mimeType);b.crossDomain||g["X-Requested-With"]||(g["X-Requested-With"]="XMLHttpRequest");for(r in g)void 0!==g[r]&&e.setRequestHeader(r,g[r]+"");e.send(b.hasContent&&b.data||
null);d=function(a,g){if(d&&(g||4===e.readyState))if(delete Pb[f],d=void 0,e.onreadystatechange=t.noop,g)4!==e.readyState&&e.abort();else{var r={};var l=e.status;"string"==typeof e.responseText&&(r.text=e.responseText);try{var D=e.statusText}catch(Ca){D=""}l||!b.isLocal||b.crossDomain?1223===l&&(l=204):l=r.text?200:404}r&&c(l,D,r,e.getAllResponseHeaders())};b.async?4===e.readyState?a.setTimeout(d):e.onreadystatechange=Pb[f]=d:d()},abort:function(){d&&d(void 0,!0)}}}});t.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return t.globalEval(a),a}}});t.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});t.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=E.head||t("head")[0]||E.documentElement;return{send:function(g,c){b=E.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,d){(d||!b.readyState||
/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,d||c(200,"success"))};d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var Hf=[],If=/(=)\?(?=&|$)|\?\?/;t.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hf.pop()||t.expando+"_"+$b++;return this[a]=!0,a}});t.ajaxPrefilter("json jsonp",function(b,d,g){var c,r,e,f=!1!==b.jsonp&&(If.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||
"").indexOf("application/x-www-form-urlencoded")&&If.test(b.data)&&"data");return f||"jsonp"===b.dataTypes[0]?(c=b.jsonpCallback=t.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,f?b[f]=b[f].replace(If,"$1"+c):!1!==b.jsonp&&(b.url+=(Dd.test(b.url)?"&":"?")+b.jsonp+"="+c),b.converters["script json"]=function(){return e||t.error(c+" was not called"),e[0]},b.dataTypes[0]="json",r=a[c],a[c]=function(){e=arguments},g.always(function(){void 0===r?t(a).removeProp(c):a[c]=r;b[c]&&(b.jsonpCallback=
d.jsonpCallback,Hf.push(c));e&&t.isFunction(r)&&r(e[0]);e=r=void 0}),"script"):void 0});t.parseHTML=function(a,b,d){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(d=b,b=!1);b=b||E;var g=pb.exec(a);d=!d&&[];return g?[b.createElement(g[1])]:(g=D([a],b,d),d&&d.length&&t(d).remove(),t.merge([],g.childNodes))};var Fg=t.fn.load;t.fn.load=function(a,b,d){if("string"!=typeof a&&Fg)return Fg.apply(this,arguments);var g,c,r,e=this,f=a.indexOf(" ");return-1<f&&(g=t.trim(a.slice(f,a.length)),a=a.slice(0,
f)),t.isFunction(b)?(d=b,b=void 0):b&&"object"==typeof b&&(c="POST"),0<e.length&&t.ajax({url:a,type:c||"GET",dataType:"html",data:b}).done(function(a){r=arguments;e.html(g?t("<div>").append(t.parseHTML(a)).find(g):a)}).always(d&&function(a,b){e.each(function(){d.apply(this,r||[a.responseText,b,a])})}),this};t.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){t.fn[b]=function(a){return this.on(b,a)}});t.expr.filters.animated=function(a){return t.grep(t.timers,
function(b){return a===b.elem}).length};t.offset={setOffset:function(a,b,d){var g,c,r,e=t.css(a,"position"),f=t(a),l={};"static"===e&&(a.style.position="relative");var D=f.offset();var m=t.css(a,"top");var q=t.css(a,"left");("absolute"===e||"fixed"===e)&&-1<t.inArray("auto",[m,q])?(g=f.position(),r=g.top,c=g.left):(r=parseFloat(m)||0,c=parseFloat(q)||0);t.isFunction(b)&&(b=b.call(a,d,t.extend({},D)));null!=b.top&&(l.top=b.top-D.top+r);null!=b.left&&(l.left=b.left-D.left+c);"using"in b?b.using.call(a,
l):f.css(l)}};t.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){t.offset.setOffset(this,a,b)});var b,d,g={top:0,left:0},c=this[0],r=c&&c.ownerDocument;if(r)return b=r.documentElement,t.contains(b,c)?("undefined"!=typeof c.getBoundingClientRect&&(g=c.getBoundingClientRect()),d=V(r),{top:g.top+(d.pageYOffset||b.scrollTop)-(b.clientTop||0),left:g.left+(d.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):g},position:function(){if(this[0]){var a,b,d={top:0,left:0},
g=this[0];return"fixed"===t.css(g,"position")?b=g.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),t.nodeName(a[0],"html")||(d=a.offset()),d.top+=t.css(a[0],"borderTopWidth",!0),d.left+=t.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-t.css(g,"marginTop",!0),left:b.left-d.left-t.css(g,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!t.nodeName(a,"html")&&"static"===t.css(a,"position");)a=a.offsetParent;return a||Hc})}});t.each({scrollLeft:"pageXOffset",
scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);t.fn[a]=function(g){return rb(this,function(a,g,c){var r=V(a);return void 0===c?r?b in r?r[b]:r.document.documentElement[g]:a[g]:void(r?r.scrollTo(d?t(r).scrollLeft():c,d?c:t(r).scrollTop()):a[g]=c)},a,g,arguments.length,null)}});t.each(["top","left"],function(a,b){t.cssHooks[b]=T(Q.pixelPosition,function(a,d){return d?(d=Tb(a,b),Yb.test(d)?t(a).position()[b]+"px":d):void 0})});t.each({Height:"height",Width:"width"},function(a,b){t.each({padding:"inner"+
a,content:b,"":"outer"+a},function(d,g){t.fn[g]=function(g,c){var r=arguments.length&&(d||"boolean"!=typeof g),e=d||(!0===g||!0===c?"margin":"border");return rb(this,function(b,d,g){var c;return t.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===g?t.css(b,d,e):t.style(b,d,g,e)},b,r?g:void 0,r,null)}})});t.fn.extend({bind:function(a,b,d){return this.on(a,null,b,
d)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,d,g){return this.on(b,a,d,g)},undelegate:function(a,b,d){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",d)}});t.fn.size=function(){return this.length};t.fn.andSelf=t.fn.addBack;"function"==typeof define&&define.amd&&define("jquery",[],function(){return t});var Ve=a.jQuery,Lc=a.$;return t.noConflict=function(b){return a.$===t&&(a.$=Lc),b&&a.jQuery===t&&(a.jQuery=Ve),t},c||(a.jQuery=a.$=t),t});/*
 jQuery UI - v1.12.1 - 2018-05-20
 http://jqueryui.com
 Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Widget 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Position 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
 jQuery UI :data 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Disable Selection 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Focusable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Form Reset Mixin 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Support for jQuery core 1.7.x 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 jQuery UI Keycode 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Labels 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Scroll Parent 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Tabbable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Unique ID 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Mouse 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Draggable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Droppable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Resizable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Selectable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Sortable 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Accordion 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Menu 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Autocomplete 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Controlgroup 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Checkboxradio 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Button 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Datepicker 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Dialog 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Progressbar 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Selectmenu 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Slider 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Spinner 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Tabs 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Tooltip 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery Color Animations v2.1.2
 https://github.com/jquery/jquery-color

 Copyright 2014 jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 Date: Wed Jan 16 08:47:09 2013 -0600
 jQuery UI Effects Blind 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Bounce 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Clip 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Drop 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Explode 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Fade 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Fold 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Highlight 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Size 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Scale 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Puff 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Pulsate 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Shake 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Slide 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
 jQuery UI Effects Transfer 1.12.1
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license
*/
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function c(a){for(var b;a.length&&a[0]!==document;){b=a.css("position");if("absolute"===b||"relative"===b||"fixed"===b)if(b=parseInt(a.css("zIndex"),10),!isNaN(b)&&0!==b)return b;a=a.parent()}return 0}function e(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass=
"ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),
monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,
navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};a.extend(this._defaults,
this.regional[""]);this.regional.en=a.extend(!0,{},this.regional[""]);this.regional["en-US"]=a.extend(!0,{},this.regional.en);this.dpDiv=m(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function m(b){return b.on("mouseout","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",function(){a(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover");
-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).on("mouseover","button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a",l)}function l(){a.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),
-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))}function f(b,d){a.extend(b,d);for(var g in d)null==d[g]&&(b[g]=d[g]);return b}function q(a){return function(){var b=this.element.val();a.apply(this,arguments);this._refresh();b!==this.element.val()&&this._trigger("change")}}a.ui=a.ui||{};a.ui.version="1.12.1";var z=0,B=Array.prototype.slice;a.cleanData=function(b){return function(d){var g,c,e;for(e=0;null!=(c=d[e]);e++)try{(g=a._data(c,"events"))&&g.remove&&
a(c).triggerHandler("remove")}catch(H){}b(d)}}(a.cleanData);a.widget=function(b,d,g){var c={},e=b.split(".")[0];b=b.split(".")[1];var f=e+"-"+b;g||(g=d,d=a.Widget);a.isArray(g)&&(g=a.extend.apply(null,[{}].concat(g)));a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)};a[e]=a[e]||{};var l=a[e][b];var m=a[e][b]=function(a,b){if(!this._createWidget)return new m(a,b);arguments.length&&this._createWidget(a,b)};a.extend(m,l,{version:g.version,_proto:a.extend({},g),_childConstructors:[]});var q=
new d;q.options=a.widget.extend({},q.options);a.each(g,function(b,g){a.isFunction(g)?c[b]=function(){function a(){return d.prototype[b].apply(this,arguments)}function c(a){return d.prototype[b].apply(this,a)}return function(){var b=this._super,d=this._superApply;this._super=a;this._superApply=c;var r=g.apply(this,arguments);this._super=b;this._superApply=d;return r}}():c[b]=g});m.prototype=a.widget.extend(q,{widgetEventPrefix:l?q.widgetEventPrefix||b:b},c,{constructor:m,namespace:e,widgetName:b,widgetFullName:f});
l?(a.each(l._childConstructors,function(b,d){b=d.prototype;a.widget(b.namespace+"."+b.widgetName,m,d._proto)}),delete l._childConstructors):d._childConstructors.push(m);a.widget.bridge(b,m);return m};a.widget.extend=function(b){for(var d=B.call(arguments,1),g=0,c=d.length,e,f;g<c;g++)for(e in d[g])f=d[g][e],d[g].hasOwnProperty(e)&&void 0!==f&&(a.isPlainObject(f)?b[e]=a.isPlainObject(b[e])?a.widget.extend({},b[e],f):a.widget.extend({},f):b[e]=f);return b};a.widget.bridge=function(b,d){var g=d.prototype.widgetFullName||
b;a.fn[b]=function(c){var r="string"===typeof c,e=B.call(arguments,1),f=this;r?this.length||"instance"!==c?this.each(function(){var d=a.data(this,g);if("instance"===c)return f=d,!1;if(!d)return a.error("cannot call methods on "+b+" prior to initialization; attempted to call method '"+c+"'");if(!a.isFunction(d[c])||"_"===c.charAt(0))return a.error("no such method '"+c+"' for "+b+" widget instance");var r=d[c].apply(d,e);if(r!==d&&void 0!==r)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):f=void 0:
(e.length&&(c=a.widget.extend.apply(null,[c].concat(e))),this.each(function(){var b=a.data(this,g);b?(b.option(c||{}),b._init&&b._init()):a.data(this,g,new d(c,this))}));return f}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0];this.element=a(d);this.uuid=z++;this.eventNamespace="."+this.widgetName+this.uuid;
this.bindings=a();this.hoverable=a();this.focusable=a();this.classesElementLookup={};d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow));this.options=a.widget.extend({},this.options,this._getCreateOptions(),b);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",
null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){var b=this;this._destroy();a.each(this.classesElementLookup,function(a,g){b._removeClass(g,a)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:a.noop,widget:function(){return this.element},option:function(b,
d){var g=b,c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"===typeof b){g={};var e=b.split(".");b=e.shift();if(e.length){var f=g[b]=a.widget.extend({},this.options[b]);for(c=0;c<e.length-1;c++)f[e[c]]=f[e[c]]||{},f=f[e[c]];b=e.pop();if(1===arguments.length)return void 0===f[b]?null:f[b];f[b]=d}else{if(1===arguments.length)return void 0===this.options[b]?null:this.options[b];g[b]=d}}this._setOptions(g);return this},_setOptions:function(a){for(var b in a)this._setOption(b,
a[b]);return this},_setOption:function(a,d){"classes"===a&&this._setOptionClasses(d);this.options[a]=d;"disabled"===a&&this._setOptionDisabled(d);return this},_setOptionClasses:function(b){var d;for(d in b){var g=this.classesElementLookup[d];if(b[d]!==this.options.classes[d]&&g&&g.length){var c=a(g.get());this._removeClass(g,d);c.addClass(this._classes({element:c,keys:d,classes:b,add:!0}))}}},_setOptionDisabled:function(a){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!a);
a&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(b){function d(d,r){var e;for(e=0;e<d.length;e++){var f=c.classesElementLookup[d[e]]||a();f=b.add?a(a.unique(f.get().concat(b.element.get()))):a(f.not(b.element).get());c.classesElementLookup[d[e]]=f;g.push(d[e]);r&&b.classes[d[e]]&&g.push(b.classes[d[e]])}}
var g=[],c=this;b=a.extend({element:this.element,classes:this.options.classes||{}},b);this._on(b.element,{remove:"_untrackClassesElement"});b.keys&&d(b.keys.match(/\S+/g)||[],!0);b.extra&&d(b.extra.match(/\S+/g)||[]);return g.join(" ")},_untrackClassesElement:function(b){var d=this;a.each(d.classesElementLookup,function(g,c){-1!==a.inArray(b.target,c)&&(d.classesElementLookup[g]=a(c.not(b.target).get()))})},_removeClass:function(a,d,g){return this._toggleClass(a,d,g,!1)},_addClass:function(a,d,g){return this._toggleClass(a,
d,g,!0)},_toggleClass:function(a,d,g,c){c="boolean"===typeof c?c:g;var b="string"===typeof a||null===a;a={extra:b?d:g,keys:b?a:d,element:b?this.element:a,add:c};a.element.toggleClass(this._classes(a),c);return this},_on:function(b,d,g){var c,e=this;"boolean"!==typeof b&&(g=d,d=b,b=!1);g?(d=c=a(d),this.bindings=this.bindings.add(d)):(g=d,d=this.element,c=this.widget());a.each(g,function(g,r){function f(){if(b||!0!==e.options.disabled&&!a(this).hasClass("ui-state-disabled"))return("string"===typeof r?
e[r]:r).apply(e,arguments)}"string"!==typeof r&&(f.guid=r.guid=r.guid||f.guid||a.guid++);var l=g.match(/^([\w:-]*)\s*(.*)$/);g=l[1]+e.eventNamespace;if(l=l[2])c.on(g,l,f);else d.on(g,f)})},_off:function(b,d){d=(d||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.off(d).off(d);this.bindings=a(this.bindings.not(b).get());this.focusable=a(this.focusable.not(b).get());this.hoverable=a(this.hoverable.not(b).get())},_delay:function(a,d){var b=this;return setTimeout(function(){return("string"===
typeof a?b[a]:a).apply(b,arguments)},d||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b);this._on(b,{mouseenter:function(b){this._addClass(a(b.currentTarget),null,"ui-state-hover")},mouseleave:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b);this._on(b,{focusin:function(b){this._addClass(a(b.currentTarget),null,"ui-state-focus")},focusout:function(b){this._removeClass(a(b.currentTarget),null,"ui-state-focus")}})},
_trigger:function(b,d,g){var c,e=this.options[b];g=g||{};d=a.Event(d);d.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase();d.target=this.element[0];if(b=d.originalEvent)for(c in b)c in d||(d[c]=b[c]);this.element.trigger(d,g);return!(a.isFunction(e)&&!1===e.apply(this.element[0],[d].concat(g))||d.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(b,d){a.Widget.prototype["_"+b]=function(g,c,e){"string"===typeof c&&(c={effect:c});var r=c?!0===c||"number"===
typeof c?d:c.effect||d:b;c=c||{};"number"===typeof c&&(c={duration:c});var f=!a.isEmptyObject(c);c.complete=e;c.delay&&g.delay(c.delay);if(f&&a.effects&&a.effects.effect[r])g[b](c);else if(r!==b&&g[r])g[r](c.duration,c.easing,e);else g.queue(function(d){a(this)[b]();e&&e.call(g[0]);d()})}});(function(){function b(a,b,d){return[parseFloat(a[0])*(z.test(a[0])?b/100:1),parseFloat(a[1])*(z.test(a[1])?d/100:1)]}function d(b){var d=b[0];return 9===d.nodeType?{width:b.width(),height:b.height(),offset:{top:0,
left:0}}:a.isWindow(d)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:d.preventDefault?{width:0,height:0,offset:{top:d.pageY,left:d.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}var g,c=Math.max,e=Math.abs,f=/left|center|right/,l=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,z=/%$/,u=a.fn.position;a.position={scrollbarWidth:function(){if(void 0!==g)return g;var b=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");
var d=b.children()[0];a("body").append(b);var c=d.offsetWidth;b.css("overflow","scroll");d=d.offsetWidth;c===d&&(d=b[0].clientWidth);b.remove();return g=c-d},getScrollInfo:function(b){var d=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),g=b.isWindow||b.isDocument?"":b.element.css("overflow-y");d="scroll"===d||"auto"===d&&b.width<b.element[0].scrollWidth;return{width:"scroll"===g||"auto"===g&&b.height<b.element[0].scrollHeight?a.position.scrollbarWidth():0,height:d?a.position.scrollbarWidth():
0}},getWithinInfo:function(b){var d=a(b||window),g=a.isWindow(d[0]),c=!!d[0]&&9===d[0].nodeType;return{element:d,isWindow:g,isDocument:c,offset:g||c?{left:0,top:0}:a(b).offset(),scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:d.outerWidth(),height:d.outerHeight()}}};a.fn.position=function(g){if(!g||!g.of)return u.apply(this,arguments);g=a.extend({},g);var r=a(g.of),D=a.position.getWithinInfo(g.within),z=a.position.getScrollInfo(D),H=(g.collision||"flip").split(" "),B={};var W=d(r);r[0].preventDefault&&
(g.at="left top");var v=W.width;var A=W.height;var C=W.offset;var R=a.extend({},C);a.each(["my","at"],function(){var a=(g[this]||"").split(" ");1===a.length&&(a=f.test(a[0])?a.concat(["center"]):l.test(a[0])?["center"].concat(a):["center","center"]);a[0]=f.test(a[0])?a[0]:"center";a[1]=l.test(a[1])?a[1]:"center";var b=m.exec(a[0]);var d=m.exec(a[1]);B[this]=[b?b[0]:0,d?d[0]:0];g[this]=[q.exec(a[0])[0],q.exec(a[1])[0]]});1===H.length&&(H[1]=H[0]);"right"===g.at[0]?R.left+=v:"center"===g.at[0]&&(R.left+=
v/2);"bottom"===g.at[1]?R.top+=A:"center"===g.at[1]&&(R.top+=A/2);var P=b(B.at,v,A);R.left+=P[0];R.top+=P[1];return this.each(function(){var d,f=a(this),l=f.outerWidth(),m=f.outerHeight(),q=parseInt(a.css(this,"marginLeft"),10)||0,u=parseInt(a.css(this,"marginTop"),10)||0,W=l+q+(parseInt(a.css(this,"marginRight"),10)||0)+z.width,X=m+u+(parseInt(a.css(this,"marginBottom"),10)||0)+z.height,I=a.extend({},R),J=b(B.my,f.outerWidth(),f.outerHeight());"right"===g.my[0]?I.left-=l:"center"===g.my[0]&&(I.left-=
l/2);"bottom"===g.my[1]?I.top-=m:"center"===g.my[1]&&(I.top-=m/2);I.left+=J[0];I.top+=J[1];var G={marginLeft:q,marginTop:u};a.each(["left","top"],function(b,d){if(a.ui.position[H[b]])a.ui.position[H[b]][d](I,{targetWidth:v,targetHeight:A,elemWidth:l,elemHeight:m,collisionPosition:G,collisionWidth:W,collisionHeight:X,offset:[P[0]+J[0],P[1]+J[1]],my:g.my,at:g.at,within:D,elem:f})});g.using&&(d=function(a){var b=C.left-I.left,d=b+v-l,D=C.top-I.top,q=D+A-m,z={target:{element:r,left:C.left,top:C.top,width:v,
height:A},element:{element:f,left:I.left,top:I.top,width:l,height:m},horizontal:0>d?"left":0<b?"right":"center",vertical:0>q?"top":0<D?"bottom":"middle"};v<l&&e(b+d)<v&&(z.horizontal="center");A<m&&e(D+q)<A&&(z.vertical="middle");c(e(b),e(d))>c(e(D),e(q))?z.important="horizontal":z.important="vertical";g.using.call(this,a,z)});f.offset(a.extend(I,{using:d}))})};a.ui.position={fit:{left:function(a,b){var d=b.within,g=d.isWindow?d.scrollLeft:d.offset.left,r=d.width,e=a.left-b.collisionPosition.marginLeft;
d=g-e;var f=e+b.collisionWidth-r-g;b.collisionWidth>r?0<d&&0>=f?(b=a.left+d+b.collisionWidth-r-g,a.left+=d-b):a.left=0<f&&0>=d?g:d>f?g+r-b.collisionWidth:g:a.left=0<d?a.left+d:0<f?a.left-f:c(a.left-e,a.left)},top:function(a,b){var d=b.within,g=d.isWindow?d.scrollTop:d.offset.top,r=b.within.height,e=a.top-b.collisionPosition.marginTop;d=g-e;var f=e+b.collisionHeight-r-g;b.collisionHeight>r?0<d&&0>=f?(b=a.top+d+b.collisionHeight-r-g,a.top+=d-b):a.top=0<f&&0>=d?g:d>f?g+r-b.collisionHeight:g:a.top=0<
d?a.top+d:0<f?a.top-f:c(a.top-e,a.top)}},flip:{left:function(a,b){var d=b.within,g=d.offset.left+d.scrollLeft,c=d.width,r=d.isWindow?d.scrollLeft:d.offset.left,f=a.left-b.collisionPosition.marginLeft;d=f-r;var l=f+b.collisionWidth-c-r;f="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0;var D="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,m=-2*b.offset[0];if(0>d){if(b=a.left+f+D+m+b.collisionWidth-c-g,0>b||b<e(d))a.left+=f+D+m}else 0<l&&(b=a.left-b.collisionPosition.marginLeft+
f+D+m-r,0<b||e(b)<l)&&(a.left+=f+D+m)},top:function(a,b){var d=b.within,g=d.offset.top+d.scrollTop,c=d.height,r=d.isWindow?d.scrollTop:d.offset.top,f=a.top-b.collisionPosition.marginTop;d=f-r;var l=f+b.collisionHeight-c-r;f="top"===b.my[1]?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0;var D="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,m=-2*b.offset[1];if(0>d){if(b=a.top+f+D+m+b.collisionHeight-c-g,0>b||b<e(d))a.top+=f+D+m}else 0<l&&(b=a.top-b.collisionPosition.marginTop+f+
D+m-r,0<b||e(b)<l)&&(a.top+=f+D+m)}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments);a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments);a.ui.position.fit.top.apply(this,arguments)}}}})();a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(d){return!!a.data(d,b)}}):function(b,d,g){return!!a.data(b,g[3])}});a.fn.extend({disableSelection:function(){var a="onselectstart"in document.createElement("div")?
"selectstart":"mousedown";return function(){return this.on(a+".ui-disableSelection",function(a){a.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});a.ui.focusable=function(b,d){var g=b.nodeName.toLowerCase();if("area"===g){d=b.parentNode;g=d.name;if(!b.href||!g||"map"!==d.nodeName.toLowerCase())return!1;b=a("img[usemap='#"+g+"']");return 0<b.length&&b.is(":visible")}/^(input|select|textarea|button|object)$/.test(g)?(d=!b.disabled)&&(g=a(b).closest("fieldset")[0])&&
(d=!g.disabled):d="a"===g?b.href||d:d;if(d=d&&a(b).is(":visible")){b=a(b);for(d=b.css("visibility");"inherit"===d;)b=b.parent(),d=b.css("visibility");d="hidden"!==d}return d};a.extend(a.expr[":"],{focusable:function(b){return a.ui.focusable(b,null!=a.attr(b,"tabindex"))}});a.fn.form=function(){return"string"===typeof this[0].form?this.closest("form"):a(this[0].form)};a.ui.formResetMixin={_formResetHandler:function(){var b=a(this);setTimeout(function(){var d=b.data("ui-form-reset-instances");a.each(d,
function(){this.refresh()})})},_bindFormResetHandler:function(){this.form=this.element.form();if(this.form.length){var a=this.form.data("ui-form-reset-instances")||[];if(!a.length)this.form.on("reset.ui-form-reset",this._formResetHandler);a.push(this);this.form.data("ui-form-reset-instances",a)}},_unbindFormResetHandler:function(){if(this.form.length){var b=this.form.data("ui-form-reset-instances");b.splice(a.inArray(this,b),1);b.length?this.form.data("ui-form-reset-instances",b):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};
"1.7"===a.fn.jquery.substring(0,3)&&(a.each(["Width","Height"],function(b,d){function g(b,d,g,r){a.each(c,function(){d-=parseFloat(a.css(b,"padding"+this))||0;g&&(d-=parseFloat(a.css(b,"border"+this+"Width"))||0);r&&(d-=parseFloat(a.css(b,"margin"+this))||0)});return d}var c="Width"===d?["Left","Right"]:["Top","Bottom"],e=d.toLowerCase(),f={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(b){return void 0===b?
f["inner"+d].call(this):this.each(function(){a(this).css(e,g(this,b)+"px")})};a.fn["outer"+d]=function(b,c){return"number"!==typeof b?f["outer"+d].call(this,b):this.each(function(){a(this).css(e,g(this,b,!0,c)+"px")})}}),a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};a.ui.escapeSelector=function(){var a=
/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(b){return b.replace(a,"\\$1")}}();a.fn.labels=function(){var b;if(this[0].labels&&this[0].labels.length)return this.pushStack(this[0].labels);var d=this.eq(0).parents("label");if(b=this.attr("id")){var g=this.eq(0).parents().last();g=g.add(g.length?g.siblings():this.siblings());b="label[for='"+a.ui.escapeSelector(b)+"']";d=d.add(g.find(b).addBack(b))}return this.pushStack(d)};a.fn.scrollParent=function(b){var d=this.css("position"),g="absolute"===
d,c=b?/(auto|scroll|hidden)/:/(auto|scroll)/;b=this.parents().filter(function(){var b=a(this);return g&&"static"===b.css("position")?!1:c.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==d&&b.length?b:a(this[0].ownerDocument||document)};a.extend(a.expr[":"],{tabbable:function(b){var d=a.attr(b,"tabindex"),g=null!=d;return(!g||0<=d)&&a.ui.focusable(b,g)}});a.fn.extend({uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id=
"ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&a(this).removeAttr("id")})}});a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var u=!1;a(document).on("mouseup",function(){u=!1});a.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.on("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).on("click."+this.widgetName,
function(d){if(!0===a.data(d.target,b.widgetName+".preventClickEvent"))return a.removeData(d.target,b.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!u){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=
b;var d=this,g=1===b.which,c="string"===typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;if(!g||c||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=!1!==this._mouseStart(b),!this._mouseStarted))return b.preventDefault(),!0;!0===a.data(b.target,this.widgetName+
".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return d._mouseMove(a)};this._mouseUpDelegate=function(a){return d._mouseUp(a)};this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return u=!0}},_mouseMove:function(b){if(this._mouseMoved){if(a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button)return this._mouseUp(b);if(!b.which)if(b.originalEvent.altKey||
b.originalEvent.ctrlKey||b.originalEvent.metaKey||b.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(b)}if(b.which||b.button)this._mouseMoved=!0;if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,b))?this._mouseDrag(b):this._mouseUp(b));return!this._mouseStarted},_mouseUp:function(b){this.document.off("mousemove."+
this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);u=this.ignoreMissingWhich=!1;b.preventDefault()},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-
a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});a.ui.plugin={add:function(b,d,g){var c;b=a.ui[b].prototype;for(c in g)b.plugins[c]=b.plugins[c]||[],b.plugins[c].push([d,g[c]])},call:function(a,d,g,c){if((d=a.plugins[d])&&(c||a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType))for(c=0;c<d.length;c++)a.options[d[c][0]]&&d[c][1].apply(a.element,
g)}};a.ui.safeActiveElement=function(a){try{var b=a.activeElement}catch(g){b=a.body}b||(b=a.body);b.nodeName||(b=a.body);return b};a.ui.safeBlur=function(b){b&&"body"!==b.nodeName.toLowerCase()&&a(b).trigger("blur")};a.widget("ui.draggable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,
scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(a,d){this._super(a,d);"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?
this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(b){var d=this.options;if(this.helper||d.disabled||0<a(b.target).closest(".ui-resizable-handle").length)return!1;this.handle=this._getHandle(b);if(!this.handle)return!1;this._blurActiveElement(b);this._blockFrames(!0===d.iframeFix?"iframe":d.iframeFix);return!0},_blockFrames:function(b){this.iframeBlocks=this.document.find(b).map(function(){var b=a(this);return a("<div>").css("position","absolute").appendTo(b.parent()).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).offset(b.offset())[0]})},
_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(b){var d=a.ui.safeActiveElement(this.document[0]);a(b.target).closest(d).length||a.ui.safeBlur(d)},_mouseStart:function(b){var d=this.options;this.helper=this._createHelper(b);this._addClass(this.helper,"ui-draggable-dragging");this._cacheHelperProportions();a.ui.ddmanager&&(a.ui.ddmanager.current=this);this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=
this.helper.scrollParent(!0);this.offsetParent=this.helper.offsetParent();this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===a(this).css("position")}).length;this.positionAbs=this.element.offset();this._refreshOffsets(b);this.originalPosition=this.position=this._generatePosition(b,!1);this.originalPageX=b.pageX;this.originalPageY=b.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this._setContainment();if(!1===this._trigger("start",b))return this._clear(),!1;
this._cacheHelperProportions();a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this._mouseDrag(b,!0);a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b);return!0},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(b,d){this.hasFixedAncestor&&
(this.offset.parent=this._getParentOffset());this.position=this._generatePosition(b,!0);this.positionAbs=this._convertPositionTo("absolute");if(!d){d=this._uiHash();if(!1===this._trigger("drag",b,d))return this._mouseUp(new a.Event("mouseup",b)),!1;this.position=d.position}this.helper[0].style.left=this.position.left+"px";this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return!1},_mouseStop:function(b){var d=this,g=!1;a.ui.ddmanager&&!this.options.dropBehaviour&&
(g=a.ui.ddmanager.drop(this,b));this.dropped&&(g=this.dropped,this.dropped=!1);"invalid"===this.options.revert&&!g||"valid"===this.options.revert&&g||!0===this.options.revert||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==d._trigger("stop",b)&&d._clear()}):!1!==this._trigger("stop",b)&&this._clear();return!1},_mouseUp:function(b){this._unblockFrames();a.ui.ddmanager&&
a.ui.ddmanager.dragStop(this,b);this.handleElement.is(b.target)&&this.element.trigger("focus");return a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp(new a.Event("mouseup",{target:this.element[0]})):this._clear();return this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):
this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(b){var d=this.options,g=a.isFunction(d.helper);b=g?a(d.helper.apply(this.element[0],[b])):"clone"===d.helper?this.element.clone().removeAttr("id"):this.element;b.parents("body").length||b.appendTo("parent"===d.appendTo?this.element[0].parentNode:d.appendTo);g&&b[0]===this.element[0]&&this._setPositionRelative();
b[0]===this.element[0]||/(fixed|absolute)/.test(b.css("position"))||b.css("position","absolute");return b},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left);
"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var b=this.offsetParent.offset(),d=this.document[0];"absolute"===this.cssPosition&&this.scrollParent[0]!==d&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());
this._isRootNode(this.offsetParent[0])&&(b={top:0,left:0});return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var a=this.element.position(),d=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(d?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),
10)||0)+(d?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b;var d=this.options;var g=this.document[0];this.relativeContainer=
null;if(d.containment)if("window"===d.containment)this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if("document"===d.containment)this.containment=[0,0,a(g).width()-this.helperProportions.width-
this.margins.left,(a(g).height()||g.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];else if(d.containment.constructor===Array)this.containment=d.containment;else{if("parent"===d.containment&&(d.containment=this.helper[0].parentNode),g=a(d.containment),b=g[0])d=/(scroll|auto)/.test(g.css("overflow")),this.containment=[(parseInt(g.css("borderLeftWidth"),10)||0)+(parseInt(g.css("paddingLeft"),10)||0),(parseInt(g.css("borderTopWidth"),10)||0)+(parseInt(g.css("paddingTop"),
10)||0),(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(g.css("borderRightWidth"),10)||0)-(parseInt(g.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(g.css("borderBottomWidth"),10)||0)-(parseInt(g.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=g}else this.containment=null},_convertPositionTo:function(a,
d){d||(d=this.position);a="absolute"===a?1:-1;var b=this._isRootNode(this.scrollParent[0]);return{top:d.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:b?0:this.offset.scroll.top)*a,left:d.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:b?0:this.offset.scroll.left)*a}},_generatePosition:function(a,d){var b=this.options,c=this._isRootNode(this.scrollParent[0]);var e=a.pageX;var f=
a.pageY;c&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()});if(d){if(this.containment){if(this.relativeContainer){var l=this.relativeContainer.offset();l=[this.containment[0]+l.left,this.containment[1]+l.top,this.containment[2]+l.left,this.containment[3]+l.top]}else l=this.containment;a.pageX-this.offset.click.left<l[0]&&(e=l[0]+this.offset.click.left);a.pageY-this.offset.click.top<l[1]&&(f=l[1]+this.offset.click.top);a.pageX-this.offset.click.left>
l[2]&&(e=l[2]+this.offset.click.left);a.pageY-this.offset.click.top>l[3]&&(f=l[3]+this.offset.click.top)}b.grid&&(f=b.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/b.grid[1])*b.grid[1]:this.originalPageY,f=l?f-this.offset.click.top>=l[1]||f-this.offset.click.top>l[3]?f:f-this.offset.click.top>=l[1]?f-b.grid[1]:f+b.grid[1]:f,e=b.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0]:this.originalPageX,e=l?e-this.offset.click.left>=l[0]||e-this.offset.click.left>
l[2]?e:e-this.offset.click.left>=l[0]?e-b.grid[0]:e+b.grid[0]:e);"y"===b.axis&&(e=this.originalPageX);"x"===b.axis&&(f=this.originalPageY)}return{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:c?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:c?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,
"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(b,d,g){g=g||this._uiHash();a.ui.plugin.call(this,b,[d,g,this],!0);/^(drag|start|stop)/.test(b)&&(this.positionAbs=this._convertPositionTo("absolute"),g.offset=this.positionAbs);return a.Widget.prototype._trigger.call(this,b,d,g)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,
originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,d,g){var c=a.extend({},d,{item:g.element});g.sortables=[];a(g.options.connectToSortable).each(function(){var d=a(this).sortable("instance");d&&!d.options.disabled&&(g.sortables.push(d),d.refreshPositions(),d._trigger("activate",b,c))})},stop:function(b,d,g){var c=a.extend({},d,{item:g.element});g.cancelHelperRemoval=!1;a.each(g.sortables,function(){this.isOver?(this.isOver=
0,g.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(b),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",b,c))})},drag:function(b,d,g){a.each(g.sortables,function(){var c=!1,e=this;e.positionAbs=g.positionAbs;e.helperProportions=g.helperProportions;e.offset.click=g.offset.click;e._intersectsWith(e.containerCache)&&
(c=!0,a.each(g.sortables,function(){this.positionAbs=g.positionAbs;this.helperProportions=g.helperProportions;this.offset.click=g.offset.click;this!==e&&this._intersectsWith(this.containerCache)&&a.contains(e.element[0],this.element[0])&&(c=!1);return c}));c?(e.isOver||(e.isOver=1,g._parent=d.helper.parent(),e.currentItem=d.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return d.helper[0]},b.target=e.currentItem[0],e._mouseCapture(b,
!0),e._mouseStart(b,!0,!0),e.offset.click.top=g.offset.click.top,e.offset.click.left=g.offset.click.left,e.offset.parent.left-=g.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=g.offset.parent.top-e.offset.parent.top,g._trigger("toSortable",b),g.dropped=e.element,a.each(g.sortables,function(){this.refreshPositions()}),g.currentItem=g.element,e.fromOutside=g),e.currentItem&&(e._mouseDrag(b),d.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,
e.options.revert=!1,e._trigger("out",b,e._uiHash(e)),e._mouseStop(b,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),d.helper.appendTo(g._parent),g._refreshOffsets(b),d.position=g._generatePosition(b,!0),g._trigger("fromSortable",b),g.dropped=!1,a.each(g.sortables,function(){this.refreshPositions()}))})}});a.ui.plugin.add("draggable","cursor",{start:function(b,d,g){b=a("body");g=g.options;b.css("cursor")&&(g._cursor=b.css("cursor"));b.css("cursor",
g.cursor)},stop:function(b,d,g){b=g.options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","opacity",{start:function(b,d,g){b=a(d.helper);g=g.options;b.css("opacity")&&(g._opacity=b.css("opacity"));b.css("opacity",g.opacity)},stop:function(b,d,g){b=g.options;b._opacity&&a(d.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(a,d,g){g.scrollParentNotHidden||(g.scrollParentNotHidden=g.helper.scrollParent(!1));g.scrollParentNotHidden[0]!==
g.document[0]&&"HTML"!==g.scrollParentNotHidden[0].tagName&&(g.overflowOffset=g.scrollParentNotHidden.offset())},drag:function(b,d,g){d=g.options;var c=!1,e=g.scrollParentNotHidden[0],f=g.document[0];e!==f&&"HTML"!==e.tagName?(d.axis&&"x"===d.axis||(g.overflowOffset.top+e.offsetHeight-b.pageY<d.scrollSensitivity?e.scrollTop=c=e.scrollTop+d.scrollSpeed:b.pageY-g.overflowOffset.top<d.scrollSensitivity&&(e.scrollTop=c=e.scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(g.overflowOffset.left+e.offsetWidth-
b.pageX<d.scrollSensitivity?e.scrollLeft=c=e.scrollLeft+d.scrollSpeed:b.pageX-g.overflowOffset.left<d.scrollSensitivity&&(e.scrollLeft=c=e.scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(f).scrollTop()<d.scrollSensitivity?c=a(f).scrollTop(a(f).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(f).scrollTop())<d.scrollSensitivity&&(c=a(f).scrollTop(a(f).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(f).scrollLeft()<d.scrollSensitivity?c=a(f).scrollLeft(a(f).scrollLeft()-
d.scrollSpeed):a(window).width()-(b.pageX-a(f).scrollLeft())<d.scrollSensitivity&&(c=a(f).scrollLeft(a(f).scrollLeft()+d.scrollSpeed))));!1!==c&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(g,b)}});a.ui.plugin.add("draggable","snap",{start:function(b,d,g){b=g.options;g.snapElements=[];a(b.snap.constructor!==String?b.snap.items||":data(ui-draggable)":b.snap).each(function(){var b=a(this),d=b.offset();this!==g.element[0]&&g.snapElements.push({item:this,width:b.outerWidth(),height:b.outerHeight(),
top:d.top,left:d.left})})},drag:function(b,d,g){var c,e=g.options,f=e.snapTolerance,l=d.offset.left,m=l+g.helperProportions.width,q=d.offset.top,z=q+g.helperProportions.height;for(c=g.snapElements.length-1;0<=c;c--){var u=g.snapElements[c].left-g.margins.left;var B=u+g.snapElements[c].width;var v=g.snapElements[c].top-g.margins.top;var A=v+g.snapElements[c].height;if(m<u-f||l>B+f||z<v-f||q>A+f||!a.contains(g.snapElements[c].item.ownerDocument,g.snapElements[c].item))g.snapElements[c].snapping&&g.options.snap.release&&
g.options.snap.release.call(g.element,b,a.extend(g._uiHash(),{snapItem:g.snapElements[c].item})),g.snapElements[c].snapping=!1;else{if("inner"!==e.snapMode){var C=Math.abs(v-z)<=f;var S=Math.abs(A-q)<=f;var ba=Math.abs(u-m)<=f;var T=Math.abs(B-l)<=f;C&&(d.position.top=g._convertPositionTo("relative",{top:v-g.helperProportions.height,left:0}).top);S&&(d.position.top=g._convertPositionTo("relative",{top:A,left:0}).top);ba&&(d.position.left=g._convertPositionTo("relative",{top:0,left:u-g.helperProportions.width}).left);
T&&(d.position.left=g._convertPositionTo("relative",{top:0,left:B}).left)}var Y=C||S||ba||T;"outer"!==e.snapMode&&(C=Math.abs(v-q)<=f,S=Math.abs(A-z)<=f,ba=Math.abs(u-l)<=f,T=Math.abs(B-m)<=f,C&&(d.position.top=g._convertPositionTo("relative",{top:v,left:0}).top),S&&(d.position.top=g._convertPositionTo("relative",{top:A-g.helperProportions.height,left:0}).top),ba&&(d.position.left=g._convertPositionTo("relative",{top:0,left:u}).left),T&&(d.position.left=g._convertPositionTo("relative",{top:0,left:B-
g.helperProportions.width}).left));!g.snapElements[c].snapping&&(C||S||ba||T||Y)&&g.options.snap.snap&&g.options.snap.snap.call(g.element,b,a.extend(g._uiHash(),{snapItem:g.snapElements[c].item}));g.snapElements[c].snapping=C||S||ba||T||Y}}}});a.ui.plugin.add("draggable","stack",{start:function(b,d,g){b=a.makeArray(a(g.options.stack)).sort(function(b,d){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(d).css("zIndex"),10)||0)});if(b.length){var c=parseInt(a(b[0]).css("zIndex"),10)||0;a(b).each(function(b){a(this).css("zIndex",
c+b)});this.css("zIndex",c+b.length)}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,d,g){b=a(d.helper);g=g.options;b.css("zIndex")&&(g._zIndex=b.css("zIndex"));b.css("zIndex",g.zIndex)},stop:function(b,d,g){b=g.options;b._zIndex&&a(d.helper).css("zIndex",b._zIndex)}});a.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,
d=this.options,g=d.accept;this.isover=!1;this.isout=!0;this.accept=a.isFunction(g)?g:function(a){return a.is(g)};this.proportions=function(){if(arguments.length)b=arguments[0];else return b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(d.scope);d.addClasses&&this._addClass("ui-droppable")},_addToManager:function(b){a.ui.ddmanager.droppables[b]=a.ui.ddmanager.droppables[b]||[];a.ui.ddmanager.droppables[b].push(this)},_splice:function(a){for(var b=0;b<
a.length;b++)a[b]===this&&a.splice(b,1)},_destroy:function(){this._splice(a.ui.ddmanager.droppables[this.options.scope])},_setOption:function(b,d){"accept"===b?this.accept=a.isFunction(d)?d:function(a){return a.is(d)}:"scope"===b&&(this._splice(a.ui.ddmanager.droppables[this.options.scope]),this._addToManager(d));this._super(b,d)},_activate:function(b){var d=a.ui.ddmanager.current;this._addActiveClass();d&&this._trigger("activate",b,this.ui(d))},_deactivate:function(b){var d=a.ui.ddmanager.current;
this._removeActiveClass();d&&this._trigger("deactivate",b,this.ui(d))},_over:function(b){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this._addHoverClass(),this._trigger("over",b,this.ui(d)))},_out:function(b){var d=a.ui.ddmanager.current;d&&(d.currentItem||d.element)[0]!==this.element[0]&&this.accept.call(this.element[0],d.currentItem||d.element)&&(this._removeHoverClass(),this._trigger("out",b,this.ui(d)))},
_drop:function(b,d){var g=d||a.ui.ddmanager.current,c=!1;if(!g||(g.currentItem||g.element)[0]===this.element[0])return!1;this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var d=a(this).droppable("instance");if(d.options.greedy&&!d.options.disabled&&d.options.scope===g.options.scope&&d.accept.call(d.element[0],g.currentItem||g.element)&&C(g,a.extend(d,{offset:d.element.offset()}),d.options.tolerance,b))return c=!0,!1});return c?!1:this.accept.call(this.element[0],
g.currentItem||g.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",b,this.ui(g)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});
var C=a.ui.intersect=function(){return function(a,d,g,c){if(!d.offset)return!1;var b=(a.positionAbs||a.position.absolute).left+a.margins.left,r=(a.positionAbs||a.position.absolute).top+a.margins.top,e=b+a.helperProportions.width,f=r+a.helperProportions.height,l=d.offset.left,m=d.offset.top,q=l+d.proportions().width,z=m+d.proportions().height;switch(g){case "fit":return l<=b&&e<=q&&m<=r&&f<=z;case "intersect":return l<b+a.helperProportions.width/2&&e-a.helperProportions.width/2<q&&m<r+a.helperProportions.height/
2&&f-a.helperProportions.height/2<z;case "pointer":a=c.pageY;g=d.proportions().height;if(m=a>=m&&a<m+g)c=c.pageX,d=d.proportions().width,m=c>=l&&c<l+d;return m;case "touch":return(r>=m&&r<=z||f>=m&&f<=z||r<m&&f>z)&&(b>=l&&b<=q||e>=l&&e<=q||b<l&&e>q);default:return!1}}}();a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,d){var g,c=a.ui.ddmanager.droppables[b.options.scope]||[],e=d?d.type:null,f=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();var l=0;
a:for(;l<c.length;l++)if(!(c[l].options.disabled||b&&!c[l].accept.call(c[l].element[0],b.currentItem||b.element))){for(g=0;g<f.length;g++)if(f[g]===c[l].element[0]){c[l].proportions().height=0;continue a}c[l].visible="none"!==c[l].element.css("display");c[l].visible&&("mousedown"===e&&c[l]._activate.call(c[l],d),c[l].offset=c[l].element.offset(),c[l].proportions({width:c[l].element[0].offsetWidth,height:c[l].element[0].offsetHeight}))}},drop:function(b,d){var g=!1;a.each((a.ui.ddmanager.droppables[b.options.scope]||
[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&C(b,this,this.options.tolerance,d)&&(g=this._drop.call(this,d)||g),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,d)))});return g},dragStart:function(b,d){b.element.parentsUntil("body").on("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,d)})},drag:function(b,d){b.options.refreshPositions&&
a.ui.ddmanager.prepareOffsets(b,d);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var g=C(b,this,this.options.tolerance,d);var c=!g&&this.isover?"isout":g&&!this.isover?"isover":null;if(c){if(this.options.greedy){var e=this.options.scope;g=this.element.parents(":data(ui-droppable)").filter(function(){return a(this).droppable("instance").options.scope===e});if(g.length){var f=a(g[0]).droppable("instance");f.greedyChild="isover"===
c}}f&&"isover"===c&&(f.isover=!1,f.isout=!0,f._out.call(f,d));this[c]=!0;this["isout"===c?"isover":"isout"]=!1;this["isover"===c?"_over":"_out"].call(this,d);f&&"isout"===c&&(f.isout=!1,f.isover=!0,f._over.call(f,d))}}})},dragStop:function(b,d){b.element.parentsUntil("body").off("scroll.droppable");b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,d)}};!1!==a.uiBackCompat&&a.widget("ui.droppable",a.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();
this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});a.widget("ui.resizable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",
options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(a){return parseFloat(a)||0},_isNumber:function(a){return!isNaN(parseFloat(a))},_hasScroll:function(b,d){if("hidden"===a(b).css("overflow"))return!1;d=d&&"left"===
d?"scrollLeft":"scrollTop";if(0<b[d])return!0;b[d]=1;var g=0<b[d];b[d]=0;return g},_create:function(){var b=this.options,d=this;this._addClass("ui-resizable");a.extend(this,{_aspectRatio:!!b.aspectRatio,aspectRatio:b.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:b.helper||b.ghost||b.animate?b.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)){this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),
width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance"));this.elementIsWrapper=!0;var g={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")};this.element.css(g);this.originalElement.css("margin",
0);this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css(g);this._proportionallyResize()}this._setupHandles();if(b.autoHide)a(this.element).on("mouseenter",function(){b.disabled||(d._removeClass("ui-resizable-autohide"),d._handles.show())}).on("mouseleave",function(){b.disabled||d.resizing||(d._addClass("ui-resizable-autohide"),
d._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(b){a(b).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var d=this.element;this.originalElement.css({position:d.css("position"),width:d.outerWidth(),height:d.outerHeight(),top:d.css("top"),left:d.css("left")}).insertAfter(d);d.remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);
return this},_setOption:function(a,d){this._super(a,d);switch(a){case "handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var b=this.options,d,g=this;this.handles=b.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");this._handles=a();if(this.handles.constructor===String){"all"===this.handles&&
(this.handles="n,e,s,w,se,sw,ne,nw");var c=this.handles.split(",");this.handles={};for(d=0;d<c.length;d++){var e=a.trim(c[d]);var f="ui-resizable-"+e;var l=a("<div>");this._addClass(l,"ui-resizable-handle "+f);l.css({zIndex:b.zIndex});this.handles[e]=".ui-resizable-"+e;this.element.append(l)}}this._renderAxis=function(b){var d;b=b||this.element;for(d in this.handles){if(this.handles[d].constructor===String)this.handles[d]=this.element.children(this.handles[d]).first().show();else if(this.handles[d].jquery||
this.handles[d].nodeType)this.handles[d]=a(this.handles[d]),this._on(this.handles[d],{mousedown:g._mouseDown});if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)){var c=a(this.handles[d],this.element);var r=/sw|ne|nw|se|n|s/.test(d)?c.outerHeight():c.outerWidth();c=["padding",/ne|nw|n/.test(d)?"Top":/se|sw|s/.test(d)?"Bottom":/^e$/.test(d)?"Right":"Left"].join("");b.css(c,r);this._proportionallyResize()}this._handles=this._handles.add(this.handles[d])}};
this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){g.resizing||(this.className&&(l=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=l&&l[1]?l[1]:"se")});b.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(b){var d,g=!1;for(d in this.handles){var c=a(this.handles[d])[0];
if(c===b.target||a.contains(c,b.target))g=!0}return!this.options.disabled&&g},_mouseStart:function(b){var d=this.options,g=this.element;this.resizing=!0;this._renderProxy();var c=this._num(this.helper.css("left"));var e=this._num(this.helper.css("top"));d.containment&&(c+=a(d.containment).scrollLeft()||0,e+=a(d.containment).scrollTop()||0);this.offset=this.helper.offset();this.position={left:c,top:e};this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:g.width(),height:g.height()};
this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalPosition={left:c,top:e};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio="number"===typeof d.aspectRatio?d.aspectRatio:this.originalSize.width/this.originalSize.height||1;c=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor","auto"===c?this.axis+"-resize":c);
this._addClass("ui-resizable-resizing");this._propagate("start",b);return!0},_mouseDrag:function(b){var d=this.originalMousePosition;var g=b.pageX-d.left||0;d=b.pageY-d.top||0;var c=this._change[this.axis];this._updatePrevProperties();if(!c)return!1;g=c.apply(this,[b,g,d]);this._updateVirtualBoundaries(b.shiftKey);if(this._aspectRatio||b.shiftKey)g=this._updateRatio(g,b);g=this._respectSize(g,b);this._updateCache(g);this._propagate("resize",b);g=this._applyChanges();!this._helper&&this._proportionallyResizeElements.length&&
this._proportionallyResize();a.isEmptyObject(g)||(this._updatePrevProperties(),this._trigger("resize",b,this.ui()),this._applyChanges());return!1},_mouseStop:function(b){this.resizing=!1;var d,g=this.options;if(this._helper){var c=this._proportionallyResizeElements;c=(d=c.length&&/textarea/i.test(c[0].nodeName))&&this._hasScroll(c[0],"left")?0:this.sizeDiff.height;d=d?0:this.sizeDiff.width;d={width:this.helper.width()-d,height:this.helper.height()-c};c=parseFloat(this.element.css("left"))+(this.position.left-
this.originalPosition.left)||null;var e=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null;g.animate||this.element.css(a.extend(d,{top:e,left:c}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!g.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this._removeClass("ui-resizable-resizing");this._propagate("stop",b);this._helper&&this.helper.remove();return!1},_updatePrevProperties:function(){this.prevPosition=
{top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var a={};this.position.top!==this.prevPosition.top&&(a.top=this.position.top+"px");this.position.left!==this.prevPosition.left&&(a.left=this.position.left+"px");this.size.width!==this.prevSize.width&&(a.width=this.size.width+"px");this.size.height!==this.prevSize.height&&(a.height=this.size.height+"px");this.helper.css(a);return a},_updateVirtualBoundaries:function(a){var b=
this.options;b={minWidth:this._isNumber(b.minWidth)?b.minWidth:0,maxWidth:this._isNumber(b.maxWidth)?b.maxWidth:Infinity,minHeight:this._isNumber(b.minHeight)?b.minHeight:0,maxHeight:this._isNumber(b.maxHeight)?b.maxHeight:Infinity};if(this._aspectRatio||a){a=b.minHeight*this.aspectRatio;var g=b.minWidth/this.aspectRatio;var c=b.maxHeight*this.aspectRatio;var e=b.maxWidth/this.aspectRatio;a>b.minWidth&&(b.minWidth=a);g>b.minHeight&&(b.minHeight=g);c<b.maxWidth&&(b.maxWidth=c);e<b.maxHeight&&(b.maxHeight=
e)}this._vBoundaries=b},_updateCache:function(a){this.offset=this.helper.offset();this._isNumber(a.left)&&(this.position.left=a.left);this._isNumber(a.top)&&(this.position.top=a.top);this._isNumber(a.height)&&(this.size.height=a.height);this._isNumber(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,g=this.size,c=this.axis;this._isNumber(a.height)?a.width=a.height*this.aspectRatio:this._isNumber(a.width)&&(a.height=a.width/this.aspectRatio);"sw"===c&&(a.left=b.left+
(g.width-a.width),a.top=null);"nw"===c&&(a.top=b.top+(g.height-a.height),a.left=b.left+(g.width-a.width));return a},_respectSize:function(a){var b=this._vBoundaries,g=this.axis,c=this._isNumber(a.width)&&b.maxWidth&&b.maxWidth<a.width,e=this._isNumber(a.height)&&b.maxHeight&&b.maxHeight<a.height,f=this._isNumber(a.width)&&b.minWidth&&b.minWidth>a.width,l=this._isNumber(a.height)&&b.minHeight&&b.minHeight>a.height,m=this.originalPosition.left+this.originalSize.width,q=this.originalPosition.top+this.originalSize.height,
z=/sw|nw|w/.test(g);g=/nw|ne|n/.test(g);f&&(a.width=b.minWidth);l&&(a.height=b.minHeight);c&&(a.width=b.maxWidth);e&&(a.height=b.maxHeight);f&&z&&(a.left=m-b.minWidth);c&&z&&(a.left=m-b.maxWidth);l&&g&&(a.top=q-b.minHeight);e&&g&&(a.top=q-b.maxHeight);a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null;return a},_getPaddingPlusBorderDimensions:function(a){var b=0,g=[],c=[a.css("borderTopWidth"),a.css("borderRightWidth"),a.css("borderBottomWidth"),a.css("borderLeftWidth")];
for(a=[a.css("paddingTop"),a.css("paddingRight"),a.css("paddingBottom"),a.css("paddingLeft")];4>b;b++)g[b]=parseFloat(c[b])||0,g[b]+=parseFloat(a[b])||0;return{height:g[0]+g[2],width:g[1]+g[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var a,d=0,g=this.helper||this.element;d<this._proportionallyResizeElements.length;d++)a=this._proportionallyResizeElements[d],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(a)),a.css({height:g.height()-
this.outerDimensions.height||0,width:g.width()-this.outerDimensions.width||0})},_renderProxy:function(){var b=this.options;this.elementOffset=this.element.offset();this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++b.zIndex}),this.helper.appendTo("body").disableSelection()):
this.helper=this.element},_change:{e:function(a,d){return{width:this.originalSize.width+d}},w:function(a,d){return{left:this.originalPosition.left+d,width:this.originalSize.width-d}},n:function(a,d,g){return{top:this.originalPosition.top+g,height:this.originalSize.height-g}},s:function(a,d,g){return{height:this.originalSize.height+g}},se:function(b,d,g){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,d,g]))},sw:function(b,d,g){return a.extend(this._change.s.apply(this,
arguments),this._change.w.apply(this,[b,d,g]))},ne:function(b,d,g){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,d,g]))},nw:function(b,d,g){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,d,g]))}},_propagate:function(b,d){a.ui.plugin.call(this,b,[d,this.ui()]);"resize"!==b&&this._trigger(b,d,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,
size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});a.ui.plugin.add("resizable","animate",{stop:function(b){var d=a(this).resizable("instance"),g=d.options,c=d._proportionallyResizeElements,e=c.length&&/textarea/i.test(c[0].nodeName),f=e&&d._hasScroll(c[0],"left")?0:d.sizeDiff.height;e={width:d.size.width-(e?0:d.sizeDiff.width),height:d.size.height-f};f=parseFloat(d.element.css("left"))+(d.position.left-d.originalPosition.left)||null;var l=parseFloat(d.element.css("top"))+
(d.position.top-d.originalPosition.top)||null;d.element.animate(a.extend(e,l&&f?{top:l,left:f}:{}),{duration:g.animateDuration,easing:g.animateEasing,step:function(){var g={width:parseFloat(d.element.css("width")),height:parseFloat(d.element.css("height")),top:parseFloat(d.element.css("top")),left:parseFloat(d.element.css("left"))};c&&c.length&&a(c[0]).css({width:g.width,height:g.height});d._updateCache(g);d._propagate("resize",b)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var b=
a(this).resizable("instance"),d=b.element;var g=b.options.containment;if(d=g instanceof a?g.get(0):/parent/.test(g)?d.parent().get(0):g)if(b.containerElement=a(d),/document/.test(g)||g===document)b.containerOffset={left:0,top:0},b.containerPosition={left:0,top:0},b.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight};else{var c=a(d);var e=[];a(["Top","Right","Left","Bottom"]).each(function(a,d){e[a]=b._num(c.css("padding"+
d))});b.containerOffset=c.offset();b.containerPosition=c.position();b.containerSize={height:c.innerHeight()-e[3],width:c.innerWidth()-e[1]};g=b.containerOffset;var f=b.containerSize.height;var l=b.containerSize.width;l=b._hasScroll(d,"left")?d.scrollWidth:l;f=b._hasScroll(d)?d.scrollHeight:f;b.parentData={element:d,left:g.left,top:g.top,width:l,height:f}}},resize:function(b){var d=a(this).resizable("instance");var g=d.options;var c=d.containerOffset;var e=d.position;b=d._aspectRatio||b.shiftKey;var f=
{top:0,left:0},l=d.containerElement,m=!0;l[0]!==document&&/static/.test(l.css("position"))&&(f=c);e.left<(d._helper?c.left:0)&&(d.size.width+=d._helper?d.position.left-c.left:d.position.left-f.left,b&&(d.size.height=d.size.width/d.aspectRatio,m=!1),d.position.left=g.helper?c.left:0);e.top<(d._helper?c.top:0)&&(d.size.height+=d._helper?d.position.top-c.top:d.position.top,b&&(d.size.width=d.size.height*d.aspectRatio,m=!1),d.position.top=d._helper?c.top:0);g=d.containerElement.get(0)===d.element.parent().get(0);
e=/relative|absolute/.test(d.containerElement.css("position"));g&&e?(d.offset.left=d.parentData.left+d.position.left,d.offset.top=d.parentData.top+d.position.top):(d.offset.left=d.element.offset().left,d.offset.top=d.element.offset().top);g=Math.abs(d.sizeDiff.width+(d._helper?d.offset.left-f.left:d.offset.left-c.left));c=Math.abs(d.sizeDiff.height+(d._helper?d.offset.top-f.top:d.offset.top-c.top));g+d.size.width>=d.parentData.width&&(d.size.width=d.parentData.width-g,b&&(d.size.height=d.size.width/
d.aspectRatio,m=!1));c+d.size.height>=d.parentData.height&&(d.size.height=d.parentData.height-c,b&&(d.size.width=d.size.height*d.aspectRatio,m=!1));m||(d.position.left=d.prevPosition.left,d.position.top=d.prevPosition.top,d.size.width=d.prevSize.width,d.size.height=d.prevSize.height)},stop:function(){var b=a(this).resizable("instance"),d=b.options,g=b.containerOffset,c=b.containerPosition,e=b.containerElement,f=a(b.helper),l=f.offset(),m=f.outerWidth()-b.sizeDiff.width;f=f.outerHeight()-b.sizeDiff.height;
b._helper&&!d.animate&&/relative/.test(e.css("position"))&&a(this).css({left:l.left-c.left-g.left,width:m,height:f});b._helper&&!d.animate&&/static/.test(e.css("position"))&&a(this).css({left:l.left-c.left-g.left,width:m,height:f})}});a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).resizable("instance").options;a(b.alsoResize).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseFloat(b.width()),height:parseFloat(b.height()),left:parseFloat(b.css("left")),
top:parseFloat(b.css("top"))})})},resize:function(b,d){b=a(this).resizable("instance");var g=b.originalSize,c=b.originalPosition,e={height:b.size.height-g.height||0,width:b.size.width-g.width||0,top:b.position.top-c.top||0,left:b.position.left-c.left||0};a(b.options.alsoResize).each(function(){var b=a(this),g=a(this).data("ui-resizable-alsoresize"),c={},r=b.parents(d.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(r,function(a,b){(a=(g[b]||0)+(e[b]||0))&&0<=a&&
(c[b]=a||null)});b.css(c)})},stop:function(){a(this).removeData("ui-resizable-alsoresize")}});a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).resizable("instance"),d=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0});b._addClass(b.ghost,"ui-resizable-ghost");!1!==a.uiBackCompat&&"string"===typeof b.options.ghost&&b.ghost.addClass(this.options.ghost);b.ghost.appendTo(b.helper)},
resize:function(){var b=a(this).resizable("instance");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).resizable("instance");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).resizable("instance"),d=b.options,g=b.size,c=b.originalSize,e=b.originalPosition,f=b.axis,l="number"===typeof d.grid?[d.grid,d.grid]:d.grid,m=l[0]||1,q=l[1]||1,z=Math.round((g.width-
c.width)/m)*m;g=Math.round((g.height-c.height)/q)*q;var u=c.width+z,B=c.height+g,v=d.maxWidth&&d.maxWidth<u,A=d.maxHeight&&d.maxHeight<B,C=d.minWidth&&d.minWidth>u,S=d.minHeight&&d.minHeight>B;d.grid=l;C&&(u+=m);S&&(B+=q);v&&(u-=m);A&&(B-=q);if(/^(se|s|e)$/.test(f))b.size.width=u,b.size.height=B;else if(/^(ne)$/.test(f))b.size.width=u,b.size.height=B,b.position.top=e.top-g;else if(/^(sw)$/.test(f))b.size.width=u,b.size.height=B,b.position.left=e.left-z;else{if(0>=B-q||0>=u-m)var ba=b._getPaddingPlusBorderDimensions(this);
0<B-q?(b.size.height=B,b.position.top=e.top-g):(B=q-ba.height,b.size.height=B,b.position.top=e.top+c.height-B);0<u-m?(b.size.width=u,b.position.left=e.left-z):(u=m-ba.width,b.size.width=u,b.position.left=e.left+c.width-u)}}});a.widget("ui.selectable",a.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b=this;this._addClass("ui-selectable");
this.dragged=!1;this.refresh=function(){b.elementPos=a(b.element[0]).offset();b.selectees=a(b.options.filter,b.element[0]);b._addClass(b.selectees,"ui-selectee");b.selectees.each(function(){var d=a(this),g=d.offset(),c=g.left-b.elementPos.left;g=g.top-b.elementPos.top;a.data(this,"selectable-item",{element:this,$element:d,left:c,top:g,right:c+d.outerWidth(),bottom:g+d.outerHeight(),startselected:!1,selected:d.hasClass("ui-selected"),selecting:d.hasClass("ui-selecting"),unselecting:d.hasClass("ui-unselecting")})})};
this.refresh();this._mouseInit();this.helper=a("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(b){var d=this,g=this.options;this.opos=[b.pageX,b.pageY];this.elementPos=a(this.element[0]).offset();this.options.disabled||(this.selectees=a(g.filter,this.element[0]),this._trigger("start",b),a(g.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),
g.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var g=a.data(this,"selectable-item");g.startselected=!0;b.metaKey||b.ctrlKey||(d._removeClass(g.$element,"ui-selected"),g.selected=!1,d._addClass(g.$element,"ui-unselecting"),g.unselecting=!0,d._trigger("unselecting",b,{unselecting:g.element}))}),a(b.target).parents().addBack().each(function(){var g=a.data(this,"selectable-item");if(g){var c=!b.metaKey&&!b.ctrlKey||!g.$element.hasClass("ui-selected");d._removeClass(g.$element,
c?"ui-unselecting":"ui-selected")._addClass(g.$element,c?"ui-selecting":"ui-unselecting");g.unselecting=!c;g.selecting=c;(g.selected=c)?d._trigger("selecting",b,{selecting:g.element}):d._trigger("unselecting",b,{unselecting:g.element});return!1}}))},_mouseDrag:function(b){this.dragged=!0;if(!this.options.disabled){var d=this,g=this.options,c=this.opos[0],e=this.opos[1],f=b.pageX,l=b.pageY;if(c>f){var m=f;f=c;c=m}e>l&&(m=l,l=e,e=m);this.helper.css({left:c,top:e,width:f-c,height:l-e});this.selectees.each(function(){var r=
a.data(this,"selectable-item"),m=!1;if(r&&r.element!==d.element[0]){var q=r.left+d.elementPos.left;var D=r.right+d.elementPos.left;var z=r.top+d.elementPos.top;var u=r.bottom+d.elementPos.top;"touch"===g.tolerance?m=!(q>f||D<c||z>l||u<e):"fit"===g.tolerance&&(m=q>c&&D<f&&z>e&&u<l);m?(r.selected&&(d._removeClass(r.$element,"ui-selected"),r.selected=!1),r.unselecting&&(d._removeClass(r.$element,"ui-unselecting"),r.unselecting=!1),r.selecting||(d._addClass(r.$element,"ui-selecting"),r.selecting=!0,d._trigger("selecting",
b,{selecting:r.element}))):(r.selecting&&((b.metaKey||b.ctrlKey)&&r.startselected?(d._removeClass(r.$element,"ui-selecting"),r.selecting=!1,d._addClass(r.$element,"ui-selected"),r.selected=!0):(d._removeClass(r.$element,"ui-selecting"),r.selecting=!1,r.startselected&&(d._addClass(r.$element,"ui-unselecting"),r.unselecting=!0),d._trigger("unselecting",b,{unselecting:r.element}))),!r.selected||b.metaKey||b.ctrlKey||r.startselected||(d._removeClass(r.$element,"ui-selected"),r.selected=!1,d._addClass(r.$element,
"ui-unselecting"),r.unselecting=!0,d._trigger("unselecting",b,{unselecting:r.element})))}});return!1}},_mouseStop:function(b){var d=this;this.dragged=!1;a(".ui-unselecting",this.element[0]).each(function(){var g=a.data(this,"selectable-item");d._removeClass(g.$element,"ui-unselecting");g.unselecting=!1;g.startselected=!1;d._trigger("unselected",b,{unselected:g.element})});a(".ui-selecting",this.element[0]).each(function(){var g=a.data(this,"selectable-item");d._removeClass(g.$element,"ui-selecting")._addClass(g.$element,
"ui-selected");g.selecting=!1;g.selected=!0;g.startselected=!0;d._trigger("selected",b,{selected:g.element})});this._trigger("stop",b);this.helper.remove();return!1}});a.widget("ui.sortable",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,
scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(a,d,g){return a>=d&&a<d+g},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();
this._setHandleClassName();this.ready=!0},_setOption:function(a,d){this._super(a,d);"handle"===a&&this._setHandleClassName()},_setHandleClassName:function(){var b=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");a.each(this.items,function(){b._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var a=this.items.length-1;0<=a;a--)this.items[a].item.removeData(this.widgetName+
"-item");return this},_mouseCapture:function(b,d){var g=null,c=!1,e=this;if(this.reverting||this.options.disabled||"static"===this.options.type)return!1;this._refreshItems(b);a(b.target).parents().each(function(){if(a.data(this,e.widgetName+"-item")===e)return g=a(this),!1});a.data(b.target,e.widgetName+"-item")===e&&(g=a(b.target));if(!g||this.options.handle&&!d&&(a(this.options.handle,g).find("*").addBack().each(function(){this===b.target&&(c=!0)}),!c))return!1;this.currentItem=g;this._removeCurrentsFromItems();
return!0},_mouseStart:function(b,d,g){d=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});
this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!==this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();d.containment&&this._setContainment();if(d.cursor&&"auto"!==d.cursor){var c=this.document.find("body");
this.storedCursor=c.css("cursor");c.css("cursor",d.cursor);this.storedStylesheet=a("<style>*{ cursor: "+d.cursor+" !important; }</style>").appendTo(c)}d.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",d.opacity));d.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",d.zIndex));this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset());
this._trigger("start",b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!g)for(g=this.containers.length-1;0<=g;g--)this.containers[g]._trigger("activate",b,this._uiHash(this));a.ui.ddmanager&&(a.ui.ddmanager.current=this);a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=!0;this._addClass(this.helper,"ui-sortable-helper");this._mouseDrag(b);return!0},_mouseDrag:function(b){var d;var g=this.options;var c=!1;this.position=this._generatePosition(b);
this.positionAbs=this._convertPositionTo("absolute");this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-g.scrollSpeed),
this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-this.document.scrollTop()<g.scrollSensitivity?c=this.document.scrollTop(this.document.scrollTop()-g.scrollSpeed):this.window.height()-(b.pageY-this.document.scrollTop())<g.scrollSensitivity&&
(c=this.document.scrollTop(this.document.scrollTop()+g.scrollSpeed)),b.pageX-this.document.scrollLeft()<g.scrollSensitivity?c=this.document.scrollLeft(this.document.scrollLeft()-g.scrollSpeed):this.window.width()-(b.pageX-this.document.scrollLeft())<g.scrollSensitivity&&(c=this.document.scrollLeft(this.document.scrollLeft()+g.scrollSpeed))),!1!==c&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b));this.positionAbs=this._convertPositionTo("absolute");this.options.axis&&"y"===
this.options.axis||(this.helper[0].style.left=this.position.left+"px");this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(g=this.items.length-1;0<=g;g--){c=this.items[g];var e=c.item[0];if((d=this._intersectsWithPointer(c))&&c.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===d?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):1)){this.direction=
1===d?"down":"up";if("pointer"===this.options.tolerance||this._intersectsWithSides(c))this._rearrange(b,c);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return!1},_mouseStop:function(b,d){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var g=this;d=this.placeholder.offset();var c=this.options.axis,
e={};c&&"x"!==c||(e.left=d.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));c&&"y"!==c||(e.top=d.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;a(this.helper).animate(e,parseInt(this.options.revert,10)||500,function(){g._clear(b)})}else this._clear(b,d);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new a.Event("mouseup",
{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var b=this.containers.length-1;0<=b;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem));return this},serialize:function(b){var d=this._getItemsAsjQuery(b&&b.connected),g=[];b=b||{};a(d).each(function(){var d=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);d&&g.push((b.key||
d[1]+"[]")+"="+(b.key&&b.expression?d[1]:d[2]))});!g.length&&b.key&&g.push(b.key+"=");return g.join("&")},toArray:function(b){var d=this._getItemsAsjQuery(b&&b.connected),g=[];b=b||{};d.each(function(){g.push(a(b.item||this).attr(b.attribute||"id")||"")});return g},_intersectsWith:function(a){var b=this.positionAbs.left,g=b+this.helperProportions.width,c=this.positionAbs.top,e=c+this.helperProportions.height,f=a.left,l=f+a.width,m=a.top,q=m+a.height,z=this.offset.click.top,u=this.offset.click.left;
z="x"===this.options.axis||c+z>m&&c+z<q;u="y"===this.options.axis||b+u>f&&b+u<l;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?z&&u:f<b+this.helperProportions.width/2&&g-this.helperProportions.width/2<l&&m<c+this.helperProportions.height/2&&e-this.helperProportions.height/2<q},_intersectsWithPointer:function(a){var b="x"===this.options.axis||
this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);if(!b||!a)return!1;b=this._getDragVerticalDirection();a=this._getDragHorizontalDirection();return this.floating?"right"===a||"down"===b?2:1:b&&("down"===b?2:1)},_intersectsWithSides:function(a){var b=this._isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=this._isOverAxis(this.positionAbs.left+
this.offset.click.left,a.left+a.width/2,a.width);var g=this._getDragVerticalDirection(),c=this._getDragHorizontalDirection();return this.floating&&c?"right"===c&&a||"left"===c&&!a:g&&("down"===g&&b||"up"===g&&!b)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(0<a?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(0<a?"right":"left")},refresh:function(a){this._refreshItems(a);
this._setHandleClassName();this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function d(){e.push(this)}var g,c,e=[],f=[],l=this._connectWith();if(l&&b)for(b=l.length-1;0<=b;b--){var m=a(l[b],this.document[0]);for(g=m.length-1;0<=g;g--)(c=a.data(m[g],this.widgetFullName))&&c!==this&&!c.options.disabled&&f.push([a.isFunction(c.options.items)?c.options.items.call(c.element):
a(c.options.items,c.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),c])}f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=f.length-1;0<=b;b--)f[b][0].each(d);return a(e)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,
function(a){for(var d=0;d<b.length;d++)if(b[d]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[];this.containers=[this];var d,g,c,e,f=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]];if((e=this._connectWith())&&this.ready)for(d=e.length-1;0<=d;d--){var m=a(e[d],this.document[0]);for(g=m.length-1;0<=g;g--)(c=a.data(m[g],this.widgetFullName))&&c!==this&&!c.options.disabled&&
(l.push([a.isFunction(c.options.items)?c.options.items.call(c.element[0],b,{item:this.currentItem}):a(c.options.items,c.element),c]),this.containers.push(c))}for(d=l.length-1;0<=d;d--)for(b=l[d][1],m=l[d][0],g=0,e=m.length;g<e;g++)c=a(m[g]),c.data(this.widgetName+"-item",b),f.push({item:c,instance:b,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=
this._getParentOffset());var d;for(d=this.items.length-1;0<=d;d--){var g=this.items[d];if(g.instance===this.currentContainer||!this.currentContainer||g.item[0]===this.currentItem[0]){var c=this.options.toleranceElement?a(this.options.toleranceElement,g.item):g.item;b||(g.width=c.outerWidth(),g.height=c.outerHeight());c=c.offset();g.left=c.left;g.top=c.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(d=this.containers.length-
1;0<=d;d--)c=this.containers[d].element.offset(),this.containers[d].containerCache.left=c.left,this.containers[d].containerCache.top=c.top,this.containers[d].containerCache.width=this.containers[d].element.outerWidth(),this.containers[d].containerCache.height=this.containers[d].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var d=b.options;if(!d.placeholder||d.placeholder.constructor===String){var g=d.placeholder;d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),
c=a("<"+d+">",b.document[0]);b._addClass(c,"ui-sortable-placeholder",g||b.currentItem[0].className)._removeClass(c,"ui-sortable-helper");"tbody"===d?b._createTrPlaceholder(b.currentItem.find("tr").eq(0),a("<tr>",b.document[0]).appendTo(c)):"tr"===d?b._createTrPlaceholder(b.currentItem,c):"img"===d&&c.attr("src",b.currentItem.attr("src"));g||c.css("visibility","hidden");return c},update:function(a,c){if(!g||d.forcePlaceholderSize)c.height()||c.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||
0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),c.width()||c.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);d.placeholder.update(b,b.placeholder)},_createTrPlaceholder:function(b,d){var g=this;b.children().each(function(){a("<td>&#160;</td>",g.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(d)})},
_contactContainers:function(b){var d,g,c,e=c=null;for(d=this.containers.length-1;0<=d;d--)a.contains(this.currentItem[0],this.containers[d].element[0])||(this._intersectsWith(this.containers[d].containerCache)?c&&a.contains(this.containers[d].element[0],c.element[0])||(c=this.containers[d],e=d):this.containers[d].containerCache.over&&(this.containers[d]._trigger("out",b,this._uiHash(this)),this.containers[d].containerCache.over=0));if(c)if(1===this.containers.length)this.containers[e].containerCache.over||
(this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1);else{d=1E4;var f=null;c=(g=c.floating||this._isFloating(this.currentItem))?"left":"top";var l=g?"width":"height";var m=g?"pageX":"pageY";for(g=this.items.length-1;0<=g;g--)if(a.contains(this.containers[e].element[0],this.items[g].item[0])&&this.items[g].item[0]!==this.currentItem[0]){var q=this.items[g].item.offset()[c];var z=!1;b[m]-q>this.items[g][l]/2&&(z=!0);Math.abs(b[m]-q)<d&&(d=Math.abs(b[m]-
q),f=this.items[g],this.direction=z?"up":"down")}if(f||this.options.dropOnEmpty)this.currentContainer===this.containers[e]?this.currentContainer.containerCache.over||(this.containers[e]._trigger("over",b,this._uiHash()),this.currentContainer.containerCache.over=1):(f?this._rearrange(b,f,null,!0):this._rearrange(b,null,this.containers[e].element,!0),this._trigger("change",b,this._uiHash()),this.containers[e]._trigger("change",b,this._uiHash(this)),this.currentContainer=this.containers[e],this.options.placeholder.update(this.currentContainer,
this.placeholder),this.containers[e]._trigger("over",b,this._uiHash(this)),this.containers[e].containerCache.over=1)}},_createHelper:function(b){var d=this.options;b=a.isFunction(d.helper)?a(d.helper.apply(this.element[0],[b,this.currentItem])):"clone"===d.helper?this.currentItem.clone():this.currentItem;b.parents("body").length||a("parent"!==d.appendTo?d.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);b[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,
height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")});b[0].style.width&&!d.forceHelperSize||b.width(this.currentItem.width());b[0].style.height&&!d.forceHelperSize||b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){"string"===typeof b&&(b=b.split(" "));a.isArray(b)&&(b={left:+b[0],top:+b[1]||0});"left"in b&&(this.offset.click.left=b.left+this.margins.left);"right"in b&&(this.offset.click.left=
this.helperProportions.width-b.right+this.margins.left);"top"in b&&(this.offset.click.top=b.top+this.margins.top);"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop());
if(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-
(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;"parent"===b.containment&&(b.containment=this.helper[0].parentNode);if("document"===
b.containment||"window"===b.containment)this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===b.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===b.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var d=
a(b.containment)[0];b=a(b.containment).offset();var g="hidden"!==a(d).css("overflow");this.containment=[b.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,b.left+(g?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-
this.margins.left,b.top+(g?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,d){d||(d=this.position);b="absolute"===b?1:-1;var g="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,c=/(html|body)/i.test(g[0].tagName);
return{top:d.top+this.offset.relative.top*b+this.offset.parent.top*b-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():c?0:g.scrollTop())*b,left:d.left+this.offset.relative.left*b+this.offset.parent.left*b-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():c?0:g.scrollLeft())*b}},_generatePosition:function(b){var d=this.options;var g=b.pageX;var c=b.pageY;var e="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&a.contains(this.scrollParent[0],this.offsetParent[0])?
this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(g=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(c=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>
this.containment[2]&&(g=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(c=this.containment[3]+this.offset.click.top)),d.grid&&(c=this.originalPageY+Math.round((c-this.originalPageY)/d.grid[1])*d.grid[1],c=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-d.grid[1]:c+d.grid[1]:c,g=this.originalPageX+Math.round((g-this.originalPageX)/d.grid[0])*d.grid[0],
g=this.containment?g-this.offset.click.left>=this.containment[0]&&g-this.offset.click.left<=this.containment[2]?g:g-this.offset.click.left>=this.containment[0]?g-d.grid[0]:g+d.grid[0]:g));return{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())}},
_rearrange:function(a,d,c,r){c?c[0].appendChild(this.placeholder[0]):d.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?d.item[0]:d.item[0].nextSibling);var b=this.counter=this.counter?++this.counter:1;this._delay(function(){b===this.counter&&this.refreshPositions(!r)})},_clear:function(a,d){function b(a,b,d){return function(c){d._trigger(a,c,b._uiHash(b))}}this.reverting=!1;var c,e=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem);
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)if("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])this._storedCSS[c]="";this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!d&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))});!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===
this.currentItem.parent()[0]||d||e.push(function(a){this._trigger("update",a,this._uiHash())});this===this.currentContainer||d||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)));for(c=this.containers.length-1;0<=c;c--)d||e.push(b("deactivate",this,this.containers[c])),
this.containers[c].containerCache.over&&(e.push(b("out",this,this.containers[c])),this.containers[c].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove());this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex);this.dragging=!1;d||this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null);if(!d){for(c=0;c<e.length;c++)e[c].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=!1;return!this.cancelHelperRemoval},_trigger:function(){!1===a.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(b){var d=b||this;return{helper:d.helper,placeholder:d.placeholder||a([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,
item:d.currentItem,sender:b?b.element:null}}});a.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",
paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var b=this.options;this.prevShow=this.prevHide=a();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");b.collapsible||!1!==b.active&&null!=b.active||(b.active=0);this._processPanels();0>b.active&&(b.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,
panel:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;if(b){var d=a("<span>");this._addClass(d,"ui-accordion-header-icon","ui-icon "+b.header);d.prependTo(this.headers);d=this.active.children(".ui-accordion-header-icon");this._removeClass(d,b.header)._addClass(d,null,b.activeHeader)._addClass(this.headers,"ui-accordion-icons")}},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},
_destroy:function(){this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();var a=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,d){"active"===a?this._activate(d):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(d)),this._super(a,
d),"collapsible"!==a||d||!1!==this.options.active||this._activate(0),"icons"===a&&(this._destroyIcons(),d&&this._createIcons()))},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!a)},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var d=a.ui.keyCode,c=this.headers.length,r=this.headers.index(b.target),e=!1;switch(b.keyCode){case d.RIGHT:case d.DOWN:e=
this.headers[(r+1)%c];break;case d.LEFT:case d.UP:e=this.headers[(r-1+c)%c];break;case d.SPACE:case d.ENTER:this._eventHandler(b);break;case d.HOME:e=this.headers[0];break;case d.END:e=this.headers[c-1]}e&&(a(b.target).attr("tabIndex",-1),a(e).attr("tabIndex",0),a(e).trigger("focus"),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().trigger("focus")},refresh:function(){var b=this.options;this._processPanels();!1===b.active&&!0===b.collapsible||
!this.headers.length?(b.active=!1,this.active=a()):!1===b.active?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var a=this.headers,d=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,
"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");d&&(this._off(a.not(this.headers)),this._off(d.not(this.panels)))},_refresh:function(){var b=this.options,d=b.heightStyle,c=this.element.parent();this.active=this._findActive(b.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,
"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var b=a(this),d=b.uniqueId().attr("id"),c=b.next(),g=c.uniqueId().attr("id");b.attr("aria-controls",g);c.attr("aria-labelledby",d)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true",
"aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(b.event);if("fill"===d){var r=c.height();this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(r-=b.outerHeight(!0))});this.headers.each(function(){r-=a(this).outerHeight(!0)});this.headers.next().each(function(){a(this).height(Math.max(0,r-a(this).innerHeight()+a(this).height()))}).css("overflow",
"auto")}else"auto"===d&&(r=0,this.headers.next().each(function(){var b=a(this).is(":visible");b||a(this).show();r=Math.max(r,a(this).css("height","").height());b||a(this).hide()}).height(r))},_activate:function(b){b=this._findActive(b)[0];b!==this.active[0]&&(b=b||this.active[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return"number"===typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var d={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,
b){d[b]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,d);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(b){var d,c=this.options,r=this.active,e=a(b.currentTarget),f=(d=e[0]===r[0])&&c.collapsible,l=f?a():e.next(),m=r.next();l={oldHeader:r,oldPanel:m,newHeader:f?a():e,newPanel:l};b.preventDefault();d&&!c.collapsible||!1===this._trigger("beforeActivate",b,l)||(c.active=
f?!1:this.headers.index(e),this.active=d?a():e,this._toggle(l),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),c.icons&&(b=r.children(".ui-accordion-header-icon"),this._removeClass(b,null,c.icons.activeHeader)._addClass(b,null,c.icons.header)),d||(this._removeClass(e,"ui-accordion-header-collapsed")._addClass(e,"ui-accordion-header-active","ui-state-active"),c.icons&&(d=e.children(".ui-accordion-header-icon"),this._removeClass(d,null,c.icons.header)._addClass(d,null,c.icons.activeHeader)),
this._addClass(e.next(),"ui-accordion-content-active")))},_toggle:function(b){var d=b.newPanel,c=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=d;this.prevHide=c;this.options.animate?this._animate(d,c,b):(c.hide(),d.show(),this._toggleComplete(b));c.attr({"aria-hidden":"true"});c.prev().attr({"aria-selected":"false","aria-expanded":"false"});d.length&&c.length?c.prev().attr({tabIndex:-1,"aria-expanded":"false"}):d.length&&this.headers.filter(function(){return 0===
parseInt(a(this).attr("tabIndex"),10)}).attr("tabIndex",-1);d.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(a,d,c){var b,g,e=this,f=0,l=a.css("box-sizing"),m=a.length&&(!d.length||a.index()<d.index()),q=this.options.animate||{};m=m&&q.down||q;var z=function(){e._toggleComplete(c)};"number"===typeof m&&(g=m);"string"===typeof m&&(b=m);b=b||m.easing||q.easing;g=g||m.duration||q.duration;if(!d.length)return a.animate(this.showProps,
g,b,z);if(!a.length)return d.animate(this.hideProps,g,b,z);var u=a.show().outerHeight();d.animate(this.hideProps,{duration:g,easing:b,step:function(a,b){b.now=Math.round(a)}});a.hide().animate(this.showProps,{duration:g,easing:b,complete:z,step:function(a,b){b.now=Math.round(a);"height"!==b.prop?"content-box"===l&&(f+=b.now):"content"!==e.options.heightStyle&&(b.now=Math.round(u-d.outerHeight()-f),f=0)}})},_toggleComplete:function(a){var b=a.oldPanel,c=b.prev();this._removeClass(b,"ui-accordion-content-active");
this._removeClass(c,"ui-accordion-header-active")._addClass(c,"ui-accordion-header-collapsed");b.length&&(b.parent()[0].className=b.parent()[0].className);this._trigger("activate",null,a)}});a.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,
tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(a){a.preventDefault()},"click .ui-menu-item":function(b){var d=a(b.target),c=a(a.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&d.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),d.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&c.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&
1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){if(!this.previousFilter){var d=a(b.target).closest(".ui-menu-item"),c=a(b.currentTarget);d[0]===c[0]&&(this._removeClass(c.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(b,c))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,d){var b=this.active||this.element.find(this.options.items).eq(0);d||this.focus(a,b)},blur:function(b){this._delay(function(){a.contains(this.element[0],
a.ui.safeActiveElement(this.document[0]))||this.collapseAll(b)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(a){this._closeOnDocumentClick(a)&&this.collapseAll(a);this.mouseHandled=!1}})},_destroy:function(){var b=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();
b.children().each(function(){var b=a(this);b.data("ui-menu-submenu-caret")&&b.remove()})},_keydown:function(b){var d=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&
!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:d=!1;var c=this.previousFilter||"";var e=!1;var f=96<=b.keyCode&&105>=b.keyCode?(b.keyCode-96).toString():String.fromCharCode(b.keyCode);clearTimeout(this.filterTimer);f===c?e=!0:f=c+f;c=this._filterMenuItems(f);c=e&&-1!==c.index(this.active.next())?this.active.nextAll(".ui-menu-item"):c;c.length||(f=String.fromCharCode(b.keyCode),
c=this._filterMenuItems(f));c.length?(this.focus(b,c),this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter}d&&b.preventDefault()},_activate:function(a){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b=this,d=this.options.icons.submenu;var c=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,
!!this.element.find(".ui-icon").length);var e=c.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var c=a(this),g=c.prev(),e=a("<span>").data("ui-menu-submenu-caret",!0);b._addClass(e,"ui-menu-icon","ui-icon "+d);g.attr("aria-haspopup","true").prepend(e);c.attr("aria-labelledby",g.attr("id"))});this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front");e=c.add(this.element).find(this.options.items);e.not(".ui-menu-item").each(function(){var d=
a(this);b._isDivider(d)&&b._addClass(d,"ui-menu-divider","ui-widget-content")});c=e.not(".ui-menu-item, .ui-menu-divider");var f=c.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(c,"ui-menu-item")._addClass(f,"ui-menu-item-wrapper");e.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,
d){if("icons"===a){var b=this.element.find(".ui-menu-icon");this._removeClass(b,null,this.options.icons.submenu)._addClass(b,null,d.submenu)}this._super(a,d)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",String(a));this._toggleClass(null,"ui-state-disabled",!!a)},focus:function(a,d){this.blur(a,a&&"focus"===a.type);this._scrollIntoView(d);this.active=d.first();var b=this.active.children(".ui-menu-item-wrapper");this._addClass(b,null,"ui-state-active");this.options.role&&
this.element.attr("aria-activedescendant",b.attr("id"));b=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(b,null,"ui-state-active");a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);b=d.children(".ui-menu");b.length&&a&&/^mouse/.test(a.type)&&this._startOpening(b);this.activeMenu=d.parent();this._trigger("focus",a,{item:d})},_scrollIntoView:function(b){if(this._hasScroll()){var d=parseFloat(a.css(this.activeMenu[0],
"borderTopWidth"))||0;var c=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0;d=b.offset().top-this.activeMenu.offset().top-d-c;c=this.activeMenu.scrollTop();var e=this.activeMenu.height();b=b.outerHeight();0>d?this.activeMenu.scrollTop(c+d):d+b>e&&this.activeMenu.scrollTop(c+d-e+b)}},blur:function(a,d){d||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",a,{item:this.active}),this.active=null)},
_startOpening:function(a){clearTimeout(this.timer);"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(a)},this.delay))},_open:function(b){var d=a.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true");b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(b,d){clearTimeout(this.timer);this.timer=this._delay(function(){var c=
d?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element);this._close(c);this.blur(b);this._removeClass(c.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element);a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(b){return!a(b.target).closest(".ui-menu").length},_isDivider:function(a){return!/[^\-\u2014\u2013\s]/.test(a.text())},
collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},
isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,d,c){var b;this.active&&(b="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0));b&&b.length&&this.active||(b=this.activeMenu.find(this.options.items)[d]());this.focus(c,b)},nextPage:function(b){var d;if(!this.active)this.next(b);else if(!this.isLastItem())if(this._hasScroll()){var c=this.active.offset().top;var e=
this.element.height();this.active.nextAll(".ui-menu-item").each(function(){d=a(this);return 0>d.offset().top-c-e});this.focus(b,d)}else this.focus(b,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())},previousPage:function(b){var d;if(!this.active)this.next(b);else if(!this.isFirstItem())if(this._hasScroll()){var c=this.active.offset().top;var e=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){d=a(this);return 0<d.offset().top-c+e});this.focus(b,d)}else this.focus(b,
this.activeMenu.find(this.options.items).first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var d={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0);this._trigger("select",b,d)},_filterMenuItems:function(b){b=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");var d=new RegExp("^"+b,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return d.test(a.trim(a(this).children(".ui-menu-item-wrapper").text()))})}});
a.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,d,c,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e;e="input"===e;this.isMultiLine=f||!e&&this._isContentEditable(this.element);this.valueMethod=this.element[f||
e?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(g){if(this.element.prop("readOnly"))d=c=b=!0;else{d=c=b=!1;var e=a.ui.keyCode;switch(g.keyCode){case e.PAGE_UP:b=!0;this._move("previousPage",g);break;case e.PAGE_DOWN:b=!0;this._move("nextPage",g);break;case e.UP:b=!0;this._keyEvent("previous",g);break;case e.DOWN:b=!0;this._keyEvent("next",g);break;case e.ENTER:this.menu.active&&(b=!0,g.preventDefault(),
this.menu.select(g));break;case e.TAB:this.menu.active&&this.menu.select(g);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(g),g.preventDefault());break;default:d=!0,this._searchTimeout(g)}}},keypress:function(c){if(b)b=!1,this.isMultiLine&&!this.menu.element.is(":visible")||c.preventDefault();else if(!d){var g=a.ui.keyCode;switch(c.keyCode){case g.PAGE_UP:this._move("previousPage",c);break;case g.PAGE_DOWN:this._move("nextPage",c);break;
case g.UP:this._keyEvent("previous",c);break;case g.DOWN:this._keyEvent("next",c)}}},input:function(a){c?(c=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=a("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete",
"ui-front");this._on(this.menu.element,{mousedown:function(b){b.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(b,d){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});return}var c=d.item.data("ui-autocomplete-item");
!1!==this._trigger("focus",b,{item:c})&&b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(c.value);(d=d.item.attr("aria-label")||c.value)&&a.trim(d).length&&(this.liveRegion.children().hide(),a("<div>").text(d).appendTo(this.liveRegion))},menuselect:function(b,d){var c=d.item.data("ui-autocomplete-item"),g=this.previous;this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=g,this._delay(function(){this.previous=g;this.selectedItem=c}));
!1!==this._trigger("select",b,{item:c})&&this._value(c.value);this.term=this._value();this.close(b);this.selectedItem=c}});this.liveRegion=a("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();
this.liveRegion.remove()},_setOption:function(a,d){this._super(a,d);"source"===a&&this._initSource();"appendTo"===a&&this.menu.element.appendTo(this._appendTo());"disabled"===a&&d&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(b){var d=this.menu.element[0];return b.target===this.element[0]||b.target===d||a.contains(d,b.target)},_closeOnClickOutside:function(a){this._isEventTargetInWidget(a)||this.close()},_appendTo:function(){var b=this.options.appendTo;b&&(b=b.jquery||b.nodeType?a(b):
this.document.find(b).eq(0));b&&b[0]||(b=this.element.closest(".ui-front, dialog"));b.length||(b=this.document[0].body);return b},_initSource:function(){var b=this;if(a.isArray(this.options.source)){var d=this.options.source;this.source=function(b,c){c(a.ui.autocomplete.filter(d,b.term))}}else if("string"===typeof this.options.source){var c=this.options.source;this.source=function(d,g){b.xhr&&b.xhr.abort();b.xhr=a.ajax({url:c,data:d,dataType:"json",success:function(a){g(a)},error:function(){g([])}})}}else this.source=
this.options.source},_searchTimeout:function(a){clearTimeout(this.searching);this.searching=this._delay(function(){var b=this.term===this._value(),c=this.menu.element.is(":visible"),e=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(!b||b&&!c&&!e)this.selectedItem=null,this.search(null,a)},this.options.delay)},search:function(a,d){a=null!=a?a:this._value();this.term=this._value();if(a.length<this.options.minLength)return this.close(d);if(!1!==this._trigger("search",d))return this._search(a)},_search:function(a){this.pending++;
this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a));this._trigger("response",null,{content:a});!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},
close:function(a){this.cancelSearch=!0;this._close(a)},_close:function(a){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"===typeof b?{label:b,value:b}:a.extend({},b,{label:b.label||b.value,
value:b.value||b.label})})},_suggest:function(b){var d=this.menu.element.empty();this._renderMenu(d,b);this.isNewMenu=!0;this.menu.refresh();d.show();this._resizeMenu();d.position(a.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,d){var c=this;a.each(d,
function(a,d){c._renderItemData(b,d)})},_renderItemData:function(a,d){return this._renderItem(a,d).data("ui-autocomplete-item",d)},_renderItem:function(b,d){return a("<li>").append(a("<div>").text(d.label)).appendTo(b)},_move:function(a,d){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a))this.isMultiLine||this._value(this.term),this.menu.blur();else this.menu[a](d);else this.search(null,d)},widget:function(){return this.menu.element},
_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,d){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(a,d),d.preventDefault()},_isContentEditable:function(a){if(!a.length)return!1;var b=a.prop("contentEditable");return"inherit"===b?this._isContentEditable(a.parent()):"true"===b}});a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,d){var c=new RegExp(a.ui.autocomplete.escapeRegex(d),
"i");return a.grep(b,function(a){return c.test(a.label||a.value||a)})}});a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(1<a?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){this._superApply(arguments);if(!this.options.disabled&&!this.cancelSearch){var d=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults;this.liveRegion.children().hide();
a("<div>").text(d).appendTo(this.liveRegion)}}});var A=/ui-corner-([a-z]){2,6}/g;a.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role",
"toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var b=this,d=[];a.each(this.options.items,function(c,e){var g={};e&&("controlgroupLabel"===c?(e=b.element.find(e),e.each(function(){var b=a(this);b.children(".ui-controlgroup-label-contents").length||
b.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),b._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),d=d.concat(e.get())):a.fn[c]&&(g=b["_"+c+"Options"]?b["_"+c+"Options"]("middle"):{classes:{}},b.element.find(e).each(function(){var e=a(this),r=e[c]("instance"),f=a.widget.extend({},g);"button"===c&&e.parent(".ui-spinner").length||(r||(r=e[c]()[c]("instance")),r&&(f.classes=b._resolveClassesValues(f.classes,r)),e[c](f),f=e[c]("widget"),a.data(f[0],"ui-controlgroup-data",
r?r:e[c]("instance")),d.push(f[0]))})))});this.childWidgets=a(a.unique(d));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(b){this.childWidgets.each(function(){var d=a(this).data("ui-controlgroup-data");if(d&&d[b])d[b]()})},_updateCornerClass:function(a,d){d=this._buildSimpleOptions(d,"label").classes.label;this._removeClass(a,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(a,null,d)},_buildSimpleOptions:function(a,
d){var b="vertical"===this.options.direction,c={classes:{}};c.classes[d]={middle:"",first:"ui-corner-"+(b?"top":"left"),last:"ui-corner-"+(b?"bottom":"right"),only:"ui-corner-all"}[a];return c},_spinnerOptions:function(a){a=this._buildSimpleOptions(a,"ui-spinner");a.classes["ui-spinner-up"]="";a.classes["ui-spinner-down"]="";return a},_buttonOptions:function(a){return this._buildSimpleOptions(a,"ui-button")},_checkboxradioOptions:function(a){return this._buildSimpleOptions(a,"ui-checkboxradio-label")},
_selectmenuOptions:function(a){var b="vertical"===this.options.direction;return{width:b?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(b?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(b?"top":"left")},last:{"ui-selectmenu-button-open":b?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(b?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[a]}},
_resolveClassesValues:function(b,d){var c={};a.each(b,function(g){var e=d.options.classes[g]||"";e=a.trim(e.replace(A,""));c[g]=(e+" "+b[g]).replace(/\s+/g," ")});return c},_setOption:function(a,d){"direction"===a&&this._removeClass("ui-controlgroup-"+this.options.direction);this._super(a,d);"disabled"===a?this._callChildMethod(d?"disable":"enable"):this.refresh()},refresh:function(){var b=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&
this._addClass(null,"ui-helper-clearfix");this._initWidgets();var d=this.childWidgets;this.options.onlyVisible&&(d=d.filter(":visible"));d.length&&(a.each(["first","last"],function(a,c){(a=d[c]().data("ui-controlgroup-data"))&&b["_"+a.widgetName+"Options"]?(c=b["_"+a.widgetName+"Options"](1===d.length?"only":c),c.classes=b._resolveClassesValues(c.classes,a),a.element[a.widgetName](c)):b._updateCornerClass(d[c](),c)}),this._callChildMethod("refresh"))}});a.widget("ui.checkboxradio",[a.ui.formResetMixin,
{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var b=this,d=this._super()||{};this._readType();var c=this.element.labels();this.label=a(c[c.length-1]);this.label.length||a.error("No label found for checkboxradio widget");this.originalLabel="";this.label.contents().not(this.element[0]).each(function(){b.originalLabel+=3===this.nodeType?a(this).text():this.outerHTML});
this.originalLabel&&(d.label=this.originalLabel);c=this.element[0].disabled;null!=c&&(d.disabled=c);return d},_create:function(){var a=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,
"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();a&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover"));this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},
_readType:function(){var b=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===b&&/radio|checkbox/.test(this.type)||a.error("Can't create checkboxradio on element.nodeName="+b+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var b=this.element[0].name,d="input[name='"+a.ui.escapeSelector(b)+"']";return b?(this.form.length?a(this.form[0].elements).filter(d):a(d).filter(function(){return 0===
a(this).form().length})).not(this.element):a([])},_toggleClasses:function(){var b=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",b);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",b)._toggleClass(this.icon,null,"ui-icon-blank",!b);"radio"===this.type&&this._getRadioGroup().each(function(){var b=a(this).checkboxradio("instance");b&&b._removeClass(b.label,"ui-checkboxradio-checked","ui-state-active")})},
_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(a,d){if("label"!==a||d)this._super(a,d),"disabled"===a?(this._toggleClass(this.label,null,"ui-state-disabled",d),this.element[0].disabled=d):this.refresh()},_updateIcon:function(b){var d="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=a("<span>"),this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===
this.type?(d+=b?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,b?"ui-icon-blank":"ui-icon-check")):d+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",d),b||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var a=this.label.contents().not(this.element[0]);this.icon&&(a=a.not(this.icon[0]));
this.iconSpace&&(a=a.not(this.iconSpace[0]));a.remove();this.label.append(this.options.label)},refresh:function(){var a=this.element[0].checked,d=this.element[0].disabled;this._updateIcon(a);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",a);null!==this.options.label&&this._updateLabel();d!==this.options.disabled&&this._setOptions({disabled:d})}}]);a.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,
icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var a=this._super()||{};this.isInput=this.element.is("input");var d=this.element[0].disabled;null!=d&&(a.disabled=d);if(this.originalLabel=this.isInput?this.element.val():this.element.html())a.label=this.originalLabel;return a},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=
!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(b){b.keyCode===a.ui.keyCode.SPACE&&(b.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||
this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(b,d){var c=(b="iconPosition"!==b)?this.options.iconPosition:d,e="top"===c||"bottom"===c;this.icon?b&&this._removeClass(this.icon,null,this.options.icon):(this.icon=a("<span>"),this._addClass(this.icon,"ui-button-icon",
"ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));b&&this._addClass(this.icon,null,d);this._attachIcon(c);e?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=a("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(c))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();
this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(a){this.icon[/^(?:end|bottom)/.test(a)?"before":"after"](this.iconSpace)},_attachIcon:function(a){this.element[/^(?:end|bottom)/.test(a)?"append":"prepend"](this.icon)},_setOptions:function(a){var b=void 0===a.icon?this.options.icon:a.icon;(void 0===a.showLabel?this.options.showLabel:a.showLabel)||b||(a.showLabel=!0);this._super(a)},_setOption:function(a,d){"icon"===a&&(d?this._updateIcon(a,
d):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===a&&this._updateIcon(a,d);"showLabel"===a&&(this._toggleClass("ui-button-icon-only",null,!d),this._updateTooltip());"label"===a&&(this.isInput?this.element.val(d):(this.element.html(d),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(a,d);"disabled"===a&&(this._toggleClass(null,"ui-state-disabled",d),(this.element[0].disabled=d)&&this.element.blur())},
refresh:function(){var a=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");a!==this.options.disabled&&this._setOptions({disabled:a});this._updateTooltip()}});!1!==a.uiBackCompat&&(a.widget("ui.button",a.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);
this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(a,d){"text"===a?this._super("showLabel",d):("showLabel"===a&&(this.options.text=d),"icon"===a&&(this.options.icons.primary=d),"icons"===a&&(d.primary?(this._super("icon",
d.primary),this._super("iconPosition","beginning")):d.secondary&&(this._super("icon",d.secondary),this._super("iconPosition","end"))),this._superApply(arguments))}}),a.fn.button=function(b){return function(){if(!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type"))return b.apply(this,arguments);a.ui.checkboxradio||a.error("Checkboxradio widget missing");return 0===arguments.length?this.checkboxradio({icon:!1}):
this.checkboxradio.apply(this,arguments)}}(a.fn.button),a.fn.buttonset=function(){a.ui.controlgroup||a.error("Controlgroup widget missing");if("option"===arguments[0]&&"items"===arguments[1]&&arguments[2])return this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]);if("option"===arguments[0]&&"items"===arguments[1])return this.controlgroup.apply(this,[arguments[0],"items.button"]);"object"===typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items});
return this.controlgroup.apply(this,arguments)});a.extend(a.ui,{datepicker:{version:"1.12.1"}});var v;a.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){f(this._defaults,a||{});return this},_attachDatepicker:function(b,d){var c=b.nodeName.toLowerCase();var e="div"===c||"span"===c;b.id||(this.uuid+=1,b.id="dp"+this.uuid);var f=this._newInst(a(b),e);f.settings=a.extend({},d||{});"input"===c?this._connectDatepicker(b,
f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,d){return{id:b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:d?m(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,d){var c=a(b);d.append=a([]);d.trigger=a([]);c.hasClass(this.markerClassName)||(this._attachments(c,d),c.addClass(this.markerClassName).on("keydown",
this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(d),a.data(b,"datepicker",d),d.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,d){var c=this._get(d,"appendText");var e=this._get(d,"isRTL");d.append&&d.append.remove();c&&(d.append=a("<span class='"+this._appendClass+"'>"+c+"</span>"),b[e?"before":"after"](d.append));b.off("focus",this._showDatepicker);d.trigger&&d.trigger.remove();c=this._get(d,"showOn");if("focus"===c||"both"===c)b.on("focus",
this._showDatepicker);if("button"===c||"both"===c){c=this._get(d,"buttonText");var f=this._get(d,"buttonImage");d.trigger=a(this._get(d,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:c,title:c}):c));b[e?"before":"after"](d.trigger);d.trigger.on("click",function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():
(a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]&&a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0]));return!1})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,e,f=new Date(2009,11,20),l=this._get(a,"dateFormat");if(l.match(/[DM]/)){var m=function(a){for(e=c=b=0;e<a.length;e++)a[e].length>b&&(b=a[e].length,c=e);return c};f.setMonth(m(this._get(a,l.match(/MM/)?"monthNames":"monthNamesShort")));f.setDate(m(this._get(a,l.match(/DD/)?"dayNames":"dayNamesShort"))+
20-f.getDay())}a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,d){var c=a(b);c.hasClass(this.markerClassName)||(c.addClass(this.markerClassName).append(d.dpDiv),a.data(b,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),d.settings.disabled&&this._disableDatepicker(b),d.dpDiv.css("display","block"))},_dialogDatepicker:function(b,d,c,e,l){b=this._dialogInst;b||(this.uuid+=1,b="dp"+this.uuid,this._dialogInput=
a("<input type='text' id='"+b+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),a("body").append(this._dialogInput),b=this._dialogInst=this._newInst(this._dialogInput,!1),b.settings={},a.data(this._dialogInput[0],"datepicker",b));f(b.settings,e||{});d=d&&d.constructor===Date?this._formatDate(b,d):d;this._dialogInput.val(d);this._pos=l?l.length?l:[l.pageX,l.pageY]:null;if(!this._pos){d=document.documentElement.clientWidth;e=document.documentElement.clientHeight;
l=document.documentElement.scrollLeft||document.body.scrollLeft;var g=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[d/2-100+l,e/2-150+g]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");b.settings.onSelect=c;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",b);return this},_destroyDatepicker:function(b){var d=a(b),c=a.data(b,
"datepicker");if(d.hasClass(this.markerClassName)){var e=b.nodeName.toLowerCase();a.removeData(b,"datepicker");"input"===e?(c.append.remove(),c.trigger.remove(),d.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||d.removeClass(this.markerClassName).empty();v===c&&(v=null)}},_enableDatepicker:function(b){var d=a(b),c=a.data(b,"datepicker");if(d.hasClass(this.markerClassName)){var e=
b.nodeName.toLowerCase();if("input"===e)b.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===e||"span"===e)e=d.children("."+this._inlineClass),e.children().removeClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a})}},_disableDatepicker:function(b){var d=a(b),c=a.data(b,"datepicker");
if(d.hasClass(this.markerClassName)){var e=b.nodeName.toLowerCase();if("input"===e)b.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===e||"span"===e)e=d.children("."+this._inlineClass),e.children().addClass("ui-state-disabled"),e.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a});this._disabledInputs[this._disabledInputs.length]=
b}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(b,d,c){var g=this._getInst(b);if(2===arguments.length&&"string"===typeof d)return"defaults"===d?a.extend({},a.datepicker._defaults):g?"all"===d?a.extend({},g.settings):this._get(g,d):null;var e=d||{};"string"===
typeof d&&(e={},e[d]=c);if(g){this._curInst===g&&this._hideDatepicker();var l=this._getDateDatepicker(b,!0);var m=this._getMinMaxDate(g,"min");var q=this._getMinMaxDate(g,"max");f(g.settings,e);null!==m&&void 0!==e.dateFormat&&void 0===e.minDate&&(g.settings.minDate=this._formatDate(g,m));null!==q&&void 0!==e.dateFormat&&void 0===e.maxDate&&(g.settings.maxDate=this._formatDate(g,q));"disabled"in e&&(e.disabled?this._disableDatepicker(b):this._enableDatepicker(b));this._attachments(a(b),g);this._autoSize(g);
this._setDate(g,l);this._updateAlternate(g);this._updateDatepicker(g)}},_changeDatepicker:function(a,d,c){this._optionDatepicker(a,d,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,d){if(a=this._getInst(a))this._setDate(a,d),this._updateDatepicker(a),this._updateAlternate(a)},_getDateDatepicker:function(a,d){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,d);return a?this._getDate(a):null},_doKeyDown:function(b){var d=a.datepicker._getInst(b.target);
var c=!0;var e=d.dpDiv.is(".ui-datepicker-rtl");d._keyEvent=!0;if(a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker();c=!1;break;case 13:return c=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",d.dpDiv),c[0]&&a.datepicker._selectDay(b.target,d.selectedMonth,d.selectedYear,c[0]),(b=a.datepicker._get(d,"onSelect"))?(c=a.datepicker._formatDate(d),b.apply(d.input?d.input[0]:null,[c,d])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();
break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(d,"stepBigMonths"):-a.datepicker._get(d,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(d,"stepBigMonths"):+a.datepicker._get(d,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target);c=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target);c=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,
e?1:-1,"D");c=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(d,"stepBigMonths"):-a.datepicker._get(d,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D");c=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,e?-1:1,"D");c=b.ctrlKey||b.metaKey;b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(d,"stepBigMonths"):+a.datepicker._get(d,
"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D");c=b.ctrlKey||b.metaKey;break;default:c=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):c=!1;c&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var d=a.datepicker._getInst(b.target);if(a.datepicker._get(d,"constrainInput")){d=a.datepicker._possibleChars(a.datepicker._get(d,"dateFormat"));var c=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode);return b.ctrlKey||
b.metaKey||" ">c||!d||-1<d.indexOf(c)}},_doKeyUp:function(b){var d;b=a.datepicker._getInst(b.target);if(b.input.val()!==b.lastVal)try{if(d=a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),b.input?b.input.val():null,a.datepicker._getFormatConfig(b)))a.datepicker._setDateFromField(b),a.datepicker._updateAlternate(b),a.datepicker._updateDatepicker(b)}catch(g){}return!0},_showDatepicker:function(b){b=b.target||b;"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]);if(!a.datepicker._isDisabledDatepicker(b)&&
a.datepicker._lastInput!==b){var d=a.datepicker._getInst(b);a.datepicker._curInst&&a.datepicker._curInst!==d&&(a.datepicker._curInst.dpDiv.stop(!0,!0),d&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0]));var g=(g=a.datepicker._get(d,"beforeShow"))?g.apply(b,[b,d]):{};if(!1!==g){f(d.settings,g);d.lastVal=null;a.datepicker._lastInput=b;a.datepicker._setDateFromField(d);a.datepicker._inDialog&&(b.value="");a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),
a.datepicker._pos[1]+=b.offsetHeight);var e=!1;a(b).parents().each(function(){e|="fixed"===a(this).css("position");return!e});g={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;d.dpDiv.empty();d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});a.datepicker._updateDatepicker(d);g=a.datepicker._checkOffset(d,g,e);d.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":e?"fixed":"absolute",display:"none",left:g.left+"px",top:g.top+"px"});if(!d.inline){g=
a.datepicker._get(d,"showAnim");var l=a.datepicker._get(d,"duration");d.dpDiv.css("z-index",c(a(b))+1);a.datepicker._datepickerShowing=!0;if(a.effects&&a.effects.effect[g])d.dpDiv.show(g,a.datepicker._get(d,"showOptions"),l);else d.dpDiv[g||"show"](g?l:null);a.datepicker._shouldFocusInput(d)&&d.input.trigger("focus");a.datepicker._curInst=d}}}},_updateDatepicker:function(b){this.maxRows=4;v=b;b.dpDiv.empty().append(this._generateHTML(b));this._attachHandlers(b);var d=this._getNumberOfMonths(b),c=
d[1],e=b.dpDiv.find("."+this._dayOverClass+" a");0<e.length&&l.apply(e.get(0));b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<c&&b.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em");b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi");b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.trigger("focus");
if(b.yearshtml){var f=b.yearshtml;setTimeout(function(){f===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml);f=b.yearshtml=null},0)}},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,d,c){var g=b.dpDiv.outerWidth(),e=b.dpDiv.outerHeight(),f=b.input?b.input.outerWidth():0,l=b.input?b.input.outerHeight():0,m=document.documentElement.clientWidth+(c?0:a(document).scrollLeft()),
q=document.documentElement.clientHeight+(c?0:a(document).scrollTop());d.left-=this._get(b,"isRTL")?g-f:0;d.left-=c&&d.left===b.input.offset().left?a(document).scrollLeft():0;d.top-=c&&d.top===b.input.offset().top+l?a(document).scrollTop():0;d.left-=Math.min(d.left,d.left+g>m&&m>g?Math.abs(d.left+g-m):0);d.top-=Math.min(d.top,d.top+e>q&&q>e?Math.abs(e+l):0);return d},_findPos:function(b){var d=this._getInst(b);for(d=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=
b[d?"previousSibling":"nextSibling"];b=a(b).offset();return[b.left,b.top]},_hideDatepicker:function(b){var d=this._curInst;if(d&&(!b||d===a.data(b,"datepicker"))&&this._datepickerShowing){b=this._get(d,"showAnim");var c=this._get(d,"duration");var e=function(){a.datepicker._tidyDialog(d)};if(a.effects&&(a.effects.effect[b]||a.effects[b]))d.dpDiv.hide(b,a.datepicker._get(d,"showOptions"),c,e);else d.dpDiv["slideDown"===b?"slideUp":"fadeIn"===b?"fadeOut":"hide"](b?c:null,e);b||e();this._datepickerShowing=
!1;(b=this._get(d,"onClose"))&&b.apply(d.input?d.input[0]:null,[d.input?d.input.val():"",d]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){b=a(b.target);var d=a.datepicker._getInst(b[0]);(!(b[0].id===a.datepicker._mainDivId||
0!==b.parents("#"+a.datepicker._mainDivId).length||b.hasClass(a.datepicker.markerClassName)||b.closest("."+a.datepicker._triggerClass).length||!a.datepicker._datepickerShowing||a.datepicker._inDialog&&a.blockUI)||b.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,d,c){b=a(b);var g=this._getInst(b[0]);this._isDisabledDatepicker(b[0])||(this._adjustInstDate(g,d+("M"===c?this._get(g,"showCurrentAtPos"):0),c),this._updateDatepicker(g))},
_gotoToday:function(b){var d=a(b),c=this._getInst(d[0]);this._get(c,"gotoCurrent")&&c.currentDay?(c.selectedDay=c.currentDay,c.drawMonth=c.selectedMonth=c.currentMonth,c.drawYear=c.selectedYear=c.currentYear):(b=new Date,c.selectedDay=b.getDate(),c.drawMonth=c.selectedMonth=b.getMonth(),c.drawYear=c.selectedYear=b.getFullYear());this._notifyChange(c);this._adjustDate(d)},_selectMonthYear:function(b,d,c){b=a(b);var g=this._getInst(b[0]);g["selected"+("M"===c?"Month":"Year")]=g["draw"+("M"===c?"Month":
"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(g);this._adjustDate(b)},_selectDay:function(b,d,c,e){var g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(g=this._getInst(g[0]),g.selectedDay=g.currentDay=a("a",e).html(),g.selectedMonth=g.currentMonth=d,g.selectedYear=g.currentYear=c,this._selectDate(b,this._formatDate(g,g.currentDay,g.currentMonth,g.currentYear)))},_clearDate:function(b){b=a(b);this._selectDate(b,"")},_selectDate:function(b,
d){b=a(b);var c=this._getInst(b[0]);d=null!=d?d:this._formatDate(c);c.input&&c.input.val(d);this._updateAlternate(c);(b=this._get(c,"onSelect"))?b.apply(c.input?c.input[0]:null,[d,c]):c.input&&c.input.trigger("change");c.inline?this._updateDatepicker(c):(this._hideDatepicker(),this._lastInput=c.input[0],"object"!==typeof c.input[0]&&c.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(b){var d=this._get(b,"altField");if(d){var c=this._get(b,"altFormat")||this._get(b,"dateFormat");
var e=this._getDate(b);b=this.formatDate(c,e,this._getFormatConfig(b));a(d).val(b)}},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(b,d,c){if(null==b||null==d)throw"Invalid arguments";d="object"===typeof d?d.toString():d+"";if(""===d)return null;var g,e=0;var f=(c?c.shortYearCutoff:null)||
this._defaults.shortYearCutoff;f="string"!==typeof f?f:(new Date).getFullYear()%100+parseInt(f,10);var l=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort;var m=(c?c.dayNames:null)||this._defaults.dayNames,q=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,z=(c?c.monthNames:null)||this._defaults.monthNames,u=c=-1,B=-1,v=-1,A=!1,C=function(a){(a=g+1<b.length&&b.charAt(g+1)===a)&&g++;return a},S=function(a){var b=C(a);b="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2;a=new RegExp("^\\d{"+
("y"===a?b:1)+","+b+"}");a=d.substring(e).match(a);if(!a)throw"Missing number at position "+e;e+=a[0].length;return parseInt(a[0],10)},ba=function(b,c,g){var f=-1;b=a.map(C(b)?g:c,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});a.each(b,function(a,b){a=b[1];if(d.substr(e,a.length).toLowerCase()===a.toLowerCase())return f=b[0],e+=a.length,!1});if(-1!==f)return f+1;throw"Unknown name at position "+e;},T=function(){if(d.charAt(e)!==b.charAt(g))throw"Unexpected literal at position "+
e;e++};for(g=0;g<b.length;g++)if(A)"'"!==b.charAt(g)||C("'")?T():A=!1;else switch(b.charAt(g)){case "d":B=S("d");break;case "D":ba("D",l,m);break;case "o":v=S("o");break;case "m":u=S("m");break;case "M":u=ba("M",q,z);break;case "y":c=S("y");break;case "@":var Y=new Date(S("@"));c=Y.getFullYear();u=Y.getMonth()+1;B=Y.getDate();break;case "!":Y=new Date((S("!")-this._ticksTo1970)/1E4);c=Y.getFullYear();u=Y.getMonth()+1;B=Y.getDate();break;case "'":C("'")?T():A=!0;break;default:T()}if(e<d.length&&(l=
d.substr(e),!/^\s+/.test(l)))throw"Extra/unparsed characters found in date: "+l;-1===c?c=(new Date).getFullYear():100>c&&(c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=f?0:-100));if(-1<v){u=1;B=v;do{f=this._getDaysInMonth(c,u-1);if(B<=f)break;u++;B-=f}while(1)}Y=this._daylightSavingAdjust(new Date(c,u-1,B));if(Y.getFullYear()!==c||Y.getMonth()+1!==u||Y.getDate()!==B)throw"Invalid date";return Y},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",
RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:62135596800*1E7,formatDate:function(a,d,c){if(!d)return"";var b,g=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,e=(c?c.dayNames:null)||this._defaults.dayNames,f=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var l=function(d){(d=b+1<a.length&&a.charAt(b+1)===d)&&b++;return d},m=function(a,b,d){b=""+
b;if(l(a))for(;b.length<d;)b="0"+b;return b},q=function(a,b,d,c){return l(a)?c[b]:d[b]},z="",u=!1;if(d)for(b=0;b<a.length;b++)if(u)"'"!==a.charAt(b)||l("'")?z+=a.charAt(b):u=!1;else switch(a.charAt(b)){case "d":z+=m("d",d.getDate(),2);break;case "D":z+=q("D",d.getDay(),g,e);break;case "o":z+=m("o",Math.round(((new Date(d.getFullYear(),d.getMonth(),d.getDate())).getTime()-(new Date(d.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":z+=m("m",d.getMonth()+1,2);break;case "M":z+=q("M",d.getMonth(),
f,c);break;case "y":z+=l("y")?d.getFullYear():(10>d.getFullYear()%100?"0":"")+d.getFullYear()%100;break;case "@":z+=d.getTime();break;case "!":z+=1E4*d.getTime()+this._ticksTo1970;break;case "'":l("'")?z+="'":u=!0;break;default:z+=a.charAt(b)}return z},_possibleChars:function(a){var b,c="",e=!1,f=function(d){(d=b+1<a.length&&a.charAt(b+1)===d)&&b++;return d};for(b=0;b<a.length;b++)if(e)"'"!==a.charAt(b)||f("'")?c+=a.charAt(b):e=!1;else switch(a.charAt(b)){case "d":case "m":case "y":case "@":c+="0123456789";
break;case "D":case "M":return null;case "'":f("'")?c+="'":e=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,d){return void 0!==a.settings[d]?a.settings[d]:this._defaults[d]},_setDateFromField:function(a,d){if(a.input.val()!==a.lastVal){var b=this._get(a,"dateFormat"),c=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,l=this._getFormatConfig(a);try{f=this.parseDate(b,c,l)||e}catch(P){c=d?"":c}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=
a.selectedYear=f.getFullYear();a.currentDay=c?f.getDate():0;a.currentMonth=c?f.getMonth():0;a.currentYear=c?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,d,c){var g=function(a){var b=new Date;b.setDate(b.getDate()+a);return b},e=function(d){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),d,a.datepicker._getFormatConfig(b))}catch(R){}var c=
(d.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,g=c.getFullYear(),e=c.getMonth();c=c.getDate();for(var f=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=f.exec(d);r;){switch(r[2]||"d"){case "d":case "D":c+=parseInt(r[1],10);break;case "w":case "W":c+=7*parseInt(r[1],10);break;case "m":case "M":e+=parseInt(r[1],10);c=Math.min(c,a.datepicker._getDaysInMonth(g,e));break;case "y":case "Y":g+=parseInt(r[1],10),c=Math.min(c,a.datepicker._getDaysInMonth(g,e))}r=f.exec(d)}return new Date(g,
e,c)};if(d=(d=null==d||""===d?c:"string"===typeof d?e(d):"number"===typeof d?isNaN(d)?c:g(d):new Date(d.getTime()))&&"Invalid Date"===d.toString()?c:d)d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,d,c){var b=!d,g=a.selectedMonth,e=a.selectedYear;d=this._restrictMinMax(a,this._determineDate(a,d,new Date));a.selectedDay=
a.currentDay=d.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=d.getMonth();a.drawYear=a.selectedYear=a.currentYear=d.getFullYear();g===a.selectedMonth&&e===a.selectedYear||c||this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(b?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(b){var d=this._get(b,"stepMonths"),c="#"+b.id.replace(/\\\\/g,
"\\");b.dpDiv.find("[data-handler]").map(function(){a(this).on(this.getAttribute("data-event"),{prev:function(){a.datepicker._adjustDate(c,-d,"M")},next:function(){a.datepicker._adjustDate(c,+d,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(c)},selectDay:function(){a.datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){a.datepicker._selectMonthYear(c,this,"M");return!1},selectYear:function(){a.datepicker._selectMonthYear(c,
this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,e,f,l=new Date;l=this._daylightSavingAdjust(new Date(l.getFullYear(),l.getMonth(),l.getDate()));var m=this._get(a,"isRTL");var q=this._get(a,"showButtonPanel");var z=this._get(a,"hideIfNoPrevNext");var u=this._get(a,"navigationAsDateFormat");var B=this._getNumberOfMonths(a),v=this._get(a,"showCurrentAtPos");var A=this._get(a,"stepMonths");var C=1!==B[0]||1!==B[1],J=this._daylightSavingAdjust(a.currentDay?
new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),S=this._getMinMaxDate(a,"min"),ba=this._getMinMaxDate(a,"max");v=a.drawMonth-v;var T=a.drawYear;0>v&&(v+=12,T--);if(ba){var Y=this._daylightSavingAdjust(new Date(ba.getFullYear(),ba.getMonth()-B[0]*B[1]+1,ba.getDate()));for(Y=S&&Y<S?S:Y;this._daylightSavingAdjust(new Date(T,v,1))>Y;)v--,0>v&&(v=11,T--)}a.drawMonth=v;a.drawYear=T;Y=this._get(a,"prevText");Y=u?this.formatDate(Y,this._daylightSavingAdjust(new Date(T,v-A,1)),this._getFormatConfig(a)):
Y;Y=this._canAdjustMonth(a,-1,T,v)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+Y+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"e":"w")+"'>"+Y+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+Y+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"e":"w")+"'>"+Y+"</span></a>";var ta=this._get(a,"nextText");ta=u?this.formatDate(ta,this._daylightSavingAdjust(new Date(T,v+A,1)),this._getFormatConfig(a)):
ta;z=this._canAdjustMonth(a,1,T,v)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+ta+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"w":"e")+"'>"+ta+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+ta+"'><span class='ui-icon ui-icon-circle-triangle-"+(m?"w":"e")+"'>"+ta+"</span></a>";A=this._get(a,"currentText");ta=this._get(a,"gotoCurrent")&&a.currentDay?J:l;A=u?this.formatDate(A,ta,this._getFormatConfig(a)):
A;u=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>";q=q?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(m?u:"")+(this._isInRange(a,ta)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+A+"</button>":"")+(m?"":u)+"</div>":"";u=parseInt(this._get(a,
"firstDay"),10);u=isNaN(u)?0:u;A=this._get(a,"showWeek");ta=this._get(a,"dayNames");var Ia=this._get(a,"dayNamesMin");var Ha=this._get(a,"monthNames");var ia=this._get(a,"monthNamesShort");var va=this._get(a,"beforeShowDay");var oa=this._get(a,"showOtherMonths");var wa=this._get(a,"selectOtherMonths");var Ga=this._getDefaultDate(a);var fa="";for(b=0;b<B[0];b++){var la="";this.maxRows=4;for(c=0;c<B[1];c++){var ka=this._daylightSavingAdjust(new Date(T,v,a.selectedDay));var ra=" ui-corner-all";var Da=
"";if(C){Da+="<div class='ui-datepicker-group";if(1<B[1])switch(c){case 0:Da+=" ui-datepicker-group-first";ra=" ui-corner-"+(m?"right":"left");break;case B[1]-1:Da+=" ui-datepicker-group-last";ra=" ui-corner-"+(m?"left":"right");break;default:Da+=" ui-datepicker-group-middle",ra=""}Da+="'>"}Da+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ra+"'>"+(/all|left/.test(ra)&&0===b?m?z:Y:"")+(/all|right/.test(ra)&&0===b?m?Y:z:"")+this._generateMonthYearHeader(a,v,T,S,ba,0<b||0<c,
Ha,ia)+"</div><table class='ui-datepicker-calendar'><thead><tr>";var ea=A?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(ra=0;7>ra;ra++){var U=(ra+u)%7;ea+="<th scope='col'"+(5<=(ra+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+ta[U]+"'>"+Ia[U]+"</span></th>"}Da+=ea+"</tr></thead><tbody>";ea=this._getDaysInMonth(T,v);T===a.selectedYear&&v===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,ea));ra=(this._getFirstDayOfMonth(T,v)-u+7)%7;ea=Math.ceil((ra+
ea)/7);this.maxRows=ea=C?this.maxRows>ea?this.maxRows:ea:ea;U=this._daylightSavingAdjust(new Date(T,v,1-ra));for(e=0;e<ea;e++){Da+="<tr>";var O=A?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(U)+"</td>":"";for(ra=0;7>ra;ra++){var Ka=va?va.apply(a.input?a.input[0]:null,[U]):[!0,""];var N=(f=U.getMonth()!==v)&&!wa||!Ka[0]||S&&U<S||ba&&U>ba;O+="<td class='"+(5<=(ra+u+6)%7?" ui-datepicker-week-end":"")+(f?" ui-datepicker-other-month":"")+(U.getTime()===ka.getTime()&&v===a.selectedMonth&&
a._keyEvent||Ga.getTime()===U.getTime()&&Ga.getTime()===ka.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(f&&!oa?"":" "+Ka[1]+(U.getTime()===J.getTime()?" "+this._currentClass:"")+(U.getTime()===l.getTime()?" ui-datepicker-today":""))+"'"+(f&&!oa||!Ka[2]?"":" title='"+Ka[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+U.getMonth()+"' data-year='"+U.getFullYear()+"'")+">"+(f&&!oa?"&#xa0;":N?"<span class='ui-state-default'>"+
U.getDate()+"</span>":"<a class='ui-state-default"+(U.getTime()===l.getTime()?" ui-state-highlight":"")+(U.getTime()===J.getTime()?" ui-state-active":"")+(f?" ui-priority-secondary":"")+"' href='#'>"+U.getDate()+"</a>")+"</td>";U.setDate(U.getDate()+1);U=this._daylightSavingAdjust(U)}Da+=O+"</tr>"}v++;11<v&&(v=0,T++);Da+="</tbody></table>"+(C?"</div>"+(0<B[0]&&c===B[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");la+=Da}fa+=la}a._keyEvent=!1;return fa+q},_generateMonthYearHeader:function(a,
d,c,e,f,l,m,q){var b,g=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),z=this._get(a,"showMonthAfterYear"),u="<div class='ui-datepicker-title'>",D="";if(l||!g)D+="<span class='ui-datepicker-month'>"+m[d]+"</span>";else{m=e&&e.getFullYear()===c;var B=f&&f.getFullYear()===c;D+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(b=0;12>b;b++)(!m||b>=e.getMonth())&&(!B||b<=f.getMonth())&&(D+="<option value='"+b+"'"+(b===d?" selected='selected'":"")+">"+q[b]+
"</option>");D+="</select>"}z||(u+=D+(!l&&g&&r?"":"&#xa0;"));if(!a.yearshtml)if(a.yearshtml="",l||!r)u+="<span class='ui-datepicker-year'>"+c+"</span>";else{q=this._get(a,"yearRange").split(":");var v=(new Date).getFullYear();m=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?v+parseInt(a,10):parseInt(a,10);return isNaN(a)?v:a};d=m(q[0]);q=Math.max(d,m(q[1]||""));d=e?Math.max(d,e.getFullYear()):d;q=f?Math.min(q,f.getFullYear()):q;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";d<=
q;d++)a.yearshtml+="<option value='"+d+"'"+(d===c?" selected='selected'":"")+">"+d+"</option>";a.yearshtml+="</select>";u+=a.yearshtml;a.yearshtml=null}u+=this._get(a,"yearSuffix");z&&(u+=(!l&&g&&r?"":"&#xa0;")+D);return u+"</div>"},_adjustInstDate:function(a,d,c){var b=a.selectedYear+("Y"===c?d:0),g=a.selectedMonth+("M"===c?d:0);d=Math.min(a.selectedDay,this._getDaysInMonth(b,g))+("D"===c?d:0);b=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(b,g,d)));a.selectedDay=b.getDate();a.drawMonth=
a.selectedMonth=b.getMonth();a.drawYear=a.selectedYear=b.getFullYear();"M"!==c&&"Y"!==c||this._notifyChange(a)},_restrictMinMax:function(a,d){var b=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");d=b&&d<b?b:d;return a&&d>a?a:d},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,
d){return this._determineDate(a,this._get(a,d+"Date"),null)},_getDaysInMonth:function(a,d){return 32-this._daylightSavingAdjust(new Date(a,d,32)).getDate()},_getFirstDayOfMonth:function(a,d){return(new Date(a,d,1)).getDay()},_canAdjustMonth:function(a,d,c,e){var b=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(0>d?d:b[0]*b[1]),1));0>d&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,d){var b=this._getMinMaxDate(a,
"min"),c=this._getMinMaxDate(a,"max"),e=null,f=null;if(a=this._get(a,"yearRange")){a=a.split(":");var l=(new Date).getFullYear();e=parseInt(a[0],10);f=parseInt(a[1],10);a[0].match(/[+\-].*/)&&(e+=l);a[1].match(/[+\-].*/)&&(f+=l)}return(!b||d.getTime()>=b.getTime())&&(!c||d.getTime()<=c.getTime())&&(!e||d.getFullYear()>=e)&&(!f||d.getFullYear()<=f)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,
dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,d,c,e){d||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);d=d?"object"===typeof d?d:this._daylightSavingAdjust(new Date(e,c,d)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),d,this._getFormatConfig(a))}});
a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).on("mousedown",a.datepicker._checkExternalClick),a.datepicker.initialized=!0);0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var d=Array.prototype.slice.call(arguments,1);return"string"===typeof b&&("isDisabled"===b||"getDate"===b||"widget"===b)||"option"===b&&2===arguments.length&&"string"===typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(d)):
this.each(function(){"string"===typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(d)):a.datepicker._attachDatepicker(this,b)})};a.datepicker=new e;a.datepicker.initialized=!1;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.12.1";a.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",
maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var d=a(this).css(b).offset().top;0>d&&a(this).css("top",b.top-d)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,
maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);
this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&a.fn.draggable&&this._makeDraggable();this.options.resizable&&a.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;
return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);var d=a.parent.children().eq(a.index);d.length&&d[0]!==this.element[0]?d.before(this.element):a.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,
close:function(b){var d=this;this._isOpen&&!1!==this._trigger("beforeClose",b)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||a.ui.safeBlur(a.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(b,d){var c=!1,e=this.uiDialog.siblings(".ui-front:visible").map(function(){return+a(this).css("z-index")}).get();
e=Math.max.apply(null,e);e>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",e+1),c=!0);c&&!d&&this._trigger("focus",b);return c},open:function(){var b=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=a(a.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable();
b._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var a=this._focusedElement;a||(a=this.element.find("[autofocus]"));a.length||(a=this.element.find(":tabbable"));a.length||(a=this.uiDialogButtonPane.find(":tabbable"));a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable"));a.length||(a=this.uiDialog);a.eq(0).trigger("focus")},_keepFocus:function(b){function d(){var b=a.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===b||a.contains(this.uiDialog[0],
b)||this._focusTabbable()}b.preventDefault();d.call(this);this._delay(d)},_createWrapper:function(){this.uiDialog=a("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)b.preventDefault(),this.close(b);else if(b.keyCode===a.ui.keyCode.TAB&&!b.isDefaultPrevented()){var d=
this.uiDialog.find(":tabbable"),c=d.filter(":first"),e=d.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==c[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(this._delay(function(){e.trigger("focus")}),b.preventDefault()):(this._delay(function(){c.trigger("focus")}),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},
_createTitlebar:function(){this.uiDialogTitlebar=a("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:a("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,
"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault();this.close(a)}});var b=a("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(b,"ui-dialog-title");this._title(b);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title?a.text(this.options.title):a.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>");this._addClass(this.uiDialogButtonPane,
"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=a("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var b=this,d=this.options.buttons;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();a.isEmptyObject(d)||a.isArray(d)&&!d.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(a.each(d,function(d,c){c=a.isFunction(c)?{click:c,text:d}:c;c=a.extend({type:"button"},
c);var g=c.click;d={icon:c.icon,iconPosition:c.iconPosition,showLabel:c.showLabel,icons:c.icons,text:c.text};delete c.click;delete c.icon;delete c.iconPosition;delete c.showLabel;delete c.icons;"boolean"===typeof c.text&&delete c.text;a("<button></button>",c).button(d).appendTo(b.uiButtonSet).on("click",function(){g.apply(b.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,
offset:a.offset}}var d=this,c=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(c,g){d._addClass(a(this),"ui-dialog-dragging");d._blockFrames();d._trigger("dragStart",c,b(g))},drag:function(a,c){d._trigger("drag",a,b(c))},stop:function(g,e){var f=e.offset.left-d.document.scrollLeft(),r=e.offset.top-d.document.scrollTop();c.position={my:"left top",at:"left"+(0<=f?"+":"")+f+" top"+(0<=r?"+":
"")+r,of:d.window};d._removeClass(a(this),"ui-dialog-dragging");d._unblockFrames();d._trigger("dragStop",g,b(e))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var d=this,c=this.options,e=c.resizable,f=this.uiDialog.css("position");e="string"===typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:c.maxWidth,maxHeight:c.maxHeight,
minWidth:c.minWidth,minHeight:this._minHeight(),handles:e,start:function(c,g){d._addClass(a(this),"ui-dialog-resizing");d._blockFrames();d._trigger("resizeStart",c,b(g))},resize:function(a,c){d._trigger("resize",a,b(c))},stop:function(g,e){var f=d.uiDialog.offset(),r=f.left-d.document.scrollLeft();f=f.top-d.document.scrollTop();c.height=d.uiDialog.height();c.width=d.uiDialog.width();c.position={my:"left top",at:"left"+(0<=r?"+":"")+r+" top"+(0<=f?"+":"")+f,of:d.window};d._removeClass(a(this),"ui-dialog-resizing");
d._unblockFrames();d._trigger("resizeStop",g,b(e))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(b){this._makeFocusTarget();this._focusedElement=a(b.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var b=this._trackingInstances(),d=a.inArray(this,b);-1!==d&&b.splice(d,1)},_trackingInstances:function(){var a=this.document.data("ui-dialog-instances");a||(a=[],this.document.data("ui-dialog-instances",
a));return a},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show();this.uiDialog.position(this.options.position);a||this.uiDialog.hide()},_setOptions:function(b){var d=this,c=!1,e={};a.each(b,function(a,b){d._setOption(a,b);a in d.sizeRelatedOptions&&(c=!0);a in d.resizableRelatedOptions&&(e[a]=b)});c&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&
this.uiDialog.resizable("option",e)},_setOption:function(b,d){var c,e=this.uiDialog;"disabled"!==b&&(this._super(b,d),"appendTo"===b&&this.uiDialog.appendTo(this._appendTo()),"buttons"===b&&this._createButtons(),"closeText"===b&&this.uiDialogTitlebarClose.button({label:a("<a>").text(""+this.options.closeText).html()}),"draggable"===b&&((c=e.is(":data(ui-draggable)"))&&!d&&e.draggable("destroy"),!c&&d&&this._makeDraggable()),"position"===b&&this._position(),"resizable"===b&&((c=e.is(":data(ui-resizable)"))&&
!d&&e.resizable("destroy"),c&&"string"===typeof d&&e.resizable("option","handles",d),c||!1===d||this._makeResizable()),"title"===b&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});a.minWidth>a.width&&(a.width=a.minWidth);var d=this.uiDialog.css({height:"auto",width:a.width}).outerHeight();var c=Math.max(0,a.minHeight-d);var e="number"===typeof a.maxHeight?Math.max(0,a.maxHeight-
d):"none";"auto"===a.height?this.element.css({minHeight:c,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,a.height-d));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&
(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=!0;this._delay(function(){b=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(a){b||this._allowInteraction(a)||(a.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=a("<div>").appendTo(this._appendTo());
this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var a=this.document.data("ui-dialog-overlays")-1;a?this.document.data("ui-dialog-overlays",a):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});!1!==a.uiBackCompat&&
a.widget("ui.dialog",a.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(a,d){"dialogClass"===a&&this.uiDialog.removeClass(this.options.dialogClass).addClass(d);this._superApply(arguments)}});a.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},
min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=a("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(a){if(void 0===
a)return this.options.value;this.options.value=this._constrainedValue(a);this._refreshValue()},_constrainedValue:function(a){void 0===a&&(a=this.options.value);this.indeterminate=!1===a;"number"!==typeof a&&(a=0);return this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value;this._super(a);this.options.value=this._constrainedValue(b);this._refreshValue()},_setOption:function(a,d){"max"===a&&(d=Math.max(this.min,d));this._super(a,
d)},_setOptionDisabled:function(a){this._super(a);this.element.attr("aria-disabled",a);this._toggleClass(null,"ui-state-disabled",!!a)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,d=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).width(d.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,b===this.options.max)._toggleClass("ui-progressbar-indeterminate",
null,this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==b&&(this.oldValue=b,this._trigger("change"));b===this.options.max&&this._trigger("complete")}});a.widget("ui.selectmenu",[a.ui.formResetMixin,
{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var b=this.element.uniqueId().attr("id");this.ids={element:b,button:b+"-button",menu:b+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();
this._rendered=!1;this.menuItems=a()},_drawButton:function(){var b=this,d=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(a){this.button.focus();a.preventDefault()}});this.element.hide();this.button=a("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",
title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");var c=a("<span>").appendTo(this.button);this._addClass(c,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(d).appendTo(this.button);!1!==this.options.width&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){b._rendered||b._refreshMenu()})},_drawMenu:function(){var b=
this;this.menu=a("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=a("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(a,c){a.preventDefault();b._setSelection();b._select(c.item.data("ui-selectmenu-item"),a)},focus:function(a,c){c=c.item.data("ui-selectmenu-item");null!=
b.focusIndex&&c.index!==b.focusIndex&&(b._trigger("focus",a,{item:c}),b.isOpen||b._select(c,a));b.focusIndex=c.index;b.button.attr("aria-activedescendant",b.menuItems.eq(c.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||
{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var a=this.element.find("option");this.menu.empty();this._parseOptions(a);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=!0;a.length&&(a=this._getSelectedItem(),this.menuInstance.focus(null,a),this._setAria(a.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},
open:function(a){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",a)))},_position:function(){this.menuWrap.position(a.extend({of:this.button},this.options.position))},close:function(a){this.isOpen&&(this.isOpen=
!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",a))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(b){var d=a("<span>");this._setText(d,b.label);this._addClass(d,"ui-selectmenu-text");return d},_renderMenu:function(b,d){var c=this,e="";a.each(d,function(d,g){g.optgroup!==e&&(d=a("<li>",{text:g.optgroup}),c._addClass(d,"ui-selectmenu-optgroup","ui-menu-divider"+(g.element.parent("optgroup").prop("disabled")?
" ui-state-disabled":"")),d.appendTo(b),e=g.optgroup);c._renderItemData(b,g)})},_renderItemData:function(a,d){return this._renderItem(a,d).data("ui-selectmenu-item",d)},_renderItem:function(b,d){var c=a("<li>"),e=a("<div>",{title:d.element.attr("title")});d.disabled&&this._addClass(c,null,"ui-state-disabled");this._setText(e,d.label);return c.append(e).appendTo(b)},_setText:function(a,d){d?a.text(d):a.html("&#160;")},_move:function(a,d){var b=".ui-menu-item";if(this.isOpen)var c=this.menuItems.eq(this.focusIndex).parent("li");
else c=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),b+=":not(.ui-state-disabled)";a="first"===a||"last"===a?c["first"===a?"prevAll":"nextAll"](b).eq(-1):c[a+"All"](b).eq(0);a.length&&this.menuInstance.focus(d,a)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(a){this[this.isOpen?"close":"open"](a)},_setSelection:function(){if(this.range){if(window.getSelection){var a=window.getSelection();a.removeAllRanges();a.addRange(this.range)}else this.range.select();
this.button.focus()}},_documentClick:{mousedown:function(b){this.isOpen&&(a(b.target).closest(".ui-selectmenu-menu, #"+a.ui.escapeSelector(this.ids.button)).length||this.close(b))}},_buttonEvents:{mousedown:function(){if(window.getSelection){var a=window.getSelection();a.rangeCount&&(this.range=a.getRangeAt(0))}else this.range=document.selection.createRange()},click:function(a){this._setSelection();this._toggle(a)},keydown:function(b){var d=!0;switch(b.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:this.close(b);
d=!1;break;case a.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(b);break;case a.ui.keyCode.UP:b.altKey?this._toggle(b):this._move("prev",b);break;case a.ui.keyCode.DOWN:b.altKey?this._toggle(b):this._move("next",b);break;case a.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(b):this._toggle(b);break;case a.ui.keyCode.LEFT:this._move("prev",b);break;case a.ui.keyCode.RIGHT:this._move("next",b);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",b);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",
b);break;default:this.menu.trigger(b),d=!1}d&&b.preventDefault()}},_selectFocusedItem:function(a){var b=this.menuItems.eq(this.focusIndex).parent("li");b.hasClass("ui-state-disabled")||this._select(b.data("ui-selectmenu-item"),a)},_select:function(a,d){var b=this.element[0].selectedIndex;this.element[0].selectedIndex=a.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(a));this._setAria(a);this._trigger("select",d,{item:a});a.index!==b&&this._trigger("change",d,{item:a});this.close(d)},
_setAria:function(a){a=this.menuItems.eq(a.index).attr("id");this.button.attr({"aria-labelledby":a,"aria-activedescendant":a});this.menu.attr("aria-activedescendant",a)},_setOption:function(a,d){if("icons"===a){var b=this.button.find("span.ui-icon");this._removeClass(b,null,this.options.icons.button)._addClass(b,null,d.button)}this._super(a,d);"appendTo"===a&&this.menuWrap.appendTo(this._appendTo());"width"===a&&this._resizeButton()},_setOptionDisabled:function(a){this._super(a);this.menuInstance.option("disabled",
a);this.button.attr("aria-disabled",a);this._toggleClass(this.button,null,"ui-state-disabled",a);this.element.prop("disabled",a);a?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var b=this.options.appendTo;b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0));b&&b[0]||(b=this.element.closest(".ui-front, dialog"));b.length||(b=this.document[0].body);return b},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,
"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var a=this.options.width;!1===a?this.button.css("width",""):(null===a&&(a=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(a))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),
this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var a=this._super();a.disabled=this.element.prop("disabled");return a},_parseOptions:function(b){var d=this,c=[];b.each(function(b,g){c.push(d._parseOption(a(g),b))});this.items=c},_parseOption:function(a,d){var b=a.parent("optgroup");return{element:a,index:d,value:a.val(),label:a.text(),optgroup:b.attr("label")||"",disabled:b.prop("disabled")||a.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();
this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);a.widget("ui.slider",a.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._mouseSliding=
this._keySliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var b=this.options;var d=this.element.find(".ui-slider-handle"),c=[];var e=b.values&&b.values.length||1;d.length>e&&(d.slice(e).remove(),
d=d.slice(0,e));for(b=d.length;b<e;b++)c.push("<span tabindex='0'></span>");this.handles=d.add(a(c.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(b){a(this).data("ui-slider-handle-index",b).attr("tabIndex",0)})},_createRange:function(){var b=this.options;b.range?(!0===b.range&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=
b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=a("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==b.range&&"max"!==b.range||this._addClass(this.range,"ui-slider-range-"+b.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,
this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(b){var d,c,e=this,f=this.options;if(f.disabled)return!1;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();var l=this._normValueFromMouse({x:b.pageX,y:b.pageY});var m=this._valueMax()-this._valueMin()+1;this.handles.each(function(b){var g=
Math.abs(l-e.values(b));if(m>g||m===g&&(b===e._lastChangedValue||e.values(b)===f.min))m=g,d=a(this),c=b});if(!1===this._start(b,c))return!1;this._mouseSliding=!0;this._handleIndex=c;this._addClass(d,null,"ui-state-active");d.trigger("focus");var q=d.offset();this._clickOffset=a(b.target).parents().addBack().is(".ui-slider-handle")?{left:b.pageX-q.left-d.width()/2,top:b.pageY-q.top-d.height()/2-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),
10)||0)}:{left:0,top:0};this.handles.hasClass("ui-state-hover")||this._slide(b,c,l);return this._animateOff=!0},_mouseStart:function(){return!0},_mouseDrag:function(a){var b=this._normValueFromMouse({x:a.pageX,y:a.pageY});this._slide(a,this._handleIndex,b);return!1},_mouseStop:function(a){this._removeClass(this.handles,null,"ui-state-active");this._mouseSliding=!1;this._stop(a,this._handleIndex);this._change(a,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=!1},
_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){if("horizontal"===this.orientation){var b=this.elementSize.width;a=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else b=this.elementSize.height,a=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0);b=a/b;1<b&&(b=1);0>b&&(b=0);"vertical"===this.orientation&&(b=1-b);a=this._valueMax()-this._valueMin();b=this._valueMin()+
b*a;return this._trimAlignValue(b)},_uiHash:function(a,d,c){var b={handle:this.handles[a],handleIndex:a,value:void 0!==d?d:this.value()};this._hasMultipleValues()&&(b.value=void 0!==d?d:this.values(a),b.values=c||this.values());return b},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(a,d){return this._trigger("start",a,this._uiHash(d))},_slide:function(a,d,c){var b=this.value(),g=this.values();if(this._hasMultipleValues()){var e=this.values(d?
0:1);b=this.values(d);2===this.options.values.length&&!0===this.options.range&&(c=0===d?Math.min(e,c):Math.max(e,c));g[d]=c}c!==b&&!1!==this._trigger("slide",a,this._uiHash(d,c,g))&&(this._hasMultipleValues()?this.values(d,c):this.value(c))},_stop:function(a,d){this._trigger("stop",a,this._uiHash(d))},_change:function(a,d){this._keySliding||this._mouseSliding||(this._lastChangedValue=d,this._trigger("change",a,this._uiHash(d)))},value:function(a){if(arguments.length)this.options.value=this._trimAlignValue(a),
this._refreshValue(),this._change(null,0);else return this._value()},values:function(b,d){var c;if(1<arguments.length)this.options.values[b]=this._trimAlignValue(d),this._refreshValue(),this._change(null,b);else if(arguments.length)if(a.isArray(arguments[0])){var e=this.options.values;var f=arguments[0];for(c=0;c<e.length;c+=1)e[c]=this._trimAlignValue(f[c]),this._change(null,c);this._refreshValue()}else return this._hasMultipleValues()?this._values(b):this.value();else return this._values()},_setOption:function(b,
d){var c=0;"range"===b&&!0===this.options.range&&("min"===d?(this.options.value=this._values(0),this.options.values=null):"max"===d&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null));a.isArray(this.options.values)&&(c=this.options.values.length);this._super(b,d);switch(b){case "orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&
this._refreshRange(d);this.handles.css("horizontal"===d?"bottom":"left","");break;case "value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case "values":this._animateOff=!0;this._refreshValue();for(b=c-1;0<=b;b--)this._change(null,b);this._animateOff=!1;break;case "step":case "min":case "max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case "range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(a){this._super(a);
this._toggleClass(null,"ui-state-disabled",!!a)},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b;if(arguments.length){var c=this.options.values[a];return c=this._trimAlignValue(c)}if(this._hasMultipleValues()){c=this.options.values.slice();for(b=0;b<c.length;b+=1)c[b]=this._trimAlignValue(c[b]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=0<this.options.step?
this.options.step:1,c=(a-this._valueMin())%b;a-=c;2*Math.abs(c)>=b&&(a+=0<c?b:-b);return parseFloat(a.toFixed(5))},_calculateNewMax:function(){var a=this.options.max,d=this._valueMin(),c=this.options.step;a=Math.round((a-d)/c)*c+d;a>this.options.max&&(a-=c);this.max=parseFloat(a.toFixed(this._precision()))},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();
var b=a.indexOf(".");return-1===b?0:a.length-b-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(a){"vertical"===a&&this.range.css({width:"",left:""});"horizontal"===a&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var b,d=this.options.range,c=this.options,e=this,f=this._animateOff?!1:c.animate,l={};if(this._hasMultipleValues())this.handles.each(function(d){u=(e.values(d)-e._valueMin())/(e._valueMax()-e._valueMin())*100;
l["horizontal"===e.orientation?"left":"bottom"]=u+"%";a(this).stop(1,1)[f?"animate":"css"](l,c.animate);if(!0===e.options.range)if("horizontal"===e.orientation){if(0===d)e.range.stop(1,1)[f?"animate":"css"]({left:u+"%"},c.animate);if(1===d)e.range[f?"animate":"css"]({width:u-b+"%"},{queue:!1,duration:c.animate})}else{if(0===d)e.range.stop(1,1)[f?"animate":"css"]({bottom:u+"%"},c.animate);if(1===d)e.range[f?"animate":"css"]({height:u-b+"%"},{queue:!1,duration:c.animate})}b=u});else{var m=this.value();
var q=this._valueMin();var z=this._valueMax();var u=z!==q?(m-q)/(z-q)*100:0;l["horizontal"===this.orientation?"left":"bottom"]=u+"%";this.handle.stop(1,1)[f?"animate":"css"](l,c.animate);if("min"===d&&"horizontal"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({width:u+"%"},c.animate);if("max"===d&&"horizontal"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({width:100-u+"%"},c.animate);if("min"===d&&"vertical"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({height:u+
"%"},c.animate);if("max"===d&&"vertical"===this.orientation)this.range.stop(1,1)[f?"animate":"css"]({height:100-u+"%"},c.animate)}},_handleEvents:{keydown:function(b){var d,c=a(b.target).data("ui-slider-handle-index");switch(b.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(b.preventDefault(),!this._keySliding){this._keySliding=!0;this._addClass(a(b.target),
null,"ui-state-active");var e=this._start(b,c);if(!1===e)return}}var f=this.options.step;e=this._hasMultipleValues()?d=this.values(c):d=this.value();switch(b.keyCode){case a.ui.keyCode.HOME:d=this._valueMin();break;case a.ui.keyCode.END:d=this._valueMax();break;case a.ui.keyCode.PAGE_UP:d=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.PAGE_DOWN:d=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===
this._valueMax())return;d=this._trimAlignValue(e+f);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;d=this._trimAlignValue(e-f)}this._slide(b,c,d)},keyup:function(b){var d=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,d),this._change(b,d),this._removeClass(a(b.target),null,"ui-state-active"))}}});a.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all",
"ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,
{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b=this._super(),d=this.element;a.each(["min","max","step"],function(a,c){a=d.attr(c);null!=a&&a.length&&(b[c]=a)});return b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",
a))},mousewheel:function(a,d){if(d){if(!this.spinning&&!this._start(a))return!1;this._spin((0<d?1:-1)*this.options.step,a);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100);a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function d(){this.element[0]!==a.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=c,this._delay(function(){this.previous=c}))}var c=this.element[0]===a.ui.safeActiveElement(this.document[0])?
this.previous:this.element.val();b.preventDefault();d.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;d.call(this)});!1!==this._start(b)&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){if(a(b.currentTarget).hasClass("ui-state-active")){if(!1===this._start(b))return!1;this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)}},"mouseleave .ui-spinner-button":"_stop"},
_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),
"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:!1});this.buttons.last().button({icon:this.options.icons.down,showLabel:!1});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(b){var d=this.options,c=a.ui.keyCode;switch(b.keyCode){case c.UP:return this._repeat(null,1,b),!0;
case c.DOWN:return this._repeat(null,-1,b),!0;case c.PAGE_UP:return this._repeat(null,d.page,b),!0;case c.PAGE_DOWN:return this._repeat(null,-d.page,b),!0}return!1},_start:function(a){if(!this.spinning&&!1===this._trigger("start",a))return!1;this.counter||(this.counter=1);return this.spinning=!0},_repeat:function(a,d,c){a=a||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,d,c)},a);this._spin(d*this.options.step,c)},_spin:function(a,d){var b=this.value()||0;this.counter||
(this.counter=1);b=this._adjustValue(b+a*this._increment(this.counter));this.spinning&&!1===this._trigger("spin",d,{value:b})||(this._value(b),this.counter++)},_increment:function(b){var d=this.options.incremental;return d?a.isFunction(d)?d(b):Math.floor(b*b*b/5E4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min)));return a},_precisionOf:function(a){a=a.toString();var b=a.indexOf(".");
return-1===b?0:a.length-b-1},_adjustValue:function(a){var b=this.options;var c=null!==b.min?b.min:0;a=c+Math.round((a-c)/b.step)*b.step;a=parseFloat(a.toFixed(this._precision()));return null!==b.max&&a>b.max?b.max:null!==b.min&&a<b.min?b.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,d){if("culture"===a||"numberFormat"===a){var b=this._parse(this.element.val());this.options[a]=
d;this.element.val(this._format(b))}else"max"!==a&&"min"!==a&&"step"!==a||"string"!==typeof d||(d=this._parse(d)),"icons"===a&&(b=this.buttons.first().find(".ui-icon"),this._removeClass(b,null,this.options.icons.up),this._addClass(b,null,d.up),b=this.buttons.last().find(".ui-icon"),this._removeClass(b,null,this.options.icons.down),this._addClass(b,null,d.down)),this._super(a,d)},_setOptionDisabled:function(a){this._super(a);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!a);this.element.prop("disabled",
!!a);this.buttons.button(a?"disable":"enable")},_setOptions:q(function(a){this._super(a)}),_parse:function(a){"string"===typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a);return""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,
"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var a=this.value();return null===a?!1:a===this._adjustValue(a)},_value:function(a,d){if(""!==a){var b=this._parse(a);null!==b&&(d||(b=this._adjustValue(b)),a=this._format(b))}this.element.val(a);this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:q(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&
(this._spin((a||1)*this.options.step),this._stop())},stepDown:q(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:q(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:q(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length)return this._parse(this.element.val());q(this._value).call(this,a)},widget:function(){return this.uiSpinner}});!1!==a.uiBackCompat&&a.widget("ui.spinner",
a.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});a.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,
show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var a=/#.*$/;return function(b){var d=b.href.replace(a,"");var c=location.href.replace(a,"");try{d=decodeURIComponent(d)}catch(D){}try{c=decodeURIComponent(c)}catch(D){}return 1<b.hash.length&&d===c}}(),_create:function(){var b=this,d=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,d.collapsible);this._processTabs();d.active=this._initialActive();
a.isArray(d.disabled)&&(d.disabled=a.unique(d.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort());this.active=!1!==this.options.active&&this.anchors.length?this._findActive(d.active):a();this._refresh();this.active.length&&this.load(d.active)},_initialActive:function(){var b=this.options.active,d=this.options.collapsible,c=location.hash.substring(1);null===b&&(c&&this.tabs.each(function(d,g){if(a(g).attr("aria-controls")===c)return b=d,!1}),
null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null===b||-1===b)&&(b=this.tabs.length?0:!1);!1!==b&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=d?!1:0));!d&&!1===b&&this.anchors.length&&(b=0);return b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var d=a(a.ui.safeActiveElement(this.document[0])).closest("li"),c=this.tabs.index(d),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:c++;
break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1;c--;break;case a.ui.keyCode.END:c=this.anchors.length-1;break;case a.ui.keyCode.HOME:c=0;break;case a.ui.keyCode.SPACE:b.preventDefault();clearTimeout(this.activating);this._activate(c);return;case a.ui.keyCode.ENTER:b.preventDefault();clearTimeout(this.activating);this._activate(c===this.options.active?!1:c);return;default:return}b.preventDefault();clearTimeout(this.activating);c=this._focusNextTab(c,e);b.ctrlKey||b.metaKey||(d.attr("aria-selected",
"false"),this.tabs.eq(c).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",c)},this.delay))}},_panelKeydown:function(b){!this._handlePageNav(b)&&b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(b){if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP)return this._activate(this._focusNextTab(this.options.active-1,!1)),!0;if(b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN)return this._activate(this._focusNextTab(this.options.active+
1,!0)),!0},_findNextTab:function(b,d){function c(){b>e&&(b=0);0>b&&(b=e);return b}for(var e=this.tabs.length-1;-1!==a.inArray(c(),this.options.disabled);)b=d?b+1:b-1;return b},_focusNextTab:function(a,d){a=this._findNextTab(a,d);this.tabs.eq(a).trigger("focus");return a},_setOption:function(a,d){"active"===a?this._activate(d):(this._super(a,d),"collapsible"===a&&(this._toggleClass("ui-tabs-collapsible",null,d),d||!1!==this.options.active||this._activate(0)),"event"===a&&this._setupEvents(d),"heightStyle"===
a&&this._setupHeightStyle(d))},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,d=this.tablist.children(":has(a[href])");b.disabled=a.map(d.filter(".ui-state-disabled"),function(a){return d.index(a)});this._processTabs();!1!==b.active&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,
b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a());this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",
tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this,d=this.tabs,c=this.anchors,e=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(b){a(this).is(".ui-state-disabled")&&
b.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return a("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=a();this.anchors.each(function(d,c){var g=a(c).uniqueId().attr("id"),
e=a(c).closest("li"),f=e.attr("aria-controls");if(b._isLocal(c)){d=c.hash;c=d.substring(1);var l=b.element.find(b._sanitizeSelector(d))}else c=e.attr("aria-controls")||a({}).uniqueId()[0].id,l=b.element.find("#"+c),l.length||(l=b._createPanel(c),l.insertAfter(b.panels[d-1]||b.tablist)),l.attr("aria-live","polite");l.length&&(b.panels=b.panels.add(l));f&&e.data("ui-tabs-aria-controls",f);e.attr({"aria-controls":c,"aria-labelledby":g});l.attr("aria-labelledby",g)});this.panels.attr("role","tabpanel");
this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");d&&(this._off(d.not(this.tabs)),this._off(c.not(this.anchors)),this._off(e.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(b){var d,c;a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(c=0;d=this.tabs[c];c++)d=a(d),!0===b||-1!==a.inArray(c,b)?(d.attr("aria-disabled",
"true"),this._addClass(d,null,"ui-state-disabled")):(d.removeAttr("aria-disabled"),this._removeClass(d,null,"ui-state-disabled"));this.options.disabled=b;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===b)},_setupEvents:function(b){var d={};b&&a.each(b.split(" "),function(a,b){d[b]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(a){a.preventDefault()}});this._on(this.anchors,d);this._on(this.tabs,{keydown:"_tabKeydown"});
this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(b){var d=this.element.parent();if("fill"===b){var c=d.height();c-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))});this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)});this.panels.each(function(){a(this).height(Math.max(0,
c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")}else"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var d=this.options,c=this.active,e=a(b.currentTarget).closest("li"),f=e[0]===c[0],l=f&&d.collapsible,m=l?a():this._getPanelForTab(e),q=c.length?this._getPanelForTab(c):a();c={oldTab:c,oldPanel:q,newTab:l?a():e,newPanel:m};b.preventDefault();e.hasClass("ui-state-disabled")||e.hasClass("ui-tabs-loading")||
this.running||f&&!d.collapsible||!1===this._trigger("beforeActivate",b,c)||(d.active=l?!1:this.tabs.index(e),this.active=f?a():e,this.xhr&&this.xhr.abort(),q.length||m.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),m.length&&this.load(this.tabs.index(e),b),this._toggle(b,c))},_toggle:function(b,d){function c(){f.running=!1;f._trigger("activate",b,d)}function e(){f._addClass(d.newTab.closest("li"),"ui-tabs-active","ui-state-active");l.length&&f.options.show?f._show(l,f.options.show,
c):(l.show(),c())}var f=this,l=d.newPanel,m=d.oldPanel;this.running=!0;m.length&&this.options.hide?this._hide(m,this.options.hide,function(){f._removeClass(d.oldTab.closest("li"),"ui-tabs-active","ui-state-active");e()}):(this._removeClass(d.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),m.hide(),e());m.attr("aria-hidden","true");d.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});l.length&&m.length?d.oldTab.attr("tabIndex",-1):l.length&&this.tabs.filter(function(){return 0===
a(this).attr("tabIndex")}).attr("tabIndex",-1);l.attr("aria-hidden","false");d.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(b){b=this._findActive(b);b[0]!==this.active[0]&&(b.length||(b=this.active),b=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:b,currentTarget:b,preventDefault:a.noop}))},_findActive:function(b){return!1===b?a():this.tabs.eq(b)},_getIndex:function(b){"string"===typeof b&&(b=this.anchors.index(this.anchors.filter("[href$='"+
a.ui.escapeSelector(b)+"']")));return b},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var b=a(this),d=b.data("ui-tabs-aria-controls");d?b.attr("aria-controls",
d).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(b){var d=this.options.disabled;!1!==d&&(void 0===b?d=!1:(b=this._getIndex(b),d=a.isArray(d)?a.map(d,function(a){return a!==b?a:null}):a.map(this.tabs,function(a,d){return d!==b?d:null})),this._setOptionDisabled(d))},disable:function(b){var d=this.options.disabled;if(!0!==d){if(void 0===b)d=!0;else{b=this._getIndex(b);if(-1!==
a.inArray(b,d))return;d=a.isArray(d)?a.merge([b],d).sort():[b]}this._setOptionDisabled(d)}},load:function(b,d){b=this._getIndex(b);var c=this,e=this.tabs.eq(b);b=e.find(".ui-tabs-anchor");var f=this._getPanelForTab(e),l={tab:e,panel:f},m=function(a,b){"abort"===b&&c.panels.stop(!1,!0);c._removeClass(e,"ui-tabs-loading");f.removeAttr("aria-busy");a===c.xhr&&delete c.xhr};this._isLocal(b[0])||(this.xhr=a.ajax(this._ajaxSettings(b,d,l)))&&"canceled"!==this.xhr.statusText&&(this._addClass(e,"ui-tabs-loading"),
f.attr("aria-busy","true"),this.xhr.done(function(a,b,g){setTimeout(function(){f.html(a);c._trigger("load",d,l);m(g,b)},1)}).fail(function(a,b){setTimeout(function(){m(a,b)},1)}))},_ajaxSettings:function(b,d,c){var g=this;return{url:b.attr("href").replace(/#.*$/,""),beforeSend:function(b,e){return g._trigger("beforeLoad",d,a.extend({jqXHR:b,ajaxSettings:e},c))}}},_getPanelForTab:function(b){b=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+b))}});!1!==a.uiBackCompat&&
a.widget("ui.tabs",a.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});a.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(b,d){var c=(b.attr("aria-describedby")||
"").split(/\s+/);c.push(d);b.data("ui-tooltip-id",d).attr("aria-describedby",a.trim(c.join(" ")))},_removeDescribedBy:function(b){var d=b.data("ui-tooltip-id"),c=(b.attr("aria-describedby")||"").split(/\s+/);d=a.inArray(d,c);-1!==d&&c.splice(d,1);b.removeData("ui-tooltip-id");(c=a.trim(c.join(" ")))?b.attr("aria-describedby",c):b.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=a("<div>").attr({role:"log",
"aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=a([])},_setOption:function(b,d){var c=this;this._super(b,d);"content"===b&&a.each(this.tooltips,function(a,b){c._updateContent(b.element)})},_setOptionDisabled:function(a){this[a?"_disable":"_enable"]()},_disable:function(){var b=this;a.each(this.tooltips,function(d,c){d=a.Event("blur");d.target=d.currentTarget=c.element[0];b.close(d,
!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var b=a(this);if(b.is("[title]"))return b.data("ui-tooltip-title",b.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))});this.disabledTitles=a([])},open:function(b){var d=this,c=a(b?b.target:this.element).closest(this.options.items);c.length&&!c.data("ui-tooltip-id")&&
(c.attr("title")&&c.data("ui-tooltip-title",c.attr("title")),c.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&c.parents().each(function(){var b=a(this);if(b.data("ui-tooltip-open")){var c=a.Event("blur");c.target=c.currentTarget=this;d.close(c,!0)}b.attr("title")&&(b.uniqueId(),d.parents[this.id]={element:this,title:b.attr("title")},b.attr("title",""))}),this._registerCloseHandlers(b,c),this._updateContent(c,b))},_updateContent:function(a,d){var b=this.options.content;var c=this,e=d?d.type:null;
if("string"===typeof b||b.nodeType||b.jquery)return this._open(d,a,b);(b=b.call(a[0],function(b){c._delay(function(){a.data("ui-tooltip-open")&&(d&&(d.type=e),this._open(d,a,b))})}))&&this._open(d,a,b)},_open:function(b,d,c){function g(a){f.of=a;l.is(":hidden")||l.position(f)}var e,f=a.extend({},this.options.position);if(c)if(e=this._find(d))e.tooltip.find(".ui-tooltip-content").html(c);else{d.is("[title]")&&(b&&"mouseover"===b.type?d.attr("title",""):d.removeAttr("title"));e=this._tooltip(d);var l=
e.tooltip;this._addDescribedBy(d,l.attr("id"));l.find(".ui-tooltip-content").html(c);this.liveRegion.children().hide();c=a("<div>").html(l.find(".ui-tooltip-content").html());c.removeAttr("name").find("[name]").removeAttr("name");c.removeAttr("id").find("[id]").removeAttr("id");c.appendTo(this.liveRegion);this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:g}),g(b)):l.position(a.extend({of:d},this.options.position));l.hide();this._show(l,this.options.show);if(this.options.track&&
this.options.show&&this.options.show.delay)var m=this.delayedShow=setInterval(function(){l.is(":visible")&&(g(f.of),clearInterval(m))},a.fx.interval);this._trigger("open",b,{tooltip:l})}},_registerCloseHandlers:function(b,d){var c={keyup:function(b){b.keyCode===a.ui.keyCode.ESCAPE&&(b=a.Event(b),b.currentTarget=d[0],this.close(b,!0))}};d[0]!==this.element[0]&&(c.remove=function(){this._removeTooltip(this._find(d).tooltip)});b&&"mouseover"!==b.type||(c.mouseleave="close");b&&"focusin"!==b.type||(c.focusout=
"close");this._on(!0,d,c)},close:function(b){var d=this,c=a(b?b.currentTarget:this.element),e=this._find(c);if(e){var f=e.tooltip;e.closing||(clearInterval(this.delayedShow),c.data("ui-tooltip-title")&&!c.attr("title")&&c.attr("title",c.data("ui-tooltip-title")),this._removeDescribedBy(c),e.hiding=!0,f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),c.removeData("ui-tooltip-open"),this._off(c,"mouseleave focusout keyup"),c[0]!==this.element[0]&&this._off(c,"remove"),
this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title);delete d.parents[b]}),e.closing=!0,this._trigger("close",b,{tooltip:f}),e.hiding||(e.closing=!1))}else c.removeData("ui-tooltip-open")},_tooltip:function(b){var d=a("<div>").attr("role","tooltip"),c=a("<div>").appendTo(d),e=d.uniqueId().attr("id");this._addClass(c,"ui-tooltip-content");this._addClass(d,"ui-tooltip","ui-widget ui-widget-content");d.appendTo(this._appendTo(b));
return this.tooltips[e]={element:b,tooltip:d}},_find:function(a){return(a=a.data("ui-tooltip-id"))?this.tooltips[a]:null},_removeTooltip:function(a){a.remove();delete this.tooltips[a.attr("id")]},_appendTo:function(a){a=a.closest(".ui-front, dialog");a.length||(a=this.document[0].body);return a},_destroy:function(){var b=this;a.each(this.tooltips,function(d,c){var g=a.Event("blur");c=c.element;g.target=g.currentTarget=c[0];b.close(g,!0);a("#"+d).remove();c.data("ui-tooltip-title")&&(c.attr("title")||
c.attr("title",c.data("ui-tooltip-title")),c.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});!1!==a.uiBackCompat&&a.widget("ui.tooltip",a.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var a=this._superApply(arguments);this.options.tooltipClass&&a.tooltip.addClass(this.options.tooltipClass);return a}});a.effects={effect:{}};(function(a,d){function b(a,b,d){var c=z[b.type]||{};if(null==a)return d||!b.def?null:b.def;a=c.floor?~~a:parseFloat(a);return isNaN(a)?b.def:c.mod?
(a+c.mod)%c.mod:0>a?0:c.max<a?c.max:a}function c(b){var d=m(),c=d._rgba=[];b=b.toLowerCase();v(l,function(a,g){a=(a=g.re.exec(b))&&g.parse(a);g=g.space||"rgba";if(a)return a=d[g](a),d[q[g].cache]=a[q[g].cache],c=d._rgba=a._rgba,!1});return c.length?("0,0,0,0"===c.join()&&a.extend(c,A.transparent),d):A[b]}function e(a,b,d){d=(d+1)%1;return 1>6*d?a+(b-a)*d*6:1>2*d?b:2>3*d?a+(b-a)*(2/3-d)*6:a}var f=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)%\s*,\s*(\d+(?:\.\d+)?)%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],m=a.Color=function(b,d,c,g){return new a.Color.fn.parse(b,d,c,g)},q={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},z={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=m.support={},B=a("<p>")[0],v=a.each;B.style.cssText="background-color:rgba(1,1,1,.5)";u.rgba=
-1<B.style.backgroundColor.indexOf("rgba");v(q,function(a,b){b.cache="_"+a;b.props.alpha={idx:3,type:"percent",def:1}});m.fn=a.extend(m.prototype,{parse:function(g,e,f,l){if(g===d)return this._rgba=[null,null,null,null],this;if(g.jquery||g.nodeType)g=a(g).css(e),e=d;var r=this,z=a.type(g),u=this._rgba=[];e!==d&&(g=[g,e,f,l],z="array");if("string"===z)return this.parse(c(g)||A._default);if("array"===z)return v(q.rgba.props,function(a,d){u[d.idx]=b(g[d.idx],d)}),this;if("object"===z)return g instanceof
m?v(q,function(a,b){g[b.cache]&&(r[b.cache]=g[b.cache].slice())}):v(q,function(d,c){var e=c.cache;v(c.props,function(a,d){if(!r[e]&&c.to){if("alpha"===a||null==g[a])return;r[e]=c.to(r._rgba)}r[e][d.idx]=b(g[a],d,!0)});r[e]&&0>a.inArray(null,r[e].slice(0,3))&&(r[e][3]=1,c.from&&(r._rgba=c.from(r[e])))}),this},is:function(a){var b=m(a),d=!0,c=this;v(q,function(a,g){var e=b[g.cache];if(e){var f=c[g.cache]||g.to&&g.to(c._rgba)||[];v(g.props,function(a,b){if(null!=e[b.idx])return d=e[b.idx]===f[b.idx]})}return d});
return d},_space:function(){var a=[],b=this;v(q,function(d,c){b[c.cache]&&a.push(d)});return a.pop()},transition:function(a,d){var c=m(a);a=c._space();var g=q[a],e=0===this.alpha()?m("transparent"):this,f=e[g.cache]||g.to(e._rgba),l=f.slice();c=c[g.cache];v(g.props,function(a,g){a=g.idx;var e=f[a],r=c[a],m=z[g.type]||{};null!==r&&(null===e?l[a]=r:(m.mod&&(r-e>m.mod/2?e+=m.mod:e-r>m.mod/2&&(e-=m.mod)),l[a]=b((r-e)*d+e,g)))});return this[a](l)},blend:function(b){if(1===this._rgba[3])return this;var d=
this._rgba.slice(),c=d.pop(),g=m(b)._rgba;return m(a.map(d,function(a,b){return(1-c)*g[b]+c*a}))},toRgbaString:function(){var b="rgba(",d=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===d[3]&&(d.pop(),b="rgb(");return b+d.join()+")"},toHslaString:function(){var b="hsla(",d=a.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===d[3]&&(d.pop(),b="hsl(");return b+d.join()+")"},toHexString:function(b){var d=this._rgba.slice(),c=d.pop();b&&d.push(~~(255*
c));return"#"+a.map(d,function(a){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});m.fn.parse.prototype=m.fn;q.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,d=a[1]/255,c=a[2]/255;a=a[3];var g=Math.max(b,d,c),e=Math.min(b,d,c),f=g-e,l=g+e,r=.5*l;return[Math.round(e===g?0:b===g?60*(d-c)/f+360:d===g?60*(c-b)/f+120:60*(b-d)/f+240)%360,0===f?0:.5>=r?f/l:
f/(2-l),r,null==a?1:a]};q.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,d=a[1],c=a[2];a=a[3];d=.5>=c?c*(1+d):c+d-c*d;c=2*c-d;return[Math.round(255*e(c,d,b+1/3)),Math.round(255*e(c,d,b)),Math.round(255*e(c,d,b-1/3)),a]};v(q,function(c,g){var e=g.props,l=g.cache,r=g.to,q=g.from;m.fn[c]=function(c){r&&!this[l]&&(this[l]=r(this._rgba));if(c===d)return this[l].slice();var g=a.type(c),f="array"===g||"object"===g?c:arguments,z=this[l].slice();v(e,
function(a,d){a=f["object"===g?a:d.idx];null==a&&(a=z[d.idx]);z[d.idx]=b(a,d)});if(q){var u=m(q(z));u[l]=z;return u}return m(z)};v(e,function(b,d){m.fn[b]||(m.fn[b]=function(g){var e=a.type(g),l="alpha"===b?this._hsla?"hsla":"rgba":c,r=this[l](),m=r[d.idx];if("undefined"===e)return m;"function"===e&&(g=g.call(this,m),e=a.type(g));if(null==g&&d.empty)return this;"string"===e&&(e=f.exec(g))&&(g=m+parseFloat(e[2])*("+"===e[1]?1:-1));r[d.idx]=g;return this[l](r)})})});m.hook=function(b){b=b.split(" ");
v(b,function(b,d){a.cssHooks[d]={set:function(b,g){var e,f="";if("transparent"!==g&&("string"!==a.type(g)||(e=c(g)))){g=m(e||g);if(!u.rgba&&1!==g._rgba[3]){for(e="backgroundColor"===d?b.parentNode:b;(""===f||"transparent"===f)&&e&&e.style;)try{f=a.css(e,"backgroundColor"),e=e.parentNode}catch(Ha){}g=g.blend(f&&"transparent"!==f?f:"_default")}g=g.toRgbaString()}try{b.style[d]=g}catch(Ha){}}};a.fx.step[d]=function(b){b.colorInit||(b.start=m(b.elem,d),b.end=m(b.end),b.colorInit=!0);a.cssHooks[d].set(b.elem,
b.start.transition(b.end,b.pos))}})};m.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");a.cssHooks.borderColor={expand:function(a){var b={};v(["Top","Right","Bottom","Left"],function(d,c){b["border"+c+"Color"]=a});return b}};var A=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",
olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(a);(function(){function b(b){var d=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,c={};if(d&&d.length&&d[0]&&d[d[0]])for(b=d.length;b--;){var g=d[b];"string"===typeof d[g]&&(c[a.camelCase(g)]=d[g])}else for(g in d)"string"===typeof d[g]&&(c[g]=d[g]);return c}var d=["add","remove","toggle"],
c={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,d){a.fx.step[d]=function(b){if("none"!==b.end&&!b.setAttr||1===b.pos&&!b.setAttr)a.style(b.elem,d,b.end),b.setAttr=!0}});a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))});a.effects.animateClass=function(g,e,f,l){var r=a.speed(e,f,l);return this.queue(function(){var e=
a(this),f=e.attr("class")||"",l=r.children?e.find("*").addBack():e;l=l.map(function(){return{el:a(this),start:b(this)}});var m=function(){a.each(d,function(a,b){if(g[b])e[b+"Class"](g[b])})};m();l=l.map(function(){this.end=b(this.el[0]);var d=this.start,g=this.end,e={},f;for(f in g){var l=g[f];d[f]===l||c[f]||!a.fx.step[f]&&isNaN(parseFloat(l))||(e[f]=l)}this.diff=e;return this});e.attr("class",f);l=l.map(function(){var b=this,d=a.Deferred(),c=a.extend({},r,{queue:!1,complete:function(){d.resolve(b)}});
this.el.animate(this.diff,c);return d.promise()});a.when.apply(a,l.get()).done(function(){m();a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})});r.complete.call(e[0])})})};a.fn.extend({addClass:function(b){return function(d,c,g,e){return c?a.effects.animateClass.call(this,{add:d},c,g,e):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(d,c,g,e){return 1<arguments.length?a.effects.animateClass.call(this,{remove:d},c,g,e):b.apply(this,
arguments)}}(a.fn.removeClass),toggleClass:function(b){return function(d,c,g,e,f){return"boolean"===typeof c||void 0===c?g?a.effects.animateClass.call(this,c?{add:d}:{remove:d},g,e,f):b.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},c,g,e)}}(a.fn.toggleClass),switchClass:function(b,d,c,g,e){return a.effects.animateClass.call(this,{add:d,remove:b},c,g,e)}})})();(function(){function b(b,d,c,g){a.isPlainObject(b)&&(d=b,b=b.effect);b={effect:b};null==d&&(d={});a.isFunction(d)&&(g=d,
c=null,d={});if("number"===typeof d||a.fx.speeds[d])g=c,c=d,d={};a.isFunction(c)&&(g=c,c=null);d&&a.extend(b,d);c=c||d.duration;b.duration=a.fx.off?0:"number"===typeof c?c:c in a.fx.speeds?a.fx.speeds[c]:a.fx.speeds._default;b.complete=g||d.complete;return b}function d(b){return!b||"number"===typeof b||a.fx.speeds[b]||"string"===typeof b&&!a.effects.effect[b]||a.isFunction(b)||"object"===typeof b&&!b.effect?!0:!1}function c(a,b){var d=b.outerWidth();b=b.outerHeight();a=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(a)||
["",0,d,b,0];return{top:parseFloat(a[1])||0,right:"auto"===a[2]?d:parseFloat(a[2]),bottom:"auto"===a[3]?b:parseFloat(a[3]),left:parseFloat(a[4])||0}}a.expr&&a.expr.filters&&a.expr.filters.animated&&(a.expr.filters.animated=function(b){return function(d){return!!a(d).data("ui-effects-animated")||b(d)}}(a.expr.filters.animated));!1!==a.uiBackCompat&&a.extend(a.effects,{save:function(a,b){for(var d=0,c=b.length;d<c;d++)null!==b[d]&&a.data("ui-effects-"+b[d],a[0].style[b[d]])},restore:function(a,b){for(var d,
c=0,g=b.length;c<g;c++)null!==b[c]&&(d=a.data("ui-effects-"+b[c]),a.css(b[c],d))},setMode:function(a,b){"toggle"===b&&(b=a.is(":hidden")?"show":"hide");return b},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var d={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},c=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),g={width:b.width(),height:b.height()},e=document.activeElement;
try{e.id}catch(M){e=document.body}b.wrap(c);(b[0]===e||a.contains(b[0],e))&&a(e).trigger("focus");c=b.parent();"static"===b.css("position")?(c.css({position:"relative"}),b.css({position:"relative"})):(a.extend(d,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,c){d[c]=b.css(c);isNaN(parseInt(d[c],10))&&(d[c]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"}));b.css(g);return c.css(d).show()},removeWrapper:function(b){var d=
document.activeElement;b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===d||a.contains(b[0],d))&&a(d).trigger("focus"));return b}});a.extend(a.effects,{version:"1.12.1",define:function(b,d,c){c||(c=d,d="effect");a.effects.effect[b]=c;a.effects.effect[b].mode=d;return c},scaledDimensions:function(a,b,d){if(0===b)return{height:0,width:0,outerHeight:0,outerWidth:0};var c="horizontal"!==d?(b||100)/100:1;b="vertical"!==d?(b||100)/100:1;return{height:a.height()*b,width:a.width()*
c,outerHeight:a.outerHeight()*b,outerWidth:a.outerWidth()*c}},clipToBox:function(a){return{width:a.clip.right-a.clip.left,height:a.clip.bottom-a.clip.top,left:a.clip.left,top:a.clip.top}},unshift:function(a,b,d){var c=a.queue();1<b&&c.splice.apply(c,[1,0].concat(c.splice(b,d)));a.dequeue()},saveStyle:function(a){a.data("ui-effects-style",a[0].style.cssText)},restoreStyle:function(a){a[0].style.cssText=a.data("ui-effects-style")||"";a.removeData("ui-effects-style")},mode:function(a,b){a=a.is(":hidden");
"toggle"===b&&(b=a?"show":"hide");if(a?"hide"===b:"show"===b)b="none";return b},getBaseline:function(a,b){switch(a[0]){case "top":var d=0;break;case "middle":d=.5;break;case "bottom":d=1;break;default:d=a[0]/b.height}switch(a[1]){case "left":a=0;break;case "center":a=.5;break;case "right":a=1;break;default:a=a[1]/b.width}return{x:a,y:d}},createPlaceholder:function(b){var d=b.css("position"),c=b.position();b.css({marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),
marginRight:b.css("marginRight")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight());if(/^(static|relative)/.test(d)){d="absolute";var g=a("<"+b[0].nodeName+">").insertAfter(b).css({display:/^(inline|ruby)/.test(b.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:b.css("marginTop"),marginBottom:b.css("marginBottom"),marginLeft:b.css("marginLeft"),marginRight:b.css("marginRight"),"float":b.css("float")}).outerWidth(b.outerWidth()).outerHeight(b.outerHeight()).addClass("ui-effects-placeholder");
b.data("ui-effects-placeholder",g)}b.css({position:d,left:c.left,top:c.top});return g},removePlaceholder:function(a){var b=a.data("ui-effects-placeholder");b&&(b.remove(),a.removeData("ui-effects-placeholder"))},cleanUp:function(b){a.effects.restoreStyle(b);a.effects.removePlaceholder(b)},setTransition:function(b,d,c,g){g=g||{};a.each(d,function(a,d){a=b.cssUnit(d);0<a[0]&&(g[d]=a[0]*c+a[1])});return g}});a.fn.extend({effect:function(){function d(b){function d(){l.removeData("ui-effects-animated");
a.effects.cleanUp(l);"hide"===c.mode&&l.hide();f()}function f(){a.isFunction(m)&&m.call(l[0]);a.isFunction(b)&&b()}var l=a(this);c.mode=z.shift();!1===a.uiBackCompat||e?"none"===c.mode?(l[q](),f()):g.call(l[0],c,d):(l.is(":hidden")?"hide"===q:"show"===q)?(l[q](),f()):g.call(l[0],c,f)}var c=b.apply(this,arguments),g=a.effects.effect[c.effect],e=g.mode,f=c.queue,l=f||"fx",m=c.complete,q=c.mode,z=[],u=function(b){var d=a(this),c=a.effects.mode(d,q)||e;d.data("ui-effects-animated",!0);z.push(c);e&&("show"===
c||c===e&&"hide"===c)&&d.show();e&&"none"===c||a.effects.saveStyle(d);a.isFunction(b)&&b()};return a.fx.off||!g?q?this[q](c.duration,m):this.each(function(){m&&m.call(this)}):!1===f?this.each(u).each(d):this.queue(l,u).queue(l,d)},show:function(a){return function(c){if(d(c))return a.apply(this,arguments);var g=b.apply(this,arguments);g.mode="show";return this.effect.call(this,g)}}(a.fn.show),hide:function(a){return function(c){if(d(c))return a.apply(this,arguments);var g=b.apply(this,arguments);g.mode=
"hide";return this.effect.call(this,g)}}(a.fn.hide),toggle:function(a){return function(c){if(d(c)||"boolean"===typeof c)return a.apply(this,arguments);var g=b.apply(this,arguments);g.mode="toggle";return this.effect.call(this,g)}}(a.fn.toggle),cssUnit:function(b){var d=this.css(b),c=[];a.each(["em","px","%","pt"],function(a,b){0<d.indexOf(b)&&(c=[parseFloat(d),b])});return c},cssClip:function(a){return a?this.css("clip","rect("+a.top+"px "+a.right+"px "+a.bottom+"px "+a.left+"px)"):c(this.css("clip"),
this)},transfer:function(b,d){var c=a(this),g=a(b.to),e="fixed"===g.css("position"),f=a("body"),l=e?f.scrollTop():0;f=e?f.scrollLeft():0;var m=g.offset();g={top:m.top-l,left:m.left-f,height:g.innerHeight(),width:g.innerWidth()};m=c.offset();var r=a("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(b.className).css({top:m.top-l,left:m.left-f,height:c.innerHeight(),width:c.innerWidth(),position:e?"fixed":"absolute"}).animate(g,b.duration,b.easing,function(){r.remove();a.isFunction(d)&&
d()})}});a.fx.step.clip=function(b){b.clipInit||(b.start=a(b.elem).cssClip(),"string"===typeof b.end&&(b.end=c(b.end,b.elem)),b.clipInit=!0);a(b.elem).cssClip({top:b.pos*(b.end.top-b.start.top)+b.start.top,right:b.pos*(b.end.right-b.start.right)+b.start.right,bottom:b.pos*(b.end.bottom-b.start.bottom)+b.start.bottom,left:b.pos*(b.end.left-b.start.left)+b.start.left})}})();(function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}});a.extend(b,
{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,d=4;a<((b=Math.pow(2,--d))-1)/11;);return 1/Math.pow(4,3-d)-7.5625*Math.pow((3*b-2)/22-a,2)}});a.each(b,function(b,c){a.easing["easeIn"+b]=c;a.easing["easeOut"+b]=function(a){return 1-c(1-a)};a.easing["easeInOut"+b]=function(a){return.5>a?c(2*
a)/2:1-c(-2*a+2)/2}})})();a.effects.define("blind","hide",function(b,d){var c={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},e=a(this),f=b.direction||"up",l=e.cssClip(),m={clip:a.extend({},l)},q=a.effects.createPlaceholder(e);m.clip[c[f][0]]=m.clip[c[f][1]];"show"===b.mode&&(e.cssClip(m.clip),q&&q.css(a.effects.clipToBox(m)),m.clip=l);q&&q.animate(a.effects.clipToBox(m),b.duration,b.easing);e.animate(m,
{queue:!1,duration:b.duration,easing:b.easing,complete:d})});a.effects.define("bounce",function(b,d){var c=a(this),e=b.mode,f="hide"===e;var l="show"===e;var m=b.direction||"up";e=b.distance;var q=b.times||5,z=2*q+(l||f?1:0),u=b.duration/z;b=b.easing;var B="up"===m||"down"===m?"top":"left";m="up"===m||"left"===m;var v=0,A=c.queue().length;a.effects.createPlaceholder(c);var C=c.css(B);e||(e=c["top"===B?"outerHeight":"outerWidth"]()/3);l&&(l={opacity:1},l[B]=C,c.css("opacity",0).css(B,m?2*-e:2*e).animate(l,
u,b));f&&(e/=Math.pow(2,q-1));l={};for(l[B]=C;v<q;v++)C={},C[B]=(m?"-=":"+=")+e,c.animate(C,u,b).animate(l,u,b),e=f?2*e:e/2;f&&(C={opacity:0},C[B]=(m?"-=":"+=")+e,c.animate(C,u,b));c.queue(d);a.effects.unshift(c,A,z+1)});a.effects.define("clip","hide",function(b,d){var c={},e=a(this);var f=b.direction||"vertical";var l="both"===f,m=l||"horizontal"===f;l=l||"vertical"===f;f=e.cssClip();c.clip={top:l?(f.bottom-f.top)/2:f.top,right:m?(f.right-f.left)/2:f.right,bottom:l?(f.bottom-f.top)/2:f.bottom,left:m?
(f.right-f.left)/2:f.left};a.effects.createPlaceholder(e);"show"===b.mode&&(e.cssClip(c.clip),c.clip=f);e.animate(c,{queue:!1,duration:b.duration,easing:b.easing,complete:d})});a.effects.define("drop","hide",function(b,d){var c=a(this),e="show"===b.mode;var f=b.direction||"left";var l="up"===f||"down"===f?"top":"left",m="up"===f||"left"===f?"-=":"+=",q="+="===m?"-=":"+=",z={opacity:0};a.effects.createPlaceholder(c);f=b.distance||c["top"===l?"outerHeight":"outerWidth"](!0)/2;z[l]=m+f;e&&(c.css(z),
z[l]=q+f,z.opacity=1);c.animate(z,{queue:!1,duration:b.duration,easing:b.easing,complete:d})});a.effects.define("explode","hide",function(b,d){function c(){A.push(this);A.length===l*m&&(q.css({visibility:"visible"}),a(A).remove(),d())}var e,f,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,q=a(this),z="show"===b.mode,u=q.show().css("visibility","hidden").offset(),B=Math.ceil(q.outerWidth()/m),v=Math.ceil(q.outerHeight()/l),A=[];for(e=0;e<l;e++){var C=u.top+e*v;var J=e-(l-1)/2;for(f=0;f<m;f++){var S=
u.left+f*B;var ba=f-(m-1)/2;q.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-f*B,top:-e*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:B,height:v,left:S+(z?ba*B:0),top:C+(z?J*v:0),opacity:z?0:1}).animate({left:S+(z?0:ba*B),top:C+(z?0:J*v),opacity:z?1:0},b.duration||500,b.easing,c)}}});a.effects.define("fade","toggle",function(b,d){var c="show"===b.mode;a(this).css("opacity",c?0:1).animate({opacity:c?1:
0},{queue:!1,duration:b.duration,easing:b.easing,complete:d})});a.effects.define("fold","hide",function(b,d){var c=a(this),e=b.mode,f="show"===e;e="hide"===e;var l=b.size||15,m=/([0-9]+)%/.exec(l),q=b.horizFirst?["right","bottom"]:["bottom","right"],z=b.duration/2,u=a.effects.createPlaceholder(c),B=c.cssClip(),v={clip:a.extend({},B)},A={clip:a.extend({},B)},C=[B[q[0]],B[q[1]]],J=c.queue().length;m&&(l=parseInt(m[1],10)/100*C[e?0:1]);v.clip[q[0]]=l;A.clip[q[0]]=l;A.clip[q[1]]=0;f&&(c.cssClip(A.clip),
u&&u.css(a.effects.clipToBox(A)),A.clip=B);c.queue(function(d){u&&u.animate(a.effects.clipToBox(v),z,b.easing).animate(a.effects.clipToBox(A),z,b.easing);d()}).animate(v,z,b.easing).animate(A,z,b.easing).queue(d);a.effects.unshift(c,J,4)});a.effects.define("highlight","show",function(b,d){var c=a(this),e={backgroundColor:c.css("backgroundColor")};"hide"===b.mode&&(e.opacity=0);a.effects.saveStyle(c);c.css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(e,{queue:!1,duration:b.duration,
easing:b.easing,complete:d})});a.effects.define("size",function(b,d){var c=a(this),e=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"];var m=b.mode;var q="effect"!==m,z=b.scale||"both";var u=b.origin||["middle","center"];var B=c.css("position"),v=c.position(),A=a.effects.scaledDimensions(c),C=b.from||A,J=b.to||a.effects.scaledDimensions(c,0);a.effects.createPlaceholder(c);"show"===m&&(m=C,C=J,J=
m);var S=C.height/A.height;var ba=C.width/A.width;var T=J.height/A.height;var Y=J.width/A.width;if("box"===z||"both"===z)S!==T&&(C=a.effects.setTransition(c,f,S,C),J=a.effects.setTransition(c,f,T,J)),ba!==Y&&(C=a.effects.setTransition(c,l,ba,C),J=a.effects.setTransition(c,l,Y,J));"content"!==z&&"both"!==z||S===T||(C=a.effects.setTransition(c,e,S,C),J=a.effects.setTransition(c,e,T,J));u&&(u=a.effects.getBaseline(u,A),C.top=(A.outerHeight-C.outerHeight)*u.y+v.top,C.left=(A.outerWidth-C.outerWidth)*
u.x+v.left,J.top=(A.outerHeight-J.outerHeight)*u.y+v.top,J.left=(A.outerWidth-J.outerWidth)*u.x+v.left);c.css(C);if("content"===z||"both"===z)f=f.concat(["marginTop","marginBottom"]).concat(e),l=l.concat(["marginLeft","marginRight"]),c.find("*[width]").each(function(){var c=a(this),d=a.effects.scaledDimensions(c),g={height:d.height*S,width:d.width*ba,outerHeight:d.outerHeight*S,outerWidth:d.outerWidth*ba};d={height:d.height*T,width:d.width*Y,outerHeight:d.height*T,outerWidth:d.width*Y};S!==T&&(g=
a.effects.setTransition(c,f,S,g),d=a.effects.setTransition(c,f,T,d));ba!==Y&&(g=a.effects.setTransition(c,l,ba,g),d=a.effects.setTransition(c,l,Y,d));q&&a.effects.saveStyle(c);c.css(g);c.animate(d,b.duration,b.easing,function(){q&&a.effects.restoreStyle(c)})});c.animate(J,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){var b=c.offset();0===J.opacity&&c.css("opacity",C.opacity);q||(c.css("position","static"===B?"relative":B).offset(b),a.effects.saveStyle(c));d()}})});a.effects.define("scale",
function(b,c){var d=a(this),e=b.mode;e=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"effect"!==e?0:100);d=a.extend(!0,{from:a.effects.scaledDimensions(d),to:a.effects.scaledDimensions(d,e,b.direction||"both"),origin:b.origin||["middle","center"]},b);b.fade&&(d.from.opacity=1,d.to.opacity=0);a.effects.effect.size.call(this,d,c)});a.effects.define("puff","hide",function(b,c){b=a.extend(!0,{},b,{fade:!0,percent:parseInt(b.percent,10)||150});a.effects.effect.scale.call(this,b,c)});a.effects.define("pulsate",
"show",function(b,c){var d=a(this),e=b.mode,f="show"===e;e=2*(b.times||5)+(f||"hide"===e?1:0);var l=b.duration/e,m=0,q=1,z=d.queue().length;if(f||!d.is(":visible"))d.css("opacity",0).show(),m=1;for(;q<e;q++)d.animate({opacity:m},l,b.easing),m=1-m;d.animate({opacity:m},l,b.easing);d.queue(c);a.effects.unshift(d,z,e+1)});a.effects.define("shake",function(b,c){var d=1,e=a(this),f=b.direction||"left",l=b.distance||20,m=b.times||3,q=2*m+1,z=Math.round(b.duration/q),u="up"===f||"down"===f?"top":"left";
f="up"===f||"left"===f;var B={},v={},A={},C=e.queue().length;a.effects.createPlaceholder(e);B[u]=(f?"-=":"+=")+l;v[u]=(f?"+=":"-=")+2*l;A[u]=(f?"-=":"+=")+2*l;for(e.animate(B,z,b.easing);d<m;d++)e.animate(v,z,b.easing).animate(A,z,b.easing);e.animate(v,z,b.easing).animate(B,z/2,b.easing).queue(c);a.effects.unshift(e,C,q+1)});a.effects.define("slide","show",function(b,c){var d=a(this),e={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},f=b.mode,l=b.direction||
"left",m="up"===l||"down"===l?"top":"left",q="up"===l||"left"===l,z=b.distance||d["top"===m?"outerHeight":"outerWidth"](!0),u={};a.effects.createPlaceholder(d);var B=d.cssClip();var v=d.position()[m];u[m]=(q?-1:1)*z+v;u.clip=d.cssClip();u.clip[e[l][1]]=u.clip[e[l][0]];"show"===f&&(d.cssClip(u.clip),d.css(m,u[m]),u.clip=B,u[m]=v);d.animate(u,{queue:!1,duration:b.duration,easing:b.easing,complete:c})});!1!==a.uiBackCompat&&a.effects.define("transfer",function(b,c){a(this).transfer(b,c)})});(function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(a){return 0==a?0:0<a?1:-1});var a={subtract:function(a,c){return{x:a.x-c.x,y:a.y-c.y}},dotProduct:function(a,c){return a.x*c.x+a.y*c.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,c){return{x:a.x*c,y:a.y*c}}},c=Math.pow(2,-65),e=function(b,c){for(var d=[],e=c.length-1,f=2*e-1,q=[],z=[],u=[],B=[],v=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],A=0;A<=e;A++)q[A]=a.subtract(c[A],b);for(A=0;A<=e-1;A++)z[A]=a.subtract(c[A+
1],c[A]),z[A]=a.scale(z[A],3);for(A=0;A<=e-1;A++)for(var C=0;C<=e;C++)u[A]||(u[A]=[]),u[A][C]=a.dotProduct(z[A],q[C]);for(A=0;A<=f;A++)B[A]||(B[A]=[]),B[A].y=0,B[A].x=parseFloat(A)/f;f=e-1;for(q=0;q<=e+f;q++)for(z=Math.min(q,e),A=Math.max(0,q-f);A<=z;A++)j=q-A,B[A+j].y+=u[j][A]*v[j][A];e=c.length-1;B=m(B,2*e-1,d,0);f=a.subtract(b,c[0]);u=a.square(f);for(A=v=0;A<B;A++)f=a.subtract(b,l(c,e,d[A],null,null)),f=a.square(f),f<u&&(u=f,v=d[A]);f=a.subtract(b,c[e]);f=a.square(f);f<u&&(u=f,v=1);return{location:v,
distance:u}},m=function(a,d,g,e){var b=[],f=[],q=[],r=[],z=0;var u=Math.sgn(a[0].y);for(var B=1;B<=d;B++){var v=Math.sgn(a[B].y);v!=u&&z++;u=v}switch(z){case 0:return 0;case 1:if(64<=e)return g[0]=(a[0].x+a[d].x)/2,1;var A;z=a[0].y-a[d].y;v=a[d].x-a[0].x;u=a[0].x*a[d].y-a[d].x*a[0].y;B=max_distance_below=0;for(A=1;A<d;A++){var C=z*a[A].x+v*a[A].y+u;C>B?B=C:C<max_distance_below&&(max_distance_below=C)}A=v;B=1/(0*A-1*z)*(u-B-0*A);A=v;v=u-max_distance_below;z=1/(0*A-1*z)*(1*v-0*A);if(Math.max(B,z)-Math.min(B,
z)<c)return q=a[d].x-a[0].x,r=a[d].y-a[0].y,g[0]=1/(0*q-1*r)*(q*(a[0].y-0)-r*(a[0].x-0)),1}l(a,d,.5,b,f);a=m(b,d,q,e+1);d=m(f,d,r,e+1);for(e=0;e<a;e++)g[e]=q[e];for(e=0;e<d;e++)g[e+a]=r[e];return a+d},l=function(a,c,g,e,f){for(var b=[[]],d=0;d<=c;d++)b[0][d]=a[d];for(a=1;a<=c;a++)for(d=0;d<=c-a;d++)b[a]||(b[a]=[]),b[a][d]||(b[a][d]={}),b[a][d].x=(1-g)*b[a-1][d].x+g*b[a-1][d+1].x,b[a][d].y=(1-g)*b[a-1][d].y+g*b[a-1][d+1].y;if(null!=e)for(d=0;d<=c;d++)e[d]=b[d][0];if(null!=f)for(d=0;d<=c;d++)f[d]=b[c-
d][d];return b[c][0]},f={},q=function(a){var b=f[a];if(!b){b=[];var c=function(a){return function(b){return a}},e=function(){return function(a){return a}},l=function(){return function(a){return 1-a}},m=function(a){return function(b){for(var c=1,d=0;d<a.length;d++)c*=a[d](b);return c}};b.push(new function(){return function(b){return Math.pow(b,a)}});for(var q=1;q<a;q++){for(var z=[new c(a)],u=0;u<a-q;u++)z.push(new e);for(u=0;u<q;u++)z.push(new l);b.push(new m(z))}b.push(new function(){return function(b){return Math.pow(1-
b,a)}});f[a]=b}return b},z=function(a,c){for(var b=q(a.length-1),d=0,e=0,f=0;f<a.length;f++)d+=a[f].x*b[f](c),e+=a[f].y*b[f](c);return{x:d,y:e}},B=function(a,c){return Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2))},u=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y},C=function(a,c,g){if(u(a))return{point:a[0],location:c};for(var b=z(a,c),d=0,e=0<g?1:-1,f=null;d<Math.abs(g);)c+=.005*e,f=z(a,c),d+=B(f,b),b=f;return{point:f,location:c}},A=function(a,c){var b=z(a,c);c=z(a.slice(0,a.length-1),c);
a=c.y-b.y;b=c.x-b.x;return 0==a?Infinity:Math.atan(a/b)},v=this.jsBezier={distanceFromCurve:e,gradientAtPoint:A,gradientAtPointAlongCurveFrom:function(a,c,g){c=C(a,c,g);1<c.location&&(c.location=1);0>c.location&&(c.location=0);return A(a,c.location)},nearestPointOnCurve:function(a,c){a=e(a,c);return{point:l(c,c.length-1,a.location,null,null),location:a.location}},pointOnCurve:z,pointAlongCurveFrom:function(a,c,g){return C(a,c,g).point},perpendicularToCurveAt:function(a,c,g,e){c=C(a,c,null==e?0:e);
a=A(a,c.location);e=Math.atan(-1/a);a=g/2*Math.sin(e);g=g/2*Math.cos(e);return[{x:c.point.x+g,y:c.point.y+a},{x:c.point.x-g,y:c.point.y-a}]},locationAlongCurveFrom:function(a,c,g){return C(a,c,g).location},getLength:function(a){if(u(a))return 0;for(var b=z(a,0),c=0,e=0,f;1>e;)e+=.005,f=z(a,e),c+=B(f,b),b=f;return c},version:"0.9.0"};"undefined"!==typeof exports&&(exports.jsBezier=v)}).call("undefined"!==typeof window?window:this);
(function(){var a=this.Biltong={version:"0.4.0"};"undefined"!==typeof exports&&(exports.Biltong=a);var c=function(a,c,e){a="[object Array]"===Object.prototype.toString.call(a)?a:[a.x,a.y];c="[object Array]"===Object.prototype.toString.call(c)?c:[c.x,c.y];return e(a,c)},e=a.gradient=function(a,e){return c(a,e,function(a,c){return c[0]==a[0]?c[1]>a[1]?Infinity:-Infinity:c[1]==a[1]?c[0]>a[0]?0:-0:(c[1]-a[1])/(c[0]-a[0])})};a.normal=function(a,c){return-1/e(a,c)};a.lineLength=function(a,e){return c(a,
e,function(a,c){return Math.sqrt(Math.pow(c[1]-a[1],2)+Math.pow(c[0]-a[0],2))})};var m=a.quadrant=function(a,e){return c(a,e,function(a,c){return c[0]>a[0]?c[1]>a[1]?2:1:c[0]==a[0]?c[1]>a[1]?2:1:c[1]>a[1]?3:4})};a.theta=function(a,f){return c(a,f,function(a,c){var f=e(a,c);f=Math.atan(f);a=m(a,c);if(4==a||3==a)f+=Math.PI;0>f&&(f+=2*Math.PI);return f})};a.intersects=function(a,c){var e=a.x,f=a.x+a.w,l=a.y;a=a.y+a.h;var m=c.x,q=c.x+c.w,b=c.y;c=c.y+c.h;return e<=m&&m<=f&&l<=b&&b<=a||e<=q&&q<=f&&l<=b&&
b<=a||e<=m&&m<=f&&l<=c&&c<=a||e<=q&&m<=f&&l<=c&&c<=a||m<=e&&e<=q&&b<=l&&l<=c||m<=f&&f<=q&&b<=l&&l<=c||m<=e&&e<=q&&b<=a&&a<=c||m<=f&&e<=q&&b<=a&&a<=c};a.encloses=function(a,c,e){var f=a.x,l=a.x+a.w,m=a.y;a=a.y+a.h;var q=c.x,b=c.x+c.w,d=c.y;c=c.y+c.h;return(e?f<=q&&l>=b:f<q&&l>b)&&(e?m<=d&&a>=c:m<d&&a>c)};var l=[null,[1,-1],[1,1],[-1,1],[-1,-1]],f=[null,[-1,-1],[-1,1],[1,1],[1,-1]];a.pointOnLine=function(a,c,B){var q=e(a,c);c=m(a,c);c=0<B?l[c]:f[c];q=Math.atan(q);return{x:a.x+Math.abs(B*Math.cos(q))*
c[0],y:a.y+Math.abs(B*Math.sin(q))*c[1]}};a.perpendicularLineTo=function(a,c,f){a=e(a,c);var l=Math.atan(-1/a);a=f/2*Math.sin(l);f=f/2*Math.cos(l);return[{x:c.x+f,y:c.y+a},{x:c.x-f,y:c.y-a}]}}).call("undefined"!==typeof window?window:this);
(function(){var a=-1<navigator.userAgent.toLowerCase().indexOf("android"),c=function(a,b,c){c=c||a.parentNode;b=c.querySelectorAll(b);for(c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},e=function(a){return"string"==typeof a||a.constructor===String?document.getElementById(a):a},m=function(a,b,c,d){if(d){if("undefined"!==typeof a.path&&a.path.indexOf)return{path:a.path,end:a.path.indexOf(c)};var g={path:[],end:-1},e=function(a){g.path.push(a);a===c?g.end=g.path.length-1:null!=a.parentNode&&e(a.parentNode)};
e(b);return g}return{path:[b],end:1}},l=function(a,b){for(var c=0,d=a.length;c<d&&a[c]!=b;c++);c<a.length&&a.splice(c,1)},f=1,q=function(a,b,c){var d=f++;a.__ta=a.__ta||{};a.__ta[b]=a.__ta[b]||{};a.__ta[b][d]=c;return c.__tauid=d},z=function(a,b,d,g){if(null==a)return d;var e=a.split(","),f=function(g){f.__tauid=d.__tauid;var l=m(g,g.srcElement||g.target,b,null!=a);if(-1!=l.end)for(var q=0;q<l.end;q++){var r=l.path[q];for(var z=0;z<e.length;z++)c(r,e[z],b)&&d.apply(r,arguments)}};B(d,g,f);return f},
B=function(a,b,c){a.__taExtra=a.__taExtra||[];a.__taExtra.push([b,c])},u=function(a,b,c,d){if(g&&D[b]){var e=z(d,a,c,D[b]);G(a,D[b],e,c)}"focus"===b&&null==a.getAttribute("tabindex")&&a.setAttribute("tabindex","1");G(a,b,z(d,a,c,b),c)},C=function(a,b,c,d){null==a.__taSmartClicks&&(u(a,"mousedown",function(b){a.__tad=M(b)},d),u(a,"mouseup",function(b){a.__tau=M(b)},d),u(a,"click",function(b){if(a.__tad&&a.__tau&&a.__tad[0]===a.__tau[0]&&a.__tad[1]===a.__tau[1])for(var c=0;c<a.__taSmartClicks.length;c++)a.__taSmartClicks[c].apply(b.srcElement||
b.target,[b])},d),a.__taSmartClicks=[]);a.__taSmartClicks.push(c);c.__taUnstore=function(){l(a.__taSmartClicks,c)}},A={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},v=function(a,b){return function(d,g,e,f){if("contextmenu"==g&&r)u(d,g,e,f);else{if(null==d.__taTapHandler){var q=d.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},z=function(){q.down=!1},B=function(){q.taps=0};u(d,"mousedown",function(g){var e=g.srcElement||g.target;g=
m(g,e,d,null!=f);for(var l=!1,r=0;r<g.end&&!l;r++){e=g.path[r];for(var u=0;u<q.downSelectors.length;u++)if(null==q.downSelectors[u]||c(e,q.downSelectors[u],d)){q.down=!0;setTimeout(z,a);setTimeout(B,b);l=!0;break}}});u(d,"mouseup",function(a){if(q.down){var b=a.srcElement||a.target;q.taps++;var g=Z(a).length,e;for(e in A)if(A.hasOwnProperty(e)){var f=A[e];if(f.touches===g&&(1===f.taps||f.taps===q.taps))for(var l=0;l<q[e].length;l++){var r=m(a,b,d,null!=q[e][l][1]);for(var z=0;z<r.end;z++)if(f=r.path[z],
null==q[e][l][1]||c(f,q[e][l][1],d)){q[e][l][0].apply(f,[a]);break}}}}})}d.__taTapHandler.downSelectors.push(f);d.__taTapHandler[g].push([e,f]);e.__taUnstore=function(){l(d.__taTapHandler[g],e)}}}},b=function(a,b,c,d){for(var g in c.__tamee[a])c.__tamee[a].hasOwnProperty(g)&&c.__tamee[a][g].apply(d,[b])},d=function(){var a=[];return function(d,g,e,f){if(!d.__tamee){d.__tamee={over:!1,mouseenter:[],mouseexit:[]};var l=function(g){var e=g.srcElement||g.target;if(null==f&&e==d&&!d.__tamee.over||c(e,
f,d)&&(null==e.__tamee||!e.__tamee.over))b("mouseenter",g,d,e),e.__tamee=e.__tamee||{},e.__tamee.over=!0,a.push(e)},m=function(g){for(var e=g.srcElement||g.target,f=0;f<a.length;f++)e!=a[f]||c(g.relatedTarget||g.toElement,"*",e)||(e.__tamee.over=!1,a.splice(f,1),b("mouseexit",g,d,e))};G(d,"mouseover",z(f,d,l,"mouseover"),l);G(d,"mouseout",z(f,d,m,"mouseout"),m)}e.__taUnstore=function(){delete d.__tamee[g][e.__tauid]};q(d,g,e);d.__tamee[g][e.__tauid]=e}},g="ontouchstart"in document.documentElement,
r="onmousedown"in document.documentElement,D={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},H=function(){var a=-1;"Microsoft Internet Explorer"==navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}(),W=-1<H&&9>H,P=function(a,b){if(null==a)return[0,0];a=Z(a);a=a.item?a.item(0):a[0];return[a[b+"X"],a[b+"Y"]]},M=function(a){return null==a?[0,0]:W?[a.clientX+document.documentElement.scrollLeft,a.clientY+document.documentElement.scrollTop]:
P(a,"page")},Z=function(a){return a.touches&&0<a.touches.length?a.touches:a.changedTouches&&0<a.changedTouches.length?a.changedTouches:a.targetTouches&&0<a.targetTouches.length?a.targetTouches:[a]},G=function(a,b,c,d){q(a,b,c);d.__tauid=c.__tauid;if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent){var g=b+c.__tauid;a["e"+g]=c;a[g]=function(){a["e"+g]&&a["e"+g](window.event)};a.attachEvent("on"+b,a[g])}},R=function(a,b,c){null!=c&&I(a,function(){var d=e(this);d.__ta&&d.__ta[b]&&
delete d.__ta[b][c.__tauid];if(c.__taExtra){for(var f=0;f<c.__taExtra.length;f++)R(d,c.__taExtra[f][0],c.__taExtra[f][1]);c.__taExtra.length=0}c.__taUnstore&&c.__taUnstore();null!=c.__tauid&&(d.removeEventListener?(d.removeEventListener(b,c,!1),g&&D[b]&&d.removeEventListener(D[b],c,!1)):this.detachEvent&&(f=b+c.__tauid,d[f]&&d.detachEvent("on"+b,d[f]),d[f]=null,d["e"+f]=null));c.__taTouchProxy&&R(a,c.__taTouchProxy[1],c.__taTouchProxy[0])})},I=function(a,b){if(null!=a){a="undefined"!==typeof Window&&
"unknown"!==typeof a.top&&a==a.top?[a]:"string"!==typeof a&&null==a.tagName&&null!=a.length?a:"string"===typeof a?document.querySelectorAll(a):[a];for(var c=0;c<a.length;c++)b.apply(a[c])}};this.Mottle=function(b){b=b||{};var c=b.clickThreshold||250,f=b.dblClickThreshold||450,l=new d,m=new v(c,f),q=b.smartClicks,z=function(a,b,c,d){null!=c&&I(a,function(){var a=e(this);q&&"click"===b?C(a,b,c,d):"tap"===b||"dbltap"===b||"contextmenu"===b?m(a,b,c,d):"mouseenter"===b||"mouseexit"==b?l(a,b,c,d):u(a,b,
c,d)})};this.remove=function(a){I(a,function(){var a=e(this);if(a.__ta)for(var b in a.__ta)if(a.__ta.hasOwnProperty(b))for(var c in a.__ta[b])a.__ta[b].hasOwnProperty(c)&&R(a,b,a.__ta[b][c]);a.parentNode&&a.parentNode.removeChild(a)});return this};this.on=function(a,b,c,d){z(arguments[0],arguments[1],arguments[arguments.length-1],4==arguments.length?arguments[2]:null);return this};this.off=function(a,b,c){R(a,b,c);return this};this.trigger=function(b,c,d,f){var l=r&&("undefined"===typeof MouseEvent||
null==d||d.constructor===MouseEvent),m=g&&!r&&D[c]?D[c]:c,q=!(g&&!r&&D[c]),z=M(d),u=P(d,"screen"),B=P(d,"client");I(b,function(){var b=e(this);d=d||{screenX:u[0],screenY:u[1],clientX:B[0],clientY:B[1]};var r={TouchEvent:function(a){var c=document.createTouch(window,b,0,z[0],z[1],u[0],u[1],B[0],B[1],0,0,0,0),d=document.createTouchList(c),g=document.createTouchList(c);c=document.createTouchList(c);a.initTouchEvent(m,!0,!0,window,null,u[0],u[1],B[0],B[1],!1,!1,!1,!1,d,g,c,1,0)},MouseEvents:function(c){c.initMouseEvent(m,
!0,!0,window,0,u[0],u[1],B[0],B[1],!1,!1,!1,!1,1,b);if(a){var d=document.createTouch(window,b,0,z[0],z[1],u[0],u[1],B[0],B[1],0,0,0,0);c.touches=c.targetTouches=c.changedTouches=document.createTouchList(d)}}};if(document.createEvent){var v=q||l||!g||!D[c]||a?"MouseEvents":"TouchEvent";var A=document.createEvent(v);r[v](A);f&&(A.payload=f);b.dispatchEvent(A)}else document.createEventObject&&(A=document.createEventObject(),A.eventType=A.eventName=m,A.screenX=u[0],A.screenY=u[1],A.clientX=B[0],A.clientY=
B[1],f&&(A.payload=f),b.fireEvent("on"+m,A))});return this}};this.Mottle.consume=function(a,b){a.stopPropagation?a.stopPropagation():a.returnValue=!1;!b&&a.preventDefault&&a.preventDefault()};this.Mottle.pageLocation=M;this.Mottle.setForceTouchEvents=function(a){g=a};this.Mottle.setForceMouseEvents=function(a){r=a};this.Mottle.version="0.8.0";"undefined"!==typeof exports&&(exports.Mottle=this.Mottle)}).call("undefined"===typeof window?this:window);
(function(){var a=function(a,b,c){return-1===a.indexOf(b)?(c?a.unshift(b):a.push(b),!0):!1},c=function(a,b){b=a.indexOf(b);-1!==b&&a.splice(b,1)},e=function(a){return null==a?!1:"string"===typeof a||a.constructor===String},m=function(a,b,c){c=c||a.parentNode;b=c.querySelectorAll(b);for(c=0;c<b.length;c++)if(b[c]===a)return!0;return!1},l=function(){var a=-1;"Microsoft Internet Explorer"===navigator.appName&&null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(a=parseFloat(RegExp.$1));return a}(),
f=-1<l&&9>l,q=9===l,z=function(a){if(f)return[a.clientX+document.documentElement.scrollLeft,a.clientY+document.documentElement.scrollTop];a=a.touches&&0<a.touches.length?a.touches:a.changedTouches&&0<a.changedTouches.length?a.changedTouches:a.targetTouches&&0<a.targetTouches.length?a.targetTouches:[a];a=a.item?a.item(0):a[0];return q?[a.pageX||a.clientX,a.pageY||a.clientY]:[a.pageX,a.pageY]},B={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",
active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},u="stop start drag drop over out beforeStart".split(" "),C=function(){},A=function(){return!0},v=function(a,b,c){for(var d=0;d<a.length;d++)a[d]!=c&&b(a[d])},b=function(a,b,c,d){v(a,function(a){a.setActive(b);b&&a.updatePosition();c&&a.setHover(d,b)})},d=function(a,b){if(null!=a){a=e(a)||null!=a.tagName||null==a.length?[a]:a;for(var c=
0;c<a.length;c++)b.apply(a[c],[a[c]])}},g=function(a){a.stopPropagation?(a.stopPropagation(),a.preventDefault()):a.returnValue=!1},r=function(a,b,c,g){this.params=b||{};this.el=a;this.params.addClass(this.el,this._class);this.uuid=M();var e=!0;this.setEnabled=function(a){e=a};this.isEnabled=function(){return e};this.toggleEnabled=function(){e=!e};this.setScope=function(a){this.scopes=a?a.split(/\s+/):[g]};this.addScope=function(a){var b={};d(this.scopes,function(a){b[a]=!0});d(a?a.split(/\s+/):[],
function(a){b[a]=!0});this.scopes=[];for(var c in b)this.scopes.push(c)};this.removeScope=function(a){var b={};d(this.scopes,function(a){b[a]=!0});d(a?a.split(/\s+/):[],function(a){delete b[a]});this.scopes=[];for(var c in b)this.scopes.push(c)};this.toggleScope=function(a){var b={};d(this.scopes,function(a){b[a]=!0});d(a?a.split(/\s+/):[],function(a){b[a]?delete b[a]:b[a]=!0});this.scopes=[];for(var c in b)this.scopes.push(c)};this.setScope(b.scope);return this.k=b.katavorio},D=function(){return!0},
H=function(){return!1},W=function(a,c,d,f){this._class=d.draggable;var l=r.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var q=[0,0],u=null,v=null,C=[0,0],I=!1,R=!1!==this.params.consumeStartEvent,G=this.el,J=this.params.clone,X=!1!==c.multipleDrop,W=!1,P=!0===c.ghostProxy?D:c.ghostProxy&&"function"===typeof c.ghostProxy?c.ghostProxy:H,fa=c.snapThreshold,la=function(a,b,c,d,g){var e=b*Math.floor(a[0]/b);b=e+b;var f=c*Math.floor(a[1]/c);c=f+c;return[Math.abs(a[0]-e)<=
d?e:Math.abs(b-a[0])<=d?b:a[0],Math.abs(a[1]-f)<=g?f:Math.abs(c-a[1])<=g?c:a[1]]};this.posses=[];this.posseRoles={};this.toGrid=function(a){return null==this.params.grid?a:la(a,this.params.grid[0],this.params.grid[1],this.params.grid?this.params.grid[0]/2:fa?fa:5,this.params.grid?this.params.grid[1]/2:fa?fa:5)};this.snap=function(a,b){if(null!=G){a=a||(this.params.grid?this.params.grid[0]:10);b=b||(this.params.grid?this.params.grid[1]:10);var c=this.params.getPosition(G);this.params.setPosition(G,
la(c,a,b,this.params.grid?this.params.grid[0]/2:fa,this.params.grid?this.params.grid[1]/2:fa))}};this.setUseGhostProxy=function(a){P=a?D:H};var ka,ra=function(a){return!1===c.allowNegative?[Math.max(0,a[0]),Math.max(0,a[1])]:a},Da=function(a){ka="function"===typeof a?a:a?function(a,b,c,d){return ra([Math.max(0,Math.min(c.w-d[0],a[0])),Math.max(0,Math.min(c.h-d[1],a[1]))])}.bind(this):function(a){return ra(a)}}.bind(this);Da("function"===typeof this.params.constrain?this.params.constrain:this.params.constrain||
this.params.containment);this.setConstrain=function(a){Da(a)};var ea;this.setRevert=function(a){ea=a};var U=function(a){return"function"===typeof a?(a._katavorioId=M(),a._katavorioId):a},O={},Ka=this.setFilter=function(b,c){if(b){var d=U(b);O[d]=[function(c){var d=c.srcElement||c.target,g;e(b)?g=m(d,b,a):"function"===typeof b&&(g=b(c,a));return g},!1!==c]}};this.addFilter=Ka;this.removeFilter=function(a){delete O["function"===typeof a?a._katavorioId:a]};this.clearAllFilters=function(){O={}};this.canDrag=
this.params.canDrag||A;var N,V=[],ja=[];this.downListener=function(a){if((this.rightButtonCanDrag||3!==a.which&&2!==a.button)&&this.isEnabled()&&this.canDrag()){a:{for(e in O){var b=O[e];var c=b[0](a);b[1]&&(c=!c);if(!c){var e=!1;break a}}e=!0}e&&(e=this.el,e=!m(a.srcElement||a.target,this.k.getInputFilterSelector(),e));if(e){if(J)if(G=this.el.cloneNode(!0),this.params.addClass(G,B.clonedDrag),G.setAttribute("id",null),G.style.position="absolute",null!=this.params.parent)e=this.params.getPosition(this.el),
G.style.left=e[0]+"px",G.style.top=e[1]+"px",this.params.parent.appendChild(G);else{b=this.el.getBoundingClientRect();c=document.body;var f=document.documentElement;e=Math.round(b.top+(window.pageYOffset||f.scrollTop||c.scrollTop)-(f.clientTop||c.clientTop||0));b=Math.round(b.left+(window.pageXOffset||f.scrollLeft||c.scrollLeft)-(f.clientLeft||c.clientLeft||0));G.style.left=b+"px";G.style.top=e+"px";document.body.appendChild(G)}else G=this.el;R&&g(a);q=z(a);this.params.bind(document,"mousemove",this.moveListener);
this.params.bind(document,"mouseup",this.upListener);l.markSelection(this);l.markPosses(this);this.params.addClass(document.body,d.noSelect);pa("beforeStart",{el:this.el,pos:u,e:a,drag:this})}else this.params.consumeFilteredEvents&&g(a)}}.bind(this);this.moveListener=function(a){if(q){if(!I)if(!1!==pa("start",{el:this.el,pos:u,e:a,drag:this})){if(!q)return;this.mark(!0);I=!0}else this.abort();if(q){ja.length=0;var b=z(a),c=b[0]-q[0];b=b[1]-q[1];var d=this.params.ignoreZoom?1:l.getZoom();c/=d;b/=d;
this.moveBy(c,b,a);l.updateSelection(c,b,this);l.updatePosses(c,b,this)}}}.bind(this);this.upListener=function(a){q&&(q=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,d.noSelect),this.unmark(a),l.unmarkSelection(this,a),l.unmarkPosses(this,a),this.stop(a),l.notifySelectionDragStop(this,a),l.notifyPosseDragStop(this,a),I=!1,J&&(G&&G.parentNode&&G.parentNode.removeChild(G),G=null),ja.length=
0,ea&&!0===ea(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,u),pa("revert",this.el)))}.bind(this);this.getFilters=function(){return O};this.abort=function(){null!=q&&this.upListener()};this.getDragElement=function(){return G||this.el};var E={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};c.events.start&&E.start.push(c.events.start);c.events.beforeStart&&E.beforeStart.push(c.events.beforeStart);c.events.stop&&E.stop.push(c.events.stop);c.events.drag&&
E.drag.push(c.events.drag);c.events.revert&&E.revert.push(c.events.revert);this.on=function(a,b){E[a]&&E[a].push(b)};this.off=function(a,b){if(E[a]){for(var c=[],d=0;d<E[a].length;d++)E[a][d]!==b&&c.push(E[a][d]);E[a]=c}};var pa=function(a,b){var c=null;if(E[a])for(var d=0;d<E[a].length;d++)try{var g=E[a][d](b);null!=g&&(c=g)}catch(Q){}return c};this.notifyStart=function(a){pa("start",{el:this.el,pos:this.params.getPosition(G),e:a,drag:this})};this.stop=function(a,b){if(b||I){b=[];var c=l.getSelection(),
d=this.params.getPosition(G);if(1<c.length)for(var g=0;g<c.length;g++){var e=this.params.getPosition(c[g].el);b.push([c[g].el,{left:e[0],top:e[1]},c[g]])}else b.push([G,{left:d[0],top:d[1]},this]);pa("stop",{el:G,pos:Oa||d,finalPos:d,e:a,drag:this,selection:b})}};this.mark=function(a){u=this.params.getPosition(G);v=this.params.getPosition(G,!0);C=[v[0]-u[0],v[1]-u[1]];this.size=this.params.getSize(G);V=l.getMatchingDroppables(this);b(V,!0,!1,this);this.params.addClass(G,this.params.dragClass||d.drag);
var c=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(G):this.params.getSize(G.parentNode);N={w:c[0],h:c[1]};a&&l.notifySelectionDragStart(this)};var Oa;this.unmark=function(a,g){b(V,!1,!0,this);W&&P(this.el)?(Oa=[G.offsetLeft,G.offsetTop],this.el.parentNode.removeChild(G),G=this.el):Oa=null;this.params.removeClass(G,this.params.dragClass||d.drag);V.length=0;W=!1;if(!g)for(0<ja.length&&Oa&&c.setPosition(this.el,Oa),ja.sort(Z),g=0;g<ja.length&&!0!==ja[g].drop(this,a);g++);
};this.moveBy=function(a,b,d){ja.length=0;b=this.toGrid([u[0]+a,u[1]+b]);a=ka(b,G,N,this.size);P(this.el)&&(b[0]!==a[0]||b[1]!==a[1]?(W||(a=this.el.cloneNode(!0),c.addClass(a,B.ghostProxy),this.el.parentNode.appendChild(a),G=a,W=!0),a=b):W&&(this.el.parentNode.removeChild(G),G=this.el,W=!1));b={x:a[0]+C[0],y:a[1]+C[1],w:this.size[0],h:this.size[1]};var g=null;this.params.setPosition(G,a);for(var e=0;e<V.length;e++)this.params.intersects(b,{x:V[e].pagePosition[0],y:V[e].pagePosition[1],w:V[e].size[0],
h:V[e].size[1]})&&(X||null==g||g===V[e].el)&&V[e].canDrop(this)?(g||(g=V[e].el),ja.push(V[e]),V[e].setHover(this,!0,d)):V[e].isHover()&&V[e].setHover(this,!1,d);pa("drag",{el:this.el,pos:a,e:d,drag:this})};this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener);this.params.unbind(document,"mousemove",this.moveListener);this.params.unbind(document,"mouseup",this.upListener);this.moveListener=this.upListener=this.downListener=null};this.params.bind(this.el,"mousedown",this.downListener);
this.params.handle?Ka(this.params.handle,!1):Ka(this.params.filter,this.params.filterExclude)},P=function(a,b,c,d){this._class=c.droppable;this.params=b||{};this.rank=b.rank||0;this._activeClass=this.params.activeClass||c.active;this._hoverClass=this.params.hoverClass||c.hover;r.apply(this,arguments);var g=!1;this.allowLoopback=!1!==this.params.allowLoopback;this.setActive=function(a){this.params[a?"addClass":"removeClass"](this.el,this._activeClass)};this.updatePosition=function(){this.position=
this.params.getPosition(this.el);this.pagePosition=this.params.getPosition(this.el,!0);this.size=this.params.getSize(this.el)};this.canDrop=this.params.canDrop||function(a){return!0};this.isHover=function(){return g};this.setHover=function(a,b,c){if(b||null==this.el._katavorioDragHover||this.el._katavorioDragHover===a.el._katavorio){this.params[b?"addClass":"removeClass"](this.el,this._hoverClass);this.el._katavorioDragHover=b?a.el._katavorio:null;if(g!==b)this.params.events[b?"over":"out"]({el:this.el,
e:c,drag:a,drop:this});g=b}};this.drop=function(a,b){return this.params.events.drop({drag:a,e:b,drop:this})};this.destroy=function(){g=this._hoverClass=this._activeClass=this._class=null}},M=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})},Z=function(a,b){return a.rank<b.rank?1:a.rank>b.rank?-1:0},G=function(a){if(null==a)return null;a="string"===typeof a||a.constructor===String?document.getElementById(a):
a;if(null==a)return null;a._katavorio=a._katavorio||M();return a};this.Katavorio=function(b){var g=[],f={};this._dragsByScope={};this._dropsByScope={};var l=1,m=function(a,b){d(a,function(a){for(var c=0;c<a.scopes.length;c++)b[a.scopes[c]]=b[a.scopes[c]]||[],b[a.scopes[c]].push(a)})},q=function(a,c){var g=0;d(a,function(a){for(var d=0;d<a.scopes.length;d++)if(c[a.scopes[d]]){var e=b.indexOf(c[a.scopes[d]],a);-1!==e&&(c[a.scopes[d]].splice(e,1),g++)}});return 0<g};this.getMatchingDroppables=function(a){for(var b=
[],c={},d=0;d<a.scopes.length;d++){var g=this._dropsByScope[a.scopes[d]];if(g)for(var e=0;e<g.length;e++)!g[e].canDrop(a)||c[g[e].uuid]||!g[e].allowLoopback&&g[e].el===a.el||(c[g[e].uuid]=!0,b.push(g[e]))}b.sort(Z);return b};var r=function(a){a=a||{};var c={events:{}},d;for(d in b)c[d]=b[d];for(d in a)c[d]=a[d];for(d=0;d<u.length;d++)c.events[u[d]]=a[u[d]]||C;c.katavorio=this;return c}.bind(this),z=function(a,b){for(var c=0;c<u.length;c++)if(b[u[c]])a.on(u[c],b[u[c]])}.bind(this),A={},D=b.css||{},
H=b.scope||"katavorio-drag-scope",R;for(R in B)A[R]=B[R];for(R in D)A[R]=D[R];var M=b.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return M};this.setInputFilterSelector=function(a){M=a;return this};this.draggable=function(a,c){var g=[];d(a,function(a){a=G(a);if(null!=a)if(null==a._katavorioDrag){var d=r(c);a._katavorioDrag=new W(a,d,A,H);m(a._katavorioDrag,this._dragsByScope);g.push(a._katavorioDrag);b.addClass(a,A.draggable)}else z(a._katavorioDrag,
c)}.bind(this));return g};this.droppable=function(a,c){var g=[];d(a,function(a){a=G(a);if(null!=a){var d=new P(a,r(c),A,H);a._katavorioDrop=a._katavorioDrop||[];a._katavorioDrop.push(d);m(d,this._dropsByScope);g.push(d);b.addClass(a,A.droppable)}}.bind(this));return g};this.select=function(a){d(a,function(){var a=G(this);a&&a._katavorioDrag&&!f[a._katavorio]&&(g.push(a._katavorioDrag),f[a._katavorio]=[a,g.length-1],b.addClass(a,A.selected))});return this};this.deselect=function(a){d(a,function(){var a=
G(this);if(a&&a._katavorio&&f[a._katavorio]){for(var c=[],d=0;d<g.length;d++)g[d].el!==a&&c.push(g[d]);g=c;delete f[a._katavorio];b.removeClass(a,A.selected)}});return this};this.deselectAll=function(){for(var a in f)b.removeClass(f[a][0],A.selected);g.length=0;f={}};this.markSelection=function(a){v(g,function(a){a.mark()},a)};this.markPosses=function(a){a.posses&&d(a.posses,function(b){a.posseRoles[b]&&fa[b]&&v(fa[b].members,function(a){a.mark()},a)})};this.unmarkSelection=function(a,b){v(g,function(a){a.unmark(b)},
a)};this.unmarkPosses=function(a,b){a.posses&&d(a.posses,function(c){a.posseRoles[c]&&fa[c]&&v(fa[c].members,function(a){a.unmark(b,!0)},a)})};this.getSelection=function(){return g.slice(0)};this.updateSelection=function(a,b,c){v(g,function(c){c.moveBy(a,b)},c)};var oa=function(a,b){b.posses&&d(b.posses,function(c){b.posseRoles[c]&&fa[c]&&v(fa[c].members,function(b){a(b)},b)})};this.updatePosses=function(a,b,c){oa(function(c){c.moveBy(a,b)},c)};this.notifyPosseDragStop=function(a,b){oa(function(a){a.stop(b,
!0)},a)};this.notifySelectionDragStop=function(a,b){v(g,function(a){a.stop(b,!0)},a)};this.notifySelectionDragStart=function(a,b){v(g,function(a){a.notifyStart(b)},a)};this.setZoom=function(a){l=a};this.getZoom=function(){return l};var wa=function(a,b,c,g){d(a,function(a){q(a,c);a[g](b);m(a,c)})};d(["set","add","remove","toggle"],function(a){this[a+"Scope"]=function(b,c){wa(b._katavorioDrag,c,this._dragsByScope,a+"Scope");wa(b._katavorioDrop,c,this._dropsByScope,a+"Scope")}.bind(this);this[a+"DragScope"]=
function(b,c){wa(b.constructor===W?b:b._katavorioDrag,c,this._dragsByScope,a+"Scope")}.bind(this);this[a+"DropScope"]=function(b,c){wa(b.constructor===P?b:b._katavorioDrop,c,this._dropsByScope,a+"Scope")}.bind(this)}.bind(this));this.snapToGrid=function(a,b){for(var c in this._dragsByScope)v(this._dragsByScope[c],function(c){c.snap(a,b)})};this.getDragsForScope=function(a){return this._dragsByScope[a]};this.getDropsForScope=function(a){return this._dropsByScope[a]};var Ga=function(a,b,c){a=G(a);if(a[b]){var e=
g.indexOf(a[b]);0<=e&&g.splice(e,1);q(a[b],c)&&d(a[b],function(a){a.destroy()});delete a[b]}};this.elementRemoved=function(a){this.destroyDraggable(a);this.destroyDroppable(a)};this.destroyDraggable=function(a,b,c){if(1===arguments.length)Ga(a,"_katavorioDrag",this._dragsByScope);else{var d=G(a);d._katavorioDrag&&d._katavorioDrag.off(b,c)}};this.destroyDroppable=function(a,b,c){if(1===arguments.length)Ga(a,"_katavorioDrop",this._dropsByScope);else{var d=G(a);d._katavorioDrop&&d._katavorioDrop.off(b,
c)}};this.reset=function(){this._dragsByScope={};this._dropsByScope={};g=[];f={};fa={}};var fa={},la=function(b,c,g){var f=e(c)?c:c.id,l=e(c)?!0:!1!==c.active,m=fa[f]||function(){var a={name:f,members:[]};return fa[f]=a}();d(b,function(b){!b._katavorioDrag||g&&null!=b._katavorioDrag.posseRoles[m.name]||(a(m.members,b._katavorioDrag),a(b._katavorioDrag.posses,m.name),b._katavorioDrag.posseRoles[m.name]=l)});return m};this.addToPosse=function(a,b){for(var c=[],d=1;d<arguments.length;d++)c.push(la(a,
arguments[d]));return 1===c.length?c[0]:c};this.setPosse=function(a,b){for(var c=[],g=1;g<arguments.length;g++)c.push(la(a,arguments[g],!0).name);d(a,function(a){if(a._katavorioDrag){for(var b=a._katavorioDrag.posses,d=[],g=0;g<b.length;g++)-1===c.indexOf(b[g])&&d.push(b[g]);Array.prototype.push.apply([],a._katavorioDrag.posses);for(b=0;b<d.length;b++)this.removeFromPosse(a,d[b])}}.bind(this));return 1===c.length?c[0]:c};this.removeFromPosse=function(a,b){if(2>arguments.length)throw new TypeError("No posse id provided for remove operation");
for(var g=1;g<arguments.length;g++)b=arguments[g],d(a,function(a){if(a._katavorioDrag&&a._katavorioDrag.posses){var g=a._katavorioDrag;d(b,function(a){c(fa[a].members,g);c(g.posses,a);delete g.posseRoles[a]})}})};this.removeFromAllPosses=function(a){d(a,function(a){if(a._katavorioDrag&&a._katavorioDrag.posses){var b=a._katavorioDrag;d(b.posses,function(a){c(fa[a].members,b)});b.posses.length=0;b.posseRoles={}}})};this.setPosseState=function(a,b,c){var g=fa[b];g&&d(a,function(a){a._katavorioDrag&&
a._katavorioDrag.posses&&(a._katavorioDrag.posseRoles[g.name]=c)})}};this.Katavorio.version="0.27.0";"undefined"!==typeof exports&&(exports.Katavorio=this.Katavorio)}).call("undefined"!==typeof window?window:this);
(function(){var a=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=function(a){return"string"===typeof a},e=function(a){return"boolean"===typeof a},m=function(a){return null==a?!1:"[object Object]"===Object.prototype.toString.call(a)},l=function(a){return"[object Date]"===Object.prototype.toString.call(a)},f=function(a){return"[object Function]"===Object.prototype.toString.call(a)},q=this;q.jsPlumbUtil={isArray:a,isString:c,isBoolean:e,isNull:function(a){return null==a},isObject:m,
isDate:l,isFunction:f,isEmpty:function(a){for(var c in a)if(a.hasOwnProperty(c))return!1;return!0},isNumber:function(a){return"[object Number]"===Object.prototype.toString.call(a)},clone:function(q){if(c(q))return""+q;if(e(q))return!!q;if(l(q))return new Date(q.getTime());if(f(q))return q;if(a(q)){for(var z=[],u=0;u<q.length;u++)z.push(this.clone(q[u]));return z}if(m(q)){z={};for(u in q)z[u]=this.clone(q[u]);return z}return q},merge:function(f,l,q){var z={},u;q=q||[];for(u=0;u<q.length;u++)z[q[u]]=
!0;q=this.clone(f);for(u in l)if(null==q[u])q[u]=l[u];else if(c(l[u])||e(l[u]))z[u]?(f=[],f.push.apply(f,a(q[u])?q[u]:[q[u]]),f.push.apply(f,a(l[u])?l[u]:[l[u]]),q[u]=f):q[u]=l[u];else if(a(l[u]))f=[],a(q[u])&&f.push.apply(f,q[u]),f.push.apply(f,l[u]),q[u]=f;else if(m(l[u])){m(q[u])||(q[u]={});for(var B in l[u])q[u][B]=l[u][B]}return q},replace:function(a,c,e){if(null!=a){var f=a;c.replace(/([^\.])+/g,function(a,c,b,d){var g=a.match(/([^\[0-9]+){1}(\[)([0-9+])/);c=function(){var a;(a=f[g[1]])||(f[g[1]]=
[],a=f[g[1]]);return a};b+a.length>=d.length?g?c()[g[3]]=e:f[a]=e:g?(a=c(),(b=a[g[3]])||(a[g[3]]={},b=a[g[3]]),f=b):((b=f[a])||(f[a]={},b=f[a]),f=b)});return a}},functionChain:function(a,c,e){for(var f=0;f<e.length;f++){var l=e[f][0][e[f][1]].apply(e[f][0],e[f][2]);if(l===c)return l}return a},populate:function(e,l,q){var u=function(e){if(null!=e){if(c(e)){var z=e.match(/(\${.*?})/g);if(null!=z)for(var b=0;b<z.length;b++){var d=l[z[b].substring(2,z[b].length-1)]||"";null!=d&&(e=e.replace(z[b],d))}return e}if(!f(e)||
null!=q&&0!==(e.name||"").indexOf(q)){if(a(e)){z=[];for(b=0;b<e.length;b++)z.push(u(e[b]));return z}if(m(e)){z={};for(b in e)z[b]=u(e[b]);return z}return e}return e(l)}};return u(e)},findWithFunction:function(a,c){if(a)for(var e=0;e<a.length;e++)if(c(a[e]))return e;return-1},removeWithFunction:function(a,c){c=q.jsPlumbUtil.findWithFunction(a,c);-1<c&&a.splice(c,1);return-1!==c},remove:function(a,c){c=a.indexOf(c);-1<c&&a.splice(c,1);return-1!==c},addWithFunction:function(a,c,e){-1===q.jsPlumbUtil.findWithFunction(a,
e)&&a.push(c)},addToList:function(a,c,e,f){var l=a[c];null==l&&(l=[],a[c]=l);l[f?"unshift":"push"](e);return l},suggest:function(a,c,e){return-1===a.indexOf(c)?(e?a.unshift(c):a.push(c),!0):!1},extend:function(c,e,f){var l;e=a(e)?e:[e];for(l=0;l<e.length;l++)for(var m in e[l].prototype)e[l].prototype.hasOwnProperty(m)&&(c.prototype[m]=e[l].prototype[m]);var q=function(a,c){return function(){for(l=0;l<e.length;l++)e[l].prototype[a]&&e[l].prototype[a].apply(this,arguments);return c.apply(this,arguments)}};
m=function(a){for(var b in a)c.prototype[b]=q(b,a[b])};if(2<arguments.length)for(l=2;l<arguments.length;l++)m(arguments[l]);return c},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var c=16*Math.random()|0;return("x"===a?c:c&3|8).toString(16)})},logEnabled:!0,log:function(){if(q.jsPlumbUtil.logEnabled&&"undefined"!==typeof console)try{console.log(arguments[arguments.length-1])}catch(z){}},wrap:function(a,c,e){return function(){var f=null;try{null!=c&&(f=c.apply(this,
arguments))}catch(A){q.jsPlumbUtil.log("jsPlumb function failed : "+A)}if(null!=a&&(null==e||f!==e))try{f=a.apply(this,arguments)}catch(A){q.jsPlumbUtil.log("wrapped function failed : "+A)}return f}}};q.jsPlumbUtil.EventGenerator=function(){var a={},c=!1,e=!1,f={ready:!0},l=[];this.bind=function(b,c,g){var d=function(b){q.jsPlumbUtil.addToList(a,b,c,g);c.__jsPlumb=c.__jsPlumb||{};c.__jsPlumb[q.jsPlumbUtil.uuid()]=b};if("string"===typeof b)d(b);else if(null!=b.length)for(var e=0;e<b.length;e++)d(b[e]);
return this};this.fire=function(b,d,g){if(e)l.unshift(arguments);else{e=!0;if(!c&&a[b]){var r=a[b].length,u=0,z=!1,B=null;if(!this.shouldFireEvent||this.shouldFireEvent(b,d,g))for(;!z&&u<r&&!1!==B;){if(f[b])a[b][u].apply(this,[d,g]);else try{B=a[b][u].apply(this,[d,g])}catch(P){q.jsPlumbUtil.log("jsPlumb: fire failed for event "+b+" : "+P)}u++;if(null==a||null==a[b])z=!0}}e=!1;m()}return this};var m=function(){var a=l.pop();a&&this.fire.apply(this,a)}.bind(this);this.unbind=function(b,c){if(0===arguments.length)a=
{};else if(1===arguments.length)if("string"===typeof b)delete a[b];else{if(b.__jsPlumb){var d;for(d in b.__jsPlumb){var e=b.__jsPlumb[d];q.jsPlumbUtil.remove(a[e]||[],b)}}}else 2===arguments.length&&q.jsPlumbUtil.remove(a[b]||[],c);return this};this.getListener=function(b){return a[b]};this.setSuspendEvents=function(a){c=a};this.isSuspendEvents=function(){return c};this.silently=function(a){this.setSuspendEvents(!0);try{a()}catch(d){q.jsPlumbUtil.log("Cannot execute silent function "+d)}this.setSuspendEvents(!1)};
this.cleanupListeners=function(){for(var b in a)a[b]=null}};q.jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}};"undefined"!==typeof exports&&(exports.jsPlumbUtil=q.jsPlumbUtil)}).call("undefined"!==typeof window?window:this);
(function(){this.jsPlumbUtil.matchesSelector=function(a,c,e){e=e||a.parentNode;c=e.querySelectorAll(c);for(e=0;e<c.length;e++)if(c[e]===a)return!0;return!1};this.jsPlumbUtil.consume=function(a,c){a.stopPropagation?a.stopPropagation():a.returnValue=!1;!c&&a.preventDefault&&a.preventDefault()};this.jsPlumbUtil.sizeElement=function(a,c,e,m,l){a&&(a.style.height=l+"px",a.height=l,a.style.width=m+"px",a.width=m,a.style.left=c+"px",a.style.top=e+"px")}}).call("undefined"!==typeof window?window:this);
(function(){var a=this,c=a.jsPlumbUtil,e=function(){return""+(new Date).getTime()},m=function(a){if(a._jsPlumb.paintStyle&&a._jsPlumb.hoverPaintStyle){var c={};b.extend(c,a._jsPlumb.paintStyle);b.extend(c,a._jsPlumb.hoverPaintStyle);delete a._jsPlumb.hoverPaintStyle;c.gradient&&a._jsPlumb.paintStyle.fill&&delete c.gradient;a._jsPlumb.hoverPaintStyle=c}},l="tap dbltap click dblclick mouseover mouseout mousemove mousedown mouseup contextmenu".split(" "),f=function(a){return null==a?null:a.split(" ")},
q=function(a,b){b=c.isArray(b)||null!=b.length&&!c.isString(b)?b:[b];for(var d=0;d<b.length;d++)try{a.apply(b[d],[b[d]])}catch(D){c.log(".each iteration failed : "+D)}},z=function(a,b,e){if(a.getDefaultType){var d=a.getTypeDescriptor(),g={},f=a.getDefaultType(),l=c.merge({},f),m;for(m in f)g[m]="__default";f=0;for(m=a._jsPlumb.types.length;f<m;f++){var q=a._jsPlumb.types[f];if("__default"!==q){var r=a._jsPlumb.instance.getType(q,d);if(null!=r){l=c.merge(l,r,["cssClass"]);var u=void 0,z=g;for(u in r)z[u]=
q}}}b&&(l=c.populate(l,b,"_"));a.applyType(l,e,g);e||a.repaint()}},B=a.jsPlumbUIComponent=function(a){c.EventGenerator.apply(this,arguments);var d=arguments,e=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:a._jsPlumb,parameters:a.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:a.beforeDetach,beforeDrop:a.beforeDrop,overlayPlacements:[],hoverClass:a.hoverClass||a._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}};this.cacheTypeItem=function(a,
b,c){this._jsPlumb.typeCache[c]=this._jsPlumb.typeCache[c]||{};this._jsPlumb.typeCache[c][a]=b};this.getCachedTypeItem=function(a,b){return this._jsPlumb.typeCache[b]?this._jsPlumb.typeCache[b][a]:null};this.getId=function(){return e};var f=a.overlays||[],l={};if(this.defaultOverlayKeys){for(var m=0;m<this.defaultOverlayKeys.length;m++)Array.prototype.push.apply(f,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[m]]||[]);for(m=0;m<f.length;m++){var q=b.convertToFullOverlaySpec(f[m]);l[q[1].id]=
q}}var u={overlays:l,parameters:a.parameters||{},scope:a.scope||this._jsPlumb.instance.getDefaultScope()};this.getDefaultType=function(){return u};this.appendToDefaultType=function(a){for(var b in a)u[b]=a[b]};if(a.events)for(var z in a.events)this.bind(z,a.events[z]);this.clone=function(){var a=Object.create(this.constructor.prototype);this.constructor.apply(a,d);return a}.bind(this);this.isDetachAllowed=function(a){var b=!0;if(this._jsPlumb.beforeDetach)try{b=this._jsPlumb.beforeDetach(a)}catch(X){c.log("jsPlumb: beforeDetach callback failed",
X)}return b};this.isDropAllowed=function(a,b,d,g,e,f,l){var m=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:a,targetId:b,scope:d,connection:g,dropEndpoint:e,source:f,target:l});if(this._jsPlumb.beforeDrop)try{m=this._jsPlumb.beforeDrop({sourceId:a,targetId:b,scope:d,connection:g,dropEndpoint:e,source:f,target:l})}catch(ta){c.log("jsPlumb: beforeDrop callback failed",ta)}return m};var B=[];this.setListenerComponent=function(a){for(var b=0;b<B.length;b++)B[b][3]=a}},u=function(a,b){b=
a._jsPlumb.instance.getType(a._jsPlumb.types[b],a.getTypeDescriptor());null!=b&&b.cssClass&&a.canvas&&a._jsPlumb.instance.removeClass(a.canvas,b.cssClass)};c.extend(a.jsPlumbUIComponent,c.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(a,b){this._jsPlumb.parameters[a]=b},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},getClass:function(){return b.getClass(this.canvas)},hasClass:function(a){return b.hasClass(this.canvas,
a)},addClass:function(a){b.addClass(this.canvas,a)},removeClass:function(a){b.removeClass(this.canvas,a)},updateClasses:function(a,c){b.updateClasses(this.canvas,a,c)},setType:function(a,b,c){this.clearTypes();this._jsPlumb.types=f(a)||[];z(this,b,c)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,b){z(this,a,b)},hasType:function(a){return-1!==this._jsPlumb.types.indexOf(a)},addType:function(a,b,c){a=f(a);var d=!1;if(null!=a){for(var g=0,e=a.length;g<e;g++)this.hasType(a[g])||
(this._jsPlumb.types.push(a[g]),d=!0);d&&z(this,b,c)}},removeType:function(a,b,c){a=f(a);var d=!1,g=function(a){a=this._jsPlumb.types.indexOf(a);return-1!==a?(u(this,a),this._jsPlumb.types.splice(a,1),!0):!1}.bind(this);if(null!=a){for(var e=0,l=a.length;e<l;e++)d=g(a[e])||d;d&&z(this,b,c)}},clearTypes:function(a,b){for(var c=this._jsPlumb.types.length,d=0;d<c;d++)u(this,0),this._jsPlumb.types.splice(0,1);z(this,a,b)},toggleType:function(a,b,c){a=f(a);if(null!=a){for(var d=0,g=a.length;d<g;d++){var e=
this._jsPlumb.types.indexOf(a[d]);-1!==e?(u(this,e),this._jsPlumb.types.splice(e,1)):this._jsPlumb.types.push(a[d])}z(this,b,c)}},applyType:function(a,b){this.setPaintStyle(a.paintStyle,b);this.setHoverPaintStyle(a.hoverPaintStyle,b);if(a.parameters)for(var c in a.parameters)this.setParameter(c,a.parameters[c]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(a,b){this._jsPlumb.paintStyle=a;this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle;m(this);b||this.repaint()},
getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(a,b){this._jsPlumb.hoverPaintStyle=a;m(this);b||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(a){if(a||null==this.typeId)this.cleanupListeners(),this._jsPlumb=this.clone=null},isHover:function(){return this._jsPlumb.hover},setHover:function(a,b,c){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){var d=(this._jsPlumb.hover=
a)?"addClass":"removeClass";if(null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass)this._jsPlumb.instance[d](this.canvas,this._jsPlumb.instance.hoverClass);if(null!=this._jsPlumb.hoverClass)this._jsPlumb.instance[d](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=a?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(c=c||e(),this.repaint({timestamp:c,recalc:!1})));if(this.getAttachedElements&&
!b&&(b=e(),c=this.getAttachedElements())){d=0;for(var g=c.length;d<g;d++)this&&this===c[d]||c[d].setHover(a,!0,b)}}}});var C=0,A=function(){var a=C+1;C++;return a},v=a.jsPlumbInstance=function(d){this.version="2.6.12";d&&b.extend(this.Defaults,d);this.logEnabled=this.Defaults.LogEnabled;this._connectionTypes={};this._endpointTypes={};c.EventGenerator.apply(this);var g=this,f=A(),m=g.bind,u={},z=1,v=function(a){if(null==a)return null;if(3===a.nodeType||8===a.nodeType)return{el:a,text:!0};var b=g.getElement(a);
return{el:b,id:c.isString(a)&&null==b?a:V(b)}};this.getInstanceIndex=function(){return f};this.setZoom=function(a,b){z=a;g.fire("zoom",z);b&&g.repaintEverything();return!0};this.getZoom=function(){return z};for(var C in this.Defaults)u[C]=this.Defaults[C];var Z,G=[];this.unbindContainer=function(){if(null!=Z&&0<G.length)for(var a=0;a<G.length;a++)g.off(Z,G[a][0],G[a][1])};this.setContainer=function(a){this.unbindContainer();a=this.getElement(a);this.select().each(function(b){b.moveParent(a)});this.selectEndpoints().each(function(b){b.moveParent(a)});
var b=Z;Z=a;G.length=0;for(var c={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},d=function(a,b,d){var e=b.srcElement||b.target;if(e=(e&&e.parentNode?e.parentNode._jsPlumb:null)||(e?e._jsPlumb:null)||(e&&e.parentNode&&e.parentNode.parentNode?e.parentNode.parentNode._jsPlumb:null))e.fire(a,e,b),g.fire(d?c[d+a]||a:a,e.component||e,b)},e=function(a,b,c){G.push([a,c]);g.on(Z,a,b,c)},f=function(a){e(a,".jtk-connector",function(b){d(a,b)});e(a,".jtk-endpoint",function(b){d(a,b,"endpoint")});
e(a,".jtk-overlay",function(b){d(a,b)})},m=0;m<l.length;m++)f(l[m]);for(var q in ba)f=ba[q].el,f.parentNode===b&&(b.removeChild(f),Z.appendChild(f))};this.getContainer=function(){return Z};this.bind=function(a,b){"ready"===a&&I?b():m.apply(g,[a,b])};g.importDefaults=function(a){for(var b in a)g.Defaults[b]=a[b];a.Container&&g.setContainer(a.Container);return g};g.restoreDefaults=function(){g.Defaults=b.extend({},u);return g};var R=null,I=!1,X=[],J={},S={},ba={},T={},Y={},ta={},Ia=!1,Ha=[],ia=!1,va=
null,oa=this.Defaults.Scope,wa=1,Ga=function(){return""+wa++};d=function(a,b){Z?Z.appendChild(a):b?this.getElement(b).appendChild(a):this.appendToRoot(a)}.bind(this);var fa=function(a,b,c,d){if(!ia){a=V(a);var f,l=g.getDragManager();l&&(f=l.getElementsForDraggable(a));null==c&&(c=e());l=Na({elId:a,offset:b,recalc:!1,timestamp:c});if(f&&l&&l.o)for(var m in f)Na({elId:f[m].id,offset:{left:l.o.left+f[m].offset.left,top:l.o.top+f[m].offset.top},recalc:!1,timestamp:c});g.anchorManager.redraw(a,b,c,null,
d);if(f)for(var q in f)g.anchorManager.redraw(f[q].id,b,c,f[q].offset,d,!0)}},la=function(a,d,e,f,l){if(!b.headless&&(null==d?0:d)&&b.isDragSupported(a,g)){var m=e||g.Defaults.DragOptions;m=b.extend({},m);if(b.isAlreadyDraggable(a,g))e.force&&g.initDraggable(a,m);else{d=b.dragEvents.drag;var q=b.dragEvents.stop,r=b.dragEvents.start,u=!1;Aa(f,a);m[r]=c.wrap(m[r],function(){g.setHoverSuspended(!0);g.select({source:a}).addClass(g.elementDraggingClass+" "+g.sourceElementDraggingClass,!0);g.select({target:a}).addClass(g.elementDraggingClass+
" "+g.targetElementDraggingClass,!0);g.setConnectionBeingDragged(!0);if(m.canDrag)return e.canDrag()},!1);m[d]=c.wrap(m[d],function(){var b=g.getUIPosition(arguments,g.getZoom());null!=b&&(fa(a,b,null,!0),u&&g.addClass(a,"jtk-dragged"),u=!0)});m[q]=c.wrap(m[q],function(a){a=a.selection;for(var b,c=0;c<a.length;c++){var d=a[c];null!=d[1]&&(b=g.getUIPosition([{el:d[2].el,pos:[d[1].left,d[1].top]}]),fa(d[2].el,b));g.removeClass(d[0],"jtk-dragged");g.select({source:d[2].el}).removeClass(g.elementDraggingClass+
" "+g.sourceElementDraggingClass,!0);g.select({target:d[2].el}).removeClass(g.elementDraggingClass+" "+g.targetElementDraggingClass,!0);g.getDragManager().dragEnded(d[2].el)}u=!1;g.setHoverSuspended(!1);g.setConnectionBeingDragged(!1)});f=V(a);ta[f]=!0;f=ta[f];m.disabled=null==f?!1:!f;g.initDraggable(a,m);g.getDragManager().register(a);l&&g.fire("elementDraggable",{el:a,options:m})}}},ka=function(a,b){a=a.scope.split(/\s/);b=b.scope.split(/\s/);for(var c=0;c<a.length;c++)for(var d=0;d<b.length;d++)if(b[d]===
a[c])return!0;return!1},ra=function(a,c){a=b.extend({},a);for(var d in c)c[d]&&(a[d]=c[d]);return a},Da=function(a,d){var e=b.extend({},a);d&&b.extend(e,d);e.source&&(e.source.endpoint?e.sourceEndpoint=e.source:e.source=g.getElement(e.source));e.target&&(e.target.endpoint?e.targetEndpoint=e.target:e.target=g.getElement(e.target));a.uuids&&(e.sourceEndpoint=S[a.uuids[0]],e.targetEndpoint=S[a.uuids[1]]);if(e.sourceEndpoint&&e.sourceEndpoint.isFull())c.log(g,"could not add connection; source endpoint is full");
else if(e.targetEndpoint&&e.targetEndpoint.isFull())c.log(g,"could not add connection; target endpoint is full");else{!e.type&&e.sourceEndpoint&&(e.type=e.sourceEndpoint.connectionType);if(e.sourceEndpoint&&e.sourceEndpoint.connectorOverlays)for(e.overlays=e.overlays||[],a=0,d=e.sourceEndpoint.connectorOverlays.length;a<d;a++)e.overlays.push(e.sourceEndpoint.connectorOverlays[a]);e.sourceEndpoint&&e.sourceEndpoint.scope&&(e.scope=e.sourceEndpoint.scope);!e["pointer-events"]&&e.sourceEndpoint&&e.sourceEndpoint.connectorPointerEvents&&
(e["pointer-events"]=e.sourceEndpoint.connectorPointerEvents);a=function(a,b,c,d){if(e[a]&&!e[a].endpoint&&!e[a+"Endpoint"]&&!e.newConnection){var f=V(e[a]);if(c=(c=c[f])?c[d]:null){if(!c.enabled)return!1;d=null!=c.endpoint&&c.endpoint._jsPlumb?c.endpoint:g.addEndpoint(e[a],ra(c.def,{anchor:e.anchors?e.anchors[b]:e.anchor,endpoint:e.endpoints?e.endpoints[b]:e.endpoint,paintStyle:e.endpointStyles?e.endpointStyles[b]:e.endpointStyle,hoverPaintStyle:e.endpointHoverStyles?e.endpointHoverStyles[b]:e.endpointHoverStyle}));
if(d.isFull())return!1;e[a+"Endpoint"]=d;!e.scope&&c.def.scope&&(e.scope=c.def.scope);c.uniqueEndpoint?c.endpoint?d.finalEndpoint=c.endpoint:(c.endpoint=d,d.setDeleteOnEmpty(!1)):d.setDeleteOnEmpty(!0);0===b&&c.def.connectorOverlays&&(e.overlays=e.overlays||[],Array.prototype.push.apply(e.overlays,c.def.connectorOverlays))}}};if(!1!==a("source",0,this.sourceEndpointDefinitions,e.type||"default")&&!1!==a("target",1,this.targetEndpointDefinitions,e.type||"default"))return e.sourceEndpoint&&e.targetEndpoint&&
(ka(e.sourceEndpoint,e.targetEndpoint)||(e=null)),e}}.bind(g),ea=function(a){var b=g.Defaults.ConnectionType||g.getDefaultConnectionType();a._jsPlumb=g;a.newConnection=ea;a.newEndpoint=O;a.endpointsByUUID=S;a.endpointsByElement=J;a.finaliseConnection=U;a.id="con_"+Ga();a=new b(a);a.isDetachable()&&(a.endpoints[0].initDraggable("_jsPlumbSource"),a.endpoints[1].initDraggable("_jsPlumbTarget"));return a},U=g.finaliseConnection=function(a,b,c,d){b=b||{};a.suspendedEndpoint||X.push(a);a.pending=null;a.endpoints[0].isTemporarySource=
!1;!1!==d&&g.anchorManager.newConnection(a);fa(a.source);b.doNotFireConnectionEvent||!1===b.fireEvent||g.fire("connection",{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]},c)},O=function(a,c){var d=g.Defaults.EndpointType||b.Endpoint;a=b.extend({},a);a._jsPlumb=g;a.newConnection=ea;a.newEndpoint=O;a.endpointsByUUID=S;a.endpointsByElement=J;a.fireDetachEvent=pa;a.elementId=c||V(a.source);d=new d(a);d.id=
"ep_"+Ga();Aa(a.elementId,a.source);b.headless||g.getDragManager().endpointAdded(a.source,c);return d},Ka=function(a,b,c){if((a=J[a])&&a.length)for(var d=0,e=a.length;d<e;d++){for(var g=0,f=a[d].connections.length;g<f;g++)if(b(a[d].connections[g]))return;c&&c(a[d])}},N=function(a,b,c){b="block"===b;var d=null;c&&(d=function(a){a.setVisible(b,!0,!0)});var e=v(a);Ka(e.id,function(a){b&&c?a.endpoints[a.sourceId===e.id?1:0].isVisible()&&a.setVisible(!0):a.setVisible(b)},d)},V=function(a,b,d){if(c.isString(a))return a;
if(null==a)return null;var e=g.getAttribute(a,"id");if(!e||"undefined"===e){if(2===arguments.length&&void 0!==arguments[1])e=b;else if(1===arguments.length||3===arguments.length&&!arguments[2])e="jsPlumb_"+f+"_"+Ga();d||g.setAttribute(a,"id",e)}return e};this.setConnectionBeingDragged=function(a){Ia=a};this.isConnectionBeingDragged=function(){return Ia};this.getManagedElements=function(){return ba};this.connectorClass="jtk-connector";this.connectorOutlineClass="jtk-connector-outline";this.connectedClass=
"jtk-connected";this.hoverClass="jtk-hover";this.endpointClass="jtk-endpoint";this.endpointConnectedClass="jtk-endpoint-connected";this.endpointFullClass="jtk-endpoint-full";this.endpointDropAllowedClass="jtk-endpoint-drop-allowed";this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden";this.overlayClass="jtk-overlay";this.draggingClass="jtk-dragging";this.elementDraggingClass="jtk-element-dragging";this.sourceElementDraggingClass="jtk-source-element-dragging";this.targetElementDraggingClass=
"jtk-target-element-dragging";this.endpointAnchorClassPrefix="jtk-endpoint-anchor";this.hoverSourceClass="jtk-source-hover";this.hoverTargetClass="jtk-target-hover";this.dragSelectClass="jtk-drag-select";this.Anchors={};this.Connectors={svg:{}};this.Endpoints={svg:{}};this.Overlays={svg:{}};this.ConnectorRenderers={};this.SVG="svg";this.addEndpoint=function(a,d,e){e=e||{};e=b.extend({},e);b.extend(e,d);e.endpoint=e.endpoint||g.Defaults.Endpoint;e.paintStyle=e.paintStyle||g.Defaults.EndpointStyle;
d=[];a=c.isArray(a)||null!=a.length&&!c.isString(a)?a:[a];for(var f=0,l=a.length;f<l;f++){e.source=g.getElement(a[f]);hb(e.source);var m=V(e.source),q=O(e,m),r=Aa(m,e.source).info.o;c.addToList(J,m,q);ia||q.paint({anchorLoc:q.anchor.compute({xy:[r.left,r.top],wh:Ha[m],element:q,timestamp:va}),timestamp:va});d.push(q)}return 1===d.length?d[0]:d};this.addEndpoints=function(a,b,d){for(var e=[],f=0,l=b.length;f<l;f++){var m=g.addEndpoint(a,b[f],d);c.isArray(m)?Array.prototype.push.apply(e,m):e.push(m)}return e};
this.animate=function(a,d,e){if(!this.animationSupported)return!1;e=e||{};a=g.getElement(a);var f=V(a),l=b.animEvents.step,m=b.animEvents.complete;e[l]=c.wrap(e[l],function(){g.revalidate(f)});e[m]=c.wrap(e[m],function(){g.revalidate(f)});g.doAnimate(a,d,e)};this.checkCondition=function(a,b){var d=g.getListener(a),e=!0;if(d&&0<d.length){var f=Array.prototype.slice.call(arguments,1);try{for(var l=0,m=d.length;l<m;l++)e=e&&d[l].apply(d[l],f)}catch(bb){c.log(g,"cannot check condition ["+a+"]"+bb)}}return e};
this.connect=function(a,b){a=Da(a,b);if(a){if(null==a.source&&null==a.sourceEndpoint){c.log("Cannot establish connection - source does not exist");return}if(null==a.target&&null==a.targetEndpoint){c.log("Cannot establish connection - target does not exist");return}hb(a.source);var d=ea(a);U(d,a)}return d};var ja=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],E=function(a,c,d,e){var g=ja[d],f=a[g.elId],l=a.endpoints[d],
m={index:d,originalSourceId:0===d?f:a.sourceId,newSourceId:a.sourceId,originalTargetId:1===d?f:a.targetId,newTargetId:a.targetId,connection:a};if(c.constructor===b.Endpoint){var q=c;q.addConnection(a);c=q.element}else{f=V(c);var r=this[g.epDefs][f];if(f===a[g.elId])q=null;else if(r)for(var u in r){if(!r[u].enabled)return;q=null!=r[u].endpoint&&r[u].endpoint._jsPlumb?r[u].endpoint:this.addEndpoint(c,r[u].def);r[u].uniqueEndpoint&&(r[u].endpoint=q);q.addConnection(a)}else q=a.makeEndpoint(0===d,c,f)}null!=
q&&(l.detachFromConnection(a),a.endpoints[d]=q,a[g.el]=q.element,a[g.elId]=q.elementId,m[0===d?"newSourceId":"newTargetId"]=q.elementId,Oa(m),e||a.repaint());m.element=c;return m}.bind(this);this.setSource=function(a,b,c){b=E(a,b,0,c);this.anchorManager.sourceChanged(b.originalSourceId,b.newSourceId,a,b.el)};this.setTarget=function(a,b,c){b=E(a,b,1,c);this.anchorManager.updateOtherEndpoint(b.originalSourceId,b.originalTargetId,b.newTargetId,a)};this.deleteEndpoint=function(a,b,c){(a="string"===typeof a?
S[a]:a)&&g.deleteObject({endpoint:a,dontUpdateHover:b,deleteAttachedObjects:c});return g};this.deleteEveryEndpoint=function(){var a=g.setSuspendDrawing(!0),b;for(b in J){var c=J[b];if(c&&c.length)for(var d=0,e=c.length;d<e;d++)g.deleteEndpoint(c[d],!0)}J={};ba={};S={};T={};Y={};g.anchorManager.reset();(b=g.getDragManager())&&b.reset();a||g.setSuspendDrawing(!1);return g};var pa=function(a,b,c){var d=g.Defaults.ConnectionType||g.getDefaultConnectionType();a=a.constructor===d?{connection:a,source:a.source,
target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]}:a;b&&g.fire("connectionDetached",a,c);g.fire("internal.connectionDetached",a,c);g.anchorManager.connectionDetached(a)},Oa=g.fireMoveEvent=function(a,b){g.fire("connectionMoved",a,b)};this.unregisterEndpoint=function(a){a._jsPlumb.uuid&&(S[a._jsPlumb.uuid]=null);g.anchorManager.deleteEndpoint(a);for(var b in J){var c=J[b];if(c){for(var d=[],e=0,f=c.length;e<f;e++)c[e]!==a&&d.push(c[e]);
J[b]=d}1>J[b].length&&delete J[b]}};this.deleteConnection=function(a,b){return null!=a&&(b=b||{},b.force||c.functionChain(!0,!1,[[a.endpoints[0],"isDetachAllowed",[a]],[a.endpoints[1],"isDetachAllowed",[a]],[a,"isDetachAllowed",[a]],[g,"checkCondition",["beforeDetach",a]]]))?(a.setHover(!1),pa(a,!a.pending&&!1!==b.fireEvent,b.originalEvent),a.endpoints[0].detachFromConnection(a),a.endpoints[1].detachFromConnection(a),c.removeWithFunction(X,function(b){return a.id===b.id}),a.cleanup(),a.destroy(),
!0):!1};this.deleteEveryConnection=function(a){a=a||{};var b=X.length,c=0;g.batch(function(){for(var d=0;d<b;d++)c+=g.deleteConnection(X[0],a)?1:0});return c};this.deleteConnectionsForElement=function(a,b){b=b||{};a=g.getElement(a);a=V(a);if((a=J[a])&&a.length)for(var c=0,d=a.length;c<d;c++)a[c].deleteEveryConnection(b);return g};this.deleteObject=function(a){var b={endpoints:{},connections:{},endpointCount:0,connectionCount:0},d=!1!==a.deleteAttachedObjects,e=function(c){null!=c&&null==b.connections[c.id]&&
(a.dontUpdateHover||null==c._jsPlumb||c.setHover(!1),b.connections[c.id]=c,b.connectionCount++)},f=function(c){if(null!=c&&null==b.endpoints[c.id]&&(a.dontUpdateHover||null==c._jsPlumb||c.setHover(!1),b.endpoints[c.id]=c,b.endpointCount++,d))for(var g=0;g<c.connections.length;g++)e(c.connections[g])};a.connection?e(a.connection):f(a.endpoint);for(var l in b.connections){var m=b.connections[l];m._jsPlumb&&(c.removeWithFunction(X,function(a){return m.id===a.id}),pa(m,!1===a.fireEvent?!1:!m.pending,
a.originalEvent),f=null==a.deleteAttachedObjects?null:!a.deleteAttachedObjects,m.endpoints[0].detachFromConnection(m,null,f),m.endpoints[1].detachFromConnection(m,null,f),m.cleanup(!0),m.destroy(!0))}for(var q in b.endpoints)l=b.endpoints[q],l._jsPlumb&&(g.unregisterEndpoint(l),l.cleanup(!0),l.destroy(!0));return b};this.draggable=function(a,b){var c;q(function(a){c=v(a);c.el&&la(c.el,!0,b,c.id,!0)},a);return g};this.droppable=function(a,b){var c;b=b||{};b.allowLoopback=!1;q(function(a){c=v(a);c.el&&
g.initDroppable(c.el,b)},a);return g};var La=function(a,b,c){return function(){for(var d=arguments,e=0,g=a.length;e<g;e++)a[e][b].apply(a[e],d);return c(a)}},cb=function(a,b){return function(){for(var c=arguments,d=[],e=0,g=a.length;e<g;e++)d.push([a[e][b].apply(a[e],c),a[e]]);return d}},ca=function(a,b){var c=[];if(a)if("string"===typeof a){if("*"===a)return a;c.push(a)}else if(b)c=a;else if(a.length){b=0;for(var d=a.length;b<d;b++)c.push(v(a[b]).id)}else c.push(v(a).id);return c},Ea=function(a,
b,c){return"*"===a?!0:0<a.length?-1!==a.indexOf(b):!c};this.getConnections=function(a,b){a?a.constructor===String&&(a={scope:a}):a={};var c=a.scope||g.getDefaultScope();c=ca(c,!0);var d=ca(a.source);a=ca(a.target);for(var e=!b&&1<c.length?{}:[],f=0,l=X.length;f<l;f++){var m=X[f],q=m.proxies&&m.proxies[0]?m.proxies[0].originalEp.elementId:m.sourceId,r=m.proxies&&m.proxies[1]?m.proxies[1].originalEp.elementId:m.targetId;Ea(c,m.scope)&&Ea(d,q)&&Ea(a,r)&&(q=m.scope,!b&&1<c.length?(r=e[q],null==r&&(r=
e[q]=[]),r.push(m)):e.push(m))}return e};var Sa=function(a,b){return function(c){for(var d=0,e=a.length;d<e;d++)c(a[d]);return b(a)}},Q=function(a){return function(b){return a[b]}},t=function(a,b){var c={length:a.length,each:Sa(a,b),get:Q(a)},d="setHover removeAllOverlays setLabel addClass addOverlay removeOverlay removeOverlays showOverlay hideOverlay showOverlays hideOverlays setPaintStyle setHoverPaintStyle setSuspendEvents setParameter setParameters setVisible repaint addType toggleType removeType removeClass setType bind unbind".split(" "),
e="getLabel getOverlay isHover getParameter getParameters getPaintStyle getHoverPaintStyle isVisible hasType getType isSuspendEvents".split(" "),g;var f=0;for(g=d.length;f<g;f++)c[d[f]]=La(a,d[f],b);f=0;for(g=e.length;f<g;f++)c[e[f]]=cb(a,e[f]);return c},gb=function(a){var c=t(a,gb);return b.extend(c,{setDetachable:La(a,"setDetachable",gb),setReattach:La(a,"setReattach",gb),setConnector:La(a,"setConnector",gb),delete:function(){for(var b=0,c=a.length;b<c;b++)g.deleteConnection(a[b])},isDetachable:cb(a,
"isDetachable"),isReattach:cb(a,"isReattach")})},Xa=function(a){var c=t(a,Xa);return b.extend(c,{setEnabled:La(a,"setEnabled",Xa),setAnchor:La(a,"setAnchor",Xa),isEnabled:cb(a,"isEnabled"),deleteEveryConnection:function(){for(var b=0,c=a.length;b<c;b++)a[b].deleteEveryConnection()},"delete":function(){for(var b=0,c=a.length;b<c;b++)g.deleteEndpoint(a[b])}})};this.select=function(a){a=a||{};a.scope=a.scope||"*";return gb(a.connections||g.getConnections(a,!0))};this.selectEndpoints=function(a){a=a||
{};a.scope=a.scope||"*";var b=!a.element&&!a.source&&!a.target,c=b?"*":ca(a.element),d=b?"*":ca(a.source);b=b?"*":ca(a.target);a=ca(a.scope,!0);var e=[],g;for(g in J){var f=Ea(c,g,!0),l=Ea(d,g,!0),m="*"!==d,q=Ea(b,g,!0),r="*"!==b;if(f||l||q)a:for(f=0,l=J[g].length;f<l;f++)if(q=J[g][f],Ea(a,q.scope,!0)){var u=r&&0<b.length&&!q.isTarget;if(m&&0<d.length&&!q.isSource||u)continue a;e.push(q)}}return Xa(e)};this.getAllConnections=function(){return X};this.getDefaultScope=function(){return oa};this.getEndpoint=
function(a){return S[a]};this.getEndpoints=function(a){return J[v(a).id]||[]};this.getDefaultEndpointType=function(){return b.Endpoint};this.getDefaultConnectionType=function(){return b.Connection};this.getId=V;this.appendElement=d;var Ub=!1;this.isHoverSuspended=function(){return Ub};this.setHoverSuspended=function(a){Ub=a};this.hide=function(a,b){N(a,"none",b);return g};this.idstamp=Ga;var hb=function(a){!Z&&a&&(a=g.getElement(a),a.offsetParent&&g.setContainer(a.offsetParent))},Aa=g.manage=function(a,
b,c){ba[a]||(ba[a]={el:b,endpoints:[],connections:[]},ba[a].info=Na({elId:a,timestamp:va}),c||g.fire("manageElement",{id:a,info:ba[a].info,el:b}));return ba[a]},Na=this.updateOffset=function(a){var b=a.timestamp,c=a.recalc,d=a.offset,e=a.elId;ia&&!b&&(b=va);if(!c&&b&&b===Y[e])return{o:a.offset||T[e],s:Ha[e]};c||!d&&null==T[e]?(a=ba[e]?ba[e].el:null,null!=a&&(Ha[e]=g.getSize(a),T[e]=g.getOffset(a),Y[e]=b)):(T[e]=d||T[e],null==Ha[e]&&(a=ba[e].el,null!=a&&(Ha[e]=g.getSize(a))),Y[e]=b);T[e]&&!T[e].right&&
(T[e].right=T[e].left+Ha[e][0],T[e].bottom=T[e].top+Ha[e][1],T[e].width=Ha[e][0],T[e].height=Ha[e][1],T[e].centerx=T[e].left+T[e].width/2,T[e].centery=T[e].top+T[e].height/2);return{o:T[e],s:Ha[e]}};this.init=function(){I||(g.Defaults.Container&&g.setContainer(g.Defaults.Container),g.anchorManager=new a.jsPlumb.AnchorManager({jsPlumbInstance:g}),I=!0,g.fire("ready",g))}.bind(this);this.log=R;this.jsPlumbUIComponent=B;this.makeAnchor=function(){var d=function(b,c){if(a.jsPlumb.Anchors[b])return new a.jsPlumb.Anchors[b](c);
if(!g.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+b+"'"};};if(0===arguments.length)return null;var e=arguments[0];var f=arguments[1];var l=null;if(e.compute&&e.getOrientation)return e;if("string"===typeof e)l=d(arguments[0],{elementId:f,jsPlumbInstance:g});else if(c.isArray(e))if(c.isArray(e[0])||c.isString(e[0]))2===e.length&&c.isObject(e[1])?c.isString(e[0])?(f=a.jsPlumb.extend({elementId:f,jsPlumbInstance:g},e[1]),l=d(e[0],f)):(f=a.jsPlumb.extend({elementId:f,jsPlumbInstance:g,
anchors:e[0]},e[1]),l=new a.jsPlumb.DynamicAnchor(f)):l=new b.DynamicAnchor({anchors:e,selector:null,elementId:f,jsPlumbInstance:g});else{var m={x:e[0],y:e[1],orientation:4<=e.length?[e[2],e[3]]:[0,0],offsets:6<=e.length?[e[4],e[5]]:[0,0],elementId:f,jsPlumbInstance:g,cssClass:7===e.length?e[6]:null};l=new a.jsPlumb.Anchor(m);l.clone=function(){return new a.jsPlumb.Anchor(m)}}l.id||(l.id="anchor_"+Ga());return l};this.makeAnchors=function(b,d,e){for(var f=[],l=0,m=b.length;l<m;l++)"string"===typeof b[l]?
f.push(a.jsPlumb.Anchors[b[l]]({elementId:d,jsPlumbInstance:e})):c.isArray(b[l])&&f.push(g.makeAnchor(b[l],d,e));return f};this.makeDynamicAnchor=function(b,c){return new a.jsPlumb.DynamicAnchor({anchors:b,selector:c,elementId:null,jsPlumbInstance:g})};this.targetEndpointDefinitions={};this.sourceEndpointDefinitions={};var Zb=function(a,b,c,d,e){a=a.target||a.srcElement;var g=!1;b=d.getSelector(b,c);for(c=0;c<b.length;c++)if(b[c]===a){g=!0;break}return e?!g:g},Rb=function(b,d,e,f,l){var m=new B(d);
f=d._jsPlumb.EndpointDropHandler({jsPlumb:g,enabled:function(){return b.def.enabled},isFull:function(){var a=g.select({target:b.id}).length;return 0<b.def.maxConnections&&a>=b.def.maxConnections},element:b.el,elementId:b.id,isSource:f,isTarget:l,addClass:function(a){g.addClass(b.el,a)},removeClass:function(a){g.removeClass(b.el,a)},onDrop:function(a){a.endpoints[0].anchor.unlock()},isDropAllowed:function(){return m.isDropAllowed.apply(m,arguments)},isRedrop:function(a){return null!=a.suspendedElement&&
null!=a.suspendedEndpoint&&a.suspendedEndpoint.element===b.el},getEndpoint:function(c){var e=b.def.endpoint;if(null==e||null==e._jsPlumb){e=g.deriveEndpointAndAnchorSpec(c.getType().join(" "),!0);var f=e.endpoints?a.jsPlumb.extend(d,{endpoint:b.def.def.endpoint||e.endpoints[1]}):d;e.anchors&&(f=a.jsPlumb.extend(f,{anchor:b.def.def.anchor||e.anchors[1]}));e=g.addEndpoint(b.el,f);e._mtNew=!0}d.uniqueEndpoint&&(b.def.endpoint=e);e.setDeleteOnEmpty(!0);c.isDetachable()&&e.initDraggable();if(null!=e.anchor.positionFinder){f=
g.getUIPosition(arguments,g.getZoom());var l=g.getOffset(b.el),m=g.getSize(b.el);f=null==f?[0,0]:e.anchor.positionFinder(f,l,m,e.anchor.constructorParams);e.anchor.x=f[0];e.anchor.y=f[1]}return e},maybeCleanup:function(a){a._mtNew&&0===a.connections.length?g.deleteObject({endpoint:a}):delete a._mtNew}});var q=a.jsPlumb.dragEvents.drop;e.scope=e.scope||d.scope||g.Defaults.Scope;e[q]=c.wrap(e[q],f,!0);l&&(e[a.jsPlumb.dragEvents.over]=function(){return!0});!1===d.allowLoopback&&(e.canDrop=function(a){return a.getDragElement()._jsPlumbRelatedElement!==
b.el});g.initDroppable(b.el,e,"internal");return f};this.makeTarget=function(b,c,d){var e=a.jsPlumb.extend({_jsPlumb:this},d);a.jsPlumb.extend(e,c);var f=e.maxConnections||-1;c=function(b){var c=v(b),d=c.id,l=a.jsPlumb.extend({},e.dropOptions||{}),m=e.connectionType||"default";this.targetEndpointDefinitions[d]=this.targetEndpointDefinitions[d]||{};hb(d);c.el._isJsPlumbGroup&&null==l.rank&&(l.rank=-1);var q={def:a.jsPlumb.extend({},e),uniqueEndpoint:e.uniqueEndpoint,maxConnections:f,enabled:!0};e.createEndpoint&&
(q.uniqueEndpoint=!0,q.endpoint=g.addEndpoint(b,q.def),q.endpoint.setDeleteOnEmpty(!1));c.def=q;this.targetEndpointDefinitions[d][m]=q;Rb(c,e,l,!0===e.isSource,!0);c.el._katavorioDrop[c.el._katavorioDrop.length-1].targetDef=q}.bind(this);b=b.length&&b.constructor!==String?b:[b];d=0;for(var l=b.length;d<l;d++)c(b[d]);return this};this.unmakeTarget=function(a,b){a=v(a);g.destroyDroppable(a.el,"internal");b||delete this.targetEndpointDefinitions[a.id];return this};this.makeSource=function(b,d,e){var f=
a.jsPlumb.extend({_jsPlumb:this},e);a.jsPlumb.extend(f,d);var l=f.connectionType||"default";d=g.deriveEndpointAndAnchorSpec(l);f.endpoint=f.endpoint||d.endpoints[0];f.anchor=f.anchor||d.anchors[0];var m=f.maxConnections||-1,q=f.onMaxConnections;d=function(d){var e=d.id,r=this.getElement(d.el);this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[e]||{};hb(e);var u={def:a.jsPlumb.extend({},f),uniqueEndpoint:f.uniqueEndpoint,maxConnections:m,enabled:!0};f.createEndpoint&&(u.uniqueEndpoint=
!0,u.endpoint=g.addEndpoint(b,u.def),u.endpoint.setDeleteOnEmpty(!1));this.sourceEndpointDefinitions[e][l]=u;d.def=u;var t=a.jsPlumb.dragEvents.stop,B=a.jsPlumb.dragEvents.drag,v=a.jsPlumb.extend({},f.dragOptions||{}),A=v.drag,C=v.stop,D=null,H=!1;v.scope=v.scope||f.scope;v[B]=c.wrap(v[B],function(){A&&A.apply(this,arguments);H=!1});v[t]=c.wrap(v[t],function(){C&&C.apply(this,arguments);this.currentlyDragging=!1;if(null!=D._jsPlumb){var a=D.anchor,b=D.connections[0],c=this.makeAnchor(f.anchor||this.Defaults.Anchor,
e,this),d=D.element;if(null!=c.positionFinder){var l=g.getOffset(d);d=this.getSize(d);a=c.positionFinder({left:l.left+a.x*d[0],top:l.top+a.y*d[1]},l,d,c.constructorParams);c.x=a[0];c.y=a[1]}D.setAnchor(c,!0);D.repaint();this.repaint(D.elementId);null!=b&&this.repaint(b.targetId)}}.bind(this));t=function(b){if(3!==b.which&&2!==b.button){var u=this.sourceEndpointDefinitions[e][l];if(u.enabled&&(e=this.getId(this.getElement(d.el)),!f.filter||!1!==(c.isString(f.filter)?Zb(b,d.el,f.filter,this,f.filterExclude):
f.filter(b,d.el)))){var t=this.select({source:e}).length;if(0<=u.maxConnections&&t>=u.maxConnections)return q&&q({element:d.el,maxConnections:m},b),!1;t=a.jsPlumb.getPositionOnElement(b,r,z);var B={};a.jsPlumb.extend(B,f);B.isTemporarySource=!0;B.anchor=[t[0],t[1],0,0];B.dragOptions=v;u.def.scope&&(B.scope=u.def.scope);D=this.addEndpoint(e,B);H=!0;D.setDeleteOnEmpty(!0);u.uniqueEndpoint&&(u.endpoint?D.finalEndpoint=u.endpoint:(u.endpoint=D,D.setDeleteOnEmpty(!1)));var A=function(){g.off(D.canvas,
"mouseup",A);g.off(d.el,"mouseup",A);H&&(H=!1,g.deleteEndpoint(D))};g.on(D.canvas,"mouseup",A);g.on(d.el,"mouseup",A);t={};if(u.def.extract)for(var C in u.def.extract)(B=(b.srcElement||b.target).getAttribute(C))&&(t[u.def.extract[C]]=B);g.trigger(D.canvas,"mousedown",b,t);c.consume(b)}}}.bind(this);this.on(d.el,"mousedown",t);u.trigger=t;f.filter&&(c.isString(f.filter)||c.isFunction(f.filter))&&g.setDragFilter(d.el,f.filter);u=a.jsPlumb.extend({},f.dropOptions||{});Rb(d,f,u,!0,!0===f.isTarget)}.bind(this);
e=b.length&&b.constructor!==String?b:[b];for(var r=0,u=e.length;r<u;r++)d(v(e[r]));return this};this.unmakeSource=function(a,b,c){a=v(a);g.destroyDroppable(a.el,"internal");var d=this.sourceEndpointDefinitions[a.id];if(d)for(var e in d)if(null==b||b===e){var f=d[e].trigger;f&&g.off(a.el,"mousedown",f);c||delete this.sourceEndpointDefinitions[a.id][e]}return this};this.unmakeEverySource=function(){for(var a in this.sourceEndpointDefinitions)g.unmakeSource(a,null,!0);this.sourceEndpointDefinitions=
{};return this};var pb=function(a,b,d){b=c.isArray(b)?b:[b];a=V(a);d=d||"default";for(var e=0;e<b.length;e++){var g=this[b[e]][a];if(g&&g[d])return g[d].def.scope||this.Defaults.Scope}}.bind(this),Wa=function(a,b,d,e){d=c.isArray(d)?d:[d];a=V(a);e=e||"default";for(var g=0;g<d.length;g++){var f=this[d[g]][a];f&&f[e]&&(f[e].def.scope=b)}}.bind(this);this.getScope=function(a,b){return pb(a,["sourceEndpointDefinitions","targetEndpointDefinitions"])};this.getSourceScope=function(a){return pb(a,"sourceEndpointDefinitions")};
this.getTargetScope=function(a){return pb(a,"targetEndpointDefinitions")};this.setScope=function(a,b,c){this.setSourceScope(a,b,c);this.setTargetScope(a,b,c)};this.setSourceScope=function(a,b,c){Wa(a,b,"sourceEndpointDefinitions",c);this.setDragScope(a,b)};this.setTargetScope=function(a,b,c){Wa(a,b,"targetEndpointDefinitions",c);this.setDropScope(a,b)};this.unmakeEveryTarget=function(){for(var a in this.targetEndpointDefinitions)g.unmakeTarget(a,!0);this.targetEndpointDefinitions={};return this};
var Db=function(a,b,d,e,f){var l="source"===a?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;f=f||"default";if(b.length&&!c.isString(b)){var m=[];for(var q=0,r=b.length;q<r;q++){var u=v(b[q]);if(l[u.id]&&l[u.id][f]){m[q]=l[u.id][f].enabled;var z=e?!m[q]:d;l[u.id][f].enabled=z;g[z?"removeClass":"addClass"](u.el,"jtk-"+a+"-disabled")}}}else u=v(b),b=u.id,l[b]&&l[b][f]&&(m=l[b][f].enabled,z=e?!m:d,l[b][f].enabled=z,g[z?"removeClass":"addClass"](u.el,"jtk-"+a+"-disabled"));return m}.bind(this),
qb=function(a,b){if(c.isString(a)||!a.length)return b.apply(this,[a]);if(a.length)return b.apply(this,[a[0]])}.bind(this);this.toggleSourceEnabled=function(a,b){Db("source",a,null,!0,b);return this.isSourceEnabled(a,b)};this.setSourceEnabled=function(a,b,c){return Db("source",a,b,null,c)};this.isSource=function(a,b){b=b||"default";return qb(a,function(a){a=this.sourceEndpointDefinitions[v(a).id];return null!=a&&null!=a[b]}.bind(this))};this.isSourceEnabled=function(a,b){b=b||"default";return qb(a,
function(a){return(a=this.sourceEndpointDefinitions[v(a).id])&&a[b]&&!0===a[b].enabled}.bind(this))};this.toggleTargetEnabled=function(a,b){Db("target",a,null,!0,b);return this.isTargetEnabled(a,b)};this.isTarget=function(a,b){b=b||"default";return qb(a,function(a){a=this.targetEndpointDefinitions[v(a).id];return null!=a&&null!=a[b]}.bind(this))};this.isTargetEnabled=function(a,b){b=b||"default";return qb(a,function(a){return(a=this.targetEndpointDefinitions[v(a).id])&&a[b]&&!0===a[b].enabled}.bind(this))};
this.setTargetEnabled=function(a,b,c){return Db("target",a,b,null,c)};this.ready=function(a){g.bind("ready",a)};var wb=function(a,b){if("object"===typeof a&&a.length)for(var c=0,d=a.length;c<d;c++)b(a[c]);else b(a);return g};this.repaint=function(a,b,c){return wb(a,function(a){fa(a,b,c)})};this.revalidate=function(a,b,c){return wb(a,function(a){var d=c?a:g.getId(a);g.updateOffset({elId:d,recalc:!0,timestamp:b});var e=g.getDragManager();e&&e.updateOffsets(d);g.repaint(a)})};this.repaintEverything=
function(){var a=e(),b;for(b in J)g.updateOffset({elId:b,recalc:!0,timestamp:a});for(b in J)fa(b,null,a);return this};this.removeAllEndpoints=function(a,b,c){c=c||[];var d=function(a){a=v(a);var e=J[a.id],f;if(e){c.push(a);var l=0;for(f=e.length;l<f;l++)g.deleteEndpoint(e[l],!1)}delete J[a.id];if(b&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(l=0,f=a.el.childNodes.length;l<f;l++)d(a.el.childNodes[l])};d(a);return this};var Vb=function(a,b){g.removeAllEndpoints(a.id,!0,b);for(var c=g.getDragManager(),
d=function(a){c&&c.elementRemoved(a.id);g.anchorManager.clearFor(a.id);g.anchorManager.removeFloatingConnection(a.id);g.isSource(a.el)&&g.unmakeSource(a.el);g.isTarget(a.el)&&g.unmakeTarget(a.el);g.destroyDraggable(a.el);g.destroyDroppable(a.el);delete g.floatingConnections[a.id];delete ba[a.id];delete T[a.id];a.el&&(g.removeElement(a.el),a.el._jsPlumb=null)},e=1;e<b.length;e++)d(b[e]);d(a)};this.remove=function(a,b){var c=v(a),d=[];c.text?c.el.parentNode.removeChild(c.el):c.id&&g.batch(function(){Vb(c,
d)},!0===b);return g};this.empty=function(a,b){var c=[],d=function(a,b){a=v(a);if(a.text)a.el.parentNode.removeChild(a.el);else if(a.el){for(;0<a.el.childNodes.length;)d(a.el.childNodes[0]);b||Vb(a,c)}};g.batch(function(){d(a,!0)},!1===b);return g};this.reset=function(a){g.silently(function(){Ub=!1;g.removeAllGroups();g.removeGroupManager();g.deleteEveryEndpoint();a||g.unbind();this.targetEndpointDefinitions={};this.sourceEndpointDefinitions={};X.length=0;this.doReset&&this.doReset()}.bind(this))};
var Cb=function(a){a.canvas&&a.canvas.parentNode&&a.canvas.parentNode.removeChild(a.canvas);a.cleanup();a.destroy()};this.clear=function(){g.select().each(Cb);g.selectEndpoints().each(Cb);J={};S={}};this.setDefaultScope=function(a){oa=a;return g};this.setDraggable=function(a,c){return b.each(a,function(a){g.isDragSupported(a)&&(ta[g.getAttribute(a,"id")]=c,g.setElementDraggable(a,c))})};this.deriveEndpointAndAnchorSpec=function(a,b){a=((b?"":"default ")+a).split(/[\s]/);for(var c=b=null,d=null,e=
null,f=0;f<a.length;f++){var l=g.getType(a[f],"connection");l&&(l.endpoints&&(b=l.endpoints),l.endpoint&&(c=l.endpoint),l.anchors&&(e=l.anchors),l.anchor&&(d=l.anchor))}return{endpoints:b?b:[c,c],anchors:e?e:[d,d]}};this.setId=function(a,b,d){if(c.isString(a))var e=a;else a=this.getElement(a),e=this.getId(a);var g=this.getConnections({source:e,scope:"*"},!0),f=this.getConnections({target:e,scope:"*"},!0);b=""+b;d?a=this.getElement(b):(a=this.getElement(e),this.setAttribute(a,"id",b));J[b]=J[e]||[];
d=0;for(var l=J[b].length;d<l;d++)J[b][d].setElementId(b),J[b][d].setReferenceElement(a);delete J[e];this.sourceEndpointDefinitions[b]=this.sourceEndpointDefinitions[e];delete this.sourceEndpointDefinitions[e];this.targetEndpointDefinitions[b]=this.targetEndpointDefinitions[e];delete this.targetEndpointDefinitions[e];this.anchorManager.changeId(e,b);(d=this.getDragManager())&&d.changeId(e,b);ba[b]=ba[e];delete ba[e];e=function(c,d,e){for(var g=0,f=c.length;g<f;g++)c[g].endpoints[d].setElementId(b),
c[g].endpoints[d].setReferenceElement(a),c[g][e+"Id"]=b,c[g][e]=a};e(g,0,"source");e(f,1,"target");this.repaint(b)};this.setDebugLog=function(a){R=a};this.setSuspendDrawing=function(a,b){var c=ia;va=(ia=a)?(new Date).getTime():null;b&&this.repaintEverything();return c};this.isSuspendDrawing=function(){return ia};this.getSuspendedAt=function(){return va};this.doWhileSuspended=this.batch=function(a,b){var d=this.isSuspendDrawing();d||this.setSuspendDrawing(!0);try{a()}catch(db){c.log("Function run while suspended failed",
db)}d||this.setSuspendDrawing(!1,!b)};this.getCachedData=function(a){var b=T[a];return b?{o:b,s:Ha[a]}:Na({elId:a})};this.timestamp=e;this.show=function(a,b){N(a,"block",b);return g};this.toggleVisible=function(a,b){var c=null;b&&(c=function(a){var b=a.isVisible();a.setVisible(!b)});Ka(a,function(a){var b=a.isVisible();a.setVisible(!b)},c)};this.toggleDraggable=function(a){var c;b.each(a,function(a){var b=g.getAttribute(a,"id");c=null==ta[b]?!1:ta[b];c=!c;ta[b]=c;g.setDraggable(a,c);return c}.bind(this));
return c};this.addListener=this.bind;var Wb=[];this.registerFloatingConnection=function(a,b,d){Wb[a.id]=b;c.addToList(J,a.id,d)};this.getFloatingConnectionFor=function(a){return Wb[a]}};c.extend(a.jsPlumbInstance,c.EventGenerator,{setAttribute:function(a,b,c){this.setAttribute(a,b,c)},getAttribute:function(b,c){return this.getAttribute(a.jsPlumb.getElement(b),c)},convertToFullOverlaySpec:function(a){c.isString(a)&&(a=[a,{}]);a[1].id=a[1].id||c.uuid();return a},registerConnectionType:function(b,c){this._connectionTypes[b]=
a.jsPlumb.extend({},c);if(c.overlays){for(var d={},e=0;e<c.overlays.length;e++){var g=this.convertToFullOverlaySpec(c.overlays[e]);d[g[1].id]=g}this._connectionTypes[b].overlays=d}},registerConnectionTypes:function(a){for(var b in a)this.registerConnectionType(b,a[b])},registerEndpointType:function(b,c){this._endpointTypes[b]=a.jsPlumb.extend({},c);if(c.overlays){for(var d={},e=0;e<c.overlays.length;e++){var g=this.convertToFullOverlaySpec(c.overlays[e]);d[g[1].id]=g}this._endpointTypes[b].overlays=
d}},registerEndpointTypes:function(a){for(var b in a)this.registerEndpointType(b,a[b])},getType:function(a,b){return"connection"===b?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,!0)},setParent:function(a,b){a=this.getElement(a);var c=this.getId(a);b=this.getElement(b);var d=this.getId(b),e=this.getDragManager();a.parentNode.removeChild(a);b.appendChild(a);e&&e.setParent(a,c,b,d)},extend:function(a,b,c){var d;if(c)for(d=0;d<c.length;d++)a[c[d]]=b[c[d]];
else for(d in b)a[d]=b[d];return a},floatingConnections:{},getFloatingAnchorIndex:function(a){return a.endpoints[0].isFloating()?0:a.endpoints[1].isFloating()?1:-1}});v.prototype.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,
null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};var b=new v;a.jsPlumb=b;b.getInstance=function(a,b){a=new v(a);if(b)for(var c in b)a[c]=b[c];a.init();return a};b.each=function(a,c){if(null!=a)if("string"===typeof a)c(b.getElement(a));else if(null!=a.length)for(var d=0;d<a.length;d++)c(b.getElement(a[d]));else c(a)};"undefined"!==typeof exports&&
(exports.jsPlumb=b)}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumbUtil,c=function(a,c){if(null==c)return[0,0];c=c.touches&&0<c.touches.length?c.touches:c.changedTouches&&0<c.changedTouches.length?c.changedTouches:c.targetTouches&&0<c.targetTouches.length?c.targetTouches:[c];c=c.item?c.item(0):c[0];return[c[a+"X"],c[a+"Y"]]},e=c.bind(this,"page"),m=c.bind(this,"screen");c=c.bind(this,"client");var l=function(a){var c={},e=[],f={},l={},b={};this.register=function(d){var g=a.getId(d),m=a.getOffset(d);c[g]||(c[g]=d,e.push(d),f[g]={});var q=
function(c){if(c)for(var d=0;d<c.childNodes.length;d++)if(3!==c.childNodes[d].nodeType&&8!==c.childNodes[d].nodeType){var e=jsPlumb.getElement(c.childNodes[d]),r=a.getId(c.childNodes[d],null,!0);r&&l[r]&&0<l[r]&&(e=a.getOffset(e),f[g][r]={id:r,offset:{left:e.left-m.left,top:e.top-m.top}},b[r]=g);q(c.childNodes[d])}};q(d)};this.updateOffsets=function(c,e){if(null!=c){e=e||{};var d=jsPlumb.getElement(c);c=a.getId(d);var g=f[c];d=a.getOffset(d);if(g)for(var l in g)if(g.hasOwnProperty(l)){var m=jsPlumb.getElement(l),
q=e[l]||a.getOffset(m);if(null!=m.offsetParent||null==f[c][l])f[c][l]={id:l,offset:{left:q.left-d.left,top:q.top-d.top}},b[l]=c}}};this.endpointAdded=function(d,e){e=e||a.getId(d);var g=document.body,m=d.parentNode;for(l[e]=l[e]?l[e]+1:1;null!=m&&m!==g;){var q=a.getId(m,null,!0);if(q&&c[q]){g=a.getOffset(m);null==f[q][e]&&(d=a.getOffset(d),f[q][e]={id:e,offset:{left:d.left-g.left,top:d.top-g.top}},b[e]=q);break}m=m.parentNode}};this.endpointDeleted=function(a){if(l[a.elementId]&&(l[a.elementId]--,
0>=l[a.elementId]))for(var c in f)f.hasOwnProperty(c)&&f[c]&&(delete f[c][a.elementId],delete b[a.elementId])};this.changeId=function(a,c){f[c]=f[a];f[a]={};b[c]=b[a];b[a]=null};this.getElementsForDraggable=function(a){return f[a]};this.elementRemoved=function(a){var c=b[a];c&&(delete f[c][a],delete b[a])};this.reset=function(){c={};e=[];f={};l={}};this.dragEnded=function(c){null!=c.offsetParent&&(c=a.getId(c),(c=b[c])&&this.updateOffsets(c))};this.setParent=function(c,e,l,m,q){var d=b[e];f[m]||(f[m]=
{});l=a.getOffset(l);c=q||a.getOffset(c);d&&f[d]&&delete f[d][e];f[m][e]={id:e,offset:{left:c.left-l.left,top:c.top-l.top}};b[e]=m};this.clearParent=function(a,c){if(a=b[c])delete f[a][c],delete b[c]};this.revalidateParent=function(c,e,f){if(c=b[e]){var d={};d[e]=f;this.updateOffsets(c,d);a.revalidate(c)}};this.getDragAncestor=function(c){c=jsPlumb.getElement(c);c=a.getId(c);return(c=b[c])?jsPlumb.getElement(c):null}},f=function(a,c,e){c=null==c?null:c.replace(/^\s\s*/,"").replace(/\s\s*$/,"");"undefined"!==
typeof a.className.baseVal?a.className.baseVal=c:a.className=c;try{for(var f=a.classList;0<f.length;)f.remove(f.item(0));for(a=0;a<e.length;a++)e[a]&&f.add(e[a])}catch(v){console.log("JSPLUMB: cannot set class list",v)}},q=function(a){return"undefined"===typeof a.className.baseVal?a.className:a.className.baseVal},z=function(c,e,l){e=null==e?[]:a.isArray(e)?e:e.split(/\s+/);l=null==l?[]:a.isArray(l)?l:l.split(/\s+/);var m=q(c).split(/\s+/),u=function(a,c){for(var b=0;b<c.length;b++)if(a)-1===m.indexOf(c[b])&&
m.push(c[b]);else{var d=m.indexOf(c[b]);-1!==d&&m.splice(d,1)}};u(!0,e);u(!1,l);f(c,m.join(" "),m)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:e,screenLocation:m,clientLocation:c,getDragManager:function(){null==this.dragManager&&(this.dragManager=new l(this));return this.dragManager},recalculateOffsets:function(a){this.getDragManager().updateOffsets(a)},createElement:function(a,c,e,f){return this.createElementNS(null,a,c,e,f)},createElementNS:function(a,c,e,f,l){a=
null==a?document.createElement(c):document.createElementNS(a,c);var b;e=e||{};for(b in e)a.style[b]=e[b];f&&(a.className=f);l=l||{};for(b in l)a.setAttribute(b,""+l[b]);return a},getAttribute:function(a,c){return null!=a.getAttribute?a.getAttribute(c):null},setAttribute:function(a,c,e){null!=a.setAttribute&&a.setAttribute(c,e)},setAttributes:function(a,c){for(var e in c)c.hasOwnProperty(e)&&a.setAttribute(e,c[e])},appendToRoot:function(a){document.body.appendChild(a)},getRenderModes:function(){return["svg"]},
getClass:q,addClass:function(a,c){jsPlumb.each(a,function(a){z(a,c)})},hasClass:function(a,c){a=jsPlumb.getElement(a);return a.classList?a.classList.contains(c):-1!==q(a).indexOf(c)},removeClass:function(a,c){jsPlumb.each(a,function(a){z(a,null,c)})},updateClasses:function(a,c,e){jsPlumb.each(a,function(a){z(a,c,e)})},setClass:function(a,c){null!=c&&jsPlumb.each(a,function(a){f(a,c,c.split(/\s+/))})},setPosition:function(a,c){a.style.left=c.left+"px";a.style.top=c.top+"px"},getPosition:function(a){var c=
function(c){return(c=a.style[c])?c.substring(0,c.length-2):0};return{left:c("left"),top:c("top")}},getStyle:function(a,c){return"undefined"!==typeof window.getComputedStyle?getComputedStyle(a,null).getPropertyValue(c):a.currentStyle[c]},getSelector:function(a,c){return 1===arguments.length?null!=a.nodeType?a:document.querySelectorAll(a):a.querySelectorAll(c)},getOffset:function(a,c,e){a=jsPlumb.getElement(a);e=e||this.getContainer();for(var f={left:a.offsetLeft,top:a.offsetTop},l=c||null!=e&&a!==
e&&a.offsetParent!==e?a.offsetParent:null,b=function(a){null!=a&&a!==document.body&&(0<a.scrollTop||0<a.scrollLeft)&&(f.left-=a.scrollLeft,f.top-=a.scrollTop)}.bind(this);null!=l;)f.left+=l.offsetLeft,f.top+=l.offsetTop,b(l),l=c?l.offsetParent:l.offsetParent===e?null:l.offsetParent;null!=e&&!c&&(0<e.scrollTop||0<e.scrollLeft)&&(c=null!=a.offsetParent?this.getStyle(a.offsetParent,"position"):"static",a=this.getStyle(a,"position"),"absolute"!==a&&"fixed"!==a&&"absolute"!==c&&"fixed"!==c&&(f.left-=e.scrollLeft,
f.top-=e.scrollTop));return f},getPositionOnElement:function(a,c,e){var f="undefined"!==typeof c.getBoundingClientRect?c.getBoundingClientRect():{left:0,top:0,width:0,height:0},l=document.body,b=document.documentElement,d=f.top+(window.pageYOffset||b.scrollTop||l.scrollTop)-(b.clientTop||l.clientTop||0)+0*e;l=f.left+(window.pageXOffset||b.scrollLeft||l.scrollLeft)-(b.clientLeft||l.clientLeft||0)+0*e;a=jsPlumb.pageLocation(a);return[(a[0]-l)/(f.width||c.offsetWidth*e),(a[1]-d)/(f.height||c.offsetHeight*
e)]},getAbsolutePosition:function(a){var c=function(c){if(c=a.style[c])return parseFloat(c.substring(0,c.length-2))};return[c("left"),c("top")]},setAbsolutePosition:function(a,c,e,f){e?this.animate(a,{left:"+="+(c[0]-e[0]),top:"+="+(c[1]-e[1])},f):(a.style.left=c[0]+"px",a.style.top=c[1]+"px")},getSize:function(a){return[a.offsetWidth,a.offsetHeight]},getWidth:function(a){return a.offsetWidth},getHeight:function(a){return a.offsetHeight},getRenderMode:function(){return"svg"}})}).call("undefined"!==
typeof window?window:this);
(function(){var a=this,c=a.jsPlumb,e=a.jsPlumbUtil;c.OverlayCapableJsPlumbUIComponent=function(c){a.jsPlumbUIComponent.apply(this,arguments);this._jsPlumb.overlays={};this._jsPlumb.overlayPositions={};c.label&&(this.getDefaultType().overlays.__label=["Label",{label:c.label,location:c.labelLocation||this.defaultLabelLocation||.5,labelStyle:c.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]);this.setListenerComponent=function(a){if(this._jsPlumb)for(var c in this._jsPlumb.overlays)this._jsPlumb.overlays[c].setListenerComponent(a)}};c.OverlayCapableJsPlumbUIComponent.applyType=
function(a,c){if(c.overlays){var e={},l;for(l in c.overlays){var m=a._jsPlumb.overlays[c.overlays[l][1].id];m?(m.updateFrom(c.overlays[l][1]),e[c.overlays[l][1].id]=!0):(m=a.getCachedTypeItem("overlay",c.overlays[l][1].id),null!=m?(m.reattach(a._jsPlumb.instance,a),m.setVisible(!0),m.updateFrom(c.overlays[l][1]),a._jsPlumb.overlays[m.id]=m):m=a.addOverlay(c.overlays[l],!0),e[m.id]=!0)}for(l in a._jsPlumb.overlays)null==e[a._jsPlumb.overlays[l].id]&&a.removeOverlay(a._jsPlumb.overlays[l].id,!0)}};
e.extend(c.OverlayCapableJsPlumbUIComponent,a.jsPlumbUIComponent,{setHover:function(a,c){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e][a?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(a,l){if(e.isArray(a)){var f=a[0],m=c.extend({component:this,_jsPlumb:this._jsPlumb.instance},a[1]);3===a.length&&c.extend(m,a[2]);a=new (c.Overlays[this._jsPlumb.instance.getRenderMode()][f])(m)}else a=
a.constructor===String?new (c.Overlays[this._jsPlumb.instance.getRenderMode()][a])({component:this,_jsPlumb:this._jsPlumb.instance}):a;a.id=a.id||e.uuid();this.cacheTypeItem("overlay",a,a.id);this._jsPlumb.overlays[a.id]=a;l||this.repaint();return a},getOverlay:function(a){return this._jsPlumb.overlays[a]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){(a=this.getOverlay(a))&&a.hide()},hideOverlays:function(){for(var a in this._jsPlumb.overlays)this._jsPlumb.overlays[a].hide()},
showOverlay:function(a){(a=this.getOverlay(a))&&a.show()},showOverlays:function(){for(var a in this._jsPlumb.overlays)this._jsPlumb.overlays[a].show()},removeAllOverlays:function(a){for(var c in this._jsPlumb.overlays)this._jsPlumb.overlays[c].cleanup&&this._jsPlumb.overlays[c].cleanup();this._jsPlumb.overlays={};this._jsPlumb.overlayPositions=null;a||this.repaint()},removeOverlay:function(a,c){var e=this._jsPlumb.overlays[a];e&&(e.setVisible(!1),!c&&e.cleanup&&e.cleanup(),delete this._jsPlumb.overlays[a],
this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[a])},removeOverlays:function(){for(var a=0,c=arguments.length;a<c;a++)this.removeOverlay(arguments[a])},moveParent:function(a){this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),a.appendChild(this.bgCanvas));if(this.canvas&&this.canvas.parentNode){this.canvas.parentNode.removeChild(this.canvas);a.appendChild(this.canvas);for(var c in this._jsPlumb.overlays)if(this._jsPlumb.overlays[c].isAppendedAtTopLevel){var e=
this._jsPlumb.overlays[c].getElement();e.parentNode.removeChild(e);a.appendChild(e)}}},getLabel:function(){var a=this.getOverlay("__label");return null!=a?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(a){var e=this.getOverlay("__label");e?a.constructor===String||a.constructor===Function?e.setLabel(a):(a.label&&e.setLabel(a.label),a.location&&e.setLocation(a.location)):(a=a.constructor===String||a.constructor===Function?{label:a}:a,a=c.extend({cssClass:a.cssClass,
labelStyle:this.labelStyle,id:"__label",component:this,_jsPlumb:this._jsPlumb.instance},a),e=new (c.Overlays[this._jsPlumb.instance.getRenderMode()].Label)(a),this._jsPlumb.overlays.__label=e);this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(a){for(var c in this._jsPlumb.overlays)this._jsPlumb.overlays[c].cleanup(a),this._jsPlumb.overlays[c].destroy(a);a&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(a){this[a?"showOverlays":"hideOverlays"]()},
setAbsoluteOverlayPosition:function(a,c){this._jsPlumb.overlayPositions[a.id]=c},getAbsoluteOverlayPosition:function(a){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[a.id]:null},_clazzManip:function(a,c,e){if(!e)for(var f in this._jsPlumb.overlays)this._jsPlumb.overlays[f][a+"Class"](c)},addClass:function(a,c){this._clazzManip("add",a,c)},removeClass:function(a,c){this._clazzManip("remove",a,c)}})}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil,e=function(a,c,e){var f=!1;return{drag:function(){if(f)return f=!1,!0;if(c.element){var l=e.getUIPosition(arguments,e.getZoom());null!=l&&e.setPosition(c.element,l);e.repaint(c.element,l);a.paint({anchorPoint:a.anchor.getCurrentLocation({element:a})})}},stopDrag:function(){f=!0}}},m="connectorStyle connectorHoverStyle connectorOverlays connector connectionType connectorClass connectorHoverClass".split(" ");a.Endpoint=function(l){var f=l._jsPlumb,q=
l.newConnection,z=l.newEndpoint;this.idPrefix="_jsplumb_e_";this.defaultLabelLocation=[.5,.5];this.defaultOverlayKeys=["Overlays","EndpointOverlays"];a.OverlayCapableJsPlumbUIComponent.apply(this,arguments);this.appendToDefaultType({connectionType:l.connectionType,maxConnections:null==l.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:l.maxConnections,paintStyle:l.endpointStyle||l.paintStyle||l.style||this._jsPlumb.instance.Defaults.EndpointStyle||a.Defaults.EndpointStyle,hoverPaintStyle:l.endpointHoverStyle||
l.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||a.Defaults.EndpointHoverStyle,connectorStyle:l.connectorStyle,connectorHoverStyle:l.connectorHoverStyle,connectorClass:l.connectorClass,connectorHoverClass:l.connectorHoverClass,connectorOverlays:l.connectorOverlays,connector:l.connector,connectorTooltip:l.connectorTooltip});this._jsPlumb.enabled=!1!==l.enabled;this._jsPlumb.visible=!0;this.element=a.getElement(l.source);this._jsPlumb.uuid=l.uuid;this._jsPlumb.floatingEndpoint=
null;this._jsPlumb.uuid&&(l.endpointsByUUID[this._jsPlumb.uuid]=this);this.elementId=l.elementId;this.dragProxy=l.dragProxy;this._jsPlumb.connectionCost=l.connectionCost;this._jsPlumb.connectionsDirected=l.connectionsDirected;this._jsPlumb.currentAnchorClass="";this._jsPlumb.events={};var B=!0===l.deleteOnEmpty;this.setDeleteOnEmpty=function(a){B=a};var u=function(){var b=f.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var c=
f.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(b);this.addClass(c);a.updateClasses(this.element,c,b)}.bind(this);this.prepareAnchor=function(a){a=this._jsPlumb.instance.makeAnchor(a,this.elementId,f);a.bind("anchorChanged",function(a){this.fire("anchorChanged",{endpoint:this,anchor:a});u()}.bind(this));return a};this.setPreparedAnchor=function(a,c){this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId);this.anchor=
a;u();c||this._jsPlumb.instance.repaint(this.elementId);return this};this.setAnchor=function(a,c){a=this.prepareAnchor(a);this.setPreparedAnchor(a,c);return this};var C=function(a){if(0<this.connections.length)for(var b=0;b<this.connections.length;b++)this.connections[b].setHover(a,!1);else this.setHover(a)}.bind(this);this.bind("mouseover",function(){C(!0)});this.bind("mouseout",function(){C(!1)});l._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId);this.prepareEndpoint=function(b,
d){var e=function(b,c){var d=f.getRenderMode();if(a.Endpoints[d][b])return new a.Endpoints[d][b](c);if(!f.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+b+"'"};},m={_jsPlumb:this._jsPlumb.instance,cssClass:l.cssClass,container:l.container,tooltip:l.tooltip,connectorTooltip:l.connectorTooltip,endpoint:this};if(c.isString(b))var q=e(b,m);else c.isArray(b)?(m=c.merge(b[1],m),q=e(b[0],m)):q=b.clone();q.clone=function(){if(c.isString(b))return e(b,m);if(c.isArray(b))return m=c.merge(b[1],
m),e(b[0],m)}.bind(this);q.typeId=d;return q};this.setEndpoint=function(a,c){a=this.prepareEndpoint(a);this.setPreparedEndpoint(a,!0)};this.setPreparedEndpoint=function(a,c){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy());this.endpoint=a;this.type=this.endpoint.type;this.canvas=this.endpoint.canvas};a.extend(this,l,m);this.isSource=l.isSource||!1;this.isTemporarySource=l.isTemporarySource||!1;this.isTarget=l.isTarget||!1;this.connections=l.connections||[];this.connectorPointerEvents=
l["connector-pointer-events"];this.scope=l.scope||f.getDefaultScope();this.timestamp=null;this.reattachConnections=l.reattach||f.Defaults.ReattachConnections;this.connectionsDetachable=f.Defaults.ConnectionsDetachable;if(!1===l.connectionsDetachable||!1===l.detachable)this.connectionsDetachable=!1;this.dragAllowedWhenFull=!1!==l.dragAllowedWhenFull;l.onMaxConnections&&this.bind("maxConnections",l.onMaxConnections);this.addConnection=function(a){this.connections.push(a);this[(0<this.connections.length?
"add":"remove")+"Class"](f.endpointConnectedClass);this[(this.isFull()?"add":"remove")+"Class"](f.endpointFullClass)};this.detachFromConnection=function(a,c,e){c=null==c?this.connections.indexOf(a):c;0<=c&&(this.connections.splice(c,1),this[(0<this.connections.length?"add":"remove")+"Class"](f.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](f.endpointFullClass));!e&&B&&0===this.connections.length&&f.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==e})};this.deleteEveryConnection=
function(a){for(var b=this.connections.length,c=0;c<b;c++)f.deleteConnection(this.connections[0],a)};this.detachFrom=function(a,c,e){c=[];for(e=0;e<this.connections.length;e++)this.connections[e].endpoints[1]!==a&&this.connections[e].endpoints[0]!==a||c.push(this.connections[e]);a=0;for(e=c.length;a<e;a++)f.deleteConnection(c[0]);return this};this.getElement=function(){return this.element};this.setElement=function(b){var d=this._jsPlumb.instance.getId(b),e=this.elementId;c.removeWithFunction(l.endpointsByElement[this.elementId],
function(a){return a.id===this.id}.bind(this));this.element=a.getElement(b);this.elementId=f.getId(this.element);f.anchorManager.rehomeEndpoint(this,e,this.element);f.dragManager.endpointAdded(this.element);c.addToList(l.endpointsByElement,d,this);return this};this.makeInPlaceCopy=function(){var a=this.anchor.getCurrentLocation({element:this}),c=this.anchor.getOrientation(this),e=this.anchor.getCssClass();return z({dropOptions:l.dropOptions,anchor:{bind:function(){},compute:function(){return[a[0],
a[1]]},getCurrentLocation:function(){return[a[0],a[1]]},getOrientation:function(){return c},getCssClass:function(){return e}},source:this.element,paintStyle:this.getPaintStyle(),endpoint:l.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})};this.connectorSelector=function(){return this.connections[0]};this.setStyle=this.setPaintStyle;this.paint=function(a){a=a||{};var b=a.timestamp,c=!1!==a.recalc;if(!b||this.timestamp!==b){var e=f.updateOffset({elId:this.elementId,timestamp:b}),
l=a.offset?a.offset.o:e.o;if(null!=l){var m=a.anchorPoint,q=a.connectorPaintStyle;if(null==m){e={xy:[l.left,l.top],wh:a.dimensions||e.s,element:this,timestamp:b};if(c&&this.anchor.isDynamic&&0<this.connections.length){a=a.elementWithPrecedence;c=0;if(null!=a)for(l=0;l<this.connections.length;l++)if(this.connections[l].sourceId===a||this.connections[l].targetId===a){c=l;break}a=this.connections[c];c=a.endpoints[0]===this?1:0;m=f.getCachedData(0===c?a.sourceId:a.targetId);l=m.o;m=m.s;e.index=0===c?
1:0;e.connection=a;e.txy=[l.left,l.top];e.twh=m;e.tElement=a.endpoints[c]}else 0<this.connections.length&&(e.connection=this.connections[0]);m=this.anchor.compute(e)}this.endpoint.compute(m,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,q||this.paintStyleInUse);this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor);this.timestamp=b;for(var u in this._jsPlumb.overlays)this._jsPlumb.overlays.hasOwnProperty(u)&&(b=this._jsPlumb.overlays[u],b.isVisible()&&(this._jsPlumb.overlayPlacements[u]=
b.draw(this.endpoint,this._jsPlumb.paintStyleInUse),b.paint(this._jsPlumb.overlayPlacements[u])))}}};this.getTypeDescriptor=function(){return"endpoint"};this.isVisible=function(){return this._jsPlumb.visible};this.repaint=this.paint;var A=!1;this.initDraggable=function(){if(!A&&a.isDragSupported(this.element)){var b={id:null,element:null},d=null,g=!1,m=null,u=e(this,b,f),v=l.dragOptions||{},B=a.dragEvents.start,C=a.dragEvents.stop,M=a.dragEvents.drag,Z=a.dragEvents.beforeStart,G,R=function(c){d=this.connectorSelector();
var e=!0;this.isEnabled()||(e=!1);null!=d||this.isSource||this.isTemporarySource||(e=!1);!this.isSource||!this.isFull()||null!=d&&this.dragAllowedWhenFull||(e=!1);null==d||d.isDetachable(this)||(e=!1);c=f.checkCondition(null==d?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:d});!1===c?e=!1:"object"===typeof c?a.extend(c,G||{}):c=G||{};if(!1===e)return f.stopDrag&&f.stopDrag(this.canvas),u.stopDrag(),!1;for(e=0;e<this.connections.length;e++)this.connections[e].setHover(!1);
this.addClass("endpointDrag");f.setConnectionBeingDragged(!0);d&&!this.isFull()&&this.isSource&&(d=null);f.updateOffset({elId:this.elementId});var r=this._jsPlumb.instance.getOffset(this.canvas);e=this.canvas;var v=this._jsPlumb.instance.getSize(this.canvas),B=f.createElement("div",{position:"absolute"});f.appendElement(B);var A=f.getId(B);f.setPosition(B,r);B.style.width=v[0]+"px";B.style.height=v[1]+"px";f.manage(A,B,!0);b.id=A;b.element=B;f.setAttributes(this.canvas,{dragId:b.id,elId:this.elementId});
A=this.dragProxy||this.endpoint;null==this.dragProxy&&null!=this.connectionType&&(r=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType),r.endpoints[1]&&(A=r.endpoints[1]));B=this._jsPlumb.instance.makeAnchor("Center");B.isFloating=!0;r=this._jsPlumb;v=this.getPaintStyle();var C=b.element,D=this.scope;B=new a.FloatingAnchor({reference:B,referenceCanvas:this.canvas,jsPlumbInstance:f});v=z({paintStyle:v,endpoint:A,anchor:B,source:C,scope:D});r.floatingEndpoint=v;r=this._jsPlumb.floatingEndpoint.anchor;
null==d?(this.setHover(!1,!1),d=q({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:b.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:l.connectorStyle,hoverPaintStyle:l.connectorHoverStyle,connector:l.connector,overlays:l.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:l.scope,data:c}),d.pending=!0,d.addClass(f.draggingClass),this._jsPlumb.floatingEndpoint.addClass(f.draggingClass),
this._jsPlumb.floatingEndpoint.anchor=r,f.fire("connectionDrag",d),f.anchorManager.newConnection(d)):(g=!0,d.setHover(!1),c=d.endpoints[0].id===this.id?0:1,this.detachFromConnection(d,null,!0),r=f.getDragScope(e),f.setAttribute(this.canvas,"originalScope",r),f.fire("connectionDrag",d),0===c?(m=[d.source,d.sourceId,e,r],f.anchorManager.sourceChanged(d.endpoints[c].elementId,b.id,d,b.element)):(m=[d.target,d.targetId,e,r],d.target=b.element,d.targetId=b.id,f.anchorManager.updateOtherEndpoint(d.sourceId,
d.endpoints[c].elementId,d.targetId,d)),d.suspendedEndpoint=d.endpoints[c],d.suspendedElement=d.endpoints[c].getElement(),d.suspendedElementId=d.endpoints[c].elementId,d.suspendedElementType=0===c?"source":"target",d.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=d.suspendedEndpoint,d.endpoints[c]=this._jsPlumb.floatingEndpoint,d.addClass(f.draggingClass),this._jsPlumb.floatingEndpoint.addClass(f.draggingClass));f.registerFloatingConnection(b,d,this._jsPlumb.floatingEndpoint);
f.currentlyDragging=!0}.bind(this),I=function(){f.setConnectionBeingDragged(!1);if(d&&null!=d.endpoints){var a=f.getDropEvent(arguments),c=f.getFloatingAnchorIndex(d);d.endpoints[0===c?1:0].anchor.unlock();d.removeClass(f.draggingClass);if(this._jsPlumb&&(d.deleteConnectionNow||d.endpoints[c]===this._jsPlumb.floatingEndpoint)&&g&&d.suspendedEndpoint){0===c?(d.floatingElement=d.source,d.floatingId=d.sourceId,d.floatingEndpoint=d.endpoints[0],d.floatingIndex=0,d.source=m[0],d.sourceId=m[1]):(d.floatingElement=
d.target,d.floatingId=d.targetId,d.floatingEndpoint=d.endpoints[1],d.floatingIndex=1,d.target=m[0],d.targetId=m[1]);var e=this._jsPlumb.floatingEndpoint;f.setDragScope(m[2],m[3]);d.endpoints[c]=d.suspendedEndpoint;d.isReattach()||d._forceReattach||d._forceDetach||!f.deleteConnection(d,{originalEvent:a})?(d.setHover(!1),d._forceDetach=null,d._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(d),d.suspendedEndpoint.addConnection(d),1===c?f.anchorManager.updateOtherEndpoint(d.sourceId,
d.floatingId,d.targetId,d):f.anchorManager.sourceChanged(d.floatingId,d.sourceId,d,d.source),f.repaint(m[1])):f.deleteObject({endpoint:e})}this.deleteAfterDragStop?f.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1});f.fire("connectionDragStop",d,a);d.pending&&f.fire("connectionAborted",d,a);f.currentlyDragging=!1;d.suspendedElement=null;d=d.suspendedEndpoint=null}b&&b.element&&f.remove(b.element,!1,!1);this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),
this._jsPlumb.floatingEndpoint=null)}.bind(this);v=a.extend({},v);v.scope=this.scope||v.scope;v[Z]=c.wrap(v[Z],function(a){G=a.e.payload||{}},!1);v[B]=c.wrap(v[B],R,!1);v[M]=c.wrap(v[M],u.drag);v[C]=c.wrap(v[C],I);v.multipleDrop=!1;v.canDrag=function(){return this.isSource||this.isTemporarySource||0<this.connections.length}.bind(this);f.initDraggable(this.canvas,v,"internal");this.canvas._jsPlumbRelatedElement=this.element;A=!0}};this.setEndpoint(l.endpoint||this._jsPlumb.instance.Defaults.Endpoint||
a.Defaults.Endpoint,!0);this.setAnchor(l.anchor?l.anchor:l.anchors?l.anchors:f.Defaults.Anchor||"Top",!0);var v=["default",l.type||""].join(" ");this.addType(v,l.data,!0);this.canvas=this.endpoint.canvas;this.canvas._jsPlumb=this;this.initDraggable();v=function(b,d,e,m){if(a.isDropSupported(this.element)){var g=l.dropOptions||f.Defaults.DropOptions||a.Defaults.DropOptions;g=a.extend({},g);g.scope=g.scope||this.scope;var q=a.dragEvents.drop,r=a.dragEvents.over,u=a.dragEvents.out,z=this;m=f.EndpointDropHandler({getEndpoint:function(){return z},
jsPlumb:f,enabled:function(){return null!=e?e.isEnabled():!0},isFull:function(){return e.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(a){z.addClass(a)},removeClass:function(a){z.removeClass(a)},isDropAllowed:function(){return z.isDropAllowed.apply(z,arguments)},reference:m,isRedrop:function(a,b){return a.suspendedEndpoint&&b.reference&&a.suspendedEndpoint.id===b.reference.id}});g[q]=c.wrap(g[q],m,!0);g[r]=c.wrap(g[r],function(){var b=
a.getDragObject(arguments);b=f.getAttribute(a.getElement(b),"dragId");b=f.getFloatingConnectionFor(b);if(null!=b){var c=f.getFloatingAnchorIndex(b);if(this.isTarget&&0!==c||b.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===b.suspendedEndpoint.id){var d=f.checkCondition("checkDropAllowed",{sourceEndpoint:b.endpoints[c],targetEndpoint:this,connection:b});this[(d?"add":"remove")+"Class"](f.endpointDropAllowedClass);this[(d?"remove":"add")+"Class"](f.endpointDropForbiddenClass);
b.endpoints[c].anchor.over(this.anchor,this)}}}.bind(this));g[u]=c.wrap(g[u],function(){var b=a.getDragObject(arguments);b=(b=null==b?null:f.getAttribute(a.getElement(b),"dragId"))?f.getFloatingConnectionFor(b):null;if(null!=b){var c=f.getFloatingAnchorIndex(b);if(this.isTarget&&0!==c||b.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===b.suspendedEndpoint.id)this.removeClass(f.endpointDropAllowedClass),this.removeClass(f.endpointDropForbiddenClass),b.endpoints[c].anchor.out()}}.bind(this));
f.initDroppable(b,g,"internal",d)}}.bind(this);this.anchor.isFloating||v(this.canvas,!(l._transient||this.anchor.isFloating),this,l.reference);return this};c.extend(a.Endpoint,a.OverlayCapableJsPlumbUIComponent,{setVisible:function(a,c,e){this._jsPlumb.visible=a;this.canvas&&(this.canvas.style.display=a?"block":"none");this[a?"showOverlays":"hideOverlays"]();if(!c)for(c=0;c<this.connections.length;c++)if(this.connections[c].setVisible(a),!e){var f=this===this.connections[c].endpoints[0]?1:0;1===this.connections[c].endpoints[f].connections.length&&
this.connections[c].endpoints[f].setVisible(a,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(c,e){this.setPaintStyle(c.endpointStyle||c.paintStyle,e);this.setHoverPaintStyle(c.endpointHoverStyle||c.hoverPaintStyle,e);null!=c.maxConnections&&(this._jsPlumb.maxConnections=c.maxConnections);c.scope&&(this.scope=c.scope);a.extend(this,c,m);null!=c.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,c.cssClass);a.OverlayCapableJsPlumbUIComponent.applyType(this,
c)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(a){this._jsPlumb.enabled=a},cleanup:function(){a.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:""));this.anchor=null;this.endpoint.cleanup(!0);this.endpoint.destroy();this.endpoint=null;this._jsPlumb.instance.destroyDraggable(this.canvas,"internal");this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(a){this.endpoint&&
this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(a)},isFull:function(){return 0===this._jsPlumb.maxConnections?!0:!(this.isFloating()||0>this._jsPlumb.maxConnections||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(a){var c=!1;if(a)for(var e=0;e<this.connections.length;e++)if(this.connections[e].endpoints[1]===a||this.connections[e].endpoints[0]===a){c=!0;
break}return c},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(a){this._jsPlumb.connectionCost=a},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(a){this._jsPlumb.connectionsDirected=a},setElementId:function(a){this.elementId=a;this.anchor.elementId=a},setReferenceElement:function(c){this.element=a.getElement(c)},setDragAllowedWhenFull:function(a){this.dragAllowedWhenFull=a},equals:function(a){return this.anchor.equals(a.anchor)},
getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(a){return this.anchor.compute(a)}});this.jsPlumbInstance.prototype.EndpointDropHandler=function(a){return function(e){var f=a.jsPlumb;a.removeClass(f.endpointDropAllowedClass);a.removeClass(f.endpointDropForbiddenClass);var l=f.getDropEvent(arguments),m=f.getDragObject(arguments),u=f.getAttribute(m,"dragId");f.getAttribute(m,"elId");var C=f.getAttribute(m,"originalScope"),A=f.getFloatingConnectionFor(u);if(null!=A){var v=null!=A.suspendedEndpoint;
if(!v||null!=A.suspendedEndpoint._jsPlumb){var b=a.getEndpoint(A);if(null!=b)if(a.isRedrop(A,a))A._forceReattach=!0,A.setHover(!1),a.maybeCleanup&&a.maybeCleanup(b);else{var d=f.getFloatingAnchorIndex(A);if(0===d&&!a.isSource||1===d&&!a.isTarget)a.maybeCleanup&&a.maybeCleanup(b);else{if(a.onDrop)a.onDrop(A);C&&f.setDragScope(m,C);(m=a.isFull(e))&&b.fire("maxConnections",{endpoint:this,connection:A,maxConnections:b._jsPlumb.maxConnections},l);if(!m&&a.enabled()){m=!0;0===d?(A.floatingElement=A.source,
A.floatingId=A.sourceId,A.floatingEndpoint=A.endpoints[0],A.floatingIndex=0,A.source=a.element,A.sourceId=a.elementId):(A.floatingElement=A.target,A.floatingId=A.targetId,A.floatingEndpoint=A.endpoints[1],A.floatingIndex=1,A.target=a.element,A.targetId=a.elementId);v&&A.suspendedEndpoint.id!==b.id&&(A.isDetachAllowed(A)&&A.endpoints[d].isDetachAllowed(A)&&A.suspendedEndpoint.isDetachAllowed(A)&&f.checkCondition("beforeDetach",A)||(m=!1));u=function(e){A.endpoints[d].detachFromConnection(A);A.suspendedEndpoint&&
A.suspendedEndpoint.detachFromConnection(A);A.endpoints[d]=b;b.addConnection(A);var g=b.getParameters(),m;for(m in g)A.setParameter(m,g[m]);v?(g=A.suspendedEndpoint.elementId,f.fireMoveEvent({index:d,originalSourceId:0===d?g:A.sourceId,newSourceId:0===d?b.elementId:A.sourceId,originalTargetId:1===d?g:A.targetId,newTargetId:1===d?b.elementId:A.targetId,originalSourceEndpoint:0===d?A.suspendedEndpoint:A.endpoints[0],newSourceEndpoint:0===d?b:A.endpoints[0],originalTargetEndpoint:1===d?A.suspendedEndpoint:
A.endpoints[1],newTargetEndpoint:1===d?b:A.endpoints[1],connection:A},l)):g.draggable&&f.initDraggable(this.element,a.dragOptions,"internal",f);1===d?f.anchorManager.updateOtherEndpoint(A.sourceId,A.floatingId,A.targetId,A):f.anchorManager.sourceChanged(A.floatingId,A.sourceId,A,A.source);A.endpoints[0].finalEndpoint&&(A.endpoints[0].detachFromConnection(A),A.endpoints[0]=A.endpoints[0].finalEndpoint,A.endpoints[0].addConnection(A));c.isObject(e)&&A.mergeData(e);f.finaliseConnection(A,null,l,!1);
A.setHover(!1)}.bind(this);if(m=m&&a.isDropAllowed(A.sourceId,A.targetId,A.scope,A,b))return u(m),!0;A.suspendedEndpoint&&(A.endpoints[d]=A.suspendedEndpoint,A.setHover(!1),A._forceDetach=!0,0===d?(A.source=A.suspendedEndpoint.element,A.sourceId=A.suspendedEndpoint.elementId):(A.target=A.suspendedEndpoint.element,A.targetId=A.suspendedEndpoint.elementId),A.suspendedEndpoint.addConnection(A),1===d?f.anchorManager.updateOtherEndpoint(A.sourceId,A.floatingId,A.targetId,A):f.anchorManager.sourceChanged(A.floatingId,
A.sourceId,A,A.source),f.repaint(A.sourceId),A._forceDetach=!1)}a.maybeCleanup&&a.maybeCleanup(b);f.currentlyDragging=!1}}}}}}}).call("undefined"!==typeof window?window:this);
(function(){var a=this,c=a.jsPlumb,e=a.jsPlumbUtil,m=function(a,e,f,l,m){if(!a.Defaults.DoNotThrowErrors&&null==c.Connectors[e][f])throw{msg:"jsPlumb: unknown connector type '"+f+"'"};return new c.Connectors[e][f](l,m)},l=function(a,c,e){return a?e.makeAnchor(a,c,e):null},f=function(a,c,f,l){null!=c&&(c._jsPlumbConnections=c._jsPlumbConnections||{},l?delete c._jsPlumbConnections[a.id]:c._jsPlumbConnections[a.id]=!0,e.isEmpty(c._jsPlumbConnections)?f.removeClass(c,f.connectedClass):f.addClass(c,f.connectedClass))};
c.Connection=function(a){var f=a.newEndpoint;this.id=a.id;this.connector=null;this.idPrefix="_jsplumb_c_";this.defaultLabelLocation=.5;this.defaultOverlayKeys=["Overlays","ConnectionOverlays"];this.previousConnection=a.previousConnection;this.source=c.getElement(a.source);this.target=c.getElement(a.target);c.OverlayCapableJsPlumbUIComponent.apply(this,arguments);a.sourceEndpoint?(this.source=a.sourceEndpoint.getElement(),this.sourceId=a.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source);
a.targetEndpoint?(this.target=a.targetEndpoint.getElement(),this.targetId=a.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target);this.scope=a.scope;this.endpoints=[];this.endpointStyles=[];var l=this._jsPlumb.instance;l.manage(this.sourceId,this.source);l.manage(this.targetId,this.target);this._jsPlumb.visible=!0;this._jsPlumb.params={cssClass:a.cssClass,container:a.container,"pointer-events":a["pointer-events"],editorParams:a.editorParams,overlays:a.overlays};this._jsPlumb.lastPaintedAt=
null;this.bind("mouseover",function(){this.setHover(!0)}.bind(this));this.bind("mouseout",function(){this.setHover(!1)}.bind(this));this.makeEndpoint=function(b,c,d,e){d=d||this._jsPlumb.instance.getId(c);return this.prepareEndpoint(l,f,this,e,b?0:1,a,c,d)};a.type&&(a.endpoints=a.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(a.type).endpoints);var m=this.makeEndpoint(!0,this.source,this.sourceId,a.sourceEndpoint),q=this.makeEndpoint(!1,this.target,this.targetId,a.targetEndpoint);m&&
e.addToList(a.endpointsByElement,this.sourceId,m);q&&e.addToList(a.endpointsByElement,this.targetId,q);this.scope||(this.scope=this.endpoints[0].scope);null!=a.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(a.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(a.deleteEndpointsOnEmpty));m=l.Defaults.ConnectionsDetachable;!1===a.detachable&&(m=!1);!1===this.endpoints[0].connectionsDetachable&&(m=!1);!1===this.endpoints[1].connectionsDetachable&&(m=!1);this.appendToDefaultType({detachable:m,
reattach:a.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||l.Defaults.ReattachConnections,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||a.paintStyle||l.Defaults.PaintStyle||c.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||a.hoverPaintStyle||l.Defaults.HoverPaintStyle||c.Defaults.HoverPaintStyle});var A=l.getSuspendedAt();if(!l.isSuspendDrawing()){q=l.getCachedData(this.sourceId);
m=q.o;q=q.s;var v=l.getCachedData(this.targetId),b=v.o;v=v.s;A=A||l.timestamp();var d=this.endpoints[0].anchor.compute({xy:[m.left,m.top],wh:q,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[b.left,b.top],twh:v,tElement:this.endpoints[1],timestamp:A});this.endpoints[0].paint({anchorLoc:d,timestamp:A});d=this.endpoints[1].anchor.compute({xy:[b.left,b.top],wh:v,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[m.left,m.top],twh:q,tElement:this.endpoints[0],timestamp:A});
this.endpoints[1].paint({anchorLoc:d,timestamp:A})}this.getTypeDescriptor=function(){return"connection"};this.getAttachedElements=function(){return this.endpoints};this.isDetachable=function(){return!0===this._jsPlumb.detachable};this.setDetachable=function(a){this._jsPlumb.detachable=!0===a};this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections};this.setReattach=function(a){this._jsPlumb.reattach=!0===
a};this._jsPlumb.cost=a.cost||this.endpoints[0].getConnectionCost();this._jsPlumb.directed=a.directed;null==a.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());m=c.extend({},this.endpoints[1].getParameters());c.extend(m,this.endpoints[0].getParameters());c.extend(m,this.getParameters());this.setParameters(m);this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||a.connector||l.Defaults.Connector||c.Defaults.Connector,!0);var g=null!=a.data&&e.isObject(a.data)?
a.data:{};this.getData=function(){return g};this.setData=function(a){g=a||{}};this.mergeData=function(a){g=c.extend(g,a)};m=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,a.type].join(" ");/[^\s]/.test(m)&&this.addType(m,a.data,!0);this.updateConnectedClass()};e.extend(c.Connection,c.OverlayCapableJsPlumbUIComponent,{applyType:function(a,e,f){null!=a.connector&&(e=this.getCachedTypeItem("connector",f.connector),null==e&&(e=this.prepareConnector(a.connector,f.connector),
this.cacheTypeItem("connector",e,f.connector)),this.setPreparedConnector(e));null!=a.detachable&&this.setDetachable(a.detachable);null!=a.reattach&&this.setReattach(a.reattach);a.scope&&(this.scope=a.scope);null!=a.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,a.cssClass);e=null;a.anchor?(e=this.getCachedTypeItem("anchors",f.anchor),null==e&&(e=[this._jsPlumb.instance.makeAnchor(a.anchor),this._jsPlumb.instance.makeAnchor(a.anchor)],this.cacheTypeItem("anchors",e,f.anchor))):
a.anchors&&(e=this.getCachedTypeItem("anchors",f.anchors),null==e&&(e=[this._jsPlumb.instance.makeAnchor(a.anchors[0]),this._jsPlumb.instance.makeAnchor(a.anchors[1])],this.cacheTypeItem("anchors",e,f.anchors)));null!=e&&(this.endpoints[0].anchor=e[0],this.endpoints[1].anchor=e[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId));c.OverlayCapableJsPlumbUIComponent.applyType(this,a)},addClass:function(a,c){c&&(this.endpoints[0].addClass(a),this.endpoints[1].addClass(a),
this.suspendedEndpoint&&this.suspendedEndpoint.addClass(a));this.connector&&this.connector.addClass(a)},removeClass:function(a,c){c&&(this.endpoints[0].removeClass(a),this.endpoints[1].removeClass(a),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(a));this.connector&&this.connector.removeClass(a)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(a){this._jsPlumb.visible=a;this.connector&&this.connector.setVisible(a);this.repaint()},cleanup:function(){this.updateConnectedClass(!0);
this.target=this.source=this.endpoints=null;null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0));this.connector=null},updateConnectedClass:function(a){this._jsPlumb&&(f(this,this.source,this._jsPlumb.instance,a),f(this,this.target,this._jsPlumb.instance,a))},setHover:function(c){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(c),a.jsPlumb[c?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),
a.jsPlumb[c?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-Infinity},setCost:function(a){this._jsPlumb.cost=a},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(a,c){var f={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass||"",
container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},l=this._jsPlumb.instance.getRenderMode(),q;e.isString(a)?q=m(this._jsPlumb.instance,l,a,f,this):e.isArray(a)&&(q=1===a.length?m(this._jsPlumb.instance,l,a[0],f,this):m(this._jsPlumb.instance,l,a[0],e.merge(a[1],f),this));null!=c&&(q.typeId=c);return q},setPreparedConnector:function(a,c,e,f){if(this.connector!==a){var l="";if(null!=this.connector){var m=this.connector;l=m.getClass();this.connector.cleanup();
this.connector.destroy()}this.connector=a;f&&this.cacheTypeItem("connector",a,f);this.canvas=this.connector.canvas;this.bgCanvas=this.connector.bgCanvas;this.addClass(l);this.canvas&&(this.canvas._jsPlumb=this);this.bgCanvas&&(this.bgCanvas._jsPlumb=this);if(null!=m)for(a=this.getOverlays(),f=0;f<a.length;f++)a[f].transfer&&a[f].transfer(this.connector);e||this.setListenerComponent(this.connector);c||this.repaint()}},setConnector:function(a,c,e,f){a=this.prepareConnector(a,f);this.setPreparedConnector(a,
c,e,f)},paint:function(a){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){a=a||{};a=a.timestamp;var c=this.targetId,e=this.sourceId;if(null==a||a!==this._jsPlumb.lastPaintedAt){e=this._jsPlumb.instance.updateOffset({elId:e}).o;c=this._jsPlumb.instance.updateOffset({elId:c}).o;var f=this.endpoints[0],l=this.endpoints[1];f=f.anchor.getCurrentLocation({xy:[e.left,e.top],wh:[e.width,e.height],element:f,timestamp:a});l=l.anchor.getCurrentLocation({xy:[c.left,c.top],wh:[c.width,c.height],
element:l,timestamp:a});this.connector.resetBounds();this.connector.compute({sourcePos:f,targetPos:l,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:e,targetInfo:c});c=e=Infinity;f=l=-Infinity;for(var m in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var q=this._jsPlumb.overlays[m];q.isVisible()&&(this._jsPlumb.overlayPlacements[m]=q.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(q)),
e=Math.min(e,this._jsPlumb.overlayPlacements[m].minX),l=Math.max(l,this._jsPlumb.overlayPlacements[m].maxX),c=Math.min(c,this._jsPlumb.overlayPlacements[m].minY),f=Math.max(f,this._jsPlumb.overlayPlacements[m].maxY))}m=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2;q=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0);m={xmin:Math.min(this.connector.bounds.minX-(m+q),e),ymin:Math.min(this.connector.bounds.minY-(m+q),c),xmax:Math.max(this.connector.bounds.maxX+(m+q),l),ymax:Math.max(this.connector.bounds.maxY+
(m+q),f)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,m);for(var b in this._jsPlumb.overlays)this._jsPlumb.overlays.hasOwnProperty(b)&&(e=this._jsPlumb.overlays[b],e.isVisible()&&e.paint(this._jsPlumb.overlayPlacements[b],m))}this._jsPlumb.lastPaintedAt=a}},repaint:function(a){a=jsPlumb.extend(a||{},{});a.elId=this.sourceId;this.paint(a)},prepareEndpoint:function(a,e,f,m,C,A,v,b){if(m)f.endpoints[C]=m,m.addConnection(f);else{A.endpoints||(A.endpoints=[null,null]);var d=A.endpoints[C]||
A.endpoint||a.Defaults.Endpoints[C]||c.Defaults.Endpoints[C]||a.Defaults.Endpoint||c.Defaults.Endpoint;A.endpointStyles||(A.endpointStyles=[null,null]);A.endpointHoverStyles||(A.endpointHoverStyles=[null,null]);var g=A.endpointStyles[C]||A.endpointStyle||a.Defaults.EndpointStyles[C]||c.Defaults.EndpointStyles[C]||a.Defaults.EndpointStyle||c.Defaults.EndpointStyle;null==g.fill&&null!=A.paintStyle&&(g.fill=A.paintStyle.stroke);null==g.outlineStroke&&null!=A.paintStyle&&(g.outlineStroke=A.paintStyle.outlineStroke);
null==g.outlineWidth&&null!=A.paintStyle&&(g.outlineWidth=A.paintStyle.outlineWidth);var q=A.endpointHoverStyles[C]||A.endpointHoverStyle||a.Defaults.EndpointHoverStyles[C]||c.Defaults.EndpointHoverStyles[C]||a.Defaults.EndpointHoverStyle||c.Defaults.EndpointHoverStyle;null!=A.hoverPaintStyle&&(null==q&&(q={}),null==q.fill&&(q.fill=A.hoverPaintStyle.stroke));b=A.anchors?A.anchors[C]:A.anchor?A.anchor:l(a.Defaults.Anchors[C],b,a)||l(c.Defaults.Anchors[C],b,a)||l(a.Defaults.Anchor,b,a)||l(c.Defaults.Anchor,
b,a);d=e({paintStyle:g,hoverPaintStyle:q,endpoint:d,connections:[f],uuid:A.uuids?A.uuids[C]:null,anchor:b,source:v,scope:A.scope,reattach:A.reattach||a.Defaults.ReattachConnections,detachable:A.detachable||a.Defaults.ConnectionsDetachable});null==m&&d.setDeleteOnEmpty(!0);f.endpoints[C]=d;!1===A.drawEndpoints&&d.setVisible(!1,!0,!0)}return d}})}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumbUtil,c=this.jsPlumb;c.AnchorManager=function(e){var f={},l={},m={},u={},C={},A=this,v={},b=e.jsPlumbInstance,d={},g=function(a,b,c,d,e,g,f){a=[];for(var l=b[e?0:1]/(d.length+1),m=0;m<d.length;m++){var q=(m+1)*l,r=g*b[e?1:0];f&&(q=b[e?0:1]-q);var u=e?q:r;q=e?r:q;a.push([c[0]+u,c[1]+q,u/b[0],q/b[1],d[m][1],d[m][2]])}return a},r=function(a){return function(b,c){return!1===(a?b[0][0]<c[0][0]:b[0][0]>c[0][0])?-1:1}},D={top:function(a,b){return a[0]>b[0]?1:-1},right:r(!0),
bottom:r(!0),left:function(a,b){return(0>a[0][0]?-Math.PI-a[0][0]:Math.PI-a[0][0])>(0>b[0][0]?-Math.PI-b[0][0]:Math.PI-b[0][0])?1:-1}},H=function(a,c){var d=b.getCachedData(a),e=d.s;d=d.o;var f=function(b,c,d,e,f,m,q){if(0<e.length)for(e=e.sort(D[b]),b=g(b,c,d,e,f,m,"right"===b||"top"===b),c=function(a,b){l[a.id]=[b[0],b[1],b[2],b[3]];u[a.id]=q},d=0;d<b.length;d++)f=b[d][4],m=f.endpoints[1].elementId===a,f.endpoints[0].elementId===a&&c(f.endpoints[0],b[d]),m&&c(f.endpoints[1],b[d])};f("bottom",e,
[d.left,d.top],c.bottom,!0,1,[0,1]);f("top",e,[d.left,d.top],c.top,!0,0,[0,-1]);f("left",e,[d.left,d.top],c.left,!1,0,[-1,0]);f("right",e,[d.left,d.top],c.right,!1,1,[1,0])};this.reset=function(){f={};C={};v={}};this.addFloatingConnection=function(a,b){d[a]=b};this.removeFloatingConnection=function(a){delete d[a]};this.newConnection=function(b){var d=b.sourceId,e=b.targetId,g=b.endpoints,f=!0,l=function(l,m,q,r,u){d===e&&q.isContinuous&&(b._jsPlumb.instance.removeElement(g[1].canvas),f=!1);a.addToList(C,
r,[u,m,q.constructor===c.DynamicAnchor])};l(0,g[0],g[0].anchor,e,b);f&&l(1,g[1],g[1].anchor,d,b)};var W=function(b){(function(b,c){if(b){var d=function(a){return a[4]===c};a.removeWithFunction(b.top,d);a.removeWithFunction(b.left,d);a.removeWithFunction(b.bottom,d);a.removeWithFunction(b.right,d)}})(v[b.elementId],b.id)};this.connectionDetached=function(b,c){var d=b.connection||b,e=b.targetId,g=d.endpoints,f=function(b,c,d,e,g){a.removeWithFunction(C[e],function(a){return a[0].id===g.id})};f(1,g[1],
g[1].anchor,b.sourceId,d);f(0,g[0],g[0].anchor,e,d);d.floatingId&&(f(d.floatingIndex,d.floatingEndpoint,d.floatingEndpoint.anchor,d.floatingId,d),W(d.floatingEndpoint));W(d.endpoints[0]);W(d.endpoints[1]);c||(A.redraw(d.sourceId),d.targetId!==d.sourceId&&A.redraw(d.targetId))};this.add=function(b,c){a.addToList(f,c,b)};this.changeId=function(a,b){C[b]=C[a];f[b]=f[a];delete C[a];delete f[a]};this.getConnectionsFor=function(a){return C[a]||[]};this.getEndpointsFor=function(a){return f[a]||[]};this.deleteEndpoint=
function(b){a.removeWithFunction(f[b.elementId],function(a){return a.id===b.id});W(b)};this.clearFor=function(a){delete f[a];f[a]=[]};var P=function(b,c,d,g,f,l,m,q,r,u,z,v){u=-1;var B=g.endpoints[m],A=B.id,C=[1,0][m];c=[[c,d],g,f,l,A];d=b[r];b=B._continuousAnchorEdge?b[B._continuousAnchorEdge]:null;if(b&&(g=a.findWithFunction(b,function(a){return a[4]===A}),-1!==g))for(b.splice(g,1),g=0;g<b.length;g++){var D=b[g][1];a.addWithFunction(z,D,function(a){return a.id===D.id});a.addWithFunction(v,b[g][1].endpoints[m],
function(a){return a.id===D.endpoints[m].id});a.addWithFunction(v,b[g][1].endpoints[C],function(a){return a.id===D.endpoints[C].id})}for(g=0;g<d.length;g++)D=d[g][1],1===e.idx&&d[g][3]===l&&-1===u&&(u=g),a.addWithFunction(z,D,function(a){return a.id===D.id}),a.addWithFunction(v,d[g][1].endpoints[m],function(a){return a.id===D.endpoints[m].id}),a.addWithFunction(v,d[g][1].endpoints[C],function(a){return a.id===D.endpoints[C].id});d.splice(q?-1!==u?u:0:d.length,0,c);B._continuousAnchorEdge=r};this.updateOtherEndpoint=
function(b,d,e,g){var f=a.findWithFunction(C[b],function(a){return a[0].id===g.id}),l=a.findWithFunction(C[d],function(a){return a[0].id===g.id});-1!==f&&(C[b][f][0]=g,C[b][f][1]=g.endpoints[1],C[b][f][2]=g.endpoints[1].anchor.constructor===c.DynamicAnchor);-1<l&&(C[d].splice(l,1),a.addToList(C,e,[g,g.endpoints[0],g.endpoints[0].anchor.constructor===c.DynamicAnchor]));g.updateConnectedClass()};this.sourceChanged=function(b,d,e,g){b!==d&&(e.sourceId=d,e.source=g,a.removeWithFunction(C[b],function(a){return a[0].id===
e.id}),b=a.findWithFunction(C[e.targetId],function(a){return a[0].id===e.id}),-1<b&&(C[e.targetId][b][0]=e,C[e.targetId][b][1]=e.endpoints[0],C[e.targetId][b][2]=e.endpoints[0].anchor.constructor===c.DynamicAnchor),a.addToList(C,d,[e,e.endpoints[1],e.endpoints[1].anchor.constructor===c.DynamicAnchor]),e.endpoints[1].anchor.isContinuous&&(e.source===e.target?e._jsPlumb.instance.removeElement(e.endpoints[1].canvas):null==e.endpoints[1].canvas.parentNode&&e._jsPlumb.instance.appendElement(e.endpoints[1].canvas)),
e.updateConnectedClass())};this.rehomeEndpoint=function(a,c,d){var e=f[c]||[];d=b.getId(d);if(d!==c){var g=e.indexOf(a);-1<g&&(e=e.splice(g,1)[0],A.add(e,d))}for(e=0;e<a.connections.length;e++)a.connections[e].sourceId===c?A.sourceChanged(c,a.elementId,a.connections[e],a.element):a.connections[e].targetId===c&&(a.connections[e].targetId=a.elementId,a.connections[e].target=a.element,A.updateOtherEndpoint(a.connections[e].sourceId,c,a.elementId,a.connections[e]))};this.redraw=function(e,g,l,m,q,r){if(!b.isSuspendDrawing()){var u=
f[e]||[],z=C[e]||[],B=[],A=[],D=[];l=l||b.timestamp();m=m||{left:0,top:0};g&&(g={left:g.left+m.left,top:g.top+m.top});g=b.updateOffset({elId:e,offset:g,recalc:!1,timestamp:l});m={};for(var G=0;G<z.length;G++){var I=z[G][0],J=I.sourceId,X=I.targetId,W=I.endpoints[0].anchor.isContinuous,R=I.endpoints[1].anchor.isContinuous;if(W||R){var M=J+"_"+X,fa=m[M],la=I.sourceId===e?1:0;W&&!v[J]&&(v[J]={top:[],right:[],bottom:[],left:[]});R&&!v[X]&&(v[X]={top:[],right:[],bottom:[],left:[]});e!==X&&b.updateOffset({elId:X,
timestamp:l});e!==J&&b.updateOffset({elId:J,timestamp:l});var ka=b.getCachedData(X),ra=b.getCachedData(J);X===J&&(W||R)?(P(v[J],-Math.PI/2,0,I,!1,X,0,!1,"top",J,B,A),P(v[X],-Math.PI/2,0,I,!1,J,1,!1,"top",X,B,A)):(fa||(fa=this.calculateOrientation(J,X,ra.o,ka.o,I.endpoints[0].anchor,I.endpoints[1].anchor,I),m[M]=fa),W&&P(v[J],fa.theta,0,I,!1,X,0,!1,fa.a[0],J,B,A),R&&P(v[X],fa.theta2,-1,I,!0,J,1,!0,fa.a[1],X,B,A));W&&a.addWithFunction(D,J,function(a){return a===J});R&&a.addWithFunction(D,X,function(a){return a===
X});a.addWithFunction(B,I,function(a){return a.id===I.id});(W&&0===la||R&&1===la)&&a.addWithFunction(A,I.endpoints[la],function(a){return a.id===I.endpoints[la].id})}}for(G=0;G<u.length;G++)0===u[G].connections.length&&u[G].anchor.isContinuous&&(v[e]||(v[e]={top:[],right:[],bottom:[],left:[]}),P(v[e],-Math.PI/2,0,{endpoints:[u[G],u[G]],paint:function(){}},!1,e,0,!1,u[G].anchor.getDefaultFace(),e,B,A),a.addWithFunction(D,e,function(a){return a===e}));for(G=0;G<D.length;G++)H(D[G],v[D[G]]);for(G=0;G<
u.length;G++)u[G].paint({timestamp:l,offset:g,dimensions:g.s,recalc:!0!==r});for(G=0;G<A.length;G++)r=b.getCachedData(A[G].elementId),A[G].paint({timestamp:l,offset:r,dimensions:r.s});for(G=0;G<z.length;G++){var Z=z[G][1];if(Z.anchor.constructor===c.DynamicAnchor){Z.paint({elementWithPrecedence:e,timestamp:l});a.addWithFunction(B,z[G][0],function(a){return a.id===z[G][0].id});for(var ea=0;ea<Z.connections.length;ea++)Z.connections[ea]!==z[G][0]&&a.addWithFunction(B,Z.connections[ea],function(a){return a.id===
Z.connections[ea].id})}else a.addWithFunction(B,z[G][0],function(a){return a.id===z[G][0].id})}(A=d[e])&&A.paint({timestamp:l,recalc:!1,elId:e});for(G=0;G<B.length;G++)B[G].paint({elId:e,timestamp:l,recalc:!1,clearEdits:q})}};var M=function(b){a.EventGenerator.apply(this);this.type="Continuous";this.isContinuous=this.isDynamic=!0;var c=b.faces||["top","right","bottom","left"],d=!1!==b.clockwise,e={},g={top:"bottom",right:"left",left:"right",bottom:"top"},f={top:"right",right:"bottom",left:"top",bottom:"left"},
q={top:"left",right:"top",left:"bottom",bottom:"right"},r=d?f:q,z=d?q:f,v=b.cssClass||"",B=null,A=null,C=["left","right"],D=["top","bottom"],H=null;for(d=0;d<c.length;d++)e[c[d]]=!0;this.getDefaultFace=function(){return 0===c.length?"top":c[0]};this.isRelocatable=function(){return!0};this.isSnapOnRelocate=function(){return!0};this.verifyEdge=function(a){if(!e[a]){if(e[g[a]])return g[a];if(e[r[a]])return r[a];if(e[z[a]])return z[a]}return a};this.isEdgeSupported=function(a){return null==H?null==A?
!0===e[a]:A===a:-1!==H.indexOf(a)};this.setCurrentFace=function(a,b){B=a;b&&null!=A&&(A=B)};this.getCurrentFace=function(){return B};this.getSupportedFaces=function(){var a=[],b;for(b in e)e[b]&&a.push(b);return a};this.lock=function(){A=B};this.unlock=function(){A=null};this.isLocked=function(){return null!=A};this.lockCurrentAxis=function(){null!=B&&(H="left"===B||"right"===B?C:D)};this.unlockCurrentAxis=function(){H=null};this.compute=function(a){return m[a.element.id]||l[a.element.id]||[0,0]};
this.getCurrentLocation=function(a){return m[a.element.id]||l[a.element.id]||[0,0]};this.getOrientation=function(a){return u[a.id]||[0,0]};this.clearUserDefinedLocation=function(){delete m[b.elementId]};this.setUserDefinedLocation=function(a){m[b.elementId]=a};this.getCssClass=function(){return v}};b.continuousAnchorFactory={get:function(a){return new M(a)},clear:function(a){delete m[a];delete l[a]}}};c.AnchorManager.prototype.calculateOrientation=function(a,c,e,l,m,C){var f=["left","top","right",
"bottom"];if(a===c)return{orientation:"identity",a:["top","top"]};a=Math.atan2(l.centery-e.centery,l.centerx-e.centerx);c=Math.atan2(e.centery-l.centery,e.centerx-l.centerx);var q=[],b={};(function(a,c){for(var d=0;d<a.length;d++)b[a[d]]={left:[c[d].left,c[d].centery],right:[c[d].right,c[d].centery],top:[c[d].centerx,c[d].top],bottom:[c[d].centerx,c[d].bottom]}})(["source","target"],[e,l]);for(e=0;e<f.length;e++)for(l=0;l<f.length;l++)q.push({source:f[e],target:f[l],dist:Biltong.lineLength(b.source[f[e]],
b.target[f[l]])});q.sort(function(a,b){return a.dist<b.dist?-1:a.dist>b.dist?1:0});f=q[0].source;e=q[0].target;for(l=0;l<q.length&&(f=!m.isContinuous||m.isEdgeSupported(q[l].source)?q[l].source:null,e=!C.isContinuous||C.isEdgeSupported(q[l].target)?q[l].target:null,null==f||null==e);l++);m.isContinuous&&m.setCurrentFace(f);C.isContinuous&&C.setCurrentFace(e);return{a:[f,e],theta:a,theta2:c}};c.Anchor=function(c){this.x=c.x||0;this.y=c.y||0;this.elementId=c.elementId;this.cssClass=c.cssClass||"";this.userDefinedLocation=
null;this.orientation=c.orientation||[0,0];this.lastReturnValue=null;this.offsets=c.offsets||[0,0];this.timestamp=null;var e=!1!==c.relocatable;this.isRelocatable=function(){return e};this.setRelocatable=function(a){e=a};var f=!1!==c.snapOnRelocate;this.isSnapOnRelocate=function(){return f};var l=!1;this.lock=function(){l=!0};this.unlock=function(){l=!1};this.isLocked=function(){return l};a.EventGenerator.apply(this);this.compute=function(a){var c=a.xy,e=a.wh,f=a.timestamp;a.clearUserDefinedLocation&&
(this.userDefinedLocation=null);if(f&&f===this.timestamp)return this.lastReturnValue;this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[c[0]+this.x*e[0]+this.offsets[0],c[1]+this.y*e[1]+this.offsets[1]];this.timestamp=f;return this.lastReturnValue};this.getCurrentLocation=function(a){a=a||{};return null==this.lastReturnValue||null!=a.timestamp&&this.timestamp!==a.timestamp?this.compute(a):this.lastReturnValue}};a.extend(c.Anchor,a.EventGenerator,{equals:function(a){if(!a)return!1;
var c=a.getOrientation(),e=this.getOrientation();return this.x===a.x&&this.y===a.y&&this.offsets[0]===a.offsets[0]&&this.offsets[1]===a.offsets[1]&&e[0]===c[0]&&e[1]===c[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(a){this.userDefinedLocation=a},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}});c.FloatingAnchor=function(a){c.Anchor.apply(this,
arguments);var e=a.reference,f=c.getSize(a.referenceCanvas),l=null,m=null;this.orientation=null;this.y=this.x=0;this.isFloating=!0;this.compute=function(a){a=a.xy;return m=a=[a[0]+f[0]/2,a[1]+f[1]/2]};this.getOrientation=function(a){if(l)return l;a=e.getOrientation(a);return[-0*Math.abs(a[0]),-0*Math.abs(a[1])]};this.over=function(a,c){l=a.getOrientation(c)};this.out=function(){l=null};this.getCurrentLocation=function(a){return null==m?this.compute(a):m}};a.extend(c.FloatingAnchor,c.Anchor);var e=
function(a,e,l){return a.constructor===c.Anchor?a:e.makeAnchor(a,l,e)};c.DynamicAnchor=function(a){c.Anchor.apply(this,arguments);this.isDynamic=!0;this.anchors=[];this.elementId=a.elementId;this.jsPlumbInstance=a.jsPlumbInstance;for(var f=0;f<a.anchors.length;f++)this.anchors[f]=e(a.anchors[f],this.jsPlumbInstance,this.elementId);this.getAnchors=function(){return this.anchors};var l=0<this.anchors.length?this.anchors[0]:null,m=l,u=this,C=a.selector||function(a,c,b,d,e){var g=b[0]+d[0]/2;b=b[1]+d[1]/
2;d=-1;for(var f=Infinity,l=0;l<e.length;l++){var m=e[l];var q=a[0]+m.x*c[0];m=a[1]+m.y*c[1];q=Math.sqrt(Math.pow(g-q,2)+Math.pow(b-m,2))+Math.sqrt(Math.pow(a[0]+c[0]/2-q,2)+Math.pow(a[1]+c[1]/2-m,2));q<f&&(d=l+0,f=q)}return e[d]};this.compute=function(a){var c=a.xy,b=a.wh,d=a.txy,e=a.twh;this.timestamp=a.timestamp;var f=u.getUserDefinedLocation();if(null!=f)return f;if(this.isLocked()||null==d||null==e)return l.compute(a);a.timestamp=null;l=C(c,b,d,e,this.anchors);this.x=l.x;this.y=l.y;l!==m&&this.fire("anchorChanged",
l);m=l;return l.compute(a)};this.getCurrentLocation=function(a){return this.getUserDefinedLocation()||(null!=l?l.getCurrentLocation(a):null)};this.getOrientation=function(a){return null!=l?l.getOrientation(a):[0,0]};this.over=function(a,c){null!=l&&l.over(a,c)};this.out=function(){null!=l&&l.out()};this.getCssClass=function(){return l&&l.getCssClass()||""}};a.extend(c.DynamicAnchor,c.Anchor);var m=function(a,e,l,m,u,C){c.Anchors[u]=function(c){var f=c.jsPlumbInstance.makeAnchor([a,e,l,m,0,0],c.elementId,
c.jsPlumbInstance);f.type=u;C&&C(f,c);return f}};m(.5,0,0,-1,"TopCenter");m(.5,1,0,1,"BottomCenter");m(0,.5,-1,0,"LeftMiddle");m(1,.5,1,0,"RightMiddle");m(.5,0,0,-1,"Top");m(.5,1,0,1,"Bottom");m(0,.5,-1,0,"Left");m(1,.5,1,0,"Right");m(.5,.5,0,0,"Center");m(1,0,0,-1,"TopRight");m(1,1,0,1,"BottomRight");m(0,0,0,-1,"TopLeft");m(0,1,0,1,"BottomLeft");c.Defaults.DynamicAnchors=function(a){return a.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],a.elementId,a.jsPlumbInstance)};
c.Anchors.AutoDefault=function(a){a=a.jsPlumbInstance.makeDynamicAnchor(c.Defaults.DynamicAnchors(a));a.type="AutoDefault";return a};var l=function(a,e){c.Anchors[a]=function(c){c=c.jsPlumbInstance.makeAnchor(["Continuous",{faces:e}],c.elementId,c.jsPlumbInstance);c.type=a;return c}};c.Anchors.Continuous=function(a){return a.jsPlumbInstance.continuousAnchorFactory.get(a)};l("ContinuousLeft",["left"]);l("ContinuousTop",["top"]);l("ContinuousBottom",["bottom"]);l("ContinuousRight",["right"]);m(0,0,
0,0,"Assign",function(a,c){var e=c.position||"Fixed";a.positionFinder=e.constructor===String?c.jsPlumbInstance.AnchorPositionFinders[e]:e;a.constructorParams=c});this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(a,c,e){return[(a.left-c.left)/e[0],(a.top-c.top)/e[1]]},Grid:function(a,c,e,l){var f=e[0]/l.grid[0];l=e[1]/l.grid[1];return[(Math.floor((a.left-c.left)/f)*f+f/2)/e[0],(Math.floor((a.top-c.top)/l)*l+l/2)/e[1]]}};c.Anchors.Perimeter=function(a){a=a||{};var c=a.anchorCount||
60,e=a.shape;if(!e)throw Error("no shape supplied to Perimeter Anchor type");var f=function(){for(var a=2*Math.PI/c,b=0,d=[],e=0;e<c;e++)d.push([.5+.5*Math.sin(b),.5+.5*Math.cos(b),0,0]),b+=a;return d},l=function(a){for(var b=c/a.length,d=[],e=function(a,e,g,f,l){b=c*l;g=(g-a)/b;f=(f-e)/b;for(l=0;l<b;l++)d.push([a+g*l,e+f*l,0,0])},f=0;f<a.length;f++)e.apply(null,a[f]);return d},m=function(a){for(var b=[],c=0;c<a.length;c++)b.push([a[c][0],a[c][1],a[c][2],a[c][3],1/a.length]);return l(b)},A=function(){return m([[0,
0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])};A={Circle:f,Ellipse:f,Diamond:function(){return m([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:A,Square:A,Triangle:function(){return m([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(a){var b=a.points;a=[];for(var c=0,e=0;e<b.length-1;e++){var f=Math.sqrt(Math.pow(b[e][2]-b[e][0])+Math.pow(b[e][3]-b[e][1]));c+=f;a.push([b[e][0],b[e][1],b[e+1][0],b[e+1][1],f])}for(b=0;b<a.length;b++)a[b][4]/=c;return l(a)}};f=function(a,b){var c=[];b=b/180*
Math.PI;for(var e=0;e<a.length;e++){var f=a[e][0]-.5,l=a[e][1]-.5;c.push([.5+(f*Math.cos(b)-l*Math.sin(b)),.5+(f*Math.sin(b)+l*Math.cos(b)),a[e][2],a[e][3]])}return c};if(!A[e])throw Error("Shape ["+e+"] is unknown by Perimeter Anchor type");e=A[e](a);a.rotation&&(e=f(e,a.rotation));a=a.jsPlumbInstance.makeDynamicAnchor(e);a.type="Perimeter";return a}}).call("undefined"!==typeof window?window:this);
(function(){var a=this,c=a.jsPlumb,e=a.jsPlumbUtil,m=a.Biltong;c.Segments={AbstractSegment:function(a){this.params=a;this.findClosestPointOnPath=function(a,c){return{d:Infinity,x:null,y:null,l:null}};this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){c.Segments.AbstractSegment.apply(this,arguments);var e,f,l,b,d,g,q;this.type="Straight";this.getLength=function(){return e};this.getGradient=function(){return f};
this.getCoordinates=function(){return{x1:b,y1:g,x2:d,y2:q}};this.setCoordinates=function(a){b=a.x1;g=a.y1;d=a.x2;q=a.y2;e=Math.sqrt(Math.pow(d-b,2)+Math.pow(q-g,2));f=m.gradient({x:b,y:g},{x:d,y:q});l=-1/f};this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2});this.getBounds=function(){return{minX:Math.min(b,d),minY:Math.min(g,q),maxX:Math.max(b,d),maxY:Math.max(g,q)}};this.pointOnPath=function(a,c){return 0!==a||c?1!==a||c?m.pointOnLine({x:b,y:g},{x:d,y:q},c?0<a?a:e+a:a*e):{x:d,y:q}:{x:b,y:g}};
this.gradientAtPoint=function(a){return f};this.pointAlongPathFrom=function(a,c,e){a=this.pointOnPath(a,e);e=0>=c?{x:b,y:g}:{x:d,y:q};0>=c&&1<Math.abs(c)&&(c*=-1);return m.pointOnLine(a,e,c)};var u=function(a,b,c){return c>=Math.min(a,b)&&c<=Math.max(a,b)},z=function(a,b,c){return Math.abs(c-a)<Math.abs(c-b)?a:b};this.findClosestPointOnPath=function(a,c){var r={d:Infinity,x:null,y:null,l:null,x1:b,x2:d,y1:g,y2:q};if(0===f)r.y=g,r.x=u(b,d,a)?a:z(b,d,a);else if(Infinity===f||-Infinity===f)r.x=b,r.y=
u(g,q,c)?c:z(g,q,c);else{var v=g-f*b,B=(c-l*a-v)/(f-l);v=f*B+v;r.x=u(b,d,B)?B:z(b,d,B);r.y=u(g,q,v)?v:z(g,q,v)}B=m.lineLength([r.x,r.y],[b,g]);r.d=m.lineLength([a,c],[r.x,r.y]);r.l=B/e;return r}},Arc:function(a){c.Segments.AbstractSegment.apply(this,arguments);var e=2*Math.PI;this.radius=a.r;this.anticlockwise=a.ac;this.type="Arc";a.startAngle&&a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),this.y1=a.cy+this.radius*Math.sin(a.startAngle),
this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=m.theta([a.cx,a.cy],[a.x1,a.y1]),this.endAngle=m.theta([a.cx,a.cy],[a.x2,a.y2]),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2);0>this.endAngle&&(this.endAngle+=e);0>this.startAngle&&(this.startAngle+=e);this.sweep=Math.abs((this.endAngle<this.startAngle?this.endAngle+e:this.endAngle)-this.startAngle);this.anticlockwise&&(this.sweep=e-this.sweep);var f=2*Math.PI*this.radius,l=this.sweep/
e*f;this.getLength=function(){return l};this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var b=function(a){var b=Math.floor(a),c=Math.ceil(a);return 1E-10>a-b?b:1E-10>c-a?c:a};this.pointOnPath=function(c,g){if(0===c)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===c)return{x:this.x2,y:this.y2,theta:this.endAngle};g&&(c/=l);this.anticlockwise?(g=this.startAngle<this.endAngle?this.startAngle+e:this.startAngle,c=g-Math.abs(g-this.endAngle)*c):c=this.startAngle+
Math.abs((this.endAngle<this.startAngle?this.endAngle+e:this.endAngle)-this.startAngle)*c;g=a.cy+a.r*Math.sin(c);return{x:b(a.cx+a.r*Math.cos(c)),y:b(g),theta:c}};this.gradientAtPoint=function(b,c){b=this.pointOnPath(b,c);b=m.normal([a.cx,a.cy],[b.x,b.y]);this.anticlockwise||Infinity!==b&&-Infinity!==b||(b*=-1);return b};this.pointAlongPathFrom=function(b,c,e){b=this.pointOnPath(b,e).theta+c/f*(this.anticlockwise?-1:1)*2*Math.PI;return{x:a.cx+this.radius*Math.cos(b),y:a.cy+this.radius*Math.sin(b)}}},
Bezier:function(e){this.curve=[{x:e.x1,y:e.y1},{x:e.cp1x,y:e.cp1y},{x:e.cp2x,y:e.cp2y},{x:e.x2,y:e.y2}];c.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(e.x1,e.x2,e.cp1x,e.cp2x),minY:Math.min(e.y1,e.y2,e.cp1y,e.cp2y),maxX:Math.max(e.x1,e.x2,e.cp1x,e.cp2x),maxY:Math.max(e.y1,e.y2,e.cp1y,e.cp2y)};this.type="Bezier";var f=function(c,e,b){b&&(e=a.jsBezier.locationAlongCurveFrom(c,0<e?0:1,e));return e};this.pointOnPath=function(c,e){c=f(this.curve,c,e);return a.jsBezier.pointOnCurve(this.curve,
c)};this.gradientAtPoint=function(c,e){c=f(this.curve,c,e);return a.jsBezier.gradientAtPoint(this.curve,c)};this.pointAlongPathFrom=function(c,e,b){c=f(this.curve,c,b);return a.jsBezier.pointAlongCurveFrom(this.curve,c,e)};this.getLength=function(){return a.jsBezier.getLength(this.curve)};this.getBounds=function(){return this.bounds}}};c.SegmentRenderer={getPath:function(a){return{Straight:function(){var c=a.getCoordinates();return"M "+c.x1+" "+c.y1+" L "+c.x2+" "+c.y2},Bezier:function(){var c=a.params;
return"M "+c.x1+" "+c.y1+" C "+c.cp1x+" "+c.cp1y+" "+c.cp2x+" "+c.cp2y+" "+c.x2+" "+c.y2},Arc:function(){return"M"+a.x1+" "+a.y1+" A "+a.radius+" "+a.params.r+" 0 "+(a.sweep>Math.PI?1:0)+","+(a.anticlockwise?0:1)+" "+a.x2+" "+a.y2}}[a.type]()}};var l=function(){this.resetBounds=function(){this.bounds={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}};this.resetBounds()};c.Connectors.AbstractConnector=function(a){l.apply(this,arguments);var f=[],q=0,z=[],b=[],d=a.stub||0,g=e.isArray(d)?d[0]:
d,r=e.isArray(d)?d[1]:d;d=a.gap||0;var u=e.isArray(d)?d[0]:d,B=e.isArray(d)?d[1]:d,W=null,P=null;this.getPathData=function(){for(var a="",b=0;b<f.length;b++)a+=c.SegmentRenderer.getPath(f[b]),a+=" ";return a};this.findSegmentForPoint=function(a,b){for(var c={d:Infinity,s:null,x:null,y:null,l:null},d=0;d<f.length;d++){var e=f[d].findClosestPointOnPath(a,b);e.d<c.d&&(c.d=e.d,c.l=e.l,c.x=e.x,c.y=e.y,c.s=f[d],c.x1=e.x1,c.x2=e.x2,c.y1=e.y1,c.y2=e.y2,c.index=d)}return c};var M=function(a,c){c&&(a=0<a?a/
q:(q+a)/q);c=z.length-1;for(var d=1,e=0;e<z.length;e++)if(z[e][1]>=a){c=e;d=1===a?1:0===a?0:(a-z[e][0])/b[e];break}return{segment:f[c],proportion:d,index:c}};this.setSegments=function(a){W=[];for(var b=q=0;b<a.length;b++)W.push(a[b]),q+=a[b].getLength()};this.getLength=function(){return q};var Z=function(a){this.strokeWidth=a.strokeWidth;var b=m.quadrant(a.sourcePos,a.targetPos),c=a.targetPos[0]<a.sourcePos[0],d=a.targetPos[1]<a.sourcePos[1],e=a.strokeWidth||1,f=a.sourceEndpoint.anchor.getOrientation(a.sourceEndpoint),
l=a.targetEndpoint.anchor.getOrientation(a.targetEndpoint),q=c?a.targetPos[0]:a.sourcePos[0],z=d?a.targetPos[1]:a.sourcePos[1],v=Math.abs(a.targetPos[0]-a.sourcePos[0]),A=Math.abs(a.targetPos[1]-a.sourcePos[1]);if(0===f[0]&&0===f[1]||0===l[0]&&0===l[1]){var C=v>A?0:1,D=[1,0][C];f=[];l=[];f[C]=a.sourcePos[C]>a.targetPos[C]?-1:1;l[C]=a.sourcePos[C]>a.targetPos[C]?1:-1;f[D]=0;l[D]=0}a=c?v+u*f[0]:u*f[0];C=d?A+u*f[1]:u*f[1];c=c?B*l[0]:v+B*l[0];d=d?B*l[1]:A+B*l[1];D=f[0]*l[0]+f[1]*l[1];b={sx:a,sy:C,tx:c,
ty:d,lw:e,xSpan:Math.abs(c-a),ySpan:Math.abs(d-C),mx:(a+c)/2,my:(C+d)/2,so:f,to:l,x:q,y:z,w:v,h:A,segment:b,startStubX:a+f[0]*g,startStubY:C+f[1]*g,endStubX:c+l[0]*r,endStubY:d+l[1]*r,isXGreaterThanStubTimes2:Math.abs(a-c)>g+r,isYGreaterThanStubTimes2:Math.abs(C-d)>g+r,opposite:-1===D,perpendicular:0===D,orthogonal:1===D,sourceAxis:0===f[0]?"y":"x",points:[q,z,v,A,a,C,c,d],stubs:[g,r]};b.anchorOrientation=b.opposite?"opposite":b.orthogonal?"orthogonal":"perpendicular";return b};this.getSegments=function(){return f};
this.updateBounds=function(a){a=a.getBounds();this.bounds.minX=Math.min(this.bounds.minX,a.minX);this.bounds.maxX=Math.max(this.bounds.maxX,a.maxX);this.bounds.minY=Math.min(this.bounds.minY,a.minY);this.bounds.maxY=Math.max(this.bounds.maxY,a.maxY)};this.pointOnPath=function(a,b){a=M(a,b);return a.segment&&a.segment.pointOnPath(a.proportion,!1)||[0,0]};this.gradientAtPoint=function(a,b){a=M(a,b);return a.segment&&a.segment.gradientAtPoint(a.proportion,!1)||0};this.pointAlongPathFrom=function(a,b,
c){a=M(a,c);return a.segment&&a.segment.pointAlongPathFrom(a.proportion,b,!1)||[0,0]};this.compute=function(a){P=Z.call(this,a);q=f.length=z.length=b.length=0;this._compute(P,a);this.x=P.points[0];this.y=P.points[1];this.w=P.points[2];this.h=P.points[3];this.segment=P.segment;for(var c=a=0;c<f.length;c++){var d=f[c].getLength();b[c]=d/q;z[c]=[a,a+=d/q]}};return{addSegment:function(a,b,d){if(d.x1!==d.x2||d.y1!==d.y2)b=new c.Segments[b](d),f.push(b),q+=b.getLength(),a.updateBounds(b)},prepareCompute:Z,
sourceStub:g,targetStub:r,maxStub:Math.max(g,r),sourceGap:u,targetGap:B,maxGap:Math.max(u,B)}};e.extend(c.Connectors.AbstractConnector,l);c.Endpoints.AbstractEndpoint=function(a){l.apply(this,arguments);return{compute:this.compute=function(a,c,e,b){var d=this._compute.apply(this,arguments);this.x=d[0];this.y=d[1];this.w=d[2];this.h=d[3];this.bounds.minX=this.x;this.bounds.minY=this.y;this.bounds.maxX=this.x+this.w;this.bounds.maxY=this.y+this.h;return d},cssClass:a.cssClass}};e.extend(c.Endpoints.AbstractEndpoint,
l);c.Endpoints.Dot=function(a){this.type="Dot";c.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.radius=a.radius||10;this.defaultOffset=.5*this.radius;this.defaultInnerRadius=this.radius/3;this._compute=function(a,c,e,b){this.radius=e.radius||this.radius;c=a[0]-this.radius;a=a[1]-this.radius;b=2*this.radius;var d=2*this.radius;e.stroke&&(e=e.strokeWidth||1,c-=e,a-=e,b+=2*e,d+=2*e);return[c,a,b,d,this.radius]}};e.extend(c.Endpoints.Dot,c.Endpoints.AbstractEndpoint);c.Endpoints.Rectangle=
function(a){this.type="Rectangle";c.Endpoints.AbstractEndpoint.apply(this,arguments);a=a||{};this.width=a.width||20;this.height=a.height||20;this._compute=function(a,c,e,b){c=e.width||this.width;e=e.height||this.height;return[a[0]-c/2,a[1]-e/2,c,e]}};e.extend(c.Endpoints.Rectangle,c.Endpoints.AbstractEndpoint);var f=function(a){c.jsPlumbUIComponent.apply(this,arguments);this._jsPlumb.displayElements=[]};e.extend(f,c.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},
appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}});c.Endpoints.Image=function(l){this.type="Image";f.apply(this,arguments);c.Endpoints.AbstractEndpoint.apply(this,arguments);var m=l.onload,q=l.src||l.url,z=l.cssClass?" "+l.cssClass:"";this._jsPlumb.img=new Image;this._jsPlumb.ready=!1;this._jsPlumb.initialized=!1;this._jsPlumb.deleted=!1;this._jsPlumb.widthToUse=l.width;this._jsPlumb.heightToUse=l.height;this._jsPlumb.endpoint=l.endpoint;this._jsPlumb.img.onload=function(){null!=
this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,m&&m(this))}.bind(this);this._jsPlumb.endpoint.setImage=function(a,c){a=a.constructor===String?a:a.src;m=c;this._jsPlumb.img.src=a;null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this);this._jsPlumb.endpoint.setImage(q,m);this._compute=function(a,c,e,f){this.anchorPoint=a;return this._jsPlumb.ready?
[a[0]-this._jsPlumb.widthToUse/2,a[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]};this.canvas=c.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+z);this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse);this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse);this._jsPlumb.instance.appendElement(this.canvas);this.actuallyPaint=function(a,
c,g){this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0),e.sizeElement(this.canvas,this.anchorPoint[0]-this._jsPlumb.widthToUse/2,this.anchorPoint[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))};this.paint=function(b,c){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(b,c):a.setTimeout(function(){this.paint(b,c)}.bind(this),200))}};
e.extend(c.Endpoints.Image,[f,c.Endpoints.AbstractEndpoint],{cleanup:function(a){a&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}});c.Endpoints.Blank=function(a){c.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank";f.apply(this,arguments);this._compute=function(a,c,e,b){return[a[0],a[1],10,0]};this.canvas=c.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+
(a.cssClass?" "+a.cssClass:""));this._jsPlumb.instance.appendElement(this.canvas);this.paint=function(a,c){e.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}};e.extend(c.Endpoints.Blank,[c.Endpoints.AbstractEndpoint,f],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}});c.Endpoints.Triangle=function(a){this.type="Triangle";c.Endpoints.AbstractEndpoint.apply(this,arguments);var e=this;a=a||{};a.width=a.width||55;a.height=a.height||55;this.width=
a.width;this.height=a.height;this._compute=function(a,c,b,d){c=b.width||e.width;b=b.height||e.height;return[a[0]-c/2,a[1]-b/2,c,b]}};var q=c.Overlays.AbstractOverlay=function(a){this.isAppendedAtTopLevel=this.visible=!0;this.component=a.component;this.loc=null==a.location?.5:a.location;this.endpointLoc=null==a.endpointLocation?[.5,.5]:a.endpointLocation;this.visible=!1!==a.visible};q.prototype={cleanup:function(a){a&&(this.endpointLoc=this.canvas=this.component=null)},reattach:function(a,c){},setVisible:function(a){this.visible=
a;this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(a){this.loc+=a;this.component.repaint()},setLocation:function(a){this.loc=a;this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}};c.Overlays.Arrow=function(a){this.type="Arrow";q.apply(this,arguments);this.isAppendedAtTopLevel=!1;a=a||{};var f=this;this.length=a.length||20;this.width=a.width||
20;this.id=a.id;var l=0>(a.direction||1)?-1:1,z=a.paintStyle||{"stroke-width":1},b=a.foldback||.623;this.computeMaxSize=function(){return 1.5*f.width};this.elementCreated=function(b,e){this.path=b;if(a.events)for(var d in a.events)c.on(b,d,a.events[d])};this.draw=function(a,c){if(a.pointAlongPathFrom){if(e.isString(this.loc)||1<this.loc||0>this.loc){var d=parseInt(this.loc,10);var g=0>this.loc?1:0;var f=a.pointAlongPathFrom(g,d,!1);g=a.pointAlongPathFrom(g,d-l*this.length/2,!1);d=m.pointOnLine(f,
g,this.length)}else 1===this.loc?(f=a.pointOnPath(this.loc),g=a.pointAlongPathFrom(this.loc,-this.length),d=m.pointOnLine(f,g,this.length),-1===l&&(g=d,d=f,f=g)):0===this.loc?(d=a.pointOnPath(this.loc),g=a.pointAlongPathFrom(this.loc,this.length),f=m.pointOnLine(d,g,this.length),-1===l&&(g=d,d=f,f=g)):(f=a.pointAlongPathFrom(this.loc,l*this.length/2),g=a.pointOnPath(this.loc),d=m.pointOnLine(f,g,this.length));g=m.perpendicularLineTo(f,d,this.width);d=m.pointOnLine(f,d,b*this.length);return{component:a,
d:{hxy:f,tail:g,cxy:d},"stroke-width":z.strokeWidth||c.strokeWidth,stroke:z.stroke||c.stroke,fill:z.fill||c.stroke,minX:Math.min(f.x,g[0].x,g[1].x),maxX:Math.max(f.x,g[0].x,g[1].x),minY:Math.min(f.y,g[0].y,g[1].y),maxY:Math.max(f.y,g[0].y,g[1].y)}}return{component:a,minX:0,maxX:0,minY:0,maxY:0}}};e.extend(c.Overlays.Arrow,q,{updateFrom:function(a){this.length=a.length||this.length;this.width=a.width||this.width;this.direction=null!=a.direction?a.direction:this.direction;this.foldback=a.foldback||
this.foldback}});c.Overlays.PlainArrow=function(a){a=a||{};a=c.extend(a,{foldback:1});c.Overlays.Arrow.call(this,a);this.type="PlainArrow"};e.extend(c.Overlays.PlainArrow,c.Overlays.Arrow);c.Overlays.Diamond=function(a){a=a||{};a=c.extend(a,{length:(a.length||40)/2,foldback:2});c.Overlays.Arrow.call(this,a);this.type="Diamond"};e.extend(c.Overlays.Diamond,c.Overlays.Arrow);var z=function(a,c){if(null==a._jsPlumb.cachedDimensions||c)a._jsPlumb.cachedDimensions=a.getDimensions();return a._jsPlumb.cachedDimensions},
B=function(a){c.jsPlumbUIComponent.apply(this,arguments);q.apply(this,arguments);var f=this.fire;this.fire=function(){f.apply(this,arguments);this.component&&this.component.fire.apply(this.component,arguments)};this.detached=!1;this.id=a.id;this._jsPlumb.div=null;this._jsPlumb.initialised=!1;this._jsPlumb.component=a.component;this._jsPlumb.cachedDimensions=null;this._jsPlumb.create=a.create;this._jsPlumb.initiallyInvisible=!1===a.visible;this.getElement=function(){if(null==this._jsPlumb.div){var e=
this._jsPlumb.div=c.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute";e.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:"");this._jsPlumb.instance.appendElement(e);this._jsPlumb.instance.getId(e);this.canvas=e;e.style.webkitTransform="translate(-50%, -50%)";e.style.mozTransform="translate(-50%, -50%)";e.style.msTransform="translate(-50%, -50%)";e.style.oTransform="translate(-50%, -50%)";e.style.transform="translate(-50%, -50%)";
e._jsPlumb=this;!1===a.visible&&(e.style.display="none")}return this._jsPlumb.div};this.draw=function(a,c,b){c=z(this);if(null!=c&&2===c.length){if(b)b={x:b[0],y:b[1]};else if(a.pointOnPath){b=this.loc;var d=!1;if(e.isString(this.loc)||0>this.loc||1<this.loc)b=parseInt(this.loc,10),d=!0;b=a.pointOnPath(b,d)}else b=this.loc.constructor===Array?this.loc:this.endpointLoc,b={x:b[0]*a.w,y:b[1]*a.h};d=b.x-c[0]/2;var g=b.y-c[1]/2;return{component:a,d:{minx:d,miny:g,td:c,cxy:b},minX:d,maxX:d+c[0],minY:g,
maxY:g+c[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};e.extend(B,[c.jsPlumbUIComponent,q],{getDimensions:function(){return[1,1]},setVisible:function(a){this._jsPlumb.div&&(this._jsPlumb.div.style.display=a?"block":"none",a&&this._jsPlumb.initiallyInvisible&&(z(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(a){a?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):
(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(a,c){null!=this._jsPlumb.div&&a.getContainer().appendChild(this._jsPlumb.div);this.detached=!1},computeMaxSize:function(){var a=z(this);return Math.max(a[0],a[1])},paint:function(a,c){this._jsPlumb.initialised||(this.getElement(),a.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div));
this._jsPlumb.div.style.left=a.component.x+a.d.minx+"px";this._jsPlumb.div.style.top=a.component.y+a.d.miny+"px"}});c.Overlays.Custom=function(a){this.type="Custom";B.apply(this,arguments)};e.extend(c.Overlays.Custom,B);c.Overlays.GuideLines=function(){var a=this;a.length=50;a.strokeWidth=5;this.type="GuideLines";q.apply(this,arguments);c.jsPlumbUIComponent.apply(this,arguments);this.draw=function(c,e){e=c.pointAlongPathFrom(a.loc,a.length/2);var f=c.pointOnPath(a.loc);f=m.pointOnLine(e,f,a.length);
var b=m.perpendicularLineTo(e,f,40),d=m.perpendicularLineTo(f,e,20);return{connector:c,head:e,tail:f,headLine:d,tailLine:b,minX:Math.min(e.x,f.x,d[0].x,d[1].x),minY:Math.min(e.y,f.y,d[0].y,d[1].y),maxX:Math.max(e.x,f.x,d[0].x,d[1].x),maxY:Math.max(e.y,f.y,d[0].y,d[1].y)}}};c.Overlays.Label=function(a){this.labelStyle=a.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var e=c.extend({create:function(){return c.createElement("div")}},a);c.Overlays.Custom.call(this,e);this.type=
"Label";this.label=a.label||"";this.labelText=null;this.labelStyle&&(a=this.getElement(),this.labelStyle.font=this.labelStyle.font||"12px sans-serif",a.style.font=this.labelStyle.font,a.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(a.style.background=this.labelStyle.fill),0<this.labelStyle.borderWidth&&(a.style.border=this.labelStyle.borderWidth+"px solid "+(this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black")),this.labelStyle.padding&&(a.style.padding=this.labelStyle.padding))};
e.extend(c.Overlays.Label,c.Overlays.Custom,{cleanup:function(a){a&&(this.labelStyle=this.cssClass=this.labelText=this.label=this.div=null)},getLabel:function(){return this.label},setLabel:function(a){this.label=a;this.labelText=null;this.clearCachedDimensions();this.update();this.component.repaint()},getDimensions:function(){this.update();return B.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"===typeof this.label){var a=this.label(this);this.getElement().innerHTML=
a.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(a){null!=a.label&&this.setLabel(a.label)}})}).call("undefined"!==typeof window?window:this);
(function(){var a=this;a.jsPlumb.extend(a.jsPlumbInstance.prototype,{getEventManager:function(){var c=this._mottle;c||(c=this._mottle=new a.Mottle);return c},on:function(a,e,m){this.getEventManager().on.apply(this,arguments);return this},off:function(a,e,m){this.getEventManager().off.apply(this,arguments);return this}})}).call("undefined"!==typeof window?window:this);
(function(){var a=this,c=a.jsPlumbUtil,e=a.jsPlumbInstance,m=function(a){function e(a){delete a.proxies;var b=C[a.id];if(null!=b){var d=function(b){return b.id===a.id};c.removeWithFunction(b.connections.source,d);c.removeWithFunction(b.connections.target,d);delete C[a.id]}b=A[a.id];null!=b&&(d=function(b){return b.id===a.id},c.removeWithFunction(b.connections.source,d),c.removeWithFunction(b.connections.target,d),delete A[a.id])}function f(b,c){b=b.getMembers();for(var d=0;d<b.length;d++)a[c?"show":
"hide"](b[d],!0)}function l(b){var c=b.getMembers(),d=a.getConnections({source:c,scope:"*"},!0);c=a.getConnections({target:c,scope:"*"},!0);var e={};b.connections.source.length=0;b.connections.target.length=0;var g=function(a){for(var c=0;c<a.length;c++)e[a[c].id]||(e[a[c].id]=!0,a[c].source._jsPlumbGroup===b?(a[c].target._jsPlumbGroup!==b&&b.connections.source.push(a[c]),C[a[c].id]=b):a[c].target._jsPlumbGroup===b&&(b.connections.target.push(a[c]),A[a[c].id]=b))};g(d);g(c)}var m={},C={},A={},v=this;
a.bind("connection",function(a){null!=a.source._jsPlumbGroup&&null!=a.target._jsPlumbGroup&&a.source._jsPlumbGroup===a.target._jsPlumbGroup?(C[a.connection.id]=a.source._jsPlumbGroup,A[a.connection.id]=a.source._jsPlumbGroup):(null!=a.source._jsPlumbGroup&&(c.suggest(a.source._jsPlumbGroup.connections.source,a.connection),C[a.connection.id]=a.source._jsPlumbGroup),null!=a.target._jsPlumbGroup&&(c.suggest(a.target._jsPlumbGroup.connections.target,a.connection),A[a.connection.id]=a.target._jsPlumbGroup))});
a.bind("internal.connectionDetached",function(a){e(a.connection)});a.bind("connectionMoved",function(a){var b=(0===a.index?C:A)[a.connection.id];b&&(b=b.connections[0===a.index?"source":"target"],a=b.indexOf(a.connection),-1!==a&&b.splice(a,1))});this.addGroup=function(b){a.addClass(b.getEl(),"jtk-group-expanded");m[b.id]=b;b.manager=this;l(b);a.fire("group:add",{group:b})};this.addToGroup=function(b,c,d){if(b=this.getGroup(b)){var e=b.getEl();if(!c._isJsPlumbGroup){var g=c._jsPlumbGroup;if(g!==b){var f=
a.getOffset(c,!0),l=b.collapsed?a.getOffset(e,!0):a.getOffset(b.getDragArea(),!0);null!=g&&(g.remove(c,d),v.updateConnectionsForGroup(g));b.add(c,d);d=function(a,c){var d=0===c?1:0;a.each(function(a){a.setVisible(!1);a.endpoints[d].element._jsPlumbGroup===b?(a.endpoints[d].setVisible(!1),v.expandConnection(a,d,b)):(a.endpoints[c].setVisible(!1),v.collapseConnection(a,c,b))})};b.collapsed&&(d(a.select({source:c}),0),d(a.select({target:c}),1));d=a.getId(c);a.dragManager.setParent(c,d,e,a.getId(e),f);
a.setPosition(c,{left:f.left-l.left,top:f.top-l.top});a.dragManager.revalidateParent(c,d,f);v.updateConnectionsForGroup(b);a.revalidate(d);setTimeout(function(){a.fire("group:addMember",{group:b,el:c})},0)}}}};this.removeFromGroup=function(a,b,c){(a=this.getGroup(a))&&a.remove(b,null,c)};this.getGroup=function(a){var b=a;if(c.isString(a)&&(b=m[a],null==b))throw new TypeError("No such group ["+a+"]");return b};this.getGroups=function(){var a=[],b;for(b in m)a.push(m[b]);return a};this.removeGroup=
function(b,c,d,e){b=this.getGroup(b);this.expandGroup(b,!0);b[c?"removeAll":"orphanAll"](d,e);a.remove(b.getEl());delete m[b.id];delete a._groups[b.id];a.fire("group:remove",{group:b})};this.removeAllGroups=function(a,b,c){for(var d in m)this.removeGroup(m[d],a,b,c)};var b=this.collapseConnection=function(b,c,d){var e=d.getEl(),f=a.getId(e),g=b.endpoints[c].elementId,l=b.endpoints[0===c?1:0].element;l._jsPlumbGroup&&!l._jsPlumbGroup.shouldProxy()&&l._jsPlumbGroup.collapsed||(b.proxies=b.proxies||
[],d=b.proxies[c]?b.proxies[c].ep:a.addEndpoint(e,{endpoint:d.getEndpoint(b,c),anchor:d.getAnchor(b,c),parameters:{isProxyEndpoint:!0}}),d.setDeleteOnEmpty(!0),b.proxies[c]={ep:d,originalEp:b.endpoints[c]},0===c?a.anchorManager.sourceChanged(g,f,b,e):(a.anchorManager.updateOtherEndpoint(b.endpoints[0].elementId,g,f,b),b.target=e,b.targetId=f),b.proxies[c].originalEp.detachFromConnection(b,null,!0),d.connections=[b],b.endpoints[c]=d,b.setVisible(!0))};this.collapseGroup=function(c){c=this.getGroup(c);
if(null!=c&&!c.collapsed){var d=c.getEl();f(c,!1);if(c.shouldProxy()){var e=function(a,d){for(var e=0;e<a.length;e++)b(a[e],d,c)};e(c.connections.source,0);e(c.connections.target,1)}c.collapsed=!0;a.removeClass(d,"jtk-group-expanded");a.addClass(d,"jtk-group-collapsed");a.revalidate(d);a.fire("group:collapse",{group:c})}};var d=this.expandConnection=function(b,c,d){if(null!=b.proxies&&null!=b.proxies[c]){d=a.getId(d.getEl());var e=b.proxies[c].originalEp.element,f=b.proxies[c].originalEp.elementId;
b.endpoints[c]=b.proxies[c].originalEp;0===c?a.anchorManager.sourceChanged(d,f,b,e):(a.anchorManager.updateOtherEndpoint(b.endpoints[0].elementId,d,f,b),b.target=e,b.targetId=f);b.proxies[c].ep.detachFromConnection(b,null);b.proxies[c].originalEp.addConnection(b);delete b.proxies[c]}};this.expandGroup=function(b,c){b=this.getGroup(b);if(null!=b&&b.collapsed){var e=b.getEl();f(b,!0);if(b.shouldProxy()){var g=function(a,c){for(var e=0;e<a.length;e++)d(a[e],c,b)};g(b.connections.source,0);g(b.connections.target,
1)}b.collapsed=!1;a.addClass(e,"jtk-group-expanded");a.removeClass(e,"jtk-group-collapsed");a.revalidate(e);this.repaintGroup(b);c||a.fire("group:expand",{group:b})}};this.repaintGroup=function(b){b=this.getGroup(b);b=b.getMembers();for(var c=0;c<b.length;c++)a.revalidate(b[c])};this.updateConnectionsForGroup=l;this.refreshAllGroups=function(){for(var b in m)l(m[b]),a.dragManager.updateOffsets(a.getId(m[b].getEl()))}},l=function(e,l){function f(a,b){var c=e.getSize(a.offsetParent);a=e.getSize(a);
var d=b[0];b=b[1];var f=b+a[1];return 0<d+a[0]&&d<c[0]&&0<f&&b<c[1]}function m(a){var b=e.getId(a),c=e.getOffset(a);a.parentNode.removeChild(a);e.getContainer().appendChild(a);e.setPosition(a,c);delete a._jsPlumbGroup;A(a);e.dragManager.clearParent(a,b)}function q(a){if(!f(a.el,a.pos)){var b=a.el._jsPlumbGroup;P?e.remove(a.el):m(a.el);b.remove(a.el)}}function C(a){var b=e.getId(a);e.revalidate(a);e.dragManager.revalidateParent(a,b)}function A(a){a._katavorioDrag&&((P||W)&&a._katavorioDrag.off("stop",
q),P||W||!H||(a._katavorioDrag.off("revert",C),a._katavorioDrag.setRevert(null)))}function v(a){if(a._katavorioDrag){if(P||W)a._katavorioDrag.on("stop",q);D&&a._katavorioDrag.setConstrain(!0);r&&a._katavorioDrag.setUseGhostProxy(!0);P||W||!H||(a._katavorioDrag.on("revert",C),a._katavorioDrag.setRevert(function(a,b){return!f(a,b)}))}}var b=this,d=l.el;this.getEl=function(){return d};this.id=l.id||c.uuid();d._isJsPlumbGroup=!0;var g=this.getDragArea=function(){var a=e.getSelector(d,"[jtk-group-content]");
return a&&0<a.length?a[0]:d},r=!0===l.ghost,D=r||!0===l.constrain,H=!1!==l.revert,W=!0===l.orphan,P=!0===l.prune,M=!0===l.dropOverride,Z=!1!==l.proxied,G=[];this.connections={source:[],target:[],internal:[]};this.getAnchor=function(a,b){return l.anchor||"Continuous"};this.getEndpoint=function(a,b){return l.endpoint||["Dot",{radius:10}]};this.collapsed=!1;if(!1!==l.draggable){var R={stop:function(a){e.fire("groupDragStop",jsPlumb.extend(a,{group:b}))},scope:"_jsPlumbGroupDrag"};l.dragOptions&&a.jsPlumb.extend(R,
l.dragOptions);e.draggable(l.el,R)}!1!==l.droppable&&e.droppable(l.el,{drop:function(a){a=a.drag.el;if(!a._isJsPlumbGroup){var c=a._jsPlumbGroup;c===b||null!=c&&c.overrideDrop(a,b)||e.getGroupManager().addToGroup(b,a,!1)}}});var I=function(a,b){a=null==a.nodeType?a:[a];for(var c=0;c<a.length;c++)b(a[c])};this.overrideDrop=function(a,b){return M&&(H||P||W)};this.add=function(a,c){var d=g();I(a,function(a){if(null!=a._jsPlumbGroup){if(a._jsPlumbGroup===b)return;a._jsPlumbGroup.remove(a,!0,c,!1)}a._jsPlumbGroup=
b;G.push(a);e.isAlreadyDraggable(a)&&v(a);a.parentNode!==d&&d.appendChild(a);c||e.fire("group:addMember",{group:b,el:a})});e.getGroupManager().updateConnectionsForGroup(b)};this.remove=function(a,d,f,g){I(a,function(a){delete a._jsPlumbGroup;c.removeWithFunction(G,function(b){return b===a});if(d)try{b.getDragArea().removeChild(a)}catch(Y){jsPlumbUtil.log("Could not remove element from Group "+Y)}A(a);f||e.fire("group:removeMember",{group:b,el:a})});g||e.getGroupManager().updateConnectionsForGroup(b)};
this.removeAll=function(a,c){for(var d=0,f=G.length;d<f;d++)b.remove(G[0],a,c,!0);G.length=0;e.getGroupManager().updateConnectionsForGroup(b)};this.orphanAll=function(){for(var a=0;a<G.length;a++)m(G[a]);G.length=0};this.getMembers=function(){return G};d._jsPlumbGroup=this;e.bind("elementDraggable",function(a){a.el._jsPlumbGroup===this&&v(a.el)}.bind(this));this.shouldProxy=function(){return Z};e.getGroupManager().addGroup(this)};e.prototype.addGroup=function(a){this._groups=this._groups||{};if(null!=
this._groups[a.id])throw new TypeError("cannot create Group ["+a.id+"]; a Group with that ID exists");if(null!=a.el._jsPlumbGroup)throw new TypeError("cannot create Group ["+a.id+"]; the given element is already a Group");var c=new l(this,a);this._groups[c.id]=c;a.collapsed&&this.collapseGroup(c);return c};e.prototype.addToGroup=function(a,c,e){var f=function(c){var f=this.getId(c);this.manage(f,c);this.getGroupManager().addToGroup(a,c,e)}.bind(this);if(Array.isArray(c))for(var l=0;l<c.length;l++)f(c[l]);
else f(c)};e.prototype.removeFromGroup=function(a,c,e){this.getGroupManager().removeFromGroup(a,c,e)};e.prototype.removeGroup=function(a,c,e,l){this.getGroupManager().removeGroup(a,c,e,l)};e.prototype.removeAllGroups=function(a,c,e){this.getGroupManager().removeAllGroups(a,c,e)};e.prototype.getGroup=function(a){return this.getGroupManager().getGroup(a)};e.prototype.getGroups=function(){return this.getGroupManager().getGroups()};e.prototype.expandGroup=function(a){this.getGroupManager().expandGroup(a)};
e.prototype.collapseGroup=function(a){this.getGroupManager().collapseGroup(a)};e.prototype.repaintGroup=function(a){this.getGroupManager().repaintGroup(a)};e.prototype.toggleGroup=function(a){a=this.getGroupManager().getGroup(a);if(null!=a)this.getGroupManager()[a.collapsed?"expandGroup":"collapseGroup"](a)};e.prototype.getGroupManager=function(){var a=this._groupManager;null==a&&(a=this._groupManager=new m(this));return a};e.prototype.removeGroupManager=function(){delete this._groupManager};e.prototype.getGroupFor=
function(a){if(a=this.getElement(a))return a._jsPlumbGroup}}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil;a.Connectors.Flowchart=function(c){this.type="Flowchart";c=c||{};c.stub=null==c.stub?30:c.stub;var e,l=a.Connectors.AbstractConnector.apply(this,arguments),f=null==c.midpoint?.5:c.midpoint,q=!0===c.alwaysRespectStubs,z=null,B=null,u=null!=c.cornerRadius?c.cornerRadius:0,C=function(a){return 0>a?-1:0===a?0:1},A=function(a){return[C(a[2]-a[0]),C(a[3]-a[1])]},v=function(a,b,c,d){if(z!==b||B!==c){var e=null==z?d.sx:z;d=null==B?d.sy:B;z=b;B=c;a.push([e,
d,b,c,e===b?"v":"h"])}},b=function(a){return Math.sqrt(Math.pow(a[0]-a[2],2)+Math.pow(a[1]-a[3],2))},d=function(a){var b=[];b.push.apply(b,a);return b},g=function(a,c,e){for(var f=null,g,m,q,r=0;r<c.length-1;r++){f=f||d(c[r]);g=d(c[r+1]);m=A(f);q=A(g);if(0<u&&f[4]!==g[4]){var z=Math.min(b(f),b(g));z=Math.min(u,z/2);f[2]-=m[0]*z;f[3]-=m[1]*z;g[0]+=q[0]*z;g[1]+=q[1]*z;m=m[1]===q[0]&&1===q[0]||m[1]===q[0]&&0===q[0]&&m[0]!==q[1]||m[1]===q[0]&&-1===q[0];var v=(g[1]>f[3]?1:-1)===(g[0]>f[2]?1:-1);q=v&&m||
!v&&!m?g[0]:f[2];v=v&&m||!v&&!m?f[3]:g[1];l.addSegment(a,"Straight",{x1:f[0],y1:f[1],x2:f[2],y2:f[3]});l.addSegment(a,"Arc",{r:z,x1:f[2],y1:f[3],x2:g[0],y2:g[1],cx:q,cy:v,ac:m})}else z=f[2]===f[0]?0:f[2]>f[0]?e.lw/2:-(e.lw/2),m=f[3]===f[1]?0:f[3]>f[1]?e.lw/2:-(e.lw/2),l.addSegment(a,"Straight",{x1:f[0]-z,y1:f[1]-m,x2:f[2]+z,y2:f[3]+m});f=g}null!=g&&l.addSegment(a,"Straight",{x1:g[0],y1:g[1],x2:g[2],y2:g[3]})};this._compute=function(a,b){e=[];B=z=null;var c=function(){return[a.startStubX,a.startStubY,
a.endStubX,a.endStubY]};c={perpendicular:c,orthogonal:c,opposite:function(b){var c="x"===b?0:1,d={x:function(){return 1===a.so[c]&&(a.startStubX>a.endStubX&&a.tx>a.startStubX||a.sx>a.endStubX&&a.tx>a.sx)||-1===a.so[c]&&(a.startStubX<a.endStubX&&a.tx<a.startStubX||a.sx<a.endStubX&&a.tx<a.sx)},y:function(){return 1===a.so[c]&&(a.startStubY>a.endStubY&&a.ty>a.startStubY||a.sy>a.endStubY&&a.ty>a.sy)||-1===a.so[c]&&(a.startStubY<a.endStubY&&a.ty<a.startStubY||a.sy<a.endStubY&&a.ty<a.sy)}};return!q&&d[b]()?
{x:[(a.sx+a.tx)/2,a.startStubY,(a.sx+a.tx)/2,a.endStubY],y:[a.startStubX,(a.sy+a.ty)/2,a.endStubX,(a.sy+a.ty)/2]}[b]:[a.startStubX,a.startStubY,a.endStubX,a.endStubY]}}[a.anchorOrientation](a.sourceAxis);var d="x"===a.sourceAxis?0:1,m="x"===a.sourceAxis?1:0,r=c[d],u=c[m],A=c[d+2];m=c[m+2];v(e,c[0],c[1],a);var C=a.startStubX+(a.endStubX-a.startStubX)*f,D=a.startStubY+(a.endStubY-a.startStubY)*f,X={x:[0,1],y:[1,0]};if(r={perpendicular:function(b){var c={x:[[a.startStubX,a.endStubX],null,[a.endStubX,
a.startStubX]],y:[[a.startStubY,a.endStubY],null,[a.endStubY,a.startStubY]]},d={x:[[C,a.startStubY],[C,a.endStubY]],y:[[a.startStubX,D],[a.endStubX,D]]},e={x:[[a.endStubX,a.startStubY]],y:[[a.startStubX,a.endStubY]]},f={x:[[a.startStubX,a.endStubY],[a.endStubX,a.endStubY]],y:[[a.endStubX,a.startStubY],[a.endStubX,a.endStubY]]},g={x:[[a.startStubX,D],[a.endStubX,D],[a.endStubX,a.endStubY]],y:[[C,a.startStubY],[C,a.endStubY],[a.endStubX,a.endStubY]]},l={x:[a.startStubY,a.endStubY],y:[a.startStubX,a.endStubX]},
m=X[b][1],q=a.so[X[b][0]]+1;l=-1===a.to[m]&&l[b][1]<l[b][0]||1===a.to[m]&&l[b][1]>l[b][0];var z=c[b][q][0];c=c[b][q][1];m={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[b][q][a.to[m]+1];if(a.segment===m[3]||a.segment===m[2]&&l)return d[b];if(a.segment===m[2]&&c<z)return e[b];if(a.segment===m[2]&&c>=z||a.segment===m[1]&&!l)return g[b];if(a.segment===m[0]||a.segment===m[1]&&l)return f[b]},orthogonal:function(b,c,d,e,f){c=
{x:-1===a.so[0]?Math.min(c,e):Math.max(c,e),y:-1===a.so[1]?Math.min(c,e):Math.max(c,e)}[b];return{x:[[c,d],[c,f],[e,f]],y:[[d,c],[f,c],[f,e]]}[b]},opposite:function(c,e,f,g){var m={x:"y",y:"x"}[c],q={x:"height",y:"width"}[c],z=a["is"+c.toUpperCase()+"GreaterThanStubTimes2"];if(b.sourceEndpoint.elementId===b.targetEndpoint.elementId)return f=f+(1-b.sourceEndpoint.anchor[m])*b.sourceInfo[q]+l.maxStub,{x:[[e,f],[g,f]],y:[[f,e],[f,g]]}[c];if(!z||1===a.so[d]&&e>g||-1===a.so[d]&&e<g)return{x:[[e,D],[g,
D]],y:[[C,e],[C,g]]}[c];if(1===a.so[d]&&e<g||-1===a.so[d]&&e>g)return{x:[[C,a.sy],[C,a.ty]],y:[[a.sx,D],[a.tx,D]]}[c]}}[a.anchorOrientation](a.sourceAxis,r,u,A,m))for(u=0;u<r.length;u++)v(e,r[u][0],r[u][1],a);v(e,c[2],c[3],a);v(e,a.tx,a.ty,a);g(this,e,a)}};c.extend(a.Connectors.Flowchart,a.Connectors.AbstractConnector)}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil;a.Connectors.AbstractBezierConnector=function(c){c=c||{};var e=!1!==c.showLoopback,f=c.margin||5,m=c.orientation&&"clockwise"===c.orientation,z=c.loopbackRadius||25,B;this._compute=function(a,c){var l=c.sourcePos,q=c.targetPos,b=Math.abs(l[0]-q[0]),d=Math.abs(l[1]-q[1]);if(e&&c.sourceEndpoint.elementId===c.targetEndpoint.elementId){l=c.sourcePos[0];c=c.sourcePos[1]-f;q=c-z;var g=l-z,r=q-z;b=2*z;d=2*z;a.points[0]=g;a.points[1]=r;a.points[2]=b;a.points[3]=
d;B.addSegment(this,"Arc",{loopback:!0,x1:l-g+4,y1:c-r,startAngle:0,endAngle:2*Math.PI,r:z,ac:!m,x2:l-g-4,y2:c-r,cx:l-g,cy:q-r})}else this._computeBezier(a,c,l,q,b,d)};return B=a.Connectors.AbstractConnector.apply(this,arguments)};c.extend(a.Connectors.AbstractBezierConnector,a.Connectors.AbstractConnector);var e=function(c){c=c||{};this.type="Bezier";var e=a.Connectors.AbstractBezierConnector.apply(this,arguments),f=c.curviness||150;this.getCurviness=function(){return f};this._findControlPoint=function(a,
c,e,l,m,A,v){l=[];A[0]===v[0]&&A[1]!==v[1]?(0===A[0]?l.push(c[0]<e[0]?a[0]+10:a[0]-10):l.push(a[0]-f*A[0]),0===A[1]?l.push(c[1]<e[1]?a[1]+10:a[1]-10):l.push(a[1]+f*v[1])):(0===v[0]?l.push(e[0]<c[0]?a[0]+10:a[0]-10):l.push(a[0]+f*v[0]),0===v[1]?l.push(e[1]<c[1]?a[1]+10:a[1]-10):l.push(a[1]+f*A[1]));return l};this._computeBezier=function(a,c,f,l,m,A){var q=f[0]<l[0]?m:0,b=f[1]<l[1]?A:0;m=f[0]<l[0]?0:m;var d=f[1]<l[1]?0:A;A=this._findControlPoint([q,b],f,l,c.sourceEndpoint,c.targetEndpoint,a.so,a.to);
a=this._findControlPoint([m,d],l,f,c.targetEndpoint,c.sourceEndpoint,a.to,a.so);e.addSegment(this,"Bezier",{x1:q,y1:b,x2:m,y2:d,cp1x:A[0],cp1y:A[1],cp2x:a[0],cp2y:a[1]})}};a.Connectors.Bezier=e;c.extend(e,a.Connectors.AbstractBezierConnector)}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil,e=function(c){c=c||{};this.type="StateMachine";var e=a.Connectors.AbstractBezierConnector.apply(this,arguments),f=c.curviness||10,m=c.margin||5,z=c.proximityLimit||80,B;this._computeBezier=function(a,c,l,q,b,d){a=c.sourcePos[0]<c.targetPos[0]?0:b;l=c.sourcePos[1]<c.targetPos[1]?0:d;b=c.sourcePos[0]<c.targetPos[0]?b:0;d=c.sourcePos[1]<c.targetPos[1]?d:0;0===c.sourcePos[2]&&(a-=m);1===c.sourcePos[2]&&(a+=m);0===c.sourcePos[3]&&(l-=m);1===c.sourcePos[3]&&
(l+=m);0===c.targetPos[2]&&(b-=m);1===c.targetPos[2]&&(b+=m);0===c.targetPos[3]&&(d-=m);1===c.targetPos[3]&&(d+=m);q=(a+b)/2;var g=(l+d)/2;var r=a<=b&&d<=l?1:a<=b&&l<=d?2:b<=a&&d>=l?3:4;var u=c.sourcePos;c=c.targetPos;B=Math.sqrt(Math.pow(b-a,2)+Math.pow(d-l,2))<=z?[q,g]:1===r?0>=u[3]&&1<=c[3]?[q+(.5>u[2]?-1*f:f),g]:1<=u[2]&&0>=c[2]?[q,g+(.5>u[3]?-1*f:f)]:[q+-1*f,g+-1*f]:2===r?1<=u[3]&&0>=c[3]?[q+(.5>u[2]?-1*f:f),g]:1<=u[2]&&0>=c[2]?[q,g+(.5>u[3]?-1*f:f)]:[q+f,g+-1*f]:3===r?1<=u[3]&&0>=c[3]?[q+(.5>
u[2]?-1*f:f),g]:0>=u[2]&&1<=c[2]?[q,g+(.5>u[3]?-1*f:f)]:[q+-1*f,g+-1*f]:4===r?0>=u[3]&&1<=c[3]?[q+(.5>u[2]?-1*f:f),g]:0>=u[2]&&1<=c[2]?[q,g+(.5>u[3]?-1*f:f)]:[q+f,g+-1*f]:void 0;e.addSegment(this,"Bezier",{x1:b,y1:d,x2:a,y2:l,cp1x:B[0],cp1y:B[1],cp2x:B[0],cp2y:B[1]})}};a.Connectors.StateMachine=e;c.extend(e,a.Connectors.AbstractBezierConnector)}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil,e=function(c){this.type="Straight";var e=a.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(a,c){e.addSegment(this,"Straight",{x1:a.sx,y1:a.sy,x2:a.startStubX,y2:a.startStubY});e.addSegment(this,"Straight",{x1:a.startStubX,y1:a.startStubY,x2:a.endStubX,y2:a.endStubY});e.addSegment(this,"Straight",{x1:a.endStubX,y1:a.endStubY,x2:a.tx,y2:a.ty})}};a.Connectors.Straight=e;c.extend(e,a.Connectors.AbstractConnector)}).call("undefined"!==
typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil,e={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},m=function(a,b){for(var c in b)a.setAttribute(c,""+b[c])},l=function(c,b){b=b||{};b.version="1.1";b.xmlns="http://www.w3.org/2000/svg";return a.createElementNS("http://www.w3.org/2000/svg",c,null,null,b)},f=function(a){return"position:absolute;left:"+a[0]+"px;top:"+a[1]+"px"},q=function(a){a=a.querySelectorAll(" defs,linearGradient,radialGradient");for(var b=
0;b<a.length;b++)a[b].parentNode.removeChild(a[b])},z=function(a,b,c,e,f){e="jsplumb_gradient_"+f._jsPlumb.instance.idstamp();q(a);var d=c.gradient.offset?l("radialGradient",{id:e}):l("linearGradient",{id:e,gradientUnits:"userSpaceOnUse"});var g=l("defs");a.appendChild(g);g.appendChild(d);for(a=0;a<c.gradient.stops.length;a++)g=l("stop",{offset:Math.floor(100*c.gradient.stops[a][0])+"%","stop-color":c.gradient.stops[1===f.segment||2===f.segment?a:c.gradient.stops.length-1-a][1]}),d.appendChild(g);
b.setAttribute(c.stroke?"stroke":"fill","url(#"+e+")")},B=function(a,b,c,f,l){b.setAttribute("fill",c.fill?c.fill:"none");b.setAttribute("stroke",c.stroke?c.stroke:"none");c.gradient?z(a,b,c,f,l):(q(a),b.setAttribute("style",""));c.strokeWidth&&b.setAttribute("stroke-width",c.strokeWidth);if(c.dashstyle&&c.strokeWidth&&!c["stroke-dasharray"]){var d=-1===c.dashstyle.indexOf(",")?" ":",",g="";c.dashstyle.split(d).forEach(function(a){g+=Math.floor(a*c.strokeWidth)+d});b.setAttribute("stroke-dasharray",
g)}else c["stroke-dasharray"]&&b.setAttribute("stroke-dasharray",c["stroke-dasharray"]);for(var m in e)c[m]&&b.setAttribute(e[m],c[m])};c.svg={node:l,attr:m,pos:f};var u=function(e){var b=e.pointerEventsSpec||"all",d={};a.jsPlumbUIComponent.apply(this,e.originalArgs);this.bgCanvas=this.svg=this.path=this.canvas=null;var g=e.cssClass+" "+(e.originalArgs[0].cssClass||"");this.svg=l("svg",{style:"",width:0,height:0,"pointer-events":b,position:"absolute"});e.useDivWrapper?(this.canvas=a.createElement("div",
{position:"absolute"}),c.sizeElement(this.canvas,0,0,1,1),this.canvas.className=g):(m(this.svg,{"class":g}),this.canvas=this.svg);e._jsPlumb.appendElement(this.canvas,e.originalArgs[0].parent);e.useDivWrapper&&this.canvas.appendChild(this.svg);var q=[this.canvas];this.getDisplayElements=function(){return q};this.appendDisplayElement=function(a){q.push(a)};this.paint=function(a,b,g){if(null!=a){var l=[this.x,this.y],q=[this.w,this.h];null!=g&&(0>g.xmin&&(l[0]+=g.xmin),0>g.ymin&&(l[1]+=g.ymin),q[0]=
g.xmax+(0>g.xmin?-g.xmin:0),q[1]=g.ymax+(0>g.ymin?-g.ymin:0));e.useDivWrapper?(c.sizeElement(this.canvas,l[0],l[1],q[0],q[1]),l[0]=0,l[1]=0,l=f([0,0])):l=f([l[0],l[1]]);d.paint.apply(this,arguments);m(this.svg,{style:l,width:q[0]||0,height:q[1]||0})}};return{renderer:d}};c.extend(u,a.jsPlumbUIComponent,{cleanup:function(a){a||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&
this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.group=this.path=this.canvas=this.svg=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(a){a=a.getContainer();this.canvas&&null==this.canvas.parentNode&&a.appendChild(this.canvas);this.bgCanvas&&null==this.bgCanvas.parentNode&&
a.appendChild(this.bgCanvas)},setVisible:function(a){this.canvas&&(this.canvas.style.display=a?"block":"none")}});a.ConnectorRenderers.svg=function(c){var b=this;u.apply(this,[{cssClass:c._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:c._jsPlumb}]).renderer.paint=function(d,e,f){var g=b.getSegments();e=[0,0];0>f.xmin&&(e[0]=-f.xmin);0>f.ymin&&(e[1]=-f.ymin);if(0<g.length){f=b.getPathData();e={d:f,transform:"translate("+e[0]+","+e[1]+")","pointer-events":c["pointer-events"]||
"visibleStroke"};f=[b.x,b.y,b.w,b.h];if(d.outlineStroke){var q=d.strokeWidth+2*(d.outlineWidth||1);g=a.extend({},d);delete g.gradient;g.stroke=d.outlineStroke;g.strokeWidth=q;if(null==b.bgPath){b.bgPath=l("path",e);a.addClass(b.bgPath,a.connectorOutlineClass);q=b.svg;var z=b.bgPath;0<q.childNodes.length?q.insertBefore(z,q.childNodes[0]):q.appendChild(z)}else m(b.bgPath,e);B(b.svg,b.bgPath,g,f,b)}null==b.path?(b.path=l("path",e),e=b.svg,g=b.path,q=d.outlineStroke?1:0,e.childNodes.length>q?e.insertBefore(g,
e.childNodes[q]):e.appendChild(g)):m(b.path,e);B(b.svg,b.path,d,f,b)}}};c.extend(a.ConnectorRenderers.svg,u);var C=a.SvgEndpoint=function(c){u.apply(this,[{cssClass:c._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:c._jsPlumb}]).renderer.paint=function(b){b=a.extend({},b);b.outlineStroke&&(b.stroke=b.outlineStroke);null==this.node?(this.node=this.makeNode(b),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node);B(this.svg,
this.node,b,[this.x,this.y,this.w,this.h],this);f(this.node,[this.x,this.y])}.bind(this)};c.extend(C,u);a.Endpoints.svg.Dot=function(){a.Endpoints.Dot.apply(this,arguments);C.apply(this,arguments);this.makeNode=function(a){return l("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})};this.updateNode=function(a){m(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}};c.extend(a.Endpoints.svg.Dot,[a.Endpoints.Dot,C]);a.Endpoints.svg.Rectangle=function(){a.Endpoints.Rectangle.apply(this,arguments);C.apply(this,
arguments);this.makeNode=function(a){return l("rect",{width:this.w,height:this.h})};this.updateNode=function(a){m(a,{width:this.w,height:this.h})}};c.extend(a.Endpoints.svg.Rectangle,[a.Endpoints.Rectangle,C]);a.Connectors.svg.Flowchart=function(){a.Connectors.Flowchart.apply(this,arguments);a.ConnectorRenderers.svg.apply(this,arguments)};c.extend(a.Connectors.svg.Flowchart,[a.Connectors.Flowchart,a.ConnectorRenderers.svg]);a.Connectors.svg.Bezier=function(){a.Connectors.Bezier.apply(this,arguments);
a.ConnectorRenderers.svg.apply(this,arguments)};c.extend(a.Connectors.svg.Bezier,[a.Connectors.Bezier,a.ConnectorRenderers.svg]);a.Connectors.svg.Straight=function(){a.Connectors.Straight.apply(this,arguments);a.ConnectorRenderers.svg.apply(this,arguments)};c.extend(a.Connectors.svg.Straight,[a.Connectors.Straight,a.ConnectorRenderers.svg]);a.Connectors.svg.StateMachine=function(){a.Connectors.StateMachine.apply(this,arguments);a.ConnectorRenderers.svg.apply(this,arguments)};c.extend(a.Connectors.svg.StateMachine,
[a.Connectors.StateMachine,a.ConnectorRenderers.svg]);a.Endpoints.svg.Image=a.Endpoints.Image;a.Endpoints.svg.Blank=a.Endpoints.Blank;a.Overlays.svg.Label=a.Overlays.Label;a.Overlays.svg.Custom=a.Overlays.Custom;var A=function(c,b){c.apply(this,b);a.jsPlumbUIComponent.apply(this,b);this.isAppendedAtTopLevel=!1;this.path=null;this.paint=function(a,c){if(a.component.svg&&c){null==this.path&&(this.path=l("path",{"pointer-events":"all"}),a.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,
a.component),this.canvas=a.component.svg);var d=b&&1===b.length?b[0].cssClass||"":"",e=[0,0];0>c.xmin&&(e[0]=-c.xmin);0>c.ymin&&(e[1]=-c.ymin);c=this.path;var f=a.d;f=isNaN(f.cxy.x)||isNaN(f.cxy.y)?"":"M"+f.hxy.x+","+f.hxy.y+" L"+f.tail[0].x+","+f.tail[0].y+" L"+f.cxy.x+","+f.cxy.y+" L"+f.tail[1].x+","+f.tail[1].y+" L"+f.hxy.x+","+f.hxy.y;m(c,{d:f,"class":d,stroke:a.stroke?a.stroke:null,fill:a.fill?a.fill:null,transform:"translate("+e[0]+","+e[1]+")"})}};this.transfer=function(a){a.canvas&&this.path&&
this.path.parentNode&&(this.path.parentNode.removeChild(this.path),a.canvas.appendChild(this.path))}};c.extend(A,[a.jsPlumbUIComponent,a.Overlays.AbstractOverlay],{cleanup:function(a){null!=this.path&&(a?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(a,b){this.path&&b.canvas&&b.canvas.appendChild(this.path)},setVisible:function(a){null!=this.path&&(this.path.style.display=a?"block":"none")}});a.Overlays.svg.Arrow=
function(){A.apply(this,[a.Overlays.Arrow,arguments])};c.extend(a.Overlays.svg.Arrow,[a.Overlays.Arrow,A]);a.Overlays.svg.PlainArrow=function(){A.apply(this,[a.Overlays.PlainArrow,arguments])};c.extend(a.Overlays.svg.PlainArrow,[a.Overlays.PlainArrow,A]);a.Overlays.svg.Diamond=function(){A.apply(this,[a.Overlays.Diamond,arguments])};c.extend(a.Overlays.svg.Diamond,[a.Overlays.Diamond,A]);a.Overlays.svg.GuideLines=function(){var c=null,b=this,d,e;a.Overlays.GuideLines.apply(this,arguments);this.paint=
function(a,g){null==c&&(c=l("path"),a.connector.svg.appendChild(c),b.attachListeners(c,a.connector),b.attachListeners(c,b),d=l("path"),a.connector.svg.appendChild(d),b.attachListeners(d,a.connector),b.attachListeners(d,b),e=l("path"),a.connector.svg.appendChild(e),b.attachListeners(e,a.connector),b.attachListeners(e,b));var q=[0,0];0>g.xmin&&(q[0]=-g.xmin);0>g.ymin&&(q[1]=-g.ymin);m(c,{d:f(a.head,a.tail),stroke:"red",fill:null,transform:"translate("+q[0]+","+q[1]+")"});m(d,{d:f(a.tailLine[0],a.tailLine[1]),
stroke:"blue",fill:null,transform:"translate("+q[0]+","+q[1]+")"});m(e,{d:f(a.headLine[0],a.headLine[1]),stroke:"green",fill:null,transform:"translate("+q[0]+","+q[1]+")"})};var f=function(a,b){return"M "+a.x+","+a.y+" L"+b.x+","+b.y}};c.extend(a.Overlays.svg.GuideLines,a.Overlays.GuideLines)}).call("undefined"!==typeof window?window:this);
(function(){var a=this.jsPlumb,c=this.jsPlumbUtil,e=this.Katavorio,m=this.Biltong,l=function(c,f){f="_katavorio_"+(f||"main");var l=c[f],q=c.getEventManager();l||(l=new e({bind:q.on,unbind:q.off,getSize:a.getSize,getConstrainingRectangle:function(a){return[a.parentNode.scrollWidth,a.parentNode.scrollHeight]},getPosition:function(a,e){a=c.getOffset(a,e,a._katavorioDrag?a.offsetParent:null);return[a.left,a.top]},setPosition:function(a,c){a.style.left=c[0]+"px";a.style.top=c[1]+"px"},addClass:a.addClass,
removeClass:a.removeClass,intersects:m.intersects,indexOf:function(a,c){return a.indexOf(c)},scope:c.getDefaultScope(),css:{noSelect:c.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}}),l.setZoom(c.getZoom()),c[f]=l,c.bind("zoom",l.setZoom));return l},f=function(a,e){var f=function(f){if(null!=e[f]){if(c.isString(e[f])){var l=e[f].match(/-=/)?-1:1,m=e[f].substring(2);
return a[f]+l*m}return e[f]}return a[f]};return[f("left"),f("top")]};a.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(a){if(null==a)return null;a="string"===typeof a?a:null!=a.length&&null==a.enctype?a[0]:a;return"string"===typeof a?document.getElementById(a):a},removeElement:function(a){l(this).elementRemoved(a);this.getEventManager().remove(a)},doAnimate:function(c,e,l){l=l||{};var m=this.getOffset(c);e=f(m,e);var q=l.duration||250,z=q/15,B=15/q*(e[0]-m.left),b=
15/q*(e[1]-m.top),d=0,g=setInterval(function(){a.setPosition(c,{left:m.left+B*(d+1),top:m.top+b*(d+1)});null!=l.step&&l.step(d,Math.ceil(z));d++;d>=z&&(window.clearInterval(g),null!=l.complete&&l.complete())},15)},destroyDraggable:function(a,c){l(this,c).destroyDraggable(a)},unbindDraggable:function(a,c,e,f){l(this,f).destroyDraggable(a,c,e)},destroyDroppable:function(a,c){l(this,c).destroyDroppable(a)},unbindDroppable:function(a,c,e,f){l(this,f).destroyDroppable(a,c,e)},initDraggable:function(a,
c,e){l(this,e).draggable(a,c)},initDroppable:function(a,c,e){l(this,e).droppable(a,c)},isAlreadyDraggable:function(a){return null!=a._katavorioDrag},isDragSupported:function(a,c){return!0},isDropSupported:function(a,c){return!0},isElementDraggable:function(c){c=a.getElement(c);return c._katavorioDrag&&c._katavorioDrag.isEnabled()},getDragObject:function(a){return a[0].drag.getDragElement()},getDragScope:function(a){return a._katavorioDrag&&a._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(a){return a[0].e},
getUIPosition:function(a,c){c=a[0].el;if(null==c.offsetParent)return null;a=a[0].finalPos||a[0].pos;a={left:a[0],top:a[1]};c._katavorioDrag&&c.offsetParent!==this.getContainer()&&(c=this.getOffset(c.offsetParent),a.left+=c.left,a.top+=c.top);return a},setDragFilter:function(a,c,e){a._katavorioDrag&&a._katavorioDrag.setFilter(c,e)},setElementDraggable:function(c,e){c=a.getElement(c);c._katavorioDrag&&c._katavorioDrag.setEnabled(e)},setDragScope:function(a,c){a._katavorioDrag&&a._katavorioDrag.k.setDragScope(a,
c)},setDropScope:function(a,c){a._katavorioDrop&&0<a._katavorioDrop.length&&a._katavorioDrop[0].k.setDropScope(a,c)},addToPosse:function(c,e){var f=Array.prototype.slice.call(arguments,1),m=l(this);a.each(c,function(c){c=[a.getElement(c)];c.push.apply(c,f);m.addToPosse.apply(m,c)})},setPosse:function(c,e){var f=Array.prototype.slice.call(arguments,1),m=l(this);a.each(c,function(c){c=[a.getElement(c)];c.push.apply(c,f);m.setPosse.apply(m,c)})},removeFromPosse:function(c,e){var f=Array.prototype.slice.call(arguments,
1),m=l(this);a.each(c,function(c){c=[a.getElement(c)];c.push.apply(c,f);m.removeFromPosse.apply(m,c)})},removeFromAllPosses:function(c){var e=l(this);a.each(c,function(c){e.removeFromAllPosses(a.getElement(c))})},setPosseState:function(c,e,f){var m=l(this);a.each(c,function(c){m.setPosseState(a.getElement(c),e,f)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},
stopDrag:function(a){a._katavorioDrag&&a._katavorioDrag.abort()},addToDragSelection:function(a){l(this).select(a)},removeFromDragSelection:function(a){l(this).deselect(a)},clearDragSelection:function(){l(this).deselectAll()},trigger:function(a,c,e,f){this.getEventManager().trigger(a,c,e,f)},doReset:function(){for(var a in this)0===a.indexOf("_katavorio_")&&this[a].reset()}});(function(a){var c=function(){/complete|loaded|interactive/.test(document.readyState)&&"undefined"!==typeof document.body&&
null!=document.body?a():setTimeout(c,9)};c()})(a.init)}).call("undefined"!==typeof window?window:this);/*
 Bootstrap v3.3.7 (http://getbootstrap.com)
 Copyright 2011-2016 Twitter, Inc.
 Licensed under the MIT license
*/
if("undefined"==typeof jQuery)throw Error("Bootstrap's JavaScript requires jQuery");+function(a){a=a.fn.jquery.split(" ")[0].split(".");if(2>a[0]&&9>a[1]||1==a[0]&&9==a[1]&&1>a[2]||3<a[0])throw Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4");}(jQuery);
+function(a){function c(){var a=document.createElement("bootstrap"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l;for(l in c)if(void 0!==a.style[l])return{end:c[l]};return!1}a.fn.emulateTransitionEnd=function(c){var e=!1,l=this;a(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||a(l).trigger(a.support.transition.end)},c),this};a(function(){a.support.transition=c();a.support.transition&&
(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(c){if(a(c.target).is(this))return c.handleObj.handler.apply(this,arguments)}})})}(jQuery);
+function(a){var c=function(c){a(c).on("click",'[data-dismiss="alert"]',this.close)};c.VERSION="3.3.7";c.TRANSITION_DURATION=150;c.prototype.close=function(e){function l(){z.detach().trigger("closed.bs.alert").remove()}var f=a(this),m=f.attr("data-target");m||(m=f.attr("href"),m=m&&m.replace(/.*(?=#[^\s]*$)/,""));var z=a("#"===m?[]:m);e&&e.preventDefault();z.length||(z=f.closest(".alert"));z.trigger(e=a.Event("close.bs.alert"));e.isDefaultPrevented()||(z.removeClass("in"),a.support.transition&&z.hasClass("fade")?
z.one("bsTransitionEnd",l).emulateTransitionEnd(c.TRANSITION_DURATION):l())};var e=a.fn.alert;a.fn.alert=function(e){return this.each(function(){var l=a(this),f=l.data("bs.alert");f||l.data("bs.alert",f=new c(this));"string"==typeof e&&f[e].call(l)})};a.fn.alert.Constructor=c;a.fn.alert.noConflict=function(){return a.fn.alert=e,this};a(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',c.prototype.close)}(jQuery);
+function(a){function c(c){return this.each(function(){var f=a(this),l=f.data("bs.button"),m="object"==typeof c&&c;l||f.data("bs.button",l=new e(this,m));"toggle"==c?l.toggle():c&&l.setState(c)})}var e=function(c,f){this.$element=a(c);this.options=a.extend({},e.DEFAULTS,f);this.isLoading=!1};e.VERSION="3.3.7";e.DEFAULTS={loadingText:"loading..."};e.prototype.setState=function(c){var e=this.$element,l=e.is("input")?"val":"html",m=e.data();c+="Text";null==m.resetText&&e.data("resetText",e[l]());setTimeout(a.proxy(function(){e[l](null==
m[c]?this.options[c]:m[c]);"loadingText"==c?(this.isLoading=!0,e.addClass("disabled").attr("disabled","disabled").prop("disabled",!0)):this.isLoading&&(this.isLoading=!1,e.removeClass("disabled").removeAttr("disabled").prop("disabled",!1))},this),0)};e.prototype.toggle=function(){var a=!0,c=this.$element.closest('[data-toggle="buttons"]');if(c.length){var e=this.$element.find("input");"radio"==e.prop("type")?(e.prop("checked")&&(a=!1),c.find(".active").removeClass("active"),this.$element.addClass("active")):
"checkbox"==e.prop("type")&&(e.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active"));e.prop("checked",this.$element.hasClass("active"));a&&e.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var m=a.fn.button;a.fn.button=c;a.fn.button.Constructor=e;a.fn.button.noConflict=function(){return a.fn.button=m,this};a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var f=
a(e.target).closest(".btn");c.call(f,"toggle");a(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),f.is("input,button")?f.trigger("focus"):f.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(c){a(c.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(c.type))})}(jQuery);
+function(a){function c(c){return this.each(function(){var f=a(this),l=f.data("bs.carousel"),m=a.extend({},e.DEFAULTS,f.data(),"object"==typeof c&&c),u="string"==typeof c?c:m.slide;l||f.data("bs.carousel",l=new e(this,m));"number"==typeof c?l.to(c):u?l[u]():m.interval&&l.pause().cycle()})}var e=function(c,e){this.$element=a(c);this.$indicators=this.$element.find(".carousel-indicators");this.options=e;this.$items=this.$active=this.interval=this.sliding=this.paused=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",
a.proxy(this.keydown,this));"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};e.VERSION="3.3.7";e.TRANSITION_DURATION=600;e.DEFAULTS={interval:5E3,pause:"hover",wrap:!0,keyboard:!0};e.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}};
e.prototype.cycle=function(c){return c||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this};e.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)};e.prototype.getItemForDirection=function(a,c){var e=this.getItemIndex(c);return("prev"==a&&0===e||"next"==a&&e==this.$items.length-1)&&!this.options.wrap?c:this.$items.eq((e+
("prev"==a?-1:1))%this.$items.length)};e.prototype.to=function(a){var c=this,e=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||0>a))return this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(a)}):e==a?this.pause().cycle():this.slide(a>e?"next":"prev",this.$items.eq(a))};e.prototype.pause=function(c){return c||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),
this.cycle(!0)),this.interval=clearInterval(this.interval),this};e.prototype.next=function(){if(!this.sliding)return this.slide("next")};e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")};e.prototype.slide=function(c,l){var f=this.$element.find(".item.active"),m=l||this.getItemForDirection(c,f);l=this.interval;var q="next"==c?"left":"right",C=this;if(m.hasClass("active"))return this.sliding=!1;var A=m[0],v=a.Event("slide.bs.carousel",{relatedTarget:A,direction:q});if(this.$element.trigger(v),
!v.isDefaultPrevented()){if(this.sliding=!0,l&&this.pause(),this.$indicators.length)this.$indicators.find(".active").removeClass("active"),(v=a(this.$indicators.children()[this.getItemIndex(m)]))&&v.addClass("active");var b=a.Event("slid.bs.carousel",{relatedTarget:A,direction:q});return a.support.transition&&this.$element.hasClass("slide")?(m.addClass(c),m[0].offsetWidth,f.addClass(q),m.addClass(q),f.one("bsTransitionEnd",function(){m.removeClass([c,q].join(" ")).addClass("active");f.removeClass(["active",
q].join(" "));C.sliding=!1;setTimeout(function(){C.$element.trigger(b)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(f.removeClass("active"),m.addClass("active"),this.sliding=!1,this.$element.trigger(b)),l&&this.cycle(),this}};var m=a.fn.carousel;a.fn.carousel=c;a.fn.carousel.Constructor=e;a.fn.carousel.noConflict=function(){return a.fn.carousel=m,this};var l=function(e){var f,l=a(this),m=a(l.attr("data-target")||(f=l.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));m.hasClass("carousel")&&(f=
a.extend({},m.data(),l.data()),(l=l.attr("data-slide-to"))&&(f.interval=!1),c.call(m,f),l&&m.data("bs.carousel").to(l),e.preventDefault())};a(document).on("click.bs.carousel.data-api","[data-slide]",l).on("click.bs.carousel.data-api","[data-slide-to]",l);a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var e=a(this);c.call(e,e.data())})})}(jQuery);
+function(a){function c(c){var e;c=c.attr("data-target")||(e=c.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(c)}function e(c){return this.each(function(){var e=a(this),f=e.data("bs.collapse"),l=a.extend({},m.DEFAULTS,e.data(),"object"==typeof c&&c);!f&&l.toggle&&/show|hide/.test(c)&&(l.toggle=!1);f||e.data("bs.collapse",f=new m(this,l));"string"==typeof c&&f[c]()})}var m=function(c,e){this.$element=a(c);this.options=a.extend({},m.DEFAULTS,e);this.$trigger=a('[data-toggle="collapse"][href="#'+
c.id+'"],[data-toggle="collapse"][data-target="#'+c.id+'"]');this.transitioning=null;this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger);this.options.toggle&&this.toggle()};m.VERSION="3.3.7";m.TRANSITION_DURATION=350;m.DEFAULTS={toggle:!0};m.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"};m.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c,l=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");
if(!(l&&l.length&&(c=l.data("bs.collapse"),c&&c.transitioning))){var z=a.Event("show.bs.collapse");if(this.$element.trigger(z),!z.isDefaultPrevented()){l&&l.length&&(e.call(l,"hide"),c||l.data("bs.collapse",null));var B=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[B](0).attr("aria-expanded",!0);this.$trigger.removeClass("collapsed").attr("aria-expanded",!0);this.transitioning=1;c=function(){this.$element.removeClass("collapsing").addClass("collapse in")[B]("");this.transitioning=
0;this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return c.call(this);l=a.camelCase(["scroll",B].join("-"));this.$element.one("bsTransitionEnd",a.proxy(c,this)).emulateTransitionEnd(m.TRANSITION_DURATION)[B](this.$element[0][l])}}}};m.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var c=a.Event("hide.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",
!1);this.$trigger.addClass("collapsed").attr("aria-expanded",!1);this.transitioning=1;var e=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(m.TRANSITION_DURATION):e.call(this)}}};m.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};m.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+
this.options.parent+'"]').each(a.proxy(function(e,l){e=a(l);this.addAriaAndCollapsedClass(c(e),e)},this)).end()};m.prototype.addAriaAndCollapsedClass=function(a,c){var e=a.hasClass("in");a.attr("aria-expanded",e);c.toggleClass("collapsed",!e).attr("aria-expanded",e)};var l=a.fn.collapse;a.fn.collapse=e;a.fn.collapse.Constructor=m;a.fn.collapse.noConflict=function(){return a.fn.collapse=l,this};a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(f){var l=a(this);l.attr("data-target")||
f.preventDefault();f=c(l);l=f.data("bs.collapse")?"toggle":l.data();e.call(f,l)})}(jQuery);
+function(a){function c(c){var e=c.attr("data-target");e||(e=c.attr("href"),e=e&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));return(e=e&&a(e))&&e.length?e:c.parent()}function e(e){e&&3===e.which||(a(m).remove(),a(l).each(function(){var f=a(this),l=c(f),m={relatedTarget:this};l.hasClass("open")&&(e&&"click"==e.type&&/input|textarea/i.test(e.target.tagName)&&a.contains(l[0],e.target)||(l.trigger(e=a.Event("hide.bs.dropdown",m)),e.isDefaultPrevented()||(f.attr("aria-expanded","false"),l.removeClass("open").trigger(a.Event("hidden.bs.dropdown",
m)))))}))}var m=".dropdown-backdrop",l='[data-toggle="dropdown"]',f=function(c){a(c).on("click.bs.dropdown",this.toggle)};f.VERSION="3.3.7";f.prototype.toggle=function(f){var l=a(this);if(!l.is(".disabled, :disabled")){var m=c(l),q=m.hasClass("open");if(e(),!q){"ontouchstart"in document.documentElement&&!m.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",e);q={relatedTarget:this};if(m.trigger(f=a.Event("show.bs.dropdown",
q)),f.isDefaultPrevented())return;l.trigger("focus").attr("aria-expanded","true");m.toggleClass("open").trigger(a.Event("shown.bs.dropdown",q))}return!1}};f.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var f=a(this);if(e.preventDefault(),e.stopPropagation(),!f.is(".disabled, :disabled")){var m=c(f),q=m.hasClass("open");if(!q&&27!=e.which||q&&27==e.which)return 27==e.which&&m.find(l).trigger("focus"),f.trigger("click");f=m.find(".dropdown-menu li:not(.disabled):visible a");
f.length&&(m=f.index(e.target),38==e.which&&0<m&&m--,40==e.which&&m<f.length-1&&m++,~m||(m=0),f.eq(m).trigger("focus"))}}};var q=a.fn.dropdown;a.fn.dropdown=function(c){return this.each(function(){var e=a(this),l=e.data("bs.dropdown");l||e.data("bs.dropdown",l=new f(this));"string"==typeof c&&l[c].call(e)})};a.fn.dropdown.Constructor=f;a.fn.dropdown.noConflict=function(){return a.fn.dropdown=q,this};a(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",
l,f.prototype.toggle).on("keydown.bs.dropdown.data-api",l,f.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",f.prototype.keydown)}(jQuery);
+function(a){function c(c,f){return this.each(function(){var l=a(this),m=l.data("bs.modal"),B=a.extend({},e.DEFAULTS,l.data(),"object"==typeof c&&c);m||l.data("bs.modal",m=new e(this,B));"string"==typeof c?m[c](f):B.show&&m.show(f)})}var e=function(c,e){this.options=e;this.$body=a(document.body);this.$element=a(c);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.VERSION="3.3.7";e.TRANSITION_DURATION=300;e.BACKDROP_TRANSITION_DURATION=150;e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};e.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};e.prototype.show=function(c){var f=this,l=a.Event("show.bs.modal",{relatedTarget:c});this.$element.trigger(l);this.isShown||l.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){f.$element.one("mouseup.dismiss.bs.modal",function(c){a(c.target).is(f.$element)&&(f.ignoreBackdropClick=!0)})}),this.backdrop(function(){var l=a.support.transition&&f.$element.hasClass("fade");f.$element.parent().length||f.$element.appendTo(f.$body);f.$element.show().scrollTop(0);f.adjustDialog();l&&f.$element[0].offsetWidth;
f.$element.addClass("in");f.enforceFocus();var m=a.Event("shown.bs.modal",{relatedTarget:c});l?f.$dialog.one("bsTransitionEnd",function(){f.$element.trigger("focus").trigger(m)}).emulateTransitionEnd(e.TRANSITION_DURATION):f.$element.trigger("focus").trigger(m)}))};e.prototype.hide=function(c){c&&c.preventDefault();c=a.Event("hide.bs.modal");this.$element.trigger(c);this.isShown&&!c.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())};e.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};e.prototype.escape=function(){this.isShown&&
this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")};e.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")};e.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};
e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};e.prototype.backdrop=function(c){var f=this,l=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var m=a.support.transition&&l;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+l).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===
a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),m&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),c)m?this.$backdrop.one("bsTransitionEnd",c).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):c()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),l=function(){f.removeBackdrop();c&&c()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",l).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):
l()):c&&c()};e.prototype.handleUpdate=function(){this.adjustDialog()};e.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};e.prototype.checkScrollbar=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),
a=a.right-Math.abs(a.left));this.bodyIsOverflowing=document.body.clientWidth<a;this.scrollbarWidth=this.measureScrollbar()};e.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};e.prototype.measureScrollbar=function(){var a=document.createElement("div");
a.className="modal-scrollbar-measure";this.$body.append(a);var c=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),c};var m=a.fn.modal;a.fn.modal=c;a.fn.modal.Constructor=e;a.fn.modal.noConflict=function(){return a.fn.modal=m,this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var f=a(this),l=f.attr("href"),m=a(f.attr("data-target")||l&&l.replace(/.*(?=#[^\s]+$)/,""));l=m.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(l)&&l},m.data(),f.data());f.is("a")&&
e.preventDefault();m.one("show.bs.modal",function(a){a.isDefaultPrevented()||m.one("hidden.bs.modal",function(){f.is(":visible")&&f.trigger("focus")})});c.call(m,l,this)})}(jQuery);
+function(a){var c=function(a,c){this.inState=this.$element=this.hoverState=this.timeout=this.enabled=this.options=this.type=null;this.init("tooltip",a,c)};c.VERSION="3.3.7";c.TRANSITION_DURATION=150;c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}};c.prototype.init=function(c,e,
f){if(this.enabled=!0,this.type=c,this.$element=a(e),this.options=this.getOptions(f),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");c=this.options.trigger.split(" ");
for(e=c.length;e--;)if(f=c[e],"click"==f)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=f){var l="hover"==f?"mouseleave":"focusout";this.$element.on(("hover"==f?"mouseenter":"focusin")+"."+this.type,this.options.selector,a.proxy(this.enter,this));this.$element.on(l+"."+this.type,this.options.selector,a.proxy(this.leave,this))}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};c.prototype.getDefaults=
function(){return c.DEFAULTS};c.prototype.getOptions=function(c){return c=a.extend({},this.getDefaults(),this.$element.data(),c),c.delay&&"number"==typeof c.delay&&(c.delay={show:c.delay,hide:c.delay}),c};c.prototype.getDelegateOptions=function(){var c={},e=this.getDefaults();return this._options&&a.each(this._options,function(a,l){e[a]!=l&&(c[a]=l)}),c};c.prototype.enter=function(c){var e=c instanceof this.constructor?c:a(c.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(c.currentTarget,
this.getDelegateOptions()),a(c.currentTarget).data("bs."+this.type,e)),c instanceof a.Event&&(e.inState["focusin"==c.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())};c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1};c.prototype.leave=
function(c){var e=c instanceof this.constructor?c:a(c.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(c.currentTarget,this.getDelegateOptions()),a(c.currentTarget).data("bs."+this.type,e)),c instanceof a.Event&&(e.inState["focusout"==c.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()};c.prototype.show=
function(){var e=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var l=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(!e.isDefaultPrevented()&&l){var f=this;e=this.tip();l=this.getUID(this.type);this.setContent();e.attr("id",l);this.$element.attr("aria-describedby",l);this.options.animation&&e.addClass("fade");l="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;
var q=/\s?auto?\s?/i,z=q.test(l);z&&(l=l.replace(q,"")||"top");e.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this);this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);q=this.getPosition();var B=e[0].offsetWidth,u=e[0].offsetHeight;if(z){z=l;var C=this.getPosition(this.$viewport);l="bottom"==l&&q.bottom+u>C.bottom?"top":"top"==l&&q.top-u<C.top?"bottom":"right"==l&&q.right+B>C.width?
"left":"left"==l&&q.left-B<C.left?"right":l;e.removeClass(z).addClass(l)}q=this.getCalculatedOffset(l,q,B,u);this.applyPlacement(q,l);l=function(){var a=f.hoverState;f.$element.trigger("shown.bs."+f.type);f.hoverState=null;"out"==a&&f.leave(f)};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",l).emulateTransitionEnd(c.TRANSITION_DURATION):l()}}};c.prototype.applyPlacement=function(c,e){var f=this.tip(),l=f[0].offsetWidth,m=f[0].offsetHeight,B=parseInt(f.css("margin-top"),10),
u=parseInt(f.css("margin-left"),10);isNaN(B)&&(B=0);isNaN(u)&&(u=0);c.top+=B;c.left+=u;a.offset.setOffset(f[0],a.extend({using:function(a){f.css({top:Math.round(a.top),left:Math.round(a.left)})}},c),0);f.addClass("in");B=f[0].offsetWidth;u=f[0].offsetHeight;"top"==e&&u!=m&&(c.top=c.top+m-u);var C=this.getViewportAdjustedDelta(e,c,B,u);C.left?c.left+=C.left:c.top+=C.top;l=(e=/top|bottom/.test(e))?2*C.left-l+B:2*C.top-m+u;m=e?"offsetWidth":"offsetHeight";f.offset(c);this.replaceArrow(l,f[0][m],e)};
c.prototype.replaceArrow=function(a,c,e){this.arrow().css(e?"left":"top",50*(1-a/c)+"%").css(e?"top":"left","")};c.prototype.setContent=function(){var a=this.tip(),c=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](c);a.removeClass("fade in top bottom left right")};c.prototype.hide=function(e){function l(){"in"!=f.hoverState&&m.detach();f.$element&&f.$element.removeAttr("aria-describedby").trigger("hidden.bs."+f.type);e&&e()}var f=this,m=a(this.$tip),z=a.Event("hide.bs."+
this.type);if(this.$element.trigger(z),!z.isDefaultPrevented())return m.removeClass("in"),a.support.transition&&m.hasClass("fade")?m.one("bsTransitionEnd",l).emulateTransitionEnd(c.TRANSITION_DURATION):l(),this.hoverState=null,this};c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")};c.prototype.hasContent=function(){return this.getTitle()};c.prototype.getPosition=
function(c){c=c||this.$element;var e=c[0],f="BODY"==e.tagName,m=e.getBoundingClientRect();null==m.width&&(m=a.extend({},m,{width:m.right-m.left,height:m.bottom-m.top}));e=window.SVGElement&&e instanceof window.SVGElement;e=f?{top:0,left:0}:e?null:c.offset();c={scroll:f?document.documentElement.scrollTop||document.body.scrollTop:c.scrollTop()};f=f?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},m,c,f,e)};c.prototype.getCalculatedOffset=function(a,c,e,q){return"bottom"==
a?{top:c.top+c.height,left:c.left+c.width/2-e/2}:"top"==a?{top:c.top-q,left:c.left+c.width/2-e/2}:"left"==a?{top:c.top+c.height/2-q/2,left:c.left-e}:{top:c.top+c.height/2-q/2,left:c.left+c.width}};c.prototype.getViewportAdjustedDelta=function(a,c,e,q){var f={top:0,left:0};if(!this.$viewport)return f;var l=this.options.viewport&&this.options.viewport.padding||0,m=this.getPosition(this.$viewport);/right|left/.test(a)?(e=c.top-l-m.scroll,c=c.top+l-m.scroll+q,e<m.top?f.top=m.top-e:c>m.top+m.height&&(f.top=
m.top+m.height-c)):(q=c.left-l,c=c.left+l+e,q<m.left?f.left=m.left-q:c>m.right&&(f.left=m.left+m.width-c));return f};c.prototype.getTitle=function(){var a=this.$element,c=this.options;return a.attr("data-original-title")||("function"==typeof c.title?c.title.call(a[0]):c.title)};c.prototype.getUID=function(a){do a+=~~(1E6*Math.random());while(document.getElementById(a));return a};c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw Error(this.type+
" `template` option must consist of exactly 1 top-level element!");return this.$tip};c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};c.prototype.enable=function(){this.enabled=!0};c.prototype.disable=function(){this.enabled=!1};c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(c){var e=this;c&&(e=a(c.currentTarget).data("bs."+this.type),e||(e=new this.constructor(c.currentTarget,this.getDelegateOptions()),a(c.currentTarget).data("bs."+
this.type,e)));c?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)};c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout);this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type);a.$tip&&a.$tip.detach();a.$tip=null;a.$arrow=null;a.$viewport=null;a.$element=null})};var e=a.fn.tooltip;a.fn.tooltip=function(e){return this.each(function(){var l=a(this),f=l.data("bs.tooltip"),m="object"==typeof e&&e;!f&&
/destroy|hide/.test(e)||(f||l.data("bs.tooltip",f=new c(this,m)),"string"==typeof e&&f[e]())})};a.fn.tooltip.Constructor=c;a.fn.tooltip.noConflict=function(){return a.fn.tooltip=e,this}}(jQuery);
+function(a){var c=function(a,c){this.init("popover",a,c)};if(!a.fn.tooltip)throw Error("Popover requires tooltip.js");c.VERSION="3.3.7";c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};
c.prototype.setContent=function(){var a=this.tip(),c=this.getTitle(),e=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](c);a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof e?"html":"append":"text"](e);a.removeClass("fade top bottom left right in");a.find(".popover-title").html()||a.find(".popover-title").hide()};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var a=this.$element,
c=this.options;return a.attr("data-content")||("function"==typeof c.content?c.content.call(a[0]):c.content)};c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=a.fn.popover;a.fn.popover=function(e){return this.each(function(){var l=a(this),f=l.data("bs.popover"),m="object"==typeof e&&e;!f&&/destroy|hide/.test(e)||(f||l.data("bs.popover",f=new c(this,m)),"string"==typeof e&&f[e]())})};a.fn.popover.Constructor=c;a.fn.popover.noConflict=function(){return a.fn.popover=
e,this}}(jQuery);
+function(a){function c(e,f){this.$body=a(document.body);this.$scrollElement=a(a(e).is(document.body)?window:e);this.options=a.extend({},c.DEFAULTS,f);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this));this.refresh();this.process()}function e(e){return this.each(function(){var f=a(this),l=f.data("bs.scrollspy"),m="object"==typeof e&&e;l||f.data("bs.scrollspy",
l=new c(this,m));"string"==typeof e&&l[e]()})}c.VERSION="3.3.7";c.DEFAULTS={offset:10};c.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};c.prototype.refresh=function(){var c=this,e="offset",m=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();a.isWindow(this.$scrollElement[0])||(e="position",m=this.$scrollElement.scrollTop());this.$body.find(this.selector).map(function(){var c=
a(this);c=c.data("target")||c.attr("href");var f=/^#./.test(c)&&a(c);return f&&f.length&&f.is(":visible")&&[[f[e]().top+m,c]]||null}).sort(function(a,c){return a[0]-c[0]}).each(function(){c.offsets.push(this[0]);c.targets.push(this[1])})};c.prototype.process=function(){var a,c=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),m=this.options.offset+e-this.$scrollElement.height(),B=this.offsets,u=this.targets,C=this.activeTarget;if(this.scrollHeight!=e&&this.refresh(),c>=
m)return C!=(a=u[u.length-1])&&this.activate(a);if(C&&c<B[0])return this.activeTarget=null,this.clear();for(a=B.length;a--;)C!=u[a]&&c>=B[a]&&(void 0===B[a+1]||c<B[a+1])&&this.activate(u[a])};c.prototype.activate=function(c){this.activeTarget=c;this.clear();c=a(this.selector+'[data-target="'+c+'"],'+this.selector+'[href="'+c+'"]').parents("li").addClass("active");c.parent(".dropdown-menu").length&&(c=c.closest("li.dropdown").addClass("active"));c.trigger("activate.bs.scrollspy")};c.prototype.clear=
function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var m=a.fn.scrollspy;a.fn.scrollspy=e;a.fn.scrollspy.Constructor=c;a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=m,this};a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var c=a(this);e.call(c,c.data())})})}(jQuery);
+function(a){function c(c){return this.each(function(){var f=a(this),l=f.data("bs.tab");l||f.data("bs.tab",l=new e(this));"string"==typeof c&&l[c]()})}var e=function(c){this.element=a(c)};e.VERSION="3.3.7";e.TRANSITION_DURATION=150;e.prototype.show=function(){var c=this.element,e=c.closest("ul:not(.dropdown-menu)"),l=c.data("target");if(l||(l=c.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,"")),!c.parent("li").hasClass("active")){var m=e.find(".active:last a"),u=a.Event("hide.bs.tab",{relatedTarget:c[0]}),
C=a.Event("show.bs.tab",{relatedTarget:m[0]});(m.trigger(u),c.trigger(C),C.isDefaultPrevented()||u.isDefaultPrevented())||(l=a(l),this.activate(c.closest("li"),e),this.activate(l,l.parent(),function(){m.trigger({type:"hidden.bs.tab",relatedTarget:c[0]});c.trigger({type:"shown.bs.tab",relatedTarget:m[0]})}))}};e.prototype.activate=function(c,l,m){function f(){q.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1);
c.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0);z?(c[0].offsetWidth,c.addClass("in")):c.removeClass("fade");c.parent(".dropdown-menu").length&&c.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0);m&&m()}var q=l.find("> .active"),z=m&&a.support.transition&&(q.length&&q.hasClass("fade")||!!l.find("> .fade").length);q.length&&z?q.one("bsTransitionEnd",f).emulateTransitionEnd(e.TRANSITION_DURATION):f();q.removeClass("in")};var m=
a.fn.tab;a.fn.tab=c;a.fn.tab.Constructor=e;a.fn.tab.noConflict=function(){return a.fn.tab=m,this};var l=function(e){e.preventDefault();c.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',l).on("click.bs.tab.data-api",'[data-toggle="pill"]',l)}(jQuery);
+function(a){function c(c){return this.each(function(){var f=a(this),l=f.data("bs.affix"),m="object"==typeof c&&c;l||f.data("bs.affix",l=new e(this,m));"string"==typeof c&&l[c]()})}var e=function(c,f){this.options=a.extend({},e.DEFAULTS,f);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(c);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};
e.VERSION="3.3.7";e.RESET="affix affix-top affix-bottom";e.DEFAULTS={offset:0,target:window};e.prototype.getState=function(a,c,e,m){var f=this.$target.scrollTop(),l=this.$element.offset(),q=this.$target.height();if(null!=e&&"top"==this.affixed)return f<e&&"top";if("bottom"==this.affixed)return null!=e?!(f+this.unpin<=l.top)&&"bottom":!(f+q<=a-m)&&"bottom";var z=null==this.affixed;l=z?f:l.top;return null!=e&&f<=e?"top":null!=m&&l+(z?q:c)>=a-m&&"bottom"};e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(e.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};e.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=this.$element.height(),f=this.options.offset,m=f.top,z=f.bottom,B=Math.max(a(document).height(),a(document.body).height());"object"!=typeof f&&(z=m=f);"function"==typeof m&&(m=f.top(this.$element));
"function"==typeof z&&(z=f.bottom(this.$element));f=this.getState(B,c,m,z);if(this.affixed!=f){null!=this.unpin&&this.$element.css("top","");m="affix"+(f?"-"+f:"");var u=a.Event(m+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=f;this.unpin="bottom"==f?this.getPinnedOffset():null;this.$element.removeClass(e.RESET).addClass(m).trigger(m.replace("affix","affixed")+".bs.affix")}"bottom"==f&&this.$element.offset({top:B-c-z})}};var m=a.fn.affix;a.fn.affix=c;a.fn.affix.Constructor=
e;a.fn.affix.noConflict=function(){return a.fn.affix=m,this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var e=a(this),f=e.data();f.offset=f.offset||{};null!=f.offsetBottom&&(f.offset.bottom=f.offsetBottom);null!=f.offsetTop&&(f.offset.top=f.offsetTop);c.call(e,f)})})}(jQuery);(function(a){"function"===typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)})(function(a){function c(c){!c||void 0!==c.allowPageScroll||void 0===c.swipe&&void 0===c.swipeStatus||(c.allowPageScroll="none");void 0!==c.click&&void 0===c.tap&&(c.tap=c.click);c||(c={});c=a.extend({},a.fn.swipe.defaults,c);return this.each(function(){var f=a(this),l=f.data("TouchSwipe");l||(l=new e(this,c),f.data("TouchSwipe",l))})}function e(c,e){function q(b){if(!0!==N.data("TouchSwipe_intouch")&&
!(0<a(b.target).closest(e.excludedElements,N).length)){var c=b.originalEvent?b.originalEvent:b,d=m?c.touches[0]:c;V="start";m?ja=c.touches.length:b.preventDefault();fa=0;O=la=null;Da=ra=ka=0;ea=1;U=0;E=S();Ka=T();cb=La=0;if(!m||ja===e.fingers||"all"===e.fingers||P()){if(X(0,d),pa=Ia(),2==ja&&(X(1,c.touches[1]),ra=Da=ta(E[0].start,E[1].start)),e.swipeStatus||e.pinchStatus)var f=g(c,V)}else f=!1;if(!1===f)return V="cancel",g(c,V),f;e.hold&&(Sa=setTimeout(a.proxy(function(){N.trigger("hold",[c.target]);
e.hold&&(f=e.hold.call(N,c,c.target))},this),e.longTapThreshold));I(!0);return null}}function u(b){var c=b.originalEvent?b.originalEvent:b;if("end"!==V&&"cancel"!==V&&!R()){var f=J(m?c.touches[0]:c);Oa=Ia();m&&(ja=c.touches.length);e.hold&&clearTimeout(Sa);V="move";2==ja&&(0==ra?(X(1,c.touches[1]),ra=Da=ta(E[0].start,E[1].start)):(J(c.touches[1]),Da=ta(E[0].end,E[1].end),O=1>ea?"out":"in"),ea=(Da/ra).toFixed(2),U=Math.abs(ra-Da));if(ja===e.fingers||"all"===e.fingers||!m||P()){var l=f.start;var q=
f.end;l=Math.round(180*Math.atan2(q.y-l.y,l.x-q.x)/Math.PI);0>l&&(l=360-Math.abs(l));l=la=45>=l&&0<=l?"left":360>=l&&315<=l?"left":135<=l&&225>=l?"right":45<l&&135>l?"down":"up";if("none"===e.allowPageScroll||P())b.preventDefault();else switch(q="auto"===e.allowPageScroll,l){case "left":(e.swipeLeft&&q||!q&&"horizontal"!=e.allowPageScroll)&&b.preventDefault();break;case "right":(e.swipeRight&&q||!q&&"horizontal"!=e.allowPageScroll)&&b.preventDefault();break;case "up":(e.swipeUp&&q||!q&&"vertical"!=
e.allowPageScroll)&&b.preventDefault();break;case "down":(e.swipeDown&&q||!q&&"vertical"!=e.allowPageScroll)&&b.preventDefault()}b=f.start;l=f.end;fa=Math.round(Math.sqrt(Math.pow(l.x-b.x,2)+Math.pow(l.y-b.y,2)));ka=Oa-pa;b=la;l=fa;l=Math.max(l,ba(b));Ka[b].distance=l;if(e.swipeStatus||e.pinchStatus)var r=g(c,V);if(!e.triggerOnTouchEnd||e.triggerOnTouchLeave){b=!0;if(e.triggerOnTouchLeave){var u=a(this);var z=u.offset();b=z.left;l=z.left+u.outerWidth();q=z.top;u=z.top+u.outerHeight();f=f.end;b=f.x>
b&&f.x<l&&f.y>q&&f.y<u}!e.triggerOnTouchEnd&&b?V=d("move"):e.triggerOnTouchLeave&&!b&&(V=d("end"));"cancel"!=V&&"end"!=V||g(c,V)}}else V="cancel",g(c,V);!1===r&&(V="cancel",g(c,V))}}function z(a){var b=a.originalEvent;if(m&&0<b.touches.length)return La=Ia(),cb=event.touches.length+1,!0;R()&&(ja=cb);Oa=Ia();ka=Oa-pa;H()||!D()?(V="cancel",g(b,V)):e.triggerOnTouchEnd||0==e.triggerOnTouchEnd&&"move"===V?(a.preventDefault(),V="end",g(b,V)):!e.triggerOnTouchEnd&&e.tap?(V="end",r(b,V,"tap")):"move"===V&&
(V="cancel",g(b,V));I(!1);return null}function A(){Da=ra=pa=Oa=ja=0;ea=1;cb=La=0;I(!1)}function v(a){a=a.originalEvent;e.triggerOnTouchLeave&&(V=d("end"),g(a,V))}function b(){N.unbind(ia,q);N.unbind(Ga,A);N.unbind(va,u);N.unbind(oa,z);wa&&N.unbind(wa,v);I(!1)}function d(a){var b=a,c=e.maxTimeThreshold?ka>=e.maxTimeThreshold?!1:!0:!0,d=D(),f=H();!c||f?b="cancel":!d||"move"!=a||e.triggerOnTouchEnd&&!e.triggerOnTouchLeave?!d&&"end"==a&&e.triggerOnTouchLeave&&(b="cancel"):b="end";return b}function g(a,
b){var c=void 0;M()&&Z()||Z()?c=r(a,b,"swipe"):(W()&&P()||P())&&!1!==c&&(c=r(a,b,"pinch"));G()&&e.doubleTap&&!1!==c?c=r(a,b,"doubletap"):ka>e.longTapThreshold&&10>fa&&e.longTap&&!1!==c?c=r(a,b,"longtap"):(1===ja||!m)&&(isNaN(fa)||fa<e.threshold)&&e.tap&&!1!==c&&(c=r(a,b,"tap"));"cancel"===b&&A(a);"end"===b&&(m?0==a.touches.length&&A(a):A(a));return c}function r(b,c,d){var f=void 0;if("swipe"==d){N.trigger("swipeStatus",[c,la||null,fa||0,ka||0,ja,E]);if(e.swipeStatus&&(f=e.swipeStatus.call(N,b,c,la||
null,fa||0,ka||0,ja,E),!1===f))return!1;if("end"==c&&M()){N.trigger("swipe",[la,fa,ka,ja,E]);if(e.swipe&&(f=e.swipe.call(N,b,la,fa,ka,ja,E),!1===f))return!1;switch(la){case "left":N.trigger("swipeLeft",[la,fa,ka,ja,E]);e.swipeLeft&&(f=e.swipeLeft.call(N,b,la,fa,ka,ja,E));break;case "right":N.trigger("swipeRight",[la,fa,ka,ja,E]);e.swipeRight&&(f=e.swipeRight.call(N,b,la,fa,ka,ja,E));break;case "up":N.trigger("swipeUp",[la,fa,ka,ja,E]);e.swipeUp&&(f=e.swipeUp.call(N,b,la,fa,ka,ja,E));break;case "down":N.trigger("swipeDown",
[la,fa,ka,ja,E]),e.swipeDown&&(f=e.swipeDown.call(N,b,la,fa,ka,ja,E))}}}if("pinch"==d){N.trigger("pinchStatus",[c,O||null,U||0,ka||0,ja,ea,E]);if(e.pinchStatus&&(f=e.pinchStatus.call(N,b,c,O||null,U||0,ka||0,ja,ea,E),!1===f))return!1;if("end"==c&&W())switch(O){case "in":N.trigger("pinchIn",[O||null,U||0,ka||0,ja,ea,E]);e.pinchIn&&(f=e.pinchIn.call(N,b,O||null,U||0,ka||0,ja,ea,E));break;case "out":N.trigger("pinchOut",[O||null,U||0,ka||0,ja,ea,E]),e.pinchOut&&(f=e.pinchOut.call(N,b,O||null,U||0,ka||
0,ja,ea,E))}}if("tap"==d){if("cancel"===c||"end"===c)clearTimeout(Ea),clearTimeout(Sa),e.doubleTap&&!G()?(ca=Ia(),Ea=setTimeout(a.proxy(function(){ca=null;N.trigger("tap",[b.target]);e.tap&&(f=e.tap.call(N,b,b.target))},this),e.doubleTapThreshold)):(ca=null,N.trigger("tap",[b.target]),e.tap&&(f=e.tap.call(N,b,b.target)))}else if("doubletap"==d){if("cancel"===c||"end"===c)clearTimeout(Ea),ca=null,N.trigger("doubletap",[b.target]),e.doubleTap&&(f=e.doubleTap.call(N,b,b.target))}else"longtap"!=d||"cancel"!==
c&&"end"!==c||(clearTimeout(Ea),ca=null,N.trigger("longtap",[b.target]),e.longTap&&(f=e.longTap.call(N,b,b.target)));return f}function D(){var a=!0;null!==e.threshold&&(a=fa>=e.threshold);return a}function H(){var a=!1;null!==e.cancelThreshold&&null!==la&&(a=ba(la)-fa>=e.cancelThreshold);return a}function W(){var a=ja===e.fingers||"all"===e.fingers||!m,b=0!==E[0].end.x;var c=null!==e.pinchThreshold?U>=e.pinchThreshold:!0;return a&&b&&c}function P(){return!!(e.pinchStatus||e.pinchIn||e.pinchOut)}function M(){var a=
e.maxTimeThreshold?ka>=e.maxTimeThreshold?!1:!0:!0,b=D(),c=ja===e.fingers||"all"===e.fingers||!m,d=0!==E[0].end.x;return!H()&&d&&c&&b&&a}function Z(){return!!(e.swipe||e.swipeStatus||e.swipeLeft||e.swipeRight||e.swipeUp||e.swipeDown)}function G(){if(null==ca)return!1;var a=Ia();return!!e.doubleTap&&a-ca<=e.doubleTapThreshold}function R(){var a=!1;La&&Ia()-La<=e.fingerReleaseThreshold&&(a=!0);return a}function I(a){!0===a?(N.bind(va,u),N.bind(oa,z),wa&&N.bind(wa,v)):(N.unbind(va,u,!1),N.unbind(oa,
z,!1),wa&&N.unbind(wa,v,!1));N.data("TouchSwipe_intouch",!0===a)}function X(a,b){E[a].identifier=void 0!==b.identifier?b.identifier:0;E[a].start.x=E[a].end.x=b.pageX||b.clientX;E[a].start.y=E[a].end.y=b.pageY||b.clientY;return E[a]}function J(a){var b=void 0!==a.identifier?a.identifier:0;a:{for(var c=0;c<E.length;c++)if(E[c].identifier==b){b=E[c];break a}b=void 0}b.end.x=a.pageX||a.clientX;b.end.y=a.pageY||a.clientY;return b}function S(){for(var a=[],b=0;5>=b;b++)a.push({start:{x:0,y:0},end:{x:0,
y:0},identifier:0});return a}function ba(a){if(Ka[a])return Ka[a].distance}function T(){var a={};a.left=Y("left");a.right=Y("right");a.up=Y("up");a.down=Y("down");return a}function Y(a){return{direction:a,distance:0}}function ta(a,b){var c=Math.abs(a.x-b.x);a=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+a*a))}function Ia(){return(new Date).getTime()}var Ha=m||f||!e.fallbackToMouseEvents,ia=Ha?f?l?"MSPointerDown":"pointerdown":"touchstart":"mousedown",va=Ha?f?l?"MSPointerMove":"pointermove":"touchmove":
"mousemove",oa=Ha?f?l?"MSPointerUp":"pointerup":"touchend":"mouseup",wa=Ha?null:"mouseleave",Ga=f?l?"MSPointerCancel":"pointercancel":"touchcancel",fa=0,la=null,ka=0,ra=0,Da=0,ea=1,U=0,O=0,Ka=null,N=a(c),V="start",ja=0,E=null,pa=0,Oa=0,La=0,cb=0,ca=0,Ea=null,Sa=null;try{N.bind(ia,q),N.bind(Ga,A)}catch(Q){a.error("events not supported "+ia+","+Ga+" on jQuery.swipe")}this.enable=function(){N.bind(ia,q);N.bind(Ga,A);return N};this.disable=function(){b();return N};this.destroy=function(){b();N.data("TouchSwipe",
null);return N};this.option=function(b,c){if(void 0!==e[b]){if(void 0===c)return e[b];e[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var m="ontouchstart"in window,l=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,f=window.navigator.pointerEnabled||window.navigator.msPointerEnabled;a.fn.swipe=function(e){var f=a(this),l=f.data("TouchSwipe");if(l&&"string"===typeof e){if(l[e])return l[e].apply(this,Array.prototype.slice.call(arguments,1));
a.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(l||"object"!==typeof e&&e))return c.apply(this,arguments);return f};a.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,
triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe.phases={PHASE_START:"start",PHASE_MOVE:"move",PHASE_END:"end",PHASE_CANCEL:"cancel"};a.fn.swipe.directions={LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down",IN:"in",OUT:"out"};a.fn.swipe.pageScroll={NONE:"none",HORIZONTAL:"horizontal",VERTICAL:"vertical",AUTO:"auto"};a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:"all"}});/*
 jQuery UI Touch Punch 0.2.3

 Copyright 2011?2014, Dave Furfero
 Dual licensed under the MIT or GPL Version 2 licenses.

 Depends:
  jquery.ui.widget.js
  jquery.ui.mouse.js
*/
(function(a){function c(a,c){if(!(1<a.originalEvent.touches.length)){a.preventDefault();var e=a.originalEvent.changedTouches[0],f=document.createEvent("MouseEvents");f.initMouseEvent(c,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(f)}}a.support.touch="ontouchend"in document;if(a.support.touch){var e=a.ui.mouse.prototype,m=e._mouseInit,l=e._mouseDestroy,f;e._touchStart=function(a){!f&&this._mouseCapture(a.originalEvent.changedTouches[0])&&(f=!0,this._touchMoved=
!1,c(a,"mouseover"),c(a,"mousemove"),c(a,"mousedown"))};e._touchMove=function(a){f&&(this._touchMoved=!0,c(a,"mousemove"))};e._touchEnd=function(a){f&&(c(a,"mouseup"),c(a,"mouseout"),this._touchMoved||c(a,"click"),f=!1)};e._mouseInit=function(){this.element.bind({touchstart:a.proxy(this,"_touchStart"),touchmove:a.proxy(this,"_touchMove"),touchend:a.proxy(this,"_touchEnd")});m.call(this)};e._mouseDestroy=function(){this.element.unbind({touchstart:a.proxy(this,"_touchStart"),touchmove:a.proxy(this,
"_touchMove"),touchend:a.proxy(this,"_touchEnd")});l.call(this)}}})(jQuery);!function(a,c){"object"==typeof exports&&"undefined"!=typeof module?c(exports):"function"==typeof define&&define.amd?define(["exports"],c):c(a.echarts={})}(this,function(a){function c(a,n){"createCanvas"===a&&(Gg=null);zi[a]=n}function e(a){if(null==a||"object"!=typeof a)return a;var h=a,b=Jf.call(a);if("[object Array]"===b){if(!a[me]){h=[];b=0;for(var c=a.length;b<c;b++)h[b]=e(a[b])}}else if(Ql[b]){if(!a[me])if(h=a.constructor,a.constructor.from)h=h.from(a);else for(h=new h(a.length),b=0,c=a.length;b<
c;b++)h[b]=e(a[b])}else if(!Rl[b]&&!a[me]&&!R(a))for(c in h={},a)a.hasOwnProperty(c)&&(h[c]=e(a[c]));return h}function m(a,b,c){if(!M(b)||!M(a))return c?e(b):a;for(var h in b)if(b.hasOwnProperty(h)){var n=a[h],w=b[h];!M(w)||!M(n)||H(w)||H(n)||R(w)||R(n)||Z(w)||Z(n)||w[me]||n[me]?!c&&h in a||(a[h]=e(b[h],!0)):m(n,w,c)}return a}function l(a,b){for(var h=a[0],n=1,c=a.length;n<c;n++)h=m(h,a[n],b);return h}function f(a,b){for(var h in b)b.hasOwnProperty(h)&&(a[h]=b[h]);return a}function q(a,b,c){for(var h in b)b.hasOwnProperty(h)&&
(c?null!=b[h]:null==a[h])&&(a[h]=b[h]);return a}function z(){return Gg||(Gg=Hg().getContext("2d")),Gg}function B(a,b){if(a){if(a.indexOf)return a.indexOf(b);for(var h=0,n=a.length;h<n;h++)if(a[h]===b)return h}return-1}function u(a,b){function h(){}var n=a.prototype;h.prototype=b.prototype;a.prototype=new h;for(var c in n)a.prototype[c]=n[c];a.prototype.constructor=a;a.superClass=b}function C(a,b,c){q("prototype"in a?a.prototype:a,"prototype"in b?b.prototype:b,c)}function A(a){if(a)return"string"!=
typeof a&&"number"==typeof a.length}function v(a,b,c){if(a&&b)if(a.forEach&&a.forEach===Lq)a.forEach(b,c);else if(a.length===+a.length)for(var h=0,n=a.length;h<n;h++)b.call(c,a[h],h,a);else for(h in a)a.hasOwnProperty(h)&&b.call(c,a[h],h,a)}function b(a,b,c){if(a&&b){if(a.map&&a.map===Mq)return a.map(b,c);for(var h=[],n=0,w=a.length;n<w;n++)h.push(b.call(c,a[n],n,a));return h}}function d(a,b,c,d){if(a&&b){if(a.reduce&&a.reduce===Nq)return a.reduce(b,c,d);for(var h=0,n=a.length;h<n;h++)c=b.call(d,
c,a[h],h,a);return c}}function g(a,b,c){if(a&&b){if(a.filter&&a.filter===Oq)return a.filter(b,c);for(var h=[],n=0,w=a.length;n<w;n++)b.call(c,a[n],n,a)&&h.push(a[n]);return h}}function r(a,b){var h=Kf.call(arguments,2);return function(){return a.apply(b,h.concat(Kf.call(arguments)))}}function D(a){var h=Kf.call(arguments,1);return function(){return a.apply(this,h.concat(Kf.call(arguments)))}}function H(a){return"[object Array]"===Jf.call(a)}function W(a){return"function"==typeof a}function P(a){return"[object String]"===
Jf.call(a)}function M(a){var h=typeof a;return"function"===h||!!a&&"object"==h}function Z(a){return!!Rl[Jf.call(a)]}function G(a){return!!Ql[Jf.call(a)]}function R(a){return"object"==typeof a&&"number"==typeof a.nodeType&&"object"==typeof a.ownerDocument}function I(a){return a!==a}function X(a){for(var h=0,b=arguments.length;h<b;h++)if(null!=arguments[h])return arguments[h]}function J(a,b){return null!=a?a:b}function S(a,b,c){return null!=a?a:null!=b?b:c}function ba(){return Function.call.apply(Kf,
arguments)}function T(a){if("number"==typeof a)return[a,a,a,a];var h=a.length;return 2===h?[a[0],a[1],a[0],a[1]]:3===h?[a[0],a[1],a[2],a[1]]:a}function Y(a,b){if(!a)throw Error(b);}function ta(a){return null==a?null:"function"==typeof a.trim?a.trim():a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function Ia(a){a[me]=!0}function Ha(a){function h(a,h){b?c.set(a,h):c.set(h,a)}var b=H(a),c=this;a instanceof Ha?a.each(h):a&&v(a,h)}function ia(a){return new Ha(a)}function va(){}function oa(a,b){var h=
new Sl(2);return null==a&&(a=0),null==b&&(b=0),h[0]=a,h[1]=b,h}function wa(a,b){return a[0]=b[0],a[1]=b[1],a}function Ga(a){var h=new Sl(2);return h[0]=a[0],h[1]=a[1],h}function fa(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a}function la(a,b,c,d){return a[0]=b[0]+c[0]*d,a[1]=b[1]+c[1]*d,a}function ka(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a}function ra(a){return Math.sqrt(Da(a))}function Da(a){return a[0]*a[0]+a[1]*a[1]}function ea(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a}function U(a,b){var h=
ra(b);return 0===h?(a[0]=0,a[1]=0):(a[0]=b[0]/h,a[1]=b[1]/h),a}function O(a,b){return Math.sqrt((a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1]))}function Ka(a,b){return(a[0]-b[0])*(a[0]-b[0])+(a[1]-b[1])*(a[1]-b[1])}function N(a,b,c){var h=b[0];b=b[1];return a[0]=c[0]*h+c[2]*b+c[4],a[1]=c[1]*h+c[3]*b+c[5],a}function V(a,b,c){return a[0]=Math.min(b[0],c[0]),a[1]=Math.min(b[1],c[1]),a}function ja(a,b,c){return a[0]=Math.max(b[0],c[0]),a[1]=Math.max(b[1],c[1]),a}function E(){this.on("mousedown",this._dragStart,
this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}function pa(a,b){return{target:a,topTarget:b&&b.topTarget}}function Oa(){}function La(){var a=new Pq(6);return cb(a),a}function cb(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,a}function ca(a,b){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a}function Ea(a,b,c){var h=b[1]*c[0]+b[3]*c[1],n=b[0]*c[2]+b[2]*c[3],w=b[1]*c[2]+b[3]*c[3],d=b[0]*c[4]+b[2]*c[5]+
b[4],e=b[1]*c[4]+b[3]*c[5]+b[5];return a[0]=b[0]*c[0]+b[2]*c[1],a[1]=h,a[2]=n,a[3]=w,a[4]=d,a[5]=e,a}function Sa(a,b,c){return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4]+c[0],a[5]=b[5]+c[1],a}function Q(a,b,c){var h=b[0],n=b[2],w=b[4],d=b[1],e=b[3];b=b[5];var f=Math.sin(c);c=Math.cos(c);return a[0]=h*c+d*f,a[1]=-h*f+d*c,a[2]=n*c+e*f,a[3]=-n*f+c*e,a[4]=c*w+f*b,a[5]=c*b-f*w,a}function t(a,b,c){var h=c[0];c=c[1];return a[0]=b[0]*h,a[1]=b[1]*c,a[2]=b[2]*h,a[3]=b[3]*c,a[4]=b[4]*h,a[5]=b[5]*c,a}
function gb(a,b){var h=b[0],c=b[2],n=b[4],d=b[1],e=b[3];b=b[5];var f=h*e-d*c;return f?(f=1/f,a[0]=e*f,a[1]=-d*f,a[2]=-c*f,a[3]=h*f,a[4]=(c*b-e*n)*f,a[5]=(d*n-h*b)*f,a):null}function Xa(a){return a>Tl||a<-Tl}function Ub(a){this._target=a.target;this._life=a.life||1E3;this._delay=a.delay||0;this._initialized=!1;this.loop=null!=a.loop&&a.loop;this.gap=a.gap||0;this.easing=a.easing||"Linear";this.onframe=a.onframe;this.ondestroy=a.ondestroy;this.onrestart=a.onrestart;this._pausedTime=0;this._paused=!1}
function hb(a){return 0>(a=Math.round(a))?0:255<a?255:a}function Aa(a){return 0>a?0:1<a?1:a}function Na(a){return hb(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100*255:parseInt(a,10))}function Zb(a){return Aa(a.length&&"%"===a.charAt(a.length-1)?parseFloat(a)/100:parseFloat(a))}function Rb(a,b,c){return 0>c?c+=1:1<c&&--c,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}function pb(a,b,c){return a+(b-a)*c}function Wa(a,b,c,d,e){return a[0]=b,a[1]=c,a[2]=d,a[3]=e,a}function Db(a,b){return a[0]=
b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a}function qb(a,b){Ig&&Db(Ig,b);Ig=Ul.put(a,Ig||b.slice())}function wb(a,b){if(a){b=b||[];var h=Ul.get(a);if(h)return Db(b,h);h=(a+="").replace(/ /g,"").toLowerCase();if(h in Vl)return Db(b,Vl[h]),qb(a,b),b;if("#"!==h.charAt(0)){var c=h.indexOf("("),n=h.indexOf(")");if(-1!==c&&n+1===h.length){var d=h.substr(0,c);h=h.substr(c+1,n-(c+1)).split(",");c=1;switch(d){case "rgba":if(4!==h.length)return void Wa(b,0,0,0,1);c=Zb(h.pop());case "rgb":return 3!==h.length?void Wa(b,
0,0,0,1):(Wa(b,Na(h[0]),Na(h[1]),Na(h[2]),c),qb(a,b),b);case "hsla":return 4!==h.length?void Wa(b,0,0,0,1):(h[3]=Zb(h[3]),Vb(h,b),qb(a,b),b);case "hsl":return 3!==h.length?void Wa(b,0,0,0,1):(Vb(h,b),qb(a,b),b);default:return}}Wa(b,0,0,0,1)}else{if(4===h.length)return 0<=(d=parseInt(h.substr(1),16))&&4095>=d?(Wa(b,(3840&d)>>4|(3840&d)>>8,240&d|(240&d)>>4,15&d|(15&d)<<4,1),qb(a,b),b):void Wa(b,0,0,0,1);if(7===h.length)return d=parseInt(h.substr(1),16),0<=d&&16777215>=d?(Wa(b,(16711680&d)>>16,(65280&
d)>>8,255&d,1),qb(a,b),b):void Wa(b,0,0,0,1)}}}function Vb(a,b){var h=(parseFloat(a[0])%360+360)%360/360,c=Zb(a[1]),n=Zb(a[2]);c=.5>=n?n*(c+1):n+c-n*c;n=2*n-c;return b=b||[],Wa(b,hb(255*Rb(n,c,h+1/3)),hb(255*Rb(n,c,h)),hb(255*Rb(n,c,h-1/3)),1),4===a.length&&(b[3]=a[3]),b}function Cb(a,b){var h=wb(a);if(h){for(var c=0;3>c;c++)h[c]=0>b?h[c]*(1-b)|0:(255-h[c])*b+h[c]|0,255<h[c]?h[c]=255:0>a[c]&&(h[c]=0);return db(h,4===h.length?"rgba":"rgb")}}function Wb(a){if(a=wb(a))return(16777216+(a[0]<<16)+(a[1]<<
8)+ +a[2]).toString(16).slice(1)}function xb(a,b,c){if(b&&b.length&&0<=a&&1>=a){c=c||[];var h=a*(b.length-1),n=Math.floor(h);a=b[n];b=b[Math.ceil(h)];h-=n;return c[0]=hb(pb(a[0],b[0],h)),c[1]=hb(pb(a[1],b[1],h)),c[2]=hb(pb(a[2],b[2],h)),c[3]=Aa(pb(a[3],b[3],h)),c}}function na(a,b,c){if(b&&b.length&&0<=a&&1>=a){a*=b.length-1;var h=Math.floor(a),n=Math.ceil(a),w=wb(b[h]);b=wb(b[n]);var d=a-h;w=db([hb(pb(w[0],b[0],d)),hb(pb(w[1],b[1],d)),hb(pb(w[2],b[2],d)),Aa(pb(w[3],b[3],d))],"rgba");return c?{color:w,
leftIndex:h,rightIndex:n,value:a}:w}}function Ra(a,b){if((a=wb(a))&&null!=b)return a[3]=Aa(b),db(a,"rgba")}function db(a,b){if(a&&a.length){var h=a[0]+","+a[1]+","+a[2];return"rgba"!==b&&"hsva"!==b&&"hsla"!==b||(h+=","+a[3]),b+"("+h+")"}}function Dc(a,b){return a[b]}function Bc(a,b,c){a[b]=c}function ya(a,b,c,d,e){var h=a.length;if(1==e)for(e=0;e<h;e++){var n=a[e];d[e]=(b[e]-n)*c+n}else for(n=h&&a[0].length,e=0;e<h;e++)for(var w=0;w<n;w++){var F=a[e][w];d[e][w]=(b[e][w]-F)*c+F}}function bb(a,b,c){var h=
a.length,n=b.length;if(h!==n)if(h>n)a.length=n;else for(;h<n;h++)a.push(1===c?b[h]:Ai.call(b[h]));n=a[0]&&a[0].length;for(h=0;h<a.length;h++)if(1===c)isNaN(a[h])&&(a[h]=b[h]);else for(var w=0;w<n;w++)isNaN(a[h][w])&&(a[h][w]=b[h][w])}function rb(a,b,c){if(a===b)return!0;var h=a.length;if(h!==b.length)return!1;if(1===c)for(n=0;n<h;n++){if(a[n]!==b[n])return!1}else{c=a[0].length;for(var n=0;n<h;n++)for(var w=0;w<c;w++)if(a[n][w]!==b[n][w])return!1}return!0}function sa(a,b,c,d,e,f,g,l,m){var h=a.length;
if(1==m)for(n=0;n<h;n++)l[n]=Zc(a[n],b[n],c[n],d[n],e,f,g);else{m=a[0].length;for(var n=0;n<h;n++)for(var w=0;w<m;w++)l[n][w]=Zc(a[n][w],b[n][w],c[n][w],d[n][w],e,f,g)}}function Zc(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function Xd(a){if(A(a)){var h=a.length;if(A(a[0])){for(var b=[],c=0;c<h;c++)b.push(Ai.call(a[c]));return b}return Ai.call(a)}return a}function Cc(a){return a[0]=Math.floor(a[0]),a[1]=Math.floor(a[1]),a[2]=Math.floor(a[2]),"rgba("+a.join(",")+
")"}function ab(a){a=a[a.length-1].value;return A(a&&a[0])?2:1}function Ne(a,b,c,d,e,f){var h=a._getter,n=a._setter,w="spline"===b,F=d.length;if(F){var K=A(d[0].value),g=!1,da=!1,l=K?ab(d):0;d.sort(function(a,h){return a.time-h.time});var m=d[F-1].time;for(var q=[],r=[],t=d[0].value,u=!0,z=0;z<F;z++){q.push(d[z].time/m);var v=d[z].value;if(K&&rb(v,t,l)||!K&&v===t||(u=!1),t=v,"string"==typeof v){var B=wb(v);B?(v=B,g=!0):da=!0}r.push(v)}if(f||!u){d=r[F-1];for(z=0;z<F-1;z++)K?bb(r[z],d,l):!isNaN(r[z])||
isNaN(d)||da||g||(r[z]=d);K&&bb(h(a._target,e),d,l);var C,D,ha,E,aa,G=0,I=0;if(g)var H=[0,0,0,0];a=new Ub({target:a._target,life:m,loop:a._loop,delay:a._delay,onframe:function(a,b){if(0>b)var c=0;else if(b<I){for(c=Math.min(G+1,F-1);0<=c&&!(q[c]<=b);c--);c=Math.min(c,F-2)}else{for(c=G;c<F&&!(q[c]>b);c++);c=Math.min(c-1,F-2)}G=c;I=b;var d=q[c+1]-q[c];if(0!==d)if(C=(b-q[c])/d,w)if(ha=r[c],D=r[0===c?c:c-1],E=r[c>F-2?F-1:c+1],aa=r[c>F-3?F-1:c+2],K)sa(D,ha,E,aa,C,C*C,C*C*C,h(a,e),l);else{if(g)sa(D,ha,
E,aa,C,C*C,C*C*C,H,1),c=Cc(H);else{if(da)return.5<C?E:ha;c=Zc(D,ha,E,aa,C,C*C,C*C*C)}n(a,e,c)}else if(K)ya(r[c],r[c+1],C,h(a,e),l);else{if(g)ya(r[c],r[c+1],C,H,1),c=Cc(H);else{if(da)return.5<C?r[c+1]:r[c];b=r[c];c=(r[c+1]-b)*C+b}n(a,e,c)}},ondestroy:c});return b&&"spline"!==b&&(a.easing=b),a}}}function Fa(a,b,c,d){0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);this.x=a;this.y=b;this.width=c;this.height=d}function bd(a,b,c,d){var h=b+1;if(h===c)return 1;if(0>d(a[h++],a[b])){for(;h<c&&0>d(a[h],a[h-1]);)h++;c=b;
d=h;for(d--;c<d;){var n=a[c];a[c++]=a[d];a[d--]=n}}else for(;h<c&&0<=d(a[h],a[h-1]);)h++;return h-b}function de(a,b,c,d,e){for(d===b&&d++;d<c;d++){for(var h,n=a[d],w=b,F=d;w<F;)0>e(n,a[h=w+F>>>1])?F=h:w=h+1;F=d-w;switch(F){case 3:a[w+3]=a[w+2];case 2:a[w+2]=a[w+1];case 1:a[w+1]=a[w];break;default:for(;0<F;)a[w+F]=a[w+F-1],F--}a[w]=n}}function yd(a,b,c,d,e,f){var h=0,n=1;if(0<f(a,b[c+e])){for(d-=e;n<d&&0<f(a,b[c+e+n]);)h=n,0>=(n=1+(n<<1))&&(n=d);n>d&&(n=d);h+=e;n+=e}else{for(d=e+1;n<d&&0>=f(a,b[c+
e-n]);)h=n,0>=(n=1+(n<<1))&&(n=d);n>d&&(n=d);d=h;h=e-n;n=e-d}for(h++;h<n;)e=h+(n-h>>>1),0<f(a,b[c+e])?h=e+1:n=e;return n}function cd(a,b,c,d,e,f){var h=0,n=1;if(0>f(a,b[c+e])){for(d=e+1;n<d&&0>f(a,b[c+e-n]);)h=n,0>=(n=1+(n<<1))&&(n=d);n>d&&(n=d);d=h;h=e-n;n=e-d}else{for(d-=e;n<d&&0<=f(a,b[c+e+n]);)h=n,0>=(n=1+(n<<1))&&(n=d);n>d&&(n=d);h+=e;n+=e}for(h++;h<n;)e=h+(n-h>>>1),0>f(a,b[c+e])?n=e:h=e+1;return n}function dd(a,b){function h(h){var w=e[h],F=f[h],K=e[h+1],g=f[h+1];f[h]=F+g;h===n-3&&(e[h+1]=e[h+
2],f[h+1]=f[h+2]);n--;h=cd(a[K],a,w,F,0,b);w+=h;if(0!==(F-=h)&&0!==(g=yd(a[w+F-1],a,K,g,g-1,b)))if(F<=g){var da=w;w=F;F=g;for(g=0;g<w;g++)d[g]=a[da+g];h=0;if(a[da++]=a[K++],0!=--F)if(1!==w){for(var l,ua,m,ib=c;;){ua=l=0;m=!1;do if(0>b(a[K],d[h])){if(a[da++]=a[K++],ua++,l=0,0==--F){m=!0;break}}else if(a[da++]=d[h++],l++,ua=0,1==--w){m=!0;break}while((l|ua)<ib);if(m)break;do{if(0!==(l=cd(a[K],d,h,w,0,b))){for(g=0;g<l;g++)a[da+g]=d[h+g];if(da+=l,h+=l,1>=(w-=l)){m=!0;break}}if(a[da++]=a[K++],0==--F){m=
!0;break}if(0!==(ua=yd(d[h],a,K,F,0,b))){for(g=0;g<ua;g++)a[da+g]=a[K+g];if(da+=ua,K+=ua,0===(F-=ua)){m=!0;break}}if(a[da++]=d[h++],1==--w){m=!0;break}ib--}while(l>=Lf||ua>=Lf);if(m)break;0>ib&&(ib=0);ib+=2}if(1>(c=ib)&&(c=1),1===w){for(g=0;g<F;g++)a[da+g]=a[K+g];a[da+F]=d[h]}else{if(0===w)throw Error();for(g=0;g<w;g++)a[da+g]=d[h+g]}}else{for(g=0;g<F;g++)a[da+g]=a[K+g];a[da+F]=d[h]}else for(g=0;g<w;g++)a[da+g]=d[h+g]}else{for(h=0;h<g;h++)d[h]=a[K+h];da=w+F-1;l=g-1;K=K+g-1;if(a[K--]=a[da--],0!=--F)if(1!==
g){for(ib=c;;){var kd=0,q=0,r=!1;do if(0>b(d[l],a[da])){if(a[K--]=a[da--],kd++,q=0,0==--F){r=!0;break}}else if(a[K--]=d[l--],q++,kd=0,1==--g){r=!0;break}while((kd|q)<ib);if(r)break;do{if(0!=(kd=F-cd(d[l],a,w,F,F-1,b))){F-=kd;m=(K-=kd)+1;ua=(da-=kd)+1;for(h=kd-1;0<=h;h--)a[m+h]=a[ua+h];if(0===F){r=!0;break}}if(a[K--]=d[l--],1==--g){r=!0;break}if(0!=(q=g-yd(a[da],d,0,g,g-1,b))){g-=q;m=(K-=q)+1;ua=(l-=q)+1;for(h=0;h<q;h++)a[m+h]=d[ua+h];if(1>=g){r=!0;break}}if(a[K--]=a[da--],0==--F){r=!0;break}ib--}while(kd>=
Lf||q>=Lf);if(r)break;0>ib&&(ib=0);ib+=2}if(1>(c=ib)&&(c=1),1===g){m=(K-=F)+1;ua=da-F+1;for(h=F-1;0<=h;h--)a[m+h]=a[ua+h];a[K]=d[l]}else{if(0===g)throw Error();ua=K-(g-1);for(h=0;h<g;h++)a[ua+h]=d[h]}}else{m=(K-=F)+1;ua=da-F+1;for(h=F-1;0<=h;h--)a[m+h]=a[ua+h];a[K]=d[l]}else for(ua=K-(g-1),h=0;h<g;h++)a[ua+h]=d[h]}}var c=Lf,n=0,d=[];var e=[];var f=[];this.mergeRuns=function(){for(;1<n;){var a=n-2;if(1<=a&&f[a-1]<=f[a]+f[a+1]||2<=a&&f[a-2]<=f[a]+f[a-1])f[a-1]<f[a+1]&&a--;else if(f[a]>f[a+1])break;
h(a)}};this.forceMergeRuns=function(){for(;1<n;){var a=n-2;0<a&&f[a-1]<f[a+1]&&a--;h(a)}};this.pushRun=function(a,h){e[n]=a;f[n]=h;n+=1}}function Ec(a,b,c,d){c||(c=0);d||(d=a.length);var h=d-c;if(!(2>h)){var n=0;if(h<Wl)return n=bd(a,c,d,b),void de(a,c,d,c+n,b);var w=new dd(a,b),e;n=h;for(e=0;n>=Wl;)e|=1&n,n>>=1;e=n+e;do{if((n=bd(a,c,d,b))<e){var F=h;F>e&&(F=e);de(a,c,c+F,c+n,b);n=F}w.pushRun(c,n);w.mergeRuns();h-=n;c+=n}while(0!==h);w.forceMergeRuns()}}function Fc(a,b){return a.zlevel===b.zlevel?
a.z===b.z?a.z2-b.z2:a.z-b.z:a.zlevel-b.zlevel}function zd(a,b,c){var h=null==b.x?0:b.x,n=null==b.x2?1:b.x2,w=null==b.y?0:b.y,d=null==b.y2?0:b.y2;return b.global||(h=h*c.width+c.x,n=n*c.width+c.x,w=w*c.height+c.y,d=d*c.height+c.y),h=isNaN(h)?0:h,n=isNaN(n)?1:n,w=isNaN(w)?0:w,d=isNaN(d)?0:d,a.createLinearGradient(h,w,n,d)}function Gc(a,b,c){var h=c.width,n=c.height,w=Math.min(h,n),d=null==b.x?.5:b.x,e=null==b.y?.5:b.y,f=null==b.r?.5:b.r;return b.global||(d=d*h+c.x,e=e*n+c.y,f*=w),a.createRadialGradient(d,
e,0,d,e,f)}function tc(){return!1}function Qb(a,b,c){var h=Hg(),n=b.getWidth();b=b.getHeight();var w=h.style;return w&&(w.position="absolute",w.left=0,w.top=0,w.width=n+"px",w.height=b+"px",h.setAttribute("data-zr-dom-id",a)),h.width=n*c,h.height=b*c,h}function Lb(a,b,c,d,e){if(a){if("string"==typeof a){if(b&&b.__zrImageSrc===a||!c)return b;var h=Bi.get(a);c={hostEl:c,cb:d,cbPayload:e};return h?!fb(b=h.image)&&h.pending.push(c):(!b&&(b=new Image),b.onload=sb,Bi.put(a,b.__cachedImgObj={image:b,pending:[c]}),
b.src=b.__zrImageSrc=a),b}return a}return b}function sb(){var a=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var b=0;b<a.pending.length;b++){var c=a.pending[b],d=c.cb;d&&d(this,c.cbPayload);c.hostEl.dirty()}a.pending.length=0}function fb(a){return a&&a.width&&a.height}function eb(a,b){var h=a+":"+(b=b||Mf);if(Jg[h])return Jg[h];a=(a+"").split("\n");for(var c=0,n=0,d=a.length;n<d;n++)c=Math.max(Xl.measureText(a[n],b).width,c);return Ci>Tq&&(Ci=0,Jg={}),Ci++,Jg[h]=c,c}function Hb(a,
b,c,d,e,f,g){f?(f=Ad(a,{rich:f,truncate:g,font:b,textAlign:c,textPadding:e}),e=f.outerWidth,f=f.outerHeight,c=new Fa(Yb(0,e,c),ec(0,f,d),e,f)):(f=ed(a,b,e,g),a=eb(a,b),e&&(a+=e[1]+e[3]),e=f.outerHeight,c=new Fa(Yb(0,a,c),ec(0,e,d),a,e),c=(c.lineHeight=f.lineHeight,c));return c}function Yb(a,b,c){return"right"===c?a-=b:"center"===c&&(a-=b/2),a}function ec(a,b,c){return"middle"===c?a-=b/2:"bottom"===c&&(a-=b),a}function Hc(a,b,c){var h=b.x,n=b.y,w=b.height;b=b.width;var d=w/2,e="left",f="top";switch(a){case "left":h-=
c;n+=d;e="right";f="middle";break;case "right":h+=c+b;n+=d;f="middle";break;case "top":h+=b/2;n-=c;e="center";f="bottom";break;case "bottom":h+=b/2;n+=w+c;e="center";break;case "inside":h+=b/2;n+=d;e="center";f="middle";break;case "insideLeft":h+=c;n+=d;f="middle";break;case "insideRight":h+=b-c;n+=d;e="right";f="middle";break;case "insideTop":h+=b/2;n+=c;e="center";break;case "insideBottom":h+=b/2;n+=w-c;e="center";f="bottom";break;case "insideTopLeft":h+=c;n+=c;break;case "insideTopRight":h+=b-
c;n+=c;e="right";break;case "insideBottomLeft":h+=c;n+=w-c;f="bottom";break;case "insideBottomRight":h+=b-c,n+=w-c,e="right",f="bottom"}return{x:h,y:n,textAlign:e,textVerticalAlign:f}}function Gb(a,b,c,d,e){if(!b)return"";a=(a+"").split("\n");e=Tb(b,c,d,e);b=0;for(c=a.length;b<c;b++)a[b]=ee(a[b],e);return a.join("\n")}function Tb(a,b,c,d){(d=f({},d)).font=b;c=J(c,"...");d.maxIterations=J(d.maxIterations,2);var h=d.minChar=J(d.minChar,0);d.cnCharWidth=eb("\u56fd",b);var n=d.ascCharWidth=eb("a",b);
d.placeholder=J(d.placeholder,"");b=a=Math.max(0,a-1);for(var w=0;w<h&&b>=n;w++)b-=n;h=eb(c);return h>b&&(c="",h=0),b=a-h,d.ellipsis=c,d.ellipsisWidth=h,d.contentWidth=b,d.containerWidth=a,d}function ee(a,b){var h=b.containerWidth,c=b.font,n=b.contentWidth;if(!h)return"";var d=eb(a,c);if(d<=h)return a;for(h=0;;h++){if(d<=n||h>=b.maxIterations){a+=b.ellipsis;break}if(0===h){d=a;for(var e=n,f=b.ascCharWidth,g=b.cnCharWidth,l=0,m=0,q=d.length;m<q&&l<e;m++){var r=d.charCodeAt(m);l+=0<=r&&127>=r?f:g}d=
m}else d=0<d?Math.floor(a.length*n/d):0;d=eb(a=a.substr(0,d),c)}return""===a&&(a=b.placeholder),a}function ed(a,b,c,d){null!=a&&(a+="");var h=eb("\u56fd",b),n=a?a.split("\n"):[],w=n.length*h,e=w;if(c&&(e+=c[0]+c[2]),a&&d){a=d.outerHeight;var F=d.outerWidth;if(null!=a&&e>a)n=[];else if(null!=F)for(b=Tb(F-(c?c[1]+c[3]:0),b,d.ellipsis,{minChar:d.minChar,placeholder:d.placeholder}),c=0,d=n.length;c<d;c++)n[c]=ee(n[c],b)}return{lines:n,height:w,outerHeight:e,lineHeight:h}}function Ad(a,b){var h={lines:[],
width:0,height:0};if(null!=a&&(a+=""),!a)return h;for(var c,n=Di.lastIndex=0;null!=(c=Di.exec(a));){var d=c.index;d>n&&fe(h,a.substring(n,d));fe(h,c[2],c[1]);n=Di.lastIndex}n<a.length&&fe(h,a.substring(n,a.length));a=h.lines;n=c=0;d=[];var e=b.textPadding,f=b.truncate,g=f&&f.outerWidth,l=f&&f.outerHeight;e&&(null!=g&&(g-=e[1]+e[3]),null!=l&&(l-=e[0]+e[2]));for(E=0;E<a.length;E++){for(var m=a[E],q=0,r=0,t=0;t<m.tokens.length;t++){var u=(aa=m.tokens[t]).styleName&&b.rich[aa.styleName]||{},z=aa.textPadding=
u.textPadding,v=aa.font=u.font||b.font,B=aa.textHeight=J(u.textHeight,eb("\u56fd",v));if(z&&(B+=z[0]+z[2]),aa.height=B,aa.lineHeight=S(u.textLineHeight,b.textLineHeight,B),aa.textAlign=u&&u.textAlign||b.textAlign,aa.textVerticalAlign=u&&u.textVerticalAlign||"middle",null!=l&&c+aa.lineHeight>l)return{lines:[],width:0,height:0};aa.textWidth=eb(aa.text,v);var A=u.textWidth,C=null==A||"auto"===A;if("string"==typeof A&&"%"===A.charAt(A.length-1))aa.percentWidth=A,d.push(aa),A=0;else{if(C){A=aa.textWidth;
var D=u.textBackgroundColor;D=D&&D.image;var ha;if(ha=D)"string"==typeof D&&(D=(D=Bi.get(D))&&D.image),ha=fb(D);ha&&(A=Math.max(A,D.width*B/D.height))}z=z?z[1]+z[3]:0;A+=z;B=null!=g?g-r:null;null!=B&&B<A&&(!C||B<z?(aa.text="",aa.textWidth=A=0):(aa.text=Gb(aa.text,B-z,v,f.ellipsis,{minChar:f.minChar}),aa.textWidth=eb(aa.text,v),A=aa.textWidth+z))}r+=aa.width=A;u&&(q=Math.max(q,aa.lineHeight))}m.width=r;m.lineHeight=q;c+=q;n=Math.max(n,r)}h.outerWidth=h.width=J(b.textWidth,n);h.outerHeight=h.height=
J(b.textHeight,c);e&&(h.outerWidth+=e[1]+e[3],h.outerHeight+=e[0]+e[2]);for(var E=0;E<d.length;E++){var aa=d[E];aa.width=parseInt(aa.percentWidth,10)/100*n}return h}function fe(a,b,c){var h=""===b;b=b.split("\n");a=a.lines;for(var n=0;n<b.length;n++){var w=b[n],d={styleName:c,text:w,isLineHolder:!w&&!h};if(n)a.push({tokens:[d]});else{var e=(a[a.length-1]||(a[0]={tokens:[]})).tokens,f=e.length;1===f&&e[0].isLineHolder?e[0]=d:(w||!f||h)&&e.push(d)}}}function Oe(a){var h=(a.fontSize||a.fontFamily)&&
[a.fontStyle,a.fontWeight,(a.fontSize||12)+"px",a.fontFamily||"sans-serif"].join(" ");return h&&ta(h)||a.textFont||a.font}function Ue(a,b){var h,c,n,d,e=b.x,f=b.y,g=b.width,l=b.height;b=b.r;0>g&&(e+=g,g=-g);0>l&&(f+=l,l=-l);"number"==typeof b?h=c=n=d=b:b instanceof Array?1===b.length?h=c=n=d=b[0]:2===b.length?(h=n=b[0],c=d=b[1]):3===b.length?(h=b[0],c=d=b[1],n=b[2]):(h=b[0],c=b[1],n=b[2],d=b[3]):h=c=n=d=0;var m;h+c>g&&(h*=g/(m=h+c),c*=g/m);n+d>g&&(n*=g/(m=n+d),d*=g/m);c+n>l&&(c*=l/(m=c+n),n*=l/m);
h+d>l&&(h*=l/(m=h+d),d*=l/m);a.moveTo(e+h,f);a.lineTo(e+g-c,f);0!==c&&a.arc(e+g-c,f+c,c,-Math.PI/2,0);a.lineTo(e+g,f+l-n);0!==n&&a.arc(e+g-n,f+l-n,n,0,Math.PI/2);a.lineTo(e+d,f+l);0!==d&&a.arc(e+d,f+l-d,d,Math.PI/2,Math.PI);a.lineTo(e,f+h);0!==h&&a.arc(e+h,f+h,h,Math.PI,1.5*Math.PI)}function Ic(a){return Zd(a),v(a.rich,Zd),a}function Zd(a){if(a){a.font=Oe(a);var h=a.textAlign;"middle"===h&&(h="center");a.textAlign=null==h||Uq[h]?h:"left";h=a.textVerticalAlign||a.textBaseline;"center"===h&&(h="middle");
a.textVerticalAlign=null==h||Vq[h]?h:"top";a.textPadding&&(a.textPadding=T(a.textPadding))}}function Yd(a,b,c,d,e){var h=qa(b,"font",d.font||Mf),n=d.textPadding,w=a.__textCotentBlock;w&&!a.__dirty||(w=a.__textCotentBlock=ed(c,h,n,d.truncate));var F=w.outerHeight,K=w.lines;w=w.lineHeight;var f=he(F,d,e),g=f.baseX,l=f.baseY,m=f.textAlign;f=f.textVerticalAlign;fd(b,d,e,g,l);f=ec(l,F,f);e=g;l=f;var q=d.textBackgroundColor||d.textBorderWidth&&d.textBorderColor;if(q||n)c=eb(c,h),n&&(c+=n[1]+n[3]),h=Yb(g,
c,m),q&&ge(a,b,d,h,f,c,F),n&&(e=gd(g,m,n),l+=n[0]);qa(b,"textAlign",m||"left");qa(b,"textBaseline","middle");qa(b,"shadowBlur",d.textShadowBlur||0);qa(b,"shadowColor",d.textShadowColor||"transparent");qa(b,"shadowOffsetX",d.textShadowOffsetX||0);qa(b,"shadowOffsetY",d.textShadowOffsetY||0);l+=w/2;n=d.textStrokeWidth;a=Mb(d.textStroke,n);d=Cd(d.textFill);a&&(qa(b,"lineWidth",n),qa(b,"strokeStyle",a));d&&qa(b,"fillStyle",d);for(n=0;n<K.length;n++)a&&b.strokeText(K[n],e,l),d&&b.fillText(K[n],e,l),l+=
w}function uc(a,b,c,d,e){var h=a.__textCotentBlock;h&&!a.__dirty||(h=a.__textCotentBlock=Ad(c,d));c=h;h=c.width;var n=c.outerWidth,w=c.outerHeight,F=d.textPadding,K=he(w,d,e),f=K.baseX,g=K.baseY,l=K.textAlign;K=K.textVerticalAlign;fd(b,d,e,f,g);f=Yb(f,n,l);l=ec(g,w,K);e=f;g=l;F&&(e+=F[3],g+=F[0]);F=e+h;(d.textBackgroundColor||d.textBorderWidth&&d.textBorderColor)&&ge(a,b,d,f,l,n,w);for(n=0;n<c.lines.length;n++){var m;K=c.lines[n];w=K.tokens;f=w.length;l=K.lineHeight;K=K.width;for(var q=0,r=e,t=F,
u=f-1;q<f&&(!(m=w[q]).textAlign||"left"===m.textAlign);)Bd(a,b,m,d,l,g,r,"left"),K-=m.width,r+=m.width,q++;for(;0<=u&&"right"===(m=w[u]).textAlign;)Bd(a,b,m,d,l,g,t,"right"),K-=m.width,t-=m.width,u--;for(r+=(h-(r-e)-(F-t)-K)/2;q<=u;)Bd(a,b,m=w[q],d,l,g,r+m.width/2,"center"),r+=m.width,q++;g+=l}}function fd(a,b,c,d,e){if(c&&b.textRotation){var h=b.textOrigin;"center"===h?(d=c.width/2+c.x,e=c.height/2+c.y):h&&(d=h[0]+c.x,e=h[1]+c.y);a.translate(d,e);a.rotate(-b.textRotation);a.translate(-d,-e)}}function Bd(a,
b,c,d,e,f,g,l){var h=d.rich[c.styleName]||{},n=c.textVerticalAlign,w=f+e/2;"top"===n?w=f+c.height/2:"bottom"===n&&(w=f+e-c.height/2);!c.isLineHolder&&(h.textBackgroundColor||h.textBorderWidth&&h.textBorderColor)&&ge(a,b,h,"right"===l?g-c.width:"center"===l?g-c.width/2:g,w-c.height/2,c.width,c.height);(a=c.textPadding)&&(g=gd(g,l,a),w-=c.height/2-a[2]-c.textHeight/2);qa(b,"shadowBlur",S(h.textShadowBlur,d.textShadowBlur,0));qa(b,"shadowColor",h.textShadowColor||d.textShadowColor||"transparent");qa(b,
"shadowOffsetX",S(h.textShadowOffsetX,d.textShadowOffsetX,0));qa(b,"shadowOffsetY",S(h.textShadowOffsetY,d.textShadowOffsetY,0));qa(b,"textAlign",l);qa(b,"textBaseline","middle");qa(b,"font",c.font||Mf);l=Mb(h.textStroke||d.textStroke,F);a=Cd(h.textFill||d.textFill);var F=J(h.textStrokeWidth,d.textStrokeWidth);l&&(qa(b,"lineWidth",F),qa(b,"strokeStyle",l),b.strokeText(c.text,g,w));a&&(qa(b,"fillStyle",a),b.fillText(c.text,g,w))}function ge(a,b,c,d,e,f,g){var h=c.textBackgroundColor,n=c.textBorderWidth,
w=c.textBorderColor,F=P(h);if(qa(b,"shadowBlur",c.textBoxShadowBlur||0),qa(b,"shadowColor",c.textBoxShadowColor||"transparent"),qa(b,"shadowOffsetX",c.textBoxShadowOffsetX||0),qa(b,"shadowOffsetY",c.textBoxShadowOffsetY||0),F||n&&w)b.beginPath(),(c=c.textBorderRadius)?Ue(b,{x:d,y:e,width:f,height:g,r:c}):b.rect(d,e,f,g),b.closePath();F?(qa(b,"fillStyle",h),b.fill()):M(h)&&(F=h.image,(F=Lb(F,null,a,Ff,h))&&fb(F)&&b.drawImage(F,d,e,f,g));n&&w&&(qa(b,"lineWidth",n),qa(b,"strokeStyle",w),b.stroke())}
function Ff(a,b){b.image=a}function he(a,b,c){a=b.x||0;var h=b.y||0,n=b.textAlign,d=b.textVerticalAlign;c&&(h=b.textPosition,h instanceof Array?(a=c.x+fc(h[0],c.width),h=c.y+fc(h[1],c.height)):(c=Hc(h,c,b.textDistance),a=c.x,h=c.y,n=n||c.textAlign,d=d||c.textVerticalAlign),(b=b.textOffset)&&(a+=b[0],h+=b[1]));return{baseX:a,baseY:h,textAlign:n,textVerticalAlign:d}}function qa(a,b,c){c=Yl.hasOwnProperty(b)?c*a.dpr:c;return a[b]=c,a[b]}function Mb(a,b){return null==a||0>=b||"transparent"===a||"none"===
a?null:a.image||a.colorStops?"#000":a}function Cd(a){return null==a||"none"===a?null:a.image||a.colorStops?"#000":a}function fc(a,b){return"string"==typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a}function gd(a,b,c){return"right"===b?a-c[1]:"center"===b?a+c[3]/2-c[1]/2:a+c[3]}function Qa(a){a=a||{};ld.call(this,a);for(var h in a)a.hasOwnProperty(h)&&"style"!==h&&(this[h]=a[h]);this.style=new ne(a.style,this);this._rect=null;this.__clipPaths=[]}function Ya(a){Qa.call(this,a)}function Jc(a,
b,c,d){return c=c||{},d||!Ba.canvasSupported?hd(a,b,c):Ba.browser.firefox&&null!=b.layerX&&b.layerX!==b.offsetX?(c.zrX=b.layerX,c.zrY=b.layerY):null!=b.offsetX?(c.zrX=b.offsetX,c.zrY=b.offsetY):hd(a,b,c),c}function hd(a,b,c){a=a.getBoundingClientRect?a.getBoundingClientRect():{left:0,top:0};c.zrX=b.clientX-a.left;c.zrY=b.clientY-a.top}function Nb(a,b,c){if(null!=(b=b||window.event).zrX)return b;var h=b.type;h&&0<=h.indexOf("touch")?(h="touchend"!=h?b.targetTouches[0]:b.changedTouches[0])&&Jc(a,h,
b,c):(Jc(a,b,b,c),b.zrDelta=b.wheelDelta?b.wheelDelta/120:-(b.detail||0)/3);a=b.button;return null==b.which&&void 0!==a&&Wq.test(b.type)&&(b.which=1&a?1:2&a?3:4&a?2:0),b}function $b(a,b,c){Ei?a.addEventListener(b,c):a.attachEvent("on"+b,c)}function Dd(a){var h=a[1][0]-a[0][0];a=a[1][1]-a[0][1];return Math.sqrt(h*h+a*a)}function ha(a){return"mousewheel"===a&&Ba.browser.firefox?"DOMMouseScroll":a}function aa(a,b,c){var h=a._gestureMgr;"start"===c&&h.clear();var n=h.recognize(b,a.handler.findHover(b.zrX,
b.zrY,null).target,a.dom);if("end"===c&&h.clear(),n)c=n.type,b.gestureEvent=c,a.handler.dispatchToElement({target:n.target},c,n.event)}function Ib(a){a._touching=!0;clearTimeout(a._touchTimer);a._touchTimer=setTimeout(function(){a._touching=!1},700)}function Xb(a){a=a.pointerType;return"pen"===a||"touch"===a}function wc(a){function h(a,h){return function(){if(!h._touching)return a.apply(h,arguments)}}v(Fi,function(h){a._handlers[h]=r(jc[h],a)});v(Zl,function(h){a._handlers[h]=r(jc[h],a)});v(Kg,function(b){a._handlers[b]=
h(jc[b],a)})}function pc(a){function h(h,b){v(h,function(h){$b(a,ha(h),b._handlers[h])},b)}this._$handlers={};this.dom=a;this._touching=!1;this._touchTimer;this._gestureMgr=new Gi;this._handlers={};wc(this);Ba.pointerEventsSupported?h(Zl,this):(Ba.touchEventsSupported&&h(Fi,this),h(Kg,this))}function ac(a,b){a=new Hi($l++,a,b);return oe[a.id]=a,a}function Ob(a){return a instanceof Array?a:null==a?[]:[a]}function qc(a,b,c){if(a){a[b]=a[b]||{};a.emphasis=a.emphasis||{};a.emphasis[b]=a.emphasis[b]||
{};for(var h=0,n=c.length;h<n;h++){var d=c[h];!a.emphasis[b].hasOwnProperty(d)&&a[b].hasOwnProperty(d)&&(a.emphasis[b][d]=a[b][d])}}}function ie(a){return!We(a)||Xq(a)||a instanceof Date?a:a.value}function je(a,c){c=(c||[]).slice();var h=b(a||[],function(a,h){return{exist:a}});return Xe(c,function(a,b){if(We(a)){for(n=0;n<h.length;n++)if(!h[n].option&&null!=a.id&&h[n].exist.id===a.id+"")return h[n].option=a,void(c[b]=null);for(var n=0;n<h.length;n++){var d=h[n].exist;if(!(h[n].option||null!=d.id&&
null!=a.id||null==a.name||Pe(a)||Pe(d)||d.name!==a.name+""))return h[n].option=a,void(c[b]=null)}}}),Xe(c,function(a,b){if(We(a)){for(b=0;b<h.length;b++){var c=h[b].exist;if(!h[b].option&&!Pe(c)&&null==a.id){h[b].option=a;break}}b>=h.length&&h.push({option:a})}}),h}function jd(a){var h=ia();Xe(a,function(a,b){(b=a.exist)&&h.set(b.id,a)});Xe(a,function(a,b){b=a.option;Y(!b||null==b.id||!h.get(b.id)||h.get(b.id)===a,"id duplicates: "+(b&&b.id));b&&null!=b.id&&h.set(b.id,a);!a.keyInfo&&(a.keyInfo={})});
Xe(a,function(a,b){var c=a.exist,n=a.option,d=a.keyInfo;if(We(n)){if(d.name=null!=n.name?n.name+"":c?c.name:am+b,c)d.id=c.id;else if(null!=n.id)d.id=n.id+"";else{b=0;do d.id="\x00"+d.name+"\x00"+b++;while(h.get(d.id))}h.set(d.id,a)}})}function Gf(a){a=a.name;return!(!a||!a.indexOf(am))}function Pe(a){return We(a)&&a.id&&0===(a.id+"").indexOf("\x00_ec_\x00")}function ke(a,c){return null!=c.dataIndexInside?c.dataIndexInside:null!=c.dataIndex?H(c.dataIndex)?b(c.dataIndex,function(h){return a.indexOfRawIndex(h)}):
a.indexOfRawIndex(c.dataIndex):null!=c.name?H(c.name)?b(c.name,function(h){return a.indexOfName(h)}):a.indexOfName(c.name):void 0}function ic(){var a="__\x00ec_inner_"+Yq++ +"_"+Math.random().toFixed(5);return function(h){return h[a]||(h[a]={})}}function le(a,b,c){if(P(b)){var h={};h[b+"Index"]=0;b=h}h=c&&c.defaultMainType;!h||b&&b.hasOwnProperty(h+"Index")||b&&b.hasOwnProperty(h+"Id")||b&&b.hasOwnProperty(h+"Name")||(b[h+"Index"]=0);var n={};return Xe(b,function(h,d){h=b[d];if("dataIndex"!==d&&"dataIndexInside"!==
d){var w=d.match(/^(\w+)(Index|Id|Name)$/)||[];d=w[1];w=(w[2]||"").toLowerCase();if(!(!d||!w||null==h||"index"===w&&"none"===h||c&&c.includeMainTypes&&0>B(c.includeMainTypes,d))){var e={mainType:d};"index"===w&&"all"===h||(e[w]=h);h=a.queryComponents(e);n[d+"Models"]=h;n[d+"Model"]=h[0]}}else n[d]=h}),n}function Eg(a,b,c){a.setAttribute?a.setAttribute(b,c):a[b]=c}function Pb(a){var h={main:"",sub:""};return a&&(a=a.split(Zq),h.main=a[0]||"",h.sub=a[1]||""),h}function Kc(a,b){a.$constructor=a;a.extend=
function(a){var h=this,b=function(){a.$constructor?a.$constructor.apply(this,arguments):h.apply(this,arguments)};return f(b.prototype,a),b.extend=this.extend,b.superCall=If,b.superApply=Fg,u(b,this),b.superClass=h,b}}function Hf(a){var h=["__\x00is_clz",$q++,Math.random().toFixed(3)].join("_");a.prototype[h]=!0;a.isInstance=function(a){return!(!a||!a[h])}}function If(a,b){var h=ba(arguments,2);return this.superClass.prototype[b].apply(a,h)}function Fg(a,b,c){return this.superClass.prototype[b].apply(a,
c)}function Ve(a,b){b=b||{};var h={};if(a.registerClass=function(a,b){if(b){var c=b;Y(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(c),'componentType "'+c+'" illegal');(b=Pb(b)).sub?b.sub!==pe&&(c=h[b.main],(c&&c[pe]||((c=h[b.main]={})[pe]=!0),c)[b.sub]=a):h[b.main]=a}return a},a.getClass=function(a,b,c){var n=h[a];if(n&&n[pe]&&(n=b?n[b]:null),c&&!n)throw Error(b?"Component "+a+"."+(b||"")+" not exists. Load it first.":a+".type should be specified.");return n},a.getClassesByMainType=function(a){a=Pb(a);
var b=[];a=h[a.main];return a&&a[pe]?v(a,function(a,h){h!==pe&&b.push(a)}):b.push(a),b},a.hasClass=function(a){return a=Pb(a),!!h[a.main]},a.getAllClassMainTypes=function(){var a=[];return v(h,function(h,b){a.push(b)}),a},a.hasSubTypes=function(a){a=Pb(a);return(a=h[a.main])&&a[pe]},a.parseClassType=Pb,b.registerWhenExtend){var c=a.extend;c&&(a.extend=function(h){var b=c.call(this,h);return a.registerClass(b,h.type)})}return a}function Lc(a){return a>-Ye&&a<Ye}function L(a,b,c,d,e){var h=1-e;return h*
h*(h*a+3*e*b)+e*e*(e*d+3*h*c)}function vb(a,b,c,d,e){var h=1-e;return 3*(((b-a)*h+2*(c-b)*e)*h+(d-c)*e*e)}function Ac(a,b,c,d,e){var h=6*c-12*b+6*a;c=9*b+3*d-3*a-9*c;b=3*b-3*a;a=0;if(Lc(c))(h>Ye||h<-Ye)&&0<=(n=-b/h)&&1>=n&&(e[a++]=n);else if(n=h*h-4*c*b,Lc(n))e[0]=-h/(2*c);else if(0<n){b=Ed(n);var n=(-h+b)/(2*c);h=(-h-b)/(2*c);0<=n&&1>=n&&(e[a++]=n);0<=h&&1>=h&&(e[a++]=h)}return a}function xf(a,b,c,d,e,f){var h=(b-a)*e+a,n=(c-b)*e+b;c=(d-c)*e+c;b=(n-h)*e+h;n=(c-n)*e+n;e=(n-b)*e+b;f[0]=a;f[1]=h;f[2]=
b;f[3]=e;f[4]=e;f[5]=n;f[6]=c;f[7]=d}function oc(a,b,c,d){var h=1-d;return h*(h*a+2*d*b)+d*d*c}function oi(a,b,c,d){return 2*((1-d)*(b-a)+d*(c-b))}function pi(a,b,c){c=a+c-2*b;return 0===c?.5:(a-b)/c}function ml(a,b,c,d,e){var h=(b-a)*d+a;b=(c-b)*d+b;d=(b-h)*d+h;e[0]=a;e[1]=h;e[2]=d;e[3]=d;e[4]=b;e[5]=c}function Me(a,b,c,d,e,f,g){if(0===e)return!1;var h;if(g>b+e&&g>d+e||g<b-e&&g<d-e||f>a+e&&f>c+e||f<a-e&&f<c-e)return!1;if(a===c)return Math.abs(f-a)<=e/2;a=(h=(b-d)/(a-c))*f-g+(a*d-c*b)/(a-c);return a*
a/(h*h+1)<=e/2*e/2}function Xc(a){return 0>(a%=bm)&&(a+=bm),a}function Yc(a,b,c,d,e,f){if(f>b&&f>d||f<b&&f<d||d===b)return 0;var h=d<b?1:-1;f=(f-b)/(d-b);1!==f&&0!==f||(h=d<b?.5:-.5);a=f*(c-a)+a;return a===e?1/0:a>e?h:0}function nl(a,b,c,d,e){for(var h=0,n=0,w=0,F=0,K=0,f=0;f<a.length;){var g=a[f++];switch(g===Fd.M&&1<f&&(c||(h+=Yc(n,w,F,K,d,e))),1==f&&(F=n=a[f],K=w=a[f+1]),g){case Fd.M:n=F=a[f++];w=K=a[f++];break;case Fd.L:if(c){if(Me(n,w,a[f],a[f+1],b,d,e))return!0}else h+=Yc(n,w,a[f],a[f+1],d,
e)||0;n=a[f++];w=a[f++];break;case Fd.C:if(c){var l=a[f++],m=a[f++],q=a[f++],r=a[f++],t=a[f],u=a[f+1];if(0===b)var z=!1;else{var v=b,A;if(A=!(e>w+v&&e>m+v&&e>r+v&&e>u+v||e<w-v&&e<m-v&&e<r-v&&e<u-v||d>n+v&&d>l+v&&d>q+v&&d>t+v||d<n-v&&d<l-v&&d<q-v&&d<t-v)){var B=void 0,C=void 0,D=void 0,ha=void 0,E=void 0,aa=n,G=w,I=l,H=m,J=q,Ib=r,R=t,X=u,oa=e,Xb=.005,N=1/0;Mc[0]=d;Mc[1]=oa;for(var M=0;1>M;M+=.05)rc[0]=L(aa,I,J,R,M),rc[1]=L(G,H,Ib,X,M),(C=qe(Mc,rc))<N&&(E=M,N=C);N=1/0;for(var la=0;32>la&&!(Xb<cm);la++)ha=
E-Xb,D=E+Xb,rc[0]=L(aa,I,J,R,ha),rc[1]=L(G,H,Ib,X,ha),C=qe(rc,Mc),0<=ha&&C<N?(E=ha,N=C):(Ze[0]=L(aa,I,J,R,D),Ze[1]=L(G,H,Ib,X,D),B=qe(Ze,Mc),1>=D&&B<N?(E=D,N=B):Xb*=.5);A=Ed(N)<=v/2}z=A}if(z)return!0}else{var fa=h;var T=void 0,O=void 0,ka=n,S=w,U=a[f++],Y=a[f++],ra=a[f++],Q=a[f++],ba=a[f],P=a[f+1],Ga=d;if(e>S&&e>Y&&e>Q&&e>P||e<S&&e<Y&&e<Q&&e<P)var W=0;else{var Ia=kc,V=P+3*(Y-Q)-S,wa=3*(Q-2*Y+S),ea=3*(Y-S),ta=S-e,ia=wa*wa-3*V*ea,Z=wa*ea-9*V*ta,va=ea*ea-3*wa*ta,ca=0;if(Lc(ia)&&Lc(Z))Lc(wa)?Ia[0]=0:
0<=(qa=-ea/wa)&&1>=qa&&(Ia[ca++]=qa);else{var Ha=Z*Z-4*ia*va;if(Lc(Ha)){var ja=Z/ia,wc=-ja/2;0<=(qa=-wa/V+ja)&&1>=qa&&(Ia[ca++]=qa);0<=wc&&1>=wc&&(Ia[ca++]=wc)}else if(0<Ha){var Da=Ed(Ha),ma=ia*wa+1.5*V*(-Z+Da),na=ia*wa+1.5*V*(-Z-Da);0<=(qa=(-wa-((0>ma?-Lg(-ma,Mg):Lg(ma,Mg))+(0>na?-Lg(-na,Mg):Lg(na,Mg))))/(3*V))&&1>=qa&&(Ia[ca++]=qa)}else{var pa=(2*ia*wa-3*V*Z)/(2*Ed(ia*ia*ia)),sa=Math.acos(pa)/3,Ka=Ed(ia),ya=Math.cos(sa),qa=(-wa-2*Ka*ya)/(3*V);wc=(-wa+Ka*(ya+dm*Math.sin(sa)))/(3*V);var Ba=(-wa+Ka*
(ya-dm*Math.sin(sa)))/(3*V);0<=qa&&1>=qa&&(Ia[ca++]=qa);0<=wc&&1>=wc&&(Ia[ca++]=wc);0<=Ba&&1>=Ba&&(Ia[ca++]=Ba)}}var Ca=ca;if(0===Ca)W=0;else{for(var xa=0,Aa=-1,Fa=0;Fa<Ca;Fa++){var Ea=kc[Fa],ac=0===Ea||1===Ea?.5:1;if(!(L(ka,U,ra,ba,Ea)<Ga)){if(0>Aa){Aa=Ac(S,Y,Q,P,sc);if(sc[1]<sc[0]&&1<Aa){var Ma=sc[0];sc[0]=sc[1];sc[1]=Ma}O=L(S,Y,Q,P,sc[0]);1<Aa&&(T=L(S,Y,Q,P,sc[1]))}2==Aa?Ea<sc[0]?xa+=O<S?ac:-ac:Ea<sc[1]?xa+=T<O?ac:-ac:xa+=P<T?ac:-ac:Ea<sc[0]?xa+=O<S?ac:-ac:xa+=P<O?ac:-ac}}W=xa}}h=fa+(W||0)}n=a[f++];
w=a[f++];break;case Fd.Q:if(c){var Ja=a[f++],La=a[f++],Na=a[f],Ob=a[f+1];if(0===b)var Pa=!1;else{var za=b,Ra;if(Ra=!(e>w+za&&e>La+za&&e>Ob+za||e<w-za&&e<La-za&&e<Ob-za||d>n+za&&d>Ja+za&&d>Na+za||d<n-za&&d<Ja-za&&d<Na-za)){var Oa=void 0,Sa=n,Ta=w,Ua=Ja,Va=La,Xa=Na,cb=Ob,hb=e,Ya=.005,pc=1/0;Mc[0]=d;Mc[1]=hb;for(var Wa=0;1>Wa;Wa+=.05)rc[0]=oc(Sa,Ua,Xa,Wa),rc[1]=oc(Ta,Va,cb,Wa),(fb=qe(Mc,rc))<pc&&(Oa=Wa,pc=fb);pc=1/0;for(var kb=0;32>kb&&!(Ya<cm);kb++){var db=Oa-Ya,eb=Oa+Ya;rc[0]=oc(Sa,Ua,Xa,db);rc[1]=
oc(Ta,Va,cb,db);var fb=qe(rc,Mc);if(0<=db&&fb<pc)Oa=db,pc=fb;else{Ze[0]=oc(Sa,Ua,Xa,eb);Ze[1]=oc(Ta,Va,cb,eb);var ob=qe(Ze,Mc);1>=eb&&ob<pc?(Oa=eb,pc=ob):Ya*=.5}}Ra=Ed(pc)<=za/2}Pa=Ra}if(Pa)return!0}else{var xb=h;var rb=n,Qa=w,tb=a[f++],Za=a[f++],wb=a[f],$a=a[f+1],Cb=d;if(e>Qa&&e>Za&&e>$a||e<Qa&&e<Za&&e<$a)var pb=0;else{var qb=kc,jb=Qa-2*Za+$a,ab=2*(Za-Qa),Gb=Qa-e,nb=0;if(Lc(jb))(ab>Ye||ab<-Ye)&&0<=(bb=-Gb/ab)&&1>=bb&&(qb[nb++]=bb);else{var Db=ab*ab-4*jb*Gb;if(Lc(Db))0<=(bb=-ab/(2*jb))&&1>=bb&&(qb[nb++]=
bb);else if(0<Db){var Jb=Ed(Db),bb=(-ab+Jb)/(2*jb),Lb=(-ab-Jb)/(2*jb);0<=bb&&1>=bb&&(qb[nb++]=bb);0<=Lb&&1>=Lb&&(qb[nb++]=Lb)}}var Rb=nb;if(0===Rb)pb=0;else{var Hb=pi(Qa,Za,$a);if(0<=Hb&&1>=Hb){for(var Nb=0,Sb=oc(Qa,Za,$a,Hb),yb=0;yb<Rb;yb++)ub=0===kc[yb]||1===kc[yb]?.5:1,oc(rb,tb,wb,kc[yb])<Cb||(kc[yb]<Hb?Nb+=Sb<Qa?ub:-ub:Nb+=$a<Sb?ub:-ub);pb=Nb}else{var ub=0===kc[0]||1===kc[0]?.5:1;pb=oc(rb,tb,wb,kc[0])<Cb?0:$a<Qa?ub:-ub}}}h=xb+(pb||0)}n=a[f++];w=a[f++];break;case Fd.A:var zb=a[f++],Kb=a[f++],Qb=
a[f++],gb=a[f++],sb=a[f++],Mb=a[f++],Yb=(a[f++],1-a[f++]),lb=Math.cos(sb)*Qb+zb,mb=Math.sin(sb)*gb+Kb;1<f?h+=Yc(n,w,lb,mb,d,e):(F=lb,K=mb);var Zb=(d-zb)*gb/Qb+zb;if(c){var Ab=sb,vb=sb+Mb,Tb=Zb,Ub=e;if(0===b)var Wb=!1;else{var ec=b;Tb-=zb;Ub-=Kb;var fc=Math.sqrt(Tb*Tb+Ub*Ub);if(fc-ec>gb||fc+ec<gb)Wb=!1;else if(1E-4>Math.abs(Ab-vb)%Nf)Wb=!0;else{if(Yb){var ic=Ab;Ab=Xc(vb);vb=Xc(ic)}else Ab=Xc(Ab),vb=Xc(vb);Ab>vb&&(vb+=Nf);var Pb=Math.atan2(Ub,Tb);Wb=(0>Pb&&(Pb+=Nf),Pb>=Ab&&Pb<=vb||Pb+Nf>=Ab&&Pb+Nf<=
vb)}}if(Wb)return!0}else{var jc=h;var bc=zb,Fb=sb,Bb=sb+Mb,qc=Yb,dc=Zb,Vb=e;if((Vb-=Kb)>gb||Vb<-gb)var $b=0;else{cc=Math.sqrt(gb*gb-Vb*Vb);kc[0]=-cc;kc[1]=cc;var lc=Math.abs(Fb-Bb);if(1E-4>lc)$b=0;else if(1E-4>lc%Of)$b=dc>=kc[0]+bc&&dc<=kc[1]+bc?qc?1:-1:0;else{if(qc){var cc=Fb;Fb=Xc(Bb);Bb=Xc(cc)}else Fb=Xc(Fb),Bb=Xc(Bb);Fb>Bb&&(Bb+=Of);for(var mc=0,gc=0;2>gc;gc++){var nc=kc[gc];if(nc+bc>dc){var Eb=Math.atan2(Vb,nc),hc=qc?1:-1;0>Eb&&(Eb=Of+Eb);(Eb>=Fb&&Eb<=Bb||Eb+Of>=Fb&&Eb+Of<=Bb)&&(Eb>Math.PI/2&&
Eb<1.5*Math.PI&&(hc=-hc),mc+=hc)}}$b=mc}}h=jc+$b}n=Math.cos(sb+Mb)*Qb+zb;w=Math.sin(sb+Mb)*gb+Kb;break;case Fd.R:F=n=a[f++];K=w=a[f++];lb=F+a[f++];mb=K+a[f++];if(c){if(Me(F,K,lb,K,b,d,e)||Me(lb,K,lb,mb,b,d,e)||Me(lb,mb,F,mb,b,d,e)||Me(F,mb,F,K,b,d,e))return!0}else h+=Yc(lb,K,lb,mb,d,e),h+=Yc(F,mb,F,K,d,e);break;case Fd.Z:if(c){if(Me(n,w,F,K,b,d,e))return!0}else h+=Yc(n,w,F,K,d,e);n=F;w=K}}return c||Math.abs(w-K)<ar||(h+=Yc(n,w,F,K,d,e)||0),0!==h}function Ca(a){Qa.call(this,a);this.path=null}function ol(a,
b,c,d,e,f,g,l,m,q,Qq){m*=Ng/180;var h=Og(m)*(a-c)/2+Pg(m)*(b-d)/2,n=-1*Pg(m)*(a-c)/2+Og(m)*(b-d)/2,w=h*h/(g*g)+n*n/(l*l);1<w&&(g*=Ii(w),l*=Ii(w));w=(e===f?-1:1)*Ii((g*g*l*l-g*g*n*n-l*l*h*h)/(g*g*n*n+l*l*h*h))||0;e=w*g*n/l;w=w*-l*h/g;a=(a+c)/2+Og(m)*e-Pg(m)*w;b=(b+d)/2+Pg(m)*e+Og(m)*w;d=em([1,0],[(h-e)/g,(n-w)/l]);c=[(h-e)/g,(n-w)/l];h=[(-1*h-e)/g,(-1*n-w)/l];n=em(c,h);-1>=Ji(c,h)&&(n=Ng);1<=Ji(c,h)&&(n=0);0===f&&0<n&&(n-=2*Ng);1===f&&0>n&&(n+=2*Ng);Qq.addData(q,a,b,g,l,d,n,m,f)}function Fq(a){if(!a)return[];
var h=a.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(a=0;a<Ki.length;a++)h=h.replace(new RegExp(Ki[a],"g"),"|"+Ki[a]);h=h.split("|");var b=0,c=0,d=new bc,e=bc.CMD;for(a=1;a<h.length;a++){var f=h[a],g=f.charAt(0),l=0;f=f.slice(1).replace(/e,-/g,"e-").split(",");0<f.length&&""===f[0]&&f.shift();for(var m=0;m<f.length;m++)f[m]=parseFloat(f[m]);for(;l<f.length&&!isNaN(f[l])&&!isNaN(f[0]);)switch(g){case "l":b+=f[l++];c+=f[l++];var q=e.L;d.addData(q,b,c);break;case "L":b=
f[l++];c=f[l++];q=e.L;d.addData(q,b,c);break;case "m":b+=f[l++];c+=f[l++];q=e.M;d.addData(q,b,c);g="l";break;case "M":b=f[l++];c=f[l++];q=e.M;d.addData(q,b,c);g="L";break;case "h":b+=f[l++];q=e.L;d.addData(q,b,c);break;case "H":b=f[l++];q=e.L;d.addData(q,b,c);break;case "v":c+=f[l++];q=e.L;d.addData(q,b,c);break;case "V":c=f[l++];q=e.L;d.addData(q,b,c);break;case "C":q=e.C;d.addData(q,f[l++],f[l++],f[l++],f[l++],f[l++],f[l++]);b=f[l-2];c=f[l-1];break;case "c":q=e.C;d.addData(q,f[l++]+b,f[l++]+c,f[l++]+
b,f[l++]+c,f[l++]+b,f[l++]+c);b+=f[l-2];c+=f[l-1];break;case "S":m=b;var r=c;q=d.len();var t=d.data;z===e.C&&(m+=b-t[q-4],r+=c-t[q-3]);q=e.C;t=f[l++];var u=f[l++];b=f[l++];c=f[l++];d.addData(q,m,r,t,u,b,c);break;case "s":m=b;r=c;q=d.len();t=d.data;z===e.C&&(m+=b-t[q-4],r+=c-t[q-3]);q=e.C;t=b+f[l++];u=c+f[l++];b+=f[l++];c+=f[l++];d.addData(q,m,r,t,u,b,c);break;case "Q":t=f[l++];u=f[l++];b=f[l++];c=f[l++];q=e.Q;d.addData(q,t,u,b,c);break;case "q":t=f[l++]+b;u=f[l++]+c;b+=f[l++];c+=f[l++];q=e.Q;d.addData(q,
t,u,b,c);break;case "T":m=b;r=c;q=d.len();t=d.data;z===e.Q&&(m+=b-t[q-4],r+=c-t[q-3]);b=f[l++];c=f[l++];q=e.Q;d.addData(q,m,r,b,c);break;case "t":m=b;r=c;q=d.len();t=d.data;z===e.Q&&(m+=b-t[q-4],r+=c-t[q-3]);b+=f[l++];c+=f[l++];q=e.Q;d.addData(q,m,r,b,c);break;case "A":q=f[l++];m=f[l++];r=f[l++];t=f[l++];u=f[l++];ol(b,c,b=f[l++],c=f[l++],t,u,q,m,r,q=e.A,d);break;case "a":q=f[l++],m=f[l++],r=f[l++],t=f[l++],u=f[l++],ol(b,c,b+=f[l++],c+=f[l++],t,u,q,m,r,q=e.A,d)}"z"!==g&&"Z"!==g||(q=e.Z,d.addData(q));
var z=q}return d.toStatic(),d}function pl(a,b){var h=Fq(a);return b=b||{},b.buildPath=function(a){if(a.setData)a.setData(h.data),(b=a.getContext())&&a.rebuildPath(b);else{var b;h.rebuildPath(a)}},b.applyTransform=function(a){var b,c,n,d,e,w=h.data,F=$e.M,f=$e.C,g=$e.L,l=$e.R,m=$e.A,q=$e.Q;for(n=0;n<w.length;){switch(b=w[n++],d=n,c=0,b){case F:case g:c=1;break;case f:c=3;break;case q:c=2;break;case m:d=a[4];var r=a[5];var t=fm(a[0]*a[0]+a[1]*a[1]),u=fm(a[2]*a[2]+a[3]*a[3]),z=br(-a[1]/u,a[0]/t);w[n]*=
t;w[n++]+=d;w[n]*=u;w[n++]+=r;w[n++]*=t;w[n++]*=u;w[n++]+=z;w[n++]+=z;d=n+=2;break;case l:e[0]=w[n++],e[1]=w[n++],N(e,e,a),w[d++]=e[0],w[d++]=e[1],e[0]+=w[n++],e[1]+=w[n++],N(e,e,a),w[d++]=e[0],w[d++]=e[1]}for(r=0;r<c;r++)(e=cr[r])[0]=w[n++],e[1]=w[n++],N(e,e,a),w[d++]=e[0],w[d++]=e[1]}this.dirty(!0)},b}function zl(a,b,c,d,e,f,g){a=.5*(c-a);d=.5*(d-b);return(2*(b-c)+a+d)*g+(-3*(b-c)-2*a-d)*f+a*e+b}function El(a,b,c){var h=b.points,n=b.smooth;if(h&&2<=h.length){if(n&&"spline"!==n){var d=h,e=b.smoothConstraint,
w=[];b=[];var f=[],g=[];if(e){var l=[1/0,1/0];var m=[-1/0,-1/0];for(var q=0,r=d.length;q<r;q++)V(l,l,d[q]),ja(m,m,d[q]);V(l,l,e[0]);ja(m,m,e[1])}q=0;for(r=d.length;q<r;q++){var t=d[q];if(c){var u=d[q?q-1:r-1];var z=d[(q+1)%r]}else{if(0===q||q===r-1){w.push(Ga(d[q]));continue}u=d[q-1];z=d[q+1]}ka(b,z,u);ea(b,b,n);u=O(t,u);z=O(t,z);var v=u+z;0!==v&&(u/=v,z/=v);ea(f,b,-u);ea(g,b,z);u=fa([],t,f);t=fa([],t,g);e&&(ja(u,u,l),V(u,u,m),ja(t,t,l),V(t,t,m));w.push(u);w.push(t)}l=(c&&w.push(w.shift()),w);a.moveTo(h[0][0],
h[0][1]);m=h.length;for(n=0;n<(c?m:m-1);n++)d=l[2*n],e=l[2*n+1],w=h[(n+1)%m],a.bezierCurveTo(d[0],d[1],e[0],e[1],w[0],w[1])}else{if("spline"===n){n=h.length;l=[];b=0;for(m=1;m<n;m++)b+=O(h[m-1],h[m]);b/=2;b=b<n?n:b;for(m=0;m<b;m++)f=m/(b-1)*(c?n:n-1),q=Math.floor(f),f-=q,g=h[q%n],c?(d=h[(q-1+n)%n],e=h[(q+1)%n],w=h[(q+2)%n]):(d=h[0===q?q:q-1],e=h[q>n-2?n-1:q+1],w=h[q>n-3?n-1:q+2]),q=f*f,r=f*q,l.push([zl(d[0],g[0],e[0],w[0],f,q,r),zl(d[1],g[1],e[1],w[1],f,q,r)]);h=l}a.moveTo(h[0][0],h[0][1]);n=1;for(l=
h.length;n<l;n++)a.lineTo(h[n][0],h[n][1])}c&&a.closePath()}}function Fl(a,b,c){var h=a.cpy2;return null===a.cpx2||null===h?[(c?vb:L)(a.x1,a.cpx1,a.cpx2,a.x2,b),(c?vb:L)(a.y1,a.cpy1,a.cpy2,a.y2,b)]:[(c?oi:oc)(a.x1,a.cpx1,a.x2,b),(c?oi:oc)(a.y1,a.cpy1,a.y2,b)]}function dc(a){Qa.call(this,a);this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.notClear=!0}function vd(a){return Ca.extend(a)}function vi(a,b,c,d){a=new Ca(pl(a,b));b=a.getBoundingRect();return c&&("center"===d&&(c=Gl(c,
b)),Hl(a,c)),a}function Bf(a,b,c){var h=new Ya({style:{image:a,x:b.x,y:b.y,width:b.width,height:b.height},onload:function(a){"center"===c&&h.setStyle(Gl(b,{width:a.width,height:a.height}))}});return h}function Gl(a,b){var h;b=b.width/b.height;var c=a.height*b;return h=c<=a.width?a.height:(c=a.width)/b,{x:a.x+a.width/2-c/2,y:a.y+a.height/2-h/2,width:c,height:h}}function Hl(a,b){a.applyTransform&&(b=a.getBoundingRect().calculateTransform(b),a.applyTransform(b))}function zf(a){var h=a.shape,b=a.style.lineWidth;
return af(2*h.x1)===af(2*h.x2)&&(h.x1=h.x2=ae(h.x1,b,!0)),af(2*h.y1)===af(2*h.y2)&&(h.y1=h.y2=ae(h.y1,b,!0)),a}function xi(a){var h=a.shape,b=a.style.lineWidth,c=h.x,d=h.y,e=h.width,f=h.height;return h.x=ae(h.x,b,!0),h.y=ae(h.y,b,!0),h.width=Math.max(ae(c+e,b,!1)-h.x,0===e?0:1),h.height=Math.max(ae(d+f,b,!1)-h.y,0===f?0:1),a}function ae(a,b,c){a=af(2*a);return 0==(a+af(b))%2?a/2:(a+(c?1:-1))/2}function vl(a){return"string"==typeof a?Cb(a,-.1):a}function Il(a){if(a.__hoverStlDirty){var h=a.style.stroke,
b=a.style.fill,c=a.__hoverStl;c.fill=c.fill||(null!=b&&"none"!=b?vl(b):null);c.stroke=c.stroke||(null!=h&&"none"!=h?vl(h):null);h={};for(var d in c)null!=c[d]&&(h[d]=a.style[d]);a.__normalStl=h;a.__hoverStlDirty=!1}}function Jl(a){if(!a.__isHover){if(Il(a),a.useHoverLayer)a.__zr&&a.__zr.addHover(a,a.__hoverStl);else{var h=a.style,b=h.insideRollbackOpt;if(b){var c=h.insideRollback;c&&(h.textFill=c.textFill,h.textStroke=c.textStroke,h.textStrokeWidth=c.textStrokeWidth)}h.extendFrom(a.__hoverStl);b&&
(Ll(h,h.insideOriginalTextPosition,b),null==h.textFill&&(h.textFill=b.autoColor));a.dirty(!1);a.z2+=1}a.__isHover=!0}}function tl(a){if(a.__isHover){var h=a.__normalStl;a.useHoverLayer?a.__zr&&a.__zr.removeHover(a):(h&&a.setStyle(h),--a.z2);a.__isHover=!1}}function wl(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&Jl(a)}):Jl(a)}function sl(a){"group"===a.type?a.traverse(function(a){"group"!==a.type&&tl(a)}):tl(a)}function yl(a,b){a.__hoverStl=a.hoverStyle||b||{};a.__hoverStlDirty=!0;
a.__isHover&&Il(a)}function Hq(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&wl(this)}function Jq(a){this.__hoverSilentOnTouch&&a.zrByTouch||!this.__isEmphasis&&sl(this)}function Kq(){this.__isEmphasis=!0;wl(this)}function Gq(){this.__isEmphasis=!1;sl(this)}function wd(a,b,c){a.__hoverSilentOnTouch=c&&c.hoverSilentOnTouch;"group"===a.type?a.traverse(function(a){"group"!==a.type&&yl(a,b)}):yl(a,b);a.on("mouseover",Hq).on("mouseout",Jq);a.on("emphasis",Kq).on("normal",Gq)}function Cf(a,
b,c,d,e,f,g){var h,n=(e=e||Qg).labelFetcher,w=e.labelDataIndex,F=e.labelDimIndex,K=c.getShallow("show"),l=d.getShallow("show");(K||l)&&(n&&(h=n.getFormattedLabel(w,"normal",null,F)),null==h&&(h=W(e.defaultText)?e.defaultText(w,e):e.defaultText));K=K?h:null;h=l?J(n?n.getFormattedLabel(w,"emphasis",null,F):null,h):null;null==K&&null==h||(ad(a,c,f,e),ad(b,d,g,e,!0));a.text=K;b.text=h}function ad(a,b,c,d,e){return Cg(a,b,d,e),c&&f(a,c),a.host&&a.host.dirty&&a.host.dirty(!1),a}function Cg(a,b,c,d){if((c=
c||Qg).isRectText){var h=b.getShallow("position")||(d?null:"inside");"outside"===h&&(h="top");a.textPosition=h;a.textOffset=b.getShallow("offset");h=b.getShallow("rotate");null!=h&&(h*=Math.PI/180);a.textRotation=h;a.textDistance=J(b.getShallow("distance"),d?null:5)}h=(h=b.ecModel)&&h.option.textStyle;for(var n,e=b;e&&e!==e.ecModel;){var w=(e.option||Qg).rich;if(w){n=n||{};for(var F in w)w.hasOwnProperty(F)&&(n[F]=1)}e=e.parentModel}if(n){var f={};for(var g in n)n.hasOwnProperty(g)&&(F=b.getModel(["rich",
g]),Kl(f[g]={},F,h,c,d))}return a.rich=f,Kl(a,b,h,c,d,!0),c.forceRich&&!c.textStyle&&(c.textStyle={}),a}function Kl(a,b,c,d,e,f){(c=!e&&c||Qg,a.textFill=zg(b.getShallow("color"),d)||c.color,a.textStroke=zg(b.getShallow("textBorderColor"),d)||c.textBorderColor,a.textStrokeWidth=J(b.getShallow("textBorderWidth"),c.textBorderWidth),e)||(f&&(e=a.textPosition,a.insideRollback=Ll(a,e,d),a.insideOriginalTextPosition=e,a.insideRollbackOpt=d),null==a.textFill&&(a.textFill=d.autoColor));a.fontStyle=b.getShallow("fontStyle")||
c.fontStyle;a.fontWeight=b.getShallow("fontWeight")||c.fontWeight;a.fontSize=b.getShallow("fontSize")||c.fontSize;a.fontFamily=b.getShallow("fontFamily")||c.fontFamily;a.textAlign=b.getShallow("align");a.textVerticalAlign=b.getShallow("verticalAlign")||b.getShallow("baseline");a.textLineHeight=b.getShallow("lineHeight");a.textWidth=b.getShallow("width");a.textHeight=b.getShallow("height");a.textTag=b.getShallow("tag");f&&d.disableBox||(a.textBackgroundColor=zg(b.getShallow("backgroundColor"),d),a.textPadding=
b.getShallow("padding"),a.textBorderColor=zg(b.getShallow("borderColor"),d),a.textBorderWidth=b.getShallow("borderWidth"),a.textBorderRadius=b.getShallow("borderRadius"),a.textBoxShadowColor=b.getShallow("shadowColor"),a.textBoxShadowBlur=b.getShallow("shadowBlur"),a.textBoxShadowOffsetX=b.getShallow("shadowOffsetX"),a.textBoxShadowOffsetY=b.getShallow("shadowOffsetY"));a.textShadowColor=b.getShallow("textShadowColor")||c.textShadowColor;a.textShadowBlur=b.getShallow("textShadowBlur")||c.textShadowBlur;
a.textShadowOffsetX=b.getShallow("textShadowOffsetX")||c.textShadowOffsetX;a.textShadowOffsetY=b.getShallow("textShadowOffsetY")||c.textShadowOffsetY}function zg(a,b){return"auto"!==a?a:b&&b.autoColor?b.autoColor:null}function Ll(a,b,c){var h,n=c.useInsideStyle;return null==a.textFill&&!1!==n&&(!0===n||c.isRectText&&b&&"string"==typeof b&&0<=b.indexOf("inside"))&&(h={textFill:null,textStroke:a.textStroke,textStrokeWidth:a.textStrokeWidth},a.textFill="#fff",null==a.textStroke&&(a.textStroke=c.autoColor,
null==a.textStrokeWidth&&(a.textStrokeWidth=2))),h}function Dl(a,b){b=b||b.getModel("textStyle");return ta([a.fontStyle||b&&b.getShallow("fontStyle")||"",a.fontWeight||b&&b.getShallow("fontWeight")||"",(a.fontSize||b&&b.getShallow("fontSize")||12)+"px",a.fontFamily||b&&b.getShallow("fontFamily")||"sans-serif"].join(" "))}function Ml(a,b,c,d,e,f){if("function"==typeof e&&(f=e,e=null),d&&d.isAnimationEnabled()){var h=a?"Update":"";a=d.getShallow("animationDuration"+h);var n=d.getShallow("animationEasing"+
h);h=d.getShallow("animationDelay"+h);"function"==typeof h&&(h=h(e,d.getAnimationDelayParams?d.getAnimationDelayParams(b,e):null));"function"==typeof a&&(a=a(e));0<a?b.animateTo(c,a,h||0,n,f,!!f):(b.stopAnimation(),b.attr(c),f&&f())}else b.stopAnimation(),b.attr(c),f&&f()}function nb(a,b,c,d,e){Ml(!0,a,b,c,d,e)}function ce(a,b,c,d,e){Ml(!1,a,b,c,d,e)}function Dg(a,b){for(var h=cb([]);a&&a!==b;)Ea(h,a.getLocalTransform(),h),a=a.parent;return h}function Df(a,b,c){return b&&!A(b)&&(b=bf.getLocalTransform(b)),
c&&(b=gb([],b)),N([],a,b)}function yi(a,b,c){var h=0===b[4]||0===b[5]||0===b[0]?1:Math.abs(2*b[4]/b[0]),n=0===b[4]||0===b[5]||0===b[2]?1:Math.abs(2*b[4]/b[2]);a=["left"===a?-h:"right"===a?h:0,"top"===a?-n:"bottom"===a?n:0];return a=Df(a,b,c),Math.abs(a[0])>Math.abs(a[1])?0<a[0]?"right":"left":0<a[1]?"bottom":"top"}function xl(a,b,c,d){function h(a){var h={position:Ga(a.position),rotation:a.rotation};return a.shape&&(h.shape=f({},a.shape)),h}if(a&&b){var n=function(a){var h={};return a.traverse(function(a){!a.isGroup&&
a.anid&&(h[a.anid]=a)}),h}(a);b.traverse(function(a){if(!a.isGroup&&a.anid){var b=n[a.anid];if(b){var d=h(a);a.attr(h(b));nb(a,d,c,a.dataIndex)}}})}}function Nl(a,c){return b(a,function(a){var h=a[0];h=Rg(h,c.x);h=Sg(h,c.x+c.width);a=a[1];return a=Rg(a,c.y),a=Sg(a,c.y+c.height),[h,a]})}function Ef(a,b,c){var h=(b=f({rectHover:!0},b)).style={strokeNoScale:!0};if(c=c||{x:-1,y:-1,width:2,height:2},a)return 0===a.indexOf("image://")?(h.image=a.slice(8),q(h,c),new Ya(b)):vi(a.replace("path://",""),b,c,
"center")}function Ta(a,b,c){this.parentModel=b;this.ecModel=c;this.option=a}function Ol(a,b,c){for(var h=0;h<b.length&&(!b[h]||null!=(a=a&&"object"==typeof a?a[b[h]]:null));h++);return null==a&&c&&(a=c.get(b)),a}function ti(a,b){var h=gm(a).getParent;return h?h.call(a,b):a.parentModel}function Ag(a){return[a||"",dr++,Math.random().toFixed(5)].join("_")}function mb(a,b,c,d){var h=b[1]-b[0],n=c[1]-c[0];if(0===h)return 0===n?c[0]:(c[0]+c[1])/2;if(d)if(0<h){if(a<=b[0])return c[0];if(a>=b[1])return c[1]}else{if(a>=
b[0])return c[0];if(a<=b[1])return c[1]}else{if(a===b[0])return c[0];if(a===b[1])return c[1]}return(a-b[0])/h*n+c[0]}function za(a,b){switch(a){case "center":case "middle":a="50%";break;case "left":case "top":a="0%";break;case "right":case "bottom":a="100%"}return"string"==typeof a?a.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(a)/100*b:parseFloat(a):null==a?NaN:+a}function ob(a,b,c){return null==b&&(b=10),b=Math.min(Math.max(0,b),20),a=(+a).toFixed(b),c?a:+a}function Te(a){return a.sort(function(a,
h){return a-h}),a}function ul(a){if(a=+a,isNaN(a))return 0;for(var h=1,b=0;Math.round(a*h)/h!==a;)h*=10,b++;return b}function xd(a){a=a.toString();var h=a.indexOf("e");if(0<h)return a=+a.slice(h+1),0>a?-a:0;h=a.indexOf(".");return 0>h?0:a.length-1-h}function si(a,b){var h=Math.log,c=Math.LN10;a=Math.floor(h(a[1]-a[0])/c);b=Math.round(h(Math.abs(b[1]-b[0]))/c);b=Math.min(Math.max(-a+b,0),20);return isFinite(b)?b:20}function Pl(a,c,e){if(!a[c])return 0;var h=d(a,function(a,h){return a+(isNaN(h)?0:h)},
0);if(0===h)return 0;var n=Math.pow(10,e),w=b(a,function(a){return(isNaN(a)?0:a)/h*n*100});a=100*n;var f=b(w,function(a){return Math.floor(a)});e=d(f,function(a,h){return a+h},0);for(w=b(w,function(a,h){return a-f[h]});e<a;){for(var g=Number.NEGATIVE_INFINITY,l=null,m=0,q=w.length;m<q;++m)w[m]>g&&(g=w[m],l=m);++f[l];w[l]=0;++e}return f[c]/n}function wi(a){var h=2*Math.PI;return(a%h+h)%h}function Af(a){return a>-hm&&a<hm}function yf(a){if(a instanceof Date)return a;if("string"==typeof a){a=er.exec(a);
if(!a)return new Date(NaN);if(a[8]){var h=+a[4]||0;return"Z"!==a[8].toUpperCase()&&(h-=a[8].slice(0,3)),new Date(Date.UTC(+a[1],+(a[2]||1)-1,+a[3]||1,h,+(a[5]||0),+a[6]||0,+a[7]||0))}return new Date(+a[1],+(a[2]||1)-1,+a[3]||1,+a[4]||0,+(a[5]||0),+a[6]||0,+a[7]||0)}return null==a?new Date(NaN):new Date(Math.round(a))}function ql(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function xg(a,b){var h,c=Math.floor(Math.log(a)/Math.LN10),n=Math.pow(10,c),d=a/n;return h=b?1.5>d?1:2.5>d?2:4>d?
3:7>d?5:10:1>d?1:2>d?2:3>d?3:5>d?5:10,a=h*n,-20<=c?+a.toFixed(0>c?-c:0):a}function $d(a){return isNaN(a)?"-":(a=(a+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<a.length?"."+a[1]:"")}function rl(a,b){return a=(a||"").toLowerCase().replace(/-(.)/g,function(a,h){return h.toUpperCase()}),b&&a&&(a=a.charAt(0).toUpperCase()+a.slice(1)),a}function lb(a){return null==a?"":(a+"").replace(fr,function(a,h){return gr[h]})}function qi(a,b,c){H(b)||(b=[b]);var h=b.length;if(!h)return"";
for(var n=b[0].$vars||[],d=0;d<n.length;d++){var e=im[d];a=a.replace("{"+e+"}","{"+e+0+"}")}for(d=0;d<h;d++)for(e=0;e<n.length;e++){var w=b[d][n[e]];a=a.replace("{"+im[e]+(null==d?"":d)+"}",c?lb(w):w)}return a}function yg(a,b){var h=(a=P(a)?{color:a,extraCssText:b}:a||{}).color,c=a.type;b=a.extraCssText;return h?"subItem"===c?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+lb(h)+";"+(b||"")+'"></span>':
'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+lb(h)+";"+(b||"")+'"></span>':""}function Qe(a,b){return a+="","0000".substr(0,b-a.length)+a}function ri(a,b,c){"week"!==a&&"month"!==a&&"quarter"!==a&&"half-year"!==a&&"year"!==a||(a="MM-dd\nyyyy");b=yf(b);var h=c?"UTC":"";c=b["get"+h+"FullYear"]();var n=b["get"+h+"Month"]()+1,d=b["get"+h+"Date"](),e=b["get"+h+"Hours"](),w=b["get"+h+"Minutes"](),f=b["get"+h+"Seconds"]();b=b["get"+h+"Milliseconds"]();
return a.replace("MM",Qe(n,2)).replace("M",n).replace("yyyy",c).replace("yy",c%100).replace("dd",Qe(d,2)).replace("d",d).replace("hh",Qe(e,2)).replace("h",e).replace("mm",Qe(w,2)).replace("m",w).replace("ss",Qe(f,2)).replace("s",f).replace("SSS",Qe(b,3))}function ui(a){return a?a.charAt(0).toUpperCase()+a.substr(1):a}function Bg(a,b,c,d,e){var h=0,n=0;null==d&&(d=1/0);null==e&&(e=1/0);var w=0;b.eachChild(function(F,f){var g,K,l=F.position,da=F.getBoundingRect();f=(f=b.childAt(f+1))&&f.getBoundingRect();
"horizontal"===a?(f=da.width+(f?-f.x+da.x:0),(g=h+f)>d||F.newline?(h=0,g=f,n+=w+c,w=da.height):w=Math.max(w,da.height)):(f=da.height+(f?-f.y+da.y:0),(K=n+f)>e||F.newline?(h+=w+c,n=0,K=f,w=da.width):w=Math.max(w,da.width));F.newline||(l[0]=h,l[1]=n,"horizontal"===a?h=g+c:n=K+c)})}function $c(a,b,c){c=Pf(c||0);var h=b.width;b=b.height;var n=za(a.left,h),d=za(a.top,b),e=za(a.right,h),w=za(a.bottom,b),f=za(a.width,h),g=za(a.height,b),l=c[2]+c[0],m=c[1]+c[3],q=a.aspect;switch(isNaN(f)&&(f=h-e-m-n),isNaN(g)&&
(g=b-w-l-d),null!=q&&(isNaN(f)&&isNaN(g)&&(q>h/b?f=.8*h:g=.8*b),isNaN(f)&&(f=q*g),isNaN(g)&&(g=f/q)),isNaN(n)&&(n=h-e-f-m),isNaN(d)&&(d=b-w-g-l),a.left||a.right){case "center":n=h/2-f/2-c[3];break;case "right":n=h-f-m}switch(a.top||a.bottom){case "middle":case "center":d=b/2-g/2-c[0];break;case "bottom":d=b-g-l}n=n||0;d=d||0;isNaN(f)&&(f=h-m-n-(e||0));isNaN(g)&&(g=b-l-d-(w||0));a=new Fa(n+c[3],d+c[0],f,g);return a.margin=c,a}function Al(a,b,c,d,e){var h=!e||!e.hv||e.hv[0],n=!e||!e.hv||e.hv[1];e=e&&
e.boundingMode||"all";if(h||n){if("raw"===e)var w="group"===a.type?new Fa(0,0,+b.width||0,+b.height||0):a.getBoundingRect();else if(w=a.getBoundingRect(),a.needLocalTransform()){var F=a.getLocalTransform();(w=w.clone()).applyTransform(F)}b=$c(q({width:w.width,height:w.height},b),c,d);c=a.position;h=h?b.x-w.x:0;b=n?b.y-w.y:0;a.attr("position","raw"===e?[h,b]:[c[0]+h,c[1]+b])}}function be(a,b,c){function h(h,c){var d={},w=0,F={},f=0;if(Tg(h,function(h){F[h]=a[h]}),Tg(h,function(a){b.hasOwnProperty(a)&&
(d[a]=F[a]=b[a]);n(d,a)&&w++;n(F,a)&&f++}),e[c])return n(b,h[1])?F[h[2]]=null:n(b,h[2])&&(F[h[1]]=null),F;if(2!==f&&w){if(2<=w)return d;for(c=0;c<h.length;c++){var g=h[c];if(!d.hasOwnProperty(g)&&a.hasOwnProperty(g)){d[g]=a[g];break}}return d}return F}function n(a,h){return null!=a[h]&&"auto"!==a[h]}function d(a,h,b){Tg(a,function(a){h[a]=b[a]})}!M(c)&&(c={});var e=c.ignoreSize;!H(e)&&(e=[e,e]);c=h(Ug[0],0);var w=h(Ug[1],1);d(Ug[0],a,c);d(Ug[1],a,w)}function Re(a,b){return b&&a&&Tg(jm,function(h){b.hasOwnProperty(h)&&
(a[h]=b[h])}),a}function Bl(a){var h=a.get("coordinateSystem"),b={coordSysName:h,coordSysDims:[],axisMap:ia(),categoryAxisMap:ia()};if(h=hr[h])return h(a,b,b.axisMap,b.categoryAxisMap),b}function Se(a){return"category"===a.get("type")}function vc(a){this.fromDataset=a.fromDataset;this.data=a.data||(a.sourceFormat===Vg?{}:[]);this.sourceFormat=a.sourceFormat||km;this.seriesLayoutBy=a.seriesLayoutBy||lm;this.dimensionsDefine=a.dimensionsDefine;this.encodeDefine=a.encodeDefine&&ia(a.encodeDefine);this.startIndex=
a.startIndex||0;this.dimensionsDetectCount=a.dimensionsDetectCount}function Cl(a){var h=a.option,b=h.data,c=G(b)?Wg:re,d=!1,e=h.seriesLayoutBy,f=h.sourceHeader,g=h.dimensions;var l=a.option;l=l.data?void 0:a.ecModel.getComponent("dataset",l.datasetIndex||0);if(l){var m=l.option;b=m.source;c=cf(l).sourceFormat;d=!0;e=e||m.seriesLayoutBy;null==f&&(f=m.sourceHeader);g=g||m.dimensions}f=Iq(b,c,e,f,g);h=h.encode;!h&&l&&(h=ir(a,l,b,c,e,f));cf(a).source=new vc({data:b,fromDataset:d,seriesLayoutBy:e,sourceFormat:c,
dimensionsDefine:f.dimensionsDefine,startIndex:f.startIndex,dimensionsDetectCount:f.dimensionsDetectCount,encodeDefine:h})}function Iq(a,b,c,d,e){if(!a)return{dimensionsDefine:mm(e)};var h,n;if(b===Xg){"auto"===d||null==d?nm(function(a){null!=a&&"-"!==a&&(P(a)?null==h&&(h=1):h=0)},c,a,10):h=d?1:0;e||1!==h||(e=[],nm(function(a,h){e[h]=null!=a?a:""},c,a));var w=e?e.length:c===Li?a.length:a[0]?a[0].length:null}else b===Yg?e||(e=jr(a),n=!0):b===Vg?e||(e=[],n=!0,v(a,function(a,h){e.push(h)})):b===re&&
(a=ie(a[0]),w=H(a)&&a.length||1);var F;return n&&v(e,function(a,h){"name"===(M(a)?a.name:a)&&(F=h)}),{startIndex:h,dimensionsDefine:mm(e),dimensionsDetectCount:w,potentialNameDimIndex:F}}function mm(a){if(a){var h=ia();return b(a,function(a,b){if(null==(a=f({},M(a)?a:{name:a})).name)return a;a.name+="";null==a.displayName&&(a.displayName=a.name);b=h.get(a.name);return b?a.name+="-"+b.count++:h.set(a.name,{count:1}),a})}}function nm(a,b,c,d){if(null==d&&(d=1/0),b===Li)for(b=0;b<c.length&&b<d;b++)a(c[b]?
c[b][0]:null,b);else for(c=c[0]||[],b=0;b<c.length&&b<d;b++)a(c[b],b)}function jr(a){for(var h,b=0;b<a.length&&!(h=a[b++]););if(h){var c=[];return v(h,function(a,h){c.push(h)}),c}}function ir(a,b,c,d,e,f){var h=Bl(a),n={},w=[],F=[],g=a.subType,K=ia(["pie","map","funnel"]),l=ia("line bar pictorialBar scatter effectScatter candlestick boxplot".split(" "));if(h&&null!=l.get(g)){c=cf(a.ecModel).datasetMap;e=b.uid+"_"+e;var da=c.get(e)||c.set(e,{categoryWayDim:1,valueWayDim:0});v(h.coordSysDims,function(a){if(null==
h.firstCategoryDimIndex)b=da.valueWayDim++,n[a]=b,F.push(b);else if(h.categoryAxisMap.get(a))n[a]=0,w.push(0);else{var b=da.categoryWayDim++;n[a]=b;F.push(b)}})}else if(null!=K.get(g)){var m;for(b=0;5>b&&null==m;b++)om(c,d,e,f.dimensionsDefine,f.startIndex,b)||(m=b);null!=m&&(n.value=m,e=f.potentialNameDimIndex||Math.max(m-1,0),F.push(e),w.push(e))}return w.length&&(n.itemName=w),F.length&&(n.seriesName=F),n}function om(a,b,c,d,e,f){function h(a){return(null==a||!isFinite(a)||""===a)&&(!(!P(a)||"-"===
a)||void 0)}var n;if(G(a))return!1;var w;if(d&&(w=M(w=d[f])?w.name:w),b===Xg)if(c===Li){var F=a[f];for(b=0;b<(F||[]).length&&5>b;b++)if(null!=(n=h(F[e+b])))return n}else for(b=0;b<a.length&&5>b;b++){if((w=a[e+b])&&null!=(n=h(w[f])))return n}else if(b===Yg){if(!w)return;for(b=0;b<a.length&&5>b;b++)if((g=a[b])&&null!=(n=h(g[w])))return n}else if(b===Vg){if(!w)return;if(!(F=a[w])||G(F))return!1;for(b=0;b<F.length&&5>b;b++)if(null!=(n=h(F[b])))return n}else if(b===re)for(b=0;b<a.length&&5>b;b++){var g=
a[b];e=ie(g);if(!H(e))break;if(null!=(n=h(e[f])))return n}return!1}function kr(a,b){var h=a.color&&!a.colorLayer;v(b,function(b,c){"colorLayer"===c&&h||Ua.hasClass(c)||("object"==typeof b?a[c]=a[c]?m(a[c],b,!1):e(b):null==a[c]&&(a[c]=b))})}function lr(a){this.option={};this.option[Mi]=1;this._componentsMap=ia({series:[]});this._seriesIndices;this._seriesIndicesMap;kr(a,this._theme.option);m(a,mr,!1);this.mergeOption(a)}function nr(a,b){H(b)||(b=b?[b]:[]);var h={};return v(b,function(b){h[b]=(a.get(b)||
[]).slice()}),h}function Ni(a,c){a._seriesIndicesMap=ia(a._seriesIndices=b(c,function(a){return a.componentIndex})||[])}function pm(a,b){return b.hasOwnProperty("subType")?g(a,function(a){return a.subType===b.subType}):a}function qm(a){v(or,function(h){this[h]=r(a[h],a)},this)}function md(){this._coordinateSystems=[]}function Oi(a){this._api=a;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function pr(a,c,d){var h,
n,e=[],w=[],f=a.timeline;if(a.baseOption&&(n=a.baseOption),(f||a.options)&&(n=n||{},e=(a.options||[]).slice()),a.media)n=n||{},Zg(a.media,function(a){a&&a.option&&(a.query?w.push(a):h||(h=a))});return n||(n=a),n.timeline||(n.timeline=f),Zg([n].concat(e).concat(b(w,function(a){return a.option})),function(a){Zg(c,function(h){h(a,d)})}),{baseOption:n,timelineOptions:e,mediaDefault:h,mediaList:w}}function qr(a,b,c){var h={width:b,height:c,aspectratio:b/c},n=!0;return v(a,function(a,b){var c=b.match(rr);
c&&c[1]&&c[2]&&(b=c[1],c=c[2].toLowerCase(),c=h[c],("min"===b?c>=a:"max"===b?c<=a:c===a)||(n=!1))}),n}function sr(a,b){return a.join(",")===b.join(",")}function tr(a,b){Zg(b=b||{},function(h,b){if(null!=h){var c=a[b];Ua.hasClass(b)?(h=Ob(h),h=je(c=Ob(c),h),a[b]=$g(h,function(a){return a.option&&a.exist?rm(a.exist,a.option,!0):a.exist||a.option})):a[b]=rm(c,h,!0)}})}function Pi(a){var h=a&&a.itemStyle;if(h)for(var b=0,c=sm.length;b<c;b++){var d=sm[b],e=h.normal,f=h.emphasis;e&&e[d]&&(a[d]=a[d]||{},
a[d].normal?m(a[d].normal,e[d]):a[d].normal=e[d],e[d]=null);f&&f[d]&&(a[d]=a[d]||{},a[d].emphasis?m(a[d].emphasis,f[d]):a[d].emphasis=f[d],f[d]=null)}}function Sb(a,b,c){if(a&&a[b]&&(a[b].normal||a[b].emphasis)){var h=a[b].normal,n=a[b].emphasis;h&&(c?(a[b].normal=a[b].emphasis=null,q(a[b],h)):a[b]=h);n&&(a.emphasis=a.emphasis||{},a.emphasis[b]=n)}}function Qf(a){Sb(a,"itemStyle");Sb(a,"lineStyle");Sb(a,"areaStyle");Sb(a,"label");Sb(a,"labelLine");Sb(a,"upperLabel");Sb(a,"edgeLabel")}function tb(a,
b){a=Rf(a)&&a[b];var h=Rf(a)&&a.textStyle;if(h)for(var c=0,n=tm.length;c<n;c++)b=tm[c],h.hasOwnProperty(b)&&(a[b]=h[b])}function lc(a){a&&(Qf(a),tb(a,"label"),a.emphasis&&tb(a.emphasis,"label"))}function ur(a){if(Rf(a)){Pi(a);Qf(a);tb(a,"label");tb(a,"upperLabel");tb(a,"edgeLabel");a.emphasis&&(tb(a.emphasis,"label"),tb(a.emphasis,"upperLabel"),tb(a.emphasis,"edgeLabel"));var b=a.markPoint;b&&(Pi(b),lc(b));var h=a.markLine;h&&(Pi(h),lc(h));var c=a.markArea;c&&lc(c);var d=a.data;if("graph"===a.type){d=
d||a.nodes;var e=a.links||a.edges;if(e&&!G(e))for(c=0;c<e.length;c++)lc(e[c]);v(a.categories,function(a){Qf(a)})}if(d&&!G(d))for(c=0;c<d.length;c++)lc(d[c]);if((b=a.markPoint)&&b.data)for(b=b.data,c=0;c<b.length;c++)lc(b[c]);if((h=a.markLine)&&h.data)for(h=h.data,c=0;c<h.length;c++)H(h[c])?(lc(h[c][0]),lc(h[c][1])):lc(h[c]);"gauge"===a.type?(tb(a,"axisLabel"),tb(a,"title"),tb(a,"detail")):"treemap"===a.type?(Sb(a.breadcrumb,"itemStyle"),v(a.levels,function(a){Qf(a)})):"tree"===a.type&&Qf(a.leaves)}}
function nd(a){return H(a)?a:a?[a]:[]}function um(a){return(H(a)?a[0]:a)||{}}function vm(a){v(vr,function(b){b[0]in a&&!(b[1]in a)&&(a[b[1]]=a[b[0]])})}function wr(a){v(a,function(b,h){var c=[],n=[NaN,NaN],d=b.data,e=b.isStackedByIndex,w=d.map([b.stackResultDimension,b.stackedOverDimension],function(w,F,f){w=d.get(b.stackedDimension,f);if(isNaN(w))return n;var g,K;e?K=d.getRawIndex(f):g=d.get(b.stackedByDimension,f);f=NaN;for(F=h-1;0<=F;F--){var l=a[F];if(e||(K=l.data.rawIndexOf(l.stackedByDimension,
g)),0<=K)if(l=l.data.getByRawIndex(l.stackResultDimension,K),0<=w&&0<l||0>=w&&0>l){w+=l;f=l;break}}return c[0]=w,c[1]=f,c});d.hostModel.setData(w);b.data=w})}function wm(a,b){vc.isInstance(a)||(a=vc.seriesDataToSource(a));this._source=a;var h=this._data=a.data,c=a.sourceFormat;c===Wg&&(this._offset=0,this._dimSize=b,this._data=h);f(this,xr[c===Xg?c+"_"+a.seriesLayoutBy:c])}function xm(){return this._data.length}function ym(a){return this._data[a]}function Qi(a){for(var b=0;b<a.length;b++)this._data.push(a[b])}
function Ri(a,b,c,d){return null!=c?a[c]:a}function zm(a,b,c,d){return Si(a[d],this._dimensionInfos[b])}function Si(a,b){var h=b&&b.type;return"ordinal"===h?(b=b&&b.ordinalMeta)?b.parseAndCollect(a):a:("time"===h&&"number"!=typeof a&&null!=a&&"-"!==a&&(a=+yf(a)),null==a||""===a?NaN:+a)}function se(a,b,c){if(a){var h=a.getRawDataItem(b);if(null!=h){var n,d,e=a.getProvider().getSource().sourceFormat;a=a.getDimensionInfo(c);return a&&(n=a.name,d=a.index),yr[e](h,b,d,n)}}}function zr(a,b,c){if(a){var h=
a.getProvider().getSource().sourceFormat;if(h===re||h===Yg)return a=a.getRawDataItem(b),h!==re||M(a)||(a=null),a?a[c]:void 0}}function df(a){a=a||{};this._reset=a.reset;this._plan=a.plan;this._count=a.count;this._onDirty=a.onDirty;this._dirty=!0;this.context}function Am(a,b,c,d,e,f){Bm.reset(c,d,e,f);a._callingProgress=b;a._callingProgress({start:c,end:d,count:d-c,next:Bm.next},a.context)}function Ar(a,b){a._dueIndex=a._outputDueEnd=a._dueEnd=0;a._settedOutputEnd=null;var h,c;!b&&a._reset&&((h=a._reset(a.context))&&
h.progress&&(c=h.forceFirstProgress,h=h.progress),H(h)&&!h.length&&(h=null));a._progress=h;a._modBy=a._modDataCount=null;a=a._downstream;return a&&a.dirty(),c}function Cm(a){var b=a.name;Gf(a)||(a.name=Br(a)||b)}function Br(a){var b=a.getRawData(),h=[];return v(b.mapDimension("seriesName",!0),function(a){a=b.getDimensionInfo(a);a.displayName&&h.push(a.displayName)}),h.join(" ")}function Cr(a){return a.model.getRawData().count()}function Dr(a){a=a.model;return a.setData(a.getRawData().cloneShallow()),
Er}function Er(a,b){a.end>b.outputData.count()&&b.model.getRawData().cloneShallow(b.outputData)}function Dm(a,b){v(a.CHANGABLE_METHODS,function(h){a.wrapMethod(h,D(Fr,b))})}function Fr(a){(a=Ti(a))&&a.setOutputEnd(this.count())}function Ti(a){var b=(a.ecModel||{}).scheduler;if(b=b&&b.getPipeline(a.uid)){if(b=b.currentTask){var h=b.agentStubMap;h&&(b=h.get(a.uid))}return b}}function cc(){this.group=new xa;this.uid=Ag("viewChart");this.renderTask=new df({plan:Gr,reset:Hr});this.renderTask.context={view:this}}
function Ui(a,b){if(a&&(a.trigger(b),"group"===a.type))for(var h=0;h<a.childCount();h++)Ui(a.childAt(h),b)}function Em(a,b,c){b=ke(a,b);null!=b?v(Ob(b),function(b){Ui(a.getItemGraphicEl(b),c)}):a.eachItemGraphicEl(function(a){Ui(a,c)})}function Gr(a){return Ir(a.model)}function Hr(a){var b=a.model,h=a.ecModel,c=a.api,d=a.payload,e=b.pipelineContext.progressiveRender;a=a.view;var f=d&&Fm(d).updateMethod;e=e?"incrementalPrepareRender":f&&a[f]?f:"render";return"render"!==e&&a[e](b,h,c,d),Jr[e]}function Vi(a,
b,c){function h(){l=(new Date).getTime();m=null;a.apply(e,w||[])}var n,d,e,w,f,g=0,l=0,m=null;b=b||0;var q=function(){n=(new Date).getTime();e=this;w=arguments;var a=f||b,F=f||c;f=null;d=n-(F?g:l)-a;clearTimeout(m);F?m=setTimeout(h,a):0<=d?h():m=setTimeout(h,-d);g=n};return q.clear=function(){m&&(clearTimeout(m),m=null)},q.debounceNextCall=function(a){f=a},q}function Wi(a,b,c,d){var h=a[b];if(h){var n=h[ah]||h,e=h[Gm];if(h[Hm]!==c||e!==d){if(null==c||!d)return a[b]=n;(h=a[b]=Vi(n,c,"debounce"===d))[ah]=
n;h[Gm]=d;h[Hm]=c}return h}}function Im(a,b){var h=a[b];h&&h[ah]&&(a[b]=h[ah])}function bh(a,b,c,d){this.ecInstance=a;this.api=b;this.unfinished;c=this._dataProcessorHandlers=c.slice();d=this._visualHandlers=d.slice();this._allHandlers=c.concat(d);this._stageTaskMap=ia()}function Jm(a,b,c,d,e){e=e||{};var h;v(b,function(b,n){if(!e.visualType||e.visualType===b.visualType){var w=a._stageTaskMap.get(b.uid);n=w.seriesTaskMap;if(w=w.overallTask){var F;n=w.agentStubMap;n.each(function(a){e.setDirty&&(!e.dirtyMap||
e.dirtyMap.get(a.__pipeline.id))&&(a.dirty(),F=!0)});F&&w.dirty();Km(w,d);var f=a.getPerformArgs(w,e.block);n.each(function(a){a.perform(f)});h|=w.perform(f)}else n&&n.each(function(n,w){e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(n.__pipeline.id))&&n.dirty();w=a.getPerformArgs(n,e.block);w.skip=!b.performRawSeries&&c.isSeriesFiltered(n.context.model);Km(n,d);h|=n.perform(w)})}});a.unfinished|=h}function Kr(a,b,c,d,e){function h(h){var c=h.uid;c=n.get(c)||n.set(c,new df({plan:Lr,reset:Mr,count:Nr}));
c.context={model:h,ecModel:d,api:e,useClearVisual:b.isVisual&&!b.isLayout,plan:b.plan,reset:b.reset,scheduler:a};ch(a,h,c)}var n=c.seriesTaskMap||(c.seriesTaskMap=ia());c=b.seriesType;var w=b.getTargetSeries;b.createOnAllSeries?d.eachRawSeries(h):c?d.eachRawSeriesByType(c,h):w&&w(d,e).each(h);var F=a._pipelineMap;n.each(function(a,b){F.get(b)||(a.dispose(),n.removeKey(b))})}function Or(a,b,c,d,e){function h(b){var h=b.uid,c=w.get(h);c||(c=w.set(h,new df({reset:Pr,onDirty:Qr})),n.dirty());c.context=
{model:b,overallProgress:f,modifyOutputEnd:g};c.agent=n;c.__block=f;ch(a,b,c)}var n=c.overallTask=c.overallTask||new df({reset:Rr});n.context={ecModel:d,api:e,overallReset:b.overallReset,scheduler:a};var w=n.agentStubMap=n.agentStubMap||ia();c=b.seriesType;var F=b.getTargetSeries,f=!0,g=b.modifyOutputEnd;c?d.eachRawSeriesByType(c,h):F?F(d,e).each(h):(f=!1,v(d.getSeries(),h));var K=a._pipelineMap;w.each(function(a,b){K.get(b)||(a.dispose(),n.dirty(),w.removeKey(b))})}function Rr(a){a.overallReset(a.ecModel,
a.api,a.payload)}function Pr(a,b){return a.overallProgress&&Sr}function Sr(){this.agent.dirty();this.getDownstream().dirty()}function Qr(){this.agent&&this.agent.dirty()}function Lr(a){return a.plan&&a.plan(a.model,a.ecModel,a.api,a.payload)}function Mr(a){a.useClearVisual&&a.data.clearAllVisual();a=a.resetDefines=Ob(a.reset(a.model,a.ecModel,a.api,a.payload));return 1<a.length?b(a,function(a,b){return Lm(b)}):Tr}function Lm(a){return function(b,h){var c=h.data;if((h=h.resetDefines[a])&&h.dataEach)for(var n=
b.start;n<b.end;n++)h.dataEach(c,n);else h&&h.progress&&h.progress(b,c)}}function Nr(a){return a.data.count()}function ch(a,b,c){a=a._pipelineMap.get(b.uid);!a.head&&(a.head=c);a.tail&&a.tail.pipe(c);a.tail=c;c.__idxInPipeline=a.count++;c.__pipeline=a}function Mm(a,b){for(var h in b.prototype)a[h]=va}function ef(a){return function(b,h,c){b=b&&b.toLowerCase();xc.prototype[a].call(this,b,h,c)}}function Sf(){this._$handlers={}}function Tf(a,b,c){function h(a,b){return a.__prio-b.__prio}c=c||{};"string"==
typeof b&&(b=dh[b]);this.id;this.group;this._dom=a;a=this._zr=ac(a,{renderer:c.renderer||"canvas",devicePixelRatio:c.devicePixelRatio,width:c.width,height:c.height});this._throttledZrFlush=Vi(r(a.flush,a),17);(b=e(b))&&Nm(b,!0);this._theme=b;this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._coordSysMgr=new md;b=this._api=Ur(this);Ec(eh,h);Ec(Xi,h);this._scheduler=new bh(this,b,Xi,eh);this._$handlers={};this._messageCenter=new Sf;this._initEvents();this.resize=
r(this.resize,this);this._pendingActions=[];a.animation.on("frame",this._onframe,this);Vr(a,this);Ia(this)}function Om(a,b,c){var h,n=this._model,d=this._coordSysMgr.getCoordinateSystems();b=le(n,b);for(var e=0;e<d.length;e++){var w=d[e];if(w[a]&&null!=(h=w[a](n,b,c)))return h}}function Uf(a){var b=a._model,h=a._scheduler;h.restorePipelines(b);h.prepareStageTasks();Pm(a,"component",b,h);Pm(a,"chart",b,h);h.plan()}function Qm(a,b,c,d,e){function h(h){h&&h.__alive&&h[b]&&h[b](h.__model,n,a._api,c)}
var n=a._model;if(d){var w={};w[d+"Id"]=c[d+"Id"];w[d+"Index"]=c[d+"Index"];w[d+"Name"]=c[d+"Name"];w={mainType:d,query:w};e&&(w.subType=e);var F=c.excludeSeriesId;null!=F&&(F=ia(Ob(F)));n&&n.eachComponent(w,function(b){F&&null!=F.get(b.id)||h(a["series"===d?"_chartsMap":"_componentsMap"][b.__viewId])},a)}else Jb(a._componentsViews.concat(a._chartsViews),h)}function Rm(a,b){var h=a._chartsMap,c=a._scheduler;b.eachSeries(function(a){c.updateStreamModes(a,h[a.__viewId])})}function Sm(a,c){var h=a.type,
n=a.escapeConnect,d=fh[h],e=d.actionInfo,g=(e.update||"update").split(":"),l=g.pop();g=null!=g[0]&&Tm(g[0]);this[Nc]=!0;var m=[a],r=!1;a.batch&&(r=!0,m=b(a.batch,function(b){return b=q(f({},b),a),b.batch=null,b}));var t=[],u="highlight"===h||"downplay"===h;Jb(m,function(a){z=d.action(a,this._model,this._api);(z=z||f({},a)).type=e.event||z.type;t.push(z);u?Qm(this,l,a,"series"):g&&Qm(this,l,a,g.main,g.sub)},this);"none"===l||u||g||(this[Gd]?(Uf(this),Hd.update.call(this,a),this[Gd]=!1):Hd[l].call(this,
a));var z=r?{type:e.event||h,escapeConnect:n,batch:t}:t[0];this[Nc]=!1;!c&&this._messageCenter.trigger(z.type,z)}function gh(a){for(var b=this._pendingActions;b.length;){var h=b.shift();Sm.call(this,h,a)}}function Vr(a,b){a.on("rendered",function(){b.trigger("rendered");!a.animation.isFinished()||b[Gd]||b._scheduler.unfinished||b._pendingActions.length||b.trigger("finished")})}function Pm(a,b,c,d){function h(a){var b="_ec_"+a.id+"_"+a.type,h=w[b];h||(h=Tm(a.type),(h=new (n?od.getClass(h.main,h.sub):
cc.getClass(h.sub))).init(c,f),w[b]=h,e.push(h),F.add(h.group));a.__viewId=h.__id=b;h.__alive=!0;h.__model=a;h.group.__ecComponentInfo={mainType:a.mainType,index:a.componentIndex};!n&&d.prepareView(h,a,c,f)}var n="component"===b,e=n?a._componentsViews:a._chartsViews,w=n?a._componentsMap:a._chartsMap,F=a._zr,f=a._api;for(a=0;a<e.length;a++)e[a].__alive=!1;n?c.eachComponent(function(a,b){"series"!==a&&h(b)}):c.eachSeries(h);for(a=0;a<e.length;)b=e[a],b.__alive?a++:(!n&&b.renderTask.dispose(),F.remove(b.group),
b.dispose(c,f),e.splice(a,1),delete w[b.__id],b.__id=b.group.__ecComponentInfo=null)}function Yi(a){a.clearColorPalette();a.eachSeries(function(a){a.clearColorPalette()})}function Um(a,b,c,d){Wr(a,b,c,d);Jb(a._chartsViews,function(a){a.__alive=!1});Zi(a,b,c,d);Jb(a._chartsViews,function(a){a.__alive||a.remove(b,c)})}function Wr(a,b,c,d,e){Jb(e||a._componentsViews,function(a){var h=a.__model;a.render(h,b,c,d);Vm(h,a)})}function Zi(a,b,c,d,e){var h,n=a._scheduler;b.eachSeries(function(b){var c=a._chartsMap[b.__viewId];
c.__alive=!0;var w=c.renderTask;n.updatePayload(w,d);e&&e.get(b.uid)&&w.dirty();h|=w.perform(n.getPerformArgs(w));c.group.silent=!!b.get("silent");Vm(b,c);Xr(b,c)});n.unfinished|=h;Yr(a._zr,b);Zr(a._zr.dom,b)}function $i(a,b){Jb(Wm,function(h){h(a,b)})}function Yr(a,b){a=a.storage;var h=0;a.traverse(function(a){a.isGroup||h++});h>b.get("hoverLayerThreshold")&&!Ba.node&&a.traverse(function(a){a.isGroup||(a.useHoverLayer=!0)})}function Xr(a,b){var h=a.get("blendMode")||null;b.group.traverse(function(a){a.isGroup||
a.style.blend!==h&&a.setStyle("blend",h);a.eachPendingDisplayable&&a.eachPendingDisplayable(function(a){a.setStyle("blend",h)})})}function Vm(a,b){var h=a.get("z"),c=a.get("zlevel");b.group.traverse(function(a){"group"!==a.type&&(null!=h&&(a.z=h),null!=c&&(a.zlevel=c))})}function Ur(a){var b=a._coordSysMgr;return f(new qm(a),{getCoordinateSystems:r(b.getCoordinateSystems,b),getComponentByElement:function(b){for(;b;){var h=b.__ecComponentInfo;if(null!=h)return a._model.getComponent(h.mainType,h.index);
b=b.parent}}})}function $r(a){function b(a,b){for(var c=0;c<a.length;c++)a[c][h]=b}var h="__connectUpdateStatus";Jb(hh,function(c,n){a._messageCenter.on(n,function(c){if(ih[a.group]&&0!==a[h]&&(!c||!c.escapeConnect)){var n=a.makeActionFromEvent(c),d=[];Jb(te,function(b){b!==a&&b.group===a.group&&d.push(b)});b(d,0);Jb(d,function(a){1!==a[h]&&a.dispatchAction(n)});b(d,2)}})})}function Xm(a){ih[a]=!1}function aj(a){var b=te,h=bj;a=a.getAttribute?a.getAttribute(h):a[h];return b[a]}function pd(a){Ym.push(a)}
function ue(a,b){cj(Xi,a,b,Zm)}function yb(a,b,c){"function"==typeof b&&(c=b,b="");var h=Vf(a)?a.type:[a,a={event:b}][0];a.event=(a.event||h).toLowerCase();b=a.event;as($m.test(h)&&$m.test(b));fh[h]||(fh[h]={action:c,actionInfo:a});hh[b]=h}function ff(a,b){cj(eh,a,b,an,"layout")}function gf(a,b){cj(eh,a,b,bn,"visual")}function cj(a,b,c,d,e){(bs(b)||Vf(b))&&(c=b,b=d);d=bh.wrapStageHandler(c,e);return d.__prio=b,d.__raw=c,a.push(d),d}function cn(a,b){dj[a]=b}function qd(a){return Ua.extend(a)}function Oc(a){return od.extend(a)}
function dn(a){return hf.extend(a)}function ej(a){return cc.extend(a)}function en(a){return a}function Wf(a,b,c,d,e){this._old=a;this._new=b;this._oldKeyGetter=c||en;this._newKeyGetter=d||en;this.context=e}function fn(a,b,c,d,e){for(var h=0;h<a.length;h++){var n="_ec_"+e[d](a[h],h),w=b[n];null==w?(c.push(n),b[n]=h):(w.length||(b[n]=w=[w]),w.push(h))}}function cs(a){var b={},h=b.encode={},c=ia(),d=[],e=[];v(a.dimensions,function(b){var n=a.getDimensionInfo(b),w=n.coordDim;if(w){var F=h[w];h.hasOwnProperty(w)||
(F=h[w]=[]);F[n.coordDimIndex]=b;n.isExtraCoord||(c.set(w,1),ds(n.type)&&(d[0]=b));n.defaultTooltip&&e.push(b)}gn.each(function(a,b){a=h[b];h.hasOwnProperty(b)||(a=h[b]=[]);b=n.otherDims[b];null!=b&&!1!==b&&(a[b]=n.name)})});var f=[],g={};c.each(function(a,b){a=h[b];g[b]=a[0];f=f.concat(a)});b.dataDimsOnCoord=f;b.encodeFirstDimNotExtra=g;var l=h.label;l&&l.length&&(d=l.slice());l=h.tooltip;return l&&l.length?e=l.slice():e.length||(e=d.slice()),h.defaultedLabel=d,h.defaultedTooltip=e,b}function ds(a){return!("ordinal"===
a||"time"===a)}function hn(a,b){v(es.concat(b.__wrappedMethods||[]),function(h){b.hasOwnProperty(h)&&(a[h]=b[h])});a.__wrappedMethods=b.__wrappedMethods;v(fs,function(h){a[h]=e(b[h])});a._calculationInfo=f(b._calculationInfo)}function gs(a){var b=a._invertedIndicesMap;v(b,function(h,c){if(h=a._dimensionInfos[c].ordinalMeta){h=b[c]=new Xf(h.categories.length);for(n=0;n<h.length;n++)h[n]=NaN;for(var n=0;n<a._count;n++)h[a.get(c,n)]=n}})}function jn(a,b,c){if(null!=b){var h=a._chunkSize;b=a.dimensions[b];
var n=a._storage[b][Math.floor(c/h)];if(n){var d=n[c%h];(a=a._dimensionInfos[b].ordinalMeta)&&a.categories.length&&(d=a.categories[d])}}return d}function Yf(a){return a}function Zf(a){return a<this._count&&0<=a?this._indices[a]:-1}function fj(a,b){var h=a._idList[b];return null==h&&(h=jn(a,a._idDimIdx,b)),null==h&&(h=hs+b),h}function gj(a){return H(a)||(a=[a]),a}function kn(a,c){var h=a.dimensions,n=new mc(b(h,a.getDimensionInfo,a),a.hostModel);hn(n,a);var d=n._storage={};a=a._storage;for(var e=0;e<
h.length;e++){var f=h[e];if(a[f])if(0<=B(c,f)){for(var g=f,l=a[f],m=Array(l.length),q=0;q<l.length;q++){var r=q;var t=l[q];var u=t.constructor;t=u===Array?t.slice():new u(t);m[r]=t}d[g]=m;n._rawExtent[f]=[1/0,-1/0];n._extent[f]=null}else d[f]=a[f]}return n}function ln(a,b,c){function h(a,b,h){null!=gn.get(b)?a.otherDims[b]=h:(a.coordDim=b,a.coordDimIndex=h,g.set(b,!0))}vc.isInstance(b)||(b=vc.seriesDataToSource(b));c=c||{};a=(a||[]).slice();for(var n=(c.dimsDef||[]).slice(),d=ia(c.encodeDef),w=ia(),
g=ia(),l=[],m=is(b,a,n,c.dimCount),r=0;r<m;r++){var t=n[r]=f({},M(n[r])?n[r]:{name:n[r]}),u=t.name,z=l[r]={otherDims:{}};null!=u&&null==w.get(u)&&(z.name=z.displayName=u,w.set(u,r));null!=t.type&&(z.type=t.type);null!=t.displayName&&(z.displayName=t.displayName)}d.each(function(a,b){a=Ob(a).slice();var c=d.set(b,[]);v(a,function(a,n){P(a)&&(a=w.get(a));null!=a&&a<m&&(c[n]=a,h(l[a],b,n))})});var A=0;v(a,function(a,b){if(P(a)){var c=a;a={}}else{c=a.name;b=a.ordinalMeta;a.ordinalMeta=null;(a=e(a)).ordinalMeta=
b;var n=a.dimsDef;var w=a.otherDims;a.name=a.coordDim=a.coordDimIndex=a.dimsDef=a.otherDims=null}b=Ob(d.get(c));if(!b.length)for(var F=0;F<(n&&n.length||1);F++){for(;A<l.length&&null!=l[A].coordDim;)A++;A<l.length&&b.push(A++)}v(b,function(b,d){b=l[b];if(h(q(b,a),c,d),null==b.name&&n)d=n[d],!M(d)&&(d={name:d}),b.name=b.displayName=d.name,b.defaultTooltip=d.defaultTooltip;w&&q(b.otherDims,w)})});a=c.generateCoord;c=c.generateCoordCount;n=null!=c;c=a?c||1:0;r=a||"value";for(t=0;t<m;t++)null==(z=l[t]=
l[t]||{}).coordDim&&(z.coordDim=mn(r,g,n),z.coordDimIndex=0,(!a||0>=c)&&(z.isExtraCoord=!0),c--),null==z.name&&(z.name=mn(z.coordDim,w)),null==z.type&&om(b.data,b.sourceFormat,b.seriesLayoutBy,b.dimensionsDefine,b.startIndex,t)&&(z.type="ordinal");return l}function is(a,b,c,d){var h=Math.max(a.dimensionsDetectCount||1,b.length,c.length,d||0);return v(b,function(a){(a=a.dimsDef)&&(h=Math.max(h,a.length))}),h}function mn(a,b,c){if(c||null!=b.get(a)){for(c=0;null!=b.get(a+c);)c++;a+=c}return b.set(a,
!0),a}function nn(a,b,c){var h,n,d=(c=c||{}).byIndex,e=c.stackedCoordDimension,w=!(!a||!a.get("stack"));if(v(b,function(a,c){P(a)&&(b[c]=a={name:a});w&&!a.isExtraCoord&&(d||h||!a.ordinalMeta||(h=a),n||"ordinal"===a.type||"time"===a.type||e&&e!==a.coordDim||(n=a))}),!n||d||h||(d=!0),n){var f="__\x00ecstackresult";var g="__\x00ecstackedover";h&&(h.createInvertedIndices=!0);var l=n.coordDim;a=n.type;var m=0;v(b,function(a){a.coordDim===l&&m++});b.push({name:f,coordDim:l,coordDimIndex:m,type:a,isExtraCoord:!0,
isCalculationCoord:!0});m++;b.push({name:g,coordDim:g,coordDimIndex:m,type:a,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:n&&n.name,stackedByDimension:h&&h.name,isStackedByIndex:d,stackedOverDimension:g,stackResultDimension:f}}function Id(a,b){return!!b&&b===a.getCalculationInfo("stackedDimension")}function on(a,b){return Id(a,b)?a.getCalculationInfo("stackResultDimension"):b}function jh(a,c,d){d=d||{};vc.isInstance(a)||(a=vc.seriesDataToSource(a));var h,n=c.get("coordinateSystem");
n=md.get(n);var e=Bl(c);e&&(h=b(e.coordSysDims,function(a){var b={name:a};if(a=e.axisMap.get(a))a=a.get("type"),b.type="category"===a?"ordinal":"time"===a?"time":"float";return b}));h||(h=n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]);var w,f;h=hj(a,{coordDimensions:h,generateCoord:d.generateCoord});e&&v(h,function(a,b){var h=e.categoryAxisMap.get(a.coordDim);h&&(null==w&&(w=b),a.ordinalMeta=h.getOrdinalMeta());null!=a.otherDims.itemName&&(f=!0)});f||null==w||(h[w].otherDims.itemName=
0);d=nn(c,h);c=new mc(h,c);c.setCalculationInfo(d);d=null!=w&&js(a)?function(a,b,h,c){return c===w?h:this.defaultDimValueGetter(a,b,h,c)}:null;return c.hasItemOption=!1,c.initData(a,null,d),c}function js(a){if(a.sourceFormat===re){a=a.data||[];for(var b=0;b<a.length&&null==a[b];)b++;a=a[b];return null!=a&&!H(ie(a))}}function Za(a){this._setting=a||{};this._extent=[1/0,-1/0];this._interval=0;this.init&&this.init.apply(this,arguments)}function $f(a){this.categories=a.categories||[];this._needCollect=
a.needCollect;this._deduplication=a.deduplication;this._map}function ks(a){return M(a)&&null!=a.value?a.value:a+""}function pn(a,b){!isFinite(a[0])&&(a[0]=b[0]);!isFinite(a[1])&&(a[1]=b[1]);a[0]=Math.max(Math.min(a[0],b[1]),b[0]);a[1]=Math.max(Math.min(a[1],b[1]),b[0]);a[0]>a[1]&&(a[0]=a[1])}function ij(a){return a.get("stack")||ls+a.seriesIndex}function qn(a,b){var c=[];return b.eachSeriesByType(a,function(a){!a.coordinateSystem||"cartesian2d"!==a.coordinateSystem.type||a.pipelineContext&&a.pipelineContext.large||
c.push(a)}),c}function jj(a){var b=[];return v(a,function(a){var c=a.getData(),h=a.coordinateSystem.getBaseAxis(),n=h.getExtent();c="category"===h.type?h.getBandWidth():Math.abs(n[1]-n[0])/c.count();n=za(a.get("barWidth"),c);var d=za(a.get("barMaxWidth"),c),e=a.get("barGap"),w=a.get("barCategoryGap");b.push({bandWidth:c,barWidth:n,barMaxWidth:d,barGap:e,barCategoryGap:w,axisKey:h.dim+h.index,stackId:ij(a)})}),ms(b)}function ms(a){var b={};v(a,function(a,c){var h=a.axisKey;c=a.bandWidth;c=b[h]||{bandWidth:c,
remainedWidth:c,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var n=c.stacks;b[h]=c;h=a.stackId;n[h]||c.autoWidthCount++;n[h]=n[h]||{width:0,maxWidth:0};var d=a.barWidth;d&&!n[h].width&&(n[h].width=d,d=Math.min(c.remainedWidth,d),c.remainedWidth-=d);(d=a.barMaxWidth)&&(n[h].maxWidth=d);n=a.barGap;null!=n&&(c.gap=n);a=a.barCategoryGap;null!=a&&(c.categoryGap=a)});var c={};return v(b,function(a,b){c[b]={};var h=a.stacks,n=za(a.categoryGap,a.bandWidth),d=za(a.gap,1),e=a.remainedWidth,w=a.autoWidthCount,
F=(e-n)/(w+(w-1)*d);F=Math.max(F,0);v(h,function(a,b){(b=a.maxWidth)&&b<F&&(b=Math.min(b,e),a.width&&(b=Math.min(b,a.width)),e-=b,a.width=b,w--)});F=(e-n)/(w+(w-1)*d);F=Math.max(F,0);var f,g=0;v(h,function(a,b){a.width||(a.width=F);f=a;g+=a.width*(1+d)});f&&(g-=f.width*d);var l=-g/2;v(h,function(a,h){c[b][h]=c[b][h]||{offset:l,width:a.width};l+=a.width*(1+d)})}),c}function rn(a,b,c){if(a&&b)return a=a[b.dim+b.index],null!=a&&null!=c&&(a=a[ij(c)]),a}function sn(a,b,c){return 0<=B(a.getAxesOnZeroOf(),
b)||c?b.toGlobalCoord(b.dataToCoord(0)):b.getGlobalExtent()[0]}function ns(a,b){var c,h,n,d=a.type,e=b.getMin(),f=b.getMax(),g=null!=e,l=null!=f,m=a.getExtent();"ordinal"===d?c=b.getCategories().length:(H(h=b.get("boundaryGap"))||(h=[h||0,h||0]),"boolean"==typeof h[0]&&(h=[0,0]),h[0]=za(h[0],1),h[1]=za(h[1],1),n=m[1]-m[0]||Math.abs(m[0]));null==e&&(e="ordinal"===d?c?0:NaN:m[0]-h[0]*n);null==f&&(f="ordinal"===d?c?c-1:NaN:m[1]+h[1]*n);"dataMin"===e?e=m[0]:"function"==typeof e&&(e=e({min:m[0],max:m[1]}));
"dataMax"===f?f=m[1]:"function"==typeof f&&(f=f({min:m[0],max:m[1]}));null!=e&&isFinite(e)||(e=NaN);null!=f&&isFinite(f)||(f=NaN);a.setBlank(I(e)||I(f)||"ordinal"===d&&!a.getOrdinalMeta().categories.length);b.getNeedCrossZero()&&(0<e&&0<f&&!g&&(e=0),0>e&&0>f&&!l&&(f=0));if((a=b.ecModel)&&"time"===d){var q;d=qn("bar",a);if(v(d,function(a){q|=a.getBaseAxis()===b.axis}),q)d=jj(d),f=os(e,f,b,d),e=f.min,f=f.max}return[e,f]}function os(a,b,c,d){var h=c.axis.getExtent();h=h[1]-h[0];c=rn(d,c.axis);if(void 0===
c)return{min:a,max:b};var n=1/0;v(c,function(a){n=Math.min(a.offset,n)});var e=-1/0;v(c,function(a){e=Math.max(a.offset+a.width,e)});n=Math.abs(n);e=Math.abs(e);c=n+e;d=b-a;h=d/(1-(n+e)/h)-d;return b+=e/c*h,a-=n/c*h,{min:a,max:b}}function kj(a,b){var c=ns(a,b),h=null!=b.getMin(),n=null!=b.getMax(),d=b.get("splitNumber");"log"===a.type&&(a.base=b.get("logBase"));var e=a.type;a.setExtent(c[0],c[1]);a.niceExtent({splitNumber:d,fixMin:h,fixMax:n,minInterval:"interval"===e||"time"===e?b.get("minInterval"):
null,maxInterval:"interval"===e||"time"===e?b.get("maxInterval"):null});b=b.get("interval");null!=b&&a.setInterval&&a.setInterval(b)}function tn(a,b){if(b=b||a.get("type"))switch(b){case "category":return new lj(a.getOrdinalMeta?a.getOrdinalMeta():a.getCategories(),[1/0,-1/0]);case "value":return new rd;default:return(Za.getClass(b)||rd).create(a)}}function ag(a){var b=a.getLabelModel().get("formatter"),c="category"===a.type?a.scale.getExtent()[0]:null;return"string"==typeof b?b=function(a){return function(b){return a.replace("{value}",
null!=b?b:"")}}(b):"function"==typeof b?function(h,n){return null!=c&&(n=h-c),b(mj(a,h),n)}:function(b){return a.scale.getLabel(b)}}function mj(a,b){return"category"===a.type?a.scale.getLabel(b):b}function ps(a,b){if("image"!==this.type){var c=this.style,h=this.shape;h&&"line"===h.symbolType?c.stroke=a:this.__isEmptyBrush?(c.stroke=a,c.fill=b||"#fff"):(c.fill&&(c.fill=a),c.stroke&&(c.stroke=a));this.dirty(!1)}}function ve(a,b,c,d,e,f,g){var h=0===a.indexOf("empty");h&&(a=a.substr(5,1).toLowerCase()+
a.substr(6));var n;return n=0===a.indexOf("image://")?Bf(a.slice(8),new Fa(b,c,d,e),g?"center":"cover"):0===a.indexOf("path://")?vi(a.slice(7),{},new Fa(b,c,d,e),g?"center":"cover"):new qs({shape:{symbolType:a,x:b,y:c,width:d,height:e}}),n.__isEmptyBrush=h,n.setColor=ps,n.setColor(f),n}function un(a,b,c){var h=0,n=a[0];if(!n)return!1;for(var d=1;d<a.length;d++){var e=a[d];h+=Yc(n[0],n[1],e[0],e[1],b,c);n=e}a=a[0];return Math.abs(n[0]-a[0])<vn&&Math.abs(n[1]-a[1])<vn||(h+=Yc(n[0],n[1],a[0],a[1],b,
c)),0!==h}function nj(a,b,c){(this.name=a,this.geometries=b,c)?c=[c[0],c[1]]:(a=this.getBoundingRect(),c=[a.x+a.width/2,a.y+a.height/2]);this.center=c}function rs(a){if(!a.UTF8Encoding)return a;var b=a.UTF8Scale;null==b&&(b=1024);for(var c=a.features,h=0;h<c.length;h++)for(var d=c[h].geometry,e=d.coordinates,f=d.encodeOffsets,g=0;g<e.length;g++){var l=e[g];if("Polygon"===d.type)e[g]=wn(l,f[g],b);else if("MultiPolygon"===d.type)for(var m=0;m<l.length;m++)l[m]=wn(l[m],f[g][m],b)}return a.UTF8Encoding=
!1,a}function wn(a,b,c){var h=[],n=b[0];b=b[1];for(var d=0;d<a.length;d+=2){var e=a.charCodeAt(d)-64,w=a.charCodeAt(d+1)-64;e=e>>1^-(1&e);w=w>>1^-(1&w);n=e+=n;b=w+=b;h.push([e/c,w/c])}return h}function xn(a,b){var c=yn(a,"labels");b=zn(b);var h=An(c,b);if(h)return h;var n;if(W(b))a=Bn(a,b);else{var d=Cn;"auto"===b?(h=bg(a).autoInterval,h=null!=h?h:bg(a).autoInterval=a.calculateCategoryInterval()):h=b;a=d(a,d=h)}return n=a,Dn(c,b,{labels:n,labelCategoryInterval:d})}function ss(a,c){var h=yn(a,"ticks"),
n=zn(c),d=An(h,n);if(d)return d;if(c.get("show")&&!a.scale.isBlank()||(c=[]),W(n))c=Bn(a,n,!0);else if("auto"===n){a=xn(a,a.getLabelModel());var e=a.labelCategoryInterval;c=b(a.labels,function(a){return a.tickValue})}else c=Cn(a,e=n,!0);return Dn(h,n,{ticks:c,tickCategoryInterval:e})}function ts(a){var c=a.scale.getTicks(),h=ag(a);return{labels:b(c,function(b,c){return{formattedLabel:h(b,c),rawLabel:a.scale.getLabel(b),tickValue:b}})}}function yn(a,b){return bg(a)[b]||(bg(a)[b]=[])}function An(a,
b){for(var c=0;c<a.length;c++)if(a[c].key===b)return a[c].value}function Dn(a,b,c){return a.push({key:b,value:c}),c}function Cn(a,b,c){function h(a){w.push(c?a:{formattedLabel:n(a),rawLabel:d.getLabel(a),tickValue:a})}var n=ag(a),d=a.scale,e=d.getExtent();a=a.getLabelModel();var w=[];b=Math.max((b||0)+1,1);var f=e[0],g=d.count();0!==f&&1<b&&2<g/b&&(f=Math.round(Math.ceil(f/b)*b));g=a.get("showMinLabel");a=a.get("showMaxLabel");for(g&&f!==e[0]&&h(e[0]);f<=e[1];f+=b)h(f);return a&&f!==e[1]&&h(e[1]),
w}function Bn(a,b,c){var h=a.scale,n=ag(a),d=[];return v(h.getTicks(),function(a){var e=h.getLabel(a);b(a,e)&&d.push(c?a:{formattedLabel:n(a),rawLabel:e,tickValue:a})}),d}function zn(a){a=a.get("interval");return null==a?"auto":a}function En(a,b){b=(a[1]-a[0])/b/2;a[0]+=b;a[1]-=b}function us(a,b,c,d,e){function h(a,b){return w?a>b:a<b}c=b.length;if(a.onBand&&!d&&c){a=a.getExtent();if(1===c)b[0].coord=a[0],d=b[1]={coord:a[0]};else{var n=b[1].coord-b[0].coord;v(b,function(a){a.coord-=n/2;var b=b||0;
0<b%2&&(a.coord-=n/(2*(b+1)))});d={coord:b[c-1].coord+n};b.push(d)}var w=a[0]>a[1];h(b[0].coord,a[0])&&(e?b[0].coord=a[0]:b.shift());e&&h(a[0],b[0].coord)&&b.unshift({coord:a[0]});h(a[1],d.coord)&&(e?d.coord=a[1]:b.pop());e&&h(d.coord,a[1])&&b.push({coord:a[1]})}}function Fn(a,b){var c=a.mapDimension("defaultedLabel",!0),h=c.length;if(1===h)return se(a,b,c[0]);if(h){h=[];for(var n=0;n<c.length;n++){var d=se(a,b,c[n]);h.push(d)}return h.join(" ")}}function jf(a,b,c){xa.call(this);this.updateData(a,
b,c)}function vs(a,b){this.parent.drift(a,b)}function kh(a){this.group=new xa;this._symbolCtor=a||jf}function oj(a,b,c,d){return b&&!isNaN(b[0])&&!isNaN(b[1])&&!(d.isIgnore&&d.isIgnore(c))&&!(d.clipShape&&!d.clipShape.contain(b[0],b[1]))&&"none"!==a.getItemVisual(c,"symbol")}function Gn(a){return null==a||M(a)||(a={isIgnore:a}),a||{}}function Hn(a){a=a.hostModel;return{itemStyle:a.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:a.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:a.get("symbolRotate"),
symbolOffset:a.get("symbolOffset"),hoverAnimation:a.get("hoverAnimation"),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label"),cursorStyle:a.get("cursor")}}function pj(a,c,d){var h,n=a.getBaseAxis(),e=a.getOtherAxis(n);d=ws(e,d);n=n.dim;e=e.dim;var w=c.mapDimension(e),f=c.mapDimension(n),g="x"===e||"radius"===e?1:0;a=b(a.dimensions,function(a){return c.mapDimension(a)});var l=c.getCalculationInfo("stackResultDimension");return(h|=Id(c,a[0]))&&(a[0]=l),(h|=Id(c,a[1]))&&(a[1]=
l),{dataDimsForPoint:a,valueStart:d,valueAxisDim:e,baseAxisDim:n,stacked:!!h,valueDim:w,baseDim:f,baseDataOffset:g,stackedOverDimension:c.getCalculationInfo("stackedOverDimension")}}function ws(a,b){var c=0;a=a.scale.getExtent();return"start"===b?c=a[0]:"end"===b?c=a[1]:0<a[0]?c=a[0]:0>a[1]&&(c=a[1]),c}function qj(a,b,c,d){var h=NaN;a.stacked&&(h=c.get(c.getCalculationInfo("stackedOverDimension"),d));isNaN(h)&&(h=a.valueStart);var n=a.baseDataOffset,e=[];return e[n]=c.get(a.baseDim,d),e[1-n]=h,b.dataToPoint(e)}
function xs(a,b){var c=[];return b.diff(a).add(function(a){c.push({cmd:"+",idx:a})}).update(function(a,b){c.push({cmd:"=",idx:b,idx1:a})}).remove(function(a){c.push({cmd:"-",idx:a})}).execute(),c}function sd(a){return isNaN(a[0])||isNaN(a[1])}function rj(a,b,c,d,e,f,g,l,m,q,r){return"none"!==q&&q?ys.apply(this,arguments):zs.apply(this,arguments)}function ys(a,b,c,d,e,f,g,l,m,q,r){var h=0;g=c;for(l=0;l<d;l++){var n=b[g];if(g>=e||0>g)break;if(sd(n)){if(r){g+=f;continue}break}if(g===c)a[0<f?"moveTo":
"lineTo"](n[0],n[1]);else if(0<m){h=b[h];var w="y"===q?1:0,F=(n[w]-h[w])*m;lh(gc,h);gc[w]=h[w]+F;lh(nc,n);nc[w]=n[w]-F;a.bezierCurveTo(gc[0],gc[1],nc[0],nc[1],n[0],n[1])}else a.lineTo(n[0],n[1]);h=g;g+=f}return l}function zs(a,b,c,d,e,f,g,l,m,q,r){for(var h=0,n=c,w=0;w<d;w++){var F=b[n];if(n>=e||0>n)break;if(sd(F)){if(r){n+=f;continue}break}if(n===c)a[0<f?"moveTo":"lineTo"](F[0],F[1]),lh(gc,F);else if(0<m){var K=n+f,da=b[K];if(r)for(;da&&sd(b[K]);)da=b[K+=f];var ua=.5;h=b[h];!(da=b[K])||sd(da)?lh(nc,
F):(sd(da)&&!r&&(da=F),ka(sj,da,h),"x"===q||"y"===q?(ua="x"===q?0:1,K=Math.abs(F[ua]-h[ua]),da=Math.abs(F[ua]-da[ua])):(K=mh(F,h),da=mh(F,da)),In(nc,F,sj,-m*(1-(ua=da/(da+K)))));Jn(gc,gc,l);Kn(gc,gc,g);Jn(nc,nc,l);Kn(nc,nc,g);a.bezierCurveTo(gc[0],gc[1],nc[0],nc[1],F[0],F[1]);In(gc,F,sj,m*ua)}else a.lineTo(F[0],F[1]);h=n;n+=f}return w}function tj(a,b){var c=[1/0,1/0],h=[-1/0,-1/0];if(b)for(var n=0;n<a.length;n++){var d=a[n];d[0]<c[0]&&(c[0]=d[0]);d[1]<c[1]&&(c[1]=d[1]);d[0]>h[0]&&(h[0]=d[0]);d[1]>
h[1]&&(h[1]=d[1])}return{min:b?c:h,max:b?h:c}}function Ln(a,b){if(a.length===b.length){for(var c=0;c<a.length;c++){var h=a[c],n=b[c];if(h[0]!==n[0]||h[1]!==n[1])return}return!0}}function Mn(a){return"number"==typeof a?a:a?.5:0}function Nn(a){var b=a.getGlobalExtent();if(a.onBand){a=a.getBandWidth()/2-1;var c=b[1]>b[0]?1:-1;b[0]+=c*a;b[1]-=c*a}return b}function As(a,b,c){if(!c.valueDim)return[];for(var h=[],n=0,d=b.count();n<d;n++)h.push(qj(c,a,b,n));return h}function nh(a,b,c,d){if("polar"===a.type){var h=
a.getAngleAxis(),n=a.getRadiusAxis().getExtent().slice();n[0]>n[1]&&n.reverse();var e=h.getExtent(),w=Math.PI/180;c&&(n[0]-=.5,n[1]+=.5);c=new cg({shape:{cx:ob(a.cx,1),cy:ob(a.cy,1),r0:ob(n[0],1),r:ob(n[1],1),startAngle:-e[0]*w,endAngle:-e[1]*w,clockwise:h.inverse}});b=(b&&(c.shape.endAngle=-e[0]*w,ce(c,{shape:{endAngle:-e[1]*w}},d)),c)}else h=Nn(a.getAxis("x")),n=Nn(a.getAxis("y")),a=a.getBaseAxis().isHorizontal(),e=Math.min(h[0],h[1]),w=Math.min(n[0],n[1]),h=Math.max(h[0],h[1])-e,n=Math.max(n[0],
n[1])-w,c?(e-=.5,h+=.5,w-=.5,n+=.5):(c=d.get("lineStyle.width")||2,c=d.get("clipOverflow")?c/2:Math.max(h,n),a?(w-=c,n+=2*c):(e-=c,h+=2*c)),c=new jb({shape:{x:e,y:w,width:h,height:n}}),b=(b&&(c.shape[a?"width":"height"]=0,ce(c,{shape:{width:h,height:n}},d)),c);return b}function Jd(a,b,c){b=b.getBaseAxis();b="x"===b.dim||"radius"===b.dim?0:1;for(var h=[],n=0;n<a.length-1;n++){var d=a[n+1],e=a[n];h.push(e);var w=[];switch(c){case "end":w[b]=d[b];w[1-b]=e[1-b];h.push(w);break;case "middle":var f=[];
w[b]=f[b]=(e[b]+d[b])/2;w[1-b]=e[1-b];f[1-b]=d[1-b];h.push(w);h.push(f);break;default:w[b]=e[b],w[1-b]=d[1-b],h.push(w)}}return a[n]&&h.push(a[n]),h}function Bs(a,c){var h=a.getVisual("visualMeta");if(h&&h.length&&a.count()&&"cartesian2d"===c.type){for(var n,d,e=h.length-1;0<=e;e--){var f=a.getDimensionInfo(a.dimensions[h[e].dimension]);if("x"===(n=f&&f.coordDim)||"y"===n){d=h[e];break}}if(d){var g=c.getAxis(n);a=b(d.stops,function(a){return{coord:g.toGlobalCoord(g.dataToCoord(a.value)),color:a.color}});
c=a.length;h=d.outerColors.slice();c&&a[0].coord>a[c-1].coord&&(a.reverse(),h.reverse());var l=a[0].coord-10;d=a[c-1].coord+10;var m=d-l;if(.001>m)return"transparent";v(a,function(a){a.offset=(a.coord-l)/m});a.push({offset:c?a[c-1].offset:.5,color:h[1]||"transparent"});a.unshift({offset:c?a[0].offset:.5,color:h[0]||"transparent"});a=new dg(0,0,0,0,a,!0);return a[n]=l,a[n+"2"]=d,a}}}function Cs(a,b,c){var h=a.get("showAllSymbol");a="auto"===h;if(!(h&&!a||!(c=c.getAxesByScale("ordinal")[0])||a&&Ds(c,
b))){var n=b.mapDimension(c.dim),d={};return v(c.getViewLabels(),function(a){d[a.tickValue]=1}),function(a){return!d.hasOwnProperty(b.get(n,a))}}}function Ds(a,b){var c=a.getExtent();c=Math.abs(c[1]-c[0])/a.scale.count();isNaN(c)&&(c=0);for(var h=b.count(),n=Math.max(1,Math.round(h/5)),d=0;d<h;d+=n)if(1.5*jf.getSymbolSize(b,d)[a.isHorizontal()?1:0]>c)return!1;return!0}function Es(a){return this._axes[a]}function eg(a){oh.call(this,a)}function On(a,b){return b.type||(b.data?"category":"value")}function kf(a,
b,c){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(a,b,c);this.model=a}function Pn(a,b,c){c.getAxesOnZeroOf=function(){return n?[n]:[]};a=a[b];b=c.model;c=b.get("axisLine.onZero");b=b.get("axisLine.onZeroAxisIndex");if(c)if(null==b)for(var h in a){if(a.hasOwnProperty(h)&&Qn(a[h])){var n=a[h];break}}else Qn(a[b])&&(n=a[b])}function Qn(a){var b;if(b=a&&"category"!==a.type&&"time"!==a.type)b=a.scale.getExtent(),a=b[0],b=b[1],b=!(0<a&&0<b||0>a&&0>b);return b}
function Fs(a,b){var c=a.getExtent(),h=c[0]+c[1];a.toGlobalCoord="x"===a.dim?function(a){return a+b}:function(a){return h-a+b};a.toLocalCoord="x"===a.dim?function(a){return a-b}:function(a){return h-a+b}}function Rn(a,c){return b(Gs,function(b){return a.getReferringComponents(b)[0]})}function Sn(a){return"cartesian2d"===a.get("coordinateSystem")}function Tn(a){var b={componentType:a.mainType};return b[a.mainType+"Index"]=a.componentIndex,b}function Hs(a,b,c,d){var h,n;a=wi(c-a.rotation);d=d[0]>d[1];
b="start"===b&&!d||"start"!==b&&d;return Af(a-Kd/2)?(n=b?"bottom":"top",h="center"):Af(a-1.5*Kd)?(n=b?"top":"bottom",h="center"):(n="middle",h=a<1.5*Kd&&a>Kd/2?b?"left":"right":b?"right":"left"),{rotation:a,textAlign:h,textVerticalAlign:n}}function Un(a){var b=a.get("tooltip");return a.get("silent")||!(a.get("triggerEvent")||b&&b.show)}function Eb(a){a&&(a.ignore=!0)}function Vn(a,b,c){c=a&&a.getBoundingRect().clone();var h=b&&b.getBoundingRect().clone();if(c&&h){var n=cb([]);return Q(n,n,-a.rotation),
c.applyTransform(Ea([],n,a.getLocalTransform())),h.applyTransform(Ea([],n,b.getLocalTransform())),c.intersect(h)}}function Is(a,b,c){var h=b.axis;if(X(c.axisLabelShow,b.get("axisLabel.show"))&&!h.scale.isBlank()){var n=b.getModel("axisLabel"),d=n.get("margin"),e=h.getViewLabels(),w=(X(c.labelRotate,n.get("rotate"))||0)*Kd/180,f=Wn(c.rotation,w,c.labelDirection),g=b.getCategories(!0),l=[],m=Un(b),q=b.get("triggerEvent");return v(e,function(e,w){var F=e.tickValue,K=e.formattedLabel;e=e.rawLabel;var da=
n;g&&g[F]&&g[F].textStyle&&(da=new Ta(g[F].textStyle,n,b.ecModel));var ua=da.getTextColor()||b.get("axisLine.lineStyle.color"),ib=[h.dataToCoord(F),c.labelOffset+c.labelDirection*d];ib=new $a({anid:"label_"+F,position:ib,rotation:f.rotation,silent:m,z2:10});ad(ib.style,da,{text:K,textAlign:da.getShallow("align",!0)||f.textAlign,textVerticalAlign:da.getShallow("verticalAlign",!0)||da.getShallow("baseline",!0)||f.textVerticalAlign,textFill:"function"==typeof ua?ua("category"===h.type?e:"value"===h.type?
F+"":F,w):ua});q&&(ib.eventData=Tn(b),ib.eventData.targetType="axisLabel",ib.eventData.value=e);a._dumbGroup.add(ib);ib.updateTransform();l.push(ib);a.group.add(ib);ib.decomposeTransform()}),l}}function Js(a,b,c){var h=b.getComponent("tooltip"),n=b.getComponent("axisPointer"),d=n.get("link",!0)||[],e=[];lf(c.getCoordinateSystems(),function(c){function w(h,w,f){var l=f.model.getModel("axisPointer",n),K=l.get("show");if(K&&("auto"!==K||h||l.get("handle.show"))){null==w&&(w=l.get("triggerTooltip"));
var m=(l=h?Ks(f,g,n,b,h,w):l).get("snap");h=fg(f.model);K=w||m||"category"===f.type;w=a.axesInfo[h]={key:h,axis:f,coordSys:c,axisPointerModel:l,triggerTooltip:w,involveSeries:K,snap:m,useHandle:!!l.get("handle.show"),seriesModels:[]};F[h]=w;a.seriesInvolved|=K;a:{l=f.model;f=f.dim;for(K=0;K<d.length;K++)if(m=d[K]||{},uj(m[f+"AxisId"],l.id)||uj(m[f+"AxisIndex"],l.componentIndex)||uj(m[f+"AxisName"],l.name)){f=K;break a}f=void 0}null!=f&&(l=e[f]||(e[f]={axesInfo:{}}),l.axesInfo[h]=w,l.mapper=d[f].mapper,
w.linkGroup=l)}}if(c.axisPointerEnabled){var f=fg(c.model),F=a.coordSysAxesInfo[f]={};a.coordSysMap[f]=c;var g=c.model.getModel("tooltip",h);if(lf(c.getAxes(),vj(w,!1,null)),c.getTooltipAxes&&h&&g.get("show")){f="axis"===g.get("trigger");var l="cross"===g.get("axisPointer.type"),K=c.getTooltipAxes(g.get("axisPointer.axis"));(f||l)&&lf(K.baseAxes,vj(w,!l||"cross",f));l&&lf(K.otherAxes,vj(w,"cross",!1))}}})}function Ks(a,b,c,d,f,g){var h=b.getModel("axisPointer"),n={};lf("type snap lineStyle shadowStyle label animation animationDurationUpdate animationEasingUpdate z".split(" "),
function(a){n[a]=e(h.get(a))});n.snap="category"!==a.type&&!!g;"cross"===h.get("type")&&(n.type="line");b=n.label||(n.label={});if(null==b.show&&(b.show=!1),"cross"===f)f=h.get("label.show"),(b.show=null==f||f,g)||(g=n.lineStyle=h.get("crossStyle"))&&q(b,g.textStyle);return a.model.getModel("axisPointer",new Ta(n,c,d))}function Ls(a,b){b.eachSeries(function(b){var c=b.coordinateSystem,h=b.get("tooltip.trigger",!0),n=b.get("tooltip.show",!0);c&&"none"!==h&&!1!==h&&"item"!==h&&!1!==n&&!1!==b.get("axisPointer.show",
!0)&&lf(a.coordSysAxesInfo[fg(c.model)],function(a){var h=a.axis;c.getAxis(h.dim)===h&&(a.seriesModels.push(b),null==a.seriesDataCount&&(a.seriesDataCount=0),a.seriesDataCount+=b.getData().count())})},this)}function uj(a,b){return"all"===a||H(a)&&0<=B(a,b)||a===b}function wj(a){var b=(a.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return b&&b.axesInfo[fg(a)]}function fg(a){return a.type+"||"+a.id}function Xn(a,b,c,d,e,f){if(c=Ld.getAxisPointerClass(a.axisPointerClass))(e=(e=wj(b))&&e.axisPointerModel)?
(a._axisPointer||(a._axisPointer=new c)).render(b,e,d,f):((b=a._axisPointer)&&b.dispose(d,void 0),a._axisPointer=null)}function xj(a,b,c){c=c||{};var h=a.coordinateSystem,n=b.axis;a={};var d=n.getAxesOnZeroOf()[0],e=n.position,w=d?"onZero":e;n=n.dim;h=h.getRect();h=[h.x,h.x+h.width,h.y,h.y+h.height];var f={left:0,right:1,top:0,bottom:1,onZero:2},g=b.get("offset")||0;g="x"===n?[h[2]-g,h[3]+g]:[h[0]-g,h[1]+g];if(d){var l=d.toGlobalCoord(d.dataToCoord(0));g[f.onZero]=Math.max(Math.min(l,g[1]),g[0])}a.position=
["y"===n?g[f[w]]:h[0],"x"===n?g[f[w]]:h[3]];a.rotation=Math.PI/2*("x"===n?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[e];a.labelOffset=d?g[f[e]]-g[f.onZero]:0;b.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection);X(c.labelInside,b.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);b=b.get("axisLabel.rotate");return a.labelRotate="top"===w?-b:b,a.z2=1,a}function Yn(a,b,c){c.style.text=null;nb(c,{shape:{width:0}},b,a,function(){c.parent&&
c.parent.remove(c)})}function Zn(a,b,c){c.style.text=null;nb(c,{shape:{r:c.shape.r0}},b,a,function(){c.parent&&c.parent.remove(c)})}function $n(a,b,c,d,e,f,g,l){e=b.getItemVisual(c,"color");g=b.getItemVisual(c,"opacity");var h=d.getModel("itemStyle");b=d.getModel("emphasis.itemStyle").getBarItemStyle();l||a.setShape("r",h.get("barBorderRadius")||0);a.useStyle(q({fill:e,opacity:g},h.getBarItemStyle()));(g=d.getShallow("cursor"))&&a.attr("cursor",g);l||(l=a.style,Cf(l,b,d.getModel("label"),d.getModel("emphasis.label"),
{labelFetcher:f,labelDataIndex:c,defaultText:Fn(f.getData(),c),isRectText:!0,autoColor:e}),"outside"===l.textPosition&&(l.textPosition=void 0),"outside"===b.textPosition&&(b.textPosition=void 0));wd(a,b)}function ao(a,b,c){var h=a.getData(),d=[],n=h.getLayout("valueAxisHorizontal")?1:0;d[1-n]=h.getLayout("valueAxisStart");c=new Ms({shape:{points:h.getLayout("largePoints")},incremental:!!c,__startPoint:d,__valueIdx:n});b.add(c);b=h.getVisual("borderColor")||h.getVisual("color");a=a.getModel("itemStyle").getItemStyle(["color",
"borderColor"]);c.useStyle(a);c.style.fill=null;c.style.stroke=b;c.style.lineWidth=h.getLayout("barWidth")}function Ns(a,b,c,d){var h=b.getData(),n=h.getName(this.dataIndex),e=b.get("selectedOffset");d.dispatchAction({type:"pieToggleSelect",from:a,name:n,seriesId:b.id});h.each(function(a){bo(h.getItemGraphicEl(a),h.getItemLayout(a),b.isSelected(h.getName(a)),e,c)})}function bo(a,b,c,d,e){b=(b.startAngle+b.endAngle)/2;c=c?d:0;c=[Math.cos(b)*c,Math.sin(b)*c];e?a.animate().when(200,{position:c}).start("bounceOut"):
a.attr("position",c)}function yj(a,b){function c(){n.ignore=n.hoverIgnore;e.ignore=e.hoverIgnore}function h(){n.ignore=n.normalIgnore;e.ignore=e.normalIgnore}xa.call(this);var d=new cg({z2:2}),n=new ph,e=new $a;this.add(d);this.add(n);this.add(e);this.updateData(a,b,!0);this.on("emphasis",c).on("normal",h).on("mouseover",c).on("mouseout",h)}function co(a,b,c,d,e,f,g){function h(b,c){for(;0<=b&&(a[b].y-=c,!(0<b&&a[b].y>a[b-1].y+a[b-1].height));b--);}function n(a,b,c,h,d,n){for(var e=b?Number.MAX_VALUE:
0,w=0,f=a.length;w<f;w++)if("center"!==a[w].position){var F=Math.abs(a[w].y-h),g=a[w].len,l=a[w].len2;F=F<d+g?Math.sqrt((d+g+l)*(d+g+l)-F*F):Math.abs(a[w].x-c);b&&F>=e&&(F=e-10);!b&&F<=e&&(F=e+10);a[w].x=c+F*n;e=F}}a.sort(function(a,b){return a.y-b.y});var w;f=0;for(var F=a.length,l=[],K=[],m=0;m<F;m++)0>(w=a[m].y-f)&&function(b,c,d,n){for(n=b;n<c;n++)if(a[n].y+=d,n>b&&n+1<c&&a[n+1].y>a[n].y+a[n].height)return void h(n,d/2);h(c-1,d/2)}(m,F,-w),f=a[m].y+a[m].height;0>g-f&&h(F-1,f-g);for(m=0;m<F;m++)a[m].y>=
c?K.push(a[m]):l.push(a[m]);n(l,!1,b,c,d,e);n(K,!0,b,c,d,e)}function Os(a,b,c,d,e,f){for(var h=[],n=[],w=0;w<a.length;w++)a[w].x<b?h.push(a[w]):n.push(a[w]);co(n,b,c,d,1,e,f);co(h,b,c,d,-1,e,f);for(w=0;w<a.length;w++)if(c=a[w].linePoints)d=c[1][0]-c[2][0],a[w].x<b?c[2][0]=a[w].x+3:c[2][0]=a[w].x-3,c[1][1]=c[2][1]=a[w].y,c[1][0]=c[2][0]+d}function eo(){this.group=new xa}function fo(a,b,c,d){var h=c.type;c=new (0,gg[h.charAt(0).toUpperCase()+h.slice(1)])(c);b.add(c);d.set(a,c);c.__ecGraphicId=a}function qh(a,
b){var c=a&&a.parent;c&&("group"===a.type&&a.traverse(function(a){qh(a,b)}),b.removeKey(a.__ecGraphicId),c.remove(a))}function Ps(a){return a=f({},a),v(["id","parentId","$action","hv","bounding"].concat(jm),function(b){delete a[b]}),a}function go(a,b){var c;return v(b,function(b){null!=a[b]&&"auto"!==a[b]&&(c=!0)}),c}function ho(a,b,c,d,e){var h=a.axis;if(!h.scale.isBlank()&&h.containData(b))if(a.involveSeries){var n=Qs(b,a),w=n.payloadBatch,F=n.snapToValue;w[0]&&null==e.seriesIndex&&f(e,w[0]);!d&&
a.snap&&h.containData(F)&&null!=F&&(b=F);c.showPointer(a,b,w,e);c.showTooltip(a,n,F)}else c.showPointer(a,b)}function Qs(a,b){var c=b.axis,h=c.dim,d=a,n=[],e=Number.MAX_VALUE,f=-1;return Pc(b.seriesModels,function(b,w){var F=b.getData().mapDimension(h,!0);if(b.getAxisTooltipData)F=b.getAxisTooltipData(F,a,c),w=F.dataIndices,F=F.nestestValue;else{if(!(w=b.getData().indicesOfNearest(F[0],a,"category"===c.type?.5:null)).length)return;F=b.getData().get(F[0],w[0])}if(null!=F&&isFinite(F)){var g=a-F,l=
Math.abs(g);l<=e&&((l<e||0<=g&&0>f)&&(e=l,f=g,d=F,n.length=0),Pc(w,function(a){n.push({seriesIndex:b.seriesIndex,dataIndexInside:a,dataIndex:b.getData().getRawIndex(a)})}))}}),{payloadBatch:n,snapToValue:d}}function Rs(a,b,c,d){a[b.key]={value:c,payloadBatch:d}}function Ss(a,b,c,d){c=c.payloadBatch;var h=b.axis,n=h.model,e=b.axisPointerModel;if(b.triggerTooltip&&c.length){b=b.coordSys.model;var w=fg(b),f=a.map[w];f||(f=a.map[w]={coordSysId:b.id,coordSysIndex:b.componentIndex,coordSysType:b.type,coordSysMainType:b.mainType,
dataByAxis:[]},a.list.push(f));f.dataByAxis.push({axisDim:h.dim,axisIndex:n.componentIndex,axisType:n.type,axisId:n.id,value:d,valueLabelOpt:{precision:e.get("label.precision"),formatter:e.get("label.formatter")},seriesDataIndices:c.slice()})}}function Ts(a,b,c){var h=c.axesInfo=[];Pc(b,function(b,c){var d=b.axisPointerModel.option;(c=a[c])?(!b.useHandle&&(d.status="show"),d.value=c.value,d.seriesDataIndices=(c.payloadBatch||[]).slice()):!b.useHandle&&(d.status="hide");"show"===d.status&&h.push({axisDim:b.axis.dim,
axisIndex:b.axis.model.componentIndex,value:d.value})})}function Us(a,b,c,d){if(!rh(b)&&a.list.length){var h=((a.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};d({type:"showTip",escapeConnect:!0,x:b[0],y:b[1],tooltipOption:c.tooltipOption,position:c.position,dataIndexInside:h.dataIndexInside,dataIndex:h.dataIndex,seriesIndex:h.seriesIndex,dataByCoordSys:a.list})}else d({type:"hideTip"})}function Vs(a,b,c){b=c.getZr();var h=io(b).axisPointerLastHighlights||{},d=io(b).axisPointerLastHighlights=
{};Pc(a,function(a,b){a=a.axisPointerModel.option;"show"===a.status&&Pc(a.seriesDataIndices,function(a){d[a.seriesIndex+" | "+a.dataIndex]=a})});var n=[],e=[];v(h,function(a,b){!d[b]&&e.push(a)});v(d,function(a,b){!h[b]&&n.push(a)});e.length&&c.dispatchAction({type:"downplay",escapeConnect:!0,batch:e});n.length&&c.dispatchAction({type:"highlight",escapeConnect:!0,batch:n})}function jo(a){var b=a.axis.model,c={};a=c.axisDim=a.axis.dim;return c.axisIndex=c[a+"AxisIndex"]=b.componentIndex,c.axisName=
c[a+"AxisName"]=b.name,c.axisId=c[a+"AxisId"]=b.id,c}function rh(a){return!a||null==a[0]||isNaN(a[0])||null==a[1]||isNaN(a[1])}function ko(a,b,c){if(!Ba.node){var h=b.getZr();td(h).records||(td(h).records={});Ws(h,b);(td(h).records[a]||(td(h).records[a]={})).handler=c}}function Ws(a,b){function c(c,h){a.on(c,function(c){var d=Xs(b);Ys(td(a).records,function(a){a&&h(a,c,d.dispatchAction)});Zs(d.pendings,b)})}td(a).initialized||(td(a).initialized=!0,c("click",D(lo,"click")),c("mousemove",D(lo,"mousemove")),
c("globalout",$s))}function Zs(a,b){var c,h=a.showTip.length,d=a.hideTip.length;h?c=a.showTip[h-1]:d&&(c=a.hideTip[d-1]);c&&(c.dispatchAction=null,b.dispatchAction(c))}function $s(a,b,c){a.handler("leave",null,c)}function lo(a,b,c,d){b.handler(a,c,d)}function Xs(a){var b={showTip:[],hideTip:[]},c=function(h){var d=b[h.type];d?d.push(h):(h.dispatchAction=c,a.dispatchAction(h))};return{dispatchAction:c,pendings:b}}function zj(a,b){Ba.node||(b=b.getZr(),(td(b).records||{})[a]&&(td(b).records[a]=null))}
function sh(){}function mo(a,b,c,d){no(we(c).lastProp,d)||(we(c).lastProp=d,b?nb(c,d,a):(c.stopAnimation(),c.attr(d)))}function no(a,b){if(M(a)&&M(b)){var c=!0;return v(b,function(b,h){c=c&&no(a[h],b)}),!!c}return a===b}function oo(a,b){a[b.get("label.show")?"show":"hide"]()}function Aj(a){return{position:a.position.slice(),rotation:a.rotation||0}}function po(a,b,c){var h=b.get("z"),d=b.get("zlevel");a&&a.traverse(function(a){"group"!==a.type&&(null!=h&&(a.z=h),null!=d&&(a.zlevel=d),a.silent=c)})}
function qo(a,b,c,d,e){a=b.scale.parse(a);var h=b.scale.getLabel(a,{precision:e.precision});if(e=e.formatter){var n={value:mj(b,a),seriesData:[]};v(d,function(a){var b=c.getSeriesByIndex(a.seriesIndex);a=a.dataIndexInside;(b=b&&b.getDataParams(a))&&n.seriesData.push(b)});P(e)?h=e.replace("{value}",h):W(e)&&(h=e(n))}return h}function ro(a,b,c){var h=La();return Q(h,h,c.rotation),Sa(h,h,c.position),Df([a.dataToCoord(b),(c.labelOffset||0)+(c.labelDirection||1)*(c.labelMargin||0)],h)}function so(a,b){var c=
{};return c[b.dim+"AxisIndex"]=b.index,a.getCartesian(c)}function at(a){var c="left "+a+"s cubic-bezier(0.23, 1, 0.32, 1),top "+a+"s cubic-bezier(0.23, 1, 0.32, 1)";return b(bt,function(a){return a+"transition:"+c}).join(";")}function ct(a){var b=[],c=a.get("fontSize"),h=a.getTextColor();return h&&b.push("color:"+h),b.push("font:"+a.getFont()),c&&b.push("line-height:"+Math.round(3*c/2)+"px"),to(["decoration","align"],function(c){var h=a.get(c);h&&b.push("text-"+c+":"+h)}),b.join(";")}function dt(a){var b=
[],c=a.get("transitionDuration"),h=a.get("backgroundColor"),d=a.getModel("textStyle"),e=a.get("padding");return c&&b.push(at(c)),h&&(Ba.canvasSupported?b.push("background-Color:"+h):(b.push("background-Color:#"+Wb(h)),b.push("filter:alpha(opacity=70)"))),to(["width","color","radius"],function(c){var h="border-"+c,d=et(h);d=a.get(d);null!=d&&b.push(h+":"+d+("color"===c?"":"px"))}),b.push(ct(d)),null!=e&&b.push("padding:"+Pf(e).join("px ")+"px"),b.join(";")+";"}function Bj(a,b){if(Ba.wxa)return null;
var c=document.createElement("div"),h=this._zr=b.getZr();this.el=c;this._x=b.getWidth()/2;this._y=b.getHeight()/2;a.appendChild(c);this._container=a;this._show=!1;this._hideTimeout;var d=this;c.onmouseenter=function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0);d._inContent=!0};c.onmousemove=function(b){if(b=b||window.event,!d._enterable){var c=h.handler;Nb(a,b,!0);c.dispatch("mousemove",b)}};c.onmouseleave=function(){d._enterable&&d._show&&d.hideLater(d._hideDelay);d._inContent=!1}}function Cj(a){for(var b=
a.pop();a.length;){var c=a.pop();c&&(Ta.isInstance(c)&&(c=c.get("tooltip",!0)),"string"==typeof c&&(c={formatter:c}),b=new Ta(c,b,b.ecModel))}return b}function uo(a){var b=a.clientWidth,c=a.clientHeight;document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a))&&(b+=parseInt(a.paddingLeft,10)+parseInt(a.paddingRight,10)+parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),c+=parseInt(a.paddingTop,10)+parseInt(a.paddingBottom,10)+parseInt(a.borderTopWidth,
10)+parseInt(a.borderBottomWidth,10));return{width:b,height:c}}function Dj(a,b,c){var h,d={},n="toggleSelected"===a;return c.eachComponent("legend",function(c){n&&null!=h?c[h?"select":"unSelect"](b.name):(c[a](b.name),h=c.isSelected(b.name));v(c.getData(),function(a){a=a.get("name");if("\n"!==a&&""!==a){var b=c.isSelected(a);d.hasOwnProperty(a)?d[a]=d[a]&&b:d[a]=b}})}),{name:b.name,selected:d}}function ft(a,b,c){var h=b.getBoxLayoutParams(),d=b.get("padding");c={width:c.getWidth(),height:c.getHeight()};
var n=$c(h,c,d);th(b.get("orient"),a,b.get("itemGap"),n.width,n.height);Al(a,h,c,d)}function vo(a,b){var c=Pf(b.get("padding")),h=b.getItemStyle(["color","opacity"]);return h.fill=b.get("backgroundColor"),new jb({shape:{x:a.x-c[3],y:a.y-c[0],width:a.width+c[1]+c[3],height:a.height+c[0]+c[2],r:b.get("borderRadius")},style:h,silent:!0,z2:-1})}function wo(a,b){b.dispatchAction({type:"legendToggleSelect",name:a})}function xo(a,b,c,d){var h=c.getZr().storage.getDisplayList()[0];h&&h.useHoverLayer||c.dispatchAction({type:"highlight",
seriesName:a.name,name:b,excludeSeriesId:d})}function yo(a,b,c,d){var h=c.getZr().storage.getDisplayList()[0];h&&h.useHoverLayer||c.dispatchAction({type:"downplay",seriesName:a.name,name:b,excludeSeriesId:d})}function zo(a,b,c){var h=[1,1];h[a.getOrient().index]=0;be(b,c,{type:"box",ignoreSize:h})}function uh(a){qc(a,"label",["show"])}function Ej(a,b,c,d,e,f){var h=[],n=Id(b,d)?b.getCalculationInfo("stackResultDimension"):d;a=Fj(b,n,a);n=b.indicesOfNearest(n,a)[0];h[e]=b.get(c,n);h[f]=b.get(d,n);
b=ul(b.get(d,n));return 0<=(b=Math.min(b,20))&&(h[f]=+h[f].toFixed(b)),h}function hg(a,b){var c=a.getData(),h=a.coordinateSystem,d;if(d=b)d=b,d=!(!isNaN(parseFloat(d.x))&&!isNaN(parseFloat(d.y)));if(d&&!H(b.coord)&&h)if(d=h.dimensions,a=Ao(b,c,h,a),(b=e(b)).type&&Gj[b.type]&&a.baseAxis&&a.valueAxis)h=Bo(d,a.baseAxis.dim),d=Bo(d,a.valueAxis.dim),b.coord=Gj[b.type](c,a.baseDataDim,a.valueDataDim,h,d),b.value=b.coord[d];else{a=[null!=b.xAxis?b.xAxis:b.radiusAxis,null!=b.yAxis?b.yAxis:b.angleAxis];for(h=
0;2>h;h++)Gj[a[h]]&&(a[h]=Fj(c,c.mapDimension(d[h]),a[h]));b.coord=a}return b}function Ao(a,b,c,d){var h={};return null!=a.valueIndex||null!=a.valueDim?(h.valueDataDim=null!=a.valueIndex?b.getDimension(a.valueIndex):a.valueDim,h.valueAxis=c.getAxis(gt(d,h.valueDataDim)),h.baseAxis=c.getOtherAxis(h.valueAxis),h.baseDataDim=b.mapDimension(h.baseAxis.dim)):(h.baseAxis=d.getBaseAxis(),h.valueAxis=c.getOtherAxis(h.baseAxis),h.baseDataDim=b.mapDimension(h.baseAxis.dim),h.valueDataDim=b.mapDimension(h.valueAxis.dim)),
h}function gt(a,b){a=a.getData();var c=a.dimensions;b=a.getDimension(b);for(var h=0;h<c.length;h++){var d=a.getDimensionInfo(c[h]);if(d.name===b)return d.coordDim}}function ig(a,b){var c;if(c=a&&a.containData&&b.coord)c=!(!isNaN(parseFloat(b.x))||!isNaN(parseFloat(b.y)));return!c||a.containData(b.coord)}function Co(a,b,c,d){return 2>d?a.coord&&a.coord[d]:a.value}function Fj(a,b,c){if("average"===c){var h=0,d=0;return a.each(b,function(a,b){isNaN(a)||(h+=a,d++)}),h/d}return"median"===c?a.getMedian(b):
a.getDataExtent(b,!0)["max"===c?1:0]}function Do(a,b,c){var h=b.coordinateSystem;a.each(function(d){var n=a.getItemModel(d),e=za(n.get("x"),c.getWidth());n=za(n.get("y"),c.getHeight());if(isNaN(e)||isNaN(n))if(b.getMarkerPosition)var w=b.getMarkerPosition(a.getValues(a.dimensions,d));else{if(h){w=a.get(h.dimensions[0],d);var f=a.get(h.dimensions[1],d);w=h.dataToPoint([w,f])}}else w=[e,n];isNaN(e)||(w[0]=e);isNaN(n)||(w[1]=n);a.setItemLayout(d,w)})}function ht(a,c,d){var h=a?b(a&&a.dimensions,function(a){return q({name:a},
c.getData().getDimensionInfo(c.getData().mapDimension(a))||{})}):[{name:"value",type:"float"}];h=new mc(h,d);d=b(d.get("data"),D(hg,c));return a&&(d=g(d,D(ig,a))),h.initData(d,null,a?Co:function(a){return a.value}),h}function Hj(a){return isNaN(+a.cpx1)||isNaN(+a.cpy1)}function Eo(a,b,c){var h=b.getItemVisual(c,"color"),d=b.getItemVisual(c,a);b=b.getItemVisual(c,a+"Size");if(d&&"none"!==d)return H(b)||(b=[b,b]),h=ve(d,-b[0]/2,-b[1]/2,b[0],b[1],h),h.name=a,h}function it(a){var b=new jt({name:"line"});
return Ij(b.shape,a),b}function Ij(a,b){var c=b[0],h=b[1];b=b[2];a.x1=c[0];a.y1=c[1];a.x2=h[0];a.y2=h[1];a.percent=1;b?(a.cpx1=b[0],a.cpy1=b[1]):(a.cpx1=NaN,a.cpy1=NaN)}function Jj(a,b,c){xa.call(this);this._createLine(a,b,c)}function Fo(a){this._ctor=a||Jj;this.group=new xa}function Go(a){a=a.hostModel;return{lineStyle:a.getModel("lineStyle").getLineStyle(),hoverLineStyle:a.getModel("emphasis.lineStyle").getLineStyle(),labelModel:a.getModel("label"),hoverLabelModel:a.getModel("emphasis.label")}}
function Ho(a){return isNaN(a[0])||isNaN(a[1])}function Kj(a){return!Ho(a[0])&&!Ho(a[1])}function vh(a){return!isNaN(a)&&!isFinite(a)}function Io(a,b,c,d){var h=1-a,n=d.dimensions[a];return vh(b[h])&&vh(c[h])&&b[a]===c[a]&&d.getAxis(n).containData(b[a])}function kt(a,b){if("cartesian2d"===a.type){var c=b[0].coord,h=b[1].coord;if(c&&h&&(Io(1,c,h,a)||Io(0,c,h,a)))return!0}return ig(a,b[0])&&ig(a,b[1])}function Lj(a,b,c,d,e){var h=d.coordinateSystem;var n=a.getItemModel(b);var w=za(n.get("x"),e.getWidth());
e=za(n.get("y"),e.getHeight());if(isNaN(w)||isNaN(e)){d.getMarkerPosition?n=d.getMarkerPosition(a.getValues(a.dimensions,b)):(d=h.dimensions,n=a.get(d[0],b),d=a.get(d[1],b),n=h.dataToPoint([n,d]));if("cartesian2d"===h.type){var f=h.getAxis("x"),g=h.getAxis("y");d=h.dimensions;vh(a.get(d[0],b))?n[0]=f.toGlobalCoord(f.getExtent()[c?0:1]):vh(a.get(d[1],b))&&(n[1]=g.toGlobalCoord(g.getExtent()[c?0:1]))}isNaN(w)||(n[0]=w);isNaN(e)||(n[1]=e)}else n=[w,e];a.setItemLayout(b,n)}function lt(a,c,d){var h=a?
b(a&&a.dimensions,function(a){return q({name:a},c.getData().getDimensionInfo(c.getData().mapDimension(a))||{})}):[{name:"value",type:"float"}];var n=new mc(h,d);h=new mc(h,d);var e=new mc([],d);d=b(d.get("data"),D(mt,c,a,d));a&&(d=g(d,D(kt,a)));a=a?Co:function(a){return a.value};return n.initData(b(d,function(a){return a[0]}),null,a),h.initData(b(d,function(a){return a[1]}),null,a),e.initData(b(d,function(a){return a[2]})),e.hasItemOption=!0,{from:n,to:h,line:e}}function mf(a){return!isNaN(a)&&!isFinite(a)}
function nt(a,b){var c=b.coord[0],h=b.coord[1],d;!(d="cartesian2d"!==a.type||!c||!h)&&(d=!(mf(c[0])&&mf(h[0])))&&(d=!(mf(c[1])&&mf(h[1])));return!d||ig(a,{coord:c,x:b.x0,y:b.y0})||ig(a,{coord:h,x:b.x1,y:b.y1})}function Jo(a,b,c,d,e){var h=d.coordinateSystem,n=a.getItemModel(b),w=za(n.get(c[0]),e.getWidth());e=za(n.get(c[1]),e.getHeight());if(isNaN(w)||isNaN(e)){d.getMarkerPosition?d=d.getMarkerPosition(a.getValues(c,b)):(d=[a.get(c[0],b),a.get(c[1],b)],h.clampData&&h.clampData(d,d),d=h.dataToPoint(d,
!0));if("cartesian2d"===h.type){n=h.getAxis("x");h=h.getAxis("y");var f=a.get(c[0],b);a=a.get(c[1],b);mf(f)?d[0]=n.toGlobalCoord(n.getExtent()["x0"===c[0]?0:1]):mf(a)&&(d[1]=h.toGlobalCoord(h.getExtent()["y0"===c[1]?0:1]))}isNaN(w)||(d[0]=w);isNaN(e)||(d[1]=e)}else d=[w,e];return d}function ot(a,c,d){var h,n,e=["x0","y0","x1","y1"];a?(h=b(a&&a.dimensions,function(a){var b=c.getData();return q({name:a},b.getDimensionInfo(b.mapDimension(a))||{})}),n=new mc(b(e,function(a,b){return{name:a,type:h[b%2].type}}),
d)):n=new mc(h=[{name:"value",type:"float"}],d);d=b(d.get("data"),D(pt,c,a,d));a&&(d=g(d,D(nt,a)));return n.initData(d,null,a?function(a,b,c,h){return a.coord[Math.floor(h/2)][h%2]}:function(a){return a.value}),n.hasItemOption=!0,n}function qt(a,b,c){function h(a,h){var d=!1;return b(function(b){v(c(a,b)||[],function(a){h.records[b.name][a]&&(d=!0)})}),d}function d(a,h){h.nodes.push(a);b(function(b){v(c(a,b)||[],function(a){h.records[b.name][a]=!0})})}return function(c){var n={nodes:[],records:{}};
if(b(function(a){n.records[a.name]={}}),!c)return n;d(c,n);do{var e=!1;a(function(a){!(0<=B(n.nodes,a))&&h(a,n)&&(d(a,n),e=!0)})}while(e);return n}}function rt(a,b,c){var h=[1/0,-1/0];return Md(c,function(a){var c=a.getData();c&&Md(c.mapDimension(b,!0),function(a){a=c.getApproximateExtent(a);a[0]<h[0]&&(h[0]=a[0]);a[1]>h[1]&&(h[1]=a[1])})}),h[1]<h[0]&&(h=[NaN,NaN]),st(a,h),h}function st(a,b){a=a.getAxisModel();var c=a.getMin(!0),h="category"===a.get("type"),d=h&&a.getCategories().length;null!=c&&
"dataMin"!==c&&"function"!=typeof c?b[0]=c:h&&(b[0]=0<d?0:NaN);c=a.getMax(!0);return null!=c&&"dataMax"!==c&&"function"!=typeof c?b[1]=c:h&&(b[1]=0<d?d-1:NaN),a.get("scale",!0)||(0<b[0]&&(b[0]=0),0>b[1]&&(b[1]=0)),b}function Ko(a,b){var c=a.getAxisModel(),h=a._percentWindow;a=a._valueWindow;if(h){var d=si(a,[0,500]);d=Math.min(d,20);b=b||0===h[0]&&100===h[1];c.setRange(b?null:+a[0].toFixed(d),b?null:+a[1].toFixed(d))}}function tt(a){var b=a._minMaxSpan={},c=a._dataZoomModel;Md(["min","max"],function(h){b[h+
"Span"]=c.get(h+"Span");var d=c.get(h+"ValueSpan");if(null!=d&&(b[h+"ValueSpan"]=d,null!=(d=a.getAxisModel().axis.scale.parse(d)))){var n=a._dataExtent;b[h+"Span"]=mb(n[0]+d,n,[0,100],!0)}})}function Lo(a){var b={};return nf(["start","end","startValue","endValue","throttle"],function(c){a.hasOwnProperty(c)&&(b[c]=a[c])}),b}function Mo(a,b){var c=a._rangePropMode,h=a.get("rangeMode");nf([["start","startValue"],["end","endValue"]],function(a,d){var n=null!=b[a[0]];a=null!=b[a[1]];n&&!a?c[d]="percent":
!n&&a?c[d]="value":h?c[d]=h[d]:n&&(c[d]="percent")})}function Mj(a,b){a=a[b]-a[1-b];return{span:Math.abs(a),sign:0<a?-1:0>a?1:b?-1:1}}function wh(a,b){return Math.min(b[1],Math.max(b[0],a))}function No(a){return"vertical"===a?"ns-resize":"ew-resize"}function ut(a,b,c){xh(a)[b]=c}function vt(a,b,c){a=xh(a);a[b]===c&&(a[b]=null)}function xh(a){return a[Oo]||(a[Oo]={})}function Po(a){this.pointerChecker;this._zr=a;this._opt={};var b=r(wt,this),c=r(xt,this),h=r(yt,this),d=r(zt,this),f=r(At,this);this._$handlers=
{};this.setPointerChecker=function(a){this.pointerChecker=a};this.enable=function(n,w){this.disable();this._opt=q(e(w)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0});null==n&&(n=!0);!0!==n&&"move"!==n&&"pan"!==n||(a.on("mousedown",b),a.on("mousemove",c),a.on("mouseup",h));!0!==n&&"scale"!==n&&"zoom"!==n||(a.on("mousewheel",d),a.on("pinch",f))};this.dispose=this.disable=function(){a.off("mousedown",b);a.off("mousemove",c);a.off("mouseup",h);a.off("mousewheel",d);a.off("pinch",
f)};this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}function wt(a){if(!(1<a.which||a.target&&a.target.draggable)){var b=a.offsetX,c=a.offsetY;this.pointerChecker&&this.pointerChecker(a,b,c)&&(this._x=b,this._y=c,this._dragging=!0)}}function xt(a){if(!(1<a.which)&&Qo(this,"moveOnMouseMove",a)&&this._dragging&&"pinch"!==a.gestureEvent&&!xh(this._zr).globalPan){var b=a.offsetX,c=a.offsetY,h=this._x,d=this._y,e=b-h,f=c-d;this._x=b;this._y=c;this._opt.preventDefaultMouseMove&&
xe(a.event);this.trigger("pan",e,f,h,d,b,c)}}function yt(a){1<a.which||(this._dragging=!1)}function zt(a){if(Qo(this,"zoomOnMouseWheel",a)&&0!==a.wheelDelta){var b=0<a.wheelDelta?1.1:1/1.1,c=a.offsetX,h=a.offsetY;this.pointerChecker&&this.pointerChecker(a,c,h)&&(xe(a.event),this.trigger("zoom",b,c,h))}}function At(a){if(!xh(this._zr).globalPan){var b=1<a.pinchScale?1.1:1/1.1,c=a.pinchX,h=a.pinchY;this.pointerChecker&&this.pointerChecker(a,c,h)&&(xe(a.event),this.trigger("zoom",b,c,h))}}function Qo(a,
b,c){return(a=a._opt[b])&&(!P(a)||c.event[a+"Key"])}function Bt(a,b){var c=Ro(a),h=b.dataZoomId,d=b.coordId;v(c,function(a,c){c=a.dataZoomInfos;c[h]&&0>B(b.allCoordIds,d)&&(delete c[h],a.count--)});So(c);var n=c[d];n||((n=c[d]={coordId:d,dataZoomInfos:{},count:0}).controller=Ct(a,n),n.dispatchAction=D(Dt,a));!n.dataZoomInfos[h]&&n.count++;n.dataZoomInfos[h]=b;a=Et(n.dataZoomInfos);n.controller.enable(a.controlType,a.opt);n.controller.setPointerChecker(b.containsPoint);Wi(n,"dispatchAction",b.throttleRate,
"fixRate")}function Ft(a,b){a=Ro(a);v(a,function(a){a.controller.dispose();var c=a.dataZoomInfos;c[b]&&(delete c[b],a.count--)});So(a)}function Ro(a){a=a.getZr();return a[To]||(a[To]={})}function Ct(a,b){a=new Po(a.getZr());return a.on("pan",Uo(Gt,b)),a.on("zoom",Uo(Ht,b)),a}function So(a){v(a,function(b,c){b.count||(b.controller.dispose(),delete a[c])})}function Gt(a,b,c,d,e,f,g){Vo(a,function(h){return h.panGetRange(a.controller,b,c,d,e,f,g)})}function Ht(a,b,c,d){Vo(a,function(h){return h.zoomGetRange(a.controller,
b,c,d)})}function Vo(a,b){var c=[];v(a.dataZoomInfos,function(a){var h=b(a);!a.disabled&&h&&c.push({dataZoomId:a.dataZoomId,start:h[0],end:h[1]})});c.length&&a.dispatchAction(c)}function Dt(a,b){a.dispatchAction({type:"dataZoom",batch:b})}function Et(a){var b,c={},h={type_true:2,type_move:1,type_false:0,type_undefined:-1};return v(a,function(a){var d=!a.disabled&&(!a.zoomLock||"move");h["type_"+d]>h["type_"+b]&&(b=d);f(c,a.roamControllerOpt)}),{controlType:b,opt:c}}function yh(a){this.model=a}function Nj(a){this.model=
a}function It(a){var b={},c=[],h=[];return a.eachRawSeries(function(a){var d=a.coordinateSystem;if(!d||"cartesian2d"!==d.type&&"polar"!==d.type)c.push(a);else{var n=d.getBaseAxis();if("category"===n.type){var e=n.dim+"_"+n.index;b[e]||(b[e]={categoryAxis:n,valueAxis:d.getOtherAxis(n),series:[]},h.push({axisDim:n.dim,axisIndex:n.index}));b[e].series.push(a)}else c.push(a)}}),{seriesGroupByCategoryAxis:b,other:c,meta:h}}function Jt(a){var c=[];return v(a,function(a,h){h=a.categoryAxis;var d=a.valueAxis.dim,
n=[" "].concat(b(a.series,function(a){return a.name})),e=[h.model.getCategories()];v(a.series,function(a){e.push(a.getRawData().mapArray(d,function(a){return a}))});a=[n.join(ye)];for(h=0;h<e[0].length;h++){n=[];for(var w=0;w<e.length;w++)n.push(e[w][h]);a.push(n.join(ye))}c.push(a.join("\n"))}),c.join("\n\n"+zh+"\n\n")}function Kt(a){return b(a,function(a){var b=a.getRawData(),c=[a.name],h=[];return b.each(b.dimensions,function(){for(var a=arguments.length,d=b.getName(arguments[a-1]),n=0;n<a-1;n++)h[n]=
arguments[n];c.push((d?d+ye:"")+h.join(ye))}),c.join("\n")}).join("\n\n"+zh+"\n\n")}function Lt(a){a=It(a);return{value:g([Jt(a.seriesGroupByCategoryAxis),Kt(a.other)],function(a){return a.replace(/[\n\t\s]/g,"")}).join("\n\n"+zh+"\n\n"),meta:a.meta}}function Ah(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mt(a){a=a.split(/\n+/g);for(var c=[],h=b(Ah(a.shift()).split(Oj),function(a){return{name:a,data:[]}}),d=0;d<a.length;d++){var e=Ah(a[d]).split(Oj);c.push(e.shift());for(var f=
0;f<e.length;f++)h[f]&&(h[f].data[d]=e[f])}return{series:h,categories:c}}function Nt(a,b){var c={series:[]};return v(a.split(new RegExp("\n*"+zh+"\n*","g")),function(a,h){var d=0<=a.slice(0,a.indexOf("\n")).indexOf(ye)?!0:void 0;if(d){var n=Mt(a);h=b[h];a=h.axisDim+"Axis";h&&(c[a]=c[a]||[],c[a][h.axisIndex]={data:n.categories},c.series=c.series.concat(n.series))}else{h=a.split(/\n+/g);a=Ah(h.shift());d=[];for(var e=0;e<h.length;e++){var w=Ah(h[e]).split(Oj),f="",g=!1;isNaN(w[0])?(g=!0,f=w[0],w=w.slice(1),
d[e]={name:f,value:[]},n=d[e].value):n=d[e]=[];for(f=0;f<w.length;f++)n.push(+w[f]);1===n.length&&(g?d[e].value=n[0]:d[e]=n[0])}n={name:a,data:d};c.series.push(n)}}),c}function jg(a){this._dom=null;this.model=a}function Ot(a,c){return b(a,function(a,b){b=c&&c[b];return M(b)&&!H(b)?(M(a)&&!H(a)&&(a=a.value),q({value:a},b)):a})}function Bh(a){this._$handlers={};this._zr=a;this.group=new xa;this._brushType;this._brushOption;this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;
this._creatingPanel;this._enableGlobalPan;this._uid="brushController_"+Pt++;this._handlers={};Qc(Qt,function(a,b){this._handlers[b]=r(a,this)},this)}function Rt(a,b){var c=a._zr;a._enableGlobalPan||ut(c,Wo,a._uid);Qc(a._handlers,function(a,b){c.on(b,a)});a._brushType=b.brushType;a._brushOption=m(e(Xo),b,!0)}function St(a){var b=a._zr;vt(b,Wo,a._uid);Qc(a._handlers,function(a,c){b.off(c,a)});a._brushType=a._brushOption=null}function Yo(a,b){var c=ze[b.brushType].createCover(a,b);return c.__brushOption=
b,Zo(c,b),a.group.add(c),c}function $o(a,b){var c=ze[b.__brushOption.brushType];return c.endCreating&&(c.endCreating(a,b),Zo(b,b.__brushOption)),b}function Zo(a,b){var c=b.z;null==c&&(c=Tt);a.traverse(function(a){a.z=c;a.z2=c})}function Pj(a,b){ze[b.__brushOption.brushType].updateCommon(a,b);var c=b.__brushOption;ze[b.__brushOption.brushType].updateCoverShape(a,b,c.range,c)}function Qj(a,b,c){var h=a._panels;if(!h)return!0;var d,n=a._transform;return Qc(h,function(a){a.isTargetByCursor(b,c,n)&&(d=
a)}),d}function ap(a,b){a=a._panels;if(!a)return!0;b=b.__brushOption.panelId;return null==b||a[b]}function Rj(a){var b=a._covers,c=b.length;return Qc(b,function(b){a.group.remove(b)},a),b.length=0,!!c}function Ae(a,b){var c=Ut(a._covers,function(a){a=a.__brushOption;var b=e(a.range);return{brushType:a.brushType,panelId:a.panelId,range:b}});a.trigger("brush",c,{isEnd:!!b.isEnd,removeOnClick:!!b.removeOnClick})}function bp(a){var b=a.length-1;return 0>b&&(b=0),[a[0],a[b]]}function cp(a,b,c,d){var h=
new xa;return h.add(new jb({name:"main",style:Sj(c),silent:!0,draggable:!0,cursor:"move",drift:Nd(a,b,h,"nswe"),ondragend:Nd(Ae,b,{isEnd:!0})})),Qc(d,function(c){h.add(new jb({name:c,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Nd(a,b,h,c),ondragend:Nd(Ae,b,{isEnd:!0})}))}),h}function dp(a,b,c,d){var h=d.brushStyle.lineWidth||0,e=of(h,Vt),n=c[0][0],w=c[1][0],f=n-h/2,g=w-h/2,F=c[0][1],l=c[1][1];c=F-e+h/2;var m=l-e+h/2;F-=n;l-=w;var q=F+h;h=l+h;ud(a,b,"main",n,w,F,l);d.transformable&&
(ud(a,b,"w",f,g,e,h),ud(a,b,"e",c,g,e,h),ud(a,b,"n",f,g,q,e),ud(a,b,"s",f,m,q,e),ud(a,b,"nw",f,g,e,e),ud(a,b,"ne",c,g,e,e),ud(a,b,"sw",f,m,e,e),ud(a,b,"se",c,m,e,e))}function Tj(a,b){var c=b.__brushOption,h=c.transformable,d=b.childAt(0);d.useStyle(Sj(c));d.attr({silent:!h,cursor:h?"move":"default"});Qc("w e n s se sw ne nw".split(" "),function(c){var d=b.childOfName(c);c=Uj(a,c);d&&d.attr({silent:!h,invisible:!h,cursor:h?Wt[c]+"-resize":null})})}function ud(a,b,c,d,e,f,g){(c=b.childOfName(c))&&c.setShape(Xt(Vj(a,
b,[[d,e],[d+f,e+g]])))}function Sj(a){return q({strokeNoScale:!0},a.brushStyle)}function ep(a,b,c,d){var h=[kg(a,c),kg(b,d)];a=[of(a,c),of(b,d)];return[[h[0],a[0]],[h[1],a[1]]]}function Uj(a,b){if(1<b.length)return("e"===(c=[Uj(a,(b=b.split(""))[0]),Uj(a,b[1])])[0]||"w"===c[0])&&c.reverse(),c.join("");var c=yi({w:"left",e:"right",n:"top",s:"bottom"}[b],Dg(a.group));return{left:"w",right:"e",top:"n",bottom:"s"}[c]}function fp(a,b,c,d,e,f,g,l){l=d.__brushOption;var h=a(l.range),n=gp(c,f,g);Qc(e.split(""),
function(a){a=Yt[a];h[a[0]][a[1]]+=n[a[0]]});l.range=b(ep(h[0][0],h[1][0],h[0][1],h[1][1]));Pj(c,d);Ae(c,{isEnd:!1})}function Zt(a,b,c,d,e){e=b.__brushOption.range;var h=gp(a,c,d);Qc(e,function(a){a[0]+=h[0];a[1]+=h[1]});Pj(a,b);Ae(a,{isEnd:!1})}function gp(a,b,c){a=a.group;b=a.transformCoordToLocal(b,c);c=a.transformCoordToLocal(0,0);return[b[0]-c[0],b[1]-c[1]]}function Vj(a,b,c){return(b=ap(a,b))&&!0!==b?b.clipPath(c,a._transform):e(c)}function Xt(a){var b=kg(a[0][0],a[1][0]),c=kg(a[0][1],a[1][1]);
return{x:b,y:c,width:of(a[0][0],a[1][0])-b,height:of(a[0][1],a[1][1])-c}}function Wj(a){a=a.event;a.preventDefault&&a.preventDefault()}function Xj(a,b,c){return a.childOfName("main").contain(b,c)}function hp(a,b,c,d){var h=a._creatingCover,n=a._creatingPanel,w=a._brushOption;a._track.push(c.slice());var f=a._track;if(f.length){var g=f[f.length-1];var F=f[0];f=g[0]-F[0];g=g[1]-F[1];g=$t(f*f+g*g,.5)>au}else g=!1;if(g||h){if(n&&!h&&("single"===w.brushMode&&Rj(a),h=e(w),b=h.brushType,h.brushType="auto"===
b?n.defaultBrushType:b,h.panelId=!0===n?null:n.panelId,h=a._creatingCover=Yo(a,h),a._covers.push(h)),h){var l=a._brushType;n=ze["auto"===l?n.defaultBrushType:l];h.__brushOption.range=n.getCreatingRange(Vj(a,h,a._track));d&&($o(a,h),n.updateCommon(a,h));n=h;l=n.__brushOption;ze[n.__brushOption.brushType].updateCoverShape(a,n,l.range,l);l={isEnd:d}}}else d&&"single"===w.brushMode&&w.removeOnClick&&Qj(a,b,c)&&Rj(a)&&(l={isEnd:d,removeOnClick:!0});return l}function ip(a){this._dragging&&(Wj(a),a=hp(this,
a,this.group.transformCoordToLocal(a.offsetX,a.offsetY),!0),this._dragging=!1,this._track=[],this._creatingCover=null,a&&Ae(this,a))}function jp(a){return{createCover:function(b,c){return cp(Nd(fp,function(b){b=[b,[0,100]];return a&&b.reverse(),b},function(b){return b[a]}),b,c,[["w","e"],["n","s"]][a])},getCreatingRange:function(b){b=bp(b);return[kg(b[0][a],b[1][a]),of(b[0][a],b[1][a])]},updateCoverShape:function(b,c,h,d){var e=ap(b,c);!0!==e&&e.getLinearBrushOtherExtent?e=e.getLinearBrushOtherExtent(a,
b._transform):(e=b._zr,e=[0,[e.getWidth(),e.getHeight()][1-a]]);h=[h,e];a&&h.reverse();dp(b,c,h,d)},updateCommon:Tj,contain:Xj}}function bu(a){return a=Fa.create(a),function(b,c){return Nl(b,a)}}function cu(a,b){return a=Fa.create(a),function(c){var h=(c=null!=b?b:c)?a.x:a.y;return[h,h+((c?a.width:a.height)||0)]}}function du(a,b,c){return a=Fa.create(a),function(h,d,e){if(d=a.contain(d[0],d[1]))d=(h=b.getComponentByElement(h.topTarget))&&h.coordinateSystem,d=!(h&&h!==c&&!eu[h.mainType]&&d&&d.model!==
c);return d}}function Yj(a,b,c){var h=this._targetInfoList=[],d={},e=le(b,a,{includeMainTypes:kp});Od(fu,function(a,b){(!c||!c.include||0<=Ch(c.include,b))&&a(e,h,d)})}function Zj(a){return a[0]>a[1]&&a.reverse(),a}function lp(a,c,d,e){var h=d.getAxis(["x","y"][a]);d=Zj(b([0,1],function(a){return c?h.coordToData(h.toLocalCoord(e[a])):h.toGlobalCoord(h.dataToCoord(e[a]))}));var n=[];return n[a]=d,n[1-a]=[NaN,NaN],{values:d,xyMinMax:n}}function mp(a,b,c,d){return[b[0]-d[a]*c[0],b[1]-d[a]*c[1]]}function gu(a,
b){a=np(a);b=np(b);b=[a[0]/b[0],a[1]/b[1]];return isNaN(b[0])&&(b[0]=1),isNaN(b[1])&&(b[1]=1),b}function np(a){return a?[a[0][1]-a[0][0],a[1][1]-a[1][0]]:[NaN,NaN]}function hu(a,b){var c=ak(a);op(b,function(b,h){for(b=c.length-1;0<=b&&!c[b][h];b--);0>b&&(b=a.queryComponents({mainType:"dataZoom",subType:"select",id:h})[0])&&(b=b.getPercentRange(),c[0][h]={dataZoomId:h,start:b[0],end:b[1]})});c.push(b)}function iu(a){var b=ak(a);a=b[b.length-1];1<b.length&&b.pop();var c={};return op(a,function(a,h){for(var d=
b.length-1;0<=d;d--)if(a=b[d][h]){c[h]=a;break}}),c}function ak(a){var b=a[bk];return b||(b=a[bk]=[{}]),b}function ck(a,b,c){(this._brushController=new Bh(c.getZr())).on("brush",r(this._onBrush,this)).mount();this._isZoomActive}function pp(a){var b={};return v(["xAxisIndex","yAxisIndex"],function(c){b[c]=a[c];null==b[c]&&(b[c]="all");!1!==b[c]&&"none"!==b[c]||(b[c]=[])}),b}function ju(a,b,c,d,e){var h=c._isZoomActive;d&&"takeGlobalCursor"===d.type&&(h="dataZoomSelect"===d.key&&d.dataZoomSelectActive);
c._isZoomActive=h;a.setIconStatus("zoom",h?"emphasis":"normal");a=new Yj(pp(a.option),b,{include:["grid"]});c._brushController.setPanels(a.makePanelOpts(e,function(a){return a.xAxisDeclared&&!a.yAxisDeclared?"lineX":!a.xAxisDeclared&&a.yAxisDeclared?"lineY":"rect"})).enableBrush(!!h&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}function dk(a){this.model=a}function ku(){if(!qp&&Fb){qp=!0;var a=Fb.styleSheets;31>a.length?Fb.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):
a[0].addRule(".zrvml","behavior:url(#default#VML)")}}function Dh(a,b){ku();this.root=a;this.storage=b;var c=document.createElement("div"),h=document.createElement("div");c.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";h.style.cssText="position:absolute;left:0;top:0;";a.appendChild(c);this._vmlRoot=h;this._vmlViewport=c;this.resize();var d=b.delFromStorage,e=b.addToStorage;b.delFromStorage=function(a){d.call(b,a);a&&a.onRemove&&a.onRemove(h)};b.addToStorage=
function(a){a.onAdd&&a.onAdd(h);e.call(b,a)};this._firstPaint=!0}function lu(a){return function(){}}function Be(a){return document.createElementNS(mu,a)}function yc(a){return ek(1E4*a)/1E4}function Eh(a,b){b&&Pa(a,"transform","matrix("+nu.call(b,",")+")")}function Pa(a,b,c){(!c||"linear"!==c.type&&"radial"!==c.type)&&("string"==typeof c&&-1<c.indexOf("NaN")&&console.log(c),a.setAttribute(b,c))}function rp(a,b,c){var h=c?b.textFill:b.fill;null!=h&&h!==Ce?(h=c?b.textFill:b.fill,h="transparent"===h?
Ce:h,"none"!==a.getAttribute("clip-path")&&h===Ce&&(h="rgba(0, 0, 0, 0.002)"),Pa(a,"fill",h),Pa(a,"fill-opacity",b.opacity)):Pa(a,"fill",Ce);h=c?b.textStroke:b.stroke;null!=h&&h!==Ce?(h=c?b.textStroke:b.stroke,Pa(a,"stroke","transparent"===h?Ce:h),Pa(a,"stroke-width",(c?b.textStrokeWidth:b.lineWidth)/(!c&&b.strokeNoScale?b.host.getLineScale():1)),Pa(a,"paint-order",c?"stroke":"fill"),Pa(a,"stroke-opacity",b.opacity),b.lineDash?(Pa(a,"stroke-dasharray",b.lineDash.join(",")),Pa(a,"stroke-dashoffset",
ek(b.lineDashOffset||0))):Pa(a,"stroke-dasharray",""),b.lineCap&&Pa(a,"stroke-linecap",b.lineCap),b.lineJoin&&Pa(a,"stroke-linejoin",b.lineJoin),b.miterLimit&&Pa(a,"stroke-miterlimit",b.miterLimit)):Pa(a,"stroke",Ce)}function sp(a){return"middle"===a?"middle":"bottom"===a?"baseline":"hanging"}function tp(){}function Va(a,b,c,d,e){this._zrId=a;this._svgRoot=b;this._tagNames="string"==typeof c?[c]:c;this._markLabel=d;this._domName=e||"_dom";this.nextId=0}function De(a,b){Va.call(this,a,b,["linearGradient",
"radialGradient"],"__gradient_in_use__")}function lg(a,b){Va.call(this,a,b,"clipPath","__clippath_in_use__")}function Pd(a,b){Va.call(this,a,b,["filter"],"__filter_in_use__","_shadowDom")}function up(a){return a&&(a.shadowBlur||a.shadowOffsetX||a.shadowOffsetY||a.textShadowBlur||a.textShadowOffsetX||a.textShadowOffsetY)}function Fh(a,b,c){b&&a&&b.parentNode!==a&&c&&((c=c.nextSibling)?a.insertBefore(b,c):a.appendChild(b))}function vp(a,b){if(b&&a&&b.parentNode!==a){var c=a.firstChild;c?a.insertBefore(b,
c):a.appendChild(b)}}function ou(a){return function(){}}var $l=2311,Ba="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:function(a){var b={},c=a.match(/Firefox\/([\d.]+)/),h=a.match(/MSIE\s([\d.]+)/)||
a.match(/Trident\/.+?rv:(([\d.]+))/),d=a.match(/Edge\/([\d.]+)/);a=/micromessenger/i.test(a);return c&&(b.firefox=!0,b.version=c[1]),h&&(b.ie=!0,b.version=h[1]),d&&(b.edge=!0,b.version=d[1]),a&&(b.weChat=!0),{browser:b,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!b.ie&&!b.edge,pointerEventsSupported:"onpointerdown"in window&&(b.edge||b.ie&&11<=b.version)}}(navigator.userAgent),Rl=
{"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Ql={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Jf=Object.prototype.toString,mg=Array.prototype,Lq=mg.forEach,Oq=mg.filter,Kf=mg.slice,Mq=mg.map,
Nq=mg.reduce,zi={},Hg=function(){return zi.createCanvas()};zi.createCanvas=function(){return document.createElement("canvas")};var Gg,me="__ec_primitive__";Ha.prototype={constructor:Ha,get:function(a){return this.hasOwnProperty(a)?this[a]:null},set:function(a,b){return this[a]=b},each:function(a,b){void 0!==b&&(a=r(a,b));for(var c in this)this.hasOwnProperty(c)&&a(this[c],c)},removeKey:function(a){delete this[a]}};var pu=(Object.freeze||Object)({$override:c,clone:e,merge:m,mergeAll:l,extend:f,defaults:q,
createCanvas:Hg,getContext:z,indexOf:B,inherits:u,mixin:C,isArrayLike:A,each:v,map:b,reduce:d,filter:g,find:function(a,b,c){if(a&&b)for(var h=0,d=a.length;h<d;h++)if(b.call(c,a[h],h,a))return a[h]},bind:r,curry:D,isArray:H,isFunction:W,isString:P,isObject:M,isBuiltInObject:Z,isTypedArray:G,isDom:R,eqNaN:I,retrieve:X,retrieve2:J,retrieve3:S,slice:ba,normalizeCssArray:T,assert:Y,trim:ta,setAsPrimitive:Ia,isPrimitive:function(a){return a[me]},createHashMap:ia,concatArray:function(a,b){for(var c=new a.constructor(a.length+
b.length),h=0;h<a.length;h++)c[h]=a[h];a=a.length;for(h=0;h<b.length;h++)c[h+a]=b[h];return c},noop:va}),Sl="undefined"==typeof Float32Array?Array:Float32Array,mh=O,qe=Ka,qu=(Object.freeze||Object)({create:oa,copy:wa,clone:Ga,set:function(a,b,c){return a[0]=b,a[1]=c,a},add:fa,scaleAndAdd:la,sub:ka,len:ra,length:ra,lenSquare:Da,lengthSquare:Da,mul:function(a,b,c){return a[0]=b[0]*c[0],a[1]=b[1]*c[1],a},div:function(a,b,c){return a[0]=b[0]/c[0],a[1]=b[1]/c[1],a},dot:function(a,b){return a[0]*b[0]+a[1]*
b[1]},scale:ea,normalize:U,distance:O,dist:mh,distanceSquare:Ka,distSquare:qe,negate:function(a,b){return a[0]=-b[0],a[1]=-b[1],a},lerp:function(a,b,c,d){return a[0]=b[0]+d*(c[0]-b[0]),a[1]=b[1]+d*(c[1]-b[1]),a},applyTransform:N,min:V,max:ja});E.prototype={constructor:E,_dragStart:function(a){var b=a.target;b&&b.draggable&&(this._draggingTarget=b,b.dragging=!0,this._x=a.offsetX,this._y=a.offsetY,this.dispatchToElement(pa(b,a),"dragstart",a.event))},_drag:function(a){var b=this._draggingTarget;if(b){var c=
a.offsetX,h=a.offsetY,d=c-this._x,e=h-this._y;this._x=c;this._y=h;b.drift(d,e,a);this.dispatchToElement(pa(b,a),"drag",a.event);c=this.findHover(c,h,b).target;h=this._dropTarget;this._dropTarget=c;b!==c&&(h&&c!==h&&this.dispatchToElement(pa(h,a),"dragleave",a.event),c&&c!==h&&this.dispatchToElement(pa(c,a),"dragenter",a.event))}},_dragEnd:function(a){var b=this._draggingTarget;b&&(b.dragging=!1);this.dispatchToElement(pa(b,a),"dragend",a.event);this._dropTarget&&this.dispatchToElement(pa(this._dropTarget,
a),"drop",a.event);this._dropTarget=this._draggingTarget=null}};var wp=Array.prototype.slice,xc=function(){this._$handlers={}};xc.prototype={constructor:xc,one:function(a,b,c){var h=this._$handlers;if(!b||!a)return this;h[a]||(h[a]=[]);for(var d=0;d<h[a].length;d++)if(h[a][d].h===b)return this;return h[a].push({h:b,one:!0,ctx:c||this}),this},on:function(a,b,c){var h=this._$handlers;if(!b||!a)return this;h[a]||(h[a]=[]);for(var d=0;d<h[a].length;d++)if(h[a][d].h===b)return this;return h[a].push({h:b,
one:!1,ctx:c||this}),this},isSilent:function(a){var b=this._$handlers;return b[a]&&b[a].length},off:function(a,b){var c=this._$handlers;if(!a)return this._$handlers={},this;if(b){if(c[a]){for(var h=[],d=0,e=c[a].length;d<e;d++)c[a][d].h!=b&&h.push(c[a][d]);c[a]=h}c[a]&&0===c[a].length&&delete c[a]}else delete c[a];return this},trigger:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;3<c&&(b=wp.call(b,1));for(var h=this._$handlers[a],d=h.length,e=0;e<d;){switch(c){case 1:h[e].h.call(h[e].ctx);
break;case 2:h[e].h.call(h[e].ctx,b[1]);break;case 3:h[e].h.call(h[e].ctx,b[1],b[2]);break;default:h[e].h.apply(h[e].ctx,b)}h[e].one?(h.splice(e,1),d--):e++}}return this},triggerWithContext:function(a){if(this._$handlers[a]){var b=arguments,c=b.length;4<c&&(b=wp.call(b,1,b.length-1));for(var h=b[b.length-1],d=this._$handlers[a],e=d.length,f=0;f<e;){switch(c){case 1:d[f].h.call(h);break;case 2:d[f].h.call(h,b[1]);break;case 3:d[f].h.call(h,b[1],b[2]);break;default:d[f].h.apply(h,b)}d[f].one?(d.splice(f,
1),e--):f++}}return this}};Oa.prototype.dispose=function(){};var ru="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),pf=function(a,b,c,d){this._$handlers={};this.storage=a;this.painter=b;this.painterRoot=d;c=c||new Oa;this.proxy=null;this._hovered={};this._lastTouchMoment;this._lastX;this._lastY;E.call(this);this.setHandlerProxy(c)};pf.prototype={constructor:pf,setHandlerProxy:function(a){this.proxy&&this.proxy.dispose();a&&(v(ru,function(b){a.on&&a.on(b,this[b],
this)},this),a.handler=this);this.proxy=a},mousemove:function(a){var b=a.zrX,c=a.zrY,h=this._hovered,d=h.target;d&&!d.__zr&&(d=(h=this.findHover(h.x,h.y)).target);b=this._hovered=this.findHover(b,c);c=b.target;var e=this.proxy;e.setCursor&&e.setCursor(c?c.cursor:"default");d&&c!==d&&this.dispatchToElement(h,"mouseout",a);this.dispatchToElement(b,"mousemove",a);c&&c!==d&&this.dispatchToElement(b,"mouseover",a)},mouseout:function(a){this.dispatchToElement(this._hovered,"mouseout",a);var b,c=a.toElement||
a.relatedTarget;do c=c&&c.parentNode;while(c&&9!=c.nodeType&&!(b=c===this.painterRoot));!b&&this.trigger("globalout",{event:a})},resize:function(a){this._hovered={}},dispatch:function(a,b){(a=this[a])&&a.call(this,b)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(a){var b=this.proxy;b.setCursor&&b.setCursor(a)},dispatchToElement:function(a,b,c){var h=(a=a||{}).target;if(!h||!h.silent){for(var d="on"+b,e={type:b,event:c,target:a.target,topTarget:a.topTarget,
cancelBubble:!1,offsetX:c.zrX,offsetY:c.zrY,gestureEvent:c.gestureEvent,pinchX:c.pinchX,pinchY:c.pinchY,pinchScale:c.pinchScale,wheelDelta:c.zrDelta,zrByTouch:c.zrByTouch,which:c.which};h&&(h[d]&&(e.cancelBubble=h[d].call(h,e)),h.trigger(b,e),h=h.parent,!e.cancelBubble););e.cancelBubble||(this.trigger(b,e),this.painter&&this.painter.eachOtherLayer(function(a){"function"==typeof a[d]&&a[d].call(a,e);a.trigger&&a.trigger(b,e)}))}},findHover:function(a,b,c){for(var h=this.storage.getDisplayList(),d=
{x:a,y:b},e=h.length-1;0<=e;e--){var n;if(n=h[e]!==c&&!h[e].ignore){a:{var w=void 0;var f=h[e];n=a;var g=b;if(f[f.rectHover?"rectContain":"contain"](n,g)){for(;f;){if(f.clipPath&&!f.clipPath.contain(n,g)){w=!1;break a}f.silent&&(w=!0);f=f.parent}w=!w||"silent"}else w=!1}n=w}if(n&&(!d.topTarget&&(d.topTarget=h[e]),"silent"!==w)){d.target=h[e];break}}return d}};v("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),function(a){pf.prototype[a]=function(b){var c=this.findHover(b.zrX,b.zrY),
h=c.target;if("mousedown"===a)this._downEl=h,this._downPoint=[b.zrX,b.zrY],this._upEl=h;else if("mouseup"===a)this._upEl=h;else if("click"===a){if(this._downEl!==this._upEl||!this._downPoint||4<mh(this._downPoint,[b.zrX,b.zrY]))return;this._downPoint=null}this.dispatchToElement(c,a,b)}});C(pf,xc);C(pf,E);var Pq="undefined"==typeof Float32Array?Array:Float32Array,su=(Object.freeze||Object)({create:La,identity:cb,copy:ca,mul:Ea,translate:Sa,rotate:Q,scale:t,invert:gb,clone:function(a){var b=La();return ca(b,
a),b}}),fk=cb,Tl=5E-5,bf=function(a){(a=a||{}).position||(this.position=[0,0]);null==a.rotation&&(this.rotation=0);a.scale||(this.scale=[1,1]);this.origin=this.origin||null},Rc=bf.prototype;Rc.transform=null;Rc.needLocalTransform=function(){return Xa(this.rotation)||Xa(this.position[0])||Xa(this.position[1])||Xa(this.scale[0]-1)||Xa(this.scale[1]-1)};Rc.updateTransform=function(){var a=this.parent,b=a&&a.transform,c=this.needLocalTransform(),d=this.transform;c||b?(d=d||La(),c?this.getLocalTransform(d):
fk(d),b&&(c?Ea(d,a.transform,d):ca(d,a.transform)),this.transform=d,this.invTransform=this.invTransform||La(),gb(this.invTransform,d)):d&&fk(d)};Rc.getLocalTransform=function(a){return bf.getLocalTransform(this,a)};Rc.setTransform=function(a){var b=this.transform,c=a.dpr||1;b?a.setTransform(c*b[0],c*b[1],c*b[2],c*b[3],c*b[4],c*b[5]):a.setTransform(c,0,0,c,0,0)};Rc.restoreTransform=function(a){var b=a.dpr||1;a.setTransform(b,0,0,b,0,0)};var xp=[];Rc.decomposeTransform=function(){if(this.transform){var a=
this.parent,b=this.transform;a&&a.transform&&(Ea(xp,a.invTransform,b),b=xp);a=b[0]*b[0]+b[1]*b[1];var c=b[2]*b[2]+b[3]*b[3],d=this.position,e=this.scale;Xa(a-1)&&(a=Math.sqrt(a));Xa(c-1)&&(c=Math.sqrt(c));0>b[0]&&(a=-a);0>b[3]&&(c=-c);d[0]=b[4];d[1]=b[5];e[0]=a;e[1]=c;this.rotation=Math.atan2(-b[1]/c,b[0]/a)}};Rc.getGlobalScale=function(){var a=this.transform;if(!a)return[1,1];var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]),c=Math.sqrt(a[2]*a[2]+a[3]*a[3]);return 0>a[0]&&(b=-b),0>a[3]&&(c=-c),[b,c]};Rc.transformCoordToLocal=
function(a,b){a=[a,b];b=this.invTransform;return b&&N(a,a,b),a};Rc.transformCoordToGlobal=function(a,b){a=[a,b];b=this.transform;return b&&N(a,a,b),a};bf.getLocalTransform=function(a,b){fk(b=b||[]);var c=a.origin,h=a.scale||[1,1],d=a.rotation||0;a=a.position||[0,0];return c&&(b[4]-=c[0],b[5]-=c[1]),t(b,b,h),d&&Q(b,b,d),c&&(b[4]+=c[0],b[5]+=c[1]),b[4]+=a[0],b[5]+=a[1],b};var Gh={linear:function(a){return a},quadraticIn:function(a){return a*a},quadraticOut:function(a){return a*(2-a)},quadraticInOut:function(a){return 1>
(a*=2)?.5*a*a:-.5*(--a*(a-2)-1)},cubicIn:function(a){return a*a*a},cubicOut:function(a){return--a*a*a+1},cubicInOut:function(a){return 1>(a*=2)?.5*a*a*a:.5*((a-=2)*a*a+2)},quarticIn:function(a){return a*a*a*a},quarticOut:function(a){return 1- --a*a*a*a},quarticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a:-.5*((a-=2)*a*a*a-2)},quinticIn:function(a){return a*a*a*a*a},quinticOut:function(a){return--a*a*a*a*a+1},quinticInOut:function(a){return 1>(a*=2)?.5*a*a*a*a*a:.5*((a-=2)*a*a*a*a+2)},sinusoidalIn:function(a){return 1-
Math.cos(a*Math.PI/2)},sinusoidalOut:function(a){return Math.sin(a*Math.PI/2)},sinusoidalInOut:function(a){return.5*(1-Math.cos(Math.PI*a))},exponentialIn:function(a){return 0===a?0:Math.pow(1024,a-1)},exponentialOut:function(a){return 1===a?1:1-Math.pow(2,-10*a)},exponentialInOut:function(a){return 0===a?0:1===a?1:1>(a*=2)?.5*Math.pow(1024,a-1):.5*(2-Math.pow(2,-10*(a-1)))},circularIn:function(a){return 1-Math.sqrt(1-a*a)},circularOut:function(a){return Math.sqrt(1- --a*a)},circularInOut:function(a){return 1>
(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-(a-=2)*a)+1)},elasticIn:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),-c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4))},elasticOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),c*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/.4)+1)},elasticInOut:function(a){var b,c=.1;return 0===a?0:1===a?1:(!c||1>c?(c=1,b=.1):b=.4*Math.asin(1/c)/(2*Math.PI),1>(a*=
2)?c*Math.pow(2,10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*-.5:c*Math.pow(2,-10*--a)*Math.sin(2*(a-b)*Math.PI/.4)*.5+1)},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){return--a*a*(2.70158*a+1.70158)+1},backInOut:function(a){return 1>(a*=2)?a*a*(3.5949095*a-2.5949095)*.5:.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)},bounceIn:function(a){return 1-Gh.bounceOut(1-a)},bounceOut:function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:
7.5625*(a-=2.625/2.75)*a+.984375},bounceInOut:function(a){return.5>a?.5*Gh.bounceIn(2*a):.5*Gh.bounceOut(2*a-1)+.5}};Ub.prototype={constructor:Ub,step:function(a,b){if(this._initialized||(this._startTime=a+this._delay,this._initialized=!0),this._paused)this._pausedTime+=b;else if(b=(a-this._startTime-this._pausedTime)/this._life,!(0>b)){b=Math.min(b,1);var c=this.easing;c="string"==typeof c?Gh[c]:c;c="function"==typeof c?c(b):b;return this.fire("frame",c),1==b?this.loop?(this.restart(a),"restart"):
(this._needsRemove=!0,"destroy"):null}},restart:function(a){this._startTime=a-(a-this._startTime-this._pausedTime)%this._life+this.gap;this._pausedTime=0;this._needsRemove=!1},fire:function(a,b){this[a="on"+a]&&this[a](this._target,b)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var yp=function(){this.tail=this.head=null;this._len=0},ng=yp.prototype;ng.insert=function(a){a=new zp(a);return this.insertEntry(a),a};ng.insertEntry=function(a){this.head?(this.tail.next=a,a.prev=
this.tail,a.next=null,this.tail=a):this.head=this.tail=a;this._len++};ng.remove=function(a){var b=a.prev,c=a.next;b?b.next=c:this.head=c;c?c.prev=b:this.tail=b;a.next=a.prev=null;this._len--};ng.len=function(){return this._len};ng.clear=function(){this.head=this.tail=null;this._len=0};var zp=function(a){this.value=a;this.next;this.prev},gk=function(a){this._list=new yp;this._map={};this._maxSize=a||10;this._lastRemovedEntry=null},hk=gk.prototype;hk.put=function(a,b){var c=this._list,h=this._map,d=
null;if(null==h[a]){var e=c.len(),n=this._lastRemovedEntry;e>=this._maxSize&&0<e&&(e=c.head,c.remove(e),delete h[e.key],d=e.value,this._lastRemovedEntry=e);n?n.value=b:n=new zp(b);n.key=a;c.insertEntry(n);h[a]=n}return d};hk.get=function(a){a=this._map[a];var b=this._list;if(null!=a)return a!==b.tail&&(b.remove(a),b.insertEntry(a)),a.value};hk.clear=function(){this._list.clear();this._map={}};var Vl={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,
255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,
1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,
144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,
252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,
50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,
230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,
128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,
1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Ul=new gk(20),Ig=null,tu=(Object.freeze||Object)({parse:wb,lift:Cb,toHex:Wb,fastLerp:xb,fastMapToColor:xb,lerp:na,mapToColor:na,modifyHSL:function(a,b,c,d){if(a=wb(a)){if(a){var h,e=a[0]/255,n=a[1]/255,f=a[2]/255;var w=Math.min(e,n,f);var g=Math.max(e,n,f),l=g-w,F=(g+w)/2;if(0===l)w=h=0;else{w=.5>F?l/(g+w):l/(2-g-w);var m=((g-e)/6+l/2)/l,q=((g-n)/6+l/2)/l;l=((g-f)/6+l/2)/l;e===g?h=l-q:n===g?h=1/3+m-l:f===g&&(h=2/3+q-m);0>h&&(h+=1);1<h&&--h}h=[360*
h,w,F];a=(null!=a[3]&&h.push(a[3]),h)}else a=void 0;null!=b&&(h=b,b=0>(h=Math.round(h))?0:360<h?360:h,a[0]=b);return null!=c&&(a[1]=Zb(c)),null!=d&&(a[2]=Zb(d)),db(Vb(a),"rgba")}},modifyAlpha:Ra,stringify:db}),Ai=Array.prototype.slice,ik=function(a,b,c,d){this._tracks={};this._target=a;this._loop=b||!1;this._getter=c||Dc;this._setter=d||Bc;this._delay=this._clipCount=0;this._doneList=[];this._onframeList=[];this._clipList=[]};ik.prototype={when:function(a,b){var c=this._tracks,h;for(h in b)if(b.hasOwnProperty(h)){if(!c[h]){c[h]=
[];var d=this._getter(this._target,h);if(null==d)continue;0!==a&&c[h].push({time:0,value:Xd(d)})}c[h].push({time:a,value:b[h]})}return this},during:function(a){return this._onframeList.push(a),this},pause:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].pause();this._paused=!0},resume:function(){for(var a=0;a<this._clipList.length;a++)this._clipList[a].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={};this._clipList.length=
0;for(var a=this._doneList,b=a.length,c=0;c<b;c++)a[c].call(this)},start:function(a,b){var c,h=this,d=0,e;for(e in this._tracks)if(this._tracks.hasOwnProperty(e)){var n=Ne(this,a,function(){--d||h._doneCallback()},this._tracks[e],e,b);n&&(this._clipList.push(n),d++,this.animation&&this.animation.addClip(n),c=n)}if(c){var f=c.onframe;c.onframe=function(a,b){f(a,b);for(var c=0;c<h._onframeList.length;c++)h._onframeList[c](a,b)}}return d||this._doneCallback(),this},stop:function(a){for(var b=this._clipList,
c=this.animation,h=0;h<b.length;h++){var d=b[h];a&&d.onframe(this._target,1);c&&c.removeClip(d)}b.length=0},delay:function(a){return this._delay=a,this},done:function(a){return a&&this._doneList.push(a),this},getClips:function(){return this._clipList}};var Ap=1;"undefined"!=typeof window&&(Ap=Math.max(window.devicePixelRatio||1,1));var Hh=Ap,jk=function(){this.animators=[]};jk.prototype={constructor:jk,animate:function(a,b){var c,h=!1,d=this,e=this.__zr;if(a){a=a.split(".");var n=d;h="shape"===a[0];
for(var f=0,g=a.length;f<g;f++)n&&(n=n[a[f]]);n&&(c=n)}else c=d;if(c){var l=d.animators,m=new ik(c,b);return m.during(function(a){d.dirty(h)}).done(function(){l.splice(B(l,m),1)}),l.push(m),e&&e.animation.addAnimator(m),m}},stopAnimation:function(a){for(var b=this.animators,c=b.length,h=0;h<c;h++)b[h].stop(a);return b.length=0,this},animateTo:function(a,b,c,d,e,f){P(c)?(e=d,d=c,c=0):W(d)?(e=d,d="linear",c=0):W(c)?(e=c,c=0):W(b)?(e=b,b=500):b||(b=500);this.stopAnimation();this._animateToShallow("",
this,a,b,c);a=this.animators.slice();var h=a.length;h||e&&e();for(b=0;b<a.length;b++)a[b].done(function(){--h||e&&e()}).start(d,f)},_animateToShallow:function(a,b,c,d,e){var h={},n=0,f;for(f in c)if(c.hasOwnProperty(f))if(null!=b[f])M(c[f])&&!A(c[f])?this._animateToShallow(a?a+"."+f:f,b[f],c[f],d,e):(h[f]=c[f],n++);else if(null!=c[f])if(a){var w={};w[a]={};w[a][f]=c[f];this.attr(w)}else this.attr(f,c[f]);return 0<n&&this.animate(a,!1).when(null==d?500:d,h).delay(e||0),this}};var ld=function(a){bf.call(this,
a);this._$handlers={};this.animators=[];this.id=a.id||$l++};ld.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(a,b){switch(this.draggable){case "horizontal":b=0;break;case "vertical":a=0}var c=this.transform;c||(c=this.transform=[1,0,0,1,0,0]);c[4]+=a;c[5]+=b;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(a,b){},attrKV:function(a,b){if("position"===
a||"scale"===a||"origin"===a){if(b){var c=this[a];c||(c=this[a]=[]);c[0]=b[0];c[1]=b[1]}}else this[a]=b},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(a,b){if("string"==typeof a)this.attrKV(a,b);else if(M(a))for(var c in a)a.hasOwnProperty(c)&&this.attrKV(c,a[c]);return this.dirty(!1),this},setClipPath:function(a){var b=this.__zr;b&&a.addSelfToZr(b);this.clipPath&&this.clipPath!==a&&this.removeClipPath();
this.clipPath=a;a.__zr=b;a.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var a=this.clipPath;a&&(a.__zr&&a.removeSelfFromZr(a.__zr),a.__zr=null,a.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(a){this.__zr=a;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.addAnimator(b[c]);this.clipPath&&this.clipPath.addSelfToZr(a)},removeSelfFromZr:function(a){this.__zr=null;var b=this.animators;if(b)for(var c=0;c<b.length;c++)a.animation.removeAnimator(b[c]);
this.clipPath&&this.clipPath.removeSelfFromZr(a)}};C(ld,jk);C(ld,bf);C(ld,xc);var Ih=Math.min,Jh=Math.max;Fa.prototype={constructor:Fa,union:function(a){var b=Ih(a.x,this.x),c=Ih(a.y,this.y);this.width=Jh(a.x+a.width,this.x+this.width)-b;this.height=Jh(a.y+a.height,this.y+this.height)-c;this.x=b;this.y=c},applyTransform:function(){var a=[],b=[],c=[],d=[];return function(h){if(h){a[0]=c[0]=this.x;a[1]=d[1]=this.y;b[0]=d[0]=this.x+this.width;b[1]=c[1]=this.y+this.height;N(a,a,h);N(b,b,h);N(c,c,h);N(d,
d,h);this.x=Ih(a[0],b[0],c[0],d[0]);this.y=Ih(a[1],b[1],c[1],d[1]);h=Jh(a[0],b[0],c[0],d[0]);var e=Jh(a[1],b[1],c[1],d[1]);this.width=h-this.x;this.height=e-this.y}}}(),calculateTransform:function(a){var b=a.width/this.width,c=a.height/this.height,h=La();return Sa(h,h,[-this.x,-this.y]),t(h,h,[b,c]),Sa(h,h,[a.x,a.y]),h},intersect:function(a){if(!a)return!1;a instanceof Fa||(a=Fa.create(a));var b=this.x,c=this.y,h=this.y+this.height,d=a.x+a.width,e=a.y,f=a.y+a.height;return!(this.x+this.width<a.x||
d<b||h<e||f<c)},contain:function(a,b){return a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height},clone:function(){return new Fa(this.x,this.y,this.width,this.height)},copy:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};Fa.create=function(a){return new Fa(a.x,a.y,a.width,a.height)};var xa=function(a){a=a||{};ld.call(this,a);for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._children=
[];this.__storage=null;this.__dirty=!0};xa.prototype={constructor:xa,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(a){return this._children[a]},childOfName:function(a){for(var b=this._children,c=0;c<b.length;c++)if(b[c].name===a)return b[c]},childCount:function(){return this._children.length},add:function(a){return a&&a!==this&&a.parent!==this&&(this._children.push(a),this._doAdd(a)),this},addBefore:function(a,b){if(a&&a!==this&&a.parent!==this&&
b&&b.parent===this){var c=this._children;b=c.indexOf(b);0<=b&&(c.splice(b,0,a),this._doAdd(a))}return this},_doAdd:function(a){a.parent&&a.parent.remove(a);a.parent=this;var b=this.__storage,c=this.__zr;b&&b!==a.__storage&&(b.addToStorage(a),a instanceof xa&&a.addChildrenToStorage(b));c&&c.refresh()},remove:function(a){var b=this.__zr,c=this.__storage,h=this._children,d=B(h,a);return 0>d?this:(h.splice(d,1),a.parent=null,c&&(c.delFromStorage(a),a instanceof xa&&a.delChildrenFromStorage(c)),b&&b.refresh(),
this)},removeAll:function(){var a,b=this._children,c=this.__storage;for(a=0;a<b.length;a++){var d=b[a];c&&(c.delFromStorage(d),d instanceof xa&&d.delChildrenFromStorage(c));d.parent=null}return b.length=0,this},eachChild:function(a,b){for(var c=this._children,h=0;h<c.length;h++)a.call(b,c[h],h);return this},traverse:function(a,b){for(var c=0;c<this._children.length;c++){var h=this._children[c];a.call(b,h);"group"===h.type&&h.traverse(a,b)}return this},addChildrenToStorage:function(a){for(var b=0;b<
this._children.length;b++){var c=this._children[b];a.addToStorage(c);c instanceof xa&&c.addChildrenToStorage(a)}},delChildrenFromStorage:function(a){for(var b=0;b<this._children.length;b++){var c=this._children[b];a.delFromStorage(c);c instanceof xa&&c.delChildrenFromStorage(a)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(a){var b=null,c=new Fa(0,0,0,0);a=a||this._children;for(var h=[],d=0;d<a.length;d++){var e=a[d];if(!e.ignore&&!e.invisible){var f=
e.getBoundingRect();(e=e.getLocalTransform(h))?(c.copy(f),c.applyTransform(e),(b=b||c.clone()).union(c)):(b=b||f.clone()).union(f)}}return b||c}};u(xa,ld);var Wl=32,Lf=7,kk=function(){this._roots=[];this._displayList=[];this._displayListLen=0};kk.prototype={constructor:kk,traverse:function(a,b){for(var c=0;c<this._roots.length;c++)this._roots[c].traverse(a,b)},getDisplayList:function(a,b){return b=b||!1,a&&this.updateDisplayList(b),this._displayList},updateDisplayList:function(a){this._displayListLen=
0;for(var b=this._roots,c=this._displayList,h=0,d=b.length;h<d;h++)this._updateAndAddDisplayable(b[h],null,a);c.length=this._displayListLen;Ba.canvasSupported&&Ec(c,Fc)},_updateAndAddDisplayable:function(a,b,c){if(!a.ignore||c){a.beforeUpdate();a.__dirty&&a.update();a.afterUpdate();var h=a.clipPath;if(h){b=b?b.slice():[];for(var d=a;h;)h.parent=d,h.updateTransform(),b.push(h),d=h,h=h.clipPath}if(a.isGroup){h=a._children;for(d=0;d<h.length;d++){var e=h[d];a.__dirty&&(e.__dirty=!0);this._updateAndAddDisplayable(e,
b,c)}a.__dirty=!1}else a.__clipPaths=b,this._displayList[this._displayListLen++]=a}},addRoot:function(a){a.__storage!==this&&(a instanceof xa&&a.addChildrenToStorage(this),this.addToStorage(a),this._roots.push(a))},delRoot:function(a){if(null==a){for(b=0;b<this._roots.length;b++)a=this._roots[b],a instanceof xa&&a.delChildrenFromStorage(this);return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(a instanceof Array)for(var b=0,c=a.length;b<c;b++)this.delRoot(a[b]);else b=B(this._roots,
a),0<=b&&(this.delFromStorage(a),this._roots.splice(b,1),a instanceof xa&&a.delChildrenFromStorage(this))},addToStorage:function(a){return a&&(a.__storage=this,a.dirty(!1)),this},delFromStorage:function(a){return a&&(a.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Fc};var Yl={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},Kh=[["shadowBlur",
0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],ne=function(a,b){this.extendFrom(a,!1);this.host=b};ne.prototype={constructor:ne,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,
textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,
truncate:null,blend:null,bind:function(a,b,c){c=c&&c.style;for(var h=!c,d=0;d<Kh.length;d++){var e=Kh[d],n=e[0];if(h||this[n]!==c[n]){var f=n,w=a;e=this[n]||e[1];n=Yl.hasOwnProperty(n)?e*w.dpr:e;a[f]=n}}if((h||this.fill!==c.fill)&&(a.fillStyle=this.fill),(h||this.stroke!==c.stroke)&&(a.strokeStyle=this.stroke),(h||this.opacity!==c.opacity)&&(a.globalAlpha=null==this.opacity?1:this.opacity),(h||this.blend!==c.blend)&&(a.globalCompositeOperation=this.blend||"source-over"),this.hasStroke())a.lineWidth=
this.lineWidth/(this.strokeNoScale&&b&&b.getLineScale?b.getLineScale():1)},hasFill:function(){var a=this.fill;return null!=a&&"none"!==a},hasStroke:function(){var a=this.stroke;return null!=a&&"none"!==a&&0<this.lineWidth},extendFrom:function(a,b){if(a)for(var c in a)!a.hasOwnProperty(c)||!0!==b&&(!1===b?this.hasOwnProperty(c):null==a[c])||(this[c]=a[c])},set:function(a,b){"string"==typeof a?this[a]=b:this.extendFrom(a,!0)},clone:function(){var a=new this.constructor;return a.extendFrom(this,!0),
a},getGradient:function(a,b,c){a=("radial"===b.type?Gc:zd)(a,b,c);b=b.colorStops;for(c=0;c<b.length;c++)a.addColorStop(b[c].offset,b[c].color);return a}};for(var lk=ne.prototype,mk=0;mk<Kh.length;mk++){var nk=Kh[mk];nk[0]in lk||(lk[nk[0]]=nk[1])}ne.getGradient=lk.getGradient;var ok=function(a,b){this.image=a;this.repeat=b;this.type="pattern"};ok.prototype.getCanvasPattern=function(a){return a.createPattern(this.image,this.repeat||"repeat")};var og=function(a,b,c){var h;c=c||Hh;"string"==typeof a?
h=Qb(a,b,c):M(a)&&(a=(h=a).id);this.id=a;this.dom=h;(a=h.style)&&(h.onselectstart=tc,a["-webkit-user-select"]="none",a["user-select"]="none",a["-webkit-touch-callout"]="none",a["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",a.padding=0,a.margin=0,a["border-width"]=0);this.ctxBack=this.domBack=null;this.painter=b;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=c};og.prototype={constructor:og,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,
getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var a=this.dpr;this.domBack=Qb("back-"+this.id,this.painter,a);this.ctxBack=this.domBack.getContext("2d");1!=a&&this.ctxBack.scale(a,a)},resize:function(a,b){var c=this.dpr,h=this.dom,d=h.style,e=this.domBack;d&&(d.width=a+"px",d.height=b+"px");h.width=a*c;h.height=b*c;e&&(e.width=a*c,e.height=b*c,1!=c&&this.ctxBack.scale(c,
c))},clear:function(a,b){var c=this.dom,h=this.ctx,d=c.width,e=c.height;b=b||this.clearColor;var n=this.motionBlur&&!a;a=this.lastFrameAlpha;var f=this.dpr;if(n&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(c,0,0,d/f,e/f)),h.clearRect(0,0,d,e),b&&"transparent"!==b){var g;b.colorStops?(g=b.__canvasGradient||ne.getGradient(h,b,{x:0,y:0,width:d,height:e}),b.__canvasGradient=g):b.image&&(g=ok.prototype.getCanvasPattern.call(b,h));h.save();
h.fillStyle=g||b;h.fillRect(0,0,d,e);h.restore()}n&&(b=this.domBack,h.save(),h.globalAlpha=a,h.drawImage(b,0,0,d,e),h.restore())}};var pk="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(a){setTimeout(a,16)},Bi=new gk(50),Jg={},Ci=0,Tq=5E3,Di=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Mf="12px sans-serif",
Xl={measureText:function(a,b){var c=z();return c.font=b||Mf,c.measureText(a)}},Uq={left:1,right:1,center:1},Vq={top:1,bottom:1,middle:1},qk=new Fa,Lh=function(){};Lh.prototype={constructor:Lh,drawRectText:function(a,b){var c=this.style;b=c.textRect||b;this.__dirty&&Ic(c);var h=c.text;if(null!=h&&(h+=""),null!=h&&(h||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)){a.save();var d=this.transform;c.transformText?this.setTransform(a):d&&(qk.copy(b),qk.applyTransform(d),b=qk);
c.rich?uc(this,a,h,c,b):Yd(this,a,h,c,b);a.restore()}}};Qa.prototype={constructor:Qa,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(a){},afterBrush:function(a){},brush:function(a,b){},getBoundingRect:function(){},contain:function(a,b){return this.rectContain(a,b)},traverse:function(a,b){a.call(b,this)},rectContain:function(a,b){a=this.transformCoordToLocal(a,
b);return this.getBoundingRect().contain(a[0],a[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(a){return this.animate("style",a)},attrKV:function(a,b){"style"!==a?ld.prototype.attrKV.call(this,a,b):this.style.set(b)},setStyle:function(a,b){return this.style.set(a,b),this.dirty(!1),this},useStyle:function(a){return this.style=new ne(a,this),this.dirty(!1),this}};u(Qa,ld);C(Qa,Lh);Ya.prototype={constructor:Ya,type:"image",brush:function(a,
b){var c=this.style,h=c.image;c.bind(a,this,b);if((b=this._image=Lb(h,this._image,this,this.onload))&&fb(b)){h=c.x||0;var d=c.y||0,e=c.width,n=c.height,f=b.width/b.height;if(null==e&&null!=n?e=n*f:null==n&&null!=e?n=e/f:null==e&&null==n&&(e=b.width,n=b.height),this.setTransform(a),c.sWidth&&c.sHeight){f=c.sx||0;var g=c.sy||0;a.drawImage(b,f,g,c.sWidth,c.sHeight,h,d,e,n)}else if(c.sx&&c.sy){var l=e-(f=c.sx),m=n-(g=c.sy);a.drawImage(b,f,g,l,m,h,d,e,n)}else a.drawImage(b,h,d,e,n);null!=c.text&&(this.restoreTransform(a),
this.drawRectText(a,this.getBoundingRect()))}},getBoundingRect:function(){var a=this.style;return this._rect||(this._rect=new Fa(a.x||0,a.y||0,a.width||0,a.height||0)),this._rect}};u(Ya,Qa);var rk=new Fa(0,0,0,0),sk=new Fa(0,0,0,0),tk=function(a,b,c){this.type="canvas";var h=!a.nodeName||"CANVAS"===a.nodeName.toUpperCase();this._opts=c=f({},c||{});this.dpr=c.devicePixelRatio||Hh;this._singleCanvas=h;this.root=a;var d=a.style;d&&(d["-webkit-tap-highlight-color"]="transparent",d["-webkit-user-select"]=
d["user-select"]=d["-webkit-touch-callout"]="none",a.innerHTML="");this.storage=b;b=this._zlevelList=[];d=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,h){h=a.width;var e=a.height;null!=c.width&&(h=c.width);null!=c.height&&(e=c.height);this.dpr=c.devicePixelRatio||1;a.width=h*this.dpr;a.height=e*this.dpr;this._width=h;this._height=e;c=new og(a,this,this.dpr);c.__builtin__=!0;c.initContext();d[314159]=c;c.zlevel=314159;b.push(314159);this._domRoot=a}else this._width=this._getSize(0),
this._height=this._getSize(1),c=this._width,b=this._height,d=document.createElement("div"),c=this._domRoot=(d.style.cssText=["position:relative;overflow:hidden","width:"+c+"px","height:"+b+"px","padding:0;margin:0;border-width:0"].join(";")+";",d),a.appendChild(c);this._hoverlayer=null;this._hoverElements=[]};tk.prototype={constructor:tk,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var a=
this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(a){var b=this.storage.getDisplayList(!0),c=this._zlevelList;this._redrawId=Math.random();this._paintList(b,a,this._redrawId);for(a=0;a<c.length;a++)b=this._layers[c[a]],!b.__builtin__&&b.refresh&&b.refresh(0===a?this._backgroundColor:null);return this.refreshHover(),this},addHover:function(a,b){if(!a.__hoverMir){var c=new a.constructor({style:a.style,shape:a.shape});c.__from=a;a.__hoverMir=c;
c.setStyle(b);this._hoverElements.push(c)}},removeHover:function(a){var b=this._hoverElements,c=B(b,a.__hoverMir);0<=c&&b.splice(c,1);a.__hoverMir=null},clearHover:function(a){a=this._hoverElements;for(var b=0;b<a.length;b++){var c=a[b].__from;c&&(c.__hoverMir=null)}a.length=0},refreshHover:function(){var a=this._hoverElements,b=a.length,c=this._hoverlayer;if(c&&c.clear(),b){Ec(a,this.storage.displayableSortFunc);c||(c=this._hoverlayer=this.getLayer(1E5));var d={};c.ctx.save();for(var e=0;e<b;){var f=
a[e],g=f.__from;g&&g.__zr?(e++,g.invisible||(f.transform=g.transform,f.invTransform=g.invTransform,f.__clipPaths=g.__clipPaths,this._doPaintEl(f,c,!0,d))):(a.splice(e,1),g.__hoverMir=null,b--)}c.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1E5)},_paintList:function(a,b,c){if(this._redrawId===c){b=b||!1;this._updateLayerStatus(a);var h=this._doPaintList(a,b);if(this._needsManuallyCompositing&&this._compositeManually(),!h){var d=this;pk(function(){d._paintList(a,b,c)})}}},_compositeManually:function(){var a=
this.getLayer(314159).ctx,b=this._domRoot.width,c=this._domRoot.height;a.clearRect(0,0,b,c);this.eachBuiltinLayer(function(h){h.virtual&&a.drawImage(h.dom,0,0,b,c)})},_doPaintList:function(a,b){for(var c=[],h=0;h<this._zlevelList.length;h++)(e=this._layers[this._zlevelList[h]]).__builtin__&&e!==this._hoverlayer&&(e.__dirty||b)&&c.push(e);h=!0;for(var d=0;d<c.length;d++){var e=c[d],n=e.ctx,f={};n.save();var g=b?e.__startIndex:e.__drawIndex,l=!b&&e.incremental&&Date.now,m=l&&Date.now(),q=e.zlevel===
this._zlevelList[0]?this._backgroundColor:null;if(e.__startIndex===e.__endIndex)e.clear(!1,q);else if(g===e.__startIndex){var r=a[g];r.incremental&&r.notClear&&!b||e.clear(!1,q)}for(-1===g&&(console.error("For some unknown reason. drawIndex is -1"),g=e.__startIndex);g<e.__endIndex&&!(q=a[g],this._doPaintEl(q,e,b,f),q.__dirty=!1,l&&15<Date.now()-m);g++);e.__drawIndex=g;e.__drawIndex<e.__endIndex&&(h=!1);f.prevElClipPaths&&n.restore();n.restore()}return Ba.wxa&&v(this._layers,function(a){a&&a.ctx&&
a.ctx.draw&&a.ctx.draw()}),h},_doPaintEl:function(a,b,c,d){var h=b.ctx,e=a.transform;(c=(b.__dirty||c)&&!a.invisible&&0!==a.style.opacity&&(!e||e[0]||e[3]))&&!(c=!a.culling)&&(c=this._width,e=this._height,c=!(rk.copy(a.getBoundingRect()),a.transform&&rk.applyTransform(a.transform),sk.width=c,sk.height=e,!rk.intersect(sk)));if(c){c=a.__clipPaths;if(e=d.prevElClipPaths){a:if(e=d.prevElClipPaths,c==e)e=!1;else if(c&&e&&c.length===e.length){for(var n=0;n<c.length;n++)if(c[n]!==e[n]){e=!0;break a}e=void 0}else e=
!0;e=!e}if(!e&&(d.prevElClipPaths&&(b.ctx.restore(),d.prevElClipPaths=null,d.prevEl=null),c)){h.save();for(b=0;b<c.length;b++)e=c[b],e.setTransform(h),h.beginPath(),e.buildPath(h,e.shape),h.clip(),e.restoreTransform(h);d.prevElClipPaths=c}a.beforeBrush&&a.beforeBrush(h);a.brush(h,d.prevEl||null);d.prevEl=a;a.afterBrush&&a.afterBrush(h)}},getLayer:function(a,b){this._singleCanvas&&!this._needsManuallyCompositing&&(a=314159);var c=this._layers[a];return c||((c=new og("zr_"+a,this,this.dpr)).zlevel=
a,c.__builtin__=!0,this._layerConfig[a]&&m(c,this._layerConfig[a],!0),b&&(c.virtual=b),this.insertLayer(a,c),c.initContext()),c},insertLayer:function(a,b){var c=this._layers,h=this._zlevelList,d=h.length,e=null,n=-1,f=this._domRoot;if(!c[a]&&b&&(b.__builtin__||"function"==typeof b.resize&&"function"==typeof b.refresh)){if(0<d&&a>h[0]){for(n=0;n<d-1&&!(h[n]<a&&h[n+1]>a);n++);e=c[h[n]]}(h.splice(n+1,0,a),c[a]=b,b.virtual)||(e?(a=e.dom,a.nextSibling?f.insertBefore(b.dom,a.nextSibling):f.appendChild(b.dom)):
f.firstChild?f.insertBefore(b.dom,f.firstChild):f.appendChild(b.dom))}},eachLayer:function(a,b){var c,h=this._zlevelList;for(c=0;c<h.length;c++){var d=h[c];a.call(b,this._layers[d],d)}},eachBuiltinLayer:function(a,b){var c,h,d=this._zlevelList;for(h=0;h<d.length;h++){var e=d[h];(c=this._layers[e]).__builtin__&&a.call(b,c,e)}},eachOtherLayer:function(a,b){var c,h,d=this._zlevelList;for(h=0;h<d.length;h++){var e=d[h];(c=this._layers[e]).__builtin__||a.call(b,c,e)}},getLayers:function(){return this._layers},
_updateLayerStatus:function(a){function b(a){c&&(c.__endIndex!==a&&(c.__dirty=!0),c.__endIndex=a)}if(this.eachBuiltinLayer(function(a,b){a.__dirty=a.__used=!1}),this._singleCanvas)for(d=1;d<a.length;d++)if((f=a[d]).zlevel!==a[d-1].zlevel||f.incremental){this._needsManuallyCompositing=!0;break}for(var c=null,h=0,d=0;d<a.length;d++){var e,f=a[d],g=f.zlevel;f.incremental?((e=this.getLayer(g+.001,this._needsManuallyCompositing)).incremental=!0,h=1):e=this.getLayer(g+(0<h?.01:0),this._needsManuallyCompositing);
e!==c&&(e.__used=!0,e.__startIndex!==d&&(e.__dirty=!0),e.__startIndex=d,e.incremental?e.__drawIndex=-1:e.__drawIndex=d,b(d),c=e);f.__dirty&&(e.__dirty=!0,e.incremental&&0>e.__drawIndex&&(e.__drawIndex=d))}b(d);this.eachBuiltinLayer(function(a,b){!a.__used&&0<a.getElementCount()&&(a.__dirty=!0,a.__startIndex=a.__endIndex=a.__drawIndex=0);a.__dirty&&0>a.__drawIndex&&(a.__drawIndex=a.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(a){a.clear()},
setBackgroundColor:function(a){this._backgroundColor=a},configLayer:function(a,b){if(b){var c=this._layerConfig;c[a]?m(c[a],b,!0):c[a]=b;for(b=0;b<this._zlevelList.length;b++){var h=this._zlevelList[b];h!==a&&h!==a+.01||m(this._layers[h],c[a],!0)}}},delLayer:function(a){var b=this._layers,c=this._zlevelList,h=b[a];h&&(h.dom.parentNode.removeChild(h.dom),delete b[a],c.splice(B(c,a),1))},resize:function(a,b){if(this._domRoot.style){var c=this._domRoot;c.style.display="none";var h=this._opts;if(null!=
a&&(h.width=a),null!=b&&(h.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!=a||b!=this._height){c.style.width=a+"px";c.style.height=b+"px";for(var d in this._layers)this._layers.hasOwnProperty(d)&&this._layers[d].resize(a,b);v(this._progressiveLayers,function(c){c.resize(a,b)});this.refresh(!0)}this._width=a;this._height=b}else{if(null==a||null==b)return;this._width=a;this._height=b;this.getLayer(314159).resize(a,b)}return this},clearLayer:function(a){(a=this._layers[a])&&
a.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(a){if(a=a||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var b=new og("image",this,a.pixelRatio||this.dpr);if(b.initContext(),b.clear(!1,a.backgroundColor||this._backgroundColor),a.pixelRatio<=this.dpr){this.refresh();var c=b.dom.width,h=b.dom.height,d=b.ctx;this.eachLayer(function(a){a.__builtin__?d.drawImage(a.dom,0,0,c,h):a.renderToCanvas&&
(b.ctx.save(),a.renderToCanvas(b.ctx),b.ctx.restore())})}else{a={};for(var e=this.storage.getDisplayList(!0),f=0;f<e.length;f++)this._doPaintEl(e[f],b,!0,a)}return b.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],h=["clientWidth","clientHeight"][a],d=["paddingLeft","paddingTop"][a];a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);b=this.root;var e=document.defaultView.getComputedStyle(b);
return(b[h]||parseInt(e[c],10)||parseInt(b.style[c],10))-(parseInt(e[d],10)||0)-(parseInt(e[a],10)||0)|0},pathToImage:function(a,b){b=b||this.dpr;var c=document.createElement("canvas"),h=c.getContext("2d"),d=a.getBoundingRect(),e=a.style,n=e.shadowBlur*b,f=e.shadowOffsetX*b,g=e.shadowOffsetY*b,l=e.hasStroke()?e.lineWidth:0;e=Math.max(l/2,-f+n);var m=Math.max(l/2,-g+n);f=d.width+e+Math.max(l/2,f+n);n=d.height+m+Math.max(l/2,g+n);c.width=f*b;c.height=n*b;h.scale(b,b);h.clearRect(0,0,f,n);h.dpr=b;b=
a.position;n=a.rotation;g=a.scale;a.position=[e-d.x,m-d.y];a.rotation=0;a.scale=[1,1];a.updateTransform();a&&a.brush(h);c=new Ya({style:{x:0,y:0,image:c}});return null!=b&&(c.position=a.position=b),null!=n&&(c.rotation=a.rotation=n),null!=g&&(c.scale=a.scale=g),c}};var Ei="undefined"!=typeof window&&!!window.addEventListener,Wq=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=Ei?function(a){a.preventDefault();a.stopPropagation();a.cancelBubble=!0}:function(a){a.returnValue=!1;a.cancelBubble=!0},
Mh=function(a){a=a||{};this.stage=a.stage||{};this.onframe=a.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;this._$handlers={}};Mh.prototype={constructor:Mh,addClip:function(a){this._clips.push(a)},addAnimator:function(a){a.animation=this;a=a.getClips();for(var b=0;b<a.length;b++)this.addClip(a[b])},removeClip:function(a){a=B(this._clips,a);0<=a&&this._clips.splice(a,1)},removeAnimator:function(a){for(var b=a.getClips(),c=0;c<b.length;c++)this.removeClip(b[c]);
a.animation=null},_update:function(){for(var a=(new Date).getTime()-this._pausedTime,b=a-this._time,c=this._clips,d=c.length,e=[],f=[],g=0;g<d;g++){var l=c[g],m=l.step(a,b);m&&(e.push(m),f.push(l))}for(g=0;g<d;)c[g]._needsRemove?(c[g]=c[d-1],c.pop(),d--):g++;d=e.length;for(g=0;g<d;g++)f[g].fire(e[g]);this._time=a;this.onframe(b);this.trigger("frame",b);this.stage.update&&this.stage.update()},_startLoop:function(){function a(){b._running&&(pk(a),!b._paused&&b._update())}var b=this;this._running=!0;
pk(a)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(a,b){a=new ik(a,(b=b||{}).loop,b.getter,b.setter);return this.addAnimator(a),a}};
C(Mh,xc);var Gi=function(){this._track=[]};Gi.prototype={constructor:Gi,recognize:function(a,b,c){return this._doTrack(a,b,c),this._recognize(a)},clear:function(){return this._track.length=0,this},_doTrack:function(a,b,c){var h=a.touches;if(h){a={points:[],touches:[],target:b,event:a};b=0;for(var d=h.length;b<d;b++){var e=h[b],n=Jc(c,e,{});a.points.push([n.zrX,n.zrY]);a.touches.push(e)}this._track.push(a)}},_recognize:function(a){for(var b in uk)if(uk.hasOwnProperty(b)){var c=uk[b](this._track,a);
if(c)return c}}};var uk={pinch:function(a,b){var c=a.length;if(c){var h=(a[c-1]||{}).points;if((c=(a[c-2]||{}).points||h)&&1<c.length&&h&&1<h.length)return c=Dd(h)/Dd(c),!isFinite(c)&&(c=1),b.pinchScale=c,h=[(h[0][0]+h[1][0])/2,(h[0][1]+h[1][1])/2],b.pinchX=h[0],b.pinchY=h[1],{type:"pinch",target:a[0].target,event:b}}}},Kg="click dblclick mousewheel mouseout mouseup mousedown mousemove contextmenu".split(" "),Fi=["touchstart","touchend","touchmove"],uu={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},
Zl=b(Kg,function(a){var b=a.replace("mouse","pointer");return uu[b]?b:a}),jc={mousemove:function(a){a=Nb(this.dom,a);this.trigger("mousemove",a)},mouseout:function(a){var b=(a=Nb(this.dom,a)).toElement||a.relatedTarget;if(b!=this.dom)for(;b&&9!=b.nodeType;){if(b===this.dom)return;b=b.parentNode}this.trigger("mouseout",a)},touchstart:function(a){(a=Nb(this.dom,a)).zrByTouch=!0;this._lastTouchMoment=new Date;aa(this,a,"start");jc.mousemove.call(this,a);jc.mousedown.call(this,a);Ib(this)},touchmove:function(a){(a=
Nb(this.dom,a)).zrByTouch=!0;aa(this,a,"change");jc.mousemove.call(this,a);Ib(this)},touchend:function(a){(a=Nb(this.dom,a)).zrByTouch=!0;aa(this,a,"end");jc.mouseup.call(this,a);300>+new Date-this._lastTouchMoment&&jc.click.call(this,a);Ib(this)},pointerdown:function(a){jc.mousedown.call(this,a)},pointermove:function(a){Xb(a)||jc.mousemove.call(this,a)},pointerup:function(a){jc.mouseup.call(this,a)},pointerout:function(a){Xb(a)||jc.mouseout.call(this,a)}};v("click mousedown mouseup mousewheel dblclick contextmenu".split(" "),
function(a){jc[a]=function(b){b=Nb(this.dom,b);this.trigger(a,b)}});var Bp=pc.prototype;Bp.dispose=function(){for(var a=Kg.concat(Fi),b=0;b<a.length;b++){var c=a[b],d=this.dom,e=ha(c);c=this._handlers[c];Ei?d.removeEventListener(e,c):d.detachEvent("on"+e,c)}};Bp.setCursor=function(a){this.dom.style&&(this.dom.style.cursor=a||"default")};C(pc,xc);var vu=!Ba.canvasSupported,qf={canvas:tk},oe={},Hi=function(a,b,c){c=c||{};this.dom=b;this.id=a;var h=this,d=new kk,e=c.renderer;if(vu){if(!qf.vml)throw Error("You need to require 'zrender/vml/vml' to support IE8");
e="vml"}else e&&qf[e]||(e="canvas");a=new qf[e](b,d,c,a);this.storage=d;this.painter=a;b=Ba.node||Ba.worker?null:new pc(a.getViewportRoot());this.handler=new pf(d,a,b,a.root);this.animation=new Mh({stage:{update:r(this.flush,this)}});this.animation.start();this._needsRefresh;var n=d.delFromStorage,f=d.addToStorage;d.delFromStorage=function(a){n.call(d,a);a&&a.removeSelfFromZr(h)};d.addToStorage=function(a){f.call(d,a);a.addSelfToZr(h)}};Hi.prototype={constructor:Hi,getId:function(){return this.id},
add:function(a){this.storage.addRoot(a);this._needsRefresh=!0},remove:function(a){this.storage.delRoot(a);this._needsRefresh=!0},configLayer:function(a,b){this.painter.configLayer&&this.painter.configLayer(a,b);this._needsRefresh=!0},setBackgroundColor:function(a){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(a);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var a;
this._needsRefresh&&(a=!0,this.refreshImmediately());this._needsRefreshHover&&(a=!0,this.refreshHoverImmediately());a&&this.trigger("rendered")},addHover:function(a,b){this.painter.addHover&&(this.painter.addHover(a,b),this.refreshHover())},removeHover:function(a){this.painter.removeHover&&(this.painter.removeHover(a),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=
!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(a){a=a||{};this.painter.resize(a.width,a.height);this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(a,b){return this.painter.pathToImage(a,b)},setCursorStyle:function(a){this.handler.setCursorStyle(a)},findHover:function(a,b){return this.handler.findHover(a,b)},on:function(a,b,
c){this.handler.on(a,b,c)},off:function(a,b){this.handler.off(a,b)},trigger:function(a,b){this.handler.trigger(a,b)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;delete oe[this.id]}};var wu=(Object.freeze||Object)({version:"4.0.4",init:ac,dispose:function(a){if(a)a.dispose();else{for(var b in oe)oe.hasOwnProperty(b)&&
oe[b].dispose();oe={}}return this},getInstance:function(a){return oe[a]},registerPainter:function(a,b){qf[a]=b}}),Xe=v,We=M,Xq=H,am="series\x00",tm="fontStyle fontWeight fontSize fontFamily rich tag color textBorderColor textBorderWidth width height lineHeight align verticalAlign baseline shadowColor shadowBlur shadowOffsetX shadowOffsetY textShadowColor textShadowBlur textShadowOffsetX textShadowOffsetY backgroundColor borderColor borderWidth borderRadius padding".split(" "),Yq=0,Zq=".",pe="___EC__COMPONENT__CONTAINER___",
$q=0,Nh=function(a){for(var b=0;b<a.length;b++)a[b][1]||(a[b][1]=a[b][0]);return function(b,c,h){for(var d={},e=0;e<a.length;e++){var n=a[e][1];c&&0<=B(c,n)||h&&0>B(h,n)||(n=b.getShallow(n),null!=n&&(d[a[e][0]]=n))}return d}},xu=Nh([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),yu=Nh([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Lg=Math.pow,Ed=Math.sqrt,Ye=1E-8,cm=1E-4,
dm=Ed(3),Mg=1/3,Mc=oa(),rc=oa(),Ze=oa(),ub=Math.min,zb=Math.max,vk=Math.sin,wk=Math.cos,Ee=2*Math.PI,Oh=oa(),Ph=oa(),Qh=oa(),Cp=[],Dp=[],kb={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Sc=[],Qd=[],Tc=[],Uc=[],Ep=Math.min,Fp=Math.max,pg=Math.cos,qg=Math.sin,Rh=Math.sqrt,rf=Math.abs,xk="undefined"!=typeof Float32Array,bc=function(a){(this._saveData=!a)&&(this.data=[]);this._ctx=null};bc.prototype={constructor:bc,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(a,
b){this._ux=rf(1/Hh/a)||0;this._uy=rf(1/Hh/b)||0},getContext:function(){return this._ctx},beginPath:function(a){return this._ctx=a,a&&a.beginPath(),a&&(this.dpr=a.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(a,b){return this.addData(kb.M,a,b),this._ctx&&this._ctx.moveTo(a,b),this._x0=a,this._y0=b,this._xi=a,this._yi=b,this},lineTo:function(a,b){var c=rf(a-this._xi)>this._ux||rf(b-this._yi)>this._uy||5>this._len;return this.addData(kb.L,
a,b),this._ctx&&c&&(this._needsDash()?this._dashedLineTo(a,b):this._ctx.lineTo(a,b)),c&&(this._xi=a,this._yi=b),this},bezierCurveTo:function(a,b,c,d,e,f){return this.addData(kb.C,a,b,c,d,e,f),this._ctx&&(this._needsDash()?this._dashedBezierTo(a,b,c,d,e,f):this._ctx.bezierCurveTo(a,b,c,d,e,f)),this._xi=e,this._yi=f,this},quadraticCurveTo:function(a,b,c,d){return this.addData(kb.Q,a,b,c,d),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(a,b,c,d):this._ctx.quadraticCurveTo(a,b,c,d)),this._xi=c,
this._yi=d,this},arc:function(a,b,c,d,e,f){return this.addData(kb.A,a,b,c,c,d,e-d,0,f?0:1),this._ctx&&this._ctx.arc(a,b,c,d,e,f),this._xi=pg(e)*c+a,this._yi=qg(e)*c+a,this},arcTo:function(a,b,c,d,e){return this._ctx&&this._ctx.arcTo(a,b,c,d,e),this},rect:function(a,b,c,d){return this._ctx&&this._ctx.rect(a,b,c,d),this.addData(kb.R,a,b,c,d),this},closePath:function(){this.addData(kb.Z);var a=this._ctx,b=this._x0,c=this._y0;return a&&(this._needsDash()&&this._dashedLineTo(b,c),a.closePath()),this._xi=
b,this._yi=c,this},fill:function(a){a&&a.fill();this.toStatic()},stroke:function(a){a&&a.stroke();this.toStatic()},setLineDash:function(a){if(a instanceof Array){this._lineDash=a;for(var b=this._dashIdx=0,c=0;c<a.length;c++)b+=a[c];this._dashSum=b}return this},setLineDashOffset:function(a){return this._dashOffset=a,this},len:function(){return this._len},setData:function(a){var b=a.length;this.data&&this.data.length==b||!xk||(this.data=new Float32Array(b));for(var c=0;c<b;c++)this.data[c]=a[c];this._len=
b},appendPath:function(a){a instanceof Array||(a=[a]);for(var b=a.length,c=0,h=this._len,d=0;d<b;d++)c+=a[d].len();xk&&this.data instanceof Float32Array&&(this.data=new Float32Array(h+c));for(d=0;d<b;d++){c=a[d].data;for(var e=0;e<c.length;e++)this.data[h++]=c[e]}this._len=h},addData:function(a){if(this._saveData){var b=this.data;this._len+arguments.length>b.length&&(this._expandData(),b=this.data);for(var c=0;c<arguments.length;c++)b[this._len++]=arguments[c];this._prevCmd=a}},_expandData:function(){if(!(this.data instanceof
Array)){for(var a=[],b=0;b<this._len;b++)a[b]=this.data[b];this.data=a}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(a,b){var c=this._dashSum;var h=this._dashOffset;var d=this._lineDash,e=this._ctx,n=this._xi,f=this._yi,g=a-n,l=b-f;var m=Rh(g*g+l*l);var q,r=d.length;g/=m;l/=m;0>h&&(h=c+h);c=n-(h%=c)*g;for(q=f-h*l;0<g&&c<=a||0>g&&c>=a||0==g&&(0<l&&q<=b||0>l&&q>=b);)c+=g*(h=d[m=this._dashIdx]),q+=l*h,this._dashIdx=(m+1)%r,0<g&&c<n||0>g&&c>n||0<l&&q<f||0>l&&q>f||e[m%2?"moveTo":
"lineTo"](0<=g?Ep(c,a):Fp(c,a),0<=l?Ep(q,b):Fp(q,b));g=c-a;l=q-b;this._dashOffset=-Rh(g*g+l*l)},_dashedBezierTo:function(a,b,c,d,e,f){var h=this._dashSum;var n=this._dashOffset,g=this._lineDash,w=this._ctx,l=this._xi,F=this._yi,m=0,K=this._dashIdx,q=g.length,da=0;0>n&&(n=h+n);n%=h;for(h=0;1>h;h+=.1){var r=L(l,a,c,e,h+.1)-L(l,a,c,e,h);var t=L(F,b,d,f,h+.1)-L(F,b,d,f,h);m+=Rh(r*r+t*t)}for(;K<q&&!((da+=g[K])>n);K++);for(h=(da-n)/m;1>=h;){var u=L(l,a,c,e,h);var z=L(F,b,d,f,h);K%2?w.moveTo(u,z):w.lineTo(u,
z);h+=g[K]/m;K=(K+1)%q}0!=K%2&&w.lineTo(e,f);r=e-u;t=f-z;this._dashOffset=-Rh(r*r+t*t)},_dashedQuadraticTo:function(a,b,c,d){var h=c,e=d;c=(c+2*a)/3;d=(d+2*b)/3;a=(this._xi+2*a)/3;b=(this._yi+2*b)/3;this._dashedBezierTo(a,b,c,d,h,e)},toStatic:function(){var a=this.data;a instanceof Array&&(a.length=this._len,xk&&(this.data=new Float32Array(a)))},getBoundingRect:function(){Sc[0]=Sc[1]=Tc[0]=Tc[1]=Number.MAX_VALUE;Qd[0]=Qd[1]=Uc[0]=Uc[1]=-Number.MAX_VALUE;for(var a=this.data,b=0,c=0,d=0,e=0,f=0;f<a.length;){var g=
a[f++];switch(1==f&&(d=b=a[f],e=c=a[f+1]),g){case kb.M:b=d=a[f++];c=e=a[f++];Tc[0]=d;Tc[1]=e;Uc[0]=d;Uc[1]=e;break;case kb.L:g=b;var l=a[f];b=a[f+1];var m=Tc,q=Uc;m[0]=ub(g,l);m[1]=ub(c,b);q[0]=zb(g,l);q[1]=zb(c,b);b=a[f++];c=a[f++];break;case kb.C:g=b;l=c;var r=a[f++];b=a[f++];var t=a[f++];m=a[f++];q=a[f];var u=a[f+1],z=Tc,v=Uc,A=Ac,B=L,C=A(g,r,t,q,Cp);z[0]=1/0;z[1]=1/0;v[0]=-1/0;v[1]=-1/0;for(c=0;c<C;c++){var D=B(g,r,t,q,Cp[c]);z[0]=ub(D,z[0]);v[0]=zb(D,v[0])}C=A(l,b,m,u,Dp);for(c=0;c<C;c++)r=B(l,
b,m,u,Dp[c]),z[1]=ub(r,z[1]),v[1]=zb(r,v[1]);z[0]=ub(g,z[0]);v[0]=zb(g,v[0]);z[0]=ub(q,z[0]);v[0]=zb(q,v[0]);z[1]=ub(l,z[1]);v[1]=zb(l,v[1]);z[1]=ub(u,z[1]);v[1]=zb(u,v[1]);b=a[f++];c=a[f++];break;case kb.Q:g=b;v=a[f++];u=a[f++];l=a[f];b=a[f+1];m=Tc;q=Uc;C=pi;z=oc;B=zb(ub(C(g,v,l),1),0);C=zb(ub(C(c,u,b),1),0);v=z(g,v,l,B);u=z(c,u,b,C);m[0]=ub(g,l,v);m[1]=ub(c,b,u);q[0]=zb(g,l,v);q[1]=zb(c,b,u);b=a[f++];c=a[f++];break;case kb.A:b=a[f++];g=a[f++];m=a[f++];c=a[f++];B=a[f++];l=a[f++]+B;r=(a[f++],1-a[f++]);
1==f&&(d=pg(B)*m+b,e=qg(B)*c+g);q=b;u=g;z=m;v=c;C=l;var ha=r;r=Tc;t=Uc;A=V;D=ja;var E=Math.abs(B-C);if(1E-4>E%Ee&&1E-4<E)r[0]=q-z,r[1]=u-v,t[0]=q+z,t[1]=u+v;else{if(Oh[0]=wk(B)*z+q,Oh[1]=vk(B)*v+u,Ph[0]=wk(C)*z+q,Ph[1]=vk(C)*v+u,A(r,Oh,Ph),D(t,Oh,Ph),0>(B%=Ee)&&(B+=Ee),0>(C%=Ee)&&(C+=Ee),B>C&&!ha?C+=Ee:B<C&&ha&&(B+=Ee),ha)ha=C,C=B,B=ha;for(ha=0;ha<C;ha+=Math.PI/2)ha>B&&(Qh[0]=wk(ha)*z+q,Qh[1]=vk(ha)*v+u,A(r,Qh,r),D(t,Qh,t))}b=pg(l)*m+b;c=qg(l)*c+g;break;case kb.R:g=d=b=a[f++];l=e=c=a[f++];m=d+a[f++];
q=e+a[f++];u=Tc;z=Uc;u[0]=ub(g,m);u[1]=ub(l,q);z[0]=zb(g,m);z[1]=zb(l,q);break;case kb.Z:b=d,c=e}V(Sc,Sc,Tc);ja(Qd,Qd,Uc)}return 0===f&&(Sc[0]=Sc[1]=Qd[0]=Qd[1]=0),new Fa(Sc[0],Sc[1],Qd[0]-Sc[0],Qd[1]-Sc[1])},rebuildPath:function(a){for(var b,c,d,h,e,f,g=this.data,l=this._ux,m=this._uy,q=this._len,r=0;r<q;)switch(e=g[r++],1==r&&(b=d=g[r],c=h=g[r+1]),e){case kb.M:b=d=g[r++];c=h=g[r++];a.moveTo(d,h);break;case kb.L:e=g[r++];f=g[r++];(rf(e-d)>l||rf(f-h)>m||r===q-1)&&(a.lineTo(e,f),d=e,h=f);break;case kb.C:a.bezierCurveTo(g[r++],
g[r++],g[r++],g[r++],g[r++],g[r++]);d=g[r-2];h=g[r-1];break;case kb.Q:a.quadraticCurveTo(g[r++],g[r++],g[r++],g[r++]);d=g[r-2];h=g[r-1];break;case kb.A:d=g[r++];h=g[r++];f=g[r++];e=g[r++];var t=g[r++],u=g[r++],z=g[r++],v=g[r++],B=f>e?f:e,A=f>e?1:f/e,C=f>e?e/f:1;u=t+u;.001<Math.abs(f-e)?(a.translate(d,h),a.rotate(z),a.scale(A,C),a.arc(0,0,B,t,u,1-v),a.scale(1/A,1/C),a.rotate(-z),a.translate(-d,-h)):a.arc(d,h,B,t,u,1-v);1==r&&(b=pg(t)*f+d,c=qg(t)*e+h);d=pg(u)*f+d;h=qg(u)*e+h;break;case kb.R:b=d=g[r];
c=h=g[r+1];a.rect(g[r++],g[r++],g[r++],g[r++]);break;case kb.Z:a.closePath(),d=b,h=c}}};bc.CMD=kb;var bm=2*Math.PI,Nf=2*Math.PI,Fd=bc.CMD,Of=2*Math.PI,ar=1E-4,kc=[-1,-1,-1],sc=[-1,-1],Gp=ok.prototype.getCanvasPattern,yk=Math.abs,zu=new bc(!0);Ca.prototype={constructor:Ca,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(a,b){var c=this.style,d=this.path||zu,h=c.hasStroke(),e=c.hasFill(),n=c.fill,f=c.stroke,g=e&&!!n.colorStops,l=h&&!!f.colorStops,m=e&&!!n.image,q=h&&!!f.image;if(c.bind(a,
this,b),this.setTransform(a),this.__dirty){var r;g&&(r=r||this.getBoundingRect(),this._fillGradient=c.getGradient(a,n,r));l&&(r=r||this.getBoundingRect(),this._strokeGradient=c.getGradient(a,f,r))}g?a.fillStyle=this._fillGradient:m&&(a.fillStyle=Gp.call(n,a));l?a.strokeStyle=this._strokeGradient:q&&(a.strokeStyle=Gp.call(f,a));b=c.lineDash;n=c.lineDashOffset;f=!!a.setLineDash;g=this.getGlobalScale();d.setScale(g[0],g[1]);this.__dirtyPath||b&&!f&&h?(d.beginPath(a),b&&!f&&(d.setLineDash(b),d.setLineDashOffset(n)),
this.buildPath(d,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(a.beginPath(),this.path.rebuildPath(a));e&&d.fill(a);b&&f&&(a.setLineDash(b),a.lineDashOffset=n);h&&d.stroke(a);b&&f&&a.setLineDash([]);null!=c.text&&(this.restoreTransform(a),this.drawRectText(a,this.getBoundingRect()))},buildPath:function(a,b,c){},createPathProxy:function(){this.path=new bc},getBoundingRect:function(){var a=this._rect,b=this.style,c=!a;if(c){var d=this.path;d||(d=this.path=new bc);this.__dirtyPath&&(d.beginPath(),
this.buildPath(d,this.shape,!1));a=d.getBoundingRect()}if(this._rect=a,b.hasStroke()){d=this._rectWithStroke||(this._rectWithStroke=a.clone());if(this.__dirty||c)d.copy(a),c=b.lineWidth,a=b.strokeNoScale?this.getLineScale():1,b.hasFill()||(c=Math.max(c,this.strokeContainThreshold||4)),1E-10<a&&(d.width+=c/a,d.height+=c/a,d.x-=c/a/2,d.y-=c/a/2);return d}return a},contain:function(a,b){var c=this.transformCoordToLocal(a,b),d=this.getBoundingRect(),h=this.style;if(a=c[0],b=c[1],d.contain(a,b)){c=this.path.data;
if(h.hasStroke()){d=h.lineWidth;var e=h.strokeNoScale?this.getLineScale():1;if(1E-10<e&&(h.hasFill()||(d=Math.max(d,this.strokeContainThreshold)),nl(c,d/e,!0,a,b)))return!0}if(h.hasFill())return nl(c,0,!1,a,b)}return!1},dirty:function(a){null==a&&(a=!0);a&&(this.__dirtyPath=a,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(a){return this.animate("shape",a)},attrKV:function(a,b){"shape"===a?(this.setShape(b),this.__dirtyPath=
!0,this._rect=null):Qa.prototype.attrKV.call(this,a,b)},setShape:function(a,b){var c=this.shape;if(c){if(M(a))for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);else c[a]=b;this.dirty(!0)}return this},getLineScale:function(){var a=this.transform;return a&&1E-10<yk(a[0]-1)&&1E-10<yk(a[3]-1)?Math.sqrt(yk(a[0]*a[3]-a[2]*a[1])):1}};Ca.extend=function(a){var b=function(b){Ca.call(this,b);a.style&&this.style.extendFrom(a.style,!1);var c=a.shape;if(c){var d=this.shape=this.shape||{},h;for(h in c)!d.hasOwnProperty(h)&&
c.hasOwnProperty(h)&&(d[h]=c[h])}a.init&&a.init.call(this,b)};u(b,Ca);for(var c in a)"style"!==c&&"shape"!==c&&(b.prototype[c]=a[c]);return b};u(Ca,Qa);var $e=bc.CMD,cr=[[],[],[]],fm=Math.sqrt,br=Math.atan2,Ki="mMlLvVhHzZcCqQtTsSaA".split(""),Ii=Math.sqrt,Pg=Math.sin,Og=Math.cos,Ng=Math.PI,Ji=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(a[0]*a[0]+a[1]*a[1])*Math.sqrt(b[0]*b[0]+b[1]*b[1]))},em=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(Ji(a,b))},$a=function(a){Qa.call(this,a)};
$a.prototype={constructor:$a,type:"text",brush:function(a,b){var c=this.style;this.__dirty&&Ic(c);c.fill=c.stroke=c.shadowBlur=c.shadowColor=c.shadowOffsetX=c.shadowOffsetY=null;var d=c.text;null!=d&&(d+="");c.bind(a,this,b);null!=d&&(d||c.textBackgroundColor||c.textBorderWidth&&c.textBorderColor||c.textPadding)&&(this.setTransform(a),b=d,c.rich?uc(this,a,b,c,void 0):Yd(this,a,b,c,void 0),this.restoreTransform(a))},getBoundingRect:function(){var a=this.style;if(this.__dirty&&Ic(a),!this._rect){var b=
Hb(a.text+"",a.font,a.textAlign,a.textVerticalAlign,a.textPadding,a.rich);if(b.x+=a.x||0,b.y+=a.y||0,Mb(a.textStroke,a.textStrokeWidth))a=a.textStrokeWidth,b.x-=a/2,b.y-=a/2,b.width+=a,b.height+=a;this._rect=b}return this._rect}};u($a,Qa);var Hp=Ca.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(a,b,c){c&&a.moveTo(b.cx+b.r,b.cy);a.arc(b.cx,b.cy,b.r,0,2*Math.PI,!0)}}),Rd=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],zk=function(a){return Ba.browser.ie&&
11<=Ba.browser.version?function(){var b,c=this.__clipPaths,d=this.style;if(c)for(var h=0;h<c.length;h++){var e=c[h],f=e&&e.shape;e=e&&e.type;if(f&&("sector"===e&&f.startAngle===f.endAngle||!("rect"!==e||f.width&&f.height))){for(b=0;b<Rd.length;b++)Rd[b][2]=d[Rd[b][0]],d[Rd[b][0]]=Rd[b][1];b=!0;break}}if(a.apply(this,arguments),b)for(b=0;b<Rd.length;b++)d[Rd[b][0]]=Rd[b][2]}:a},cg=Ca.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:zk(Ca.prototype.brush),
buildPath:function(a,b){var c=b.cx,d=b.cy,h=Math.max(b.r0||0,0),e=Math.max(b.r,0),n=b.startAngle,f=b.endAngle;b=b.clockwise;var g=Math.cos(n),l=Math.sin(n);a.moveTo(g*h+c,l*h+d);a.lineTo(g*e+c,l*e+d);a.arc(c,d,e,n,f,!b);a.lineTo(Math.cos(f)*h+c,Math.sin(f)*h+d);0!==h&&a.arc(c,d,h,f,n,b);a.closePath()}}),Au=Ca.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(a,b){var c=b.cx,d=b.cy,h=2*Math.PI;a.moveTo(c+b.r,d);a.arc(c,d,b.r,0,h,!1);a.moveTo(c+b.r0,d);a.arc(c,d,b.r0,0,h,!0)}}),Sh=Ca.extend({type:"polygon",
shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(a,b){El(a,b,!0)}}),ph=Ca.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(a,b){El(a,b,!1)}}),jb=Ca.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,h=b.width,e=b.height;b.r?Ue(a,b):a.rect(c,d,h,e);a.closePath()}}),sf=Ca.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},
buildPath:function(a,b){var c=b.x1,d=b.y1,h=b.x2,e=b.y2;b=b.percent;0!==b&&(a.moveTo(c,d),1>b&&(h=c*(1-b)+h*b,e=d*(1-b)+e*b),a.lineTo(h,e))},pointAt:function(a){var b=this.shape;return[b.x1*(1-a)+b.x2*a,b.y1*(1-a)+b.y2*a]}}),Ab=[],Ip=Ca.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.x1,d=b.y1,h=b.x2,e=b.y2,n=b.cpx1,f=b.cpy1,g=b.cpx2,l=b.cpy2;b=b.percent;0!==b&&(a.moveTo(c,d),null==g||null==l?(1>b&&(ml(c,
n,h,b,Ab),n=Ab[1],h=Ab[2],ml(d,f,e,b,Ab),f=Ab[1],e=Ab[2]),a.quadraticCurveTo(n,f,h,e)):(1>b&&(xf(c,n,g,h,b,Ab),n=Ab[1],g=Ab[2],h=Ab[3],xf(d,f,l,e,b,Ab),f=Ab[1],l=Ab[2],e=Ab[3]),a.bezierCurveTo(n,f,g,l,h,e)))},pointAt:function(a){return Fl(this.shape,a,!1)},tangentAt:function(a){a=Fl(this.shape,a,!0);return U(a,a)}}),Jp=Ca.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(a,b){var c=b.cx,d=b.cy,h=Math.max(b.r,0),
e=b.startAngle,n=b.endAngle;b=b.clockwise;a.moveTo(Math.cos(e)*h+c,Math.sin(e)*h+d);a.arc(c,d,h,e,n,!b)}}),Bu=Ca.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var a=this.__dirtyPath,b=this.shape.paths,c=0;c<b.length;c++)a=a||b[c].__dirtyPath;this.__dirtyPath=a;this.__dirty=this.__dirty||a},beforeBrush:function(){this._updatePathDirty();for(var a=this.shape.paths||[],b=this.getGlobalScale(),c=0;c<a.length;c++)a[c].path||a[c].createPathProxy(),a[c].path.setScale(b[0],b[1])},
buildPath:function(a,b){b=b.paths||[];for(var c=0;c<b.length;c++)b[c].buildPath(a,b[c].shape,!0)},afterBrush:function(){for(var a=this.shape.paths||[],b=0;b<a.length;b++)a[b].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Ca.prototype.getBoundingRect.call(this)}}),Sd=function(a){this.colorStops=a||[]};Sd.prototype={constructor:Sd,addColorStop:function(a,b){this.colorStops.push({offset:a,color:b})}};var dg=function(a,b,c,d,e,f){this.x=null==a?0:a;this.y=null==b?0:b;this.x2=
null==c?1:c;this.y2=null==d?0:d;this.type="linear";this.global=f||!1;this.colorStops=e||[]};dg.prototype={constructor:dg};u(dg,Sd);var Th=function(a,b,c,d,e){this.x=null==a?.5:a;this.y=null==b?.5:b;this.r=null==c?.5:c;this.type="radial";this.global=e||!1;this.colorStops=d||[]};Th.prototype={constructor:Th};u(Th,Sd);dc.prototype.incremental=!0;dc.prototype.clearDisplaybles=function(){this._displayables=[];this._temporaryDisplayables=[];this._cursor=0;this.dirty();this.notClear=!1};dc.prototype.addDisplayable=
function(a,b){b?this._temporaryDisplayables.push(a):this._displayables.push(a);this.dirty()};dc.prototype.addDisplayables=function(a,b){b=b||!1;for(var c=0;c<a.length;c++)this.addDisplayable(a[c],b)};dc.prototype.eachPendingDisplayable=function(a){for(b=this._cursor;b<this._displayables.length;b++)a&&a(this._displayables[b]);for(var b=0;b<this._temporaryDisplayables.length;b++)a&&a(this._temporaryDisplayables[b])};dc.prototype.update=function(){this.updateTransform();for(a=this._cursor;a<this._displayables.length;a++)(b=
this._displayables[a]).parent=this,b.update(),b.parent=null;for(var a=0;a<this._temporaryDisplayables.length;a++){var b=this._temporaryDisplayables[a];b.parent=this;b.update();b.parent=null}};dc.prototype.brush=function(a,b){for(b=this._cursor;b<this._displayables.length;b++)(c=this._displayables[b]).beforeBrush&&c.beforeBrush(a),c.brush(a,b===this._cursor?null:this._displayables[b-1]),c.afterBrush&&c.afterBrush(a);this._cursor=b;for(b=0;b<this._temporaryDisplayables.length;b++){var c=this._temporaryDisplayables[b];
c.beforeBrush&&c.beforeBrush(a);c.brush(a,0===b?null:this._temporaryDisplayables[b-1]);c.afterBrush&&c.afterBrush(a)}this._temporaryDisplayables=[];this.notClear=!0};var Cu=[];dc.prototype.getBoundingRect=function(){if(!this._rect){for(var a=new Fa(1/0,1/0,-1/0,-1/0),b=0;b<this._displayables.length;b++){var c=this._displayables[b],d=c.getBoundingRect().clone();c.needLocalTransform()&&d.applyTransform(c.getLocalTransform(Cu));a.union(d)}this._rect=a}return this._rect};dc.prototype.contain=function(a,
b){var c=this.transformCoordToLocal(a,b);if(this.getBoundingRect().contain(c[0],c[1]))for(c=0;c<this._displayables.length;c++)if(this._displayables[c].contain(a,b))return!0;return!1};u(dc,Qa);var af=Math.round,Rg=Math.max,Sg=Math.min,Qg={},gg=(Object.freeze||Object)({extendShape:vd,extendPath:function(a,b){return Ca.extend(pl(a,b))},makePath:vi,makeImage:Bf,mergePath:function(a,b){for(var c=[],d=a.length,h=0;h<d;h++){var e=a[h];e.path||e.createPathProxy();e.__dirtyPath&&e.buildPath(e.path,e.shape,
!0);c.push(e.path)}a=new Ca(b);return a.createPathProxy(),a.buildPath=function(a){a.appendPath(c);var b=a.getContext();b&&a.rebuildPath(b)},a},resizePath:Hl,subPixelOptimizeLine:zf,subPixelOptimizeRect:xi,subPixelOptimize:ae,setHoverStyle:wd,setLabelStyle:Cf,setTextStyle:ad,setText:function(a,b,c){var d,h={isRectText:!0};!1===c?d=!0:h.autoColor=c;Cg(a,b,h,d);a.host&&a.host.dirty&&a.host.dirty(!1)},getFont:Dl,updateProps:nb,initProps:ce,getTransform:Dg,applyTransform:Df,transformDirection:yi,groupTransition:xl,
clipPointsByRect:Nl,clipRectByRect:function(a,b){var c=Rg(a.x,b.x),d=Sg(a.x+a.width,b.x+b.width),h=Rg(a.y,b.y);a=Sg(a.y+a.height,b.y+b.height);if(d>=c&&a>=h)return{x:c,y:h,width:d-c,height:a-h}},createIcon:Ef,Group:xa,Image:Ya,Text:$a,Circle:Hp,Sector:cg,Ring:Au,Polygon:Sh,Polyline:ph,Rect:jb,Line:sf,BezierCurve:Ip,Arc:Jp,IncrementalDisplayable:dc,CompoundPath:Bu,LinearGradient:dg,RadialGradient:Th,BoundingRect:Fa}),Du=["textStyle","color"],Eu=Nh([["fill","color"],["stroke","borderColor"],["lineWidth",
"borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),gm=ic();Ta.prototype={constructor:Ta,init:null,mergeOption:function(a){m(this.option,a,!0)},get:function(a,b){return null==a?this.option:Ol(this.option,this.parsePath(a),!b&&ti(this,a))},getShallow:function(a,b){var c=this.option;c=null==c?c:c[a];b=!b&&ti(this,a);return null==c&&b&&(c=b.getShallow(a)),c},getModel:function(a,b){var c,d=null==a?this.option:Ol(this.option,a=
this.parsePath(a));return b=b||(c=ti(this,a))&&c.getModel(a),new Ta(d,b,this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new (0,this.constructor)(e(this.option))},setReadOnly:function(a){},parsePath:function(a){return"string"==typeof a&&(a=a.split(".")),a},customizeGetParent:function(a){gm(this).getParent=a},isAnimationEnabled:function(){if(!Ba.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}};
Kc(Ta);Hf(Ta);C(Ta,{getLineStyle:function(a){a=xu(this,a);var b=this.getLineDash(a.lineWidth);return b&&(a.lineDash=b),a},getLineDash:function(a){null==a&&(a=1);var b=this.get("type"),c=Math.max(a,2);a*=4;return"solid"===b||null==b?null:"dashed"===b?[a,a]:[c,c]}});C(Ta,{getAreaStyle:function(a,b){return yu(this,a,b)}});C(Ta,{getTextColor:function(a){var b=this.ecModel;return this.getShallow("color")||(!a&&b?b.get(Du):null)},getFont:function(){return Dl({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),
fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(a){return Hb(a,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}});C(Ta,{getItemStyle:function(a,b){a=Eu(this,a,b);b=this.getBorderLineDash();return b&&(a.lineDash=b),a},getBorderLineDash:function(){var a=this.get("borderType");return"solid"===a||null==
a?null:"dashed"===a?[5,5]:[1,1]}});var dr=0,hm=1E-4,er=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Fu=(Object.freeze||Object)({linearMap:mb,parsePercent:za,round:ob,asc:Te,getPrecision:ul,getPrecisionSafe:xd,getPixelPrecision:si,getPercentWithPrecision:Pl,MAX_SAFE_INTEGER:9007199254740991,remRadian:wi,isRadianAroundZero:Af,parseDate:yf,quantity:ql,nice:xg,reformIntervals:function(a){function b(a,c,d){return a.interval[d]<
c.interval[d]||a.interval[d]===c.interval[d]&&(a.close[d]-c.close[d]==(d?-1:1)||!d&&b(a,c,1))}a.sort(function(a,c){return b(a,c,0)?-1:1});for(var c=-1/0,d=1,h=0;h<a.length;){for(var e=a[h].interval,f=a[h].close,g=0;2>g;g++)e[g]<=c&&(e[g]=c,f[g]=g?1:1-d),c=e[g],d=f[g];e[0]===e[1]&&1!=f[0]*f[1]?a.splice(h,1):h++}return a},isNumeric:function(a){return 0<=a-parseFloat(a)}}),Pf=T,fr=/([&<>"'])/g,gr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},im="abcdefg".split(""),Kp=Gb,Gu=(Object.freeze||
Object)({addCommas:$d,toCamelCase:rl,normalizeCssArray:Pf,encodeHTML:lb,formatTpl:qi,formatTplSimple:function(a,b,c){return v(b,function(b,d){a=a.replace("{"+d+"}",c?lb(b):b)}),a},getTooltipMarker:yg,formatTime:ri,capitalFirst:ui,truncateText:Kp,getTextRect:Hb}),Tg=v,jm="left right top bottom width height".split(" "),Ug=[["width","left","right"],["height","top","bottom"]],th=Bg,Hu=(D(Bg,"vertical"),D(Bg,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),
right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Iu=ic(),Ua=Ta.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(a,b,c,d){Ta.call(this,a,b,c,d);this.uid=Ag("ec_cpt_model")},init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?Re({},a):{};m(a,b.getTheme().get(this.mainType));
m(a,this.getDefaultOption());c&&be(a,d,c)},mergeOption:function(a,b){m(this.option,a,!0);(b=this.layoutMode)&&be(this.option,a,b)},optionUpdated:function(a,b){},getDefaultOption:function(){var a=Iu(this);if(!a.defaultOption){for(var b=[],c=this.constructor;c;){var d=c.prototype.defaultOption;d&&b.push(d);c=c.superClass}c={};for(d=b.length-1;0<=d;d--)c=m(c,b[d],!0);a.defaultOption=c}return a.defaultOption},getReferringComponents:function(a){return this.ecModel.queryComponents({mainType:a,index:this.get(a+
"Index",!0),id:this.get(a+"Id",!0)})}});Ve(Ua,{registerWhenExtend:!0});(function(a){var b={};a.registerSubTypeDefaulter=function(a,c){a=Pb(a);b[a.main]=c};a.determineSubType=function(c,d){var h=d.type;if(!h){var e=Pb(c).main;a.hasSubTypes(c)&&b[e]&&(h=b[e](d))}return h}})(Ua);(function(a,b){function c(a){var c={},e=[];return v(a,function(n){var f=d(c,n),g=h(f.originalDeps=b(n),a);f.entryCount=g.length;0===f.entryCount&&e.push(n);v(g,function(a){0>B(f.predecessor,a)&&f.predecessor.push(a);var b=d(c,
a);0>B(b.successor,a)&&b.successor.push(n)})}),{graph:c,noEntryList:e}}function d(a,b){return a[b]||(a[b]={predecessor:[],successor:[]}),a[b]}function h(a,b){var c=[];return v(a,function(a){0<=B(b,a)&&c.push(a)}),c}a.topologicalTravel=function(a,b,d,h){function e(a){n[a].entryCount--;0===n[a].entryCount&&f.push(a)}if(a.length){b=c(b);var n=b.graph,f=b.noEntryList,g={};for(v(a,function(a){g[a]=!0});f.length;){a=f.pop();b=n[a];var l=!!g[a];l&&(d.call(h,a,b.originalDeps.slice()),delete g[a]);v(b.successor,
l?function(a){g[a]=!0;e(a)}:e)}v(g,function(){throw Error("Circle dependency may exists");})}}})(Ua,function(a){var c=[];return v(Ua.getClassesByMainType(a),function(a){c=c.concat(a.prototype.dependencies||[])}),c=b(c,function(a){return Pb(a).main}),"dataset"!==a&&0>=B(c,"dataset")&&c.unshift("dataset"),c});C(Ua,Hu);var Lp="";"undefined"!=typeof navigator&&(Lp=navigator.platform||"");var mr={color:"#c23531 #2f4554 #61a0a8 #d48265 #91c7ae #749f83 #ca8622 #bda29a #6e7074 #546570 #c4ccd3".split(" "),
gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Lp.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1E3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2E3,progressiveThreshold:3E3,progressive:400,hoverLayerThreshold:3E3,useUTC:!1},Ak=ic(),Bk={clearColorPalette:function(){Ak(this).colorIdx=0;Ak(this).colorNameMap={}},
getColorFromPalette:function(a,b,c){b=Ak(b||this);var d=b.colorIdx||0,h=b.colorNameMap=b.colorNameMap||{};if(h.hasOwnProperty(a))return h[a];var e=Ob(this.get("color",!0)),n=this.get("colorLayer",!0);if(null!=c&&n)a:{for(var f=n.length,g=0;g<f;g++)if(n[g].length>c){c=n[g];break a}c=n[f-1]}else c=e;if((c=c||e)&&c.length)return e=c[d],a&&(h[a]=e),b.colorIdx=(d+1)%c.length,e}},hr={cartesian2d:function(a,b,c,d){var h=a.getReferringComponents("xAxis")[0];a=a.getReferringComponents("yAxis")[0];b.coordSysDims=
["x","y"];c.set("x",h);c.set("y",a);Se(h)&&(d.set("x",h),b.firstCategoryDimIndex=0);Se(a)&&(d.set("y",a),b.firstCategoryDimIndex=1)},singleAxis:function(a,b,c,d){a=a.getReferringComponents("singleAxis")[0];b.coordSysDims=["single"];c.set("single",a);Se(a)&&(d.set("single",a),b.firstCategoryDimIndex=0)},polar:function(a,b,c,d){var h=a.getReferringComponents("polar")[0];a=h.findAxisModel("radiusAxis");h=h.findAxisModel("angleAxis");b.coordSysDims=["radius","angle"];c.set("radius",a);c.set("angle",h);
Se(a)&&(d.set("radius",a),b.firstCategoryDimIndex=0);Se(h)&&(d.set("angle",h),b.firstCategoryDimIndex=1)},geo:function(a,b,c,d){b.coordSysDims=["lng","lat"]},parallel:function(a,b,c,d){var h=a.ecModel;a=h.getComponent("parallel",a.get("parallelIndex"));var e=b.coordSysDims=a.dimensions.slice();v(a.parallelAxisIndex,function(a,n){a=h.getComponent("parallelAxis",a);var f=e[n];c.set(f,a);Se(a)&&null==b.firstCategoryDimIndex&&(d.set(f,a),b.firstCategoryDimIndex=n)})}},re="original",Xg="arrayRows",Yg=
"objectRows",Vg="keyedColumns",km="unknown",Wg="typedArray",lm="column",Li="row";vc.seriesDataToSource=function(a){return new vc({data:a,sourceFormat:G(a)?Wg:re,fromDataset:!1})};Hf(vc);var cf=ic(),Mi="\x00_ec_inner",Ck=Ta.extend({init:function(a,b,c,d){c=c||{};this.option=null;this._theme=new Ta(c);this._optionManager=d},setOption:function(a,b){Y(!(Mi in a),"please use chart.getOption()");this._optionManager.setOption(a,b);this.resetOption(null)},resetOption:function(a){var b=!1,c=this._optionManager;
if(!a||"recreate"===a){var d=c.mountOption("recreate"===a);this.option&&"recreate"!==a?(this.restoreData(),this.mergeOption(d)):lr.call(this,d);b=!0}("timeline"!==a&&"media"!==a||this.restoreData(),a&&"recreate"!==a&&"timeline"!==a)||(d=c.getTimelineOption(this))&&(this.mergeOption(d),b=!0);a&&"recreate"!==a&&"media"!==a||(a=c.getMediaOption(this,this._api),a.length&&v(a,function(a){this.mergeOption(a,b=!0)},this));return b},mergeOption:function(a){var b=this.option,c=this._componentsMap,d=[];cf(this).datasetMap=
ia();v(a,function(a,c){null!=a&&(Ua.hasClass(c)?c&&d.push(c):b[c]=null==b[c]?e(a):m(b[c],a,!0))});Ua.topologicalTravel(d,Ua.getAllClassMainTypes(),function(d,h){var e=Ob(a[d]);e=je(c.get(d),e);jd(e);v(e,function(a,b){var c=a.option;M(c)&&(a.keyInfo.mainType=d,b=a.keyInfo,a=a.exist,a=c.type?c.type:a?a.subType:Ua.determineSubType(d,c),b.subType=a)});var n=nr(c,h);b[d]=[];c.set(d,[]);v(e,function(a,h){var e=a.exist,g=a.option;if(Y(M(g)||e,"Empty component definition"),g){var l=Ua.getClass(d,a.keyInfo.subType,
!0);e&&e instanceof l?(e.name=a.keyInfo.name,e.mergeOption(g,this),e.optionUpdated(g,!1)):(a=f({dependentModels:n,componentIndex:h},a.keyInfo),f(e=new l(g,this,this,a),a),e.init(g,this,this,a),e.optionUpdated(null,!0))}else e.mergeOption({},this),e.optionUpdated({},!1);c.get(d)[h]=e;b[d][h]=e.option},this);"series"===d&&Ni(this,c.get("series"))},this);this._seriesIndicesMap=ia(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var a=e(this.option);return v(a,function(b,c){if(Ua.hasClass(c)){for(var d=
(b=Ob(b)).length-1;0<=d;d--)Pe(b[d])&&b.splice(d,1);a[c]=b}}),delete a[Mi],a},getTheme:function(){return this._theme},getComponent:function(a,b){if(a=this._componentsMap.get(a))return a[b||0]},queryComponents:function(a){var c=a.mainType;if(!c)return[];var d=a.index,h=a.id,e=a.name,f=this._componentsMap.get(c);if(!f||!f.length)return[];if(null!=d)H(d)||(d=[d]),c=g(b(d,function(a){return f[a]}),function(a){return!!a});else if(null!=h){var l=H(h);c=g(f,function(a){return l&&0<=B(h,a.id)||!l&&a.id===
h})}else if(null!=e){var m=H(e);c=g(f,function(a){return m&&0<=B(e,a.name)||!m&&a.name===e})}else c=f.slice();return pm(c,a)},findComponents:function(a){var b=a.mainType,c=function(a){var c=b+"Index",d=b+"Id",h=b+"Name";return!a||null==a[c]&&null==a[d]&&null==a[h]?null:{mainType:b,index:a[c],id:a[d],name:a[h]}}(a.query);return function(b){return a.filter?g(b,a.filter):b}(pm(c?this.queryComponents(c):this._componentsMap.get(b),a))},eachComponent:function(a,b,c){var d=this._componentsMap;"function"==
typeof a?(c=b,b=a,d.each(function(a,d){v(a,function(a,h){b.call(c,d,a,h)})})):P(a)?v(d.get(a),b,c):M(a)&&v(this.findComponents(a),b,c)},getSeriesByName:function(a){return g(this._componentsMap.get("series"),function(b){return b.name===a})},getSeriesByIndex:function(a){return this._componentsMap.get("series")[a]},getSeriesByType:function(a){return g(this._componentsMap.get("series"),function(b){return b.subType===a})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},
eachSeries:function(a,b){v(this._seriesIndices,function(c){var d=this._componentsMap.get("series")[c];a.call(b,d,c)},this)},eachRawSeries:function(a,b){v(this._componentsMap.get("series"),a,b)},eachSeriesByType:function(a,b,c){v(this._seriesIndices,function(d){var h=this._componentsMap.get("series")[d];h.subType===a&&b.call(c,h,d)},this)},eachRawSeriesByType:function(a,b,c){return v(this.getSeriesByType(a),b,c)},isSeriesFiltered:function(a){return null==this._seriesIndicesMap.get(a.componentIndex)},
getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(a,b){Ni(this,g(this._componentsMap.get("series"),a,b))},restoreData:function(a){var b=this._componentsMap;Ni(this,b.get("series"));var c=[];b.each(function(a,b){c.push(b)});Ua.topologicalTravel(c,Ua.getAllClassMainTypes(),function(c,d){v(b.get(c),function(b){var d;if(!(d="series"!==c)){if(a){d=a.seiresIndex;var h=a.seriesId,e=a.seriesName;d=null!=d&&b.componentIndex!==d||null!=h&&b.id!==h||null!=e&&b.name!==
e}else d=void 0;d=!d}d&&b.restoreData()})})}});C(Ck,Bk);var or="getDom getZr getWidth getHeight getDevicePixelRatio dispatchAction isDisposed on off getDataURL getConnectedDataURL getModel getOption getViewOfComponentModel getViewOfSeriesModel".split(" "),Dk={};md.prototype={constructor:md,create:function(a,b){var c=[];v(Dk,function(d,h){d=d.create(a,b);c=c.concat(d||[])});this._coordinateSystems=c},update:function(a,b){v(this._coordinateSystems,function(c){c.update&&c.update(a,b)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}};
md.register=function(a,b){Dk[a]=b};md.get=function(a){return Dk[a]};var Zg=v,$g=b,rm=m,rr=/^(min|max)?(.+)$/;Oi.prototype={constructor:Oi,setOption:function(a,b){a&&v(Ob(a.series),function(a){a&&a.data&&G(a.data)&&Ia(a.data)});a=e(a,!0);var c=this._optionBackup;a=pr.call(this,a,b,!c);this._newBaseOption=a.baseOption;c?(tr(c.baseOption,a.baseOption),a.timelineOptions.length&&(c.timelineOptions=a.timelineOptions),a.mediaList.length&&(c.mediaList=a.mediaList),a.mediaDefault&&(c.mediaDefault=a.mediaDefault)):
this._optionBackup=a},mountOption:function(a){var b=this._optionBackup;return this._timelineOptions=$g(b.timelineOptions,e),this._mediaList=$g(b.mediaList,e),this._mediaDefault=e(b.mediaDefault),this._currentMediaIndices=[],e(a?b.baseOption:this._newBaseOption)},getTimelineOption:function(a){var b,c=this._timelineOptions;c.length&&(a=a.getComponent("timeline"))&&(b=e(c[a.getCurrentIndex()],!0));return b},getMediaOption:function(a){a=this._api.getWidth();var b=this._api.getHeight(),c=this._mediaList,
d=this._mediaDefault,h=[],f=[];if(!c.length&&!d)return f;for(var g=0,l=c.length;g<l;g++)qr(c[g].query,a,b)&&h.push(g);return!h.length&&d&&(h=[-1]),h.length&&!sr(h,this._currentMediaIndices)&&(f=$g(h,function(a){return e(-1===a?d.option:c[a].option)})),this._currentMediaIndices=h,f}};var Rf=M,sm="areaStyle lineStyle nodeStyle linkStyle chordStyle label labelLine".split(" "),Ju=function(a,b){v(nd(a.series),function(a){Rf(a)&&ur(a)});var c="xAxis yAxis radiusAxis angleAxis singleAxis parallelAxis radar".split(" ");
b&&c.push("valueAxis","categoryAxis","logAxis","timeAxis");v(c,function(b){v(nd(a[b]),function(a){a&&(tb(a,"axisLabel"),tb(a.axisPointer,"label"))})});v(nd(a.parallel),function(a){a=a&&a.parallelAxisDefault;tb(a,"axisLabel");tb(a&&a.axisPointer,"label")});v(nd(a.calendar),function(a){Sb(a,"itemStyle");tb(a,"dayLabel");tb(a,"monthLabel");tb(a,"yearLabel")});v(nd(a.radar),function(a){tb(a,"name")});v(nd(a.geo),function(a){Rf(a)&&(lc(a),v(nd(a.regions),function(a){lc(a)}))});v(nd(a.timeline),function(a){lc(a);
Sb(a,"label");Sb(a,"itemStyle");Sb(a,"controlStyle",!0);a=a.data;H(a)&&v(a,function(a){M(a)&&(Sb(a,"label"),Sb(a,"itemStyle"))})});v(nd(a.toolbox),function(a){Sb(a,"iconStyle");v(a.feature,function(a){Sb(a,"iconStyle")})});tb(um(a.axisPointer),"label");tb(um(a.tooltip).axisPointer,"label")},vr=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Ku="grid geo parallel legend toolbox title visualMap dataZoom timeline".split(" "),Nm=function(a,b){Ju(a,b);a.series=Ob(a.series);v(a.series,function(a){if(M(a)){var b=
a.type;if("pie"!==b&&"gauge"!==b||null!=a.clockWise&&(a.clockwise=a.clockWise),"gauge"===b){b=["pointer.color"];for(var c=a,d=0;d<b.length&&null!=(c=c&&c[b[d]]);d++);b=c;if(null!=b){c=["itemStyle.normal.color"];var h;d=a;for(var e=0;e<c.length-1;e++)null==d[h=c[e]]&&(d[h]={}),d=d[h];null==d[c[e]]&&(d[c[e]]=b)}}vm(a)}});a.dataRange&&(a.visualMap=a.dataRange);v(Ku,function(b){(b=a[b])&&(H(b)||(b=[b]),v(b,function(a){vm(a)}))})},Ek=wm.prototype;Ek.pure=!1;Ek.persistent=!0;Ek.getSource=function(){return this._source};
var xr={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(a){return this._data[a+this._source.startIndex]},appendData:Qi},arrayRows_row:{pure:!0,count:function(){var a=this._data[0];return a?Math.max(0,a.length-this._source.startIndex):0},getItem:function(a){a+=this._source.startIndex;for(var b=[],c=this._data,d=0;d<c.length;d++){var h=c[d];b.push(h?h[a]:null)}return b},appendData:function(){throw Error('Do not support appendData when set seriesLayoutBy: "row".');
}},objectRows:{pure:!0,count:xm,getItem:ym,appendData:Qi},keyedColumns:{pure:!0,count:function(){var a=this._data[this._source.dimensionsDefine[0].name];return a?a.length:0},getItem:function(a){for(var b=[],c=this._source.dimensionsDefine,d=0;d<c.length;d++){var h=this._data[c[d].name];b.push(h?h[a]:null)}return b},appendData:function(a){var b=this._data;v(a,function(a,c){c=b[c]||(b[c]=[]);for(var d=0;d<(a||[]).length;d++)c.push(a[d])})}},original:{count:xm,getItem:ym,appendData:Qi},typedArray:{persistent:!1,
pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(a,b){a-=this._offset;b=b||[];a*=this._dimSize;for(var c=0;c<this._dimSize;c++)b[c]=this._data[a+c];return b},appendData:function(a){this._data=a},clean:function(){this._offset+=this.count();this._data=null}}},yr={arrayRows:Ri,objectRows:function(a,b,c,d){return null!=c?a[d]:a},keyedColumns:Ri,original:function(a,b,c,d){a=ie(a);return null!=c&&a instanceof Array?a[c]:a},typedArray:Ri},Lu={arrayRows:zm,objectRows:function(a,
b,c,d){return Si(a[b],this._dimensionInfos[b])},keyedColumns:zm,original:function(a,b,c,d){c=a&&(null==a.value?a:a.value);var h;if(h=!this._rawData.pure)h=We(a)&&!(a instanceof Array);return h&&(this.hasItemOption=!0),Si(c instanceof Array?c[d]:c,this._dimensionInfos[b])},typedArray:function(a,b,c,d){return a[d]}},Mu=/\{@(.+?)\}/g,Mp={getDataParams:function(a,b){var c=this.getData(b),d=this.getRawValue(a,b),h=c.getRawIndex(a),e=c.getName(a),n=c.getRawDataItem(a);a=c.getItemVisual(a,"color");return{componentType:this.mainType,
componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:e,dataIndex:h,data:n,dataType:b,value:d,color:a,marker:yg(a),$vars:["seriesName","name","value"]}},getFormattedLabel:function(a,b,c,d,e){b=b||"normal";var h=this.getData(c),n=h.getItemModel(a);c=this.getDataParams(a,c);null!=d&&c.value instanceof Array&&(c.value=c.value[d]);d=n.get("normal"===b?[e||"label","formatter"]:[b,e||"label","formatter"]);
return"function"==typeof d?(c.status=b,d(c)):"string"==typeof d?qi(d,c).replace(Mu,function(b,c){b=c.length;return"["===c.charAt(0)&&"]"===c.charAt(b-1)&&(c=+c.slice(1,b-1)),se(h,a,c)}):void 0},getRawValue:function(a,b){return se(this.getData(b),a)},formatTooltip:function(){}},Td=df.prototype;Td.perform=function(a){function b(a){return!(1<=a)&&(a=1),a}var c=this._upstream,d=a&&a.skip;if(this._dirty&&c){var h=this.context;h.data=h.outputData=c.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=
this);var e;this._plan&&!d&&(e=this._plan(this.context));var f=b(this._modBy),g=this._modDataCount||0;h=b(a&&a.modBy);var l=a&&a.modDataCount||0;f===h&&g===l||(e="reset");var m;(this._dirty||"reset"===e)&&(this._dirty=!1,m=Ar(this,d));this._modBy=h;this._modDataCount=l;a=a&&a.step;if(this._dueEnd=c?c._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){c=this._dueIndex;a=Math.min(null!=a?this._dueIndex+a:1/0,this._dueEnd);if(!d&&(m||c<a))if(d=this._progress,H(d))for(m=0;m<d.length;m++)Am(this,
d[m],c,a,h,l);else Am(this,d,c,a,h,l);this._dueIndex=a;this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:a}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Bm=function(){function a(){return d<c?d++:null}function b(){var a=d%g*e+Math.ceil(d/g);a=d>=c?null:a<f?a:d;return d++,a}var c,d,e,f,g,l={reset:function(h,n,w,m){d=h;c=n;e=w;f=m;g=Math.ceil(f/e);l.next=1<e&&0<f?b:a}};return l}();Td.dirty=function(){this._dirty=
!0;this._onDirty&&this._onDirty(this.context)};Td.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd};Td.pipe=function(a){(this._downstream!==a||this._dirty)&&(this._downstream=a,a._upstream=this,a.dirty())};Td.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)};Td.getUpstream=function(){return this._upstream};Td.getDownstream=function(){return this._downstream};
Td.setOutputEnd=function(a){this._outputDueEnd=this._settedOutputEnd=a};var rg=ic(),hf=Ua.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(a,b,c,d){this.seriesIndex=this.componentIndex;this.dataTask=new df({count:Cr,reset:Dr});this.dataTask.context={model:this};this.mergeDefaultAndTheme(a,c);Cl(this);a=this.getInitialData(a,c);Dm(a,this);this.dataTask.context.data=a;rg(this).dataBeforeProcessed=
a;Cm(this)},mergeDefaultAndTheme:function(a,b){var c=this.layoutMode,d=c?Re({},a):{};Ua.hasClass(this.subType);m(a,b.getTheme().get(this.subType));m(a,this.getDefaultOption());qc(a,"label",["show"]);this.fillDataTextStyle(a.data);c&&be(a,d,c)},mergeOption:function(a,b){a=m(this.option,a,!0);this.fillDataTextStyle(a.data);var c=this.layoutMode;c&&be(this.option,a,c);Cl(this);a=this.getInitialData(a,b);Dm(a,this);this.dataTask.dirty();this.dataTask.context.data=a;rg(this).dataBeforeProcessed=a;Cm(this)},
fillDataTextStyle:function(a){if(a&&!G(a))for(var b=["show"],c=0;c<a.length;c++)a[c]&&a[c].label&&qc(a[c],"label",b)},getInitialData:function(){},appendData:function(a){this.getRawData().appendData(a.data)},getData:function(a){var b=Ti(this);return b?(b=b.context.data,null==a?b:b.getLinkedData(a)):rg(this).data},setData:function(a){var b=Ti(this);if(b){var c=b.context;c.data!==a&&b.modifyOutputEnd&&b.setOutputEnd(a.count());c.outputData=a;b!==this.dataTask&&(c.data=a)}rg(this).data=a},getSource:function(){return cf(this).source},
getRawData:function(){return rg(this).dataBeforeProcessed},getBaseAxis:function(){var a=this.coordinateSystem;return a&&a.getBaseAxis&&a.getBaseAxis()},formatTooltip:function(a,b,c){var e=this.getData(),h=e.mapDimension("defaultedTooltip",!0);c=h.length;var n=this.getRawValue(a),f=H(n),g=e.getItemVisual(a,"color");M(g)&&g.colorStops&&(g=(g.colorStops[0]||{}).color);g=g||"transparent";c=1<c||f&&!c?function(c){function n(a,c){if((c=e.getDimensionInfo(c))&&!1!==c.otherDims.tooltip){var d=c.type,h=yg({color:g,
type:"subItem"});(a=(f?h+lb(c.displayName||"-")+": ":"")+lb("ordinal"===d?a+"":"time"===d?b?"":ri("yyyy/MM/dd hh:mm:ss",a):$d(a)))&&l.push(a)}}var f=d(c,function(a,b,c){b=e.getDimensionInfo(c);return a|(b&&!1!==b.tooltip&&null!=b.displayName)},0),l=[];return h.length?v(h,function(b){n(se(e,a,b),b)}):v(c,n),(f?"<br/>":"")+l.join(f?"<br/>":", ")}(n):lb($d(c?se(e,a,h[0]):f?n[0]:n));n=yg(g);f=e.getName(a);var l=this.name;return Gf(this)||(l=""),l=l?lb(l)+(b?": ":"<br/>"):"",b?n+l+c:l+n+(f?lb(f)+": "+
c:c)},isAnimationEnabled:function(){if(Ba.node)return!1;var a=this.getShallow("animation");return a&&this.getData().count()>this.getShallow("animationThreshold")&&(a=!1),a},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(a,b,c){var d=this.ecModel,e=Bk.getColorFromPalette.call(this,a,b,c);return e||(e=d.getColorFromPalette(a,b,c)),e},coordDimToDataDim:function(a){return this.getRawData().mapDimension(a,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},
getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});C(hf,Mp);C(hf,Bk);var od=function(){this.group=new xa;this.uid=Ag("viewComponent")};od.prototype={constructor:od,init:function(a,b){},render:function(a,b,c,d){},dispose:function(){}};var Fk=od.prototype;Fk.updateView=Fk.updateLayout=Fk.updateVisual=function(a,b,c,d){};Kc(od);Ve(od,{registerWhenExtend:!0});var Gk=function(){var a=ic();return function(b){var c=a(b),d=b.pipelineContext;b=c.large;
var e=c.progressiveRender,h=c.large=d.large;c=c.progressiveRender=d.progressiveRender;return!!(b^h||e^c)&&"reset"}},Fm=ic(),Ir=Gk();cc.prototype={type:"chart",init:function(a,b){},render:function(a,b,c,d){},highlight:function(a,b,c,d){Em(a.getData(),d,"emphasis")},downplay:function(a,b,c,d){Em(a.getData(),d,"normal")},remove:function(a,b){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};var Hk=cc.prototype;Hk.updateView=Hk.updateLayout=
Hk.updateVisual=function(a,b,c,d){this.render(a,b,c,d)};Kc(cc);Ve(cc,{registerWhenExtend:!0});cc.markUpdateMethod=function(a,b){Fm(a).updateMethod=b};var Jr={incrementalPrepareRender:{progress:function(a,b){b.view.incrementalRender(a,b.model,b.ecModel,b.api,b.payload)}},render:{forceFirstProgress:!0,progress:function(a,b){b.view.render(b.model,b.ecModel,b.api,b.payload)}}},ah="\x00__throttleOriginMethod",Hm="\x00__throttleRate",Gm="\x00__throttleType",Nu={pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",
line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",
themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"},Ou={general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",
withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}},Zr=function(a,b){function c(a,
b){if("string"!=typeof a)return a;var c=a;return v(b,function(a,b){c=c.replace(new RegExp("\\{\\s*"+b+"\\s*\\}","g"),a)}),c}function d(a){var b=e.get(a);if(null==b){a=a.split(".");b=Ou;for(var c=0;c<a.length;++c)b=b[a[c]]}return b}var e=b.getModel("aria");if(e.get("show"))if(e.get("description"))a.setAttribute("aria-label",e.get("description"));else{var h=0;b.eachSeries(function(a,b){++h},this);var n=e.get("data.maxCount")||10;var f=e.get("series.maxCount")||10;var g=Math.min(h,f);if(!(1>h)){f=(f=
function(){var a=b.getModel("title").option;return a&&a.length&&(a=a[0]),a&&a.text}())?c(d("general.withTitle"),{title:f}):d("general.withoutTitle");var l=[];f+=c(d(1<h?"series.multiple.prefix":"series.single.prefix"),{seriesCount:h});b.eachSeries(function(a,b){if(b<g){b=a.get("name");var e="series."+(1<h?"multiple":"single")+".";b=c(b=d(b?e+"withName":e+"withoutName"),{seriesId:a.seriesIndex,seriesName:a.get("name"),seriesType:Nu[a.subType]||"\u81ea\u5b9a\u4e49\u56fe"});a=a.getData();window.data=
a;a.count()>n?b+=c(d("data.partialData"),{displayCnt:n}):b+=d("data.allData");e=[];for(var f=0;f<a.count();f++)if(f<n){var w=a.getName(f),m=se(a,f);e.push(c(d(w?"data.withName":"data.withoutName"),{name:w,value:m}))}b+=e.join(d("data.separator.middle"))+d("data.separator.end");l.push(b)}});f+=l.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end");a.setAttribute("aria-label",f)}}},Uh=Math.PI,hc=bh.prototype;hc.restoreData=function(a,b){a.restoreData(b);this._stageTaskMap.each(function(a){(a=
a.overallTask)&&a.dirty()})};hc.getPerformArgs=function(a,b){if(a.__pipeline){var c=this._pipelineMap.get(a.__pipeline.id),d=c.context;a=!b&&c.progressiveEnabled&&(!d||d.progressiveRender)&&a.__idxInPipeline>c.blockIndex?c.step:null;d=d&&d.modDataCount;return{step:a,modBy:null!=d?Math.ceil(d/a):null,modDataCount:d}}};hc.getPipeline=function(a){return this._pipelineMap.get(a)};hc.updateStreamModes=function(a,b){var c=this._pipelineMap.get(a.uid),d=a.getData().count();b=c.progressiveEnabled&&b.incrementalPrepareRender&&
d>=c.threshold;var e=a.get("large")&&d>=a.get("largeThreshold");d="mod"===a.get("progressiveChunkMode")?d:null;a.pipelineContext=c.context={progressiveRender:b,modDataCount:d,large:e}};hc.restorePipelines=function(a){var b=this,c=b._pipelineMap=ia();a.eachSeries(function(a){var d=a.getProgressive(),e=a.uid;c.set(e,{id:e,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:d&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(d||700),count:0});ch(b,
a,a.dataTask)})};hc.prepareStageTasks=function(){var a=this._stageTaskMap,b=this.ecInstance.getModel(),c=this.api;v(this._allHandlers,function(d){var e=a.get(d.uid)||a.set(d.uid,[]);d.reset&&Kr(this,d,e,b,c);d.overallReset&&Or(this,d,e,b,c)},this)};hc.prepareView=function(a,b,c,d){var e=a.renderTask,h=e.context;h.model=b;h.ecModel=c;h.api=d;e.__block=!a.incrementalPrepareRender;ch(this,b,e)};hc.performDataProcessorTasks=function(a,b){Jm(this,this._dataProcessorHandlers,a,b,{block:!0})};hc.performVisualTasks=
function(a,b,c){Jm(this,this._visualHandlers,a,b,c)};hc.performSeriesTasks=function(a){var b;a.eachSeries(function(a){b|=a.dataTask.perform()});this.unfinished|=b};hc.plan=function(){this._pipelineMap.each(function(a){var b=a.tail;do{if(b.__block){a.blockIndex=b.__idxInPipeline;break}b=b.getUpstream()}while(b)})};var Km=hc.updatePayload=function(a,b){"remain"!==b&&(a.context.payload=b)},Tr=Lm(0);bh.wrapStageHandler=function(a,b){if(W(a)){var c=a;Vh=null;try{a(sg,Np)}catch(F){}a={overallReset:c,seriesType:Vh}}return a.uid=
Ag("stageHandler"),b&&(a.visualType=b),a};var Vh,sg={},Np={};Mm(sg,Ck);Mm(Np,qm);sg.eachSeriesByType=sg.eachRawSeriesByType=function(a){Vh=a};sg.eachComponent=function(a){"series"===a.mainType&&a.subType&&(Vh=a.subType)};var Op="#37A2DA #32C5E9 #67E0E3 #9FE6B8 #FFDB5C #ff9f7f #fb7293 #E062AE #E690D1 #e7bcf3 #9d96f5 #8378EA #96BFFF".split(" "),Pu={color:Op,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],"#37A2DA #67E0E3 #FFDB5C #ff9f7f #E062AE #9d96f5".split(" "),"#37A2DA #32C5E9 #9FE6B8 #FFDB5C #ff9f7f #fb7293 #e7bcf3 #8378EA #96BFFF".split(" "),
Op]},Ik="#dd6b66 #759aa0 #e69d87 #8dc1a9 #ea7e53 #eedd78 #73a373 #73b9bc #7289ab #91ca8c #f49f42".split(" "),Pp={color:Ik,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Ik[1]}},
label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},
valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:Ik},gauge:{title:{textStyle:{color:"#eee"}}},
candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Pp.categoryAxis.splitLine.show=!1;Ua.extend({type:"dataset",defaultOption:{seriesLayoutBy:lm,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){var a=this.option.source,b=km;if(G(a))b=Wg;else if(H(a))for(var c=0,d=a.length;c<d;c++){var e=a[c];if(null!=e){if(H(e)){b=Xg;break}if(M(e)){b=Yg;break}}}else if(M(a))for(c in a){if(a.hasOwnProperty(c)&&A(a[c])){b=Vg;break}}else if(null!=
a)throw Error("Invalid data");cf(this).sourceFormat=b}});od.extend({type:"dataset"});var as=Y,Jb=v,bs=W,Vf=M,Tm=Ua.parseClassType,Zm=1E3,an=1E3,bn=3E3,Jk={PROCESSOR:{FILTER:Zm,STATISTIC:5E3},VISUAL:{LAYOUT:an,GLOBAL:2E3,CHART:bn,COMPONENT:4E3,BRUSH:5E3}},Nc="__flagInMainProcess",Gd="__optionUpdated",$m=/^[a-zA-Z0-9_]+$/;Sf.prototype.on=ef("on");Sf.prototype.off=ef("off");Sf.prototype.one=ef("one");C(Sf,xc);var Ma=Tf.prototype;Ma._onframe=function(){if(!this._disposed){var a=this._scheduler;if(this[Gd])a=
this[Gd].silent,this[Nc]=!0,Uf(this),Hd.update.call(this),this[Nc]=!1,this[Gd]=!1,gh.call(this,a),!a&&this.trigger("updated");else if(a.unfinished){var b=1,c=this._model;this._api;a.unfinished=!1;do{var d=+new Date;a.performSeriesTasks(c);a.performDataProcessorTasks(c);Rm(this,c);a.performVisualTasks(c);Zi(this,this._model,0,"remain");b-=+new Date-d}while(0<b&&a.unfinished);a.unfinished||this._zr.flush()}}};Ma.getDom=function(){return this._dom};Ma.getZr=function(){return this._zr};Ma.setOption=function(a,
b,c){var d;if(Vf(b)&&(c=b.lazyUpdate,d=b.silent,b=b.notMerge),this[Nc]=!0,!this._model||b){b=new Oi(this._api);var e=this._theme,h=this._model=new Ck(null,null,e,b);h.scheduler=this._scheduler;h.init(null,null,e,b)}this._model.setOption(a,Ym);c?(this[Gd]={silent:d},this[Nc]=!1):(Uf(this),Hd.update.call(this),this._zr.flush(),this[Gd]=!1,this[Nc]=!1,gh.call(this,d),!d&&this.trigger("updated"))};Ma.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};Ma.getModel=function(){return this._model};
Ma.getOption=function(){return this._model&&this._model.getOption()};Ma.getWidth=function(){return this._zr.getWidth()};Ma.getHeight=function(){return this._zr.getHeight()};Ma.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1};Ma.getRenderedCanvas=function(a){if(Ba.canvasSupported)return(a=a||{}).pixelRatio=a.pixelRatio||1,a.backgroundColor=a.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(a)};Ma.getSvgDataUrl=function(){if(Ba.svgSupported){var a=
this._zr;return v(a.storage.getDisplayList(),function(a){a.stopAnimation(!0)}),a.painter.pathToDataUrl()}};Ma.getDataURL=function(a){var b=(a=a||{}).excludeComponents,c=this._model,d=[],e=this;Jb(b,function(a){c.eachComponent({mainType:a},function(a){a=e._componentsMap[a.__viewId];a.group.ignore||(d.push(a),a.group.ignore=!0)})});a="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(a).toDataURL("image/"+(a&&a.type||"png"));return Jb(d,function(a){a.group.ignore=!1}),a};
Ma.getConnectedDataURL=function(a){if(Ba.canvasSupported){var b=this.group,c=Math.min,d=Math.max;if(ih[b]){var h=1/0,f=1/0,g=-1/0,l=-1/0,m=[],q=a&&a.pixelRatio||1;v(te,function(n,w){n.group===b&&(w=n.getRenderedCanvas(e(a)),n=n.getDom().getBoundingClientRect(),h=c(n.left,h),f=c(n.top,f),g=d(n.right,g),l=d(n.bottom,l),m.push({dom:w,left:n.left,top:n.top}))});var r=(g*=q)-(h*=q),t=(l*=q)-(f*=q),u=Hg();u.width=r;u.height=t;var z=ac(u);return Jb(m,function(a){a=new Ya({style:{x:a.left*q-h,y:a.top*q-f,
image:a.dom}});z.add(a)}),z.refreshImmediately(),u.toDataURL("image/"+(a&&a.type||"png"))}return this.getDataURL(a)}};Ma.convertToPixel=D(Om,"convertToPixel");Ma.convertFromPixel=D(Om,"convertFromPixel");Ma.containPixel=function(a,b){var c;return a=le(this._model,a),v(a,function(a,d){0<=d.indexOf("Models")&&v(a,function(a){var e=a.coordinateSystem;e&&e.containPoint?c|=!!e.containPoint(b):"seriesModels"===d&&(e=this._chartsMap[a.__viewId])&&e.containPoint&&(c|=e.containPoint(b,a))},this)},this),!!c};
Ma.getVisual=function(a,b){var c=(a=le(this._model,a,{defaultMainType:"series"})).seriesModel.getData();a=a.hasOwnProperty("dataIndexInside")?a.dataIndexInside:a.hasOwnProperty("dataIndex")?c.indexOfRawIndex(a.dataIndex):null;return null!=a?c.getItemVisual(a,b):c.getVisual(b)};Ma.getViewOfComponentModel=function(a){return this._componentsMap[a.__viewId]};Ma.getViewOfSeriesModel=function(a){return this._chartsMap[a.__viewId]};var Hd={prepareAndUpdate:function(a){Uf(this);Hd.update.call(this,a)},update:function(a){var b=
this._model,c=this._api,d=this._zr,e=this._coordSysMgr,h=this._scheduler;b&&(h.restoreData(b,a),h.performSeriesTasks(b),e.create(b,c),h.performDataProcessorTasks(b,a),Rm(this,b),e.update(b,c),Yi(b),h.performVisualTasks(b,a),Um(this,b,c,a),a=b.get("backgroundColor")||"transparent",Ba.canvasSupported?d.setBackgroundColor(a):(d=wb(a),db(d,"rgb")),$i(b,c))},updateTransform:function(a){var b=this._model,c=this,d=this._api;if(b){var e=[];b.eachComponent(function(h,n){(h=c.getViewOfComponentModel(n))&&h.__alive&&
(h.updateTransform?(n=h.updateTransform(n,b,d,a))&&n.update&&e.push(h):e.push(h))});var h=ia();b.eachSeries(function(e){var n=c._chartsMap[e.__viewId];n.updateTransform?(n=n.updateTransform(e,b,d,a))&&n.update&&h.set(e.uid,1):h.set(e.uid,1)});Yi(b);this._scheduler.performVisualTasks(b,a,{setDirty:!0,dirtyMap:h});Zi(c,b,0,a,h);$i(b,this._api)}},updateView:function(a){var b=this._model;b&&(cc.markUpdateMethod(a,"updateView"),Yi(b),this._scheduler.performVisualTasks(b,a,{setDirty:!0}),Um(this,this._model,
this._api,a),$i(b,this._api))},updateVisual:function(a){Hd.update.call(this,a)},updateLayout:function(a){Hd.update.call(this,a)}};Ma.resize=function(a){this._zr.resize(a);var b=this._model;if(this._loadingFX&&this._loadingFX.resize(),b)b=b.resetOption("media"),a=a&&a.silent,this[Nc]=!0,b&&Uf(this),Hd.update.call(this),this[Nc]=!1,gh.call(this,a),!a&&this.trigger("updated")};Ma.showLoading=function(a,b){if(Vf(a)&&(b=a,a=""),a=a||"default",this.hideLoading(),dj[a])a=dj[a](this._api,b),b=this._zr,this._loadingFX=
a,b.add(a)};Ma.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};Ma.makeActionFromEvent=function(a){var b=f({},a);return b.type=hh[a.type],b};Ma.dispatchAction=function(a,b){Vf(b)||(b={silent:!!b});fh[a.type]&&this._model&&(this[Nc]?this._pendingActions.push(a):(Sm.call(this,a,b.silent),b.flush?this._zr.flush(!0):!1!==b.flush&&Ba.browser.weChat&&this._throttledZrFlush(),gh.call(this,b.silent),!b.silent&&this.trigger("updated")))};Ma.appendData=function(a){var b=
a.seriesIndex;this.getModel().getSeriesByIndex(b).appendData(a);this._scheduler.unfinished=!0};Ma.on=ef("on");Ma.off=ef("off");Ma.one=ef("one");var Qu="click dblclick mouseover mouseout mousemove mousedown mouseup globalout contextmenu".split(" ");Ma._initEvents=function(){Jb(Qu,function(a){this._zr.on(a,function(b){var c=this.getModel(),d=b.target;if("globalout"===a)var e={};else d&&null!=d.dataIndex?e=(e=d.dataModel||c.getSeriesByIndex(d.seriesIndex))&&e.getDataParams(d.dataIndex,d.dataType)||{}:
d&&d.eventData&&(e=f({},d.eventData));e&&(e.event=b,e.type=a,this.trigger(a,e))},this)},this);Jb(hh,function(a,b){this._messageCenter.on(b,function(a){this.trigger(b,a)},this)},this)};Ma.isDisposed=function(){return this._disposed};Ma.clear=function(){this.setOption({series:[]},!0)};Ma.dispose=function(){if(!this._disposed){this._disposed=!0;Eg(this.getDom(),bj,"");var a=this._api,b=this._model;Jb(this._componentsViews,function(c){c.dispose(b,a)});Jb(this._chartsViews,function(c){c.dispose(b,a)});
this._zr.dispose();delete te[this.id]}};C(Tf,xc);var fh={},hh={},Xi=[],Ym=[],Wm=[],eh=[],dh={},dj={},te={},ih={},Ru=new Date-0,Su=new Date-0,bj="_echarts_instance_",Qp={};gf(2E3,{createOnAllSeries:!0,performRawSeries:!0,reset:function(a,b){var c=a.getData(),d=(a.visualColorAccessPath||"itemStyle.color").split("."),e=a.get(d)||a.getColorFromPalette(a.name,null,b.getSeriesCount());if(c.setVisual("color",e),!b.isSeriesFiltered(a))return"function"!=typeof e||e instanceof Sd||c.each(function(b){c.setItemVisual(b,
"color",e(a.getDataParams(b)))}),{dataEach:c.hasItemOption?function(a,b){var c=a.getItemModel(b).get(d,!0);null!=c&&a.setItemVisual(b,"color",c)}:null}}});pd(Nm);ue(5E3,function(a){var b=ia();a.eachSeries(function(a){var c=a.get("stack");if(c){c=b.get(c)||b.set(c,[]);var d=a.getData();a={stackResultDimension:d.getCalculationInfo("stackResultDimension"),stackedOverDimension:d.getCalculationInfo("stackedOverDimension"),stackedDimension:d.getCalculationInfo("stackedDimension"),stackedByDimension:d.getCalculationInfo("stackedByDimension"),
isStackedByIndex:d.getCalculationInfo("isStackedByIndex"),data:d,seriesModel:a};a.stackedDimension&&(a.isStackedByIndex||a.stackedByDimension)&&(c.length&&d.setCalculationInfo("stackedOnSeries",c[c.length-1].seriesModel),c.push(a))}});b.each(wr)});cn("default",function(a,b){q(b=b||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var c=new jb({style:{fill:b.maskColor},zlevel:b.zlevel,z:1E4}),d=new Jp({shape:{startAngle:-Uh/2,endAngle:-Uh/2+.1,r:10},
style:{stroke:b.color,lineCap:"round",lineWidth:5},zlevel:b.zlevel,z:10001}),e=new jb({style:{fill:"none",text:b.text,textPosition:"right",textDistance:10,textFill:b.textColor},zlevel:b.zlevel,z:10001});d.animateShape(!0).when(1E3,{endAngle:3*Uh/2}).start("circularInOut");d.animateShape(!0).when(1E3,{startAngle:3*Uh/2}).delay(300).start("circularInOut");b=new xa;return b.add(d),b.add(e),b.add(c),b.resize=function(){var b=a.getWidth()/2,h=a.getHeight()/2;d.setShape({cx:b,cy:h});var n=d.shape.r;e.setShape({x:b-
n,y:h-n,width:2*n,height:2*n});c.setShape({x:0,y:0,width:a.getWidth(),height:a.getHeight()})},b.resize(),b});yb({type:"highlight",event:"highlight",update:"highlight"},va);yb({type:"downplay",event:"downplay",update:"downplay"},va);dh.light=Pu;dh.dark=Pp;Wf.prototype={constructor:Wf,add:function(a){return this._add=a,this},update:function(a){return this._update=a,this},remove:function(a){return this._remove=a,this},execute:function(){var a=this._old,b=this._new,c={},d=[],e=[];fn(a,{},d,"_oldKeyGetter",
this);fn(b,c,e,"_newKeyGetter",this);for(b=0;b<a.length;b++)null!=(g=c[f=d[b]])?((l=g.length)?(1===l&&(c[f]=null),g=g.unshift()):c[f]=null,this._update&&this._update(g,b)):this._remove&&this._remove(b);for(b=0;b<e.length;b++){var f=e[b];if(c.hasOwnProperty(f)){var g=c[f];if(null!=g)if(g.length){a=0;for(var l=g.length;a<l;a++)this._add&&this._add(g[a])}else this._add&&this._add(g)}}}};var gn=ia(["tooltip","label","itemName","itemId","seriesName"]),Wh=M,hs="e\x00\x00",Tu={float:"undefined"==typeof Float64Array?
Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},Xf="undefined"==typeof Uint32Array?Array:Uint32Array,Xh="undefined"==typeof Uint16Array?Array:Uint16Array,es="hasItemOption _nameList _idList _invertedIndicesMap _rawData _chunkSize _chunkCount _dimValueGetter _count _rawCount _nameDimIdx _idDimIdx".split(" "),fs=["_extent","_approximateExtent","_rawExtent"],mc=function(a,b){a=a||["x","y"];for(var c={},d=[],e={},h=0;h<a.length;h++){var n=
a[h];P(n)&&(n={name:n});var f=n.name;n.type=n.type||"float";n.coordDim||(n.coordDim=f,n.coordDimIndex=0);n.otherDims=n.otherDims||{};d.push(f);c[f]=n;n.index=h;n.createInvertedIndices&&(e[f]=[])}this.dimensions=d;this._dimensionInfos=c;this.hostModel=b;this.dataType;this._indices=null;this._rawCount=this._count=0;this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this._visual={};this._layout={};this._itemVisuals=[];this.hasItemVisual={};this._itemLayouts=[];this._graphicEls=
[];this._chunkSize=1E5;this._chunkCount=0;this._rawData;this._rawExtent={};this._extent={};this._approximateExtent={};this._dimensionsSummary=cs(this);this._invertedIndicesMap=e;this._calculationInfo={}},ma=mc.prototype;ma.type="list";ma.hasItemOption=!0;ma.getDimension=function(a){return isNaN(a)||(a=this.dimensions[a]||a),a};ma.getDimensionInfo=function(a){return this._dimensionInfos[this.getDimension(a)]};ma.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()};
ma.mapDimension=function(a,b){var c=this._dimensionsSummary;if(null==b)return c.encodeFirstDimNotExtra[a];a=c.encode[a];return!0===b?(a||[]).slice():a&&a[b]};ma.initData=function(a,b,c){(vc.isInstance(a)||A(a))&&(a=new wm(a,this.dimensions.length));this._rawData=a;this._storage={};this._indices=null;this._nameList=b||[];this._idList=[];this._nameRepeatCount={};c||(this.hasItemOption=!1);this.defaultDimValueGetter=Lu[this._rawData.getSource().sourceFormat];this._dimValueGetter=c||this.defaultDimValueGetter;
this._rawExtent={};this._initDataFromProvider(0,a.count());a.pure&&(this.hasItemOption=!1)};ma.getProvider=function(){return this._rawData};ma.appendData=function(a){var b=this._rawData,c=this.count();b.appendData(a);a=b.count();b.persistent||(a+=c);this._initDataFromProvider(c,a)};ma._initDataFromProvider=function(a,b){if(!(a>=b)){for(var c,d=this._chunkSize,e=this._rawData,h=this._storage,n=this.dimensions,f=n.length,g=this._dimensionInfos,l=this._nameList,m=this._idList,q=this._rawExtent,r=this._nameRepeatCount=
{},t=this._chunkCount,u=t-1,z=0;z<f;z++){q[D=n[z]]||(q[D]=[1/0,-1/0]);var v=g[D];0===v.otherDims.itemName&&(c=this._nameDimIdx=z);0===v.otherDims.itemId&&(this._idDimIdx=z);var B=Tu[v.type];h[D]||(h[D]=[]);if((v=h[D][u])&&v.length<d){for(var A=new B(Math.min(b-u*d,d)),C=0;C<v.length;C++)A[C]=v[C];h[D][u]=A}for(v=t*d;v<b;v+=d)h[D].push(new B(Math.min(b-v,d)));this._chunkCount=h[D].length}for(t=Array(f);a<b;a++){t=e.getItem(a,t);z=Math.floor(a/d);u=a%d;for(v=0;v<f;v++){var D=n[v];A=h[D][z];B=this._dimValueGetter(t,
D,a,v);A[u]=B;D=q[D];B<D[0]&&(D[0]=B);B>D[1]&&(D[1]=B)}e.pure||(D=l[a],t&&null==D&&(null!=t.name?l[a]=D=t.name:null!=c&&(v=n[c],z=h[v][z])&&(D=z[u],(v=g[v].ordinalMeta)&&v.categories.length&&(D=v.categories[D]))),v=null==t?null:t.id,null==v&&null!=D&&(r[D]=r[D]||0,v=D,0<r[D]&&(v+="__ec__"+r[D]),r[D]++),null!=v&&(m[a]=v))}!e.persistent&&e.clean&&e.clean();this._rawCount=this._count=b;this._extent={};gs(this)}};ma.count=function(){return this._count};ma.getIndices=function(){var a=this._indices;if(a){var b=
a.constructor,c=this._count;if(b===Array)for(b=new b(c),d=0;d<c;d++)b[d]=a[d];else b=new b(a.buffer,0,c)}else{b=new (65535<this._rawCount?Xf:Xh)(this.count());for(var d=0;d<b.length;d++)b[d]=d}return b};ma.get=function(a,b){if(!(0<=b&&b<this._count))return NaN;var c=this._storage;if(!c[a])return NaN;b=this.getRawIndex(b);return c[a][Math.floor(b/this._chunkSize)][b%this._chunkSize]};ma.getByRawIndex=function(a,b){return 0<=b&&b<this._rawCount?(a=this._storage[a])?a[Math.floor(b/this._chunkSize)][b%
this._chunkSize]:NaN:NaN};ma._getFast=function(a,b){return this._storage[a][Math.floor(b/this._chunkSize)][b%this._chunkSize]};ma.getValues=function(a,b){var c=[];H(a)||(b=a,a=this.dimensions);for(var d=0,e=a.length;d<e;d++)c.push(this.get(a[d],b));return c};ma.hasValue=function(a){for(var b=this._dimensionsSummary.dataDimsOnCoord,c=this._dimensionInfos,d=0,e=b.length;d<e;d++)if("ordinal"!==c[b[d]].type&&isNaN(this.get(b[d],a)))return!1;return!0};ma.getDataExtent=function(a){a=this.getDimension(a);
var b=[1/0,-1/0];if(!this._storage[a])return b;var c,d=this.count();if(!this._indices)return this._rawExtent[a].slice();if(c=this._extent[a])return c.slice();b=(c=b)[0];for(var e=c[1],h=0;h<d;h++){var f=this._getFast(a,this.getRawIndex(h));f<b&&(b=f);f>e&&(e=f)}return c=[b,e],this._extent[a]=c,c};ma.getApproximateExtent=function(a){return a=this.getDimension(a),this._approximateExtent[a]||this.getDataExtent(a)};ma.setApproximateExtent=function(a,b){b=this.getDimension(b);this._approximateExtent[b]=
a.slice()};ma.getCalculationInfo=function(a){return this._calculationInfo[a]};ma.setCalculationInfo=function(a,b){Wh(a)?f(this._calculationInfo,a):this._calculationInfo[a]=b};ma.getSum=function(a){var b=0;if(this._storage[a])for(var c=0,d=this.count();c<d;c++){var e=this.get(a,c);isNaN(e)||(b+=e)}return b};ma.getMedian=function(a){var b=[];this.each(a,function(a,c){isNaN(a)||b.push(a)});a=[].concat(b).sort(function(a,b){return a-b});var c=this.count();return 0===c?0:1==c%2?a[(c-1)/2]:(a[c/2]+a[c/
2-1])/2};ma.rawIndexOf=function(a,b){a=(a&&this._invertedIndicesMap[a])[b];return null==a||isNaN(a)?-1:a};ma.indexOfName=function(a){for(var b=0,c=this.count();b<c;b++)if(this.getName(b)===a)return b;return-1};ma.indexOfRawIndex=function(a){if(!this._indices)return a;if(a>=this._rawCount||0>a)return-1;var b=this._indices,c=b[a];if(null!=c&&c<this._count&&c===a)return a;c=0;for(var d=this._count-1;c<=d;){var e=(c+d)/2|0;if(b[e]<a)c=e+1;else{if(!(b[e]>a))return e;d=e-1}}return-1};ma.indicesOfNearest=
function(a,b,c){var d=[];if(!this._storage[a])return d;null==c&&(c=1/0);for(var e=Number.MAX_VALUE,h=-1,f=0,n=this.count();f<n;f++){var g=b-this.get(a,f),l=Math.abs(g);g<=c&&l<=e&&((l<e||0<=g&&0>h)&&(e=l,h=g,d.length=0),d.push(f))}return d};ma.getRawIndex=Yf;ma.getRawDataItem=function(a){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(a));for(var b=[],c=0;c<this.dimensions.length;c++)b.push(this.get(this.dimensions[c],a));return b};ma.getName=function(a){a=this.getRawIndex(a);
return this._nameList[a]||jn(this,this._nameDimIdx,a)||""};ma.getId=function(a){return fj(this,this.getRawIndex(a))};ma.each=function(a,c,d,e){if(this._count){"function"==typeof a&&(e=d,d=c,c=a,a=[]);d=d||e||this;e=(a=b(gj(a),this.getDimension,this)).length;for(var h=0;h<this.count();h++)switch(e){case 0:c.call(d,h);break;case 1:c.call(d,this.get(a[0],h),h);break;case 2:c.call(d,this.get(a[0],h),this.get(a[1],h),h);break;default:for(var f=0,n=[];f<e;f++)n[f]=this.get(a[f],h);n[f]=h;c.apply(d,n)}}};
ma.filterSelf=function(a,c,d,e){if(this._count){"function"==typeof a&&(e=d,d=c,c=a,a=[]);d=d||e||this;a=b(gj(a),this.getDimension,this);e=this.count();var h=new (65535<this._rawCount?Xf:Xh)(e),f=[],n=a.length,g=0;a=a[0];for(var l=0;l<e;l++){var w=this.getRawIndex(l);if(0===n)var m=c.call(d,l);else if(1===n)m=this._getFast(a,w),m=c.call(d,m,l);else{for(m=0;m<n;m++)f[m]=this._getFast(a,w);f[m]=l;m=c.apply(d,f)}m&&(h[g++]=w)}return g<e&&(this._indices=h),this._count=g,this._extent={},this.getRawIndex=
this._indices?Zf:Yf,this}};ma.selectRange=function(a){if(this._count){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);var d=b.length;if(d){var e=this.count(),h=new (65535<this._rawCount?Xf:Xh)(e),f=0,g=b[0],l=a[g][0],m=a[g][1],q=!1;if(!this._indices){var r=0;if(1===d){var t=this._storage[b[0]];for(q=0;q<this._chunkCount;q++)for(var u=t[q],z=Math.min(this._count-q*this._chunkSize,this._chunkSize),v=0;v<z;v++)((ha=u[v])>=l&&ha<=m||isNaN(ha))&&(h[f++]=r),r++;q=!0}else if(2===d){t=this._storage[g];
var B=this._storage[b[1]],A=a[b[1]][0],C=a[b[1]][1];for(q=0;q<this._chunkCount;q++){u=t[q];var D=B[q];z=Math.min(this._count-q*this._chunkSize,this._chunkSize);for(v=0;v<z;v++){var ha=u[v],E=D[v];(ha>=l&&ha<=m||isNaN(ha))&&(E>=A&&E<=C||isNaN(E))&&(h[f++]=r);r++}}q=!0}}if(!q)if(1===d)for(v=0;v<e;v++)r=this.getRawIndex(v),((ha=this._getFast(g,r))>=l&&ha<=m||isNaN(ha))&&(h[f++]=r);else for(v=0;v<e;v++){g=!0;r=this.getRawIndex(v);for(q=0;q<d;q++)l=b[q],((ha=this._getFast(c,r))<a[l][0]||ha>a[l][1])&&(g=
!1);g&&(h[f++]=this.getRawIndex(v))}return f<e&&(this._indices=h),this._count=f,this._extent={},this.getRawIndex=this._indices?Zf:Yf,this}}};ma.mapArray=function(a,b,c,d){"function"==typeof a&&(d=c,c=b,b=a,a=[]);var e=[];return this.each(a,function(){e.push(b&&b.apply(this,arguments))},c||d||this),e};ma.map=function(a,c,d,e){d=d||e||this;e=kn(this,a=b(gj(a),this.getDimension,this));e._indices=this._indices;e.getRawIndex=e._indices?Zf:Yf;for(var h=e._storage,f=[],n=this._chunkSize,g=a.length,l=this.count(),
m=[],w=e._rawExtent,F=0;F<l;F++){for(var q=0;q<g;q++)m[q]=this.get(a[q],F);m[g]=F;q=c&&c.apply(d,m);if(null!=q){"object"!=typeof q&&(f[0]=q,q=f);var r=this.getRawIndex(F),t=Math.floor(r/n);r%=n;for(var u=0;u<q.length;u++){var z=a[u],v=q[u],B=w[z];(z=h[z])&&(z[t][r]=v);v<B[0]&&(B[0]=v);v>B[1]&&(B[1]=v)}}}return e};ma.downSample=function(a,b,c,d){var e=kn(this,[a]),h=[];b=Math.floor(1/b);var f=e._storage[a],n=this.count(),g=this._chunkSize;a=e._rawExtent[a];for(var l=new (65535<this._rawCount?Xf:Xh)(n),
m=0,w=0;w<n;w+=b){b>n-w&&(b=n-w,h.length=b);for(var F=0;F<b;F++){var q=this.getRawIndex(w+F);h[F]=f[Math.floor(q/g)][q%g]}F=c(h);q=this.getRawIndex(Math.min(w+d(h,F)||0,n-1));f[Math.floor(q/g)][q%g]=F;F<a[0]&&(a[0]=F);F>a[1]&&(a[1]=F);l[m++]=q}return e._count=m,e._indices=l,e.getRawIndex=Zf,e};ma.getItemModel=function(a){var b=this.hostModel;return new Ta(this.getRawDataItem(a),b,b&&b.ecModel)};ma.diff=function(a){var b=this;return new Wf(a?a.getIndices():[],this.getIndices(),function(b){return fj(a,
b)},function(a){return fj(b,a)})};ma.getVisual=function(a){var b=this._visual;return b&&b[a]};ma.setVisual=function(a,b){if(Wh(a))for(var c in a)a.hasOwnProperty(c)&&this.setVisual(c,a[c]);else this._visual=this._visual||{},this._visual[a]=b};ma.setLayout=function(a,b){if(Wh(a))for(var c in a)a.hasOwnProperty(c)&&this.setLayout(c,a[c]);else this._layout[a]=b};ma.getLayout=function(a){return this._layout[a]};ma.getItemLayout=function(a){return this._itemLayouts[a]};ma.setItemLayout=function(a,b,c){this._itemLayouts[a]=
c?f(this._itemLayouts[a]||{},b):b};ma.clearItemLayouts=function(){this._itemLayouts.length=0};ma.getItemVisual=function(a,b,c){a=(a=this._itemVisuals[a])&&a[b];return null!=a||c?a:this.getVisual(b)};ma.setItemVisual=function(a,b,c){var d=this._itemVisuals[a]||{},e=this.hasItemVisual;if(this._itemVisuals[a]=d,Wh(b))for(var h in b)b.hasOwnProperty(h)&&(d[h]=b[h],e[h]=!0);else d[b]=c,e[b]=!0};ma.clearAllVisual=function(){this._visual={};this._itemVisuals=[];this.hasItemVisual={}};var Uu=function(a){a.seriesIndex=
this.seriesIndex;a.dataIndex=this.dataIndex;a.dataType=this.dataType};ma.setItemGraphicEl=function(a,b){var c=this.hostModel;b&&(b.dataIndex=a,b.dataType=this.dataType,b.seriesIndex=c&&c.seriesIndex,"group"===b.type&&b.traverse(Uu,b));this._graphicEls[a]=b};ma.getItemGraphicEl=function(a){return this._graphicEls[a]};ma.eachItemGraphicEl=function(a,b){v(this._graphicEls,function(c,d){c&&a&&a.call(b,c,d)})};ma.cloneShallow=function(a){a||(a=b(this.dimensions,this.getDimensionInfo,this),a=new mc(a,this.hostModel));
(a._storage=this._storage,hn(a,this),this._indices)?a._indices=new this._indices.constructor(this._indices):a._indices=null;return a.getRawIndex=a._indices?Zf:Yf,a};ma.wrapMethod=function(a,b){var c=this[a];"function"==typeof c&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(a),this[a]=function(){var a=c.apply(this,arguments);return b.apply(this,[a].concat(ba(arguments)))})};ma.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];ma.CHANGABLE_METHODS=["filterSelf",
"selectRange"];var hj=function(a,b){return b=b||{},ln(b.coordDimensions||[],a,{dimsDef:b.dimensionsDefine||a.dimensionsDefine,encodeDef:b.encodeDefine||a.encodeDefine,dimCount:b.dimensionsCount,generateCoord:b.generateCoord,generateCoordCount:b.generateCoordCount})};Za.prototype.parse=function(a){return a};Za.prototype.getSetting=function(a){return this._setting[a]};Za.prototype.contain=function(a){var b=this._extent;return a>=b[0]&&a<=b[1]};Za.prototype.normalize=function(a){var b=this._extent;return b[1]===
b[0]?.5:(a-b[0])/(b[1]-b[0])};Za.prototype.scale=function(a){var b=this._extent;return a*(b[1]-b[0])+b[0]};Za.prototype.unionExtent=function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1])};Za.prototype.unionExtentFromData=function(a,b){this.unionExtent(a.getApproximateExtent(b))};Za.prototype.getExtent=function(){return this._extent.slice()};Za.prototype.setExtent=function(a,b){var c=this._extent;isNaN(a)||(c[0]=a);isNaN(b)||(c[1]=b)};Za.prototype.isBlank=function(){return this._isBlank};
Za.prototype.setBlank=function(a){this._isBlank=a};Za.prototype.getLabel=null;Kc(Za);Ve(Za,{registerWhenExtend:!0});$f.createByAxisModel=function(a){a=a.option;var c=a.data;c=c&&b(c,ks);return new $f({categories:c,needCollect:!c,deduplication:!1!==a.dedplication})};var Rp=$f.prototype;Rp.getOrdinal=function(a){return(this._map||(this._map=ia(this.categories))).get(a)};Rp.parseAndCollect=function(a){var b,c=this._needCollect;if("string"!=typeof a&&!c)return a;if(c&&!this._deduplication)return b=this.categories.length,
this.categories[b]=a,b;var d=this._map||(this._map=ia(this.categories));return null==(b=d.get(a))&&(c?(b=this.categories.length,this.categories[b]=a,d.set(a,b)):b=NaN),b};var Kk=Za.prototype,lj=Za.extend({type:"ordinal",init:function(a,b){a&&!H(a)||(a=new $f({categories:a}));this._ordinalMeta=a;this._extent=b||[0,a.categories.length-1]},parse:function(a){return"string"==typeof a?this._ordinalMeta.getOrdinal(a):Math.round(a)},contain:function(a){return a=this.parse(a),Kk.contain.call(this,a)&&null!=
this._ordinalMeta.categories[a]},normalize:function(a){return Kk.normalize.call(this,this.parse(a))},scale:function(a){return Math.round(Kk.scale.call(this,a))},getTicks:function(){for(var a=[],b=this._extent,c=b[0];c<=b[1];)a.push(c),c++;return a},getLabel:function(a){if(!this.isBlank())return this._ordinalMeta.categories[a]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},getOrdinalMeta:function(){return this._ordinalMeta},
niceTicks:va,niceExtent:va});lj.create=function(){return new lj};var rd=Za.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(a,b){var c=this._extent;isNaN(a)||(c[0]=parseFloat(a));isNaN(b)||(c[1]=parseFloat(b))},unionExtent:function(a){var b=this._extent;a[0]<b[0]&&(b[0]=a[0]);a[1]>b[1]&&(b[1]=a[1]);rd.prototype.setExtent.call(this,b[0],b[1])},getInterval:function(){return this._interval},setInterval:function(a){this._interval=a;this._niceExtent=this._extent.slice();this._intervalPrecision=
xd(a)+2},getTicks:function(){a:{var a=this._interval;var b=this._extent,c=this._niceExtent,d=this._intervalPrecision,e=[];if(a){b[0]<c[0]&&e.push(b[0]);for(var f=c[0];f<=c[1]&&(e.push(f),(f=ob(f+a,d))!==e[e.length-1]);)if(1E4<e.length){a=[];break a}a=(b[1]>(e.length?e[e.length-1]:c[1])&&e.push(b[1]),e)}else a=e}return a},getLabel:function(a,b){if(null==a)return"";b=b&&b.precision;return null==b?b=xd(a)||0:"auto"===b&&(b=this._intervalPrecision),a=ob(a,b,!0),$d(a)},niceTicks:function(a,b,c){a=a||5;
var d=this._extent,e=d[1]-d[0];isFinite(e)&&(0>e&&d.reverse(),e={},a=e.interval=xg((d[1]-d[0])/a,!0),null!=b&&a<b&&(a=e.interval=b),null!=c&&a>c&&(a=e.interval=c),b=e.intervalPrecision=xd(a)+2,d=(pn(e.niceTickExtent=[ob(Math.ceil(d[0]/a)*a,b),ob(Math.floor(d[1]/a)*a,b)],d),e),this._intervalPrecision=d.intervalPrecision,this._interval=d.interval,this._niceExtent=d.niceTickExtent)},niceExtent:function(a){var b=this._extent;if(b[0]===b[1])if(0!==b[0]){var c=b[0];a.fixMax?b[0]-=c/2:(b[1]+=c/2,b[0]-=c/
2)}else b[1]=1;isFinite(b[1]-b[0])||(b[0]=0,b[1]=1);this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=ob(Math.floor(b[0]/c)*c));a.fixMax||(b[1]=ob(Math.ceil(b[1]/c)*c))}});rd.create=function(){return new rd};var ls="__ec_stack_",Vu="undefined"!=typeof Float32Array?Float32Array:Array,Wu={seriesType:"bar",plan:Gk(),reset:function(a){if(a.coordinateSystem&&"cartesian2d"===a.coordinateSystem.type&&a.pipelineContext&&a.pipelineContext.large){var b=a.getData(),c=
a.coordinateSystem,d=c.getBaseAxis(),e=c.getOtherAxis(d),h=b.mapDimension(e.dim),f=b.mapDimension(d.dim),g=e.isHorizontal(),l=g?0:1,m=rn(jj([a]),d,a).width;return.5<m||(m=.5),{progress:function(a,b){for(var n,w=new Vu(2*a.count),F=[],q=[],K=0;null!=(n=a.next());)q[l]=b.get(h,n),q[1-l]=b.get(f,n),F=c.dataToPoint(q,null,F),w[K++]=F[0],w[K++]=F[1];b.setLayout({largePoints:w,barWidth:m,valueAxisStart:sn(d,e,!1),valueAxisHorizontal:g})}}}}},Xu=rd.prototype,Sp=Math.ceil,Tp=Math.floor,Mk=rd.extend({type:"time",
getLabel:function(a){return ri(this._stepLvl[0],new Date(a),this.getSetting("useUTC"))},niceExtent:function(a){var b=this._extent;if(b[0]===b[1]&&(b[0]-=864E5,b[1]+=864E5),b[1]===-1/0&&b[0]===1/0){var c=new Date;b[1]=+new Date(c.getFullYear(),c.getMonth(),c.getDate());b[0]=b[1]-864E5}this.niceTicks(a.splitNumber,a.minInterval,a.maxInterval);c=this._interval;a.fixMin||(b[0]=ob(Tp(b[0]/c)*c));a.fixMax||(b[1]=ob(Sp(b[1]/c)*c))},niceTicks:function(a,b,c){a=a||10;var d=this._extent,e=d[1]-d[0],h=e/a;null!=
b&&h<b&&(h=b);null!=c&&h>c&&(h=c);b=Lk.length;c=0;for(var f=b;c<f;){var n=c+f>>>1;Lk[n][1]<h?c=n+1:f=n}h=Lk[Math.min(c,b-1)];b=h[1];"year"===h[0]&&(b*=xg(e/b/a,!0));a=this.getSetting("useUTC")?0:6E4*(new Date(+d[0]||+d[1])).getTimezoneOffset();a=[Math.round(Sp((d[0]-a)/b)*b+a),Math.round(Tp((d[1]-a)/b)*b+a)];pn(a,d);this._stepLvl=h;this._interval=b;this._niceExtent=a},parse:function(a){return+yf(a)}});v(["contain","normalize"],function(a){Mk.prototype[a]=function(b){return Xu[a].call(this,this.parse(b))}});
var Lk=[["hh:mm:ss",1E3],["hh:mm:ss",5E3],["hh:mm:ss",1E4],["hh:mm:ss",15E3],["hh:mm:ss",3E4],["hh:mm\nMM-dd",6E4],["hh:mm\nMM-dd",3E5],["hh:mm\nMM-dd",6E5],["hh:mm\nMM-dd",9E5],["hh:mm\nMM-dd",18E5],["hh:mm\nMM-dd",36E5],["hh:mm\nMM-dd",72E5],["hh:mm\nMM-dd",216E5],["hh:mm\nMM-dd",432E5],["MM-dd\nyyyy",864E5],["MM-dd\nyyyy",1728E5],["MM-dd\nyyyy",2592E5],["MM-dd\nyyyy",3456E5],["MM-dd\nyyyy",432E6],["MM-dd\nyyyy",5184E5],["week",6048E5],["MM-dd\nyyyy",864E6],["week",12096E5],["week",18144E5],["month",
26784E5],["week",36288E5],["month",53568E5],["week",36288E5],["quarter",8208E6],["month",107136E5],["month",13392E6],["half-year",16416E6],["month",214272E5],["month",26784E6],["year",32832E6]];Mk.create=function(a){return new Mk({useUTC:a.ecModel.get("useUTC")})};var Yh=Za.prototype,Zh=rd.prototype,Yu=Math.floor,Zu=Math.ceil,$h=Math.pow,Vc=Math.log,Nk=Za.extend({type:"log",base:10,$constructor:function(){Za.apply(this,arguments);this._originalScale=new rd},getTicks:function(){var a=this._originalScale,
c=this._extent,d=a.getExtent();return b(Zh.getTicks.call(this),function(b){var e=ob($h(this.base,b));return e=b===c[0]&&a.__fixMin?ob(e,xd(d[0])):e,b===c[1]&&a.__fixMax?ob(e,xd(d[1])):e},this)},getLabel:Zh.getLabel,scale:function(a){return a=Yh.scale.call(this,a),$h(this.base,a)},setExtent:function(a,b){var c=this.base;a=Vc(a)/Vc(c);b=Vc(b)/Vc(c);Zh.setExtent.call(this,a,b)},getExtent:function(){var a=this.base,b=Yh.getExtent.call(this);b[0]=$h(a,b[0]);b[1]=$h(a,b[1]);a=this._originalScale;var c=
a.getExtent();return a.__fixMin&&(b[0]=ob(b[0],xd(c[0]))),a.__fixMax&&(b[1]=ob(b[1],xd(c[1]))),b},unionExtent:function(a){this._originalScale.unionExtent(a);var b=this.base;a[0]=Vc(a[0])/Vc(b);a[1]=Vc(a[1])/Vc(b);Yh.unionExtent.call(this,a)},unionExtentFromData:function(a,b){this.unionExtent(a.getApproximateExtent(b))},niceTicks:function(a){a=a||10;var b=this._extent,c=b[1]-b[0];if(!(c===1/0||0>=c)){var d=ql(c);for(.5>=a/c*d&&(d*=10);!isNaN(d)&&1>Math.abs(d)&&0<Math.abs(d);)d*=10;a=[ob(Zu(b[0]/d)*
d),ob(Yu(b[1]/d)*d)];this._interval=d;this._niceExtent=a}},niceExtent:function(a){Zh.niceExtent.call(this,a);var b=this._originalScale;b.__fixMin=a.fixMin;b.__fixMax=a.fixMax}});v(["contain","normalize"],function(a){Nk.prototype[a]=function(b){return b=Vc(b)/Vc(this.base),Yh[a].call(this,b)}});Nk.create=function(){return new Nk};var Ok={getMin:function(a){var b=this.option;a=a||null==b.rangeStart?b.min:b.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&"function"!=typeof a&&!I(a)&&(a=this.axis.scale.parse(a)),
a},getMax:function(a){var b=this.option;a=a||null==b.rangeEnd?b.max:b.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&"function"!=typeof a&&!I(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var a=this.option;return null==a.rangeStart&&null==a.rangeEnd&&!a.scale},getCoordSysModel:va,setRange:function(a,b){this.option.rangeStart=a;this.option.rangeEnd=b},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},$u=vd({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},
buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2;b=b.height/2;a.moveTo(c,d-b);a.lineTo(c+e,d+b);a.lineTo(c-e,d+b);a.closePath()}}),av=vd({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(a,b){var c=b.cx,d=b.cy,e=b.width/2;b=b.height/2;a.moveTo(c,d-b);a.lineTo(c+e,d);a.lineTo(c,d+b);a.lineTo(c-e,d);a.closePath()}}),bv=vd({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.x,d=b.y,e=b.width/5*3,h=Math.max(e,b.height);e/=2;b=e*e/(h-e);h=d-h+e+b;var f=
Math.asin(b/e),n=Math.cos(f)*e,g=Math.sin(f),l=Math.cos(f),m=.6*e,q=.7*e;a.moveTo(c-n,h+b);a.arc(c,h,e,Math.PI-f,2*Math.PI+f);a.bezierCurveTo(c+n-g*m,h+b+l*m,c,d-q,c,d);a.bezierCurveTo(c,d-q,c-n+g*m,h+b+l*m,c-n,h+b);a.closePath()}}),cv=vd({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(a,b){var c=b.height,d=b.x,e=b.y;b=b.width/3*2;a.moveTo(d,e);a.lineTo(d+b,e+c);a.lineTo(d,e+c/4*3);a.lineTo(d-b,e+c);a.lineTo(d,e);a.closePath()}}),dv={line:function(a,b,c,d,e){e.x1=a;e.y1=b+d/2;e.x2=
a+c;e.y2=b+d/2},rect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d},roundRect:function(a,b,c,d,e){e.x=a;e.y=b;e.width=c;e.height=d;e.r=Math.min(c,d)/4},square:function(a,b,c,d,e){c=Math.min(c,d);e.x=a;e.y=b;e.width=c;e.height=c},circle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.r=Math.min(c,d)/2},diamond:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d},pin:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=d},arrow:function(a,b,c,d,e){e.x=a+c/2;e.y=b+d/2;e.width=c;e.height=
d},triangle:function(a,b,c,d,e){e.cx=a+c/2;e.cy=b+d/2;e.width=c;e.height=d}},Pk={};v({line:sf,rect:jb,roundRect:jb,square:jb,circle:Hp,diamond:av,pin:bv,arrow:cv,triangle:$u},function(a,b){Pk[b]=new a});var qs=vd({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var a=this.style;"pin"===this.shape.symbolType&&"inside"===a.textPosition&&(a.textPosition=["50%","40%"],a.textAlign="center",a.textVerticalAlign="middle")},buildPath:function(a,b,c){var d=b.symbolType,e=
Pk[d];"none"!==b.symbolType&&(e||(e=Pk[d="rect"]),dv[d](b.x,b.y,b.width,b.height,e.shape),e.buildPath(a,e.shape,c))}}),ev=(Object.freeze||Object)({createList:function(a){return jh(a.getSource(),a)},getLayoutRect:$c,dataStack:{isDimensionStacked:Id,enableDataStack:nn,getStackedDimension:on},createScale:function(a,b){var c=b;Ta.isInstance(b)||C(c=new Ta(b),Ok);b=tn(c);return b.setExtent(a[0],a[1]),kj(b,c),b},mixinAxisModelCommonMethods:function(a){C(a,Ok)},completeDimensions:ln,createDimensions:hj,
createSymbol:ve}),vn=1E-8;nj.prototype={constructor:nj,properties:null,getBoundingRect:function(){var a=this._rect;if(a)return a;var b=Number.MAX_VALUE;a=[b,b];b=[-b,-b];for(var c=[],d=[],e=this.geometries,f=0;f<e.length;f++)if("polygon"===e[f].type){var g,l=e[f].exterior,m=c,q=d;if(0!==l.length){var r=l[0],t=r[0],u=r[0],z=r[1],v=r[1];for(g=1;g<l.length;g++)r=l[g],t=ub(t,r[0]),u=zb(u,r[0]),z=ub(z,r[1]),v=zb(v,r[1]);m[0]=t;m[1]=z;q[0]=u;q[1]=v}V(a,a,c);ja(b,b,d)}return 0===f&&(a[0]=a[1]=b[0]=b[1]=
0),this._rect=new Fa(a[0],a[1],b[0]-a[0],b[1]-a[1])},contain:function(a){var b=this.getBoundingRect(),c=this.geometries;if(!b.contain(a[0],a[1]))return!1;b=0;var d=c.length;a:for(;b<d;b++)if("polygon"===c[b].type){var e=c[b].interiors;if(un(c[b].exterior,a[0],a[1])){for(var h=0;h<(e?e.length:0);h++)if(un(e[h]))continue a;return!0}}return!1},transformTo:function(a,b,c,d){var e=this.getBoundingRect(),h=e.width/e.height;c?d||(d=c/h):c=h*d;a=new Fa(a,b,c,d);e=e.calculateTransform(a);b=this.geometries;
for(c=0;c<b.length;c++)if("polygon"===b[c].type){var f=b[c].exterior;d=b[c].interiors;for(h=0;h<f.length;h++)N(f[h],f[h],e);for(f=0;f<(d?d.length:0);f++)for(h=0;h<d[f].length;h++)N(d[f][h],d[f][h],e)}(e=this._rect).copy(a);this.center=[e.x+e.width/2,e.y+e.height/2]}};var Up=function(a){return rs(a),b(g(a.features,function(a){return a.geometry&&a.properties&&0<a.geometry.coordinates.length}),function(a){var b=a.properties;a=a.geometry;var c=a.coordinates,d=[];"Polygon"===a.type&&d.push({type:"polygon",
exterior:c[0],interiors:c.slice(1)});"MultiPolygon"===a.type&&v(c,function(a){a[0]&&d.push({type:"polygon",exterior:a[0],interiors:a.slice(1)})});a=new nj(b.name,d,b.cp);return a.properties=b,a})},bg=ic(),Vp=[0,1],tg=function(a,b,c){this.dim=a;this.scale=b;this._extent=c||[0,0];this.onBand=this.inverse=!1};tg.prototype={constructor:tg,contain:function(a){var b=this._extent,c=Math.max(b[0],b[1]);return a>=Math.min(b[0],b[1])&&a<=c},containData:function(a){return this.contain(this.dataToCoord(a))},
getExtent:function(){return this._extent.slice()},getPixelPrecision:function(a){return si(a||this.scale.getExtent(),this._extent)},setExtent:function(a,b){var c=this._extent;c[0]=a;c[1]=b},dataToCoord:function(a,b){var c=this._extent,d=this.scale;return a=d.normalize(a),this.onBand&&"ordinal"===d.type&&En(c=c.slice(),d.count()),mb(a,Vp,c,b)},coordToData:function(a,b){var c=this._extent,d=this.scale;this.onBand&&"ordinal"===d.type&&En(c=c.slice(),d.count());a=mb(a,c,Vp,b);return this.scale.scale(a)},
pointToData:function(a,b){},getTicksCoords:function(a){var c=(a=a||{}).tickModel||this.getTickModel(),d="category"===this.type?ss(this,c):{ticks:this.scale.getTicks()},e=b(d.ticks,function(a){return{coord:this.dataToCoord(a),tickValue:a}},this);c=c.get("alignWithLabel");return us(this,e,d.tickCategoryInterval,c,a.clamp),e},getViewLabels:function(){if("category"===this.type){var a=this.getLabelModel();var b=xn(this,a);a=!a.get("show")||this.scale.isBlank()?{labels:[],labelCategoryInterval:b.labelCategoryInterval}:
b}else a=ts(this);return a.labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var a=this._extent,b=this.scale.getExtent();b=b[1]-b[0]+(this.onBand?1:0);0===b&&(b=1);return Math.abs(Math.abs(a[1]-a[0]))/b},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){var a=this.getLabelModel();var b=this.getRotate?this.getRotate():this.isHorizontal&&!this.isHorizontal()?90:0;var c=
a.get("rotate")||0;a=a.getFont();var d=ag(this),e=(b-c)/180*Math.PI;b=this.scale;c=b.getExtent();b=b.count();if(1>c[1]-c[0])b=0;else{var f=1;40<b&&(f=Math.max(1,Math.floor(b/40)));var g=c[0],l=this.dataToCoord(g+1)-this.dataToCoord(g),m=Math.abs(l*Math.cos(e));e=Math.abs(l*Math.sin(e));var q=0;for(l=0;g<=c[1];g+=f){var r=Hb(d(g),a,"center","top");var t=1.3*r.width;r=1.3*r.height;q=Math.max(q,t,7);l=Math.max(l,r,7)}a=q/m;d=l/e;isNaN(a)&&(a=1/0);isNaN(d)&&(d=1/0);a=Math.max(0,Math.floor(Math.min(a,
d)));d=bg(this.model);c=d.lastAutoInterval;f=d.lastTickCount;b=(null!=c&&null!=f&&1>=Math.abs(c-a)&&1>=Math.abs(f-b)&&c>a?a=c:(d.lastTickCount=b,d.lastAutoInterval=a),a)}return b}};var Wp={};v("map each filter indexOf inherits reduce filter bind curry isArray isString isObject isFunction extend defaults clone merge".split(" "),function(a){Wp[a]=pu[a]});hf.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(a,b){return jh(this.getSource(),this)},defaultOption:{zlevel:0,
z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var zc=jf.prototype,fv=jf.getSymbolSize=function(a,b){a=a.getItemVisual(b,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};zc._createSymbol=
function(a,b,c,d,e){this.removeAll();b=ve(a,-1,-1,2,2,b.getItemVisual(c,"color"),e);b.attr({z2:100,culling:!0,scale:[d[0]/2,d[1]/2]});b.drift=vs;this._symbolType=a;this.add(b)};zc.stopSymbolAnimation=function(a){this.childAt(0).stopAnimation(a)};zc.getSymbolPath=function(){return this.childAt(0)};zc.getScale=function(){return this.childAt(0).scale};zc.highlight=function(){this.childAt(0).trigger("emphasis")};zc.downplay=function(){this.childAt(0).trigger("normal")};zc.setZ=function(a,b){var c=this.childAt(0);
c.zlevel=a;c.z=b};zc.setDraggable=function(a){var b=this.childAt(0);b.draggable=a;b.cursor=a?"move":"pointer"};zc.updateData=function(a,b,c){this.silent=!1;var d=a.getItemVisual(b,"symbol")||"circle",e=a.hostModel,h=fv(a,b),f=d!==this._symbolType;if(f){var g=a.getItemVisual(b,"symbolKeepAspect");this._createSymbol(d,a,b,h,g)}else(d=this.childAt(0)).silent=!1,nb(d,{scale:[h[0]/2,h[1]/2]},e,b);if(this._updateCommon(a,b,h,c),f)d=this.childAt(0),a=c&&c.fadeIn,c={scale:d.scale.slice()},a&&(c.style={opacity:d.style.opacity}),
d.scale=[0,0],a&&(d.style.opacity=0),ce(d,c,e,b);this._seriesModel=e};var gv=["itemStyle"],hv=["emphasis","itemStyle"],iv=["label"],jv=["emphasis","label"];zc._updateCommon=function(a,b,c,d){var e=this.childAt(0),h=a.hostModel,g=a.getItemVisual(b,"color");"image"!==e.type&&e.useStyle({strokeNoScale:!0});var n=d&&d.itemStyle,l=d&&d.hoverItemStyle,m=d&&d.symbolRotate,w=d&&d.symbolOffset,F=d&&d.labelModel,q=d&&d.hoverLabelModel,r=d&&d.hoverAnimation,t=d&&d.cursorStyle;if(!d||a.hasItemOption){var u=d&&
d.itemModel?d.itemModel:a.getItemModel(b);n=u.getModel(gv).getItemStyle(["color"]);l=u.getModel(hv).getItemStyle();m=u.getShallow("symbolRotate");w=u.getShallow("symbolOffset");F=u.getModel(iv);q=u.getModel(jv);r=u.getShallow("hoverAnimation");t=u.getShallow("cursor")}else l=f({},l);u=e.style;e.attr("rotation",(m||0)*Math.PI/180||0);w&&e.attr("position",[za(w[0],c[0]),za(w[1],c[1])]);t&&e.attr("cursor",t);e.setColor(g,d&&d.symbolInnerColor);e.setStyle(n);n=a.getItemVisual(b,"opacity");null!=n&&(u.opacity=
n);n=a.getItemVisual(b,"liftZ");m=e.__z2Origin;null!=n?null==m&&(e.__z2Origin=e.z2,e.z2+=n):null!=m&&(e.z2=m,e.__z2Origin=null);var z=d&&d.useNameLabel;Cf(u,l,F,q,{labelFetcher:h,labelDataIndex:b,defaultText:function(b,c){return z?a.getName(b):Fn(a,b)},isRectText:!0,autoColor:g});e.off("mouseover").off("mouseout").off("emphasis").off("normal");e.hoverStyle=l;wd(e);var v=[c[0]/2,c[1]/2];r&&h.isAnimationEnabled()&&(b=function(){this.incremental||this.animateTo({scale:[Math.max(1.1*v[0],v[0]+3),Math.max(1.1*
v[1],v[1]+v[1]/v[0]*3)]},400,"elasticOut")},c=function(){this.incremental||this.animateTo({scale:v},400,"elasticOut")},e.on("mouseover",b).on("mouseout",c).on("emphasis",b).on("normal",c))};zc.fadeOut=function(a,b){var c=this.childAt(0);this.silent=c.silent=!0;b&&b.keepLabel||(c.style.text=null);nb(c,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,a)};u(jf,xa);var tf=kh.prototype;tf.updateData=function(a,b){b=Gn(b);var c=this.group,d=a.hostModel,e=this._data,h=this._symbolCtor,f=
Hn(a);e||c.removeAll();a.diff(e).add(function(d){var e=a.getItemLayout(d);if(oj(a,e,d,b)){var g=new h(a,d,f);g.attr("position",e);a.setItemGraphicEl(d,g);c.add(g)}}).update(function(g,n){n=e.getItemGraphicEl(n);var l=a.getItemLayout(g);oj(a,l,g,b)?(n?(n.updateData(a,g,f),nb(n,{position:l},d)):(n=new h(a,g)).attr("position",l),c.add(n),a.setItemGraphicEl(g,n)):c.remove(n)}).remove(function(a){var b=e.getItemGraphicEl(a);b&&b.fadeOut(function(){c.remove(b)})}).execute();this._data=a};tf.isPersistent=
function(){return!0};tf.updateLayout=function(){var a=this._data;a&&a.eachItemGraphicEl(function(b,c){c=a.getItemLayout(c);b.attr("position",c)})};tf.incrementalPrepareUpdate=function(a){this._seriesScope=Hn(a);this._data=null;this.group.removeAll()};tf.incrementalUpdate=function(a,b,c){c=Gn(c);for(var d=a.start;d<a.end;d++){var e=b.getItemLayout(d);if(oj(b,e,d,c)){var h=new this._symbolCtor(b,d,this._seriesScope);h.traverse(function(a){a.isGroup||(a.incremental=a.useHoverLayer=!0)});h.attr("position",
e);this.group.add(h);b.setItemGraphicEl(d,h)}}};tf.remove=function(a){var b=this.group,c=this._data;c&&a?c.eachItemGraphicEl(function(a){a.fadeOut(function(){b.remove(a)})}):b.removeAll()};var kv=function(a,b,c,d,e,f,g,l){var h=xs(a,b),n=[],m=[],w=[],F=[],q=[],r=[],K=[],t=pj(e,b,g),da=pj(f,a,l);for(l=0;l<h.length;l++){var u=h[l],z=!0;switch(u.cmd){case "=":g=a.getItemLayout(u.idx);var ua=b.getItemLayout(u.idx1);(isNaN(g[0])||isNaN(g[1]))&&(g=ua.slice());n.push(g);m.push(ua);w.push(c[u.idx]);F.push(d[u.idx1]);
K.push(b.getRawIndex(u.idx1));break;case "+":g=u.idx;n.push(e.dataToPoint([b.get(t.dataDimsForPoint[0],g),b.get(t.dataDimsForPoint[1],g)]));m.push(b.getItemLayout(g).slice());w.push(qj(t,e,b,g));F.push(d[g]);K.push(b.getRawIndex(g));break;case "-":g=u.idx,ua=a.getRawIndex(g),ua!==g?(n.push(a.getItemLayout(g)),m.push(f.dataToPoint([a.get(da.dataDimsForPoint[0],g),a.get(da.dataDimsForPoint[1],g)])),w.push(c[g]),F.push(qj(da,f,a,g)),K.push(ua)):z=!1}z&&(q.push(u),r.push(r.length))}r.sort(function(a,
b){return K[a]-K[b]});a=[];b=[];c=[];d=[];e=[];for(l=0;l<r.length;l++)g=r[l],a[l]=n[g],b[l]=m[g],c[l]=w[g],d[l]=F[g],e[l]=q[g];return{current:a,next:b,stackedOnCurrent:c,stackedOnNext:d,status:e}},Jn=V,Kn=ja,In=la,lh=wa,sj=[],gc=[],nc=[],lv=Ca.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:zk(Ca.prototype.brush),buildPath:function(a,b){var c=b.points,d=0,e=c.length,h=tj(c,b.smoothConstraint);if(b.connectNulls){for(;0<
e&&sd(c[e-1]);e--);for(;d<e&&sd(c[d]);d++);}for(;d<e;)d+=rj(a,c,d,e,e,1,h.min,h.max,b.smooth,b.smoothMonotone,b.connectNulls)+1}}),mv=Ca.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:zk(Ca.prototype.brush),buildPath:function(a,b){var c=b.points,d=b.stackedOnPoints,e=0,h=c.length,f=b.smoothMonotone,g=tj(c,b.smoothConstraint),n=tj(d,b.smoothConstraint);if(b.connectNulls){for(;0<h&&sd(c[h-1]);h--);
for(;e<h&&sd(c[e]);e++);}for(;e<h;){var l=rj(a,c,e,h,h,1,g.min,g.max,b.smooth,f,b.connectNulls);rj(a,d,e+l-1,l,h,-1,n.min,n.max,b.stackedOnSmooth,f,b.connectNulls);e+=l+1;a.closePath()}}});cc.extend({type:"line",init:function(){var a=new xa,b=new kh;this.group.add(b.group);this._symbolDraw=b;this._lineGroup=a},render:function(a,b,c){b=a.coordinateSystem;var d=this.group,e=a.getData(),h=a.getModel("lineStyle"),f=a.getModel("areaStyle"),g=e.mapArray(e.getItemLayout),n="polar"===b.type,l=this._coordSys,
m=this._symbolDraw,w=this._polyline,r=this._polygon,t=this._lineGroup,u=a.get("animation"),z=!f.isEmpty(),v=f.get("origin"),B=As(b,e,pj(b,e,v)),A=a.get("showSymbol"),C=A&&!n&&Cs(a,e,b),D=this._data;D&&D.eachItemGraphicEl(function(a,b){a.__temp&&(d.remove(a),D.setItemGraphicEl(b,null))});A||m.remove();d.add(t);n=!n&&a.get("step");w&&l.type===b.type&&n===this._step?(z&&!r?r=this._newPolygon(g,B,b,u):r&&!z&&(t.remove(r),r=this._polygon=null),t.setClipPath(nh(b,!1,!1,a)),A&&m.updateData(e,{isIgnore:C,
clipShape:nh(b,!1,!0,a)}),e.eachItemGraphicEl(function(a){a.stopAnimation(!0)}),Ln(this._stackedOnPoints,B)&&Ln(this._points,g)||(u?this._updateAnimation(e,B,b,c,n,v):(n&&(g=Jd(g,b,n),B=Jd(B,b,n)),w.setShape({points:g}),r&&r.setShape({points:g,stackedOnPoints:B})))):(A&&m.updateData(e,{isIgnore:C,clipShape:nh(b,!1,!0,a)}),n&&(g=Jd(g,b,n),B=Jd(B,b,n)),w=this._newPolyline(g,b,u),z&&(r=this._newPolygon(g,B,b,u)),t.setClipPath(nh(b,!0,!1,a)));c=Bs(e,b)||e.getVisual("color");w.useStyle(q(h.getLineStyle(),
{fill:"none",stroke:c,lineJoin:"bevel"}));h=a.get("smooth");if(h=Mn(a.get("smooth")),w.setShape({smooth:h,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")}),r)w=e.getCalculationInfo("stackedOnSeries"),l=0,r.useStyle(q(f.getAreaStyle(),{fill:c,opacity:.7,lineJoin:"bevel"})),w&&(l=Mn(w.get("smooth"))),r.setShape({smooth:h,stackedOnSmooth:l,smoothMonotone:a.get("smoothMonotone"),connectNulls:a.get("connectNulls")});this._data=e;this._coordSys=b;this._stackedOnPoints=B;this._points=
g;this._step=n;this._valueOrigin=v},dispose:function(){},highlight:function(a,b,c,d){var e=a.getData(),h=ke(e,d);if(!(h instanceof Array)&&null!=h&&0<=h){b=e.getItemGraphicEl(h);if(!b){c=e.getItemLayout(h);if(!c)return;(b=new jf(e,h)).position=c;b.setZ(a.get("zlevel"),a.get("z"));b.ignore=isNaN(c[0])||isNaN(c[1]);b.__temp=!0;e.setItemGraphicEl(h,b);b.stopSymbolAnimation(!0);this.group.add(b)}b.highlight()}else cc.prototype.highlight.call(this,a,b,c,d)},downplay:function(a,b,c,d){var e=a.getData(),
h=ke(e,d);null!=h&&0<=h?(a=e.getItemGraphicEl(h))&&(a.__temp?(e.setItemGraphicEl(h,null),this.group.remove(a)):a.downplay()):cc.prototype.downplay.call(this,a,b,c,d)},_newPolyline:function(a){var b=this._polyline;return b&&this._lineGroup.remove(b),b=new lv({shape:{points:a},silent:!0,z2:10}),this._lineGroup.add(b),this._polyline=b,b},_newPolygon:function(a,b){var c=this._polygon;return c&&this._lineGroup.remove(c),c=new mv({shape:{points:a,stackedOnPoints:b},silent:!0}),this._lineGroup.add(c),this._polygon=
c,c},_updateAnimation:function(a,b,c,d,e,f){var h=this._polyline;d=this._polygon;var g=a.hostModel;b=kv(this._data,a,this._stackedOnPoints,b,this._coordSys,c,this._valueOrigin,f);f=b.current;var n=b.stackedOnCurrent,l=b.next,m=b.stackedOnNext;e&&(f=Jd(b.current,c,e),n=Jd(b.stackedOnCurrent,c,e),l=Jd(b.next,c,e),m=Jd(b.stackedOnNext,c,e));h.shape.__points=b.current;h.shape.points=f;nb(h,{shape:{points:l}},g);d&&(d.setShape({points:f,stackedOnPoints:n}),nb(d,{shape:{points:l,stackedOnPoints:m}},g));
var w=[];c=b.status;for(e=0;e<c.length;e++)"="===c[e].cmd&&(d=a.getItemGraphicEl(c[e].idx1))&&w.push({el:d,ptIdx:e});h.animators&&h.animators.length&&h.animators[0].during(function(){for(var a=0;a<w.length;a++)w[a].el.attr("position",h.shape.__points[w[a].ptIdx])})},remove:function(a){var b=this.group,c=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);c&&c.eachItemGraphicEl(function(a,d){a.__temp&&(b.remove(a),c.setItemGraphicEl(d,null))});this._polyline=this._polygon=this._coordSys=
this._points=this._stackedOnPoints=this._data=null}});var Xp=function(a,b,c){return{seriesType:a,performRawSeries:!0,reset:function(a,d,e){e=a.getData();var h=a.get("symbol")||b,f=a.get("symbolSize"),g=a.get("symbolKeepAspect");if(e.setVisual({legendSymbol:c||h,symbol:h,symbolSize:f,symbolKeepAspect:g}),!d.isSeriesFiltered(a))return{dataEach:e.hasItemOption||"function"==typeof f?function(b,c){if("function"==typeof f){var d=a.getRawValue(c),e=a.getDataParams(c);b.setItemVisual(c,"symbolSize",f(d,e))}if(b.hasItemOption){var h=
b.getItemModel(c);d=h.getShallow("symbol",!0);e=h.getShallow("symbolSize",!0);h=h.getShallow("symbolKeepAspect",!0);null!=d&&b.setItemVisual(c,"symbol",d);null!=e&&b.setItemVisual(c,"symbolSize",e);null!=h&&b.setItemVisual(c,"symbolKeepAspect",h)}}:null}}}},Qk=function(a){return{seriesType:a,plan:Gk(),reset:function(a){var c=a.getData(),d=a.coordinateSystem,e=a.pipelineContext.large;if(d){var h=b(d.dimensions,function(a){return c.mapDimension(a)}).slice(0,2),f=h.length;a=c.getCalculationInfo("stackResultDimension");
return Id(c,h[0])&&(h[0]=a),Id(c,h[1])&&(h[1]=a),f&&{progress:function(a,b){var c=a.end-a.start;c=e&&new Float32Array(c*f);for(var g=a.start,n=0,l=[],m=[];g<a.end;g++){if(1===f){var w=b.get(h[0],g);w=!isNaN(w)&&d.dataToPoint(w,null,m)}else{w=l[0]=b.get(h[0],g);var F=l[1]=b.get(h[1],g);w=!isNaN(w)&&!isNaN(F)&&d.dataToPoint(l,null,m)}e?(c[n++]=w?w[0]:NaN,c[n++]=w?w[1]:NaN):b.setItemLayout(g,w&&w.slice()||[NaN,NaN])}e&&b.setLayout("symbolPoints",c)}}}}}},nv={average:function(a){for(var b=0,c=0,d=0;d<
a.length;d++)isNaN(a[d])||(b+=a[d],c++);return 0===c?NaN:b/c},sum:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]||0;return b},max:function(a){for(var b=-1/0,c=0;c<a.length;c++)a[c]>b&&(b=a[c]);return isFinite(b)?b:NaN},min:function(a){for(var b=1/0,c=0;c<a.length;c++)a[c]<b&&(b=a[c]);return isFinite(b)?b:NaN},nearest:function(a){return a[0]}},ov=function(a,b){return Math.round(a.length/2)},oh=function(a){this._axes={};this._dimList=[];this.name=a||""};oh.prototype={constructor:oh,type:"cartesian",
getAxis:function(a){return this._axes[a]},getAxes:function(){return b(this._dimList,Es,this)},getAxesByScale:function(a){return a=a.toLowerCase(),g(this.getAxes(),function(b){return b.scale.type===a})},addAxis:function(a){var b=a.dim;this._axes[b]=a;this._dimList.push(b)},dataToCoord:function(a){return this._dataCoordConvert(a,"dataToCoord")},coordToData:function(a){return this._dataCoordConvert(a,"coordToData")},_dataCoordConvert:function(a,b){for(var c=this._dimList,d=a instanceof Array?[]:{},e=
0;e<c.length;e++){var h=c[e];d[h]=this._axes[h][b](a[h])}return d}};eg.prototype={constructor:eg,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(a){var b=this.getAxis("x"),c=this.getAxis("y");return b.contain(b.toLocalCoord(a[0]))&&c.contain(c.toLocalCoord(a[1]))},containData:function(a){return this.getAxis("x").containData(a[0])&&this.getAxis("y").containData(a[1])},dataToPoint:function(a,
b,c){b=this.getAxis("x");var d=this.getAxis("y");return c=c||[],c[0]=b.toGlobalCoord(b.dataToCoord(a[0])),c[1]=d.toGlobalCoord(d.dataToCoord(a[1])),c},clampData:function(a,b){var c=this.getAxis("x").scale,d=this.getAxis("y").scale,e=c.getExtent(),h=d.getExtent();c=c.parse(a[0]);a=d.parse(a[1]);return b=b||[],b[0]=Math.min(Math.max(Math.min(e[0],e[1]),c),Math.max(e[0],e[1])),b[1]=Math.min(Math.max(Math.min(h[0],h[1]),a),Math.max(h[0],h[1])),b},pointToData:function(a,b){var c=this.getAxis("x"),d=this.getAxis("y");
return b=b||[],b[0]=c.coordToData(c.toLocalCoord(a[0])),b[1]=d.coordToData(d.toLocalCoord(a[1])),b},getOtherAxis:function(a){return this.getAxis("x"===a.dim?"y":"x")}};u(eg,oh);var ai=function(a,b,c,d,e){tg.call(this,a,b,c);this.type=d||"value";this.position=e||"bottom"};ai.prototype={constructor:ai,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var a=this.position;return"top"===a||"bottom"===a},getGlobalExtent:function(a){var b=this.getExtent();return b[0]=this.toGlobalCoord(b[0]),
b[1]=this.toGlobalCoord(b[1]),a&&b[0]>b[1]&&b.reverse(),b},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(a,b){return this.coordToData(this.toLocalCoord(a["x"===this.dim?0:1]),b)},toLocalCoord:null,toGlobalCoord:null};u(ai,tg);var Yp={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,
onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Fe={};Fe.categoryAxis=m({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,
interval:"auto"},axisLabel:{interval:"auto"}},Yp);Fe.valueAxis=m({boundaryGap:[0,0],splitNumber:5},Yp);Fe.timeAxis=q({scale:!0,min:"dataMin",max:"dataMax"},Fe.valueAxis);Fe.logAxis=q({scale:!0,logBase:10},Fe.valueAxis);var pv=["value","category","time","log"],Zp=function(a,b,c,d){v(pv,function(e){b.extend({type:a+"Axis."+e,mergeDefaultAndTheme:function(b,d){var h=this.layoutMode,f=h?Re({},b):{};m(b,d.getTheme().get(e+"Axis"));m(b,this.getDefaultOption());b.type=c(a,b);h&&be(b,f,h)},optionUpdated:function(){"category"===
this.option.type&&(this.__ordinalMeta=$f.createByAxisModel(this))},getCategories:function(a){var b=this.option;if("category"===b.type)return a?b.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:l([{},Fe[e+"Axis"],d],!0)})});Ua.registerSubTypeDefaulter(a+"Axis",D(c,a))},uf=Ua.extend({type:"cartesian2dAxis",axis:null,init:function(){uf.superApply(this,"init",arguments);this.resetRange()},mergeOption:function(){uf.superApply(this,"mergeOption",arguments);
this.resetRange()},restoreData:function(){uf.superApply(this,"restoreData",arguments);this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});m(uf.prototype,Ok);var $p={offset:0};Zp("x",uf,On,$p);Zp("y",uf,On,$p);Ua.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",
borderWidth:1,borderColor:"#ccc"}});var Kb=kf.prototype;Kb.type="grid";Kb.axisPointerEnabled=!0;Kb.getRect=function(){return this._rect};Kb.update=function(a,b){var c=this._axesMap;this._updateScale(a,this.model);v(c.x,function(a){kj(a.scale,a.model)});v(c.y,function(a){kj(a.scale,a.model)});v(c.x,function(a){Pn(c,"y",a)});v(c.y,function(a){Pn(c,"x",a)});this.resize(this.model,b)};Kb.resize=function(a,b,c){function d(){v(h,function(a){var b=a.isHorizontal(),c=b?[0,e.width]:[0,e.height],d=a.inverse?
1:0;a.setExtent(c[d],c[1-d]);Fs(a,b?e.x:e.y)})}var e=$c(a.getBoxLayoutParams(),{width:b.getWidth(),height:b.getHeight()});this._rect=e;var h=this._axesList;d();!c&&a.get("containLabel")&&(v(h,function(a){if(!a.model.get("axisLabel.inside")){var b;var c=a.scale;if(a.model.get("axisLabel.show")&&!c.isBlank()){var d="category"===a.type,h=c.getExtent();c=d?c.count():(b=c.getTicks()).length;var f;d=a.getLabelModel();var g=ag(a),n=1;40<c&&(n=Math.ceil(c/40));for(var l=0;l<c;l+=n){var m=g(b?b[l]:h[0]+l),
w=d.getTextRect(m);m=(d.get("rotate")||0)*Math.PI/180;w=w.plain();var F=w.width,q=w.height;m=new Fa(w.x,w.y,F*Math.cos(m)+q*Math.sin(m),F*Math.sin(m)+q*Math.cos(m));f?f.union(m):f=m}b=f}else b=void 0;b&&(h=a.isHorizontal()?"height":"width",f=a.model.get("axisLabel.margin"),e[h]-=b[h]+f,"top"===a.position?e.y+=b.height+f:"left"===a.position&&(e.x+=b.width+f))}}),d())};Kb.getAxis=function(a,b){a=this._axesMap[a];if(null!=a){if(null==b)for(var c in a)if(a.hasOwnProperty(c))return a[c];return a[b]}};
Kb.getAxes=function(){return this._axesList.slice()};Kb.getCartesian=function(a,b){if(null!=a&&null!=b)return this._coordsMap["x"+a+"y"+b];M(a)&&(b=a.yAxisIndex,a=a.xAxisIndex);for(var c=0,d=this._coordsList;c<d.length;c++)if(d[c].getAxis("x").index===a||d[c].getAxis("y").index===b)return d[c]};Kb.getCartesians=function(){return this._coordsList.slice()};Kb.convertToPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.dataToPoint(c):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(c)):
null};Kb.convertFromPixel=function(a,b,c){a=this._findConvertTarget(a,b);return a.cartesian?a.cartesian.pointToData(c):a.axis?a.axis.coordToData(a.axis.toLocalCoord(c)):null};Kb._findConvertTarget=function(a,b){var c,d;a=b.seriesModel;var e=b.xAxisModel||a&&a.getReferringComponents("xAxis")[0],h=b.yAxisModel||a&&a.getReferringComponents("yAxis")[0];b=b.gridModel;var f=this._coordsList;return a?0>B(f,c=a.coordinateSystem)&&(c=null):e&&h?c=this.getCartesian(e.componentIndex,h.componentIndex):e?d=this.getAxis("x",
e.componentIndex):h?d=this.getAxis("y",h.componentIndex):b&&b.coordinateSystem===this&&(c=this._coordsList[0]),{cartesian:c,axis:d}};Kb.containPoint=function(a){var b=this._coordsList[0];if(b)return b.containPoint(a)};Kb._initCartesian=function(a,b,c){function d(b){return function(c,d){if(c.getCoordSysModel()===a){var g=c.get("position");"x"===b?"top"!==g&&"bottom"!==g&&e[g="bottom"]&&(g="top"===g?"bottom":"top"):"left"!==g&&"right"!==g&&e[g="left"]&&(g="left"===g?"right":"left");e[g]=!0;g=new ai(b,
tn(c),[0,0],c.get("type"),g);g.onBand="category"===g.type&&c.get("boundaryGap");g.inverse=c.get("inverse");c.axis=g;g.model=c;g.grid=this;g.index=d;this._axesList.push(g);h[b][d]=g;f[b]++}}}var e={left:!1,right:!1,top:!1,bottom:!1},h={x:{},y:{}},f={x:0,y:0};if(b.eachComponent("xAxis",d("x"),this),b.eachComponent("yAxis",d("y"),this),!f.x||!f.y)return this._axesMap={},void(this._axesList=[]);this._axesMap=h;v(h.x,function(b,c){v(h.y,function(d,e){e="x"+c+"y"+e;var h=new eg(e);h.grid=this;h.model=a;
this._coordsMap[e]=h;this._coordsList.push(h);h.addAxis(b);h.addAxis(d)},this)},this)};Kb._updateScale=function(a,b){function c(a,b,c){v(a.mapDimension(b.dim,!0),function(c){b.scale.unionExtentFromData(a,on(a,c))})}v(this._axesList,function(a){a.scale.setExtent(1/0,-1/0)});a.eachSeries(function(a){if(Sn(a)){var d=Rn(a),e=d[0];d=d[1];var h;(h=e.getCoordSysModel()!==b)||(h=d.getCoordSysModel()!==b);h||(e=this.getCartesian(e.componentIndex,d.componentIndex),a=a.getData(),d=e.getAxis("x"),e=e.getAxis("y"),
"list"===a.type&&(c(a,d),c(a,e)))}},this)};Kb.getTooltipAxes=function(a){var b=[],c=[];return v(this.getCartesians(),function(d){var e=null!=a&&"auto"!==a?d.getAxis(a):d.getBaseAxis();d=d.getOtherAxis(e);0>B(b,e)&&b.push(e);0>B(c,d)&&c.push(d)}),{baseAxes:b,otherAxes:c}};var Gs=["xAxis","yAxis"];kf.create=function(a,b){var c=[];return a.eachComponent("grid",function(d,e){var h=new kf(d,a,b);h.name="grid_"+e;h.resize(d,b,!0);d.coordinateSystem=h;c.push(h)}),a.eachSeries(function(a){if(Sn(a)){var b=
Rn(a),c=b[0];b=b[1];var d=c.getCoordSysModel().coordinateSystem;a.coordinateSystem=d.getCartesian(c.componentIndex,b.componentIndex)}}),c};kf.dimensions=kf.prototype.dimensions=eg.prototype.dimensions;md.register("cartesian2d",kf);var Kd=Math.PI,ug=function(a,b){this.opt=b;this.axisModel=a;q(b,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new xa;a=new xa({position:b.position.slice(),rotation:b.rotation});a.updateTransform();this._transform=a.transform;this._dumbGroup=
a};ug.prototype={constructor:ug,hasBuilder:function(a){return!!aq[a]},add:function(a){aq[a].call(this)},getGroup:function(){return this.group}};var aq={axisLine:function(){var a=this.opt,b=this.axisModel;if(b.get("axisLine.show")){var c=this.axisModel.axis.getExtent(),d=this._transform,e=[c[0],0];c=[c[1],0];d&&(N(e,e,d),N(c,c,d));var g=f({lineCap:"round"},b.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new sf(zf({anid:"line",shape:{x1:e[0],y1:e[1],x2:c[0],y2:c[1]},style:g,strokeContainThreshold:a.strokeContainThreshold||
5,silent:!0,z2:1})));var l=b.get("axisLine.symbol");d=b.get("axisLine.symbolSize");b=b.get("axisLine.symbolOffset")||0;if("number"==typeof b&&(b=[b,b]),null!=l){"string"==typeof l&&(l=[l,l]);"string"!=typeof d&&"number"!=typeof d||(d=[d,d]);var m=d[0],q=d[1];v([{rotate:a.rotation+Math.PI/2,offset:b[0],r:0},{rotate:a.rotation-Math.PI/2,offset:b[1],r:Math.sqrt((e[0]-c[0])*(e[0]-c[0])+(e[1]-c[1])*(e[1]-c[1]))}],function(b,c){if("none"!==l[c]&&null!=l[c]){c=ve(l[c],-m/2,-q/2,m,q,g.stroke,!0);var d=b.r+
b.offset;c.attr({rotation:b.rotate,position:[e[0]+d*Math.cos(a.rotation),e[1]-d*Math.sin(a.rotation)],silent:!0});this.group.add(c)}},this)}}},axisTickLabel:function(){var a=this.axisModel,b=this.opt;var c=a.axis;if(a.get("axisTick.show")&&!c.scale.isBlank()){var d=a.getModel("axisTick");var e=d.getModel("lineStyle");d=d.get("length");c=c.getTicksCoords();for(var f=[],g=[],l=this._transform,m=[],r=0;r<c.length;r++){var t=c[r].coord;f[0]=t;f[1]=0;g[0]=t;g[1]=b.tickDirection*d;l&&(N(f,f,l),N(g,g,l));
t=new sf(zf({anid:"tick_"+c[r].tickValue,shape:{x1:f[0],y1:f[1],x2:g[0],y2:g[1]},style:q(e.getLineStyle(),{stroke:a.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));this.group.add(t);m.push(t)}e=m}else e=void 0;g=Is(this,a,b);b=a.get("axisLabel.showMinLabel");a=a.get("axisLabel.showMaxLabel");g=g||[];e=e||[];d=g[0];c=g[1];f=g[g.length-1];g=g[g.length-2];l=e[0];m=e[1];r=e[e.length-1];e=e[e.length-2];!1===b?(Eb(d),Eb(l)):Vn(d,c)&&(b?(Eb(c),Eb(m)):(Eb(d),Eb(l)));!1===a?(Eb(f),Eb(r)):Vn(g,f)&&(a?(Eb(g),
Eb(e)):(Eb(f),Eb(r)))},axisName:function(){var a=this.opt,b=this.axisModel,c=X(a.axisName,b.get("name"));if(c){var d,e=b.get("nameLocation"),g=a.nameDirection,l=b.getModel("nameTextStyle"),m=b.get("nameGap")||0,q=this.axisModel.axis.getExtent(),r=q[0]>q[1]?-1:1;m=["start"===e?q[0]-r*m:"end"===e?q[1]+r*m:(q[0]+q[1])/2,"middle"===e||"center"===e?a.labelOffset+g*m:0];r=b.get("nameRotate");null!=r&&(r=r*Kd/180);var t;"middle"===e||"center"===e?d=Wn(a.rotation,null!=r?r:a.rotation,g):(d=Hs(a,e,r||0,q),
null!=(t=a.axisNameAvailableWidth)&&(t=Math.abs(t/Math.sin(d.rotation)),!isFinite(t)&&(t=null)));e=l.getFont();g=b.get("nameTruncate",!0)||{};q=g.ellipsis;a=X(a.nameTruncateMaxWidth,g.maxWidth,t);a=null!=q&&null!=a?Kp(c,a,e,q,{minChar:2,placeholder:g.placeholder}):c;t=b.get("tooltip",!0);g=b.mainType;q={componentType:g,name:c,$vars:["name"]};q[g+"Index"]=b.componentIndex;m=new $a({anid:"name",__fullText:c,__truncatedText:a,position:m,rotation:d.rotation,silent:Un(b),z2:1,tooltip:t&&t.show?f({content:c,
formatter:function(){return c},formatterParams:q},t):null});ad(m.style,l,{text:a,textFont:e,textFill:l.getTextColor()||b.get("axisLine.lineStyle.color"),textAlign:d.textAlign,textVerticalAlign:d.textVerticalAlign});b.get("triggerEvent")&&(m.eventData=Tn(b),m.eventData.targetType="axisName",m.eventData.name=c);this._dumbGroup.add(m);m.updateTransform();this.group.add(m);m.decomposeTransform()}}},Wn=ug.innerTextLayout=function(a,b,c){var d,e;a=wi(b-a);return Af(a)?(e=0<c?"top":"bottom",d="center"):
Af(a-Kd)?(e=0<c?"bottom":"top",d="center"):(e="middle",d=0<a&&a<Kd?0<c?"right":"left":0<c?"left":"right"),{rotation:a,textAlign:d,textVerticalAlign:e}},lf=v,vj=D,Ld=Oc({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(a,b,c,d){if(this.axisPointerClass){var e=wj(a);if(e){var h=e.axisPointerModel,f=e.axis.scale,g=h.option,n=h.get("status"),l=h.get("value");null!=l&&(l=f.parse(l));h=!!h.get("handle.show");null==n&&(g.status=h?"show":"hide");f=f.getExtent().slice();f[0]>f[1]&&f.reverse();
(null==l||l>f[1])&&(l=f[1]);l<f[0]&&(l=f[0]);g.value=l;h&&(g.status=e.axis.scale.isBlank()?"hide":"show")}}Ld.superApply(this,"render",arguments);Xn(this,a,0,c,0,!0)},updateAxisPointer:function(a,b,c,d,e){Xn(this,a,0,c,0,!1)},remove:function(a,b){var c=this._axisPointer;c&&c.remove(b);Ld.superApply(this,"remove",arguments)},dispose:function(a,b){var c=this._axisPointer;c&&c.dispose(b,void 0);this._axisPointer=null;Ld.superApply(this,"dispose",arguments)}}),bq=[];Ld.registerAxisPointerClass=function(a,
b){bq[a]=b};Ld.getAxisPointerClass=function(a){return a&&bq[a]};var qv=["axisLine","axisTickLabel","axisName"],rv=["splitArea","splitLine"],Rk=Ld.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(a,b,c,d){this.group.removeAll();var e=this._axisGroup;if(this._axisGroup=new xa,this.group.add(this._axisGroup),a.get("show")){var h=a.getCoordSysModel(),f=xj(h,a);f=new ug(a,f);v(qv,f.add,f);this._axisGroup.add(f.getGroup());v(rv,function(b){a.get(b+".show")&&this["_"+
b](a,h)},this);xl(e,this._axisGroup,a);Rk.superCall(this,"render",a,b,c,d)}},remove:function(){this._splitAreaColors=null},_splitLine:function(a,b){var c=a.axis;if(!c.scale.isBlank()){var d=a.getModel("splitLine"),e=d.getModel("lineStyle");a=e.get("color");a=H(a)?a:[a];b=b.coordinateSystem.getRect();var h=c.isHorizontal(),f=0;d=c.getTicksCoords({tickModel:d});var g=[],n=[];e=e.getLineStyle();for(var l=0;l<d.length;l++){var m=c.toGlobalCoord(d[l].coord);h?(g[0]=m,g[1]=b.y,n[0]=m,n[1]=b.y+b.height):
(g[0]=b.x,g[1]=m,n[0]=b.x+b.width,n[1]=m);m=f++%a.length;this._axisGroup.add(new sf(zf({anid:null!=d[l].tickValue?"line_"+d[l].tickValue:null,shape:{x1:g[0],y1:g[1],x2:n[0],y2:n[1]},style:q({stroke:a[m]},e),silent:!0})))}}},_splitArea:function(a,b){var c=a.axis;if(!c.scale.isBlank()){var d=a.getModel("splitArea"),e=d.getModel("areaStyle");a=e.get("color");b=b.coordinateSystem.getRect();d=c.getTicksCoords({tickModel:d,clamp:!0});if(d.length){var h=a.length,f=this._splitAreaColors,g=ia(),n=0;if(f)for(m=
0;m<d.length;m++){var l=f.get(d[m].tickValue);if(null!=l){n=(l+(h-1)*m)%h;break}}f=c.toGlobalCoord(d[0].coord);e=e.getAreaStyle();a=H(a)?a:[a];for(var m=1;m<d.length;m++){var r,t,u,z;l=c.toGlobalCoord(d[m].coord);c.isHorizontal()?(r=f,t=b.y,u=l-r,z=b.height,f=r+u):(r=b.x,t=f,u=b.width,f=t+(z=l-t));l=d[m-1].tickValue;null!=l&&g.set(l,n);this._axisGroup.add(new jb({anid:null!=l?"area_"+l:null,shape:{x:r,y:t,width:u,height:z},style:q({fill:a[n]},e),silent:!0}));n=(n+1)%h}this._splitAreaColors=g}}}});
Rk.extend({type:"xAxis"});Rk.extend({type:"yAxis"});Oc({type:"grid",render:function(a,b){this.group.removeAll();a.get("show")&&this.group.add(new jb({shape:a.coordinateSystem.getRect(),style:q({fill:a.get("backgroundColor")},a.getItemStyle()),silent:!0,z2:-1}))}});pd(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})});gf(Xp("line","circle","line"));ff(Qk("line"));ue(Jk.PROCESSOR.STATISTIC,function(a){return{seriesType:a,modifyOutputEnd:!0,reset:function(a,b,c){b=a.getData();c=a.get("sampling");var d=
a.coordinateSystem;if("cartesian2d"===d.type&&c){var e=d.getBaseAxis();d=d.getOtherAxis(e);e=e.getExtent();e=e[1]-e[0];e=Math.round(b.count()/e);if(1<e){var h;"string"==typeof c?h=nv[c]:"function"==typeof c&&(h=c);h&&a.setData(b.downSample(b.mapDimension(d.dim),1/e,h,ov))}}}}}("line"));hf.extend({type:"series.__base_bar__",getInitialData:function(a,b){return jh(this.getSource(),this)},getMarkerPosition:function(a){var b=this.coordinateSystem;if(b){a=b.dataToPoint(b.clampData(a));var c=this.getData(),
d=c.getLayout("offset");c=c.getLayout("size");return a[b.getBaseAxis().isHorizontal()?0:1]+=d+c/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3E3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var a=
this.get("progressiveThreshold"),b=this.get("largeThreshold");return b>a&&(a=b),a}});var sv=Nh([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),tv=["itemStyle","barBorderWidth"];f(Ta.prototype,{getBarItemStyle:function(a){a=sv(this,a);if(this.getBorderLineDash){var b=this.getBorderLineDash();b&&(a.lineDash=b)}return a}});ej({type:"bar",render:function(a,
b,c){this._updateDrawMode(a);var d=a.get("coordinateSystem");return"cartesian2d"!==d&&"polar"!==d||(this._isLargeDraw?this._renderLarge(a,b,c):this._renderNormal(a,b,c)),this.group},incrementalPrepareRender:function(a,b,c){this._clear();this._updateDrawMode(a)},incrementalRender:function(a,b,c,d){this._incrementalRenderLarge(a,b)},_updateDrawMode:function(a){a=a.pipelineContext.large;(null==this._isLargeDraw||a^this._isLargeDraw)&&(this._isLargeDraw=a,this._clear())},_renderNormal:function(a,b,c){var d,
e=this.group,h=a.getData(),f=this._data,g=a.coordinateSystem;b=g.getBaseAxis();"cartesian2d"===g.type?d=b.isHorizontal():"polar"===g.type&&(d="angle"===b.dim);var l=a.isAnimationEnabled()?a:null;h.diff(f).add(function(b){if(h.hasValue(b)){var c=h.getItemModel(b),f=cq[g.type](h,b,c),n=dq[g.type](h,b,c,f,d,l);h.setItemGraphicEl(b,n);e.add(n);$n(n,h,b,c,f,a,d,"polar"===g.type)}}).update(function(b,c){c=f.getItemGraphicEl(c);if(h.hasValue(b)){var n=h.getItemModel(b),m=cq[g.type](h,b,n);c?nb(c,{shape:m},
l,b):c=dq[g.type](h,b,n,m,d,l,!0);h.setItemGraphicEl(b,c);e.add(c);$n(c,h,b,n,m,a,d,"polar"===g.type)}else e.remove(c)}).remove(function(a){var b=f.getItemGraphicEl(a);"cartesian2d"===g.type?b&&Yn(a,l,b):b&&Zn(a,l,b)}).execute();this._data=h},_renderLarge:function(a,b,c){this._clear();ao(a,this.group)},_incrementalRenderLarge:function(a,b){ao(b,this.group,!0)},dispose:va,remove:function(a){this._clear(a)},_clear:function(a){var b=this.group,c=this._data;a&&a.get("animation")&&c&&!this._isLargeDraw?
c.eachItemGraphicEl(function(b){"sector"===b.type?Zn(b.dataIndex,a,b):Yn(b.dataIndex,a,b)}):b.removeAll();this._data=null}});var dq={cartesian2d:function(a,b,c,d,e,g,l){a=new jb({shape:f({},d)});g&&(e=e?"height":"width",c={},a.shape[e]=0,c[e]=d[e],gg[l?"updateProps":"initProps"](a,{shape:c},g,b));return a},polar:function(a,b,c,d,e,f,g){a=new cg({shape:q({clockwise:d.startAngle<d.endAngle},d)});if(f){c=e?"r":"endAngle";var h={};a.shape[c]=e?0:d.startAngle;h[c]=d[c];gg[g?"updateProps":"initProps"](a,
{shape:h},f,b)}return a}},cq={cartesian2d:function(a,b,c){a=a.getItemLayout(b);c=c.get(tv)||0;c=Math.min(c,Math.abs(a.width),Math.abs(a.height));b=0<a.width?1:-1;var d=0<a.height?1:-1;return{x:a.x+b*c/2,y:a.y+d*c/2,width:a.width-b*c,height:a.height-d*c}},polar:function(a,b,c){a=a.getItemLayout(b);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}},Ms=Ca.extend({type:"largeBar",shape:{points:[]},buildPath:function(a,b){b=b.points;for(var c=this.__startPoint,d=this.__valueIdx,
e=0;e<b.length;e+=2)c[this.__valueIdx]=b[e+d],a.moveTo(c[0],c[1]),a.lineTo(b[e],b[e+1])}});ff(D(function(a,b){a=qn(a,b);var c=jj(a),d={};v(a,function(a){var b=a.getData(),e=a.coordinateSystem,h=e.getBaseAxis(),f=ij(a),g=c[h.dim+h.index][f],l=g.offset;g=g.width;var n=e.getOtherAxis(h);a=a.get("barMinHeight")||0;d[f]=d[f]||[];b.setLayout({offset:l,size:g});var m=b.mapDimension(n.dim),w=b.mapDimension(h.dim),q=Id(b,m),F=n.isHorizontal();h=sn(h,n,q);n=0;for(var r=b.count();n<r;n++){var t=b.get(m,n),K=
b.get(w,n);if(!isNaN(t)){var u=0<=t?"p":"n",z=h;q&&(d[f][K]||(d[f][K]={p:h,n:h}),z=d[f][K][u]);var v;if(F){var B=z;z=(v=e.dataToPoint([t,K]))[1]+l;t=v[0]-h;v=g;Math.abs(t)<a&&(t=(0>t?-1:1)*a);q&&(d[f][K][u]+=t)}else v=e.dataToPoint([K,t]),B=v[0]+l,t=g,v=v[1]-h,Math.abs(v)<a&&(v=(0>=v?-1:1)*a),q&&(d[f][K][u]+=v);b.setItemLayout(n,{x:B,y:z,width:t,height:v})}}},this)},"bar"));ff(Wu);gf({seriesType:"bar",reset:function(a){a.getData().setVisual("legendSymbol","roundRect")}});var bi=dn({type:"series.pie",
init:function(a){bi.superApply(this,"init",arguments);this.legendDataProvider=function(){return this.getRawData()};this.updateSelectedMap(this._createSelectableList());this._defaultLabelLine(a)},mergeOption:function(a){bi.superCall(this,"mergeOption",a);this.updateSelectedMap(this._createSelectableList())},getInitialData:function(a,b){b=["value"];b=H(b)&&{coordDimensions:b}||f({},b);a=this.getSource();b=hj(a,b);b=new mc(b,this);return b.initData(a,void 0),b},_createSelectableList:function(){for(var a=
this.getRawData(),b=a.mapDimension("value"),c=[],d=0,e=a.count();d<e;d++)c.push({name:a.getName(d),value:a.get(b,d),selected:zr(a,d,"selected")});return c},getDataParams:function(a){var b=this.getData(),c=bi.superCall(this,"getDataParams",a),d=[];return b.each(b.mapDimension("value"),function(a){d.push(a)}),c.percent=Pl(d,a,b.hostModel.get("percentPrecision")),c.$vars.push("percent"),c},_defaultLabelLine:function(a){qc(a,"labelLine",["show"]);var b=a.labelLine,c=a.emphasis.labelLine;b.show=b.show&&
a.label.show;c.show=c.show&&a.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});C(bi,{updateSelectedMap:function(a){this._targetList=
H(a)?a.slice():[];this._selectTargetMap=d(a||[],function(a,b){return a.set(b.name,b),a},ia())},select:function(a,b){a=null!=b?this._targetList[b]:this._selectTargetMap.get(a);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(a){a.selected=!1});a&&(a.selected=!0)},unSelect:function(a,b){(a=null!=b?this._targetList[b]:this._selectTargetMap.get(a))&&(a.selected=!1)},toggleSelected:function(a,b){var c=null!=b?this._targetList[b]:this._selectTargetMap.get(a);if(null!=c)return this[c.selected?
"unSelect":"select"](a,b),c.selected},isSelected:function(a,b){return(a=null!=b?this._targetList[b]:this._selectTargetMap.get(a))&&a.selected}});var eq=yj.prototype;eq.updateData=function(a,b,c){function d(){h.stopAnimation(!0);h.animateTo({shape:{r:n.r+g.get("hoverOffset")}},300,"elasticOut")}function e(){h.stopAnimation(!0);h.animateTo({shape:{r:n.r}},300,"elasticOut")}var h=this.childAt(0),g=a.hostModel,l=a.getItemModel(b),n=a.getItemLayout(b),m=f({},n);m.label=null;c?(h.setShape(m),"scale"===
g.getShallow("animationType")?(h.shape.r=n.r0,ce(h,{shape:{r:n.r}},g,b)):(h.shape.endAngle=n.startAngle,nb(h,{shape:{endAngle:n.endAngle}},g,b))):nb(h,{shape:m},g,b);c=a.getItemVisual(b,"color");h.useStyle(q({lineJoin:"bevel",fill:c},l.getModel("itemStyle").getItemStyle()));h.hoverStyle=l.getModel("emphasis.itemStyle").getItemStyle();(c=l.getShallow("cursor"))&&h.attr("cursor",c);bo(this,a.getItemLayout(b),g.isSelected(null,b),g.get("selectedOffset"),g.get("animation"));h.off("mouseover").off("mouseout").off("emphasis").off("normal");
l.get("hoverAnimation")&&g.isAnimationEnabled()&&h.on("mouseover",d).on("mouseout",e).on("emphasis",d).on("normal",e);this._updateLabel(a,b);wd(this)};eq._updateLabel=function(a,b){var c=this.childAt(1),d=this.childAt(2),e=a.hostModel,h=a.getItemModel(b),f=a.getItemLayout(b).label;a.getItemVisual(b,"color");nb(c,{shape:{points:f.linePoints||[[f.x,f.y],[f.x,f.y],[f.x,f.y]]}},e,b);nb(d,{style:{x:f.x,y:f.y}},e,b);d.attr({rotation:f.rotation,origin:[f.x,f.y],z2:10});e=h.getModel("label");var g=h.getModel("emphasis.label"),
l=h.getModel("labelLine"),n=h.getModel("emphasis.labelLine");h=a.getItemVisual(b,"color");Cf(d.style,d.hoverStyle={},e,g,{labelFetcher:a.hostModel,labelDataIndex:b,defaultText:a.getName(b),autoColor:h,useInsideStyle:!!f.inside},{textAlign:f.textAlign,textVerticalAlign:f.verticalAlign,opacity:a.getItemVisual(b,"opacity")});d.ignore=d.normalIgnore=!e.get("show");d.hoverIgnore=!g.get("show");c.ignore=c.normalIgnore=!l.get("show");c.hoverIgnore=!n.get("show");c.setStyle({stroke:h,opacity:a.getItemVisual(b,
"opacity")});c.setStyle(l.getModel("lineStyle").getLineStyle());c.hoverStyle=n.getModel("lineStyle").getLineStyle();(a=l.get("smooth"))&&!0===a&&(a=.4);c.setShape({smooth:a})};u(yj,xa);cc.extend({type:"pie",init:function(){this._sectorGroup=new xa},render:function(a,b,c,d){if(!d||d.from!==this.uid){var e=a.getData(),h=this._data,f=this.group;b=b.get("animation");var g=!h,l=a.get("animationType"),n=D(Ns,this.uid,a,b,c),m=a.get("selectedMode");if(e.diff(h).add(function(a){var b=new yj(e,a);g&&"scale"!==
l&&b.eachChild(function(a){a.stopAnimation(!0)});m&&b.on("click",n);e.setItemGraphicEl(a,b);f.add(b)}).update(function(a,b){b=h.getItemGraphicEl(b);b.updateData(e,a);b.off("click");m&&b.on("click",n);f.add(b);e.setItemGraphicEl(a,b)}).remove(function(a){a=h.getItemGraphicEl(a);f.remove(a)}).execute(),b&&g&&0<e.count()&&"scale"!==l)b=e.getItemLayout(0),c=Math.max(c.getWidth(),c.getHeight())/2,d=r(f.removeClipPath,f),f.setClipPath(this._createClipPath(b.cx,b.cy,c,b.startAngle,b.clockwise,d,a));this._data=
e}},dispose:function(){},_createClipPath:function(a,b,c,d,e,f,g){a=new cg({shape:{cx:a,cy:b,r0:0,r:c,startAngle:d,endAngle:d,clockwise:e}});return ce(a,{shape:{endAngle:d+(e?1:-1)*Math.PI*2}},g,f),a},containPoint:function(a,b){if(b=b.getData().getItemLayout(0)){var c=a[0]-b.cx;a=a[1]-b.cy;a=Math.sqrt(c*c+a*a);return a<=b.r&&a>=b.r0}}});var uv=function(a,b,c,d){var e,h,f=a.getData(),g=[],l=!1;f.each(function(c){var d=f.getItemLayout(c),n=f.getItemModel(c),m=n.getModel("label"),w=m.get("position")||
n.get("emphasis.label.position");var q=n.getModel("labelLine");n=q.get("length");var F=q.get("length2"),r=(d.startAngle+d.endAngle)/2,t=Math.cos(r),K=Math.sin(r);e=d.cx;h=d.cy;var u="inside"===w||"inner"===w;if("center"===w){q=d.cx;var z=d.cy;var v="center"}else{v=(u?(d.r+d.r0)/2*t:d.r*t)+e;var da=(u?(d.r+d.r0)/2*K:d.r*K)+h;if(q=v+3*t,z=da+3*K,!u){var ua=v+t*(n+b-d.r);K=da+K*(n+b-d.r);var B=ua+(0>t?-1:1)*F;q=B+(0>t?-5:5);z=K;ua=[[v,da],[ua,K],[B,K]]}v=u?"center":0<t?"left":"right"}da=m.getFont();
m=m.get("rotate")?0>t?-r+Math.PI:-r:0;c=Hb(a.getFormattedLabel(c,"normal")||f.getName(c),da,v,"top");l=!!m;d.label={x:q,y:z,position:w,height:c.height,len:n,len2:F,linePoints:ua,textAlign:v,verticalAlign:"middle",rotation:m,inside:u};u||g.push(d.label)});!l&&a.get("avoidLabelOverlap")&&Os(g,e,h,b,c,d)},ci=2*Math.PI,fq=Math.PI/180;!function(a,b){v(b,function(b){b.update="updateView";yb(b,function(c,d){var e={};return d.eachComponent({mainType:"series",subType:a,query:c},function(a){a[b.method]&&a[b.method](c.name,
c.dataIndex);var d=a.getData();d.each(function(b){b=d.getName(b);e[b]=a.isSelected(b)||!1})}),{name:c.name,selected:e}})})}("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);gf(function(a){return{getTargetSeries:function(b){var c={},d=ia();return b.eachSeriesByType(a,function(a){a.__paletteScope=c;d.set(a.uid,a)}),d},reset:function(a,b){var c=a.getRawData(),
d={},e=a.getData();e.each(function(a){var b=e.getRawIndex(a);d[b]=a});c.each(function(b){var h=d[b],f=null!=h&&e.getItemVisual(h,"color",!0);f?c.setItemVisual(b,"color",f):(f=c.getItemModel(b).get("itemStyle.color")||a.getColorFromPalette(c.getName(b)||b+"",a.__paletteScope,c.count()),c.setItemVisual(b,"color",f),null!=h&&e.setItemVisual(h,"color",f))})}}}("pie"));ff(D(function(a,b,c,d){b.eachSeriesByType(a,function(a){var b=a.getData(),d=b.mapDimension("value"),e=a.get("center"),h=a.get("radius");
H(h)||(h=[0,h]);H(e)||(e=[e,e]);var f=c.getWidth(),g=c.getHeight(),l=Math.min(f,g),n=za(e[0],f),m=za(e[1],g),w=za(h[0],l/2),q=za(h[1],l/2),F=-a.get("startAngle")*fq,r=a.get("minAngle")*fq,t=0;b.each(d,function(a){!isNaN(a)&&t++});var u=b.getSum(d),K=Math.PI/(u||t)*2,z=a.get("clockwise"),v=a.get("roseType"),B=a.get("stillShowZeroSum"),A=b.getDataExtent(d);A[0]=0;var C=ci,D=0,ha=F,E=z?1:-1;if(b.each(d,function(a,c){var d;if(isNaN(a))b.setItemLayout(c,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:z,
cx:n,cy:m,r0:w,r:v?NaN:q});else{(d="area"!==v?0===u&&B?K:a*K:ci/t)<r?(d=r,C-=r):D+=a;var e=ha+E*d;b.setItemLayout(c,{angle:d,startAngle:ha,endAngle:e,clockwise:z,cx:n,cy:m,r0:w,r:v?mb(a,A,[w,q]):q});ha=e}}),C<ci&&t)if(.001>=C){var aa=ci/t;b.each(d,function(a,c){isNaN(a)||(a=b.getItemLayout(c),a.angle=aa,a.startAngle=F+E*c*aa,a.endAngle=F+E*(c+1)*aa)})}else K=C/D,ha=F,b.each(d,function(a,c){isNaN(a)||(c=b.getItemLayout(c),a=c.angle===r?r:a*K,c.startAngle=ha,c.endAngle=ha+E*a,ha+=E*a)});uv(a,q,f,g)})},
"pie"));ue(function(a){return{seriesType:a,reset:function(a,b){var c=b.findComponents({mainType:"legend"});if(c&&c.length){var d=a.getData();d.filterSelf(function(a){a=d.getName(a);for(var b=0;b<c.length;b++)if(!c[b].isSelected(a))return!1;return!0})}}}}("pie"));hf.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(a,b){return jh(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var a=this.option.progressive;return null==
a?this.option.large?5E3:this.get("progressive"):a},getProgressiveThreshold:function(){var a=this.option.progressiveThreshold;return null==a?this.option.large?1E4:this.get("progressiveThreshold"):a},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2E3,itemStyle:{opacity:.8}}});var Sk=vd({shape:{points:null},symbolProxy:null,buildPath:function(a,b){var c=b.points;b=b.size;var d=this.symbolProxy,e=d.shape;if(!((a.getContext?
a.getContext():a)&&4>b[0]))for(var h=0;h<c.length;){var f=c[h++],g=c[h++];isNaN(f)||isNaN(g)||(e.x=f-b[0]/2,e.y=g-b[1]/2,e.width=b[0],e.height=b[1],d.buildPath(a,e,!0))}},afterBrush:function(a){var b=this.shape,c=b.points;b=b.size;if(4>b[0]){this.setTransform(a);for(var d=0;d<c.length;){var e=c[d++],h=c[d++];isNaN(e)||isNaN(h)||a.fillRect(e-b[0]/2,h-b[1]/2,b[0],b[1])}this.restoreTransform(a)}},findDataIndex:function(a,b){var c=this.shape,d=c.points,e=c.size;c=Math.max(e[0],4);e=Math.max(e[1],4);for(var h=
d.length/2-1;0<=h;h--){var f=2*h,g=d[f]-c/2;f=d[f+1]-e/2;if(a>=g&&b>=f&&a<=g+c&&b<=f+e)return h}return-1}}),Ud=eo.prototype;Ud.isPersistent=function(){return!this._incremental};Ud.updateData=function(a){this.group.removeAll();var b=new Sk({rectHover:!0,cursor:"default"});b.setShape({points:a.getLayout("symbolPoints")});this._setCommon(b,a);this.group.add(b);this._incremental=null};Ud.updateLayout=function(a){if(!this._incremental){var b=a.getLayout("symbolPoints");this.group.eachChild(function(a){null!=
a.startIndex&&(b=new Float32Array(b.buffer,8*a.startIndex,2*(a.endIndex-a.startIndex)));a.setShape("points",b)})}};Ud.incrementalPrepareUpdate=function(a){this.group.removeAll();this._clearIncremental();2E6<a.count()?(this._incremental||(this._incremental=new dc({silent:!0})),this.group.add(this._incremental)):this._incremental=null};Ud.incrementalUpdate=function(a,b){var c;this._incremental?(c=new Sk,this._incremental.addDisplayable(c,!0)):((c=new Sk({rectHover:!0,cursor:"default",startIndex:a.start,
endIndex:a.end})).incremental=!0,this.group.add(c));c.setShape({points:b.getLayout("symbolPoints")});this._setCommon(c,b,!!this._incremental)};Ud._setCommon=function(a,b,c){var d=b.hostModel,e=b.getVisual("symbolSize");a.setShape("size",e instanceof Array?e:[e,e]);a.symbolProxy=ve(b.getVisual("symbol"),0,0,0,0);a.setColor=a.symbolProxy.setColor;e=4>a.shape.size[0];a.useStyle(d.getModel("itemStyle").getItemStyle(e?["color","shadowBlur","shadowColor"]:["color"]));(b=b.getVisual("color"))&&a.setColor(b);
c||(a.seriesIndex=d.seriesIndex,a.on("mousemove",function(b){a.dataIndex=null;b=a.findDataIndex(b.offsetX,b.offsetY);0<=b&&(a.dataIndex=b+(a.startIndex||0))}))};Ud.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};Ud._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};ej({type:"scatter",render:function(a,b,c){b=a.getData();this._updateSymbolDraw(b,a).updateData(b);this._finished=!0},incrementalPrepareRender:function(a,b,c){b=a.getData();
this._updateSymbolDraw(b,a).incrementalPrepareUpdate(b);this._finished=!1},incrementalRender:function(a,b,c){this._symbolDraw.incrementalUpdate(a,b.getData());this._finished=a.end===b.getData().count()},updateTransform:function(a,b,c){b=a.getData();if(this.group.dirty(),!this._finished||1E4<b.count()||!this._symbolDraw.isPersistent())return{update:!0};a=Qk().reset(a);a.progress&&a.progress({start:0,end:b.count()},b);this._symbolDraw.updateLayout(b)},_updateSymbolDraw:function(a,b){a=this._symbolDraw;
b=b.pipelineContext.large;return a&&b===this._isLargeDraw||(a&&a.remove(),a=this._symbolDraw=b?new eo:new kh,this._isLargeDraw=b,this.group.removeAll()),this.group.add(a.group),a},remove:function(a,b){this._symbolDraw&&this._symbolDraw.remove(!0);this._symbolDraw=null},dispose:function(){}});gf(Xp("scatter","circle"));ff(Qk("scatter"));pd(function(a){var b=a.graphic;H(b)?b[0]&&b[0].elements?a.graphic=[a.graphic[0]]:a.graphic=[{elements:b}]:b&&!b.elements&&(a.graphic=[{elements:[b]}])});var vv=qd({type:"graphic",
defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(a){var b=this.option.elements;this.option.elements=null;vv.superApply(this,"mergeOption",arguments);this.option.elements=b},optionUpdated:function(a,b){var c=this.option;a=(b?c:a).elements;var d=c.elements=b?[]:c.elements;b=[];this._flatten(a,b);b=je(d,b);jd(b);var e=this._elOptionsToUpdate=[];v(b,function(a,b){var c=a.option;if(c){e.push(c);var h=a.exist;if(c.id=a.keyInfo.id,!c.type&&h&&(c.type=h.type),null==c.parentId)(a=
c.parentOption)?c.parentId=a.id:h&&(c.parentId=h.parentId);c.parentOption=null;h=f({},c);a=d[b];var g=c.$action||"merge";"merge"===g?a?(m(a,h,!0),be(a,h,{ignoreSize:!0}),Re(c,a)):d[b]=h:"replace"===g?d[b]=h:"remove"===g&&a&&(d[b]=null);(b=d[b])&&(b.hv=c.hv=[go(c,["left","right"]),go(c,["top","bottom"])],"group"===b.type&&(null==b.width&&(b.width=c.width=0),null==b.height&&(b.height=c.height=0)))}},this);for(b=d.length-1;0<=b;b--)null==d[b]?d.splice(b,1):delete d[b].$action},_flatten:function(a,b,
c){v(a,function(a){if(a){c&&(a.parentOption=c);b.push(a);var d=a.children;"group"===a.type&&d&&this._flatten(d,b,a);delete a.children}},this)},useElOptionsToUpdate:function(){var a=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,a}});Oc({type:"graphic",init:function(a,b){this._elMap=ia();this._lastGraphicModel},render:function(a,b,c){a!==this._lastGraphicModel&&this._clear();this._lastGraphicModel=a;this._updateElements(a,c);this._relocate(a,c)},_updateElements:function(a,b){if(a=a.useElOptionsToUpdate()){var c=
this._elMap,d=this.group;v(a,function(a){var b=a.$action,e=a.id,h=c.get(e),f=a.parentId;f=null!=f?c.get(f):d;if("text"===a.type){var g=a.style;a.hv&&a.hv[1]&&(g.textVerticalAlign=g.textBaseline=null);!g.hasOwnProperty("textFill")&&g.fill&&(g.textFill=g.fill);!g.hasOwnProperty("textStroke")&&g.stroke&&(g.textStroke=g.stroke)}g=Ps(a);b&&"merge"!==b?"replace"===b?(qh(h,c),fo(e,f,g,c)):"remove"===b&&qh(h,c):h?h.attr(g):fo(e,f,g,c);(b=c.get(e))&&(b.__ecGraphicWidth=a.width,b.__ecGraphicHeight=a.height)})}},
_relocate:function(a,b){a=a.option.elements;for(var c=this.group,d=this._elMap,e=a.length-1;0<=e;e--){var h=a[e],f=d.get(h.id);if(f){var g=f.parent;Al(f,h,g===c?{width:b.getWidth(),height:b.getHeight()}:{width:g.__ecGraphicWidth||0,height:g.__ecGraphicHeight||0},null,{hv:h.hv,boundingMode:h.bounding})}}},_clear:function(){var a=this._elMap;a.each(function(b){qh(b,a)});this._elMap=ia()},dispose:function(){this._clear()}});var gq=function(a,c){var d,e=[],h=a.seriesIndex;if(null==h||!(d=c.getSeriesByIndex(h)))return{point:[]};
var f=d.getData();c=ke(f,a);if(null==c||0>c||H(c))return{point:[]};a=f.getItemGraphicEl(c);h=d.coordinateSystem;d.getTooltipPosition?e=d.getTooltipPosition(c)||[]:h&&h.dataToPoint?e=h.dataToPoint(f.getValues(b(h.dimensions,function(a){return f.mapDimension(a)}),c,!0))||[]:a&&(d=a.getBoundingRect().clone(),d.applyTransform(a.transform),e=[d.x+d.width/2,d.y+d.height/2]);return{point:e,el:a}},Pc=v,io=ic(),td=(qd({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,
z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",
size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),ic()),Ys=v,hq=Oc({type:"axisPointer",render:function(a,b,c){b=b.getComponent("tooltip");var d=a.get("triggerOn")||b&&b.get("triggerOn")||"mousemove|click";ko("axisPointer",c,function(a,b,c){"none"!==d&&("leave"===a||0<=d.indexOf(a))&&c({type:"updateAxisPointer",currTrigger:a,x:b&&b.offsetX,y:b&&b.offsetY})})},remove:function(a,b){zj(b.getZr(),"axisPointer");hq.superApply(this._model,"remove",
arguments)},dispose:function(a,b){zj("axisPointer",b);hq.superApply(this._model,"dispose",arguments)}}),we=ic();(sh.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(a,b,c,d){var e=b.get("value"),h=b.get("status");if(this._axisModel=a,this._axisPointerModel=b,this._api=c,d||this._lastValue!==e||this._lastStatus!==h){this._lastValue=e;this._lastStatus=h;d=this._group;var f=this._handle;if(!h||
"hide"===h)return d&&d.hide(),void(f&&f.hide());d&&d.show();f&&f.show();h={};this.makeElOption(h,e,a,b,c);f=h.graphicKey;f!==this._lastGraphicKey&&this.clear(c);this._lastGraphicKey=f;f=this._moveAnimation=this.determineAnimation(a,b);d?(a=D(mo,b,f),this.updatePointerEl(d,h,a,b),this.updateLabelEl(d,h,a,b)):(d=this._group=new xa,this.createPointerEl(d,h,a,b),this.createLabelEl(d,h,a,b),c.getZr().add(d));po(d,b,!0);this._renderHandle(e)}},remove:function(a){this.clear(a)},dispose:function(a){this.clear(a)},
determineAnimation:function(a,b){var c=b.get("animation"),d=a.axis,e="category"===d.type;b=b.get("snap");return b||e?"auto"===c||null==c?(c=this.animationThreshold,e&&d.getBandWidth()>c?!0:b?(a=wj(a).seriesDataCount,d=d.getExtent(),Math.abs(d[0]-d[1])/a>c):!1):!0===c:!1},makeElOption:function(a,b,c,d,e){},createPointerEl:function(a,b,c,d){if(c=b.pointer)b=we(a).pointerEl=new gg[c.type](e(b.pointer)),a.add(b)},createLabelEl:function(a,b,c,d){b.label&&(b=we(a).labelEl=new jb(e(b.label)),a.add(b),oo(b,
d))},updatePointerEl:function(a,b,c){(a=we(a).pointerEl)&&(a.setStyle(b.pointer.style),c(a,{shape:b.pointer.shape}))},updateLabelEl:function(a,b,c,d){(a=we(a).labelEl)&&(a.setStyle(b.label.style),c(a,{shape:b.label.shape,position:b.label.position}),oo(a,d))},_renderHandle:function(a){if(!this._dragging&&this.updateHandleTransform){var b=this._axisPointerModel,c=this._api.getZr(),d=this._handle,e=b.getModel("handle"),h=b.get("status");if(!e.get("show")||!h||"hide"===h)return d&&c.remove(d),void(this._handle=
null);var f;this._handle||(f=!0,d=this._handle=Ef(e.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(a){xe(a.event)},onmousedown:r(this._onHandleDragMove,this,0,0),drift:r(this._onHandleDragMove,this),ondragend:r(this._onHandleDragEnd,this)}),c.add(d));po(d,b,!1);d.setStyle(e.getItemStyle(null,"color borderColor borderWidth opacity shadowColor shadowBlur shadowOffsetX shadowOffsetY".split(" ")));b=e.get("size");H(b)||(b=[b,b]);d.attr("scale",[b[0]/2,b[1]/2]);Wi(this,"_doDispatchAxisPointer",
e.get("throttle")||0,"fixRate");this._moveHandleToValue(a,f)}},_moveHandleToValue:function(a,b){mo(this._axisPointerModel,!b&&this._moveAnimation,this._handle,Aj(this.getHandleTransform(a,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(a,b){var c=this._handle;c&&(this._dragging=!0,this._payloadInfo=a=this.updateHandleTransform(Aj(c),[a,b],this._axisModel,this._axisPointerModel),c.stopAnimation(),c.attr(Aj(a)),we(c).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){if(this._handle){var a=
this._payloadInfo,b=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:a.cursorPoint[0],y:a.cursorPoint[1],tooltipOption:a.tooltipOption,axesInfo:[{axisDim:b.axis.dim,axisIndex:b.componentIndex}]})}},_onHandleDragEnd:function(a){if(this._dragging=!1,this._handle)a=this._axisPointerModel.get("value"),this._moveHandleToValue(a),this._api.dispatchAction({type:"hideTip"})},getHandleTransform:null,updateHandleTransform:null,clear:function(a){this._lastStatus=this._lastValue=null;a=a.getZr();
var b=this._group,c=this._handle;a&&b&&(this._lastGraphicKey=null,b&&a.remove(b),c&&a.remove(c),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(a,b,c){return c=c||0,{x:a[c],y:a[1-c],width:b[c],height:b[1-c]}}}).constructor=sh;Kc(sh);var xv=sh.extend({makeElOption:function(a,b,c,d,e){var h=c.axis,f=h.grid,g=d.get("type"),l=so(f,h).getOtherAxis(h).getGlobalExtent(),n=h.toGlobalCoord(h.dataToCoord(b,!0));if(g&&"none"!==g){var m;var w=d.get("type");
var q=d.getModel(w+"Style");w=("line"===w?(m=q.getLineStyle()).fill=null:"shadow"===w&&((m=q.getAreaStyle()).stroke=null),m);h=wv[g](h,n,l,w);h.style=w;a.graphicKey=h.type;a.pointer=h}h=xj(f.model,c);f=ug.innerTextLayout(h.rotation,0,h.labelDirection);h.labelMargin=d.get("label.margin");b=ro(c.axis,b,h);l=f.textAlign;n=f.textVerticalAlign;f=qo(d.get("value"),c.axis,c.ecModel,d.get("seriesDataIndices"),{precision:d.get("label.precision"),formatter:d.get("label.formatter")});d=d.getModel("label");m=
Pf(d.get("padding")||0);h=d.getFont();w=Hb(f,h);g=w.width+m[1]+m[3];m=w.height+m[0]+m[2];"right"===l&&(b[0]-=g);"center"===l&&(b[0]-=g/2);"bottom"===n&&(b[1]-=m);"middle"===n&&(b[1]-=m/2);l=e.getWidth();e=e.getHeight();b[0]=Math.min(b[0]+g,l)-g;b[1]=Math.min(b[1]+m,e)-m;b[0]=Math.max(b[0],0);b[1]=Math.max(b[1],0);(e=d.get("backgroundColor"))&&"auto"!==e||(e=c.get("axisLine.lineStyle.color"));a.label={shape:{x:0,y:0,width:g,height:m,r:d.get("borderRadius")},position:b.slice(),style:{text:f,textFont:h,
textFill:d.getTextColor(),textPosition:"inside",fill:e,stroke:d.get("borderColor")||"transparent",lineWidth:d.get("borderWidth")||0,shadowBlur:d.get("shadowBlur"),shadowColor:d.get("shadowColor"),shadowOffsetX:d.get("shadowOffsetX"),shadowOffsetY:d.get("shadowOffsetY")},z2:10}},getHandleTransform:function(a,b,c){var d=xj(b.axis.grid.model,b,{labelInside:!1});return d.labelMargin=c.get("handle.margin"),{position:ro(b.axis,a,d),rotation:d.rotation+(0>d.labelDirection?Math.PI:0)}},updateHandleTransform:function(a,
b,c,d){d=c.axis;var e=d.grid;c=d.getGlobalExtent(!0);var h=so(e,d).getOtherAxis(d).getGlobalExtent();d="x"===d.dim?0:1;e=a.position;e[d]+=b[d];e[d]=Math.min(c[1],e[d]);e[d]=Math.max(c[0],e[d]);b=(h[1]+h[0])/2;b=[b,b];b[d]=e[d];return{position:e,rotation:a.rotation,cursorPoint:b,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}}),wv={line:function(a,b,c,d){var e=[b,c[0]];b=[b,c[1]];a="x"===a.dim?0:1;e=(a=a||0,{x1:e[a],y1:e[1-a],x2:b[a],y2:b[1-a]});return zf({shape:e,style:d}),{type:"Line",
shape:e}},shadow:function(a,b,c,d){d=Math.max(1,a.getBandWidth());b=[b-d/2,c[0]];c=[d,c[1]-c[0]];a="x"===a.dim?0:1;return{type:"Rect",shape:(a=a||0,{x:b[a],y:b[1-a],width:c[a],height:c[1-a]})}}};Ld.registerAxisPointerClass("CartesianAxisPointer",xv);pd(function(a){if(a){a.axisPointer&&0!==a.axisPointer.length||(a.axisPointer={});var b=a.axisPointer.link;b&&!H(b)&&(a.axisPointer.link=[b])}});ue(Jk.PROCESSOR.STATISTIC,function(a,b){var c=a.getComponent("axisPointer"),d={axesInfo:{},seriesInvolved:!1,
coordSysAxesInfo:{},coordSysMap:{}};a=(Js(d,a,b),d.seriesInvolved&&Ls(d,a),d);c.coordSysAxesInfo=a});yb({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(a,b,c){var d=a.currTrigger,e=[a.x,a.y],h=a.dispatchAction||r(c.dispatchAction,c),f=b.getComponent("axisPointer").coordSysAxesInfo;if(f){rh(e)&&(e=gq({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},b).point);var g=rh(e),l=a.axesInfo,n=f.axesInfo,m="leave"===d||rh(e),w={},q={};b={list:[],map:{}};var t={showPointer:D(Rs,
q),showTooltip:D(Ss,b)};Pc(f.coordSysMap,function(a,b){var c=g||a.containPoint(e);Pc(f.coordSysAxesInfo[b],function(a,b){b=a.axis;var d;a:{for(d=0;d<(l||[]).length;d++){var h=l[d];if(a.axis.dim===h.axisDim&&a.axis.model.componentIndex===h.axisIndex){d=h;break a}}d=void 0}m||!c||l&&!d||(d=d&&d.value,null!=d||g||(d=b.pointToData(e)),null!=d&&ho(a,d,t,!1,w))})});var u={};return Pc(n,function(a,b){var c=a.linkGroup;c&&!q[b]&&Pc(c.axesInfo,function(b,d){d=q[d];b!==a&&d&&(d=d.value,c.mapper&&(d=a.axis.scale.parse(c.mapper(d,
jo(b),jo(a)))),u[a.key]=d)})}),Pc(u,function(a,b){ho(n[b],a,t,!0,w)}),Ts(q,n,w),Us(b,e,a,h),Vs(n,0,c),w}});qd({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",
animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var to=v,et=rl,bt=["","-webkit-","-moz-","-o-"];Bj.prototype={constructor:Bj,_enterable:!0,update:function(){var a=this._container,b=a.currentStyle||document.defaultView.getComputedStyle(a);a=a.style;"absolute"!==a.position&&"absolute"!==b.position&&(a.position="relative")},show:function(a){clearTimeout(this._hideTimeout);
var b=this.el;b.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+dt(a)+";left:"+this._x+"px;top:"+this._y+"px;"+(a.get("extraCssText")||"");b.style.display=b.innerHTML?"block":"none";this._show=!0},setContent:function(a){this.el.innerHTML=null==a?"":a},setEnterable:function(a){this._enterable=a},getSize:function(){var a=this.el;return[a.clientWidth,a.clientHeight]},moveTo:function(a,b){var c,d=this._zr;d&&d.painter&&(c=d.painter.getViewportRootOffset())&&
(a+=c.offsetLeft,b+=c.offsetTop);c=this.el.style;c.left=a+"px";c.top=b+"px";this._x=a;this._y=b},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(a){!this._show||this._inContent&&this._enterable||(a?(this._hideDelay=a,this._show=!1,this._hideTimeout=setTimeout(r(this.hide,this),a)):this.hide())},isShow:function(){return this._show}};var di=new jb({shape:{x:-1,y:-1,width:2,height:2}});Oc({type:"tooltip",init:function(a,b){Ba.node||(this._tooltipContent=new Bj(b.getDom(),
b))},render:function(a,b,c){Ba.node||Ba.wxa||(this.group.removeAll(),this._tooltipModel=a,this._ecModel=b,this._api=c,this._lastDataByCoordSys=null,this._alwaysShowContent=a.get("alwaysShowContent"),b=this._tooltipContent,b.update(),b.setEnterable(a.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var a=this._tooltipModel.get("triggerOn");ko("itemTooltip",this._api,r(function(b,c,d){"none"!==a&&(0<=a.indexOf(b)?this._tryShow(c,d):"leave"===b&&this._hide(d))},
this))},_keepShow:function(){var a=this._tooltipModel,b=this._ecModel,c=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==a.get("triggerOn")){var d=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){d.manuallyShowTip(a,b,c,{x:d._lastX,y:d._lastY})})}},manuallyShowTip:function(a,b,c,d){if(d.from!==this.uid&&!Ba.node){var e=d.dispatchAction||r(c.dispatchAction,c);this._ticket="";var h=d.dataByCoordSys;d.tooltip&&null!=d.x&&null!=d.y?(di.position=
[d.x,d.y],di.update(),di.tooltip=d.tooltip,this._tryShow({offsetX:d.x,offsetY:d.y,target:di},e)):h?this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,event:{},dataByCoordSys:d.dataByCoordSys,tooltipOption:d.tooltipOption},e):null!=d.seriesIndex?this._manuallyAxisShowTip(a,b,c,d)||(a=gq(d,b),b=a.point[0],c=a.point[1],null!=b&&null!=c&&this._tryShow({offsetX:b,offsetY:c,position:d.position,target:a.el,event:{}},e)):null!=d.x&&null!=d.y&&(c.dispatchAction({type:"updateAxisPointer",x:d.x,y:d.y}),
this._tryShow({offsetX:d.x,offsetY:d.y,position:d.position,target:c.getZr().findHover(d.x,d.y).target,event:{}},e))}},manuallyHideTip:function(a,b,c,d){a=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&a.hideLater(this._tooltipModel.get("hideDelay"));this._lastX=this._lastY=null;d.from!==this.uid&&this._hide(d.dispatchAction||r(c.dispatchAction,c))},_manuallyAxisShowTip:function(a,b,c,d){var e=d.seriesIndex,h=d.dataIndex,f=b.getComponent("axisPointer").coordSysAxesInfo;if(null!=
e&&null!=h&&null!=f&&(b=b.getSeriesByIndex(e))&&"axis"===Cj([b.getData().getItemModel(h),b,(b.coordinateSystem||{}).model,a]).get("trigger"))return c.dispatchAction({type:"updateAxisPointer",seriesIndex:e,dataIndex:h,position:d.position}),!0},_tryShow:function(a,b){var c=a.target;if(this._tooltipModel){this._lastX=a.offsetX;this._lastY=a.offsetY;var d=a.dataByCoordSys;d&&d.length?this._showAxisTooltip(d,a):c&&null!=c.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(a,c,b)):c&&
c.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(a,c,b)):(this._lastDataByCoordSys=null,this._hide(b))}},_showOrMove:function(a,b){a=a.get("showDelay");b=r(b,this);clearTimeout(this._showTimout);0<a?this._showTimout=setTimeout(b,a):b()},_showAxisTooltip:function(a,b){var c=this._ecModel,d=[b.offsetX,b.offsetY],e=[],h=[],f=Cj([b.tooltipOption,this._tooltipModel]);v(a,function(a){v(a.dataByAxis,function(a){var b=c.getComponent(a.axisDim+"Axis",a.axisIndex),d=a.value,f=[];if(b&&
null!=d){var g=qo(d,b.axis,c,a.seriesDataIndices,a.valueLabelOpt);v(a.seriesDataIndices,function(e){var l=c.getSeriesByIndex(e.seriesIndex);e=e.dataIndexInside;var n=l&&l.getDataParams(e);n.axisDim=a.axisDim;n.axisIndex=a.axisIndex;n.axisType=a.axisType;n.axisId=a.axisId;n.axisValue=mj(b.axis,d);n.axisValueLabel=g;n&&(h.push(n),f.push(l.formatTooltip(e,!0)))});e.push((g?lb(g)+"<br />":"")+f.join("<br />"))}})},this);e.reverse();e=e.join("<br /><br />");var g=b.position;this._showOrMove(f,function(){this._updateContentNotChangedOnAxis(a)?
this._updatePosition(f,g,d[0],d[1],this._tooltipContent,h):this._showTooltipContent(f,e,h,Math.random(),d[0],d[1],g)})},_showSeriesItemTooltip:function(a,b,c){var d=b.seriesIndex,e=this._ecModel.getSeriesByIndex(d),h=b.dataModel||e,f=b.dataIndex;b=b.dataType;var g=h.getData(),l=Cj([g.getItemModel(f),h,e&&(e.coordinateSystem||{}).model,this._tooltipModel]);e=l.get("trigger");if(null==e||"item"===e){var n=h.getDataParams(f,b),m=h.formatTooltip(f,!1,b),w="item_"+h.name+"_"+f;this._showOrMove(l,function(){this._showTooltipContent(l,
m,n,w,a.offsetX,a.offsetY,a.position,a.target)});c({type:"showTip",dataIndexInside:f,dataIndex:g.getRawIndex(f),seriesIndex:d,from:this.uid})}},_showComponentItemTooltip:function(a,b,c){var d=b.tooltip;"string"==typeof d&&(d={content:d,formatter:d});var e=new Ta(d,this._tooltipModel,this._ecModel),h=e.get("content"),f=Math.random();this._showOrMove(e,function(){this._showTooltipContent(e,h,e.get("formatterParams")||{},f,a.offsetX,a.offsetY,a.position,b)});c({type:"showTip",from:this.uid})},_showTooltipContent:function(a,
b,c,d,e,f,g,l){if(this._ticket="",a.get("showContent")&&a.get("show")){var h=this._tooltipContent,n=a.get("formatter");g=g||a.get("position");n&&"string"==typeof n?b=qi(n,c,!0):"function"==typeof n&&(b=r(function(b,d){b===this._ticket&&(h.setContent(d),this._updatePosition(a,g,e,f,h,c,l))},this),this._ticket=d,b=n(c,d,b));h.setContent(b);h.show(a);this._updatePosition(a,g,e,f,h,c,l)}},_updatePosition:function(a,b,c,d,e,f,g){var h=this._api.getWidth(),l=this._api.getHeight();b=b||a.get("position");
var n=e.getSize(),m=a.get("align"),w=a.get("verticalAlign"),q=g&&g.getBoundingRect().clone();if(g&&q.applyTransform(g.transform),"function"==typeof b&&(b=b([c,d],f,e.el,q,{viewSize:[h,l],contentSize:n.slice()})),H(b))c=za(b[0],h),d=za(b[1],l);else if(M(b))b.width=n[0],b.height=n[1],m=$c(b,{width:h,height:l}),c=m.x,d=m.y,w=m=null;else{if("string"==typeof b&&g){c=n[0];d=n[1];g=f=0;var r=q.width,t=q.height;switch(b){case "inside":f=q.x+r/2-c/2;g=q.y+t/2-d/2;break;case "top":f=q.x+r/2-c/2;g=q.y-d-5;break;
case "bottom":f=q.x+r/2-c/2;g=q.y+t+5;break;case "left":f=q.x-c-5;g=q.y+t/2-d/2;break;case "right":f=q.x+r+5,g=q.y+t/2-d/2}c=(d=[f,g])[0]}else b=c,q=d,c=m?null:20,d=w?null:20,g=uo(e.el),f=g.width,g=g.height,c=(d=(null!=c&&(b+f+c>h?b-=f+c:b+=c),null!=d&&(q+g+d>l?q-=g+d:q+=d),[b,q]))[0];d=d[1]}if(m&&(c-="center"===m||"middle"===m?n[0]/2:"right"===m?n[0]:0),w&&(d-="center"===w||"middle"===w?n[1]/2:"bottom"===w?n[1]:0),a.get("confine"))a=c,n=d,w=uo(e.el),m=w.width,w=w.height,d=(a=Math.min(a+m,h)-m,n=
Math.min(n+w,l)-w,a=Math.max(a,0),n=Math.max(n,0),[a,n]),c=d[0],d=d[1];e.moveTo(c,d)},_updateContentNotChangedOnAxis:function(a){var b=this._lastDataByCoordSys,c=!!b&&b.length===a.length;return c&&v(b,function(b,d){b=b.dataByAxis||{};var e=(a[d]||{}).dataByAxis||[];(c&=b.length===e.length)&&v(b,function(a,b){b=e[b]||{};var d=a.seriesDataIndices||[],h=b.seriesDataIndices||[];(c&=a.value===b.value&&a.axisType===b.axisType&&a.axisId===b.axisId&&d.length===h.length)&&v(d,function(a,b){b=h[b];c&=a.seriesIndex===
b.seriesIndex&&a.dataIndex===b.dataIndex})})}),this._lastDataByCoordSys=a,!!c},_hide:function(a){this._lastDataByCoordSys=null;a({type:"hideTip",from:this.uid})},dispose:function(a,b){Ba.node||Ba.wxa||(this._tooltipContent.hide(),zj("itemTooltip",b))}});yb({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){});yb({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var iq=qd({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},
init:function(a,b,c){this.mergeDefaultAndTheme(a,c);a.selected=a.selected||{}},mergeOption:function(a){iq.superCall(this,"mergeOption",a)},optionUpdated:function(){this._updateData(this.ecModel);var a=this._data;if(a[0]&&"single"===this.get("selectedMode")){for(var b=!1,c=0;c<a.length;c++){var d=a[c].get("name");if(this.isSelected(d)){this.select(d);b=!0;break}}!b&&this.select(a[0].get("name"))}},_updateData:function(a){var c=[],d=[];a.eachRawSeries(function(b){d.push(b.name);var e;if(b.legendDataProvider){var h=
b.legendDataProvider();h=h.mapArray(h.getName);a.isSeriesFiltered(b)||(d=d.concat(h));h.length?c=c.concat(h):e=!0}else e=!0;e&&Gf(b)&&c.push(b.name)});this._availableNames=d;this._data=b(this.get("data")||c,function(a){return"string"!=typeof a&&"number"!=typeof a||(a={name:a}),new Ta(a,this,this.ecModel)},this)},getData:function(){return this._data},select:function(a){var b=this.option.selected;"single"===this.get("selectedMode")&&v(this._data,function(a){b[a.get("name")]=!1});b[a]=!0},unSelect:function(a){"single"!==
this.get("selectedMode")&&(this.option.selected[a]=!1)},toggleSelected:function(a){var b=this.option.selected;b.hasOwnProperty(a)||(b[a]=!0);this[b[a]?"unSelect":"select"](a)},isSelected:function(a){var b=this.option.selected;return!(b.hasOwnProperty(a)&&!b[a])&&0<=B(this._availableNames,a)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,
inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});yb("legendToggleSelect","legendselectchanged",D(Dj,"toggleSelected"));yb("legendSelect","legendselected",D(Dj,"select"));yb("legendUnSelect","legendunselected",D(Dj,"unSelect"));var Tk=xa,yv=Oc({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Tk);this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(a,b,c){if(this.resetInner(),a.get("show",
!0)){var d=a.get("align");d&&"auto"!==d||(d="right"===a.get("left")&&"vertical"===a.get("orient")?"right":"left");this.renderInner(d,a,b,c);b=a.getBoxLayoutParams();c={width:c.getWidth(),height:c.getHeight()};var e=a.get("padding"),h=$c(b,c,e);d=this.layoutInner(a,d,h);b=$c(q({width:d.width,height:d.height},b),c,e);this.group.attr("position",[b.x-d.x,b.y-d.y]);this.group.add(this._backgroundEl=vo(d,a))}},resetInner:function(){this.getContentGroup().removeAll();this._backgroundEl&&this.group.remove(this._backgroundEl)},
renderInner:function(a,b,c,d){var e=this.getContentGroup(),h=ia(),f=b.get("selectedMode"),g=[];c.eachRawSeries(function(a){!a.get("legendHoverLink")&&g.push(a.id)});v(b.getData(),function(l,n){var m=l.get("name");if(this.newlineDisabled||""!==m&&"\n"!==m){var q=c.getSeriesByName(m)[0];if(!h.get(m))if(q){var w=q.getData(),r=w.getVisual("color");"function"==typeof r&&(r=r(q.getDataParams(0)));var t=w.getVisual("legendSymbol")||"roundRect";w=w.getVisual("symbol");this._createItem(m,n,l,b,t,w,a,r,f).on("click",
D(wo,m,d)).on("mouseover",D(xo,q,null,d,g)).on("mouseout",D(yo,q,null,d,g));h.set(m,!0)}else c.eachRawSeries(function(c){if(!h.get(m)&&c.legendDataProvider){var e=c.legendDataProvider(),q=e.indexOfName(m);0>q||(e=e.getItemVisual(q,"color"),this._createItem(m,n,l,b,"roundRect",null,a,e,f).on("click",D(wo,m,d)).on("mouseover",D(xo,c,m,d,g)).on("mouseout",D(yo,c,m,d,g)),h.set(m,!0))}},this)}else e.add(new Tk({newline:!0}))},this)},_createItem:function(a,b,c,d,e,g,l,m,q){var h=d.get("itemWidth"),n=d.get("itemHeight"),
w=d.get("inactiveColor"),r=d.get("symbolKeepAspect"),t=d.isSelected(a),F=new Tk,u=c.getModel("textStyle"),z=c.get("icon");c=c.getModel("tooltip");var v=c.parentModel;(e=z||e,F.add(ve(e,0,0,h,n,t?m:w,null==r||r)),z||!g||g===e&&"none"!=g)||(e=.8*n,"none"===g&&(g="circle"),F.add(ve(g,(h-e)/2,(n-e)/2,e,e,t?m:w,null==r||r)));g="left"===l?h+5:-5;m=d.get("formatter");h=a;"string"==typeof m&&m?h=m.replace("{name}",null!=a?a:""):"function"==typeof m&&(h=m(a));F.add(new $a({style:ad({},u,{text:h,x:g,y:n/2,
textFill:t?u.getTextColor():w,textAlign:l,textVerticalAlign:"middle"})}));d=new jb({shape:F.getBoundingRect(),invisible:!0,tooltip:c.get("show")?f({content:a,formatter:v.get("formatter",!0)||function(){return a},formatterParams:{componentType:"legend",legendIndex:d.componentIndex,name:a,$vars:["name"]}},c.option):null});return F.add(d),F.eachChild(function(a){a.silent=!0}),d.silent=!q,this.getContentGroup().add(F),wd(F),F.__legendDataIndex=b,F},layoutInner:function(a,b,c){b=this.getContentGroup();
th(a.get("orient"),b,a.get("itemGap"),c.width,c.height);a=b.getBoundingRect();return b.attr("position",[-a.x,-a.y]),this.group.getBoundingRect()}});ue(function(a){var b=a.findComponents({mainType:"legend"});b&&b.length&&a.filterSeries(function(a){for(var c=0;c<b.length;c++)if(!b[c].isSelected(a.name))return!1;return!0})});Ua.registerSubTypeDefaulter("legend",function(){return"plain"});var jq=iq.extend({type:"legend.scroll",setScrollDataIndex:function(a){this.option.scrollDataIndex=a},defaultOption:{scrollDataIndex:0,
pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(a,b,c,d){var e=Re({},a);jq.superCall(this,"init",a,b,c,d);zo(this,a,e)},mergeOption:function(a,b){jq.superCall(this,"mergeOption",a,b);zo(this,
this.option,a)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),kq=xa,ei=["width","height"],lq=["x","y"],Uk=yv.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){Uk.superCall(this,"init");this._currentIndex=0;this.group.add(this._containerGroup=new kq);this._containerGroup.add(this.getContentGroup());this.group.add(this._controllerGroup=new kq);this._showController},resetInner:function(){Uk.superCall(this,"resetInner");
this._controllerGroup.removeAll();this._containerGroup.removeClipPath();this._containerGroup.__rectSize=null},renderInner:function(a,b,c,d){function e(a,c){var e=a+"DataIndex";c=Ef(b.get("pageIcons",!0)[b.getOrient().name][c],{onclick:r(h._pageGo,h,e,b,d)},{x:-g[0]/2,y:-g[1]/2,width:g[0],height:g[1]});c.name=a;f.add(c)}var h=this;Uk.superCall(this,"renderInner",a,b,c,d);var f=this._controllerGroup,g=b.get("pageIconSize",!0);H(g)||(g=[g,g]);e("pagePrev",0);a=b.getModel("pageTextStyle");f.add(new $a({name:"pageText",
style:{textFill:a.getTextColor(),font:a.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0}));e("pageNext",1)},layoutInner:function(a,b,c){b=this.getContentGroup();var d=this._containerGroup,e=this._controllerGroup,h=a.getOrient().index,f=ei[h],g=ei[1-h],l=lq[1-h];th(a.get("orient"),b,a.get("itemGap"),h?c.width:null,h?null:c.height);th("horizontal",e,a.get("pageButtonItemGap",!0));var n=b.getBoundingRect(),m=e.getBoundingRect(),q=this._showController=n[f]>c[f],w=[-n.x,-n.y];w[h]=b.position[h];
var r=[0,0],t=[-m.x,-m.y],u=J(a.get("pageButtonGap",!0),a.get("itemGap",!0));q&&("end"===a.get("pageButtonPosition",!0)?t[h]+=c[f]-m[f]:r[h]+=m[f]+u);t[1-h]+=n[g]/2-m[g]/2;b.attr("position",w);d.attr("position",r);e.attr("position",t);w=this.group.getBoundingRect();((w={x:0,y:0})[f]=q?c[f]:n[f],w[g]=Math.max(n[g],m[g]),w[l]=Math.min(0,m[l]+t[1-h]),d.__rectSize=c[f],q)?(e={x:0,y:0},e[f]=Math.max(c[f]-m[f]-u,0),e[g]=w[g],d.setClipPath(new jb({shape:e})),d.__rectSize=e[f]):e.eachChild(function(a){a.attr({invisible:!0,
silent:!0})});c=this._getPageInfo(a);return null!=c.pageIndex&&nb(b,{position:c.contentPosition},!!q&&a),this._updatePageInfoView(a,c),w},_pageGo:function(a,b,c){a=this._getPageInfo(b)[a];null!=a&&c.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:b.id})},_updatePageInfoView:function(a,b){var c=this._controllerGroup;v(["pagePrev","pageNext"],function(d){var e=null!=b[d+"DataIndex"];(d=c.childOfName(d))&&(d.setStyle("fill",e?a.get("pageIconColor",!0):a.get("pageIconInactiveColor",!0)),
d.cursor=e?"pointer":"default")});var d=c.childOfName("pageText"),e=a.get("pageFormatter"),h=b.pageIndex;h=null!=h?h+1:0;var f=b.pageCount;d&&e&&d.setStyle("text",P(e)?e.replace("{current}",h).replace("{total}",f):e({current:h,total:f}))},_getPageInfo:function(a){function b(a){var b=a.getBoundingRect().clone();return b[r]+=a.position[l],b}var c,d,e=a.get("scrollDataIndex",!0),h=this.getContentGroup(),f=h.getBoundingRect(),g=this._containerGroup.__rectSize,l=a.getOrient().index,m=ei[l],q=ei[1-l],r=
lq[l];a=h.position.slice();this._showController?h.eachChild(function(a){a.__legendDataIndex===e&&(d=a)}):d=h.childAt(0);var t=g?Math.ceil(f[m]/g):0;if(d){var u=d.getBoundingRect();var z=d.position[l]+u[r];a[l]=-z-f[r];u=Math.floor(t*(z+u[r]+g/2)/f[m]);u=f[m]&&t?Math.max(0,Math.min(t-1,u)):-1;var v={x:0,y:0};v[m]=g;v[q]=f[q];v[r]=-a[l]-f[r];var B,A=h.children();if(h.eachChild(function(a,d){var e=b(a);e.intersect(v)&&(null==B&&(B=d),c=a.__legendDataIndex);d===A.length-1&&e[r]+e[m]<=v[r]+v[m]&&(c=null)}),
null!=B){var C=b(A[B]);if(v[r]=C[r]+C[m]-v[m],0>=B&&C[r]>=v[r])C=null;else{for(;0<B&&b(A[B-1]).intersect(v);)B--;C=A[B].__legendDataIndex}}}return{contentPosition:a,pageIndex:u,pageCount:t,pagePrevDataIndex:C,pageNextDataIndex:c}}});yb("legendScroll","legendscroll",function(a,b){var c=a.scrollDataIndex;null!=c&&b.eachComponent({mainType:"legend",subType:"scroll",query:a},function(a){a.setScrollDataIndex(c)})});qd({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,
text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});Oc({type:"title",render:function(a,b,c){if(this.group.removeAll(),a.get("show")){b=this.group;var d=a.getModel("textStyle"),e=a.getModel("subtextStyle"),h=a.get("textAlign"),f=a.get("textBaseline");d=new $a({style:ad({},d,{text:a.get("text"),textFill:d.getTextColor()},
{disableBox:!0}),z2:10});var g=d.getBoundingRect(),l=a.get("subtext");e=new $a({style:ad({},e,{text:l,textFill:e.getTextColor(),y:g.height+a.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10});var m=a.get("link"),n=a.get("sublink");d.silent=!m;e.silent=!n;m&&d.on("click",function(){window.open(m,"_"+a.get("target"))});n&&e.on("click",function(){window.open(n,"_"+a.get("subtarget"))});b.add(d);l&&b.add(e);l=b.getBoundingRect();g=a.getBoxLayoutParams();g.width=l.width;g.height=l.height;
c=$c(g,{width:c.getWidth(),height:c.getHeight()},a.get("padding"));h||("middle"===(h=a.get("left")||a.get("right"))&&(h="center"),"right"===h?c.x+=c.width:"center"===h&&(c.x+=c.width/2));f||("center"===(f=a.get("top")||a.get("bottom"))&&(f="middle"),"bottom"===f?c.y+=c.height:"middle"===f&&(c.y+=c.height/2),f=f||"top");b.attr("position",[c.x,c.y]);h={textAlign:h,textVerticalAlign:f};d.setStyle(h);e.setStyle(h);l=b.getBoundingRect();c=c.margin;h=a.getItemStyle(["color","opacity"]);h.fill=a.get("backgroundColor");
c=new jb({shape:{x:l.x-c[3],y:l.y-c[0],width:l.width+c[1]+c[3],height:l.height+c[0]+c[2],r:a.get("borderRadius")},style:h,silent:!0});xi(c);b.add(c)}}});var fi=qd({type:"marker",dependencies:["series","grid","polar","geo"],init:function(a,b,c,d){this.mergeDefaultAndTheme(a,c);this.mergeOption(a,c,d.createdBySelf,!0)},isAnimationEnabled:function(){if(Ba.node)return!1;var a=this.__hostSeries;return this.getShallow("animation")&&a&&a.isAnimationEnabled()},mergeOption:function(a,b,c,d){var e=this.constructor,
h=this.mainType+"Model";c||b.eachSeries(function(a){var c=a.get(this.mainType,!0),g=a[h];c&&c.data?(g?g.mergeOption(c,b,!0):(d&&uh(c),v(c.data,function(a){a instanceof Array?(uh(a[0]),uh(a[1])):uh(a)}),f(g=new e(c,this,b),{mainType:this.mainType,seriesIndex:a.seriesIndex,name:a.name,createdBySelf:!0}),g.__hostSeries=a),a[h]=g):a[h]=null},this)},formatTooltip:function(a){var c=this.getData(),d=this.getRawValue(a),e=H(d)?b(d,$d).join(", "):$d(d);a=c.getName(a);c=lb(this.name);return(null!=d||a)&&(c+=
"<br />"),a&&(c+=lb(a),null!=d&&(c+=" : ")),null!=d&&(c+=lb(e)),c},getData:function(){return this._data},setData:function(a){this._data=a}});C(fi,Mp);fi.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var Bo=B,Gj={min:D(Ej,"min"),max:D(Ej,"max"),average:D(Ej,"average")},Vk=Oc({type:"marker",init:function(){this.markerGroupMap=ia()},render:function(a,b,
c){a=this.markerGroupMap;a.each(function(a){a.__keep=!1});var d=this.type+"Model";b.eachSeries(function(a){var e=a[d];e&&this.renderSeries(a,e,b,c)},this);a.each(function(a){!a.__keep&&this.group.remove(a.group)},this)},renderSeries:function(){}});Vk.extend({type:"markPoint",updateTransform:function(a,b,c){b.eachSeries(function(a){var b=a.markPointModel;b&&(Do(b.getData(),a,c),this.markerGroupMap.get(a.id).updateLayout(b))},this)},renderSeries:function(a,b,c,d){c=a.coordinateSystem;var e=a.id,h=a.getData(),
f=this.markerGroupMap;e=f.get(e)||f.set(e,new kh);var g=ht(c,a,b);b.setData(g);Do(b.getData(),a,d);g.each(function(a){var c=g.getItemModel(a),d=c.getShallow("symbolSize");"function"==typeof d&&(d=d(b.getRawValue(a),b.getDataParams(a)));g.setItemVisual(a,{symbolSize:d,color:c.get("itemStyle.color")||h.getVisual("color"),symbol:c.getShallow("symbol")})});e.updateData(g);this.group.add(e.group);g.eachItemGraphicEl(function(a){a.traverse(function(a){a.dataModel=b})});e.__keep=!0;e.group.silent=b.get("silent")||
a.get("silent")}});pd(function(a){a.markPoint=a.markPoint||{}});fi.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var mq=sf.prototype,Wk=Ip.prototype,jt=vd({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(a,
b){(Hj(b)?mq:Wk).buildPath(a,b)},pointAt:function(a){return Hj(this.shape)?mq.pointAt.call(this,a):Wk.pointAt.call(this,a)},tangentAt:function(a){var b=this.shape;a=Hj(b)?[b.x2-b.x1,b.y2-b.y1]:Wk.tangentAt.call(this,a);return U(a,a)}}),Xk=["fromSymbol","toSymbol"],Vd=Jj.prototype;Vd.beforeUpdate=function(){var a=this.childOfName("fromSymbol"),b=this.childOfName("toSymbol"),c=this.childOfName("label");if(a||b||!c.ignore){for(var d=1,e=this.parent;e;)e.scale&&(d/=e.scale[0]),e=e.parent;var f=this.childOfName("line");
if(this.__dirty||f.__dirty){var g=f.shape.percent;e=f.pointAt(0);var l=f.pointAt(g),m=ka([],l,e);if(U(m,m),a&&(a.attr("position",e),q=f.tangentAt(0),a.attr("rotation",Math.PI/2-Math.atan2(q[1],q[0])),a.attr("scale",[d*g,d*g])),b){b.attr("position",l);var q=f.tangentAt(1);b.attr("rotation",-Math.PI/2-Math.atan2(q[1],q[0]));b.attr("scale",[d*g,d*g])}c.ignore||(c.attr("position",l),a=5*d,"end"===c.__position?(f=[m[0]*a+l[0],m[1]*a+l[1]],a=.8<m[0]?"left":-.8>m[0]?"right":"center",m=.8<m[1]?"top":-.8>
m[1]?"bottom":"middle"):"middle"===c.__position?(b=g/2,m=[(q=f.tangentAt(b))[1],-q[0]],f=f.pointAt(b),0<m[1]&&(m[0]=-m[0],m[1]=-m[1]),f=[f[0]+m[0]*a,f[1]+m[1]*a],a="center",m="bottom",q=-Math.atan2(q[1],q[0]),l[0]<e[0]&&(q=Math.PI+q),c.attr("rotation",q)):(f=[-m[0]*a+e[0],-m[1]*a+e[1]],a=.8<m[0]?"right":-.8>m[0]?"left":"center",m=.8<m[1]?"bottom":-.8>m[1]?"top":"middle"),c.attr({style:{textVerticalAlign:c.__verticalAlign||m,textAlign:c.__textAlign||a},position:f,scale:[d,d]}))}}};Vd._createLine=function(a,
b,c){var d=a.hostModel,e=it(a.getItemLayout(b));e.shape.percent=0;ce(e,{shape:{percent:1}},d,b);this.add(e);d=new $a({name:"label"});this.add(d);v(Xk,function(c){var d=Eo(c,a,b);this.add(d);this["_"+c+"Type"]=a.getItemVisual(b,c)},this);this._updateCommonStl(a,b,c)};Vd.updateData=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),h=a.getItemLayout(b),f={shape:{}};Ij(f.shape,h);nb(e,f,d,b);v(Xk,function(c){var d=a.getItemVisual(b,c),e="_"+c+"Type";this[e]!==d&&(this.remove(this.childOfName(c)),
c=Eo(c,a,b),this.add(c));this[e]=d},this);this._updateCommonStl(a,b,c)};Vd._updateCommonStl=function(a,b,c){var d=a.hostModel,e=this.childOfName("line"),h=c&&c.lineStyle,f=c&&c.hoverLineStyle,g=c&&c.labelModel,l=c&&c.hoverLabelModel;if(!c||a.hasItemOption)l=a.getItemModel(b),h=l.getModel("lineStyle").getLineStyle(),f=l.getModel("emphasis.lineStyle").getLineStyle(),g=l.getModel("label"),l=l.getModel("emphasis.label");var m=a.getItemVisual(b,"color"),n=S(a.getItemVisual(b,"opacity"),h.opacity,1);e.useStyle(q({strokeNoScale:!0,
fill:"none",stroke:m,opacity:n},h));e.hoverStyle=f;v(Xk,function(a){(a=this.childOfName(a))&&(a.setColor(m),a.setStyle({opacity:n}))},this);var w,r;e=g.getShallow("show");h=l.getShallow("show");f=this.childOfName("label");(e||h)&&(w=m||"#000",null==(r=d.getFormattedLabel(b,"normal",a.dataType)))&&(r=d.getRawValue(b),r=null==r?a.getName(b):isFinite(r)?ob(r):r);c=e?r:null;a=h?J(d.getFormattedLabel(b,"emphasis",a.dataType),r):null;b=f.style;null==c&&null==a||(ad(f.style,g,{text:c},{autoColor:w}),f.__textAlign=
b.textAlign,f.__verticalAlign=b.textVerticalAlign,f.__position=g.get("position")||"middle");f.hoverStyle=null!=a?{text:a,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null};f.ignore=!e&&!h;wd(this)};Vd.highlight=function(){this.trigger("emphasis")};Vd.downplay=function(){this.trigger("normal")};Vd.updateLayout=function(a,b){this.setLinePoints(a.getItemLayout(b))};
Vd.setLinePoints=function(a){var b=this.childOfName("line");Ij(b.shape,a);b.dirty()};u(Jj,xa);var Ge=Fo.prototype;Ge.isPersistent=function(){return!0};Ge.updateData=function(a){var b=this,c=b.group,d=b._lineData;b._lineData=a;d||c.removeAll();var e=Go(a);a.diff(d).add(function(c){if(Kj(a.getItemLayout(c))){var d=new b._ctor(a,c,e);a.setItemGraphicEl(c,d);b.group.add(d)}}).update(function(c,h){h=d.getItemGraphicEl(h);Kj(a.getItemLayout(c))?(h?h.updateData(a,c,e):h=new b._ctor(a,c,e),a.setItemGraphicEl(c,
h),b.group.add(h)):b.group.remove(h)}).remove(function(a){c.remove(d.getItemGraphicEl(a))}).execute()};Ge.updateLayout=function(){var a=this._lineData;a&&a.eachItemGraphicEl(function(b,c){b.updateLayout(a,c)},this)};Ge.incrementalPrepareUpdate=function(a){this._seriesScope=Go(a);this._lineData=null;this.group.removeAll()};Ge.incrementalUpdate=function(a,b){for(var c=a.start;c<a.end;c++)if(Kj(b.getItemLayout(c))){var d=new this._ctor(b,c,this._seriesScope);d.traverse(function(a){a.isGroup||(a.incremental=
a.useHoverLayer=!0)});this.group.add(d);b.setItemGraphicEl(c,d)}};Ge.remove=function(){this._clearIncremental();this._incremental=null;this.group.removeAll()};Ge._clearIncremental=function(){var a=this._incremental;a&&a.clearDisplaybles()};var mt=function(a,b,c,d){var h=a.getData(),g=d.type;if(!H(d)&&("min"===g||"max"===g||"average"===g||"median"===g||null!=d.xAxis||null!=d.yAxis)){if(null!=d.yAxis||null!=d.xAxis){var l=null!=d.yAxis?"y":"x";b.getAxis(l);h=X(d.yAxis,d.xAxis)}else b=Ao(d,h,b,a),l=
b.valueDataDim,b.valueAxis,h=Fj(h,l,g);l="x"===l?0:1;var n=1-l;b=e(d);var q={};b.type=null;b.coord=[];q.coord=[];b.coord[n]=-1/0;q.coord[n]=1/0;c=c.get("precision");0<=c&&"number"==typeof h&&(h=+h.toFixed(Math.min(c,20)));b.coord[l]=q.coord[l]=h;d=[b,q,{type:g,valueIndex:d.valueIndex,value:h}]}return d=[hg(a,d[0]),hg(a,d[1]),f({},d[2])],d[2].type=d[2].type||"",m(d[2],d[0]),m(d[2],d[1]),d};Vk.extend({type:"markLine",updateTransform:function(a,b,c){b.eachSeries(function(a){var b=a.markLineModel;if(b){var d=
b.getData(),e=b.__from,h=b.__to;e.each(function(b){Lj(e,b,!0,a,c);Lj(h,b,!1,a,c)});d.each(function(a){d.setItemLayout(a,[e.getItemLayout(a),h.getItemLayout(a)])});this.markerGroupMap.get(a.id).updateLayout()}},this)},renderSeries:function(a,b,c,d){function e(b,c,e){var h=b.getItemModel(c);Lj(b,c,e,a,d);b.setItemVisual(c,{symbolSize:h.get("symbolSize")||w[e?0:1],symbol:h.get("symbol",!0)||q[e?0:1],color:h.get("itemStyle.color")||f.getVisual("color")})}c=a.coordinateSystem;var h=a.id,f=a.getData(),
g=this.markerGroupMap;h=g.get(h)||g.set(h,new Fo);this.group.add(h.group);c=lt(c,a,b);var l=c.from,m=c.to,n=c.line;b.__from=l;b.__to=m;b.setData(n);var q=b.get("symbol"),w=b.get("symbolSize");H(q)||(q=[q,q]);"number"==typeof w&&(w=[w,w]);c.from.each(function(a){e(l,a,!0);e(m,a,!1)});n.each(function(a){var b=n.getItemModel(a).get("lineStyle.color");n.setItemVisual(a,{color:b||l.getItemVisual(a,"color")});n.setItemLayout(a,[l.getItemLayout(a),m.getItemLayout(a)]);n.setItemVisual(a,{fromSymbolSize:l.getItemVisual(a,
"symbolSize"),fromSymbol:l.getItemVisual(a,"symbol"),toSymbolSize:m.getItemVisual(a,"symbolSize"),toSymbol:m.getItemVisual(a,"symbol")})});h.updateData(n);c.line.eachItemGraphicEl(function(a,c){a.traverse(function(a){a.dataModel=b})});h.__keep=!0;h.group.silent=b.get("silent")||a.get("silent")}});pd(function(a){a.markLine=a.markLine||{}});fi.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,
position:"top"}}}});var pt=function(a,b,c,d){b=hg(a,d[0]);a=hg(a,d[1]);d=b.coord;c=a.coord;d[0]=X(d[0],-1/0);d[1]=X(d[1],-1/0);c[0]=X(c[0],1/0);c[1]=X(c[1],1/0);d=l([{},b,a]);return d.coord=[b.coord,a.coord],d.x0=b.x,d.y0=b.y,d.x1=a.x,d.y1=a.y,d},nq=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];Vk.extend({type:"markArea",updateTransform:function(a,c,d){c.eachSeries(function(a){var c=a.markAreaModel;if(c){var e=c.getData();e.each(function(c){var h=b(nq,function(b){return Jo(e,c,b,a,d)});e.setItemLayout(c,
h);e.getItemGraphicEl(c).setShape("points",h)})}},this)},renderSeries:function(a,c,d,e){d=a.coordinateSystem;var h=a.id,f=a.getData(),g=this.markerGroupMap,l=g.get(h)||g.set(h,{group:new xa});this.group.add(l.group);l.__keep=!0;var m=ot(d,a,c);c.setData(m);m.each(function(c){m.setItemLayout(c,b(nq,function(b){return Jo(m,c,b,a,e)}));m.setItemVisual(c,{color:f.getVisual("color")})});m.diff(l.__data).add(function(a){var b=new Sh({shape:{points:m.getItemLayout(a)}});m.setItemGraphicEl(a,b);l.group.add(b)}).update(function(a,
b){b=l.__data.getItemGraphicEl(b);nb(b,{shape:{points:m.getItemLayout(a)}},c,a);l.group.add(b);m.setItemGraphicEl(a,b)}).remove(function(a){a=l.__data.getItemGraphicEl(a);l.group.remove(a)}).execute();m.eachItemGraphicEl(function(a,b){var d=m.getItemModel(b),e=d.getModel("label"),h=d.getModel("emphasis.label"),f=m.getItemVisual(b,"color");a.useStyle(q(d.getModel("itemStyle").getItemStyle(),{fill:Ra(f,.4),stroke:f}));a.hoverStyle=d.getModel("emphasis.itemStyle").getItemStyle();Cf(a.style,a.hoverStyle,
e,h,{labelFetcher:c,labelDataIndex:b,defaultText:m.getName(b)||"",isRectText:!0,autoColor:f});wd(a,{});a.dataModel=c});l.__data=m;l.group.silent=c.get("silent")||a.get("silent")}});pd(function(a){a.markArea=a.markArea||{}});Ua.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var zv=["cartesian2d","polar","singleAxis"],Wd=function(a,c){var d=b(a=a.slice(),ui),e=b(c=(c||[]).slice(),ui);return function(b,h){v(a,function(a,f){f={name:a,capital:d[f]};for(var g=0;g<c.length;g++)f[c[g]]=a+
e[g];b.call(h,f)})}}("x y z radius angle single".split(" "),["axisIndex","axis","index","id"]),Md=v,Yk=function(a,b,c,d){this._dimName=a;this._axisIndex=b;this._valueWindow;this._percentWindow;this._dataExtent;this._minMaxSpan;this.ecModel=d;this._dataZoomModel=c};Yk.prototype={constructor:Yk,hostedBy:function(a){return this._dataZoomModel===a},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var a=
[],b=this.ecModel;return b.eachSeries(function(c){if(0<=B(zv,c.get("coordinateSystem"))){var d=this._dimName;d=b.queryComponents({mainType:d+"Axis",index:c.get(d+"AxisIndex"),id:c.get(d+"AxisId")})[0];this._axisIndex===(d&&d.componentIndex)&&a.push(c)}},this),a},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var a,b,c=this._dimName,d=this.ecModel,e=this.getAxisModel();"x"===c||"y"===c?(b="gridIndex",a="x"===c?"y":"x"):(b=
"polarIndex",a="angle"===c?"radius":"angle");var f;return d.eachComponent(a+"Axis",function(a){(a.get(b)||0)===(e.get(b)||0)&&(f=a)}),f},getMinMaxSpan:function(){return e(this._minMaxSpan)},calculateDataWindow:function(a){var b=this._dataExtent,c=this.getAxisModel().axis.scale,d=this._dataZoomModel.getRangePropMode(),e=[0,100],h=[a.start,a.end],f=[];return Md(["startValue","endValue"],function(b){f.push(null!=a[b]?c.parse(a[b]):null)}),Md([0,1],function(a){var g=f[a],l=h[a];"percent"===d[a]?(null==
l&&(l=e[a]),g=c.parse(mb(l,e,b,!0))):l=mb(g,b,e,!0);f[a]=g;h[a]=l}),{valueWindow:Te(f),percentWindow:Te(h)}},reset:function(a){if(a===this._dataZoomModel){var b=this.getTargetSeriesModels();this._dataExtent=rt(this,this._dimName,b);a=this.calculateDataWindow(a.option);this._valueWindow=a.valueWindow;this._percentWindow=a.percentWindow;tt(this);Ko(this)}},restore:function(a){a===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Ko(this,!0))},filterData:function(a,b){if(a===this._dataZoomModel){var c=
this._dimName;b=this.getTargetSeriesModels();var d=a.get("filterMode"),e=this._valueWindow;"none"!==d&&Md(b,function(a){var b=a.getData(),h=b.mapDimension(c,!0);"weakFilter"===d?b.filterSelf(function(a){for(var c,d,f,g=0;g<h.length;g++){var l=b.get(h[g],a),m=!isNaN(l),n=l<e[0];l=l>e[1];if(m&&!n&&!l)return!0;m&&(f=!0);n&&(c=!0);l&&(d=!0)}return f&&c&&d}):Md(h,function(c){if("empty"===d)a.setData(b.map(c,function(a){return a>=e[0]&&a<=e[1]?a:NaN}));else{var h={};h[c]=e;b.selectRange(h)}});Md(h,function(a){b.setApproximateExtent(e,
a)})})}}};var nf=v,Zk=qd({type:"dataZoom",dependencies:"xAxis yAxis zAxis radiusAxis angleAxis singleAxis series".split(" "),defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(a,b,c){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;this._rangePropMode=
["percent","percent"];b=Lo(a);this.mergeDefaultAndTheme(a,c);this.doInit(b)},mergeOption:function(a){var b=Lo(a);m(this.option,a,!0);this.doInit(b)},doInit:function(a){var b=this.option;Ba.canvasSupported||(b.realtime=!1);this._setDefaultThrottle(a);Mo(this,a);nf([["start","startValue"],["end","endValue"]],function(a,c){"value"===this._rangePropMode[c]&&(b[a[0]]=null)},this);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var a=
this._axisProxies;this.eachTargetAxis(function(b,c,d,e){d=this.dependentModels[b.axis][c];e=d.__dzAxisProxy||(d.__dzAxisProxy=new Yk(b.name,c,this,e));a[b.name+"_"+c]=e},this)},_resetTarget:function(){var a=this.option,b=this._judgeAutoMode();Wd(function(b){b=b.axisIndex;a[b]=Ob(a[b])},this);"axisIndex"===b?this._autoSetAxisIndex():"orient"===b&&this._autoSetOrient()},_judgeAutoMode:function(){var a=this.option,b=!1;Wd(function(c){null!=a[c.axisIndex]&&(b=!0)},this);var c=a.orient;return null==c&&
b?"orient":b?void 0:(null==c&&(a.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var a=!0,b=this.get("orient",!0),c=this.option,d=this.dependentModels;if(a){var e="vertical"===b?"y":"x";d[e+"Axis"].length?(c[e+"AxisIndex"]=[0],a=!1):nf(d.singleAxis,function(d){a&&d.get("orient",!0)===b&&(c.singleAxisIndex=[d.componentIndex],a=!1)})}a&&Wd(function(b){if(a){var d=[],e=this.dependentModels[b.axis];if(e.length&&!d.length)for(var h=0,f=e.length;h<f;h++)"category"===e[h].get("type")&&d.push(h);
c[b.axisIndex]=d;d.length&&(a=!1)}},this);a&&this.ecModel.eachSeries(function(a){this._isSeriesHasAllAxesTypeOf(a,"value")&&Wd(function(b){var d=c[b.axisIndex],e=a.get(b.axisIndex),h=a.get(b.axisId);0>B(d,e=a.ecModel.queryComponents({mainType:b.axis,index:e,id:h})[0].componentIndex)&&d.push(e)})},this)},_autoSetOrient:function(){var a;this.eachTargetAxis(function(b){!a&&(a=b.name)},this);this.option.orient="y"===a?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(a,b){var c=!0;return Wd(function(d){var e=
a.get(d.axisIndex);(d=this.dependentModels[d.axis][e])&&d.get("type")===b||(c=!1)},this),c},_setDefaultThrottle:function(a){if(a.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle)a=this.ecModel.option,this.option.throttle=a.animation&&0<a.animationDurationUpdate?100:20},getFirstTargetAxisModel:function(){var a;return Wd(function(b){if(null==a){var c=this.get(b.axisIndex);c.length&&(a=this.dependentModels[b.axis][c[0]])}},this),a},eachTargetAxis:function(a,b){var c=this.ecModel;
Wd(function(d){nf(this.get(d.axisIndex),function(e){a.call(b,d,e,this,c)},this)},this)},getAxisProxy:function(a,b){return this._axisProxies[a+"_"+b]},getAxisModel:function(a,b){return(a=this.getAxisProxy(a,b))&&a.getAxisModel()},setRawRange:function(a,b){var c=this.option;nf([["start","startValue"],["end","endValue"]],function(b){null==a[b[0]]&&null==a[b[1]]||(c[b[0]]=a[b[0]],c[b[1]]=a[b[1]])},this);!b&&Mo(this,a)},getPercentRange:function(){var a=this.findRepresentativeAxisProxy();if(a)return a.getDataPercentWindow()},
getValueRange:function(a,b){return null!=a||null!=b?this.getAxisProxy(a,b).getDataValueWindow():(a=this.findRepresentativeAxisProxy())?a.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(a){if(a)return a.__dzAxisProxy;a=this._axisProxies;for(var b in a)if(a.hasOwnProperty(b)&&a[b].hostedBy(this))return a[b];for(b in a)if(a.hasOwnProperty(b)&&!a[b].hostedBy(this))return a[b]},getRangePropMode:function(){return this._rangePropMode.slice()}}),$k=od.extend({type:"dataZoom",render:function(a,
b,c,d){this.dataZoomModel=a;this.ecModel=b;this.api=c},getTargetCoordInfo:function(){var a=this.ecModel,b={};return this.dataZoomModel.eachTargetAxis(function(c,d){if(c=a.getComponent(c.axis,d))if(d=c.getCoordSysModel()){for(var e=b[d.mainType]||(b[d.mainType]=[]),f,h=0;h<e.length;h++)if(e[h].model===d){f=e[h];break}f||e.push(f={model:d,axisModels:[],coordIndex:d.componentIndex});f.axisModels.push(c)}},this),b}}),gi=(Zk.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",
top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",
realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),function(a,b,c,d,e,f){b[0]=wh(b[0],c);b[1]=wh(b[1],c);a=a||0;var h=c[1]-c[0];null!=e&&(e=wh(e,[0,h]));null!=f&&(f=Math.max(f,null!=e?e:0));"all"===d&&(e=f=Math.abs(b[1]-b[0]),d=0);h=Mj(b,d);b[d]+=a;a=e||0;c=c.slice();0>h.sign?c[0]+=a:c[1]-=a;b[d]=wh(b[d],c);c=Mj(b,d);null!=e&&(c.sign!==h.sign||c.span<e)&&(b[1-d]=b[d]+h.sign*e);c=Mj(b,d);return null!=f&&c.span>f&&(b[1-d]=b[d]+c.sign*f),b}),hi=jb,Av=["line","bar","candlestick","scatter"],al=$k.extend({type:"dataZoom.slider",
init:function(a,b){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=b},render:function(a,b,c,d){al.superApply(this,"render",arguments);Wi(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=a.get("orient");!1!==this.dataZoomModel.get("show")?(d&&"dataZoom"===d.type&&d.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},
remove:function(){al.superApply(this,"remove",arguments);Im(this,"_dispatchZoomAction")},dispose:function(){al.superApply(this,"dispose",arguments);Im(this,"_dispatchZoomAction")},_buildView:function(){var a=this.group;a.removeAll();this._resetLocation();this._resetInterval();var b=this._displayables.barGroup=new xa;this._renderBackground();this._renderHandle();this._renderDataShadow();a.add(b);this._positionGroup()},_resetLocation:function(){var a=this.dataZoomModel,b=this.api,c=this._findCoordRect();
b={width:b.getWidth(),height:b.getHeight()};var d="horizontal"===this._orient?{right:b.width-c.x-c.width,top:b.height-30-7,width:c.width,height:30}:{right:7,top:c.y,width:30,height:c.height},e=Re({},a.option);v(["right","top","width","height"],function(a){"ph"===e[a]&&(e[a]=d[a])});a=$c(e,b,a.padding);this._location={x:a.x,y:a.y};this._size=[a.width,a.height];"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var a=this.group,b=this._location,c=this._orient,d=this.dataZoomModel.getFirstTargetAxisModel();
d=d&&d.get("inverse");var e=this._displayables.barGroup,f=(this._dataShadowInfo||{}).otherAxisInverse;e.attr("horizontal"!==c||d?"horizontal"===c&&d?{scale:f?[-1,1]:[-1,-1]}:"vertical"!==c||d?{scale:f?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:f?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:f?[1,1]:[1,-1]});c=a.getBoundingRect([e]);a.attr("position",[b.x-c.x,b.y-c.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var a=this._size,b=this._displayables.barGroup;b.add(new hi({silent:!0,
shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:this.dataZoomModel.get("backgroundColor")},z2:-40}));b.add(new hi({shape:{x:0,y:0,width:a[0],height:a[1]},style:{fill:"transparent"},z2:0,onclick:r(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var a=this._dataShadowInfo=this._prepareDataShadowInfo();if(a){var b=this._size,c=a.series,d=c.getRawData();a=c.getShadowDim?c.getShadowDim():a.otherDim;if(null!=a){var e=d.getDataExtent(a);c=.3*(e[1]-e[0]);e=[e[0]-c,e[1]+c];var f,g=[0,b[1]],
l=[[b[0],0],[0,0]],m=[],r=b[0]/(d.count()-1),t=0,u=Math.round(d.count()/b[0]);d.each([a],function(a,b){if(0<u&&b%u)t+=r;else{var c=null==a||isNaN(a)||""===a;a=c?0:mb(a,e,g,!0);c&&!f&&b?(l.push([l[l.length-1][0],0]),m.push([m[m.length-1][0],0])):!c&&f&&(l.push([t,0]),m.push([t,0]));l.push([t,a]);m.push([t,a]);t+=r;f=c}});b=this.dataZoomModel;this._displayables.barGroup.add(new Sh({shape:{points:l},style:q({fill:b.get("dataBackgroundColor")},b.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,
z2:-20}));this._displayables.barGroup.add(new ph({shape:{points:m},style:b.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var a=this.dataZoomModel,b=a.get("showDataShadow");if(!1!==b){var c,d=this.ecModel;return a.eachTargetAxis(function(e,f){v(a.getAxisProxy(e.name,f).getTargetSeriesModels(),function(a){if(!(c||!0!==b&&0>B(Av,a.get("type")))){var h,g=d.getComponent(e.axis,f).axis,l={x:"y",y:"x",radius:"angle",angle:"radius"}[e.name],m=
a.coordinateSystem;null!=l&&m.getOtherAxis&&(h=m.getOtherAxis(g).inverse);l=a.getData().mapDimension(l);c={thisAxis:g,series:a,thisDim:e.name,otherDim:l,otherAxisInverse:h}}},this)},this),c}},_renderHandle:function(){var a=this._displayables,b=a.handles=[],c=a.handleLabels=[],d=this._displayables.barGroup,e=this._size,f=this.dataZoomModel;d.add(a.filler=new hi({draggable:!0,cursor:No(this._orient),drift:r(this._onDragMove,this,"all"),onmousemove:function(a){xe(a.event)},ondragstart:r(this._showDataInfo,
this,!0),ondragend:r(this._onDragEnd,this),onmouseover:r(this._showDataInfo,this,!0),onmouseout:r(this._showDataInfo,this,!1),style:{fill:f.get("fillerColor"),textPosition:"inside"}}));d.add(new hi(xi({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:f.get("dataBackgroundColor")||f.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})));v([0,1],function(a){var e=Ef(f.get("handleIcon"),{cursor:No(this._orient),draggable:!0,drift:r(this._onDragMove,this,a),onmousemove:function(a){xe(a.event)},
ondragend:r(this._onDragEnd,this),onmouseover:r(this._showDataInfo,this,!0),onmouseout:r(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),h=e.getBoundingRect();this._handleHeight=za(f.get("handleSize"),this._size[1]);this._handleWidth=h.width/h.height*this._handleHeight;e.setStyle(f.getModel("handleStyle").getItemStyle());h=f.get("handleColor");null!=h&&(e.style.fill=h);d.add(b[a]=e);e=f.textStyleModel;this.group.add(c[a]=new $a({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",
textAlign:"center",textFill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var a=this._range=this.dataZoomModel.getPercentRange(),b=this._getViewExtent();this._handleEnds=[mb(a[0],[0,100],b,!0),mb(a[1],[0,100],b,!0)]},_updateInterval:function(a,b){var c=this.dataZoomModel,d=this._handleEnds,e=this._getViewExtent(),f=c.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];gi(b,d,e,c.get("zoomLock")?"all":a,null!=f.minSpan?mb(f.minSpan,h,e,!0):null,null!=f.maxSpan?
mb(f.maxSpan,h,e,!0):null);a=this._range;d=this._range=Te([mb(d[0],e,h,!0),mb(d[1],e,h,!0)]);return!a||a[0]!==d[0]||a[1]!==d[1]},_updateView:function(a){var b=this._displayables,c=this._handleEnds,d=Te(c.slice()),e=this._size;v([0,1],function(a){var d=this._handleHeight;b.handles[a].attr({scale:[d/2,d/2],position:[c[a],e[1]/2-d/2]})},this);b.filler.setShape({x:d[0],y:0,width:d[1]-d[0],height:e[1]});this._updateDataInfo(a)},_updateDataInfo:function(a){function b(a){var b=Dg(d.handles[a].parent,this.group),
c=yi(0===a?"right":"left",b),g=this._handleWidth/2+5;b=Df([m[a]+(0===a?-g:g),this._size[1]/2],b);e[a].setStyle({x:b[0],y:b[1],textVerticalAlign:"horizontal"===f?"middle":c,textAlign:"horizontal"===f?c:"center",text:h[a]})}var c=this.dataZoomModel,d=this._displayables,e=d.handleLabels,f=this._orient,h=["",""];if(c.get("showDetail")){var g=c.findRepresentativeAxisProxy();if(g){c=g.getAxisModel().axis;var l=this._range;a=a?g.calculateDataWindow({start:l[0],end:l[1]}).valueWindow:g.getDataValueWindow();
h=[this._formatLabel(a[0],c),this._formatLabel(a[1],c)]}}var m=Te(this._handleEnds.slice());b.call(this,0);b.call(this,1)},_formatLabel:function(a,b){var c=this.dataZoomModel,d=c.get("labelFormatter");c=c.get("labelPrecision");null!=c&&"auto"!==c||(c=b.getPixelPrecision());b=null==a||isNaN(a)?"":"category"===b.type||"time"===b.type?b.scale.getLabel(Math.round(a)):a.toFixed(Math.min(c,20));return W(d)?d(a,b):P(d)?d.replace("{value}",b):b},_showDataInfo:function(a){a=this._dragging||a;var b=this._displayables.handleLabels;
b[0].attr("invisible",!a);b[1].attr("invisible",!a)},_onDragMove:function(a,b,c){this._dragging=!0;b=Df([b,c],this._displayables.barGroup.getLocalTransform(),!0);a=this._updateInterval(a,b[0]);b=this.dataZoomModel.get("realtime");this._updateView(!b);a&&b&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(a){var b=this._size;a=this._displayables.barGroup.transformCoordToLocal(a.offsetX,
a.offsetY);0>a[0]||a[0]>b[0]||0>a[1]||a[1]>b[1]||(b=this._handleEnds,b=this._updateInterval("all",a[0]-(b[0]+b[1])/2),this._updateView(),b&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var a=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:a[0],end:a[1]})},_findCoordRect:function(){if(v(this.getTargetCoordInfo(),function(a){!c&&a.length&&(a=a[0].model.coordinateSystem,c=a.getRect&&a.getRect())}),!c){var a=this.api.getWidth(),
b=this.api.getHeight();var c={x:.2*a,y:.2*b,width:.6*a,height:.6*b}}return c}});Zk.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var Oo="\x00_ec_interaction_mutex";yb({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});C(Po,xc);var Uo=D,To="\x00_ec_dataZoom_roams",oq=$k.extend({type:"dataZoom.inside",init:function(a,b){this._range},render:function(a,c,d,e){oq.superApply(this,
"render",arguments);this._range=a.getPercentRange();v(this.getTargetCoordInfo(),function(c,e){var f=b(c,function(a){a=a.model;return a.type+"\x00_"+a.id});v(c,function(b){var c=b.model,h=a.option;Bt(d,{coordId:c.type+"\x00_"+c.id,allCoordIds:f,containsPoint:function(a,b,d){return c.coordinateSystem.containPoint([b,d])},dataZoomId:a.id,throttleRate:a.get("throttle",!0),panGetRange:r(this._onPan,this,b,e),zoomGetRange:r(this._onZoom,this,b,e),zoomLock:h.zoomLock,disabled:h.disabled,roamControllerOpt:{zoomOnMouseWheel:h.zoomOnMouseWheel,
moveOnMouseMove:h.moveOnMouseMove,preventDefaultMouseMove:h.preventDefaultMouseMove}})},this)},this)},dispose:function(){Ft(this.api,this.dataZoomModel.id);oq.superApply(this,"dispose",arguments);this._range=null},_onPan:function(a,b,c,d,e,f,g,l,m){d=this._range;e=d.slice();var h=a.axisModels[0];if(h)return a=pq[b]([f,g],[l,m],h,c,a),gi(a.signal*(e[1]-e[0])*a.pixel/a.pixelLength,e,[0,100],"all"),this._range=e,d[0]!==e[0]||d[1]!==e[1]?e:void 0},_onZoom:function(a,b,c,d,e,f){var h=this._range,g=h.slice(),
l=a.axisModels[0];if(l)return a=pq[b](null,[e,f],l,c,a),a=(0<a.signal?a.pixelStart+a.pixelLength-a.pixel:a.pixel-a.pixelStart)/a.pixelLength*(g[1]-g[0])+g[0],d=Math.max(1/d,0),g[0]=(g[0]-a)*d+a,g[1]=(g[1]-a)*d+a,d=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(),gi(0,g,[0,100],0,d.minSpan,d.maxSpan),this._range=g,h[0]!==g[0]||h[1]!==g[1]?g:void 0}}),pq={grid:function(a,b,c,d,e){c=c.axis;d={};e=e.model.coordinateSystem.getRect();return a=a||[0,0],"x"===c.dim?(d.pixel=b[0]-a[0],d.pixelLength=
e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1),d},polar:function(a,b,c,d,e){d=c.axis;var f={};e=e.model.coordinateSystem;var h=e.getRadiusAxis().getExtent(),g=e.getAngleAxis().getExtent();return a=a?e.pointToCoord(a):[0,0],b=e.pointToCoord(b),"radiusAxis"===c.mainType?(f.pixel=b[0]-a[0],f.pixelLength=h[1]-h[0],f.pixelStart=h[0],f.signal=d.inverse?1:-1):(f.pixel=b[1]-a[1],f.pixelLength=g[1]-g[0],f.pixelStart=g[0],
f.signal=d.inverse?-1:1),f},singleAxis:function(a,b,c,d,e){c=c.axis;e=e.model.coordinateSystem.getRect();d={};return a=a||[0,0],"horizontal"===c.orient?(d.pixel=b[0]-a[0],d.pixelLength=e.width,d.pixelStart=e.x,d.signal=c.inverse?1:-1):(d.pixel=b[1]-a[1],d.pixelLength=e.height,d.pixelStart=e.y,d.signal=c.inverse?-1:1),d}};ue({getTargetSeries:function(a){var b=ia();return a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(a,c,d){v(d.getAxisProxy(a.name,c).getTargetSeriesModels(),function(a){b.set(a.uid,
a)})})}),b},modifyOutputEnd:!0,overallReset:function(a,b){a.eachComponent("dataZoom",function(a){a.eachTargetAxis(function(a,c,d){d.getAxisProxy(a.name,c).reset(d,b)});a.eachTargetAxis(function(a,c,d){d.getAxisProxy(a.name,c).filterData(d,b)})});a.eachComponent("dataZoom",function(a){var b=a.findRepresentativeAxisProxy(),c=b.getDataPercentWindow();b=b.getDataValueWindow();a.setRawRange({start:c[0],end:c[1],startValue:b[0],endValue:b[1]},!0)})}});yb("dataZoom",function(a,b){var c=qt(r(b.eachComponent,
b,"dataZoom"),Wd,function(a,b){return a.get(b.axisIndex)}),d=[];b.eachComponent({mainType:"dataZoom",query:a},function(a,b){d.push.apply(d,c(a).nodes)});v(d,function(b,c){b.setRawRange({start:a.start,end:a.end,startValue:a.startValue,endValue:a.endValue})})});var He={},Bv=qd({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){Bv.superApply(this,"optionUpdated",arguments);v(this.option.feature,function(a,b){(b=He[b])&&m(a,b.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,
orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});Oc({type:"toolbox",render:function(a,b,c,d){function e(e,h){e=n[e];h=n[h];var g=new Ta(l[e],a,a.ecModel);if(e&&!h){if(0===e.indexOf("my"))var q={model:g,onclick:g.option.onclick,featureName:e};else{q=He[e];if(!q)return;q=new q(g,b,c)}m[e]=q}else{if(!(q=
m[h]))return;q.model=g;q.ecModel=b;q.api=c}e||!h?g.get("show")&&!q.unusable?(f(g,q,e),g.setIconStatus=function(a,b){var c=this.option,d=this.iconPaths;c.iconStatus=c.iconStatus||{};c.iconStatus[a]=b;d[a]&&d[a].trigger(b)},q.render&&q.render(g,b,c,d)):q.remove&&q.remove(b,c):q.dispose&&q.dispose(b,c)}function f(d,e,f){var l=d.getModel("iconStyle"),m=d.getModel("emphasis.iconStyle"),n=e.getIcons?e.getIcons():d.get("icon"),q=d.get("title")||{};if("string"==typeof n){var w=n,t=q;q={};(n={})[f]=w;q[f]=
t}var u=d.iconPaths={};v(n,function(f,n){var w=Ef(f,{},{x:-g/2,y:-g/2,width:g,height:g});w.setStyle(l.getItemStyle());w.hoverStyle=m.getItemStyle();wd(w);a.get("showTitle")&&(w.__title=q[n],w.on("mouseover",function(){var a=m.getItemStyle();w.setStyle({text:q[n],textPosition:a.textPosition||"bottom",textFill:a.fill||a.stroke||"#000",textAlign:a.textAlign||"center"})}).on("mouseout",function(){w.setStyle({textFill:null})}));w.trigger(d.get("iconStatus."+n)||"normal");h.add(w);w.on("click",r(e.onclick,
e,b,c,n));u[n]=w})}var h=this.group;if(h.removeAll(),a.get("show")){var g=+a.get("itemSize"),l=a.get("feature")||{},m=this._features||(this._features={}),n=[];v(l,function(a,b){n.push(b)});(new Wf(this._featureNames||[],n)).add(e).update(e).remove(D(e,null)).execute();this._featureNames=n;ft(h,a,c);h.add(vo(h.getBoundingRect(),a));h.eachChild(function(a){var b=a.__title,d=a.hoverStyle;if(d&&b){b=Hb(b,Oe(d));var e=a.position[0]+h.position[0],f=!1;a.position[1]+h.position[1]+g+b.height>c.getHeight()&&
(d.textPosition="top",f=!0);a=f?-5-b.height:g+8;e+b.width/2>c.getWidth()?(d.textPosition=["100%",a],d.textAlign="right"):0>e-b.width/2&&(d.textPosition=[0,a],d.textAlign="left")}})}},updateView:function(a,b,c,d){v(this._features,function(a){a.updateView&&a.updateView(a.model,b,c,d)})},remove:function(a,b){v(this._features,function(c){c.remove&&c.remove(a,b)});this.group.removeAll()},dispose:function(a,b){v(this._features,function(c){c.dispose&&c.dispose(a,b)})}});yh.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",
title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"].slice()};yh.prototype.unusable=!Ba.canvasSupported;yh.prototype.onclick=function(a,b){var c=this.model,d=c.get("name")||a.get("title.0.text")||"echarts",e=document.createElement("a"),f=c.get("type",!0)||"png";e.download=d+"."+f;e.target="_blank";a=b.getConnectedDataURL({type:f,backgroundColor:c.get("backgroundColor",!0)||a.get("backgroundColor")||
"#fff",excludeComponents:c.get("excludeComponents"),pixelRatio:c.get("pixelRatio")});if(e.href=a,"function"!=typeof MouseEvent||Ba.browser.ie||Ba.browser.edge)if(window.navigator.msSaveOrOpenBlob){e=atob(a.split(",")[1]);c=e.length;for(a=new Uint8Array(c);c--;)a[c]=e.charCodeAt(c);e=new Blob([a]);window.navigator.msSaveOrOpenBlob(e,d+"."+f)}else d=c.get("lang"),d='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(d&&d[0]||"")+'" /></body>',window.open().document.write(d);
else d=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),e.dispatchEvent(d)};He.saveAsImage=yh;Nj.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",
tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:e({title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}}.title),option:{},seriesIndex:{}};var qq=Nj.prototype;qq.getIcons=function(){var a=this.model,b=a.get("icon"),c={};return v(a.get("type"),function(a){b[a]&&(c[a]=b[a])}),c};var rq={line:function(a,b,c,d){if("bar"===
a)return m({id:b,type:"line",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.line")||{},!0)},bar:function(a,b,c,d){if("line"===a)return m({id:b,type:"bar",data:c.get("data"),stack:c.get("stack"),markPoint:c.get("markPoint"),markLine:c.get("markLine")},d.get("option.bar")||{},!0)},stack:function(a,b,c,d){if("line"===a||"bar"===a)return m({id:b,stack:"__ec_magicType_stack__"},d.get("option.stack")||{},!0)},tiled:function(a,b,c,d){if("line"===
a||"bar"===a)return m({id:b,stack:""},d.get("option.tiled")||{},!0)}},Cv=[["line","bar"],["stack","tiled"]];qq.onclick=function(a,b,c){var d=this.model,e=d.get("seriesIndex."+c);if(rq[c]){var f={series:[]};v(Cv,function(a){0<=B(a,c)&&v(a,function(a){d.setIconStatus(a,"normal")})});d.setIconStatus(c,"emphasis");a.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(b){var e=rq[c](b.subType,b.id,b,d);e&&(q(e,b.option),f.series.push(e));if((e=b.coordinateSystem)&&"cartesian2d"===
e.type&&("line"===c||"bar"===c)&&(e=e.getAxesByScale("ordinal")[0])){e=e.dim+"Axis";b=a.queryComponents({mainType:e,index:b.get(name+"Index"),id:b.get(name+"Id")})[0].componentIndex;f[e]=f[e]||[];for(var h=0;h<=b;h++)f[e][b]=f[e][b]||{};f[e][b].boundaryGap="bar"===c}});b.dispatchAction({type:"changeMagicType",currentType:c,newOption:f})}};yb({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(a,b){b.mergeOption(a.newOption)});He.magicType=Nj;var zh=Array(60).join("-"),
ye="\t",Oj=new RegExp("["+ye+"]+","g");jg.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e("\u6570\u636e\u89c6\u56fe"),lang:e(["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};jg.prototype.onclick=function(a,
b){function c(){d.removeChild(f);z._dom=null}var d=b.getDom(),e=this.model;this._dom&&d.removeChild(this._dom);var f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";f.style.backgroundColor=e.get("backgroundColor")||"#fff";var h=document.createElement("h4"),g=e.get("lang")||[];h.innerHTML=g[0]||e.get("title");h.style.cssText="margin: 10px 20px;";h.style.color=e.get("textColor");var l=document.createElement("div"),m=document.createElement("textarea");
l.style.cssText="display:block;width:100%;overflow:auto;";var n=e.get("optionToContent"),q=e.get("contentToOption");a=Lt(a);"function"==typeof n?(n=n(b.getOption()),"string"==typeof n?l.innerHTML=n:R(n)&&l.appendChild(n)):(l.appendChild(m),m.readOnly=e.get("readOnly"),m.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",m.style.color=e.get("textColor"),m.style.borderColor=e.get("textareaBorderColor"),m.style.backgroundColor=e.get("textareaColor"),m.value=
a.value);var r=a.meta;n=document.createElement("div");n.style.cssText="position:absolute;bottom:0;left:0;right:0;";a="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var t=document.createElement("div"),u=document.createElement("div");a+=";background-color:"+e.get("buttonColor");a+=";color:"+e.get("buttonTextColor");var z=this;$b(t,"click",c);$b(u,"click",function(){try{var a="function"==typeof q?q(l,b.getOption()):Nt(m.value,r)}catch(Sq){throw c(),
Error("Data view format error "+Sq);}a&&b.dispatchAction({type:"changeDataView",newOption:a});c()});t.innerHTML=g[1];u.innerHTML=g[2];u.style.cssText=a;t.style.cssText=a;!e.get("readOnly")&&n.appendChild(u);n.appendChild(t);$b(m,"keydown",function(a){if(9===(a.keyCode||a.which)){var b=this.value,c=this.selectionStart,d=this.selectionEnd;this.value=b.substring(0,c)+ye+b.substring(d);this.selectionStart=this.selectionEnd=c+1;xe(a)}});f.appendChild(h);f.appendChild(l);f.appendChild(n);l.style.height=
d.clientHeight-80+"px";d.appendChild(f);this._dom=f};jg.prototype.remove=function(a,b){this._dom&&b.getDom().removeChild(this._dom)};jg.prototype.dispose=function(a,b){this.remove(a,b)};He.dataView=jg;yb({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(a,b){var c=[];v(a.newOption.series,function(a){var d=b.getSeriesByName(a.name)[0];d?(d=d.get("data"),c.push({name:a.name,data:Ot(a.data,d)})):c.push(f({type:"scatter"},a))});b.mergeOption(q({series:c},a.newOption))});
var Nd=D,Qc=v,Ut=b,kg=Math.min,of=Math.max,$t=Math.pow,Tt=1E4,au=6,Vt=6,Wo="globalPan",Yt={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Wt={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Xo={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Pt=0;Bh.prototype={constructor:Bh,enableBrush:function(a){return this._brushType&&St(this),a.brushType&&Rt(this,a),this},setPanels:function(a){if(a&&a.length){var b=this._panels=
{};v(a,function(a){b[a.panelId]=e(a)})}else this._panels=null;return this},mount:function(a){a=a||{};this._enableGlobalPan=a.enableGlobalPan;var b=this.group;return this._zr.add(b),b.attr({position:a.position||[0,0],rotation:a.rotation||0,scale:a.scale||[1,1]}),this._transform=b.getLocalTransform(),this},eachCover:function(a,b){Qc(this._covers,a,b)},updateCovers:function(a){function c(a,b){return(null!=a.id?a.id:f+b)+"-"+a.brushType}function d(b,c){var d=a[b];null!=c&&h[c]===q?g[b]=h[c]:(b=g[b]=null!=
c?(h[c].__brushOption=d,h[c]):$o(l,Yo(l,d)),Pj(l,b))}a=b(a,function(a){return m(e(Xo),a,!0)});var f="\x00-brush-index-",h=this._covers,g=this._covers=[],l=this,q=this._creatingCover;return(new Wf(h,a,function(a,b){return c(a.__brushOption,b)},c)).add(d).update(d).remove(function(a){h[a]!==q&&l.group.remove(h[a])}).execute(),this},unmount:function(){return this.enableBrush(!1),Rj(this),this._zr.remove(this.group),this},dispose:function(){this.unmount();this.off()}};C(Bh,xc);var Qt={mousedown:function(a){if(this._dragging)ip.call(this,
a);else if(!a.target||!a.target.draggable){Wj(a);var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);this._creatingCover=null;(this._creatingPanel=Qj(this,a,b))&&(this._dragging=!0,this._track=[b.slice()])}},mousemove:function(a){var b=this.group.transformCoordToLocal(a.offsetX,a.offsetY);a:if(this._brushType){var c=this._zr,d=this._covers,e=Qj(this,a,b);if(!this._dragging)for(var f=0;f<d.length;f++){var h=d[f].__brushOption;if(e&&(!0===e||h.panelId===e.panelId)&&ze[h.brushType].contain(d[f],
b[0],b[1]))break a}e&&c.setCursorStyle("crosshair")}this._dragging&&(Wj(a),(a=hp(this,a,b,!1))&&Ae(this,a))},mouseup:ip},ze={lineX:jp(0),lineY:jp(1),rect:{createCover:function(a,b){return cp(Nd(fp,function(a){return a},function(a){return a}),a,b,"w e n s se sw ne nw".split(" "))},getCreatingRange:function(a){a=bp(a);return ep(a[1][0],a[1][1],a[0][0],a[0][1])},updateCoverShape:function(a,b,c,d){dp(a,b,c,d)},updateCommon:Tj,contain:Xj},polygon:{createCover:function(a,b){a=new xa;return a.add(new ph({name:"main",
style:Sj(b),silent:!0})),a},getCreatingRange:function(a){return a},endCreating:function(a,b){b.remove(b.childAt(0));b.add(new Sh({name:"main",draggable:!0,drift:Nd(Zt,a,b),ondragend:Nd(Ae,a,{isEnd:!0})}))},updateCoverShape:function(a,b,c,d){b.childAt(0).setShape({points:Vj(a,b,c)})},updateCommon:Tj,contain:Xj}},eu={axisPointer:1,tooltip:1,brush:1},Od=v,Ch=B,bl=["dataToPoint","pointToData"],kp="grid xAxis yAxis geo graph polar radiusAxis angleAxis bmap".split(" "),vf=Yj.prototype;vf.setOutputRanges=
function(a,b){this.matchOutputRanges(a,b,function(a,b,c){((a.coordRanges||(a.coordRanges=[])).push(b),a.coordRange)||(a.coordRange=b,b=cl[a.brushType](0,c,b),a.__rangeOffset={offset:sq[a.brushType](b.values,a.range,[1,1]),xyMinMax:b.xyMinMax})})};vf.matchOutputRanges=function(a,b,c){Od(a,function(a){var d=this.findTargetInfo(a,b);d&&!0!==d&&v(d.coordSyses,function(d){var e=cl[a.brushType](1,d,a.range);c(a,e.values,d,b)})},this)};vf.setInputRanges=function(a,b){Od(a,function(a){var c=this.findTargetInfo(a,
b);if(a.range=a.range||[],c&&!0!==c){a.panelId=c.panelId;c=cl[a.brushType](0,c.coordSys,a.coordRange);var d=a.__rangeOffset;a.range=d?sq[a.brushType](c.values,d.offset,gu(c.xyMinMax,d.xyMinMax)):c.values}},this)};vf.makePanelOpts=function(a,c){return b(this._targetInfoList,function(b){var d=b.getPanelRect();return{panelId:b.panelId,defaultBrushType:c&&c(b),clipPath:bu(d),isTargetByCursor:du(d,a,b.coordSysModel),getLinearBrushOtherExtent:cu(d)}})};vf.controlSeries=function(a,b,c){a=this.findTargetInfo(a,
c);return!0===a||a&&0<=Ch(a.coordSyses,b.coordinateSystem)};vf.findTargetInfo=function(a,b){var c=this._targetInfoList;b=le(b,a,{includeMainTypes:kp});for(var d=0;d<c.length;d++){var e=c[d],f=a.panelId;if(f){if(e.panelId===f)return e}else for(d=0;d<tq.length;d++)if(tq[d](b,e))return e}return!0};var fu={grid:function(a,b){var c=a.xAxisModels,d=a.yAxisModels;a=a.gridModels;var e=ia(),f={},h={};(c||d||a)&&(Od(c,function(a){a=a.axis.grid.model;e.set(a.id,a);f[a.id]=!0}),Od(d,function(a){a=a.axis.grid.model;
e.set(a.id,a);h[a.id]=!0}),Od(a,function(a){e.set(a.id,a);f[a.id]=!0;h[a.id]=!0}),e.each(function(a){var e=[];Od(a.coordinateSystem.getCartesians(),function(a,b){(0<=Ch(c,a.getAxis("x").model)||0<=Ch(d,a.getAxis("y").model))&&e.push(a)});b.push({panelId:"grid--"+a.id,gridModel:a,coordSysModel:a,coordSys:e[0],coordSyses:e,getPanelRect:uq.grid,xAxisDeclared:f[a.id],yAxisDeclared:h[a.id]})}))},geo:function(a,b){Od(a.geoModels,function(a){var c=a.coordinateSystem;b.push({panelId:"geo--"+a.id,geoModel:a,
coordSysModel:a,coordSys:c,coordSyses:[c],getPanelRect:uq.geo})})}},tq=[function(a,b){var c=a.xAxisModel,d=a.yAxisModel;a=a.gridModel;return!a&&c&&(a=c.axis.grid.model),!a&&d&&(a=d.axis.grid.model),a&&a===b.gridModel},function(a,b){return(a=a.geoModel)&&a===b.geoModel}],uq={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var a=this.coordSys,b=a.getBoundingRect().clone();return b.applyTransform(Dg(a)),b}},cl={lineX:D(lp,0),lineY:D(lp,1),rect:function(a,b,c){var d=b[bl[a]]([c[0][0],
c[1][0]]);a=b[bl[a]]([c[0][1],c[1][1]]);d=[Zj([d[0],a[0]]),Zj([d[1],a[1]])];return{values:d,xyMinMax:d}},polygon:function(a,c,d){var e=[[1/0,-1/0],[1/0,-1/0]];return{values:b(d,function(b){b=c[bl[a]](b);return e[0][0]=Math.min(e[0][0],b[0]),e[1][0]=Math.min(e[1][0],b[1]),e[0][1]=Math.max(e[0][1],b[0]),e[1][1]=Math.max(e[1][1],b[1]),b}),xyMinMax:e}}},sq={lineX:D(mp,0),lineY:D(mp,1),rect:function(a,b,c){return[[a[0][0]-c[0]*b[0][0],a[0][1]-c[0]*b[0][1]],[a[1][0]-c[1]*b[1][0],a[1][1]-c[1]*b[1][1]]]},
polygon:function(a,c,d){return b(a,function(a,b){return[a[0]-d[0]*c[b][0],a[1]-d[1]*c[b][1]]})}},op=v,bk="\x00_ec_hist_store";Zk.extend({type:"dataZoom.select"});$k.extend({type:"dataZoom.select"});ck.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e({title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}}.title)};var wf=ck.prototype;wf.render=function(a,b,
c,d){this.model=a;this.ecModel=b;this.api=c;ju(a,b,this,d,c);a.setIconStatus("back",1<ak(b).length?"emphasis":"normal")};wf.onclick=function(a,b,c){Dv[c].call(this)};wf.remove=function(a,b){this._brushController.unmount()};wf.dispose=function(a,b){this._brushController.dispose()};var Dv={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(iu(this.ecModel))}};wf._onBrush=function(a,
b){function c(a,b,c){b=b.getAxis(a);var h=b.model;a=d(a,h,f);h=a.findRepresentativeAxisProxy(h).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(c=gi(0,c.slice(),b.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan));a&&(e[a.id]={dataZoomId:a.id,startValue:c[0],endValue:c[1]})}function d(a,b,c){var d;return c.eachComponent({mainType:"dataZoom",subType:"select"},function(c){c.getAxisModel(a,b.componentIndex)&&(d=c)}),d}if(b.isEnd&&a.length){var e={},f=this.ecModel;this._brushController.updateCovers([]);
(new Yj(pp(this.model.option),f,{include:["grid"]})).matchOutputRanges(a,f,function(a,b,d){"cartesian2d"===d.type&&(a=a.brushType,"rect"===a?(c("x",d,b[0]),c("y",d,b[1])):c({lineX:"x",lineY:"y"}[a],d,b))});hu(f,e);this._dispatchZoomAction(e)}};wf._dispatchZoomAction=function(a){var b=[];v(a,function(a,c){b.push(e(a))});b.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:b})};He.dataZoom=ck;pd(function(a){function b(a,b){if(b){var e=a+"Index",f=b[e];null==f||"all"==f||H(f)||(f=!1===
f||"none"===f?[]:[f]);c(a,function(b,c){if(null==f||"all"==f||-1!==B(f,c))b={type:"select",$fromToolbox:!0,id:"\x00_ec_\x00toolbox-dataZoom_"+a+c},b[e]=c,d.push(b)})}}function c(b,c){b=a[b];H(b)||(b=b?[b]:[]);v(b,c)}if(a){var d=a.dataZoom||(a.dataZoom=[]);H(d)||(a.dataZoom=d=[d]);var e=a.toolbox;e&&(H(e)&&(e=e[0]),e&&e.feature)&&(e=e.feature.dataZoom,b("xAxis",e),b("yAxis",e))}});dk.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",
title:"\u8fd8\u539f"};dk.prototype.onclick=function(a,b,c){a[bk]=null;b.dispatchAction({type:"restore",from:this.uid})};He.restore=dk;yb({type:"restore",event:"restore",update:"prepareAndUpdate"},function(a,b){b.resetOption("recreate")});var vq="undefined"==typeof window?null:window,qp=!1,Fb=vq&&vq.document;if(Fb&&!Ba.canvasSupported)try{!Fb.namespaces.zrvml&&Fb.namespaces.add("zrvml","urn:schemas-microsoft-com:vml");var Ie=function(a){return Fb.createElement("<zrvml:"+a+' class="zrvml">')}}catch(h){Ie=
function(a){return Fb.createElement("<"+a+' xmlns="urn:schemas-microsoft-com:vml" class="zrvml">')}}var Je=bc.CMD,Ja=Math.round,vg=Math.sqrt,Ev=Math.abs,wq=Math.cos,xq=Math.sin,dl=Math.max;if(!Ba.canvasSupported){var el=function(a){a.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";a.coordsize="21600,21600";a.coordorigin="0,0"},Wc=function(a,b){b&&a&&b.parentNode!==a&&a.appendChild(b)},wg=function(a,b){b&&a&&b.parentNode===a&&a.removeChild(b)},fl=function(a,b,c){return 1E5*(parseFloat(a)||
0)+1E3*(parseFloat(b)||0)+c},yq=function(a,b){return"string"==typeof a?0<=a.lastIndexOf("%")?parseFloat(a)/100*b:parseFloat(a):a},zq=function(a,b,c){b=wb(b);c=+c;isNaN(c)&&(c=1);b&&(a.color="rgb("+[b[0],b[1],b[2]].join()+")",a.opacity=c*b[3])},Fv=function(a){a=wb(a);return["rgb("+[a[0],a[1],a[2]].join()+")",a[3]]},Gv=function(a,b,c){var d=b.fill;if(null!=d)if(d instanceof Sd){var e=0,f=[0,0],g=0,h=1,l=c.getBoundingRect(),m=l.width,n=l.height;if("linear"===d.type){var q="gradient";var r=c.transform,
t=[d.x*m,d.y*n];l=[d.x2*m,d.y2*n];r&&(N(t,t,r),N(l,l,r));0>(e=180*Math.atan2(l[0]-t[0],l[1]-t[1])/Math.PI)&&(e+=360);1E-6>e&&(e=0)}else q="gradientradial",t=[d.x*m,d.y*n],r=c.transform,g=c.scale,h=m,f=[(t[0]-l.x)/h,(t[1]-l.y)/n],r&&N(t,t,r),h/=21600*g[0],n/=21600*g[1],h=dl(h,n),g=0/h,h=2*d.r/h-g;t=d.colorStops.slice();t.sort(function(a,b){return a.offset-b.offset});l=t.length;r=[];d=[];for(n=0;n<l;n++)m=t[n],c=Fv(m.color),d.push(m.offset*h+g+" "+c[0]),0!==n&&n!==l-1||r.push(c);2<=l&&(g=r[0][0],h=
r[1][0],t=r[0][1]*b.opacity,b=r[1][1]*b.opacity,a.type=q,a.method="none",a.focus="100%",a.angle=e,a.color=g,a.color2=h,a.colors=d.join(","),a.opacity=b,a.opacity2=t);"radial"===q&&(a.focusposition=f.join(","))}else zq(a,d,b.opacity)},ii=function(a,b,c,d){var e="fill"==b,f=a.getElementsByTagName(b)[0];null!=c[b]&&"none"!==c[b]&&(e||!e&&c.lineWidth)?(a[e?"filled":"stroked"]="true",c[b]instanceof Sd&&wg(a,f),f||(f=Ie(b)),e?Gv(f,c,d):(b=f,null!=c.lineDash&&(b.dashstyle=c.lineDash.join(" ")),null==c.stroke||
c.stroke instanceof Sd||zq(b,c.stroke,c.opacity)),Wc(a,f)):(a[e?"filled":"stroked"]="false",wg(a,f))},Bb=[[],[],[]];Ca.prototype.brushVML=function(a){var b=this.style,c=this._vmlEl;c||(c=Ie("shape"),el(c),this._vmlEl=c);ii(c,"fill",b,this);ii(c,"stroke",b,this);var d=this.transform,e=null!=d,f=c.getElementsByTagName("stroke")[0];if(f){var g=b.lineWidth;e&&!b.strokeNoScale&&(g*=vg(Ev(d[0]*d[3]-d[1]*d[2])));f.weight=g+"px"}var h=this.path||(this.path=new bc);this.__dirtyPath&&(h.beginPath(),this.buildPath(h,
this.shape),h.toStatic(),this.__dirtyPath=!1);d=c;var l;e=this.transform;var m,q;f=Je.M;g=Je.C;var r=Je.L,t=Je.A,u=Je.Q,z=[],v=h.data,B=h.len();for(q=0;q<B;){switch(l=v[q++],m="",h=0,l){case f:m=" m ";h=1;var A=v[q++];var C=v[q++];Bb[0][0]=A;Bb[0][1]=C;break;case r:m=" l ";h=1;A=v[q++];C=v[q++];Bb[0][0]=A;Bb[0][1]=C;break;case u:case g:m=" c ";h=3;var D,ha,E=v[q++],aa=v[q++],G=v[q++],I=v[q++];l===u?(D=G,ha=I,G=(G+2*E)/3,I=(I+2*aa)/3,E=(A+2*E)/3,aa=(C+2*aa)/3):(D=v[q++],ha=v[q++]);Bb[0][0]=E;Bb[0][1]=
aa;Bb[1][0]=G;Bb[1][1]=I;Bb[2][0]=D;Bb[2][1]=ha;A=D;C=ha;break;case t:C=A=0;I=G=1;E=0;e&&(A=e[4],C=e[5],G=vg(e[0]*e[0]+e[1]*e[1]),I=vg(e[2]*e[2]+e[3]*e[3]),E=Math.atan2(-e[1]/I,e[0]/G));var H=v[q++],J=v[q++],Ib=v[q++],R=v[q++],L=v[q++]+E,X=v[q++]+L+E;q++;var oa=v[q++],Xb=H+wq(L)*Ib,M=J+xq(L)*R;E=H+wq(X)*Ib;aa=J+xq(X)*R;var la=oa?" wa ":" at ";1E-4>Math.abs(Xb-E)&&(.01<Math.abs(X-L)?oa&&(Xb+=.0125):1E-4>Math.abs(M-J)?oa&&Xb<H||!oa&&Xb>H?aa-=.0125:aa+=.0125:oa&&M<J||!oa&&M>J?E+=.0125:E-=.0125);z.push(la,
Ja(21600*((H-Ib)*G+A)-10800),",",Ja(21600*((J-R)*I+C)-10800),",",Ja(21600*((H+Ib)*G+A)-10800),",",Ja(21600*((J+R)*I+C)-10800),",",Ja(21600*(Xb*G+A)-10800),",",Ja(21600*(M*I+C)-10800),",",Ja(21600*(E*G+A)-10800),",",Ja(21600*(aa*I+C)-10800));A=E;C=aa;break;case Je.R:E=Bb[0];aa=Bb[1];E[0]=v[q++];E[1]=v[q++];aa[0]=E[0]+v[q++];aa[1]=E[1]+v[q++];e&&(N(E,E,e),N(aa,aa,e));E[0]=Ja(21600*E[0]-10800);aa[0]=Ja(21600*aa[0]-10800);E[1]=Ja(21600*E[1]-10800);aa[1]=Ja(21600*aa[1]-10800);z.push(" m ",E[0],",",E[1],
" l ",aa[0],",",E[1]," l ",aa[0],",",aa[1]," l ",E[0],",",aa[1]);break;case Je.Z:z.push(" x ")}if(0<h)for(z.push(m),m=0;m<h;m++)E=Bb[m],e&&N(E,E,e),z.push(Ja(21600*E[0]-10800),",",Ja(21600*E[1]-10800),m<h-1?",":"")}l=z.join("");d.path=l;c.style.zIndex=fl(this.zlevel,this.z,this.z2);Wc(a,c);null!=b.text?this.drawRectText(a,this.getBoundingRect()):this.removeRectText(a)};Ca.prototype.onRemove=function(a){wg(a,this._vmlEl);this.removeRectText(a)};Ca.prototype.onAdd=function(a){Wc(a,this._vmlEl);this.appendRectText(a)};
Ya.prototype.brushVML=function(a){var b=this.style,c=b.image;if("object"==typeof c&&c.tagName&&"IMG"===c.tagName.toUpperCase()){var d=c.src;if(d===this._imageSrc){var e=this._imageWidth;var f=this._imageHeight}else{var g=c.runtimeStyle,h=g.width,l=g.height;g.width="auto";g.height="auto";e=c.width;f=c.height;g.width=h;g.height=l;this._imageSrc=d;this._imageWidth=e;this._imageHeight=f}c=d}else c===this._imageSrc&&(e=this._imageWidth,f=this._imageHeight);if(c){var m=b.x||0,q=b.y||0,r=b.width,t=b.height,
u=b.sWidth,z=b.sHeight;g=b.sx||0;h=b.sy||0;l=u&&z;(d=this._vmlEl)||(d=Fb.createElement("div"),el(d),this._vmlEl=d);var v,B=d.style,A=!1,C=1,D=1;if(this.transform&&(v=this.transform,C=vg(v[0]*v[0]+v[1]*v[1]),D=vg(v[2]*v[2]+v[3]*v[3]),A=v[1]||v[2]),A){var ha=[m,q],E=[m+r,q],aa=[m,q+t],G=[m+r,q+t];N(ha,ha,v);N(E,E,v);N(aa,aa,v);N(G,G,v);A=dl(ha[0],E[0],aa[0],G[0]);ha=dl(ha[1],E[1],aa[1],G[1]);E=[];E.push("M11=",v[0]/C,",","M12=",v[2]/D,",","M21=",v[1]/C,",","M22=",v[3]/D,",","Dx=",Ja(m*C+v[4]),",","Dy=",
Ja(q*D+v[5]));B.padding="0 "+Ja(A)+"px "+Ja(ha)+"px 0";B.filter="progid:DXImageTransform.Microsoft.Matrix("+E.join("")+", SizingMethod=clip)"}else v&&(m=m*C+v[4],q=q*D+v[5]),B.filter="",B.left=Ja(m)+"px",B.top=Ja(q)+"px";v=this._imageEl;m=this._cropEl;v||(v=Fb.createElement("div"),this._imageEl=v);var I=v.style;if(l){if(e&&f)I.width=Ja(C*e*r/u)+"px",I.height=Ja(D*f*t/z)+"px";else{var H=new Image,J=this;H.onload=function(){H.onload=null;e=H.width;f=H.height;I.width=Ja(C*e*r/u)+"px";I.height=Ja(D*f*
t/z)+"px";J._imageWidth=e;J._imageHeight=f;J._imageSrc=c};H.src=c}m||((m=Fb.createElement("div")).style.overflow="hidden",this._cropEl=m);l=m.style;l.width=Ja((r+g*r/u)*C);l.height=Ja((t+h*t/z)*D);l.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-g*r/u*C+",Dy="+-h*t/z*D+")";m.parentNode||d.appendChild(m);v.parentNode!=m&&m.appendChild(v)}else I.width=Ja(C*r)+"px",I.height=Ja(D*t)+"px",d.appendChild(v),m&&m.parentNode&&(d.removeChild(m),this._cropEl=null);v="";g=b.opacity;1>g&&(v+=".Alpha(opacity="+
Ja(100*g)+") ");I.filter=v+("progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+c+", SizingMethod=scale)");d.style.zIndex=fl(this.zlevel,this.z,this.z2);Wc(a,d);null!=b.text&&this.drawRectText(a,this.getBoundingRect())}};Ya.prototype.onRemove=function(a){wg(a,this._vmlEl);this._imageEl=this._cropEl=this._vmlEl=null;this.removeRectText(a)};Ya.prototype.onAdd=function(a){Wc(a,this._vmlEl);this.appendRectText(a)};var Ke,gl={},hl=0,Hv=document.createElement("div");!function(a,b){Xl[a]=b}("measureText",
function(a,b){var c=Fb;Ke||((Ke=c.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Fb.body.appendChild(Ke));try{Ke.style.font=b}catch(F){}return Ke.innerHTML="",Ke.appendChild(c.createTextNode(a)),{width:Ke.offsetWidth}});for(var il=new Fa,Aq=[Lh,Qa,Ya,Ca,$a],jl=0;jl<Aq.length;jl++){var kl=Aq[jl].prototype;kl.drawRectText=function(a,b,c,d){var e=this.style;this.__dirty&&Ic(e);var f=e.text;if(null!=f&&(f+=""),f){if(e.rich){var g=
Ad(f,e);f=[];for(var h=0;h<g.lines.length;h++){for(var l=g.lines[h].tokens,m=[],n=0;n<l.length;n++)m.push(l[n].text);f.push(m.join(""))}f=f.join("\n")}g=e.textAlign;h=e.textVerticalAlign;l=e.font;m=gl[l];if(!m){100<hl&&(hl=0,gl={});m=Hv.style;try{m.font=l;var q=m.fontFamily.split(",")[0]}catch(Rq){}m={style:m.fontStyle||"normal",variant:m.fontVariant||"normal",weight:m.fontWeight||"normal",size:0|parseFloat(m.fontSize||12),family:q||"Microsoft YaHei"};gl[l]=m;hl++}q=m;q=q.style+" "+q.variant+" "+
q.weight+" "+q.size+'px "'+q.family+'"';c=c||Hb(f,q,g,h);l=this.transform;(l&&!d&&(il.copy(b),il.applyTransform(l),b=il),d)?(m=b.x,b=b.y):(n=e.textPosition,m=e.textDistance,n instanceof Array?(m=b.x+yq(n[0],b.width),b=b.y+yq(n[1],b.height),g=g||"left"):(n=Hc(n,b,m),m=n.x,b=n.y,g=g||n.textAlign,h=h||n.textVerticalAlign));m=Yb(m,c.width,g);b=ec(b,c.height,h);b+=c.height/2;var r,t,w;(c=this._textVmlEl)?t=(w=c.firstChild).nextSibling.nextSibling:(c=Ie("line"),r=Ie("path"),t=Ie("textpath"),w=Ie("skew"),
t.style["v-text-align"]="left",el(c),r.textpathok=!0,t.on=!0,c.from="0 0",c.to="1000 0.05",Wc(c,w),Wc(c,r),Wc(c,t),this._textVmlEl=c);r=[m,b];g=c.style;l&&d?(N(r,r,l),w.on=!0,w.matrix=l[0].toFixed(3)+","+l[2].toFixed(3)+","+l[1].toFixed(3)+","+l[3].toFixed(3)+",0,0",w.offset=(Ja(r[0])||0)+","+(Ja(r[1])||0),w.origin="0 0",g.left="0px",g.top="0px"):(w.on=!1,g.left=Ja(m)+"px",g.top=Ja(b)+"px");t.string=String(f).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{t.style.font=q}catch(Rq){}ii(c,"fill",{fill:e.textFill,
opacity:e.opacity},this);ii(c,"stroke",{stroke:e.textStroke,opacity:e.opacity,lineDash:e.lineDash},this);c.style.zIndex=fl(this.zlevel,this.z,this.z2);Wc(a,c)}};kl.removeRectText=function(a){wg(a,this._textVmlEl);this._textVmlEl=null};kl.appendRectText=function(a){Wc(a,this._textVmlEl)}}$a.prototype.brushVML=function(a){var b=this.style;null!=b.text?this.drawRectText(a,{x:b.x||0,y:b.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(a)};$a.prototype.onRemove=function(a){this.removeRectText(a)};
$a.prototype.onAdd=function(a){this.appendRectText(a)}}Dh.prototype={constructor:Dh,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var a=this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0,!0);this._paintList(a)},_paintList:function(a){for(var b=this._vmlRoot,c=0;c<a.length;c++){var d=a[c];d.invisible||d.ignore?(d.__alreadyNotVisible||
d.onRemove(b),d.__alreadyNotVisible=!0):(d.__alreadyNotVisible&&d.onAdd(b),d.__alreadyNotVisible=!1,d.__dirty&&(d.beforeBrush&&d.beforeBrush(),(d.brushVML||d.brush).call(d,b),d.afterBrush&&d.afterBrush()));d.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(b),this._firstPaint=!1)},resize:function(a,b){a=null==a?this._getWidth():a;b=null==b?this._getHeight():b;if(this._width!=a||this._height!=b){this._width=a;this._height=b;var c=this._vmlViewport.style;c.width=a+"px";c.height=b+"px"}},
dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var a=this.root,b=a.currentStyle;return(a.clientWidth||parseInt(b.width,10))-parseInt(b.paddingLeft,10)-parseInt(b.paddingRight,10)|0},_getHeight:function(){var a=this.root,b=a.currentStyle;return(a.clientHeight||parseInt(b.height,
10))-parseInt(b.paddingTop,10)-parseInt(b.paddingBottom,10)|0}};v("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){Dh.prototype[a]=lu(a)});qf.vml=Dh;var mu="http://www.w3.org/2000/svg",Le=bc.CMD,nu=Array.prototype.join,Ce="none",ek=Math.round,Bq=Math.sin,Cq=Math.cos,ll=Math.PI,ji=2*Math.PI,Iv=180/ll,li={brush:function(a){var b=a.style,c=a.__svgEl;c||(c=Be("path"),a.__svgEl=c);a.path||a.createPathProxy();
var d=a.path;if(a.__dirtyPath){d.beginPath();a.buildPath(d,a.shape);a.__dirtyPath=!1;var e=[];var f=d.data;d=d.len();for(var g=0;g<d;){var h="",l=0;switch(f[g++]){case Le.M:h="M";l=2;break;case Le.L:h="L";l=2;break;case Le.Q:h="Q";l=4;break;case Le.C:h="C";l=6;break;case Le.A:var m=f[g++],q=f[g++],r=f[g++],t=f[g++],u=f[g++],z=f[g++],v=f[g++],B=f[g++],A=Math.abs(z),C=A-ji;C=1E-4>C&&-1E-4<C&&!(1E-4>A&&-1E-4<A);A=A>=ji||!(1E-4>A&&-1E-4<A)&&(z>-ll&&0>z||z>ll)==!!B;var D=yc(m+r*Cq(u)),ha=yc(q+t*Bq(u));
C&&(z=B?ji-1E-4:1E-4-ji,A=!0,9===g&&e.push("M",D,ha));m=yc(m+r*Cq(u+z));q=yc(q+t*Bq(u+z));e.push("A",yc(r),yc(t),ek(v*Iv),+A,+B,m,q);break;case Le.Z:h="Z";break;case Le.R:m=yc(f[g++]),q=yc(f[g++]),r=yc(f[g++]),t=yc(f[g++]),e.push("M",m,q,"L",m+r,q,"L",m+r,q+t,"L",m,q+t,"L",m,q)}h&&e.push(h);for(h=0;h<l;h++)e.push(yc(f[g++]))}e=e.join(" ");0>e.indexOf("NaN")&&Pa(c,"d",e)}rp(c,b);Eh(c,a.transform);null!=b.text&&ki(a,a.getBoundingRect())}},Dq={brush:function(a){var b=a.style,c=b.image;if(c instanceof
HTMLImageElement&&(c=c.src),c){var d=b.x||0,e=b.y||0,f=b.width,g=b.height,h=a.__svgEl;h||(h=Be("image"),a.__svgEl=h);c!==a.__imageSrc&&(h.setAttributeNS("http://www.w3.org/1999/xlink","href",c),a.__imageSrc=c);Pa(h,"width",f);Pa(h,"height",g);Pa(h,"x",d);Pa(h,"y",e);Eh(h,a.transform);null!=b.text&&ki(a,a.getBoundingRect())}}},mi={},Eq=new Fa,ki=function(a,b,c){var d=a.style;a.__dirty&&Ic(d);var e=d.text;if(null!=e){e+="";var f=a.__textSvgEl;f||(f=Be("text"),a.__textSvgEl=f);var g=d.textPosition;var h=
d.textDistance;var l=d.textAlign||"left";"number"==typeof d.fontSize&&(d.fontSize+="px");var m=d.font||[d.fontStyle||"",d.fontWeight||"",d.fontSize||"",d.fontFamily||""].join(" ")||Mf,n=sp(d.textVerticalAlign),q=(c=Hb(e,m,l,n)).lineHeight;g instanceof Array?(h=b.x+g[0],g=b.y+g[1]):(l=Hc(g,b,h),h=l.x,g=l.y,n=sp(l.textVerticalAlign),l=l.textAlign);Pa(f,"alignment-baseline",n);m&&(f.style.font=m);var r=d.textPadding;if(Pa(f,"x",h),Pa(f,"y",g),rp(f,d,!0),a instanceof $a||a.style.transformText)Eh(f,a.transform);
else{if(a.transform)Eq.copy(b),Eq.applyTransform(a.transform);else{var t=a.transformCoordToGlobal(b.x,b.y);b.x=t[0];b.y=t[1]}b=d.textOrigin;"center"===b?(h=c.width/2+h,g=c.height/2+g):b&&(h=b[0]+h,g=b[1]+g);d=-d.textRotation||0;b=La();Q(b,a.transform,d);Eh(f,b)}d=e.split("\n");b=d.length;t=l;"left"===t?(t="start",r&&(h+=r[3])):"right"===t?(t="end",r&&(h-=r[1])):"center"===t&&(t="middle",r&&(h+=(r[3]-r[1])/2));l=0;if("baseline"===n?(l=-c.height+q,r&&(l-=r[2])):"middle"===n?(l=(-c.height+q)/2,r&&(g+=
(r[0]-r[2])/2)):r&&(l+=r[0]),a.__text!==e||a.__textFont!==m){r=a.__tspanList||[];a.__tspanList=r;for(c=0;c<b;c++)(w=r[c])?w.innerHTML="":(w=r[c]=Be("tspan"),f.appendChild(w),Pa(w,"alignment-baseline",n),Pa(w,"text-anchor",t)),Pa(w,"x",h),Pa(w,"y",g+c*q+l),w.appendChild(document.createTextNode(d[c]));for(;c<r.length;c++)f.removeChild(r[c]);r.length=b;a.__text=e;a.__textFont=m}else if(a.__tspanList.length)for(e=a.__tspanList.length,c=0;c<e;++c){var w=a.__tspanList[c];w&&(Pa(w,"x",h),Pa(w,"y",g+c*q+
l))}}};mi.drawRectText=ki;mi.brush=function(a){var b=a.style;null!=b.text&&(b.textPosition=[0,0],ki(a,{x:b.x||0,y:b.y||0,width:0,height:0},a.getBoundingRect()))};tp.prototype={diff:function(a,b,c){c||(c=function(a,b){return a===b});this.equals=c;var d=this;a=a.slice();var e=(b=b.slice()).length,f=a.length,g=1;c=e+f;var h=[{newPos:-1,components:[]}],l=this.extractCommon(h[0],b,a,0);if(h[0].newPos+1>=e&&l+1>=f){c=[];for(l=0;l<b.length;l++)c.push(l);return[{indices:c,count:b.length}]}for(;g<=c;)if(l=
function(){for(var c=-1*g;c<=g;c+=2){var l,m=h[c-1],n=h[c+1],q=(n?n.newPos:0)-c;m&&(h[c-1]=void 0);var r=m&&m.newPos+1<e,t=n&&0<=q&&q<f;if(r||t){if(!r||t&&m.newPos<n.newPos?(l={newPos:n.newPos,components:n.components.slice(0)},d.pushComponent(l.components,void 0,!0)):((l=m).newPos++,d.pushComponent(l.components,!0,void 0)),q=d.extractCommon(l,b,a,c),l.newPos+1>=e&&q+1>=f){c=l.components;l=0;m=c.length;for(q=n=0;l<m;l++)if(r=c[l],r.removed){t=[];for(var w=q;w<q+r.count;w++)t.push(w);r.indices=t;q+=
r.count}else{t=[];for(w=n;w<n+r.count;w++)t.push(w);r.indices=t;n+=r.count;r.added||(q+=r.count)}return c}h[c]=l}else h[c]=void 0}g++}())return l},pushComponent:function(a,b,c){var d=a[a.length-1];d&&d.added===b&&d.removed===c?a[a.length-1]={count:d.count+1,added:b,removed:c}:a.push({count:1,added:b,removed:c})},extractCommon:function(a,b,c,d){var e=b.length,f=c.length,g=a.newPos;d=g-d;for(var h=0;g+1<e&&d+1<f&&this.equals(b[g+1],c[d+1]);)g++,d++,h++;return h&&a.components.push({count:h}),a.newPos=
g,d},tokenize:function(a){return a.slice()},join:function(a){return a.slice()}};var Jv=new tp;Va.prototype.createElement=Be;Va.prototype.getDefs=function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(this.createElement("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]};Va.prototype.update=function(a,b){if(a){var c=this.getDefs(!1);
a[this._domName]&&c.contains(a[this._domName])?"function"==typeof b&&b(a):(b=this.add(a))&&(a[this._domName]=b)}};Va.prototype.addDom=function(a){this.getDefs(!0).appendChild(a)};Va.prototype.removeDom=function(a){var b=this.getDefs(!1);b&&a[this._domName]&&(b.removeChild(a[this._domName]),a[this._domName]=null)};Va.prototype.getDoms=function(){var a=this.getDefs(!1);if(!a)return[];var b=[];return v(this._tagNames,function(c){c=a.getElementsByTagName(c);b=b.concat([].slice.call(c))}),b};Va.prototype.markAllUnused=
function(){var a=this;v(this.getDoms(),function(b){b[a._markLabel]="0"})};Va.prototype.markUsed=function(a){a&&(a[this._markLabel]="1")};Va.prototype.removeUnused=function(){var a=this.getDefs(!1);if(a){var b=this;v(this.getDoms(),function(c){"1"!==c[b._markLabel]&&a.removeChild(c)})}};Va.prototype.getSvgProxy=function(a){return a instanceof Ca?li:a instanceof Ya?Dq:a instanceof $a?mi:li};Va.prototype.getTextSvgElement=function(a){return a.__textSvgEl};Va.prototype.getSvgElement=function(a){return a.__svgEl};
u(De,Va);De.prototype.addWithoutUpdate=function(a,b){if(b&&b.style){var c=this;v(["fill","stroke"],function(d){if(b.style[d]&&("linear"===b.style[d].type||"radial"===b.style[d].type)){var e,f=b.style[d],g=c.getDefs(!0);f._dom?(e=f._dom,g.contains(f._dom)||c.addDom(e)):e=c.add(f);c.markUsed(b);e=e.getAttribute("id");a.setAttribute(d,"url(#"+e+")")}})}};De.prototype.add=function(a){if("linear"===a.type)var b=this.createElement("linearGradient");else{if("radial"!==a.type)return null;b=this.createElement("radialGradient")}return a.id=
a.id||this.nextId++,b.setAttribute("id","zr"+this._zrId+"-gradient-"+a.id),this.updateDom(a,b),this.addDom(b),b};De.prototype.update=function(a){var b=this;Va.prototype.update.call(this,a,function(){var c=a.type,d=a._dom.tagName;"linear"===c&&"linearGradient"===d||"radial"===c&&"radialGradient"===d?b.updateDom(a,a._dom):(b.removeDom(a),b.add(a))})};De.prototype.updateDom=function(a,b){if("linear"===a.type)b.setAttribute("x1",a.x),b.setAttribute("y1",a.y),b.setAttribute("x2",a.x2),b.setAttribute("y2",
a.y2);else{if("radial"!==a.type)return;b.setAttribute("cx",a.x);b.setAttribute("cy",a.y);b.setAttribute("r",a.r)}a.global?b.setAttribute("gradientUnits","userSpaceOnUse"):b.setAttribute("gradientUnits","objectBoundingBox");b.innerHTML="";for(var c=a.colorStops,d=0,e=c.length;d<e;++d){var f=this.createElement("stop");f.setAttribute("offset",100*c[d].offset+"%");f.setAttribute("stop-color",c[d].color);b.appendChild(f)}a._dom=b};De.prototype.markUsed=function(a){if(a.style){var b=a.style.fill;b&&b._dom&&
Va.prototype.markUsed.call(this,b._dom);(b=a.style.stroke)&&b._dom&&Va.prototype.markUsed.call(this,b._dom)}};u(lg,Va);lg.prototype.update=function(a){var b=this.getSvgElement(a);b&&this.updateDom(b,a.__clipPaths,!1);(b=this.getTextSvgElement(a))&&this.updateDom(b,a.__clipPaths,!0);this.markUsed(a)};lg.prototype.updateDom=function(a,b,c){if(b&&0<b.length){var d,e,f=this.getDefs(!0),g=b[0],h=c?"_textDom":"_dom";g[h]?(e=g[h].getAttribute("id"),d=g[h],f.contains(d)||f.appendChild(d)):(e="zr"+this._zrId+
"-clip-"+this.nextId,++this.nextId,(d=this.createElement("clipPath")).setAttribute("id",e),f.appendChild(d),g[h]=d);f=this.getSvgProxy(g);g.transform&&g.parent.invTransform&&!c?(h=Array.prototype.slice.call(g.transform),Ea(g.transform,g.parent.invTransform,g.transform),f.brush(g),g.transform=h):f.brush(g);g=this.getSvgElement(g);d.innerHTML="";d.appendChild(g.cloneNode());a.setAttribute("clip-path","url(#"+e+")");1<b.length&&this.updateDom(d,b.slice(1),c)}else a&&a.setAttribute("clip-path","none")};
lg.prototype.markUsed=function(a){var b=this;a.__clipPaths&&0<a.__clipPaths.length&&v(a.__clipPaths,function(a){a._dom&&Va.prototype.markUsed.call(b,a._dom);a._textDom&&Va.prototype.markUsed.call(b,a._textDom)})};u(Pd,Va);Pd.prototype.addWithoutUpdate=function(a,b){if(b&&up(b.style)){var c,d=b.style;d._shadowDom?(c=d._shadowDom,this.getDefs(!0).contains(d._shadowDom)||this.addDom(c)):c=this.add(b);this.markUsed(b);b=c.getAttribute("id");a.style.filter="url(#"+b+")"}};Pd.prototype.add=function(a){var b=
this.createElement("filter"),c=a.style;return c._shadowDomId=c._shadowDomId||this.nextId++,b.setAttribute("id","zr"+this._zrId+"-shadow-"+c._shadowDomId),this.updateDom(a,b),this.addDom(b),b};Pd.prototype.update=function(a,b){var c=b.style;if(up(c)){var d=this;Va.prototype.update.call(this,b,function(a){d.updateDom(b,a._shadowDom)})}else this.remove(a,c)};Pd.prototype.remove=function(a,b){null!=b._shadowDomId&&(this.removeDom(b),a.style.filter="")};Pd.prototype.updateDom=function(a,b){var c=b.getElementsByTagName("feDropShadow");
c=0===c.length?this.createElement("feDropShadow"):c[0];var d=a.style,e=a.scale?a.scale[0]||1:1,f=a.scale?a.scale[1]||1:1;if(d.shadowBlur||d.shadowOffsetX||d.shadowOffsetY){a=d.shadowOffsetX||0;var g=d.shadowOffsetY||0;var h=d.shadowBlur;var l=d.shadowColor}else{if(!d.textShadowBlur)return void this.removeDom(b,d);a=d.textShadowOffsetX||0;g=d.textShadowOffsetY||0;h=d.textShadowBlur;l=d.textShadowColor}c.setAttribute("dx",a/e);c.setAttribute("dy",g/f);c.setAttribute("flood-color",l);c.setAttribute("stdDeviation",
h/2/e+" "+h/2/f);b.setAttribute("x","-100%");b.setAttribute("y","-100%");b.setAttribute("width",Math.ceil(h/2*200)+"%");b.setAttribute("height",Math.ceil(h/2*200)+"%");b.appendChild(c);d._shadowDom=b};Pd.prototype.markUsed=function(a){(a=a.style)&&a._shadowDom&&Va.prototype.markUsed.call(this,a._shadowDom)};var ni=function(a,b,c,d){this.root=a;this.storage=b;this._opts=c=f({},c||{});b=Be("svg");b.setAttribute("xmlns","http://www.w3.org/2000/svg");b.setAttribute("version","1.1");b.setAttribute("baseProfile",
"full");b.style.cssText="user-select:none;position:absolute;left:0;top:0;";this.gradientManager=new De(d,b);this.clipPathManager=new lg(d,b);this.shadowManager=new Pd(d,b);d=document.createElement("div");d.style.cssText="overflow:hidden;position:relative";this._svgRoot=b;this._viewport=d;a.appendChild(d);d.appendChild(b);this.resize(c.width,c.height);this._visibleList=[]};ni.prototype={constructor:ni,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var a=
this.getViewportRoot();if(a)return{offsetLeft:a.offsetLeft||0,offsetTop:a.offsetTop||0}},refresh:function(){var a=this.storage.getDisplayList(!0);this._paintList(a)},setBackgroundColor:function(a){this._viewport.style.background=a},_paintList:function(a){this.gradientManager.markAllUnused();this.clipPathManager.markAllUnused();this.shadowManager.markAllUnused();var b,c=this._svgRoot,d=this._visibleList,e=a.length,f=[];for(b=0;b<e;b++){var g=q=a[b];var h=g instanceof Ca?li:g instanceof Ya?Dq:g instanceof
$a?mi:li;g=q.__svgEl||q.__textSvgEl;q.invisible||(q.__dirty&&(h&&h.brush(q),this.clipPathManager.update(q),q.style&&(this.gradientManager.update(q.style.fill),this.gradientManager.update(q.style.stroke),this.shadowManager.update(g,q)),q.__dirty=!1),f.push(q))}a=Jv.diff(d,f,void 0);for(b=0;b<a.length;b++)if((h=a[b]).removed)for(m=0;m<h.count;m++)g=(q=d[h.indices[m]]).__svgEl,e=q.__textSvgEl,g&&c&&g.parentNode===c&&c.removeChild(g),e&&c&&e.parentNode===c&&c.removeChild(e);for(b=0;b<a.length;b++)if(h=
a[b],h.added)for(m=0;m<h.count;m++){g=(q=f[h.indices[m]]).__svgEl;e=q.__textSvgEl;l?Fh(c,g,l):vp(c,g);g?Fh(c,e,g):l?Fh(c,e,l):vp(c,e);Fh(c,e,g);var l=e||g||l;this.gradientManager.addWithoutUpdate(g,q);this.shadowManager.addWithoutUpdate(l,q);this.clipPathManager.markUsed(q)}else if(!h.removed)for(var m=0;m<h.count;m++){var q=f[h.indices[m]];l=g=q.__textSvgEl||q.__svgEl||l;this.gradientManager.markUsed(q);this.gradientManager.addWithoutUpdate(g,q);this.shadowManager.markUsed(q);this.shadowManager.addWithoutUpdate(g,
q);this.clipPathManager.markUsed(q)}this.gradientManager.removeUnused();this.clipPathManager.removeUnused();this.shadowManager.removeUnused();this._visibleList=f},_getDefs:function(a){var b=this._svgRoot,c=this._svgRoot.getElementsByTagName("defs");return 0===c.length?a?((c=b.insertBefore(Be("defs"),b.firstChild)).contains||(c.contains=function(a){var b=c.children;if(!b)return!1;for(var d=b.length-1;0<=d;--d)if(b[d]===a)return!0;return!1}),c):null:c[0]},resize:function(a,b){var c=this._viewport;c.style.display=
"none";var d=this._opts;if(null!=a&&(d.width=a),null!=b&&(d.height=b),a=this._getSize(0),b=this._getSize(1),c.style.display="",this._width!==a||this._height!==b)this._width=a,this._height=b,c=c.style,c.width=a+"px",c.height=b+"px",c=this._svgRoot,c.setAttribute("width",a),c.setAttribute("height",b)},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(a){var b=this._opts,c=["width","height"][a],d=["clientWidth","clientHeight"][a],e=["paddingLeft","paddingTop"][a];
a=["paddingRight","paddingBottom"][a];if(null!=b[c]&&"auto"!==b[c])return parseFloat(b[c]);b=this.root;var f=document.defaultView.getComputedStyle(b);return(b[d]||parseInt(f[c],10)||parseInt(b.style[c],10))-(parseInt(f[e],10)||0)-(parseInt(f[a],10)||0)|0},dispose:function(){this.root.innerHTML="";this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+
this._svgRoot.outerHTML}};v("getLayer insertLayer eachLayer eachBuiltinLayer eachOtherLayer getLayers modLayer delLayer clearLayer toDataURL pathToImage".split(" "),function(a){ni.prototype[a]=ou(a)});qf.svg=ni;a.version="4.1.0";a.dependencies={zrender:"4.0.4"};a.PRIORITY=Jk;a.init=function(a,b,c){var d=aj(a);if(d)return d;b=new Tf(a,b,c);return b.id="ec_"+Ru++,te[b.id]=b,Eg(a,bj,b.id),$r(b),b};a.connect=function(a){if(H(a)){var b=a;a=null;Jb(b,function(b){null!=b.group&&(a=b.group)});a=a||"g_"+Su++;
Jb(b,function(b){b.group=a})}return ih[a]=!0,a};a.disConnect=Xm;a.disconnect=Xm;a.dispose=function(a){"string"==typeof a?a=te[a]:a instanceof Tf||(a=aj(a));a instanceof Tf&&!a.isDisposed()&&a.dispose()};a.getInstanceByDom=aj;a.getInstanceById=function(a){return te[a]};a.registerTheme=function(a,b){dh[a]=b};a.registerPreprocessor=pd;a.registerProcessor=ue;a.registerPostUpdate=function(a){Wm.push(a)};a.registerAction=yb;a.registerCoordinateSystem=function(a,b){md.register(a,b)};a.getCoordinateSystemDimensions=
function(a){if(a=md.get(a))return a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice()};a.registerLayout=ff;a.registerVisual=gf;a.registerLoading=cn;a.extendComponentModel=qd;a.extendComponentView=Oc;a.extendSeriesModel=dn;a.extendChartView=ej;a.setCanvasCreator=function(a){c("createCanvas",a)};a.registerMap=function(a,b,c){b.geoJson&&!b.features&&(c=b.specialAreas,b=b.geoJson);"string"==typeof b&&(b="undefined"!=typeof JSON&&JSON.parse?JSON.parse(b):(new Function("return ("+b+");"))());
Qp[a]={geoJson:b,specialAreas:c}};a.getMap=function(a){return Qp[a]};a.dataTool={};a.zrender=wu;a.graphic=gg;a.number=Fu;a.format=Gu;a.throttle=Vi;a.helper=ev;a.matrix=su;a.vector=qu;a.color=tu;a.parseGeoJSON=Up;a.parseGeoJson=Up;a.util=Wp;a.List=mc;a.Model=Ta;a.Axis=tg;a.env=Ba});CreateManifest=function(){manifestR.addCSS();manifestR.addEvent(document,"mousedown",manifestR.dragHandler);manifestR.makeManifest()};
var manifestR={makeManifest:function(a){a=new Date;a="CACHE MANIFEST\n\n#version 1.0 "+(a.getMonth()+1)+"-"+a.getDate()+"-"+a.getFullYear();a+="\n\nCACHE:\n\n#images\n";for(var c=document.images,e=[],m,l=0;l<c.length;l++)c[l].src&&(m=c[l].src.split("#")[0],e.push(m));e=manifestR.eliminateDuplicates(e);a=a+e.join("\n")+"\n";a+="\n#internal HTML documents\n";c=document.links;e=[];for(l=0;l<c.length;l++)if(c[l].href&&manifestR.sameDomain(c[l].href)){var f=c[l].href.split("#")[0];e.push(f)}e=manifestR.eliminateDuplicates(e);
a=a+e.join("\n")+"\n";c=[];e=[];f=[];for(l=0;l<document.styleSheets.length;l++)c.push(document.styleSheets[l]);for(l=0;l<c.length;l++)if(c[l].href&&e.push(c[l].href),c[l].cssRules)for(var q=0;q<c[l].cssRules.length;q++)if(m=c[l].cssRules[q])if(3==m.type)c.push(m.styleSheet);else if(1==m.type){var z=m.cssText.indexOf("url(");if(-1!=z){var B=m.cssText.indexOf(")",z);-1!=B&&(m=m.cssText.substring(z+4,B),-1==m.indexOf("manifestR")&&f.push(m))}}a+="\n#style sheets\n";e=manifestR.eliminateDuplicates(e);
a=a+e.join("\n")+"\n";a+="\n#style sheet images\n";f=manifestR.eliminateDuplicates(f);a=a+f.join("\n")+"\n";a+="\n#javascript files\n";c=document.getElementsByTagName("script");for(l=0;l<c.length;l++)c[l].src&&-1==c[l].src.indexOf("manifestR.js")&&(a=a+c[l].src+"\n");a+="\nNETWORK:\n*";manifestR.insertHUD();document.getElementById("manifestContent")&&manifestR.insertElementContent(document.getElementById("manifestContent"),a)},sameDomain:function(a){return-1!=a.indexOf(window.location.protocol+"//"+
document.domain)},getHUD:function(){return document.getElementById("manifestHUD")},insertHUD:function(){var a=manifestR.getHUD();a||(a=document.createElement("div"),document.body.appendChild(a),a.id="manifestHUD",a.innerHTML="<div id='manifestHUDInstructions'><p>To create a manifest for this document, allowing it to work offline in most modern browsers<span id='closeBtn' onclick='manifestR.close()'>&nbsp;</span></p> <ul> <li><span class='manifestStep'>1</span>  save the <code><strong>CACHE MANIFEST</strong></code> content below as a text file with the extension <code><strong>.appcache</strong></code> </li> <li><span class='manifestStep'>2</span>  add a <code><strong>manifest</strong></code>  attribute to the document's <code><strong>HTML</strong></code> element. The attribute's value is the location of the manifest file</li> <li><span class='manifestStep'>3</span>  ensure your server serves .appcache files as text/cache-manifest</li> </ul> <p>More details on manifests and creating offline web sites and apps (including why not all of your resources might appear here) <a href='http://www.webdirections.org/blog/get-offline/'>in our article on taking your sites and apps offline</a></p></div><div id='manifestContent' contenteditable='true'></div><div id='manifestFooter'> <p><a href='http://webdirections.org'><strong>ManifestR</strong> is brought to you by <strong>Web Directions</strong><br> Awesome conferences (tools, tutorials and more) for web developers just like you!</a></p></div>",
setTimeout(function(){a.style.top=0;a.style.display="block";a.style.visibility="visible"},50));return a},insertElementContent:function(a,c){a.innerText?a.innerText=c:a.textContent=c},close:function(){manifestR.getHUD().style.top="-100%";setTimeout("manifestR.getHUD().parentNode.removeChild(manifestR.getHUD())",1E3)},addEvent:function(a,c,e){a.addEventListener?a.addEventListener(c,e,!1):a.attachEvent?a.attachEvent("on"+c,e):a["on"+c]=e},savedTarget:null,orgCursor:null,dragOK:!1,dragXoffset:0,dragYoffset:0,
didDrag:!1,moveHandler:function(a){null==a&&(a=window.event);if(1>=a.button&&manifestR.dragOK)return manifestR.savedTarget.style.left=a.clientX-manifestR.dragXoffset+"px",manifestR.savedTarget.style.top=a.clientY-manifestR.dragYoffset+"px",!1},cleanup:function(a){manifestR.savedTarget.style.cursor=manifestR.orgCursor;manifestR.dragOK=!1;manifestR.didDrag=!0},dragHandler:function(a){null==a&&(a=window.event);var c=null!=a.target?a.target:a.srcElement;manifestR.orgCursor=c.style.cursor;if(manifestR.inHUD(c))return c=
document.getElementById("manifestHUD"),manifestR.savedTarget=c,c.style.cursor="-moz-grabbing",manifestR.dragOK=!0,manifestR.dragXoffset=a.clientX-c.offsetLeft,manifestR.dragYoffset=a.clientY-c.offsetTop,document.onmousemove=manifestR.moveHandler,document.onmouseup=manifestR.cleanup,!1},readyHandler:function(a){},inHUD:function(a){if("manifestHUDTitleBar"==a.id)return!0;if(a.parentNode)for(;a=a.parentNode;)if("manifestHUDTitleBar"==a.id)return!0},isIE:function(){return!document.defaultView},theCSS:'#manifestHUD { /*zero out irritating effects*/ text-shadow: none; text-align: left; } #manifestHUD a:link, #manifestHUD a:visited { /*zero out irritating effects*/text-shadow: 0 1px 1px black; text-decoration: none; color: #ffffff; font-weight: bold; background-color: transparent; } #manifestHUD { position: fixed; top: -100%; left: 0; width: 100%; font-size: 14px; background-color: #ffffff; z-index: 1000000; resize: both; font-family: Helvetica, Arial, sans-serif; -webkit-transition: top 1s; -moz-transition: top 1s; -o-transition: top 1s; -ms-transition: top 1s; transition: top 1s; opacity: .96; display: block; /*visibility: hidden; */ } #manifestHUD * { background-color: transparent; background-image: none} #manifestHUD #closeBtn { display: inline-block; float: right; text-align: center; vertical-align: text-bottom; background-image: url("http://westciv.com/tools/manifestR/closebox.png"); width: 1em; background-repeat: no-repeat; cursor: pointer; } #manifestHUD #manifestContent { overflow-y: scroll; overflow-x: hidden; white-space: pre; -webkit-user-modify: read-write-plaintext-only; -moz-user-modify: read-write; text-overflow-mode:ellipsis; height: 200px; width: 300px; width: 98%; padding: .5em 1% 0 1%; border-left: solid 1px #222; border-bottom: solid 1px #222; outline: none; background-color: #191919; color: #acacac; text-shadow: none; resize: none ; -webkit-box-shadow: inset 0 0 10px rgba(0,0,0,0.3); font-size: .9em; font-family: "Courier New", "Courier", monospace; } #manifestHUD ul { list-style-type: none; margin:0; padding: 0 } #manifestHUD li { margin: 0; padding: .2em 0; } #manifestHUD li { background-color: #797979; color: #ebebeb; text-shadow: 0 1px 0 #000; border-bottom: solid 1px #444; border-top: solid 1px #999; -webkit-transition: background, .5s; -moz-transition: background, .5s -o-transition: background, .5s -ms-transition: background, .5s transition: background, .5s } #manifestHUD li:hover { background-color: #585858; color: #ebebeb; text-shadow: 0 1px 0 #000; } #manifestHUDInstructions p { background-color: #5f5f5f; color: #dcdcdc; text-shadow: 0 1px 0 #000; margin:0; padding:1em; text-align: left; } #manifestHUDInstructions p:first-child { font-size: 1em; font-weight: bold; } #manifestHUDInstructions .manifestStep { border: solid white 3px; background-color: #2c5ad5; -webkit-border-radius: 1em; -moz-border-radius: 1em; border-radius: 2em; display: inline-block; width: 1.2em; height: 1.2em; text-align: center; padding: .2em; margin:.2em .2em .2em .5em; font-size: .9em; -webkit-box-shadow: 0 1px 1px #111; -moz-box-shadow: 0 1px 1px #111; box-shadow: 0 1px 1px #111; } /*#manifestHUD li:nth-child(even) { background-color: #3c3c3c; color: #ebebeb;  text-shadow: 0 1px 0 #333}*/ #manifestHUD #manifestHUDTitleBar { text-align: center; background-color: #d3d3d3; -webkit-border-top-left-radius:.7em; -webkit-border-top-right-radius:.7em; background-color:#B8B8B8; background-image: -moz-linear-gradient(top , #B8B8B8, #000000 55%); background-image: -webkit-linear-gradient(top , #B8B8B8, #000000 55%); background-image: -o-linear-gradient(top , #B8B8B8, #000000 55%); background-image: -ms-linear-gradient(top , #B8B8B8, #000000 55%); background-image: linear-gradient(top , #B8B8B8, #000000 55%) text-shadow: none; padding: .2em 0; color: #fff; text-shadow: none; cursor: move; -webkit-user-select: none; -moz-user-select: none; -o-user-select: none; -ms-user-select: none; user-select: none; } #manifestFooter { background-color: #5f5f5f; color: #eee; text-shadow: 0 1px 0 #000; margin:0; padding:0; box-shadow: 2px 2px 2px #bbb; -webkit-box-shadow: 0 0  5px rgba(0, 0, 0, .6); -moz-box-shadow: 2px 2px 2px #bbb; } #manifestFooter p { margin: 0; padding: .6em; border-bottom: solid 1px #999; } #manifestFooter p { background-color:#fff; background-image: url(http://westciv.com/tools/manifestR/wdonly.png); background-repeat: no-repeat; background-position: right; background-size: contain } #manifestHUD #manifestFooter p a:link, #manifestHUD #manifestFooter p a:visited { color: #6c6c6c; text-shadow: none; font-weight: normal } #manifestFooter a { /* color: #eee; text-shadow: none; font-weight: bold; text-decoration: none; text-shadow: 0 1px 0 #000; */ } #manifestHUDTitleBar:active { cursor: move; } #manifestContent::-webkit-scrollbar { width: 10px; height: 6px; } #manifestContent::-webkit-scrollbar-button:start:decrement,#manifestContent::-webkit-scrollbar-button:end:increment { height: 0; display: block; background-color: transparent; } #manifestContent::-webkit-scrollbar-track-piece { background-color: #3b3b3b; -webkit-border-radius: 6px; } #manifestContent::-webkit-scrollbar-thumb:vertical { height: 50px; background-color: #666; -webkit-border-radius: 6px; } #manifestContent::-webkit-scrollbar-thumb:horizontal { width: 50px; background-color: #666; -webkit-border-radius: 3px; } #manifestContent::-webkit-scrollbar-corner { background:transparent; background-repeat:no-repeat; height: 12px }',
eliminateDuplicates:function(a){var c,e=a.length,m=[],l={};for(c=0;c<e;c++)l[a[c]]=0;for(c in l)m.push(c);return m.sort()},addCSS:function(){var a=document.getElementsByTagName("head")[0].appendChild(document.createElement("style"));a.type="text/css";manifestR.insertElementContent(a,manifestR.theCSS)}};!function(){window.PR_SHOULD_USE_CONTINUATION=!0;(function(){function a(a){function b(a){var b=a.charCodeAt(0);if(92!==b)return b;var c=a.charAt(1);return(b=u[c])?b:"0"<=c&&"7">=c?parseInt(a.substring(1),8):"u"===c||"x"===c?parseInt(a.substring(2),16):a.charCodeAt(1)}function c(a){if(32>a)return(16>a?"\\x0":"\\x")+a.toString(16);a=String.fromCharCode(a);return"\\"===a||"-"===a||"]"===a||"^"===a?"\\"+a:a}function d(a){var d=a.substring(1,a.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g);
a=[];var e="^"===d[0],f=["["];e&&f.push("^");e=e?1:0;for(var g=d.length;e<g;++e){var l=d[e];if(/\\[bdsw]/i.test(l))f.push(l);else{l=b(l);var m;e+2<g&&"-"===d[e+1]?(m=b(d[e+2]),e+=2):m=l;a.push([l,m]);65>m||122<l||(65>m||90<l||a.push([Math.max(65,l)|32,Math.min(m,90)|32]),97>m||122<l||a.push([Math.max(97,l)&-33,Math.min(m,122)&-33]))}}a.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});d=[];g=[];for(e=0;e<a.length;++e)l=a[e],l[0]<=g[1]+1?g[1]=Math.max(g[1],l[1]):d.push(g=l);for(e=0;e<d.length;++e)l=
d[e],f.push(c(l[0])),l[1]>l[0]&&(l[1]+1>l[0]&&f.push("-"),f.push(c(l[1])));f.push("]");return f.join("")}function e(a){for(var b=a.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),e=b.length,l=[],m=0,q=0;m<e;++m){var r=b[m];"("===r?++q:"\\"===r.charAt(0)&&(r=+r.substring(1))&&(r<=q?l[r]=-1:b[m]=c(r))}for(m=1;m<l.length;++m)-1===l[m]&&(l[m]=++f);for(q=m=0;m<e;++m)r=b[m],"("===r?(++q,l[q]||(b[m]="(?:")):"\\"===r.charAt(0)&&(r=+r.substring(1))&&
r<=q&&(b[m]="\\"+l[r]);for(m=0;m<e;++m)"^"===b[m]&&"^"!==b[m+1]&&(b[m]="");if(a.ignoreCase&&g)for(m=0;m<e;++m)r=b[m],a=r.charAt(0),2<=r.length&&"["===a?b[m]=d(r):"\\"!==a&&(b[m]=r.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return b.join("")}for(var f=0,g=!1,l=!1,m=0,q=a.length;m<q;++m){var r=a[m];if(r.ignoreCase)l=!0;else if(/[a-z]/i.test(r.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){g=!0;l=!1;break}}var u={b:8,t:9,n:10,v:11,
f:12,r:13},z=[];m=0;for(q=a.length;m<q;++m){r=a[m];if(r.global||r.multiline)throw Error(""+r);z.push("(?:"+e(r)+")")}return RegExp(z.join("|"),l?"gi":"g")}function c(a,b){function c(a){var m=a.nodeType;if(1==m){if(!d.test(a.className)){for(m=a.firstChild;m;m=m.nextSibling)c(m);m=a.nodeName.toLowerCase();if("br"===m||"li"===m)e[l]="\n",g[l<<1]=f++,g[l++<<1|1]=a}}else if(3==m||4==m)m=a.nodeValue,m.length&&(m=b?m.replace(/\r\n?/g,"\n"):m.replace(/[\t\n\r ]+/g," "),e[l]=m,g[l<<1]=f,f+=m.length,g[l++<<
1|1]=a)}var d=/(?:^|\s)nocode(?:\s|$)/,e=[],f=0,g=[],l=0;c(a);return{a:e.join("").replace(/\n$/,""),d:g}}function e(a,b,c,d){b&&(a={a:b,e:a},c(a),d.push.apply(d,a.g))}function m(a){for(var b=void 0,c=a.firstChild;c;c=c.nextSibling){var d=c.nodeType;b=1===d?b?a:c:3===d?P.test(c.nodeValue)?a:b:b}return b===a?void 0:b}function l(b,c){function d(a){for(var b=a.e,m=[b,"pln"],q=0,r=a.a.match(g)||[],u={},z=0,v=r.length;z<v;++z){var A=r[z],C=u[A],D=void 0;if("string"===typeof C)var G=!1;else{var H=f[A.charAt(0)];
if(H)D=A.match(H[1]),C=H[0];else{for(G=0;G<l;++G)if(H=c[G],D=A.match(H[1])){C=H[0];break}D||(C="pln")}!(G=5<=C.length&&"lang-"===C.substring(0,5))||D&&"string"===typeof D[1]||(G=!1,C="src");G||(u[A]=C)}H=q;q+=A.length;if(G){G=D[1];var I=A.indexOf(G),J=I+G.length;D[2]&&(J=A.length-D[2].length,I=J-G.length);C=C.substring(5);e(b+H,A.substring(0,I),d,m);e(b+H+I,G,B(C,G),m);e(b+H+J,A.substring(J),d,m)}else m.push(b+H,C)}a.g=m}var f={},g;(function(){for(var d=b.concat(c),e=[],l={},m=0,q=d.length;m<q;++m){var r=
d[m],u=r[3];if(u)for(var z=u.length;0<=--z;)f[u.charAt(z)]=r;r=r[1];u=""+r;l.hasOwnProperty(u)||(e.push(r),l[u]=null)}e.push(/[\S\s]/);g=a(e)})();var l=c.length;return d}function f(a){var b=[],c=[];a.tripleQuotedStrings?b.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,null,"'\""]):a.multiLineStrings?b.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,
null,"'\"`"]):b.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,null,"\"'"]);a.verbatimStrings&&c.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,null]);var d=a.hashComments;d&&(a.cStyleComments?(1<d?b.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]):b.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,null,"#"]),c.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):
b.push(["com",/^#[^\n\r]*/,null,"#"]));a.cStyleComments&&(c.push(["com",/^\/\/[^\n\r]*/,null]),c.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,null]));if(d=a.regexLiterals){var e=(d=1<d?"":"\n\r")?".":"[\\S\\s]";c.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*("+("/(?=[^/*"+d+"])(?:[^/\\x5B\\x5C"+d+"]|\\x5C"+e+"|\\x5B(?:[^\\x5C\\x5D"+
d+"]|\\x5C"+e+")*(?:\\x5D|$))+/")+")")])}(d=a.types)&&c.push(["typ",d]);d=(""+a.keywords).replace(/^ | $/g,"");d.length&&c.push(["kwd",RegExp("^(?:"+d.replace(/[\s,]+/g,"|")+")\\b"),null]);b.push(["pln",/^\s+/,null," \r\n\t\u00a0"]);d="^.[^\\s\\w.$@'\"`/\\\\]*";a.regexLiterals&&(d+="(?!s*/)");c.push(["lit",/^@[$_a-z][\w$@]*/i,null],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,null],["pln",/^[$_a-z][\w$@]*/i,null],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,null,
"0123456789"],["pln",/^\\[\S\s]?/,null],["pun",RegExp(d),null]);return l(b,c)}function q(a,b,c){function d(a){var b=a.nodeType;if(1==b&&!f.test(a.className))if("br"===a.nodeName)e(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)d(a);else if((3==b||4==b)&&c){var m=a.nodeValue,q=m.match(g);q&&(b=m.substring(0,q.index),a.nodeValue=b,(m=m.substring(q.index+q[0].length))&&a.parentNode.insertBefore(l.createTextNode(m),a.nextSibling),e(a),b||a.parentNode.removeChild(a))}}
function e(a){function b(a,c){c=c?a.cloneNode(!1):a;var d=a.parentNode;if(d){d=b(d,1);a=a.nextSibling;d.appendChild(c);for(var e=a;e;e=a)a=e.nextSibling,d.appendChild(e)}return c}for(;!a.nextSibling;)if(a=a.parentNode,!a)return;a=b(a.nextSibling,0);for(var c;(c=a.parentNode)&&1===c.nodeType;)a=c;q.push(a)}for(var f=/(?:^|\s)nocode(?:\s|$)/,g=/\r\n?|\n/,l=a.ownerDocument,m=l.createElement("li");a.firstChild;)m.appendChild(a.firstChild);for(var q=[m],r=0;r<q.length;++r)d(q[r]);b===(b|0)&&q[0].setAttribute("value",
b);var u=l.createElement("ol");u.className="linenums";b=Math.max(0,b-1|0)||0;r=0;for(var z=q.length;r<z;++r)m=q[r],m.className="L"+(r+b)%10,m.firstChild||m.appendChild(l.createTextNode("\u00a0")),u.appendChild(m);a.appendChild(u)}function z(a,b){for(var c=b.length;0<=--c;){var d=b[c];Z.hasOwnProperty(d)?C.console&&console.warn("cannot override language handler %s",d):Z[d]=a}}function B(a,b){a&&Z.hasOwnProperty(a)||(a=/^\s*</.test(b)?"default-markup":"default-code");return Z[a]}function u(a){var b=
a.h;try{var d=c(a.c,a.i),e=d.a;a.a=e;a.d=d.d;a.e=0;B(b,e)(a);var f=/\bMSIE\s(\d+)/.exec(navigator.userAgent);f=f&&8>=+f[1];b=/\n/g;var g=a.a,l=g.length;d=0;var m=a.d,q=m.length;e=0;var r=a.g,u=r.length,z=0;r[u]=l;var v,A;for(A=v=0;A<u;)r[A]!==r[A+2]?(r[v++]=r[A++],r[v++]=r[A++]):A+=2;u=v;for(A=v=0;A<u;){for(var D=r[A],G=r[A+1],H=A+2;H+2<=u&&r[H+1]===G;)H+=2;r[v++]=D;r[v++]=G;A=H}r.length=v;var M=a.c;if(M){var P=M.style.display;M.style.display="none"}try{for(;e<q;){var R=m[e+2]||l,W=r[z+2]||l;H=Math.min(R,
W);var ea=m[e+1],U;if(1!==ea.nodeType&&(U=g.substring(d,H))){f&&(U=U.replace(b,"\r"));ea.nodeValue=U;var O=ea.ownerDocument,Z=O.createElement("span");Z.className=r[z+1];var N=ea.parentNode;N.replaceChild(Z,ea);Z.appendChild(ea);d<R&&(m[e+1]=ea=O.createTextNode(g.substring(H,R)),N.insertBefore(ea,Z.nextSibling))}d=H;d>=R&&(e+=2);d>=W&&(z+=2)}}finally{M&&(M.style.display=P)}}catch(V){C.console&&console.log(V&&V.stack||V)}}var C=window,A=["break,continue,do,else,for,if,return,while"],v=[[A,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],
"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],b=[v,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],d=[v,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],
g=[d,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"];v=[v,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"];var r=[A,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],
D=[A,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],H=[A,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"];A=[A,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"];var W=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,
P=/\S/,M=f({keywords:[b,g,v,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",r,D,A],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),Z={};z(M,["default-code"]);z(l([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^\x3c!--[\S\s]*?(?:--\x3e|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],
["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),"default-markup htm html mxml xhtml xml xsl".split(" "));z(l([["pln",/^\s+/,null," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,null,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],
["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);z(l([],[["atv",/^[\S\s]+/]]),["uq.val"]);z(f({keywords:b,hashComments:!0,cStyleComments:!0,types:W}),"c cc cpp cxx cyc m".split(" "));z(f({keywords:"null,true,false"}),["json"]);z(f({keywords:g,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,
types:W}),["cs"]);z(f({keywords:d,cStyleComments:!0}),["java"]);z(f({keywords:A,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]);z(f({keywords:r,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]);z(f({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl",
"pm"]);z(f({keywords:D,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]);z(f({keywords:v,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]);z(f({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);z(f({keywords:H,cStyleComments:!0,multilineStrings:!0}),
["rc","rs","rust"]);z(l([],[["str",/^[\S\s]+/]]),["regex"]);var G=C.PR={createSimpleLexer:l,registerLangHandler:z,sourceDecorator:f,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:C.prettyPrintOne=function(a,b,c){var d=document.createElement("div");d.innerHTML="<pre>"+a+"</pre>";d=d.firstChild;c&&q(d,c,!0);
u({h:b,j:c,c:d,i:1});return d.innerHTML},prettyPrint:C.prettyPrint=function(a,b){function c(){for(var b=C.PR_SHOULD_USE_CONTINUATION?r.now()+250:Infinity;z<e.length&&r.now()<b;z++){for(var f=e[z],g=M,l=f;l=l.previousSibling;){var J=l.nodeType,O=(7===J||8===J)&&l.nodeValue;if(O?!/^\??prettify\b/.test(O):3!==J||/\S/.test(l.nodeValue))break;if(O){g={};O.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(a,b,c){g[b]=c});break}}l=f.className;if((g!==M||B.test(l))&&!D.test(l)){J=!1;for(O=f.parentNode;O;O=O.parentNode)if(I.test(O.tagName)&&
O.className&&B.test(O.className)){J=!0;break}if(!J){f.className+=" prettyprinted";J=g.lang;if(!J){J=l.match(A);var P;!J&&(P=m(f))&&H.test(P.tagName)&&(J=P.className.match(A));J&&(J=J[1])}if(G.test(f.tagName))O=1;else{O=f.currentStyle;var N=d.defaultView;O=(O=O?O.whiteSpace:N&&N.getComputedStyle?N.getComputedStyle(f,null).getPropertyValue("white-space"):0)&&"pre"===O.substring(0,3)}N=g.linenums;(N="true"===N||+N)||(N=(N=l.match(/\blinenums\b(?::(\d+))?/))?N[1]&&N[1].length?+N[1]:!0:!1);N&&q(f,N,O);
v={h:J,c:f,j:N,i:O};u(v)}}}z<e.length?setTimeout(c,250):"function"===typeof a&&a()}b=b||document.body;var d=b.ownerDocument||document;b=[b.getElementsByTagName("pre"),b.getElementsByTagName("code"),b.getElementsByTagName("xmp")];for(var e=[],f=0;f<b.length;++f)for(var g=0,l=b[f].length;g<l;++g)e.push(b[f][g]);b=null;var r=Date;r.now||(r={now:function(){return+new Date}});var z=0,v,A=/\blang(?:uage)?-([\w.]+)(?!\S)/,B=/\bprettyprint\b/,D=/\bprettyprinted\b/,G=/pre|xmp/i,H=/^code$/i,I=/^(?:pre|code|xmp)$/i,
M={};c()}};"function"===typeof define&&define.amd&&define("google-code-prettify",[],function(){return G})})()}();var mod$$inline_58=function(a){function c(a){U=a||{};for(var b in V)Object.prototype.hasOwnProperty.call(U,b)||(U[b]=V[b]);N=U.sourceFile||null}function e(a,b){var c=ja(O,a);b+=" ("+c.line+":"+c.column+")";b=new SyntaxError(b);b.pos=a;b.loc=c;b.raisedAt=E;throw b;}function m(a){function b(a){if(1==a.length)return c+="return str === "+JSON.stringify(a[0])+";";c+="switch(str){";for(var b=0;b<a.length;++b)c+="case "+JSON.stringify(a[b])+":";c+="return true}return false;"}a=a.split(" ");var c="",d=[],
e=0;a:for(;e<a.length;++e){for(var f=0;f<d.length;++f)if(d[f][0].length==a[e].length){d[f].push(a[e]);continue a}d.push([a[e]])}if(3<d.length){d.sort(function(a,b){return b.length-a.length});c+="switch(str.length){";for(e=0;e<d.length;++e)a=d[e],c+="case "+a[0].length+":",b(a);c+="}"}else b(a);return new Function("str",c)}function l(){this.line=Q;this.column=E-t}function f(a,b){Oa=E;U.locations&&(cb=new l);ca=a;z();Ea=b;Sa=a.beforeExpr}function q(){for(var a=E,b=U.onComment&&U.locations&&new l,c=
O.charCodeAt(E+=2);E<Ka&&10!==c&&13!==c&&8232!==c&&8233!==c;)++E,c=O.charCodeAt(E);if(U.onComment)U.onComment(!1,O.slice(a+2,E),a,E,b,U.locations&&new l)}function z(){for(;E<Ka;){var a=O.charCodeAt(E);if(32===a)++E;else if(13===a)++E,a=O.charCodeAt(E),10===a&&++E,U.locations&&(++Q,t=E);else if(10===a||8232===a||8233===a)++E,U.locations&&(++Q,t=E);else if(8<a&&14>a)++E;else if(47===a)if(a=O.charCodeAt(E+1),42===a){a=U.onComment&&U.locations&&new l;var b=E,c=O.indexOf("*/",E+=2);-1===c&&e(E-2,"Unterminated comment");
E=c+2;if(U.locations){Ya.lastIndex=b;for(var d=void 0;(d=Ya.exec(O))&&d.index<E;)++Q,t=d.index+d[0].length}if(U.onComment)U.onComment(!0,O.slice(b+2,c),b,E,a,U.locations&&new l)}else if(47===a)q();else break;else if(160===a)++E;else if(5760<=a&&Cd.test(String.fromCharCode(a)))++E;else break}}function B(a){switch(a){case 46:return a=O.charCodeAt(E+1),48<=a&&57>=a?a=b(!0):(++E,a=f(Hb)),a;case 40:return++E,f(Qb);case 41:return++E,f(Lb);case 59:return++E,f(fb);case 44:return++E,f(sb);case 91:return++E,
f(Fc);case 93:return++E,f(zd);case 123:return++E,f(Gc);case 125:return++E,f(tc);case 58:return++E,f(eb);case 63:return++E,f(Yb);case 48:if(a=O.charCodeAt(E+1),120===a||88===a)return E+=2,a=v(16),null==a&&e(pa+2,"Expected hexadecimal number"),Jc(O.charCodeAt(E))&&e(E,"Identifier directly after number"),f(Rb,a);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return b(!1);case 34:case 39:a:{E++;for(var c="";;){E>=Ka&&e(pa,"Unterminated string constant");var g=O.charCodeAt(E);
if(g===a){++E;a=f(Wa,c);break a}if(92===g){g=O.charCodeAt(++E);var l=/^[0-7]+/.exec(O.slice(E,E+3));for(l&&(l=l[0]);l&&255<parseInt(l,8);)l=l.slice(0,-1);"0"===l&&(l=null);++E;if(l)Na&&e(E-2,"Octal literal in strict mode"),c+=String.fromCharCode(parseInt(l,8)),E+=l.length-1;else switch(g){case 110:c+="\n";break;case 114:c+="\r";break;case 120:c+=String.fromCharCode(d(2));break;case 117:c+=String.fromCharCode(d(4));break;case 85:c+=String.fromCharCode(d(8));break;case 116:c+="\t";break;case 98:c+=
"\b";break;case 118:c+="\x0B";break;case 102:c+="\f";break;case 48:c+="\x00";break;case 13:10===O.charCodeAt(E)&&++E;case 10:U.locations&&(t=E,++Q);break;default:c+=String.fromCharCode(g)}}else 13!==g&&10!==g&&8232!==g&&8233!==g||e(pa,"Unterminated string constant"),c+=String.fromCharCode(g),++E}}return a;case 47:return a=O.charCodeAt(E+1),Sa?(++E,a=A()):a=61===a?C(Gb,2):C(ec,1),a;case 37:case 42:return a=O.charCodeAt(E+1),a=61===a?C(Gb,2):C(fd,1),a;case 124:case 38:return c=O.charCodeAt(E+1),a=c===
a?C(124===a?ed:Ad,2):61===c?C(Gb,2):C(124===a?fe:Ue,1),a;case 94:return a=O.charCodeAt(E+1),a=61===a?C(Gb,2):C(Oe,1),a;case 43:case 45:return c=O.charCodeAt(E+1),c===a?45==c&&62==O.charCodeAt(E+2)&&Qa.test(O.slice(Xa,E))?(E+=3,q(),z(),a=u()):a=C(Tb,2):a=61===c?C(Gb,2):C(uc,1),a;case 60:case 62:return c=O.charCodeAt(E+1),g=1,c===a?(g=62===a&&62===O.charCodeAt(E+2)?3:2,a=61===O.charCodeAt(E+g)?C(Gb,g+1):C(Yd,g)):33==c&&60==a&&45==O.charCodeAt(E+2)&&45==O.charCodeAt(E+3)?(E+=4,q(),z(),a=u()):(61===c&&
(g=61===O.charCodeAt(E+2)?3:2),a=C(Zd,g)),a;case 61:case 33:return c=O.charCodeAt(E+1),a=61===c?C(Ic,61===O.charCodeAt(E+2)?3:2):C(61===a?Hc:ee,1),a;case 126:return C(ee,1)}return!1}function u(a){a?E=pa+1:pa=E;U.locations&&(La=new l);if(a)return A();if(E>=Ka)return f(qb);var b=O.charCodeAt(E);if(Jc(b)||92===b)return r();a=B(b);if(!1===a){b=String.fromCharCode(b);if("\\"===b||fc.test(b))return r();e(E,"Unexpected character '"+b+"'")}return a}function C(a,b){var c=O.slice(E,E+b);E+=b;f(a,c)}function A(){for(var a,
b,c=E;;){E>=Ka&&e(c,"Unterminated regular expression");var d=O.charAt(E);Qa.test(d)&&e(c,"Unterminated regular expression");if(a)a=!1;else{if("["===d)b=!0;else if("]"===d&&b)b=!1;else if("/"===d&&!b)break;a="\\"===d}++E}a=O.slice(c,E);++E;(b=g())&&!/^[gmsiy]*$/.test(b)&&e(c,"Invalid regexp flag");return f(pb,new RegExp(a,b))}function v(a,b){for(var c=E,d=0,e=0,f=null==b?Infinity:b;e<f;++e){var g=O.charCodeAt(E);g=97<=g?g-97+10:65<=g?g-65+10:48<=g&&57>=g?g-48:Infinity;if(g>=a)break;++E;d=d*a+g}return E===
c||null!=b&&E-c!==b?null:d}function b(a){var b=E,c=!1,d=48===O.charCodeAt(E);a||null!==v(10)||e(b,"Invalid number");46===O.charCodeAt(E)&&(++E,v(10),c=!0);a=O.charCodeAt(E);if(69===a||101===a)a=O.charCodeAt(++E),43!==a&&45!==a||++E,null===v(10)&&e(b,"Invalid number"),c=!0;Jc(O.charCodeAt(E))&&e(E,"Identifier directly after number");a=O.slice(b,E);var g;c?g=parseFloat(a):d&&1!==a.length?/[89]/.test(a)||Na?e(b,"Invalid number"):g=parseInt(a,8):g=parseInt(a,10);return f(Rb,g)}function d(a){a=v(16,a);
null===a&&e(pa,"Bad character escape sequence");return a}function g(){Nb=!1;for(var a,b=!0,c=E;;){var f=O.charCodeAt(E);if(hd(f))Nb&&(a+=O.charAt(E)),++E;else if(92===f){Nb||(a=O.slice(c,E));Nb=!0;117!=O.charCodeAt(++E)&&e(E,"Expecting Unicode escape sequence \\uXXXX");++E;f=d(4);var g=String.fromCharCode(f);g||e(E-1,"Invalid Unicode escape");(b?Jc(f):hd(f))||e(E-4,"Invalid Unicode escape");a+=g}else break;b=!1}return Nb?a:O.slice(c,E)}function r(){var a=g(),b=Db;Nb||(Mb(a)?b=Ec[a]:(U.forbidReserved&&
(3===U.ecmaVersion?ge:Ff)(a)||Na&&he(a))&&e(pa,"The keyword '"+a+"' is reserved"));return f(b,a)}function D(){gb=pa;Xa=Oa;Ub=cb;u()}function H(a){Na=a;E=Xa;if(U.locations)for(;E<t;)t=O.lastIndexOf("\n",t-2)+1,--Q;z();u()}function W(){this.type=null;this.start=pa;this.end=null}function P(){this.start=La;this.end=null;null!==N&&(this.source=N)}function M(){var a=new W;U.locations&&(a.loc=new P);U.directSourceFile&&(a.sourceFile=U.directSourceFile);U.ranges&&(a.range=[pa,0]);return a}function Z(a){var b=
new W;b.start=a.start;U.locations&&(b.loc=new P,b.loc.start=a.loc.start);U.ranges&&(b.range=[a.range[0],0]);return b}function G(a,b){a.type=b;a.end=Xa;U.locations&&(a.loc.end=Ub);U.ranges&&(a.range[1]=Xa);return a}function R(a){return 5<=U.ecmaVersion&&"ExpressionStatement"===a.type&&"Literal"===a.expression.type&&"use strict"===a.expression.value}function I(a){if(ca===a)return D(),!0}function X(){return!U.strictSemicolons&&(ca===qb||ca===tc||Qa.test(O.slice(Xa,pa)))}function J(){I(fb)||X()||ba()}
function S(a){ca===a?D():ba()}function ba(){e(pa,"Unexpected token")}function T(a){"Identifier"!==a.type&&"MemberExpression"!==a.type&&e(a.start,"Assigning to rvalue");Na&&"Identifier"===a.type&&qa(a.name)&&e(a.start,"Assigning to "+a.name+" in strict mode")}function Y(){(ca===ec||ca===Gb&&"/="==Ea)&&u(!0);var a=ca,b=M();switch(a){case wb:case Wb:D();var c=a===wb;I(fb)||X()?b.label=null:ca!==Db?ba():(b.label=ea(),J());for(var d=0;d<Aa.length;++d){var f=Aa[d];if(null==b.label||f.name===b.label.name){if(null!=
f.kind&&(c||"loop"===f.kind))break;if(b.label&&c)break}}d===Aa.length&&e(b.start,"Unsyntactic "+a.keyword);return G(b,c?"BreakStatement":"ContinueStatement");case xb:return D(),J(),G(b,"DebuggerStatement");case Ra:return D(),Aa.push($b),b.body=Y(),Aa.pop(),S(ab),b.test=ta(),J(),G(b,"DoWhileStatement");case Bc:D();Aa.push($b);S(Qb);if(ca===fb)return Ha(b,null);if(ca===Cc)return a=M(),D(),va(a,!0),G(a,"VariableDeclaration"),1===a.declarations.length&&I(dd)?ia(b,a):Ha(b,a);a=oa(!1,!0);return I(dd)?(T(a),
ia(b,a)):Ha(b,a);case ya:return D(),ra(b,!0);case bb:return D(),b.test=ta(),b.consequent=Y(),b.alternate=I(db)?Y():null,G(b,"IfStatement");case rb:return hb||e(pa,"'return' outside of function"),D(),I(fb)||X()?b.argument=null:(b.argument=oa(),J()),G(b,"ReturnStatement");case sa:D();b.discriminant=ta();b.cases=[];S(Gc);for(Aa.push(Dd);ca!=tc;)ca===Vb||ca===na?(a=ca===Vb,d&&G(d,"SwitchCase"),b.cases.push(d=M()),d.consequent=[],D(),a?d.test=oa():(c&&e(gb,"Multiple default clauses"),c=!0,d.test=null),
S(eb)):(d||ba(),d.consequent.push(Y()));d&&G(d,"SwitchCase");D();Aa.pop();return G(b,"SwitchStatement");case Zc:return D(),Qa.test(O.slice(Xa,pa))&&e(Xa,"Illegal newline after throw"),b.argument=oa(),J(),G(b,"ThrowStatement");case Xd:return D(),b.block=Ia(),b.handler=null,ca===Cb&&(a=M(),D(),S(Qb),a.param=ea(),Na&&qa(a.param.name)&&e(a.param.start,"Binding "+a.param.name+" in strict mode"),S(Lb),a.guard=null,a.body=Ia(),b.handler=G(a,"CatchClause")),b.guardedHandlers=Zb,b.finalizer=I(Dc)?Ia():null,
b.handler||b.finalizer||e(b.start,"Missing catch or finally clause"),G(b,"TryStatement");case Cc:return D(),va(b),J(),G(b,"VariableDeclaration");case ab:return D(),b.test=ta(),Aa.push($b),b.body=Y(),Aa.pop(),G(b,"WhileStatement");case Ne:return Na&&e(pa,"'with' in strict mode"),D(),b.object=ta(),b.body=Y(),G(b,"WithStatement");case Gc:return Ia();case fb:return D(),G(b,"EmptyStatement");default:c=Ea;f=oa();if(a===Db&&"Identifier"===f.type&&I(eb)){for(d=0;d<Aa.length;++d)Aa[d].name===c&&e(f.start,
"Label '"+c+"' is already declared");a=ca.isLoop?"loop":ca===sa?"switch":null;Aa.push({name:c,kind:a});b.body=Y();Aa.pop();b.label=f;return G(b,"LabeledStatement")}b.expression=f;J();return G(b,"ExpressionStatement")}}function ta(){S(Qb);var a=oa();S(Lb);return a}function Ia(a){var b=M(),c=!0,d=!1,e;b.body=[];for(S(Gc);!I(tc);){var f=Y();b.body.push(f);c&&a&&R(f)&&(e=d,H(d=!0));c=!1}d&&!e&&H(!1);return G(b,"BlockStatement")}function Ha(a,b){a.init=b;S(fb);a.test=ca===fb?null:oa();S(fb);a.update=ca===
Lb?null:oa();S(Lb);a.body=Y();Aa.pop();return G(a,"ForStatement")}function ia(a,b){a.left=b;a.right=oa();S(Lb);a.body=Y();Aa.pop();return G(a,"ForInStatement")}function va(a,b){a.declarations=[];for(a.kind="var";;){var c=M();c.id=ea();Na&&qa(c.id.name)&&e(c.id.start,"Binding "+c.id.name+" in strict mode");c.init=I(Hc)?oa(!0,b):null;a.declarations.push(G(c,"VariableDeclarator"));if(!I(sb))break}return a}function oa(a,b){var c=wa(b);if(!a&&ca===sb){a=Z(c);for(a.expressions=[c];I(sb);)a.expressions.push(wa(b));
return G(a,"SequenceExpression")}return c}function wa(a){var b=a;var c=b;c=Ga(fa(),-1,c);if(I(Yb)){var d=Z(c);d.test=c;d.consequent=oa(!0);S(eb);d.alternate=oa(!0,b);b=G(d,"ConditionalExpression")}else b=c;return ca.isAssign?(c=Z(b),c.operator=Ea,c.left=b,D(),c.right=wa(a),T(b),G(c,"AssignmentExpression")):b}function Ga(a,b,c){var d=ca.binop;if(null!=d&&(!c||ca!==dd)&&d>b){var e=Z(a);e.left=a;e.operator=Ea;a=ca;D();e.right=Ga(fa(),d,c);d=G(e,a===ed||a===Ad?"LogicalExpression":"BinaryExpression");
return Ga(d,b,c)}return a}function fa(){if(ca.prefix){var a=M(),b=ca.isUpdate;a.operator=Ea;Sa=a.prefix=!0;D();a.argument=fa();b?T(a.argument):Na&&"delete"===a.operator&&"Identifier"===a.argument.type&&e(a.start,"Deleting local variable in strict mode");return G(a,b?"UpdateExpression":"UnaryExpression")}for(b=la(ka());ca.postfix&&!X();)a=Z(b),a.operator=Ea,a.prefix=!1,a.argument=b,T(b),D(),b=G(a,"UpdateExpression");return b}function la(a,b){if(I(Hb)){var c=Z(a);c.object=a;c.property=ea(!0);c.computed=
!1;return la(G(c,"MemberExpression"),b)}return I(Fc)?(c=Z(a),c.object=a,c.property=oa(),c.computed=!0,S(zd),la(G(c,"MemberExpression"),b)):!b&&I(Qb)?(c=Z(a),c.callee=a,c.arguments=Da(Lb,!1),la(G(c,"CallExpression"),b)):a}function ka(){switch(ca){case bd:var a=M();D();return G(a,"ThisExpression");case Db:return ea();case Rb:case Wa:case pb:return a=M(),a.value=Ea,a.raw=O.slice(pa,Oa),D(),G(a,"Literal");case de:case yd:case cd:return a=M(),a.value=ca.atomValue,a.raw=ca.keyword,D(),G(a,"Literal");case Qb:a=
La;var b=pa;D();var c=oa();c.start=b;c.end=Oa;U.locations&&(c.loc.start=a,c.loc.end=cb);U.ranges&&(c.range=[b,Oa]);S(Lb);return c;case Fc:return a=M(),D(),a.elements=Da(zd,!0,!0),G(a,"ArrayExpression");case Gc:a=M();b=!0;c=!1;a.properties=[];for(D();!I(tc);){if(b)b=!1;else if(S(sb),U.allowTrailingCommas&&I(tc))break;var d={key:ca===Rb||ca===Wa?ka():ea(!0)},f=!1,g;I(eb)?(d.value=oa(!0),g=d.kind="init"):5<=U.ecmaVersion&&"Identifier"===d.key.type&&("get"===d.key.name||"set"===d.key.name)?(f=c=!0,g=
d.kind=d.key.name,d.key=ca===Rb||ca===Wa?ka():ea(!0),ca!==Qb&&ba(),d.value=ra(M(),!1)):ba();if("Identifier"===d.key.type&&(Na||c))for(var l=0;l<a.properties.length;++l){var m=a.properties[l];if(m.key.name===d.key.name){var q=g==m.kind||f&&"init"===m.kind||"init"===g&&("get"===m.kind||"set"===m.kind);q&&!Na&&"init"===g&&"init"===m.kind&&(q=!1);q&&e(d.key.start,"Redefinition of property")}}a.properties.push(d)}return G(a,"ObjectExpression");case ya:return a=M(),D(),ra(a,!1);case Fa:return a=M(),D(),
a.callee=la(ka(),!0),I(Qb)?a.arguments=Da(Lb,!1):a.arguments=Zb,G(a,"NewExpression");default:ba()}}function ra(a,b){ca===Db?a.id=ea():b?ba():a.id=null;a.params=[];var c=!0;for(S(Qb);!I(Lb);)c?c=!1:S(sb),a.params.push(ea());c=hb;var d=Aa;hb=!0;Aa=[];a.body=Ia(!0);hb=c;Aa=d;if(Na||a.body.body.length&&R(a.body.body[0]))for(c=a.id?-1:0;c<a.params.length;++c)if(d=0>c?a.id:a.params[c],(he(d.name)||qa(d.name))&&e(d.start,"Defining '"+d.name+"' in strict mode"),0<=c)for(var f=0;f<c;++f)d.name===a.params[f].name&&
e(d.start,"Argument name clash in strict mode");return G(a,b?"FunctionDeclaration":"FunctionExpression")}function Da(a,b,c){for(var d=[],e=!0;!I(a);){if(e)e=!1;else if(S(sb),b&&U.allowTrailingCommas&&I(a))break;c&&ca===sb?d.push(null):d.push(oa(!0))}return d}function ea(a){var b=M();b.name=ca===Db?Ea:a&&!U.forbidReserved&&ca.keyword||ba();Sa=!1;D();return G(b,"Identifier")}a.version="0.4.1";var U,O,Ka,N;a.parse=function(a,b){O=String(a);Ka=O.length;c(b);Q=1;E=t=0;Sa=!0;z();b=U.program;gb=Xa=E;U.locations&&
(Ub=new l);hb=Na=null;Aa=[];u();a=b||M();var d=!0;for(b||(a.body=[]);ca!==qb;)b=Y(),a.body.push(b),d&&R(b)&&H(!0),d=!1;return G(a,"Program")};var V=a.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},ja=a.getLineInfo=function(a,b){for(var c=1,d=0;;){Ya.lastIndex=d;var e=Ya.exec(a);if(e&&e.index<b)++c,d=e.index+e[0].length;else break}return{line:c,column:b-d}};a.tokenize=
function(a,b){function d(a){u(a);e.start=pa;e.end=Oa;e.startLoc=La;e.endLoc=cb;e.type=ca;e.value=Ea;return e}O=String(a);Ka=O.length;c(b);Q=1;E=t=0;Sa=!0;z();var e={};d.jumpTo=function(a,b){E=a;if(U.locations){Q=1;t=Ya.lastIndex=0;for(var c;(c=Ya.exec(O))&&c.index<a;)++Q,t=c.index+c[0].length}Sa=b;z()};return d};var E,pa,Oa,La,cb,ca,Ea,Sa,Q,t,gb,Xa,Ub,hb,Aa,Na,Zb=[],Rb={type:"num"},pb={type:"regexp"},Wa={type:"string"},Db={type:"name"},qb={type:"eof"},wb={keyword:"break"},Vb={keyword:"case",beforeExpr:!0},
Cb={keyword:"catch"},Wb={keyword:"continue"},xb={keyword:"debugger"},na={keyword:"default"},Ra={keyword:"do",isLoop:!0},db={keyword:"else",beforeExpr:!0},Dc={keyword:"finally"},Bc={keyword:"for",isLoop:!0},ya={keyword:"function"},bb={keyword:"if"},rb={keyword:"return",beforeExpr:!0},sa={keyword:"switch"},Zc={keyword:"throw",beforeExpr:!0},Xd={keyword:"try"},Cc={keyword:"var"},ab={keyword:"while",isLoop:!0},Ne={keyword:"with"},Fa={keyword:"new",beforeExpr:!0},bd={keyword:"this"},de={keyword:"null",
atomValue:null},yd={keyword:"true",atomValue:!0},cd={keyword:"false",atomValue:!1},dd={keyword:"in",binop:7,beforeExpr:!0},Ec={"break":wb,"case":Vb,"catch":Cb,"continue":Wb,"debugger":xb,"default":na,"do":Ra,"else":db,"finally":Dc,"for":Bc,"function":ya,"if":bb,"return":rb,"switch":sa,"throw":Zc,"try":Xd,"var":Cc,"while":ab,"with":Ne,"null":de,"true":yd,"false":cd,"new":Fa,"in":dd,"instanceof":{keyword:"instanceof",binop:7,beforeExpr:!0},"this":bd,"typeof":{keyword:"typeof",prefix:!0,beforeExpr:!0},
"void":{keyword:"void",prefix:!0,beforeExpr:!0},"delete":{keyword:"delete",prefix:!0,beforeExpr:!0}},Fc={type:"[",beforeExpr:!0},zd={type:"]"},Gc={type:"{",beforeExpr:!0},tc={type:"}"},Qb={type:"(",beforeExpr:!0},Lb={type:")"},sb={type:",",beforeExpr:!0},fb={type:";",beforeExpr:!0},eb={type:":",beforeExpr:!0},Hb={type:"."},Yb={type:"?",beforeExpr:!0},ec={binop:10,beforeExpr:!0},Hc={isAssign:!0,beforeExpr:!0},Gb={isAssign:!0,beforeExpr:!0},Tb={postfix:!0,prefix:!0,isUpdate:!0},ee={prefix:!0,beforeExpr:!0},
ed={binop:1,beforeExpr:!0},Ad={binop:2,beforeExpr:!0},fe={binop:3,beforeExpr:!0},Oe={binop:4,beforeExpr:!0},Ue={binop:5,beforeExpr:!0},Ic={binop:6,beforeExpr:!0},Zd={binop:7,beforeExpr:!0},Yd={binop:8,beforeExpr:!0},uc={binop:9,prefix:!0,beforeExpr:!0},fd={binop:10,beforeExpr:!0};a.tokTypes={bracketL:Fc,bracketR:zd,braceL:Gc,braceR:tc,parenL:Qb,parenR:Lb,comma:sb,semi:fb,colon:eb,dot:Hb,question:Yb,slash:ec,eq:Hc,name:Db,eof:qb,num:Rb,regexp:pb,string:Wa};for(var Bd in Ec)a.tokTypes["_"+Bd]=Ec[Bd];
var ge=m("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),Ff=m("class enum extends super const export import"),he=m("implements interface let package private protected public static yield"),qa=m("eval arguments"),Mb=m("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),
Cd=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,fc=/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]/,
gd=/[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]/,
Qa=/[\n\r\u2028\u2029]/,Ya=/\r\n|[\n\r\u2028\u2029]/g,Jc=a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:170<=a&&fc.test(String.fromCharCode(a))},hd=a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:170<=a&&gd.test(String.fromCharCode(a))},Nb,$b={kind:"loop"},Dd={kind:"switch"}};
"object"==typeof exports&&"object"==typeof module?mod$$inline_58(exports):"function"==typeof define&&define.amd?define(["exports"],mod$$inline_58):mod$$inline_58(this.acorn||(this.acorn={}));
var Interpreter=function(a,c){"string"==typeof a&&(a=acorn.parse(a,Interpreter.PARSE_OPTIONS));this.ast=a;this.initFunc_=c;this.paused_=!1;this.polyfills_=[];this.UNDEFINED=new Interpreter.Primitive(void 0,this);this.NULL=new Interpreter.Primitive(null,this);this.NAN=new Interpreter.Primitive(NaN,this);this.TRUE=new Interpreter.Primitive(!0,this);this.FALSE=new Interpreter.Primitive(!1,this);this.NUMBER_ZERO=new Interpreter.Primitive(0,this);this.NUMBER_ONE=new Interpreter.Primitive(1,this);this.STRING_EMPTY=
new Interpreter.Primitive("",this);c=this.createScope(this.ast,null);this.NAN.parent=this.NUMBER;this.TRUE.parent=this.BOOLEAN;this.FALSE.parent=this.BOOLEAN;this.NUMBER_ZERO.parent=this.NUMBER;this.NUMBER_ONE.parent=this.NUMBER;this.STRING_EMPTY.parent=this.STRING;this.ast=acorn.parse(this.polyfills_.join("\n"),Interpreter.PARSE_OPTIONS);this.polyfills_=void 0;this.stripLocations_(this.ast);this.stateStack=[{node:this.ast,scope:c,thisExpression:c,done:!1}];this.run();this.value=this.UNDEFINED;this.ast=
a;this.stateStack=[{node:this.ast,scope:c,thisExpression:c,done:!1}]};Interpreter.PARSE_OPTIONS={ecmaVersion:5};Interpreter.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1};Interpreter.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0};Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1};
Interpreter.prototype.appendCode=function(a){var c=this.stateStack[this.stateStack.length-1];if(!c||"Program"!=c.node.type)throw Error("Expecting original AST to start with a Program node.");"string"==typeof a&&(a=acorn.parse(a,Interpreter.PARSE_OPTIONS));if(!a||"Program"!=a.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(a,c.scope);for(var e=0,m;m=a.body[e];e++)c.node.body.push(m);c.done=!1};
Interpreter.prototype.step=function(){var a=this.stateStack[0];if(!a||"Program"==a.node.type&&a.done)return!1;if(this.paused_)return!0;this["step"+a.node.type]();return a.node.end?!0:this.step()};Interpreter.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_};
Interpreter.prototype.initGlobalScope=function(a){this.setProperty(a,"Infinity",this.createPrimitive(Infinity),Interpreter.READONLY_DESCRIPTOR);this.setProperty(a,"NaN",this.NAN,Interpreter.READONLY_DESCRIPTOR);this.setProperty(a,"undefined",this.UNDEFINED,Interpreter.READONLY_DESCRIPTOR);this.setProperty(a,"window",a,Interpreter.READONLY_DESCRIPTOR);this.setProperty(a,"self",a);this.initFunction(a);this.initObject(a);a.parent=this.OBJECT;this.initArray(a);this.initNumber(a);this.initString(a);this.initBoolean(a);
this.initDate(a);this.initMath(a);this.initRegExp(a);this.initJSON(a);this.initError(a);var c=this;var e=function(a){a=a||c.UNDEFINED;return c.createPrimitive(isNaN(a.toNumber()))};this.setProperty(a,"isNaN",this.createNativeFunction(e));e=function(a){a=a||c.UNDEFINED;return c.createPrimitive(isFinite(a.toNumber()))};this.setProperty(a,"isFinite",this.createNativeFunction(e));this.setProperty(a,"parseFloat",this.getProperty(this.NUMBER,"parseFloat"));this.setProperty(a,"parseInt",this.getProperty(this.NUMBER,
"parseInt"));e=this.createObject(this.FUNCTION);e.eval=!0;this.setProperty(e,"length",this.NUMBER_ONE,Interpreter.READONLY_DESCRIPTOR);this.setProperty(a,"eval",e);for(var m=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],l=0;l<m.length;l++)e=function(a){return function(e){e=(e||c.UNDEFINED).toString();try{e=a(e)}catch(z){c.throwException(c.URI_ERROR,z.message)}return c.createPrimitive(e)}}(m[l][0]),
this.setProperty(a,m[l][1],this.createNativeFunction(e));this.initFunc_&&this.initFunc_(this,a)};
Interpreter.prototype.initFunction=function(a){var c=this;var e=function(a){for(var e=this.parent==c.FUNCTION?this:c.createObject(c.FUNCTION),f=arguments.length?arguments[arguments.length-1].toString():"",m=[],z=0;z<arguments.length-1;z++)m.push(arguments[z].toString());m=m.join(", ");if(-1!=m.indexOf(")"))throw SyntaxError("Function arg string contains parenthesis");e.parentScope=c.stateStack[c.stateStack.length-1].scope;f=acorn.parse("$ = function("+m+") {"+f+"};",Interpreter.PARSE_OPTIONS);e.node=
f.body[0].expression.right;c.setProperty(e,"length",c.createPrimitive(e.node.length),Interpreter.READONLY_DESCRIPTOR);return e};this.FUNCTION=this.createObject(null);this.setProperty(a,"Function",this.FUNCTION);this.FUNCTION.type="function";this.setProperty(this.FUNCTION,"prototype",this.createObject(null));this.FUNCTION.nativeFunc=e;e=function(a,e){var f=c.stateStack[0];f.func_=this;f.funcThis_=a;f.arguments=[];if(e)if(c.isa(e,c.ARRAY))for(a=0;a<e.length;a++)f.arguments[a]=c.getProperty(e,a);else c.throwException(c.TYPE_ERROR,
"CreateListFromArrayLike called on non-object");f.doneArgs_=!0;f.doneExec_=!1};this.setNativeFunctionPrototype(this.FUNCTION,"apply",e);e=function(a,e){var f=c.stateStack[0];f.func_=this;f.funcThis_=a;f.arguments=[];for(var l=1;l<arguments.length;l++)f.arguments.push(arguments[l]);f.doneArgs_=!0;f.doneExec_=!1};this.setNativeFunctionPrototype(this.FUNCTION,"call",e);e=function(a,e){var f=c.createFunction(this.node,this.parentScope);a&&(f.boundThis_=a);f.boundArgs_=[];for(var l=1;l<arguments.length;l++)f.boundArgs_.push(arguments[l]);
return f};this.setNativeFunctionPrototype(this.FUNCTION,"bind",e);e=function(){return c.createPrimitive(this.toString())};this.setNativeFunctionPrototype(this.FUNCTION,"toString",e);this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(){return c.createPrimitive(this.valueOf())};this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",e);this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR)};
Interpreter.prototype.initObject=function(a){var c=this;var e=function(a){if(!a||a==c.UNDEFINED||a==c.NULL)return this.parent==c.OBJECT?this:c.createObject(c.OBJECT);if(a.isPrimitive){var e=c.createObject(a.parent);e.data=a.data;return e}return a};this.OBJECT=this.createNativeFunction(e);this.setProperty(a,"Object",this.OBJECT);e=function(a){var e=c.createObject(c.ARRAY),f=0,m;for(m in a.properties)c.setProperty(e,f,c.createPrimitive(m)),f++;return e};this.setProperty(this.OBJECT,"getOwnPropertyNames",
this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a){var e=c.createObject(c.ARRAY),f=0,m;for(m in a.properties)a.notEnumerable[m]||(c.setProperty(e,f,c.createPrimitive(m)),f++);return e};this.setProperty(this.OBJECT,"keys",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a,e,f){e=(e||c.UNDEFINED).toString();if(f instanceof Interpreter.Object)if(!a.properties[e]&&a.preventExtensions)c.throwException(c.TYPE_ERROR,"Can't define property "+e+", object is not extensible");
else{var l=c.getProperty(f,"value");l==c.UNDEFINED&&(l=null);var m=c.getProperty(f,"get"),B=c.getProperty(f,"set");f={configurable:c.pseudoToNative(c.getProperty(f,"configurable")),enumerable:c.pseudoToNative(c.getProperty(f,"enumerable")),writable:c.pseudoToNative(c.getProperty(f,"writable")),get:m==c.UNDEFINED?void 0:m,set:B==c.UNDEFINED?void 0:B};c.setProperty(a,e,l,f);return a}else c.throwException(c.TYPE_ERROR,"Property description must be an object.")};this.setProperty(this.OBJECT,"defineProperty",
this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);this.polyfills_.push("Object.defineProperty(Array.prototype, 'defineProperties', {configurable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});","");e=function(a,e){e=(e||c.UNDEFINED).toString();if(!(e in a.properties))return c.UNDEFINED;var f=!a.notConfigurable[e],l=!a.notEnumerable[e],
m=!a.notWritable[e],B=a.getter[e],u=a.setter[e],C=c.createObject(c.OBJECT);c.setProperty(C,"configurable",c.createPrimitive(f));c.setProperty(C,"enumerable",c.createPrimitive(l));B||u?(c.setProperty(C,"getter",B),c.setProperty(C,"setter",u)):(c.setProperty(C,"writable",c.createPrimitive(m)),c.setProperty(C,"value",c.getProperty(a,e)));return C};this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a){return a.parent&&
a.parent.properties&&a.parent.properties.prototype?a.parent.properties.prototype:c.NULL};this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a){return c.createPrimitive(!a.preventExtensions)};this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a){a.isPrimitive||(a.preventExtensions=!0);return a};this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(e),
Interpreter.NONENUMERABLE_DESCRIPTOR);this.setNativeFunctionPrototype(this.OBJECT,"toString",function(){return c.createPrimitive(this.toString())});this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",function(){return c.createPrimitive(this.toString())});this.setNativeFunctionPrototype(this.OBJECT,"valueOf",function(){return c.createPrimitive(this.valueOf())});e=function(a){if(this==c.NULL||this==c.UNDEFINED)c.throwException(c.TYPE_ERROR,"Cannot convert undefined or null to object");else return a=
(a||c.UNDEFINED).toString(),a in this.properties?c.TRUE:c.FALSE};this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",e);e=function(a){a=(a||c.UNDEFINED).toString();a=a in this.properties&&!this.notEnumerable[a];return c.createPrimitive(a)};this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",e);e=function(a){for(;;)if(a.parent&&a.parent.properties&&a.parent.properties.prototype){if(a=a.parent.properties.prototype,a==this)return c.createPrimitive(!0)}else return c.createPrimitive(!1)};
this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",e)};
Interpreter.prototype.initArray=function(a){var c=this,e=function(a,c){a=a?Math.floor(a.toNumber()):c;isNaN(a)&&(a=c);return a};var m=function(a){var e=this.parent==c.ARRAY?this:c.createObject(c.ARRAY),l=arguments[0];if(l&&"number"==l.type)isNaN(c.arrayIndex(l))&&c.throwException(c.RANGE_ERROR,"Invalid array length"),e.length=l.data;else{for(l=0;l<arguments.length;l++)e.properties[l]=arguments[l];e.length=l}return e};this.ARRAY=this.createNativeFunction(m);this.setProperty(a,"Array",this.ARRAY);m=
function(a){return c.createPrimitive(c.isa(a,c.ARRAY))};this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(m),Interpreter.NONENUMERABLE_DESCRIPTOR);m=function(){if(this.length){var a=this.properties[this.length-1];delete this.properties[this.length-1];this.length--}else a=c.UNDEFINED;return a};this.setNativeFunctionPrototype(this.ARRAY,"pop",m);m=function(a){for(var e=0;e<arguments.length;e++)this.properties[this.length]=arguments[e],this.length++;return c.createPrimitive(this.length)};
this.setNativeFunctionPrototype(this.ARRAY,"push",m);m=function(){if(this.length){for(var a=this.properties[0],e=1;e<this.length;e++)this.properties[e-1]=this.properties[e];this.length--;delete this.properties[this.length]}else a=c.UNDEFINED;return a};this.setNativeFunctionPrototype(this.ARRAY,"shift",m);m=function(a){for(var e=this.length-1;0<=e;e--)this.properties[e+arguments.length]=this.properties[e];this.length+=arguments.length;for(e=0;e<arguments.length;e++)this.properties[e]=arguments[e];
return c.createPrimitive(this.length)};this.setNativeFunctionPrototype(this.ARRAY,"unshift",m);m=function(){for(var a=0;a<this.length/2;a++){var c=this.properties[this.length-a-1];this.properties[this.length-a-1]=this.properties[a];this.properties[a]=c}return this};this.setNativeFunctionPrototype(this.ARRAY,"reverse",m);m=function(a,f,m){a=e(a,0);a=0>a?Math.max(this.length+a,0):Math.min(a,this.length);f=e(f,Infinity);f=Math.min(f,this.length-a);for(var l=c.createObject(c.ARRAY),q=a;q<a+f;q++)l.properties[l.length++]=
this.properties[q],this.properties[q]=this.properties[q+f];for(q=a+f;q<this.length-f;q++)this.properties[q]=this.properties[q+f];for(q=this.length-f;q<this.length;q++)delete this.properties[q];this.length-=f;for(q=this.length-1;q>=a;q--)this.properties[q+arguments.length-2]=this.properties[q];this.length+=arguments.length-2;for(q=2;q<arguments.length;q++)this.properties[a+q-2]=arguments[q];return l};this.setNativeFunctionPrototype(this.ARRAY,"splice",m);m=function(a,f){var l=c.createObject(c.ARRAY),
m=e(a,0);0>m&&(m=this.length+m);m=Math.max(0,Math.min(m,this.length));f=e(f,this.length);0>f&&(f=this.length+f);f=Math.max(0,Math.min(f,this.length));for(a=0;m<f;m++){var B=c.getProperty(this,m);c.setProperty(l,a++,B)}return l};this.setNativeFunctionPrototype(this.ARRAY,"slice",m);m=function(a){a=a&&void 0!==a.data?a.toString():void 0;for(var e=[],l=0;l<this.length;l++)e[l]=this.properties[l];return c.createPrimitive(e.join(a))};this.setNativeFunctionPrototype(this.ARRAY,"join",m);m=function(a){for(var e=
c.createObject(c.ARRAY),l=0,m=0;m<this.length;m++){var B=c.getProperty(this,m);c.setProperty(e,l++,B)}for(m=0;m<arguments.length;m++){var u=arguments[m];if(c.isa(u,c.ARRAY))for(var C=0;C<u.length;C++)B=c.getProperty(u,C),c.setProperty(e,l++,B);else c.setProperty(e,l++,u)}return e};this.setNativeFunctionPrototype(this.ARRAY,"concat",m);m=function(a,f){a=a||c.UNDEFINED;f=e(f,0);0>f&&(f=this.length+f);for(f=Math.max(0,f);f<this.length;f++){var l=c.getProperty(this,f);if(l.isPrimitive&&a.isPrimitive?
l.data===a.data:l===a)return c.createPrimitive(f)}return c.createPrimitive(-1)};this.setNativeFunctionPrototype(this.ARRAY,"indexOf",m);m=function(a,f){a=a||c.UNDEFINED;f=e(f,this.length);0>f&&(f=this.length+f);for(f=Math.min(f,this.length-1);0<=f;f--){var l=c.getProperty(this,f);if(l.isPrimitive&&a.isPrimitive?l.data===a.data:l===a)return c.createPrimitive(f)}return c.createPrimitive(-1)};this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",m);this.polyfills_.push("Object.defineProperty(Array.prototype, 'every', {configurable: true, value:",
"function(callbackfn, thisArg) {","if (this == null || typeof callbackfn !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw new TypeError;",
"var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var T, k;","var O = Object(this);",
"var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);",
"k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce', {configurable: true, value:","function(callback /*, initialValue*/) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length == 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k++];",
"}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight', {configurable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;",
"if (k < 0) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this == null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;",
"for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort', {configurable: true, value:","function(opt_comp) {","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ?opt_comp(this[j], this[j + 1]) > 0 : this[j] > this[j + 1]) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;",
"}","}","if (changes <= 1) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString', {configurable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")};
Interpreter.prototype.initNumber=function(a){var c=this;var e=function(a){a=a?a.toNumber():0;if(this.parent!=c.NUMBER)return c.createPrimitive(a);this.data=a;return this};this.NUMBER=this.createNativeFunction(e);this.setProperty(a,"Number",this.NUMBER);a=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"];for(e=0;e<a.length;e++)this.setProperty(this.NUMBER,a[e],this.createPrimitive(Number[a[e]]));e=function(a){a=a||c.UNDEFINED;return c.createPrimitive(parseFloat(a.toString()))};
this.setProperty(this.NUMBER,"parseFloat",this.createNativeFunction(e));e=function(a,e){a=a||c.UNDEFINED;e=e||c.UNDEFINED;return c.createPrimitive(parseInt(a.toString(),e.toNumber()))};this.setProperty(this.NUMBER,"parseInt",this.createNativeFunction(e));e=function(a){a=a?a.toNumber():void 0;var e=this.toNumber();return c.createPrimitive(e.toExponential(a))};this.setNativeFunctionPrototype(this.NUMBER,"toExponential",e);e=function(a){a=a?a.toNumber():void 0;var e=this.toNumber();return c.createPrimitive(e.toFixed(a))};
this.setNativeFunctionPrototype(this.NUMBER,"toFixed",e);e=function(a){a=a?a.toNumber():void 0;var e=this.toNumber();return c.createPrimitive(e.toPrecision(a))};this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",e);e=function(a){a=a?a.toNumber():10;var e=this.toNumber();return c.createPrimitive(e.toString(a))};this.setNativeFunctionPrototype(this.NUMBER,"toString",e);e=function(a,e){a=a?c.pseudoToNative(a):void 0;e=e?c.pseudoToNative(e):void 0;return c.createPrimitive(this.toNumber().toLocaleString(a,
e))};this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",e)};
Interpreter.prototype.initString=function(a){var c=this;var e=function(a){a=a?a.toString():"";if(this.parent!=c.STRING)return c.createPrimitive(a);this.data=a;return this};this.STRING=this.createNativeFunction(e);this.setProperty(a,"String",this.STRING);e=function(a){for(var e=0;e<arguments.length;e++)arguments[e]=arguments[e].toNumber();return c.createPrimitive(String.fromCharCode.apply(String,arguments))};this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);
a=["toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase"];for(var m=0;m<a.length;m++)e=function(a){return function(){return c.createPrimitive(a.apply(this))}}(String.prototype[a[m]]),this.setNativeFunctionPrototype(this.STRING,a[m],e);this.setNativeFunctionPrototype(this.STRING,"trim",function(){return c.createPrimitive(this.toString().replace(/^\s+|\s+$/g,""))});this.setNativeFunctionPrototype(this.STRING,"trimLeft",function(){return c.createPrimitive(this.toString().replace(/^\s+/g,
""))});this.setNativeFunctionPrototype(this.STRING,"trimRight",function(){return c.createPrimitive(this.toString().replace(/\s+$/g,""))});a=["charAt","charCodeAt","substring","slice","substr"];for(m=0;m<a.length;m++)e=function(a){return function(){for(var e=0;e<arguments.length;e++)arguments[e]=arguments[e].toNumber();return c.createPrimitive(a.apply(this,arguments))}}(String.prototype[a[m]]),this.setNativeFunctionPrototype(this.STRING,a[m],e);e=function(a,e){var f=this.toString();a=(a||c.UNDEFINED).toString();
e=e?e.toNumber():void 0;return c.createPrimitive(f.indexOf(a,e))};this.setNativeFunctionPrototype(this.STRING,"indexOf",e);e=function(a,e){var f=this.toString();a=(a||c.UNDEFINED).toString();e=e?e.toNumber():void 0;return c.createPrimitive(f.lastIndexOf(a,e))};this.setNativeFunctionPrototype(this.STRING,"lastIndexOf",e);e=function(a,e,m){a=(a||c.UNDEFINED).toString();e=e?c.pseudoToNative(e):void 0;m=m?c.pseudoToNative(m):void 0;return c.createPrimitive(this.toString().localeCompare(a,e,m))};this.setNativeFunctionPrototype(this.STRING,
"localeCompare",e);e=function(a,e){var f=this.toString();a=a?c.isa(a,c.REGEXP)?a.data:a.toString():void 0;e=e?e.toNumber():void 0;a=f.split(a,e);e=c.createObject(c.ARRAY);for(f=0;f<a.length;f++)c.setProperty(e,f,c.createPrimitive(a[f]));return e};this.setNativeFunctionPrototype(this.STRING,"split",e);e=function(a){for(var e=this.toString(),l=0;l<arguments.length;l++)e+=arguments[l].toString();return c.createPrimitive(e)};this.setNativeFunctionPrototype(this.STRING,"concat",e);e=function(a){var e=
this.toString();a=a?a.data:void 0;a=e.match(a);if(null===a)return c.NULL;e=c.createObject(c.ARRAY);for(var l=0;l<a.length;l++)c.setProperty(e,l,c.createPrimitive(a[l]));return e};this.setNativeFunctionPrototype(this.STRING,"match",e);e=function(a){var e=this.toString();a=a?a.data:void 0;return c.createPrimitive(e.search(a))};this.setNativeFunctionPrototype(this.STRING,"search",e);e=function(a,e){var f=this.toString();a=(a||c.UNDEFINED).valueOf();e=(e||c.UNDEFINED).toString();return c.createPrimitive(f.replace(a,
e))};this.setNativeFunctionPrototype(this.STRING,"replace",e)};Interpreter.prototype.initBoolean=function(a){var c=this;this.BOOLEAN=this.createNativeFunction(function(a){a=a?a.toBoolean():!1;if(this.parent!=c.BOOLEAN)return c.createPrimitive(a);this.data=a;return this});this.setProperty(a,"Boolean",this.BOOLEAN)};
Interpreter.prototype.initDate=function(a){var c=this;var e=function(a,e,m,z,B,u,C){if(this.parent==c.DATE)var f=this;else return c.createPrimitive(Date());if(arguments.length)if(1!=arguments.length||"string"!=a.type&&!c.isa(a,c.STRING)){for(var l=[null],b=0;b<arguments.length;b++)l[b+1]=arguments[b]?arguments[b].toNumber():void 0;f.data=new (Function.prototype.bind.apply(Date,l))}else f.data=new Date(a.toString());else f.data=new Date;return f};this.DATE=this.createNativeFunction(e);this.setProperty(a,
"Date",this.DATE);this.setProperty(this.DATE,"now",this.createNativeFunction(function(){return c.createPrimitive((new Date).getTime())}),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a){a=a?a.toString():void 0;return c.createPrimitive(Date.parse(a))};this.setProperty(this.DATE,"parse",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);e=function(a,e,m,z,B,u,C){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l]?arguments[l].toNumber():void 0;return c.createPrimitive(Date.UTC.apply(Date,
f))};this.setProperty(this.DATE,"UTC",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR);a="getDate getDay getFullYear getHours getMilliseconds getMinutes getMonth getSeconds getTime getTimezoneOffset getUTCDate getUTCDay getUTCFullYear getUTCHours getUTCMilliseconds getUTCMinutes getUTCMonth getUTCSeconds getYear setDate setFullYear setHours setMilliseconds setMinutes setMonth setSeconds setTime setUTCDate setUTCFullYear setUTCHours setUTCMilliseconds setUTCMinutes setUTCMonth setUTCSeconds setYear toDateString toISOString toJSON toGMTString toLocaleDateString toLocaleString toLocaleTimeString toTimeString toUTCString".split(" ");
for(var m=0;m<a.length;m++)e=function(a){return function(e){for(var f=[],l=0;l<arguments.length;l++)f[l]=c.pseudoToNative(arguments[l]);return c.createPrimitive(this.data[a].apply(this.data,f))}}(a[m]),this.setNativeFunctionPrototype(this.DATE,a[m],e)};
Interpreter.prototype.initMath=function(a){var c=this,e=this.createObject(this.OBJECT);this.setProperty(a,"Math",e);var m="E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2".split(" ");for(a=0;a<m.length;a++)this.setProperty(e,m[a],this.createPrimitive(Math[m[a]]),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);m="abs acos asin atan atan2 ceil cos exp floor log max min pow random round sin sqrt tan".split(" ");for(a=0;a<m.length;a++){var l=function(a){return function(){for(var e=0;e<arguments.length;e++)arguments[e]=
arguments[e].toNumber();return c.createPrimitive(a.apply(Math,arguments))}}(Math[m[a]]);this.setProperty(e,m[a],this.createNativeFunction(l),Interpreter.NONENUMERABLE_DESCRIPTOR)}};
Interpreter.prototype.initRegExp=function(a){var c=this;var e=function(a,e){var f=this.parent==c.REGEXP?this:c.createObject(c.REGEXP);a=a?a.toString():"";e=e?e.toString():"";return c.populateRegExp_(f,new RegExp(a,e))};this.REGEXP=this.createNativeFunction(e);this.setProperty(a,"RegExp",this.REGEXP);this.setProperty(this.REGEXP.properties.prototype,"global",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);
this.setProperty(this.REGEXP.properties.prototype,"multiline",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(this.REGEXP.properties.prototype,"source",this.createPrimitive("(?:)"),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);e=function(a){a=a.toString();return c.createPrimitive(this.data.test(a))};this.setNativeFunctionPrototype(this.REGEXP,"test",e);e=function(a){a=a.toString();this.data.lastIndex=c.getProperty(this,"lastIndex").toNumber();a=this.data.exec(a);c.setProperty(this,
"lastIndex",c.createPrimitive(this.data.lastIndex));if(a){for(var e=c.createObject(c.ARRAY),f=0;f<a.length;f++)c.setProperty(e,f,c.createPrimitive(a[f]));c.setProperty(e,"index",c.createPrimitive(a.index));c.setProperty(e,"input",c.createPrimitive(a.input));return e}return c.NULL};this.setNativeFunctionPrototype(this.REGEXP,"exec",e)};
Interpreter.prototype.initJSON=function(a){var c=this,e=c.createObject(this.OBJECT);this.setProperty(a,"JSON",e);a=function(a){try{var e=JSON.parse(a.toString())}catch(f){c.throwException(c.SYNTAX_ERROR,f.message);return}return c.nativeToPseudo(e)};this.setProperty(e,"parse",this.createNativeFunction(a));a=function(a){a=c.pseudoToNative(a);return c.createPrimitive(JSON.stringify(a))};this.setProperty(e,"stringify",this.createNativeFunction(a))};
Interpreter.prototype.initError=function(a){var c=this;this.ERROR=this.createNativeFunction(function(a){var e=this.parent==c.ERROR?this:c.createObject(c.ERROR);a&&c.setProperty(e,"message",c.createPrimitive(String(a)),Interpreter.NONENUMERABLE_DESCRIPTOR);return e});this.setProperty(a,"Error",this.ERROR);this.setProperty(this.ERROR.properties.prototype,"message",this.STRING_EMPTY,Interpreter.NONENUMERABLE_DESCRIPTOR);this.setProperty(this.ERROR.properties.prototype,"name",this.createPrimitive("Error"),
Interpreter.NONENUMERABLE_DESCRIPTOR);var e=function(e){var l=c.createNativeFunction(function(a){var e=c.isa(this.parent,c.ERROR)?this:c.createObject(l);a&&c.setProperty(e,"message",c.createPrimitive(String(a)),Interpreter.NONENUMERABLE_DESCRIPTOR);return e});c.setProperty(l,"prototype",c.createObject(c.ERROR));c.setProperty(l.properties.prototype,"name",c.createPrimitive(e),Interpreter.NONENUMERABLE_DESCRIPTOR);c.setProperty(a,e,l);return l};e("EvalError");this.RANGE_ERROR=e("RangeError");this.REFERENCE_ERROR=
e("ReferenceError");this.SYNTAX_ERROR=e("SyntaxError");this.TYPE_ERROR=e("TypeError");this.URI_ERROR=e("URIError")};Interpreter.prototype.isa=function(a,c){if(!a||!c)return!1;for(;a.parent!=c;){if(!a.parent||!a.parent.properties.prototype)return!1;a=a.parent.properties.prototype}return!0};
Interpreter.prototype.comp=function(a,c){if(a.isPrimitive&&isNaN(a.data)||c.isPrimitive&&isNaN(c.data))return NaN;if(a===c)return 0;a=a.isPrimitive?a.data:a.toString();c=c.isPrimitive?c.data:c.toString();return a<c?-1:a>c?1:0};Interpreter.prototype.arrayIndex=function(a){a=Number(a);return!isFinite(a)||a!=Math.floor(a)||0>a?NaN:a};
Interpreter.Primitive=function(a,c){var e=typeof a;this.data=a;this.type=e;"number"==e?this.parent=c.NUMBER:"string"==e?this.parent=c.STRING:"boolean"==e&&(this.parent=c.BOOLEAN)};Interpreter.Primitive.prototype.data=void 0;Interpreter.Primitive.prototype.type="undefined";Interpreter.Primitive.prototype.parent=null;Interpreter.Primitive.prototype.isPrimitive=!0;Interpreter.Primitive.prototype.toBoolean=function(){return!!this.data};Interpreter.Primitive.prototype.toNumber=function(){return Number(this.data)};
Interpreter.Primitive.prototype.toString=function(){return String(this.data)};Interpreter.Primitive.prototype.valueOf=function(){return this.data};Interpreter.prototype.createPrimitive=function(a){return void 0===a?this.UNDEFINED:null===a?this.NULL:!0===a?this.TRUE:!1===a?this.FALSE:0===a?this.NUMBER_ZERO:1===a?this.NUMBER_ONE:""===a?this.STRING_EMPTY:a instanceof RegExp?this.populateRegExp_(this.createObject(this.REGEXP),a):new Interpreter.Primitive(a,this)};
Interpreter.Object=function(a){this.notConfigurable=Object.create(null);this.notEnumerable=Object.create(null);this.notWritable=Object.create(null);this.getter=Object.create(null);this.setter=Object.create(null);this.properties=Object.create(null);this.parent=a};Interpreter.Object.prototype.type="object";Interpreter.Object.prototype.parent=null;Interpreter.Object.prototype.isPrimitive=!1;Interpreter.Object.prototype.data=void 0;Interpreter.Object.prototype.toBoolean=function(){return!0};
Interpreter.Object.prototype.toNumber=function(){return Number(void 0===this.data?this.toString():this.data)};Interpreter.Object.prototype.toString=function(){return void 0===this.data?"["+this.type+"]":String(this.data)};Interpreter.Object.prototype.valueOf=function(){return void 0===this.data?this:this.data};
Interpreter.prototype.createObject=function(a){a=new Interpreter.Object(a);this.isa(a,this.FUNCTION)&&(a.type="function",this.setProperty(a,"prototype",this.createObject(this.OBJECT||null)));this.isa(a,this.ARRAY)&&(a.length=0,a.toString=function(){for(var a=[],e=0;e<this.length;e++){var m=this.properties[e];a[e]=!m||m.isPrimitive&&(null===m.data||void 0===m.data)?"":m.toString()}return a.join(",")});return a};
Interpreter.prototype.populateRegExp_=function(a,c){a.data=c;this.setProperty(a,"lastIndex",this.createPrimitive(c.lastIndex),Interpreter.NONENUMERABLE_DESCRIPTOR);this.setProperty(a,"source",this.createPrimitive(c.source),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(a,"global",this.createPrimitive(c.global),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(a,"ignoreCase",this.createPrimitive(c.ignoreCase),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);this.setProperty(a,
"multiline",this.createPrimitive(c.multiline),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);a.toString=function(){return String(this.data)};a.valueOf=function(){return this.data};return a};Interpreter.prototype.createFunction=function(a,c){var e=this.createObject(this.FUNCTION);e.parentScope=c||this.getScope();e.node=a;this.setProperty(e,"length",this.createPrimitive(e.node.params.length),Interpreter.READONLY_DESCRIPTOR);return e};
Interpreter.prototype.createNativeFunction=function(a){var c=this.createObject(this.FUNCTION);c.nativeFunc=a;this.setProperty(c,"length",this.createPrimitive(a.length),Interpreter.READONLY_DESCRIPTOR);return c};Interpreter.prototype.createAsyncFunction=function(a){var c=this.createObject(this.FUNCTION);c.asyncFunc=a;this.setProperty(c,"length",this.createPrimitive(a.length),Interpreter.READONLY_DESCRIPTOR);return c};
Interpreter.prototype.nativeToPseudo=function(a){if("boolean"==typeof a||"number"==typeof a||"string"==typeof a||null===a||void 0===a||a instanceof RegExp)return this.createPrimitive(a);if(a instanceof Array){var c=this.createObject(this.ARRAY);for(var e=0;e<a.length;e++)this.setProperty(c,e,this.nativeToPseudo(a[e]))}else for(e in c=this.createObject(this.OBJECT),a)this.setProperty(c,e,this.nativeToPseudo(a[e]));return c};
Interpreter.prototype.pseudoToNative=function(a){if(a.isPrimitive||this.isa(a,this.NUMBER)||this.isa(a,this.STRING)||this.isa(a,this.BOOLEAN))return a.data;if(this.isa(a,this.ARRAY)){var c=[];for(var e=0;e<a.length;e++)c[e]=this.pseudoToNative(a.properties[e])}else for(e in c={},a.properties)c[e]=this.pseudoToNative(a.properties[e]);return c};
Interpreter.prototype.getProperty=function(a,c){c=c.toString();if(a==this.UNDEFINED||a==this.NULL)return this.throwException(this.TYPE_ERROR,"Cannot read property '"+c+"' of "+a),null;if(this.isa(a,this.STRING)){if("length"==c)return this.createPrimitive(a.data.length);var e=this.arrayIndex(c);if(!isNaN(e)&&e<a.data.length)return this.createPrimitive(a.data[e])}else if(this.isa(a,this.ARRAY)&&"length"==c)return this.createPrimitive(a.length);for(;;){if(a.properties&&c in a.properties)return(e=a.getter[c])?
(e.isGetter=!0,e):a.properties[c];if(a.parent&&a.parent.properties&&a.parent.properties.prototype)a=a.parent.properties.prototype;else break}return this.UNDEFINED};
Interpreter.prototype.hasProperty=function(a,c){c=c.toString();if(a.isPrimitive)throw TypeError("Primitive data type has no properties");if("length"==c&&(this.isa(a,this.STRING)||this.isa(a,this.ARRAY)))return!0;if(this.isa(a,this.STRING)){var e=this.arrayIndex(c);if(!isNaN(e)&&e<a.data.length)return!0}for(;;){if(a.properties&&c in a.properties)return!0;if(a.parent&&a.parent.properties&&a.parent.properties.prototype)a=a.parent.properties.prototype;else break}return!1};
Interpreter.prototype.setProperty=function(a,c,e,m){c=c.toString();m&&a.notConfigurable[c]&&this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+c);if("object"!=typeof e)throw Error("Failure to wrap a value: "+e);a!=this.UNDEFINED&&a!=this.NULL||this.throwException(this.TYPE_ERROR,"Cannot set property '"+c+"' of "+a);m&&(m.get||m.set)&&(e||void 0!==m.writable)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");
if(!a.isPrimitive){if(this.isa(a,this.STRING)){var l=this.arrayIndex(c);if("length"==c||!isNaN(l)&&l<a.data.length)return}if(this.isa(a,this.ARRAY)){if("length"==c){c=this.arrayIndex(e.toNumber());isNaN(c)&&this.throwException(this.RANGE_ERROR,"Invalid array length");if(c<a.length)for(f in a.properties){var f=this.arrayIndex(f);!isNaN(f)&&c<=f&&delete a.properties[f]}a.length=c;return}isNaN(f=this.arrayIndex(c))||(a.length=Math.max(a.length,f+1))}if(!a.properties[c]&&a.preventExtensions)a=this.getScope(),
a.strict&&this.throwException(this.TYPE_ERROR,"Can't add property "+c+", object is not extensible");else if(m)a.properties[c]=e,m.configurable||(a.notConfigurable[c]=!0),(e=m.get)?a.getter[c]=e:delete a.getter[c],(f=m.set)?a.setter[c]=f:delete a.setter[c],m.enumerable?delete a.notEnumerable[c]:a.notEnumerable[c]=!0,e||f?(delete a.notWritable[c],a.properties[c]=this.UNDEFINED):m.writable?delete a.notWritable[c]:a.notWritable[c]=!0;else{for(m=a;;){if(m.setter&&m.setter[c])return m.setter[c];if(m.parent&&
m.parent.properties&&m.parent.properties.prototype)m=m.parent.properties.prototype;else break}a.notWritable[c]||(a.properties[c]=e)}}};Interpreter.prototype.setNativeFunctionPrototype=function(a,c,e){this.setProperty(a.properties.prototype,c,this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR)};Interpreter.prototype.deleteProperty=function(a,c){c=c.toString();return a.isPrimitive||a.notWritable[c]||"length"==c&&this.isa(a,this.ARRAY)?!1:delete a.properties[c]};
Interpreter.prototype.getScope=function(){for(var a=0;a<this.stateStack.length;a++)if(this.stateStack[a].scope)return this.stateStack[a].scope;throw Error("No scope found.");};Interpreter.prototype.createScope=function(a,c){var e=this.createObject(null);(e.parentScope=c)||this.initGlobalScope(e);this.populateScope_(a,e);e.strict=!1;c&&c.strict?e.strict=!0:(a=a.body&&a.body[0])&&a.expression&&"Literal"==a.expression.type&&"use strict"==a.expression.value&&(e.strict=!0);return e};
Interpreter.prototype.createSpecialScope=function(a,c){if(!a)throw Error("parentScope required");c=c||this.createObject(null);c.parentScope=a;c.strict=a.strict;return c};Interpreter.prototype.getValueFromScope=function(a){var c=this.getScope();for(a=a.toString();c;){if(a in c.properties)return c.properties[a];c=c.parentScope}this.throwException(this.REFERENCE_ERROR,a+" is not defined");return null};
Interpreter.prototype.setValueToScope=function(a,c){var e=this.getScope(),m=e.strict;for(a=a.toString();e;){if(a in e.properties||!m&&!e.parentScope){e.notWritable[a]||(e.properties[a]=c);return}e=e.parentScope}this.throwException(this.REFERENCE_ERROR,a+" is not defined")};
Interpreter.prototype.populateScope_=function(a,c){if("VariableDeclaration"==a.type)for(var e=0;e<a.declarations.length;e++)this.setProperty(c,a.declarations[e].id.name,this.UNDEFINED);else{if("FunctionDeclaration"==a.type){this.setProperty(c,a.id.name,this.createFunction(a,c));return}if("FunctionExpression"==a.type)return}var m=a.constructor,l;for(l in a){var f=a[l];if(f&&"object"==typeof f)if(f instanceof Array)for(e=0;e<f.length;e++)f[e]&&f[e].constructor==m&&this.populateScope_(f[e],c);else f.constructor==
m&&this.populateScope_(f,c)}};Interpreter.prototype.stripLocations_=function(a){delete a.start;delete a.end;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];e&&"object"==typeof e&&this.stripLocations_(e)}};Interpreter.prototype.getValue=function(a){if(a instanceof Array){var c=a[0];a=a[1];return this.getProperty(c,a)}return this.getValueFromScope(a)};Interpreter.prototype.setValue=function(a,c){if(a instanceof Array){var e=a[0];a=a[1];return this.setProperty(e,a,c)}this.setValueToScope(a,c)};
Interpreter.prototype.throwException=function(a,c){if(this.stateStack[0].interpreter)try{this.stateStack[0].interpreter.throwException(a,c);return}catch(e){}void 0!==c&&(a=this.createObject(a),this.setProperty(a,"message",this.createPrimitive(c),Interpreter.NONENUMERABLE_DESCRIPTOR));this.executeException(a)};
Interpreter.prototype.executeException=function(a){do{this.stateStack.shift();var c=this.stateStack[0];if("TryStatement"==c.node.type){c.throwValue=a;return}}while(c&&"Program"!=c.node.type);if(this.isa(a,this.ERROR)){c={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError};var e=this.getProperty(a,"name").toString();a=this.getProperty(a,"message").valueOf();c=c[e]||Error;a=c(a)}else a=a.toString();throw a;};
Interpreter.prototype.stepArrayExpression=function(){var a=this.stateStack[0],c=a.node,e=a.n||0;a.array?a.value&&this.setProperty(a.array,e-1,a.value):a.array=this.createObject(this.ARRAY);e<c.elements.length?(a.n=e+1,c.elements[e]?this.stateStack.unshift({node:c.elements[e]}):a.value=void 0):(a.array.length=a.n||0,this.stateStack.shift(),this.stateStack[0].value=a.array)};
Interpreter.prototype.stepAssignmentExpression=function(){var a=this.stateStack[0],c=a.node;if(a.doneLeft)if(a.doneRight)if(a.doneSetter_)this.stateStack.shift(),this.stateStack[0].value=a.doneSetter_;else{var e=a.value;if("="==c.operator)c=e;else{var m=a.leftValue.toNumber(),l=e.toNumber();if("+="==c.operator)"string"==a.leftValue.type||"string"==e.type?(c=a.leftValue.toString(),e=e.toString()):(c=m,e=l),c+=e;else if("-="==c.operator)c=m-l;else if("*="==c.operator)c=m*l;else if("/="==c.operator)c=
m/l;else if("%="==c.operator)c=m%l;else if("<<="==c.operator)c=m<<l;else if(">>="==c.operator)c=m>>l;else if(">>>="==c.operator)c=m>>>l;else if("&="==c.operator)c=m&l;else if("^="==c.operator)c=m^l;else if("|="==c.operator)c=m|l;else throw SyntaxError("Unknown assignment expression: "+c.operator);c=this.createPrimitive(c)}(e=this.setValue(a.leftSide,c))?(a.doneSetter_=c,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:e,doneArgs_:!0,arguments:[c]})):
(this.stateStack.shift(),this.stateStack[0].value=c)}else a.leftSide||(a.leftSide=a.value),a.doneGetter_&&(a.leftValue=a.value),!a.doneGetter_&&"="!=c.operator&&(a.leftValue=this.getValue(a.leftSide),a.leftValue.isGetter)?(a.leftValue.isGetter=!1,a.doneGetter_=!0,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:a.leftValue,doneArgs_:!0,arguments:[]})):(a.doneRight=!0,this.stateStack.unshift({node:c.right}));else a.doneLeft=!0,this.stateStack.unshift({node:c.left,
components:!0})};
Interpreter.prototype.stepBinaryExpression=function(){var a=this.stateStack[0],c=a.node;if(a.doneLeft)if(a.doneRight){this.stateStack.shift();var e=a.leftValue;a=a.value;var m=this.comp(e,a);if("=="==c.operator||"!="==c.operator)e=e.isPrimitive&&a.isPrimitive?e.data==a.data:0===m,"!="==c.operator&&(e=!e);else if("==="==c.operator||"!=="==c.operator)e=e.isPrimitive&&a.isPrimitive?e.data===a.data:e===a,"!=="==c.operator&&(e=!e);else if(">"==c.operator)e=1==m;else if(">="==c.operator)e=1==m||0===m;else if("<"==
c.operator)e=-1==m;else if("<="==c.operator)e=-1==m||0===m;else if("+"==c.operator)e=e.isPrimitive?e.data:e.toString(),a=a.isPrimitive?a.data:a.toString(),e+=a;else if("in"==c.operator)e=this.hasProperty(a,e);else if("instanceof"==c.operator)this.isa(a,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Expecting a function in instanceof check"),e=this.isa(e,a);else if(e=e.toNumber(),a=a.toNumber(),"-"==c.operator)e-=a;else if("*"==c.operator)e*=a;else if("/"==c.operator)e/=a;else if("%"==c.operator)e%=
a;else if("&"==c.operator)e&=a;else if("|"==c.operator)e|=a;else if("^"==c.operator)e^=a;else if("<<"==c.operator)e<<=a;else if(">>"==c.operator)e>>=a;else if(">>>"==c.operator)e>>>=a;else throw SyntaxError("Unknown binary operator: "+c.operator);this.stateStack[0].value=this.createPrimitive(e)}else a.doneRight=!0,a.leftValue=a.value,this.stateStack.unshift({node:c.right});else a.doneLeft=!0,this.stateStack.unshift({node:c.left})};
Interpreter.prototype.stepBlockStatement=function(){var a=this.stateStack[0],c=a.node,e=a.n_||0;c.body[e]?(a.done=!1,a.n_=e+1,this.stateStack.unshift({node:c.body[e]})):(a.done=!0,"Program"!=a.node.type&&this.stateStack.shift())};
Interpreter.prototype.stepBreakStatement=function(){var a=this.stateStack.shift();a=a.node;var c=null;a.label&&(c=a.label.name);for(a=this.stateStack.shift();a&&"CallExpression"!=a.node.type&&"NewExpression"!=a.node.type;){if(c?c==a.label:a.isLoop||a.isSwitch)return;a=this.stateStack.shift()}throw SyntaxError("Illegal break statement");};
Interpreter.prototype.stepCallExpression=function(){var a=this.stateStack[0],c=a.node;if(a.doneCallee_){if(!a.func_){if("function"==a.value.type)a.func_=a.value;else{a.value.length&&(a.member_=a.value[0]);a.func_=this.getValue(a.value);if(!a.func_)return;if("function"!=a.func_.type){this.throwException(this.TYPE_ERROR,(a.value&&a.value.type)+" is not a function");return}}"NewExpression"==a.node.type?(a.funcThis_=this.createObject(a.func_),a.isConstructor_=!0):a.funcThis_=a.func_.boundThis_?a.func_.boundThis_:
a.value.length?a.value[0]:this.stateStack[this.stateStack.length-1].thisExpression;a.arguments=a.func_.boundArgs_?a.func_.boundArgs_.concat():[];a.n_=0}if(!a.doneArgs_){0!=a.n_&&a.arguments.push(a.value);if(c.arguments[a.n_]){this.stateStack.unshift({node:c.arguments[a.n_]});a.n_++;return}a.doneArgs_=!0}if(a.doneExec_)this.stateStack.shift(),this.stateStack[0].value=a.isConstructor_&&"object"!==a.value.type?a.funcThis_:a.value;else if(a.doneExec_=!0,a.func_.node){c=this.createScope(a.func_.node.body,
a.func_.parentScope);for(var e=0;e<a.func_.node.params.length;e++){var m=this.createPrimitive(a.func_.node.params[e].name);this.setProperty(c,m,a.arguments.length>e?a.arguments[e]:this.UNDEFINED)}m=this.createObject(this.ARRAY);for(e=0;e<a.arguments.length;e++)this.setProperty(m,this.createPrimitive(e),a.arguments[e]);this.setProperty(c,"arguments",m);c={node:a.func_.node.body,scope:c,thisExpression:a.funcThis_};this.stateStack.unshift(c);a.value=this.UNDEFINED}else if(a.func_.nativeFunc)a.value=
a.func_.nativeFunc.apply(a.funcThis_,a.arguments);else if(a.func_.asyncFunc){var l=this;c=function(c){a.value=c||l.UNDEFINED;l.paused_=!1};c=a.arguments.concat(c);a.func_.asyncFunc.apply(a.funcThis_,c);this.paused_=!0}else if(a.func_.eval)(c=a.arguments[0])?c.isPrimitive?(c=new Interpreter(c.toString()),c.stateStack[0].scope=this.getScope(),a={node:{type:"Eval_"},interpreter:c},this.stateStack.unshift(a)):a.value=c:a.value=this.UNDEFINED;else throw TypeError("function not a function (huh?)");}else a.doneCallee_=
!0,this.stateStack.unshift({node:c.callee,components:!0})};Interpreter.prototype.stepCatchClause=function(){var a=this.stateStack[0],c=a.node;if(a.doneBody)this.stateStack.shift();else{a.doneBody=!0;if(c.param){var e=this.createSpecialScope(this.getScope());var m=this.createPrimitive(c.param.name);this.setProperty(e,m,a.throwValue)}this.stateStack.unshift({node:c.body,scope:e})}};
Interpreter.prototype.stepConditionalExpression=function(){var a=this.stateStack[0];a.done?(this.stateStack.shift(),"ConditionalExpression"==a.node.type&&(this.stateStack[0].value=a.value)):a.test?(a.done=!0,a.value.toBoolean()&&a.node.consequent?this.stateStack.unshift({node:a.node.consequent}):!a.value.toBoolean()&&a.node.alternate&&this.stateStack.unshift({node:a.node.alternate})):(a.test=!0,this.stateStack.unshift({node:a.node.test}))};
Interpreter.prototype.stepContinueStatement=function(){var a=this.stateStack[0].node,c=null;a.label&&(c=a.label.name);for(a=this.stateStack[0];a&&"CallExpression"!=a.node.type&&"NewExpression"!=a.node.type;){if(a.isLoop&&(!c||c==a.label))return;this.stateStack.shift();a=this.stateStack[0]}throw SyntaxError("Illegal continue statement");};
Interpreter.prototype.stepDoWhileStatement=function(){var a=this.stateStack[0];a.isLoop=!0;"DoWhileStatement"==a.node.type&&void 0===a.test&&(a.value=this.TRUE,a.test=!0);a.test?(a.test=!1,a.value.toBoolean()?a.node.body&&this.stateStack.unshift({node:a.node.body}):this.stateStack.shift()):(a.test=!0,this.stateStack.unshift({node:a.node.test}))};Interpreter.prototype.stepEmptyStatement=function(){this.stateStack.shift()};
Interpreter.prototype.stepEval_=function(){var a=this.stateStack[0];a.interpreter.step()||(this.stateStack.shift(),this.stateStack[0].value=a.interpreter.value||this.UNDEFINED)};Interpreter.prototype.stepExpressionStatement=function(){var a=this.stateStack[0];a.done?(this.stateStack.shift(),this.value=a.value):(a.done=!0,this.stateStack.unshift({node:a.node.expression}))};
Interpreter.prototype.stepForInStatement=function(){var a=this.stateStack[0];a.isLoop=!0;var c=a.node;if(a.doneVariable_)if(a.doneObject_){"undefined"==typeof a.iterator&&(a.object=a.value,a.iterator=0);var e=null;a:do{var m=a.iterator,l;for(l in a.object.properties)if(!a.object.notEnumerable[l]){if(0==m){e=l;break a}m--}a.object=a.object.parent&&a.object.parent.properties.prototype;a.iterator=0}while(a.object);a.iterator++;null===e?this.stateStack.shift():(this.setValueToScope(a.variable,this.createPrimitive(e)),
c.body&&this.stateStack.unshift({node:c.body}))}else a.doneObject_=!0,a.variable=a.value,this.stateStack.unshift({node:c.right});else a.doneVariable_=!0,a=c.left,"VariableDeclaration"==a.type&&(a=a.declarations[0].id),this.stateStack.unshift({node:a,components:!0})};
Interpreter.prototype.stepForStatement=function(){var a=this.stateStack[0];a.isLoop=!0;var c=a.node,e=a.mode||0;0==e?(a.mode=1,c.init&&this.stateStack.unshift({node:c.init})):1==e?(a.mode=2,c.test&&this.stateStack.unshift({node:c.test})):2==e?(a.mode=3,c.test&&a.value&&!a.value.toBoolean()?this.stateStack.shift():c.body&&this.stateStack.unshift({node:c.body})):3==e&&(a.mode=1,c.update&&this.stateStack.unshift({node:c.update}))};Interpreter.prototype.stepFunctionDeclaration=function(){this.stateStack.shift()};
Interpreter.prototype.stepFunctionExpression=function(){var a=this.stateStack.shift();this.stateStack[0].value=this.createFunction(a.node)};Interpreter.prototype.stepIdentifier=function(){var a=this.stateStack.shift(),c=this.createPrimitive(a.node.name);this.stateStack[0].value=a.components?c:this.getValueFromScope(c)};Interpreter.prototype.stepIfStatement=Interpreter.prototype.stepConditionalExpression;
Interpreter.prototype.stepLabeledStatement=function(){var a=this.stateStack.shift();this.stateStack.unshift({node:a.node.body,label:a.node.label.name})};Interpreter.prototype.stepLiteral=function(){var a=this.stateStack.shift();this.stateStack[0].value=this.createPrimitive(a.node.value)};
Interpreter.prototype.stepLogicalExpression=function(){var a=this.stateStack[0],c=a.node;if("&&"!=c.operator&&"||"!=c.operator)throw SyntaxError("Unknown logical operator: "+c.operator);a.doneLeft_?a.doneRight_?(this.stateStack.shift(),this.stateStack[0].value=a.value):"&&"==c.operator&&!a.value.toBoolean()||"||"==c.operator&&a.value.toBoolean()?(this.stateStack.shift(),this.stateStack[0].value=a.value):(a.doneRight_=!0,this.stateStack.unshift({node:c.right})):(a.doneLeft_=!0,this.stateStack.unshift({node:c.left}))};
Interpreter.prototype.stepMemberExpression=function(){var a=this.stateStack[0],c=a.node;a.doneObject_?a.doneProperty_?(this.stateStack.shift(),a.components?this.stateStack[0].value=[a.object,a.value]:(c=this.getProperty(a.object,a.value))?c.isGetter?(c.isGetter=!1,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.object,func_:c,doneArgs_:!0,arguments:[]})):this.stateStack[0].value=c:(this.stateStack.unshift({}),this.throwException(this.TYPE_ERROR,"Cannot read property '"+
a.value+"' of "+a.object.toString()))):(a.doneProperty_=!0,a.object=a.value,this.stateStack.unshift({node:c.property,components:!c.computed})):(a.doneObject_=!0,this.stateStack.unshift({node:c.object}))};Interpreter.prototype.stepNewExpression=Interpreter.prototype.stepCallExpression;
Interpreter.prototype.stepObjectExpression=function(){var a=this.stateStack[0],c=a.node,e=a.valueToggle,m=a.n||0;a.object?e?a.key=a.value:(a.properties[a.key]||(a.properties[a.key]={}),a.properties[a.key][a.kind]=a.value):(a.object=this.createObject(this.OBJECT),a.properties=Object.create(null));if(c.properties[m])e?(a.n=m+1,this.stateStack.unshift({node:c.properties[m].value})):(a.kind=c.properties[m].kind,this.stateStack.unshift({node:c.properties[m].key,components:!0})),a.valueToggle=!e;else{for(var l in a.properties)c=
a.properties[l],"get"in c||"set"in c?(c={configurable:!0,enumerable:!0,get:c.get,set:c.set},this.setProperty(a.object,l,null,c)):this.setProperty(a.object,l,c.init);this.stateStack.shift();this.stateStack[0].value=a.object}};Interpreter.prototype.stepProgram=Interpreter.prototype.stepBlockStatement;
Interpreter.prototype.stepReturnStatement=function(){var a=this.stateStack[0],c=a.node;if(c.argument&&!a.done)a.done=!0,this.stateStack.unshift({node:c.argument});else{c=a.value||this.UNDEFINED;do{this.stateStack.shift();if(0==this.stateStack.length)throw SyntaxError("Illegal return statement");a=this.stateStack[0]}while("CallExpression"!=a.node.type&&"NewExpression"!=a.node.type);a.value=c}};
Interpreter.prototype.stepSequenceExpression=function(){var a=this.stateStack[0],c=a.node,e=a.n||0;c.expressions[e]?(a.n=e+1,this.stateStack.unshift({node:c.expressions[e]})):(this.stateStack.shift(),this.stateStack[0].value=a.value)};
Interpreter.prototype.stepSwitchStatement=function(){var a=this.stateStack[0];a.checked=a.checked||[];a.isSwitch=!0;if(a.test){a.switchValue||(a.switchValue=a.value);var c=a.index||0,e=a.node.cases[c];if(e)if(a.done||a.checked[c]||!e.test){if(a.done||!e.test||0==this.comp(a.value,a.switchValue)){a.done=!0;var m=a.n||0;if(e.consequent[m]){this.stateStack.unshift({node:e.consequent[m]});a.n=m+1;return}}a.n=0;a.index=c+1}else a.checked[c]=!0,this.stateStack.unshift({node:e.test});else this.stateStack.shift()}else a.test=
!0,this.stateStack.unshift({node:a.node.discriminant})};Interpreter.prototype.stepThisExpression=function(){this.stateStack.shift();for(var a=0;a<this.stateStack.length;a++)if(this.stateStack[a].thisExpression){this.stateStack[0].value=this.stateStack[a].thisExpression;return}throw Error("No this expression found.");};Interpreter.prototype.stepThrowStatement=function(){var a=this.stateStack[0],c=a.node;a.argument?this.throwException(a.value):(a.argument=!0,this.stateStack.unshift({node:c.argument}))};
Interpreter.prototype.stepTryStatement=function(){var a=this.stateStack[0],c=a.node;a.doneBlock?a.throwValue&&!a.doneHandler&&c.handler?(a.doneHandler=!0,this.stateStack.unshift({node:c.handler,throwValue:a.throwValue}),a.throwValue=null):!a.doneFinalizer&&c.finalizer?(a.doneFinalizer=!0,this.stateStack.unshift({node:c.finalizer})):a.throwValue?this.executeException(a.throwValue):this.stateStack.shift():(a.doneBlock=!0,this.stateStack.unshift({node:c.block}))};
Interpreter.prototype.stepUnaryExpression=function(){var a=this.stateStack[0],c=a.node;if(a.done){this.stateStack.shift();if("-"==c.operator)c=-a.value.toNumber();else if("+"==c.operator)c=a.value.toNumber();else if("!"==c.operator)c=!a.value.toBoolean();else if("~"==c.operator)c=~a.value.toNumber();else if("delete"==c.operator||"typeof"==c.operator){if(a.value.length){var e=a.value[0];a=a.value[1]}else e=this.getScope(),a=a.value;c="delete"==c.operator?this.deleteProperty(e,a):this.getProperty(e,
a).type}else if("void"==c.operator)c=void 0;else throw SyntaxError("Unknown unary operator: "+c.operator);this.stateStack[0].value=this.createPrimitive(c)}else{a.done=!0;e={node:c.argument};if("delete"==c.operator||"typeof"==c.operator)e.components=!0;this.stateStack.unshift(e)}};
Interpreter.prototype.stepUpdateExpression=function(){var a=this.stateStack[0],c=a.node;if(a.doneLeft){a.leftSide||(a.leftSide=a.value);a.doneGetter_&&(a.leftValue=a.value);if(!a.doneGetter_){a.leftValue=this.getValue(a.leftSide);if(!a.leftValue)return;if(a.leftValue.isGetter){a.leftValue.isGetter=!1;a.doneGetter_=!0;this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:a.leftValue,doneArgs_:!0,arguments:[]});return}}if(a.doneSetter_)this.stateStack.shift(),
this.stateStack[0].value=a.doneSetter_;else{var e=a.leftValue.toNumber();if("++"==c.operator)var m=this.createPrimitive(e+1);else if("--"==c.operator)m=this.createPrimitive(e-1);else throw SyntaxError("Unknown update expression: "+c.operator);c=c.prefix?m:this.createPrimitive(e);(e=this.setValue(a.leftSide,m))?(a.doneSetter_=c,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:a.leftSide[0],func_:e,doneArgs_:!0,arguments:[m]})):(this.stateStack.shift(),this.stateStack[0].value=
c)}}else a.doneLeft=!0,this.stateStack.unshift({node:c.argument,components:!0})};Interpreter.prototype.stepVariableDeclaration=function(){var a=this.stateStack[0],c=a.node,e=a.n||0;c.declarations[e]?(a.n=e+1,this.stateStack.unshift({node:c.declarations[e]})):this.stateStack.shift()};
Interpreter.prototype.stepVariableDeclarator=function(){var a=this.stateStack[0],c=a.node;c.init&&!a.done?(a.done=!0,this.stateStack.unshift({node:c.init})):(c.init&&this.setValue(this.createPrimitive(c.id.name),a.value),this.stateStack.shift())};
Interpreter.prototype.stepWithStatement=function(){var a=this.stateStack[0],c=a.node;a.doneObject?a.doneBody?this.stateStack.shift():(a.doneBody=!0,a=this.createSpecialScope(this.getScope(),a.value),this.stateStack.unshift({node:c.body,scope:a})):(a.doneObject=!0,this.stateStack.unshift({node:c.object}))};Interpreter.prototype.stepWhileStatement=Interpreter.prototype.stepDoWhileStatement;this.Interpreter=Interpreter;Interpreter.prototype.appendCode=Interpreter.prototype.appendCode;
Interpreter.prototype.createAsyncFunction=Interpreter.prototype.createAsyncFunction;Interpreter.prototype.step=Interpreter.prototype.step;Interpreter.prototype.run=Interpreter.prototype.run;var API={url:"https://www.ezblock.sunfounder.com/api/web/v1/",githubUrl:"./addPackageSim/",get:function(a,c){return new Promise(function(e,m){$.ajax({type:"POST",dataType:"json",url:API.url+a,data:c,timeout:5E3,success:function(a){e(a)},error:function(a){m(a)}})})},getLibs:function(a,c){path=CORE_DIR+"/product/"+a+"/lib/"+c;a=new XMLHttpRequest;a.open("GET",path,!1);a.send();return a.responseText}};Tutorials={count:1,stepList:"",height:80,display_block:!1,page_header_height:{home:"dragheader1",carouselCoding:"dragheader2",coding:"dragheader2",routing:"dragheader2",remote:"dragheader2",internetOfThings:"dragheader2",faq:"dragheader2",pInformation:"dragheader2",myProject:"dragheader2",tutorialsProject:"dragheader2",examplesProject:"dragheader2"}};$(function(){$(".tutorials_next").click(function(){Tutorials.next()});$(".tutorials_back").click(function(){Tutorials.pervious()});$("#tutorials_tips").click(function(){Tutorials.show_tutorials_modal()})});
Tutorials.show_tutorials_modal=function(){$("#tutorials_modal").modal("show");$(".tutorials_modal_msg").html(Tutorials.stepList["step"+Tutorials.count].description)};Tutorials.show=function(a,c){Tutorials.display_block=!0;EzBlock.renderPage("home");var e=$(window).height()-$(".tutorials_block").height();$(".homeContent").height(e);document.querySelector(".tutorials_block").style.display="flex";$(".footImg").hide();Tutorials.loadData(a,c)};
Tutorials.setPageHeight=function(a){var c="home"==a?0:1;a=$(window).height()-c*$("."+Tutorials.page_header_height[a]).height()-$(".tutorials_block").height();$(".ezblockContent").height(a)};Tutorials.hide=function(){Tutorials.display_block=!1;EzBlock.renderPage("home");EzBlock.sizeHeight();document.querySelector(".tutorials_block").style.display="none";$(".footImg").show()};
Tutorials.loadData=function(a,c){var e=0!=Object.keys(Choice.current).length?window[Choice.current.device].tutorialsHasKit[Choice.current.platform]:window[Choice.current.device].tutorials[Choice.current.platform];Tutorials.stepList=e[a][c].stepList;Tutorials.render(TutorialContent[a][c].stepList,Tutorials.count);Tutorials.showDot();Tutorials.heightLineDot(Tutorials.count)};Tutorials.render=function(a,c){$("#tutorials_tips").html(a["step"+c].description)};
Tutorials.next=function(){if(Tutorials.count>=Object.keys(Tutorials.stepList).length)return!1;Tutorials.count++;Tutorials.render(Tutorials.stepList,Tutorials.count);Tutorials.heightLineDot(Tutorials.count);Tutorials.show_tutorials_modal()};Tutorials.pervious=function(){1>=Tutorials.count&&Tutorials.hide();Tutorials.count--;Tutorials.render(Tutorials.stepList,Tutorials.count);Tutorials.heightLineDot(Tutorials.count);Tutorials.show_tutorials_modal()};
Tutorials.showDot=function(){for(var a=0;a<Object.keys(Tutorials.stepList).length;a++)$(".dot").append('<li class="dot_item"></li>');Tutorials.setDotCenter()};Tutorials.setDotCenter=function(){var a=-$(".dot").width()/2;$(".dot").css("margin-left",a+"px")};Tutorials.heightLineDot=function(a){$(".dot_item").removeClass("dot_item_animation").css({background:"#ccc"}).html("");$(".dot_item").eq(a-1).css({background:"rgb(255,202,75)"}).addClass("dot_item_animation").html(a)};var ScriptCode=function(a){this.id=a+"code";this.fontSize=this.initialFontSize=22;this.fontSizeStep=1;this.mode=a;this.runtime="";this.themeList="chrome ambiance chaos clouds clouds_midnight cobalt crimson_editor dawn dracula dreamweaver eclipse github gob gruvbox idle_fingers iplastic katzenmilch kr_theme kuroir merbivore merbivore_soft monokai mono_industrial pastel_on_dark solarized_dark solarized_light sqlserver terminal textmate tomorrow tomorrow_night tomorrow_night_blue tomorrow_night_bright tomorrow_night_eighties twilight vibrant_ink xcode".split(" ")};
ScriptCode.prototype.init=function(){$(".scriptcode .hbox").append('<div id="'+this.id+'" class="flex3" tabindex="-1" style="display:none"></div>');for(var a="",c=0;c<this.themeList.length;c++)a+="<option>"+this.themeList[c]+"</option>";$("#ace-selectheme").append(a);this.ACE=ace.edit(this.id);ace.require("ace/ext/language_tools");this.ACE.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0});this.ACE.setTheme("ace/theme/chrome");this.ACE.setAutoScrollEditorIntoView(!0);
this.ACE.setHighlightActiveLine(!0);this.ACE.getSession().setTabSize(4);this.ACE.getSession().setUseSoftTabs(!0);this.ACE.setFontSize(this.initialFontSize);this.regExp(0);this.caseSensitive(0);this.wholeWord(0);this.findValue=""};ScriptCode.prototype.setTheme=function(){var a=$("#ace-selectheme option:selected").html();this.ACE.setTheme("ace/theme/"+a)};
ScriptCode.prototype.setKeyboard=function(){this.ACE.commands.addCommand({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(a){ace.config.loadModule("ace/ext/keybinding_menu",function(c){c.init(a);a.showKeyboardShortcuts()})}});this.ACE.execCommand("showKeyboardShortcuts")};ScriptCode.prototype.setCode=function(a){this.ACE.setValue(a)};ScriptCode.prototype.clear=function(){this.ACE.setValue("")};ScriptCode.prototype.getCode=function(){return this.ACE.getValue()};
ScriptCode.prototype.focus=function(){this.ACE.focus()};ScriptCode.prototype.redo=function(){this.ACE.redo()};ScriptCode.prototype.undo=function(){this.ACE.undo()};ScriptCode.prototype.findIptShow=function(){$("#ace-search-ipt").modal("show")};
ScriptCode.prototype.regExp=function(a){a=void 0===a?null:a;null==a?($(".ace-regExp").toggleClass("ace-regExp-true"),this.regExpValue=!this.regExpValue,this.find(force=!0)):0==a?($(".ace-regExp").removeClass("ace-regExp-true"),this.regExpValue=!1):1==a&&($(".ace-regExp").addClass("ace-regExp-true"),this.regExpValue=!0)};
ScriptCode.prototype.caseSensitive=function(a){a=void 0===a?null:a;null==a?($(".ace-caseSensitive").toggleClass("ace-caseSensitive-true"),this.caseSensitiveValue=!this.caseSensitiveValue,this.find(force=!0)):0==a?($(".ace-caseSensitive").removeClass("ace-caseSensitive-true"),this.caseSensitiveValue=!1):1==a&&($(".ace-caseSensitive").addClass("ace-caseSensitive-true"),this.caseSensitiveValue=!0)};
ScriptCode.prototype.wholeWord=function(a){a=void 0===a?null:a;null==a?($(".ace-wholeWord").toggleClass("ace-wholeWord-true"),this.wholeWordValue=!this.wholeWordValue,this.find(force=!0)):0==a?($(".ace-wholeWord").removeClass("ace-wholeWord-true"),this.wholeWordValue=!1):1==a&&($(".ace-wholeWord").addClass("ace-wholeWord-true"),this.wholeWordValue=!0)};
ScriptCode.prototype.find=function(a){a=void 0===a?!1:a;var c=$(".searchForIpt").val();if(c!=this.findValue||a)this.findValue=c,this.ACE.find(c,{caseSensitive:this.caseSensitiveValue,wholeWord:this.wholeWordValue,regExp:this.regExpValue})};ScriptCode.prototype.findNext=function(){this.find();this.ACE.findNext()};ScriptCode.prototype.findPrevious=function(){this.find();this.ACE.findPrevious()};
ScriptCode.prototype.findAll=function(){var a=$(".searchForIpt").val();this.ACE.findAll(a,{caseSensitive:this.caseSensitiveValue,wholeWord:this.wholeWordValue,regExp:this.regExpValue})};ScriptCode.prototype.replace=function(){var a=$(".replaceWithIpt").val();this.ACE.replace(a)};ScriptCode.prototype.replaceAll=function(){var a=$(".replaceWithIpt").val();this.ACE.replaceAll(a)};
ScriptCode.prototype.tab=function(){var a=new Event("keydown");a.keyCode=85;a.which=a.keyCode;a.altKey=!1;a.ctrlKey=!0;a.shiftKey=!1;a.metaKey=!1;a.bubbles=!0;Coding.platform.ACE.focus();setTimeout(function(){document.querySelector(".ace_content").dispatchEvent(a)},1E3)};ScriptCode.prototype.selectMore=function(){this.ACE.selectMore();this.ACE.focus()};ScriptCode.prototype.on_change=function(a){this.ACE.getSession().on("change",a)};
ScriptCode.prototype.zoomReset=function(a){this.fontSize=this.initialFontSize;this.ACE.setFontSize(this.fontSize)};ScriptCode.prototype.zoomIn=function(a){this.fontSize-=this.fontSizeStep;this.ACE.setFontSize(this.fontSize)};ScriptCode.prototype.zoomOut=function(a){this.fontSize+=this.fontSizeStep;this.ACE.setFontSize(this.fontSize)};ScriptCode.prototype.sizeHeight=function(){var a=$(".codingContent").height();$(".python").height(a);$("#main").height(a)};
ScriptCode.prototype.show=function(){document.querySelector(".scriptcode").style.display="block";document.querySelector("#"+this.id).style.display="block";document.querySelector(".video-block").style.display="block";this.ACE.getSession().setMode("ace/mode/"+this.mode)};ScriptCode.prototype.hide=function(){document.querySelector(".scriptcode").style.display="none";document.querySelector("#"+this.id).style.display="none";document.querySelector(".video-block").style.display="none"};
ScriptCode.prototype.load=function(a){this.clear();this.setCode(a)};ScriptCode.prototype.save=function(){return this.getCode()};ScriptCode.prototype.getSnippets=function(){return ace.require("ace/snippets").snippetManager.snippetMap.python};ScriptCode.prototype.triggerSnippet=function(a){var c=ace.require("ace/snippets").snippetManager;(a=c.snippetNameMap.python[a])&&c.insertSnippet(this.ACE,a.content)};
ScriptCode.prototype.encrypt=function(a,c){var e=forge.random.getBytesSync(8);a=forge.pbe.opensslDeriveBytes(a,e,32);var m=forge.util.createBuffer(a);a=m.getBytes(24);m=m.getBytes(8);a=forge.cipher.createCipher("AES-CBC",a);a.start({iv:m});a.update(forge.util.createBuffer(c,"binary"));a.finish();c=forge.util.createBuffer();c.putBytes("Salted__");c.putBytes(e);c.putBuffer(a.output);return encodeURIComponent(btoa(c.getBytes()))};
ScriptCode.prototype.decrypt=function(a,c){c=atob(decodeURIComponent(c));c=forge.util.createBuffer(c,"binary");c.getBytes(8);var e=c.getBytes(8);a=forge.pbe.opensslDeriveBytes(a,e,32);e=forge.util.createBuffer(a);a=e.getBytes(24);e=e.getBytes(8);a=forge.cipher.createDecipher("AES-CBC",a);a.start({iv:e});a.update(c);a.finish();return a.output.getBytes()};var PythonCode=new ScriptCode("python");PythonCode.runtime="#!/usr/bin/python3";var SwiftCode=new ScriptCode("swift");SwiftCode.runtime="//!/usr/bin/swift";var SensorKit={name:"Sensor Kit",id:"sensorkit",modules:{"dual-color-led":{id:0,name:"Dual Color LED",blocks:['<block type = "sensorkit_dual_color_led_set_value"><value name="value"><shadow type="sensorkit_pin_switch"></shadow></value></block >'],img:"dual-color-led.png",simulator:{type:"digitalOutput",onHigh:"dual-color-led_on.png",onLow:"dual-color-led_off.png"},pins:{R:{id:0,name:"R",x:.3,y:1,isSource:!0,property:["din"],type:"digital"},G:{id:1,name:"G",x:.7,y:1,isSource:!0,property:["din"],type:"digital"},
GND:{id:2,name:"GND",x:.5,y:1,isSource:!0,property:["GND"],type:"ground"}}},"rgb-led":{id:1,name:"RGB LED",blocks:['<block type="sensorkit_rgb_set_value"><value name="color"><shadow type="colour_picker"><field name="COLOUR">#ff0000</field></shadow></value></block>'],img:"dual-color-led.png",simulator:{type:"Communicate",R:"R",G:"G",B:"B",initValue:0},pins:{R:{id:0,name:"R",x:.2,y:1,isSource:!0,property:["pwm"],type:"pwm"},G:{id:1,name:"G",x:.4,y:1,isSource:!0,property:["pwm"],type:"pwm"},B:{id:2,
name:"B",x:.6,y:1,isSource:!0,property:["pwm"],type:"pwm"},GND:{id:3,name:"GND",x:.8,y:1,isSource:!0,property:["GND"],type:"ground"}}},button:{id:5,name:"Button",blocks:['<block type="sensorkit_button_get_value"></block>'],img:"button.png",simulator:{type:"digitalInput",mode:"toggle",initValue:0,pin:"SIG"},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,
property:["GND"],type:"ground"}}},"tilt-switch":{id:6,name:"Tilt Switch",blocks:['<block type="sensorkit_tiltswitch_get_value"><value name="pin"></value></block>'],img:"tilt-switch.png",simulator:{type:"digitalInput",pin:"SIG",mode:"click",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"reed-switch":{id:11,
name:"Reed Switch",blocks:['<block type="sensorkit_reedswitch_get_value"><value name="pin"></value></block>'],img:"reed-switch.png",simulator:{type:"digitalInput",pin:"SIG",mode:"click"},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"photo-interrupter":{id:12,name:"Photo Interrupter",blocks:['<block type="sensorkit_photointerrupter_get_value"><value name="pin"></value></block>'],
img:"photo-interrupter.png",simulator:{type:"digitalInput",pin:"SIG",mode:"click",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},potentiometer:{id:15,name:"Potentiometer",blocks:['<block type="sensorkit_potentiometer_get_value"><value name="pin"></value></block>'],img:"potentiometer.png",simulator:{type:"AnalogInput",
pin:"SIG",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["3V3"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"hall-switch":{id:16,name:"Hall Switch",blocks:['<block type="sensorkit_hallswitch_get_value"><value name="pin"></value></block>'],img:"hall-switch.png",simulator:{type:"digitalInput",pin:"SIG",mode:"click",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,
y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},thermister:{id:18,name:"Thermister",blocks:['<block type="sensorkit_temperature_get_value"><value name="pin"></value></block>'],img:"thermister.png",simulator:{type:"AnalogInput",pin:"SIG",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["3V3"],type:"power"},SIG:{id:1,name:"SIG",x:.5,
y:1,isSource:!0,property:["ain"],type:"analog"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"sound-sensor":{id:20,name:"Sound Sensor",blocks:['<block type="sensorkit_sound_get_value"><value name="pin"></value></block>'],img:"sound-sensor.png",simulator:{type:"AnalogInput",pin:"SIG",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["3V3"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"},GND:{id:2,name:"GND",
x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},photoresistor:{id:21,name:"Photoresistor",blocks:['<block type="sensorkit_photoresistor_get_value"><value name="pin"></value></block>'],img:"photoresistor.png",simulator:{type:"AnalogInput",pin:"SIG",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["3V3"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"touch-switch":{id:25,
name:"Touch Switch",blocks:['<block type="sensorkit_touchswitch_get_value"><value name="pin"></value></block>'],img:"touch-switch.png",simulator:{type:"digitalInput",pin:"SIG",mode:"click",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"ir-obstacle-avoidance":{id:30,name:"IR Obstacle Avoidance",blocks:['<block type="sensorkit_irobstacle_get_value"><value name="pin"></value></block>'],
img:"ir-obstacle-avoidance.png",simulator:{type:"digitalInput",pin:"SIG",mode:"click",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}},"tracking-sensor":{id:33,name:"Tracking Sensor",blocks:['<block type="sensorkit_tracking_get_value"><value name="pin"></value></block>'],img:"tracking-sensor.png",simulator:{type:"digitalInput",
pin:"SIG",mode:"click",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.3,y:1,isSource:!0,property:["5V"],type:"power"},SIG:{id:1,name:"SIG",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}}};var SwitchBot={name:"SwitchBot",id:"switchbot",modules:{"switchbot-s1":{id:0,name:"Switchbot S1",blocks:['<block type="switchbot_s1_get_value"><value name="port"></value></block >'],img:"distance_sensor.png",pins:null}}};var Jelly={name:"Jelly",id:"jelly",modules:{"distance-sensor":{id:0,name:"Distance Sensor",blocks:['<block type="jelly_distance_sensor_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"distance_sensor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},"sound-sensor":{id:1,name:"Sound Sensor",blocks:['<block type="jelly_sound_sensor_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"sound_sensor.png",
pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},"light-sensor":{id:2,name:"Light Sensor",blocks:['<block type="jelly_light_sensor_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"light_sensor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},slider:{id:3,name:"Slider",blocks:['<block type="jelly_slider_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],
img:"slider.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},button:{id:4,name:"Button",blocks:['<block type="jelly_button_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"button.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},servo:{id:5,name:"Servo",blocks:['<block type="jelly_servo_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"servo.png",
pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},motor:{id:6,name:"Motor",blocks:['<block type="jelly_motor_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"motor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},led:{id:7,name:"LED",blocks:['<block type="jelly_led_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"led.png",pins:{port:{id:0,name:"port",
x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},"led-bar":{id:8,name:"LED Bar",blocks:['<block type="jelly_led_bar_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"led_bar.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},rgb:{id:9,name:"RGB",blocks:['<block type="jelly_rgb_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"rgb.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,
property:["pwm"],type:"pwm"}}},buzzer:{id:10,name:"Buzzer",blocks:['<block type="jelly_buzzer_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"buzzer.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}}}};device={};
BlockCode={workspace:null,id:"blockcode",runtime:"#!/usr/bin/python3",remoteToolboxText:"",iotToolboxText:"",addPackageToolboxText:'<category name="%{BKY_CATADDPACKAGE}" ></category>',mainToolboxText:"",basicToolboxText:"",deviceToolboxText:"",loadBlocks:function(a){try{var c=window.sessionStorage.loadOnceBlocks}catch(e){c=null}"BlocklyStorage"in window&&1<window.location.hash.length?BlocklyStorage.retrieveXml(window.location.hash.substring(1)):c?(delete window.sessionStorage.loadOnceBlocks,a=Blockly.Xml.textToDom(c),
Blockly.Xml.domToWorkspace(a,BlockCode.workspace)):a?(a=Blockly.Xml.textToDom(a),Blockly.Xml.domToWorkspace(a,BlockCode.workspace)):"BlocklyStorage"in window&&window.setTimeout(BlocklyStorage.restoreBlocks,0)},getBBox_:function(a){var c=a.offsetHeight,e=a.offsetWidth,m=0,l=0;do m+=a.offsetLeft,l+=a.offsetTop,a=a.offsetParent;while(a);return{height:c,width:e,x:m,y:l}},getXml:function(){return Blockly.Xml.textToDom("<xml>"+(BlockCode.basicToolboxText+Blockly.mainToolboxText+window[distributor.DEVICES[device.id]].toolboxText+
BlockCode.kitsToolboxText+BlockCode.remoteToolboxText+BlockCode.iotToolboxText)+"</xml>")},getXmlText:function(a,c){if(1==window.navigator.onLine){var e=new XMLHttpRequest;e.open("GET",c?CORE_DIR+a+c+"/toolbox.xml":CORE_DIR+"blockcode/toolbox.xml",!0);e.send();a=e.responseText;a=a.replace(/(^|[^%]){(\w+)}/g,function(a,c,e){return c+MSG[e]});return a=a.replace("<xml>","").replace("</xml>","")}},blockTreeRowIcon:function(){var a=$(".blocklyToolboxDiv .blocklyTreeRow .blocklyTreeLabel");a.length&&a.each(function(){a:{var a=
$(this).text(),e;for(e in MSG)if(0==e.indexOf("cat")&&MSG[e]==a){cat=e;break a}cat=-1}-1!=cat&&(cat=cat.replace("cat",""),a=cat.toLowerCase()==device.id?"<icon style=\"background-image:url('"+CORE_DIR+"product/"+device.id+"/img/"+device.id+"_icon.png')\" class=icon"+device.id+"></icon>":cat.toLowerCase()in device.kits?"<icon style=\"background-image:url('"+CORE_DIR+"packages/"+cat.toLowerCase()+"/img/"+cat+".png')\" class=icon"+cat+"></icon>":"<icon style=\"background-image:url('"+CORE_DIR+"blockcode/media/mark/"+
cat+".png')\" class=icon"+cat+"></icon>",$(this).before(a));$(this).text()==MSG.catAddPackage&&$(this).parent().attr({id:"aaa"})})},reflashToolbox:function(){var a=BlockCode.getXml();BlockCode.workspace.updateToolbox(a);BlockCode.blockTreeRowIcon()},changeDevice:function(){BlockCode.reflashToolbox()},zoomReset:function(a){BlockCode.workspace.markFocused();BlockCode.workspace.setScale(BlockCode.workspace.options.zoomOptions.startScale);BlockCode.workspace.scrollCenter();Blockly.Touch.clearTouchIdentifier();
a.stopPropagation();a.preventDefault()},zoomOut:function(a){BlockCode.workspace.markFocused();BlockCode.workspace.zoomCenter(1);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()},zoomIn:function(a){BlockCode.workspace.markFocused();BlockCode.workspace.zoomCenter(-1);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()},initColor:function(){Blockly.Msg.LOGIC_HUE="#7C56Cd";Blockly.Msg.LOOPS_HUE="#CF5889";Blockly.Msg.MATH_HUE="#CE7258";Blockly.Msg.TEXTS_HUE=
"#597ECE";Blockly.Msg.LISTS_HUE="#78C94D";Blockly.Msg.COLOUR_HUE="#CE58C2";Blockly.Msg.VARIABLES_HUE="#C44357";Blockly.Msg.PROCEDURES_HUE="#4DA8D2"},init:function(){BlockCode.initColor();for(var a in MSG)0==a.indexOf("cat")&&(Blockly.Msg[a.toUpperCase()]=MSG[a]);a=BlockCode.getXml();BlockCode.workspace=Blockly.inject("blockContent",{media:"./blockcode/media/",rtl:RTL,toolbox:a,grid:{spacing:20,length:1,colour:"#ccc",snap:!0},zoom:{controls:!1,wheel:!0}});BlockCode.trashcanReposition=function(){var a=
parseInt($("#blockContent").height())-150,e=parseInt($("#blockContent").width())-100;$(".blocklyTrash").attr("transform","translate("+e+", "+a+")")};BlockCode.workspace.addChangeListener(BlockCode.trashcanReposition);BlockCode.blockTreeRowIcon();"BlocklyStorage"in window&&BlocklyStorage.backupOnUnload(BlockCode.workspace);$(".read").click(function(){$(".see,.board_see").hide();$(".see_read").toggle()});BlockCode.workspace.addChangeListener(Blockly.Events.disableOrphans)},discard:function(){var a=
BlockCode.workspace.getAllBlocks().length;if(2>a||window.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",a)))BlockCode.workspace.clear(),window.location.hash&&(window.location.hash="")},sizeHeight:function(){var a=$(".ezblockContent").height();$("#blockContent").height(a);setTimeout(function(){var a=parseInt($("#blockContent").height())-150,e=parseInt($("#blockContent").width())-100;$(".blocklyTrash").attr("transform","translate("+e+", "+a+")")},0)},show:function(){BlockCode.sizeHeight();document.querySelector("#blockContent").style.display=
"block";Blockly.svgResize(BlockCode.workspace);setTimeout(function(){'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>'==BlockCode.save()&&BlockCode.loadBlocks('<xml xmlns="http://www.w3.org/1999/xhtml"> <block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block> <block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-230" y="-210" H="72.65"></block> </xml>')},30);BlockCode.workspace.addChangeListener(BlockCode.disableHandle)},hide:function(){document.querySelector("#blockContent").style.display=
"none"},getCode:function(){return Blockly.Python.workspaceToCode(BlockCode.workspace)},save:function(){var a=Blockly.Xml.workspaceToDom(BlockCode.workspace);return Blockly.Xml.domToText(a)},clear:function(){BlockCode.workspace.clear()},load:function(a){a=Blockly.Xml.textToDom(a);Blockly.Xml.domToWorkspace(a,BlockCode.workspace)}};WebBLE={};WebBLE.bluetooth=navigator.bluetooth;WebBLE._Device="";WebBLE._Server="";WebBLE._Service="";WebBLE._Characteristic="";WebBLE._ServiceUuid=65520;WebBLE._CharactUuid=65521;WebBLE.isConnected=!1;WebBLE.toSend="";WebBLE.dataBuffer="";WebBLE.dataLength=0;WebBLE.bufferSize=20;WebBLE.downloadDelay=100;WebBLE.writeReady=!0;WebBLE.progress=function(a){};WebBLE.progressValue=0;WebBLE.airPrint_string="";WebBLE.downloadStatus=!1;
WebBLE.valueListeners={logListener:function(){},remoteListener:function(){},downloadListener:function(){}};WebBLE._textEncoder=function(a){return a=(new TextEncoder("utf-8")).encode(a)};WebBLE._textDecoder=function(a){return a=(new TextDecoder("utf-8")).decode(a)};WebBLE.DEBUG=!0;WebBLE.debug=function(a){WebBLE.DEBUG&&console.log(a)};
WebBLE._request=function(){WebBLE.debug("WebBLE._request");WebBLE.debug(WebBLE.bluetooth);return new Promise(function(a,c){WebBLE.bluetooth.requestDevice({filters:[{services:[WebBLE._ServiceUuid]}]}).then(a,c);setTimeout(function(){c("Timeout")},1E4)})};WebBLE._gattConnect=function(){WebBLE.debug("WebBLE._gattConnect");return new Promise(function(a,c){WebBLE._Device.gatt.connect().then(a,c)})};
WebBLE._getService=function(){WebBLE.debug("WebBLE._getService");return new Promise(function(a,c){WebBLE._Server.getPrimaryService(WebBLE._ServiceUuid).then(a,c)})};WebBLE._getCharacteristic=function(){WebBLE.debug("WebBLE._get_Characteristic");return new Promise(function(a,c){null==WebBLE._Service.getCharacteristics?WebBLE._Service.getCharacteristics(WebBLE._CharactUuid).then(function(c){a(c[0])},c):WebBLE._Service.getCharacteristic(WebBLE._CharactUuid).then(a,c)})};
WebBLE.connect=function(a,c,e){(function(){var a,c,f,q,z;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){switch(l.nextAddress){case 1:return l.setCatchFinallyBlocks(2),a=WebBLE,l.yield(WebBLE._request(),4);case 4:return a._Device=l.yieldResult,c=WebBLE,l.yield(WebBLE._gattConnect(),5);case 5:return c._Server=l.yieldResult,f=WebBLE,l.yield(WebBLE._getService(),6);case 6:return f._Service=l.yieldResult,q=WebBLE,l.yield(WebBLE._getCharacteristic(),7);case 7:return q._Characteristic=l.yieldResult,
WebBLE.initValueListener(),l.return(void 0);case 2:throw z=l.enterCatchBlock(),e(z),z;}})})().then(function(e){WebBLE.writeReady=!0;WebBLE.isConnected=!0;a();WebBLE._Device.ongattserverdisconnected=function(){WebBLE.isConnected=!1;c()}},function(a){try{WebBLE.disconnect()}catch(l){WebBLE.debug(l)}Coding.messageModal("Connection Failed: "+a)})};
WebBLE.disconnect=function(a){a=void 0===a?function(){}:a;WebBLE.debug("WebBLE._disconnect");WebBLE._Device.gatt.disconnect();WebBLE.isConnected=!1;WebBLE.writeReady=!0;a();WebBLE.debug(WebBLE._Server.connected)};WebBLE.openListener=function(){WebBLE.debug("WebBLE.openListener");var a=WebBLE._Characteristic.startNotifications();a.then(function(){WebBLE.debug("\u76d1\u542c\u5f00\u542f")});return a};WebBLE.reflashValueListener=function(){};
WebBLE.initValueListener=function(){WebBLE._Characteristic.listeners&&(WebBLE._Characteristic.listeners.characteristicvaluechanged=[]);WebBLE._Characteristic.addEventListener("characteristicvaluechanged",function(a){a=a.target.value;a=WebBLE._textDecoder(a);WebBLE.debug("\u76d1\u542c\u5230\u4e86\u6539\u53d8\u4e8b\u4ef6");WebBLE.debug(a);WebBLE.valueListeners.downloadListener(a);WebBLE.valueListeners.logListener(a);WebBLE.valueListeners.remoteListener(a)})};
WebBLE.closeListener=function(){WebBLE.debug("WebBLE.closeListener");return WebBLE._Characteristic.stopNotifications().then(function(){WebBLE.debug("\u76d1\u542c\u5173\u95ed")})};
WebBLE.writeValue=function(a){a=void 0===a?0:a;return new Promise(function(c,e){WebBLE.writeReady?(WebBLE.writeReady=!1,WebBLE.debug("WebBLE.writeValue: "+WebBLE.toSend),value=WebBLE._textEncoder(WebBLE.toSend),WebBLE._Characteristic.writeValue(value).then(function(){setTimeout(function(){WebBLE.writeReady=!0},a);c("Success")},e)):e("Bluetooth is not ready")})};
WebBLE.writeValueRecursively=function(){return new Promise(function(a,c){0==WebBLE.dataBuffer.length&&c("dataBuffer is empty");WebBLE.toSend=WebBLE.dataBuffer.slice(0,WebBLE.bufferSize);WebBLE.dataBuffer=WebBLE.dataBuffer.slice(WebBLE.bufferSize,WebBLE.dataBuffer.length);setTimeout(function(){WebBLE.writeValue().then(function(){WebBLE.progressValue+=WebBLE.bufferSize/WebBLE.dataLength*90;WebBLE.progress(Math.round(WebBLE.progressValue));a("Success")},c)},WebBLE.downloadDelay)})};
WebBLE.readValue=function(){WebBLE.debug("WebBLE.readValue");WebBLE._Characteristic.readValue().then(function(a){WebBLE.debug(WebBLE._textDecoder(a))});WebBLE.debug(WebBLE._Characteristic.readValue())};WebBLE.pack=function(a,c,e){e=void 0===e?0:e;var m="*$"+[a,"H",c.length].join("#")+"$*";a="*$"+[a,"T",c.length].join("#")+"$*";c=m+c+a;if(0!=e)for(;c.length<e;)c+="0";return c};
WebBLE.sendCode_bak=function(a,c){c=void 0===c?function(a){}:c;return new Promise(function(e,m){WebBLE.progress=c;WebBLE.progressValue=0;WebBLE.progress(WebBLE.progressValue);WebBLE.debug("sendCommand");var l=[],f=WebBLE.pack("HEX",a);l.push(f);for(f=1;f<date.length;f++){var q=WebBLE.pack("LIB",a);l.push(q)}WebBLE.dataBuffer=l.join(" ");WebBLE.dataLength=WebBLE.dataBuffer.length;WebBLE.progressValue=5;WebBLE.progress(WebBLE.progressValue);(function(){var a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){switch(c.nextAddress){case 1:c.setCatchFinallyBlocks(2),
WebBLE.debug(WebBLE.dataBuffer.length);case 4:if(!(0<WebBLE.dataBuffer.length))return c.return(!0);WebBLE.debug(WebBLE.dataBuffer.length);return c.yield(WebBLE.writeValueRecursively(),6);case 6:c.jumpTo(4);break;case 2:throw a=c.enterCatchBlock(),a;}})})().then(e,m)})};
WebBLE.sendCode=function(a,c,e){e=void 0===e?function(a){}:e;return new Promise(function(m,l){WebBLE.progress=e;WebBLE.progressValue=0;WebBLE.progress(WebBLE.progressValue);WebBLE.debug("sendCommand");WebBLE.dataBuffer=WebBLE.pack(a,c);WebBLE.dataLength=WebBLE.dataBuffer.length;WebBLE.progressValue=5;WebBLE.progress(WebBLE.progressValue);(function(){var a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){switch(c.nextAddress){case 1:c.setCatchFinallyBlocks(2),WebBLE.debug(WebBLE.dataBuffer.length);
case 4:if(!(0<WebBLE.dataBuffer.length))return c.return(!0);WebBLE.debug(WebBLE.dataBuffer.length);return c.yield(WebBLE.writeValueRecursively(),6);case 6:c.jumpTo(4);break;case 2:throw a=c.enterCatchBlock(),a;}})})().then(function(){m(!0)})})};
WebBLE.compiler=function(a,c){return new Promise(function(e,m){var l={accessToken:"123",script:a,device:0};(function(){var a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:return c(10),e.yield(EzBlock.delay(1E3),2);case 2:return c(20),e.yield(API.get("compilers/compiler",l),3);case 3:return a=e.yieldResult,c(90),e.yield(EzBlock.delay(500),4);case 4:return a=a.hex.replace(/\\n/g,"\n"),c(100),e.yield(EzBlock.delay(500),5);case 5:return e.return(a)}})})().then(e,
m)})};
WebBLE._download=function(a,c,e){e=void 0===e?function(a,c){}:e;return new Promise(function(m,l){(function(){var f,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){switch(m.nextAddress){case 1:return e("compiling",0),m.yield(WebBLE.compiler(c,function(a){e("compiling",a)}),2);case 2:return compiled=m.yieldResult,e("compiling",-1),m.yield(EzBlock.delay(1E3),3);case 3:return e("downloading",0),WebBLE.debug("compiled script:"),WebBLE.debug(compiled),m.setCatchFinallyBlocks(4),m.yield(WebBLE.sendCode(a,compiled,
function(a){e("downloading",a)}),6);case 6:m.leaveTryBlock(5);break;case 4:throw f=m.enterCatchBlock(),f;case 5:WebBLE.valueListeners.downloadListener=function(a){WebBLE.debug(a);WebBLE.debug(typeof a);"1"==a&&(WebBLE.downloadStatus=!0)},l=0;case 7:if(!(10>l)){m.jumpTo(9);break}return WebBLE.downloadStatus?(WebBLE.downloadStatus=!1,e("downloading",100),e("downloading",-1),WebBLE.valueListeners.downloadListener=function(a){},WebBLE.progress=function(a){},WebBLE.progressValue=0,WebBLE.debug("download success!"),
m.return("success")):m.yield(EzBlock.delay(1E3),8);case 8:l++;m.jumpTo(7);break;case 9:throw e("downloading",100),e("downloading",-1),WebBLE.debug("timeout"),WebBLE.valueListeners.downloadListener=function(a){},WebBLE.progress=function(a){},WebBLE.progressValue=0,"timeout";}})})().then(m,l)})};WebBLE.download=function(a,c,e){e=void 0===e?function(a,c){}:e;return new Promise(function(m,l){WebBLE.toSend="*$FLASH$*";WebBLE.writeValue().then(function(){WebBLE._download(a,c,e).then(m,l)},l)})};
WebBLE.remote={};
WebBLE.remote.send=function(a,c,e,m){return new Promise(function(l,f){WebBLE.progress=function(a){};WebBLE.progressValue=0;var q=a+"#"+c+"#"+e+"#"+m;console.log(q);q=WebBLE.pack("REMOTE",q,60);WebBLE.debug(q);WebBLE.toSend=q;WebBLE.writeValue(100).then(function(){WebBLE.valueListeners.remoteListener=function(a){WebBLE.debug(a);WebBLE.debug(a);WebBLE.debug(typeof a);"1"==a&&(WebBLE.debug("receive success!"),l("Success"))};setTimeout(function(){WebBLE.valueListeners.remoteListener=function(a){};WebBLE.debug("receive failed!");
f("Faild")},500)})})};WebBLE.airPrintOn=function(){WebBLE.debug("WebBLE.airPrintOn\u6267\u884c\u4e86");WebBLE.isConnected&&(WebBLE.valueListeners.logListener=WebBLE.airPrint,WebBLE.reflashValueListener())};WebBLE.airPrintOff=function(){WebBLE.isConnected&&(WebBLE.valueListeners.logListener=function(a){},WebBLE.reflashValueListener())};
WebBLE.airPrint=function(a){a.startsWith("[ERROR] ")||a.startsWith("[DEBUG] ")?WebBLE.airPrint_string=a:""!==WebBLE.airPrint_string&&(WebBLE.airPrint_string+=a);WebBLE.airPrint_string.endsWith(" [ERROR]")?(WebBLE.airPrint_string=WebBLE.airPrint_string.slice(8,-8),$(".getMessage").append('<div style="padding-left:10px; color:red width: 100%; word-wrap: break-word;">'+WebBLE.airPrint_string+"</div>"),WebBLE.airPrint_string=""):WebBLE.airPrint_string.endsWith(" [DEBUG]")&&(WebBLE.airPrint_string=WebBLE.airPrint_string.slice(8,
-8),$(".getMessage").append('<div style="padding-left:10px; width: 100%; word-wrap: break-word;">'+WebBLE.airPrint_string+"</div>"),WebBLE.airPrint_string="");$(".getMessage").scrollTop($(".getMessage")[0].scrollHeight);$(".remoteGetmessage").scrollTop($(".remoteGetmessage")[0].scrollHeight);$(".iotGetmessage").scrollTop($(".iotGetmessage")[0].scrollHeight)};WebBLE.debugClear=function(){$(".getMessage").html("")};WebBLE.expand=function(){$(".getMessage").toggle();$(".toggleExpand img").toggle()};var Coding={id:"coding"};Coding.PLATFORMS={pythoncode:PythonCode,swiftcode:SwiftCode,blockcode:BlockCode};Coding.PLATFORMS_LIST=Object.keys(Coding.PLATFORMS).sort();Coding.platform={};Coding.libs={};Coding.lastPlatform=BlockCode;Coding.flag=!0;Coding.changePlatform=function(a){Coding.platform=Coding.PLATFORMS[a]};Coding.menuConf={Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language;created packages;add packages".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]};
Coding.show=function(){document.querySelector(".codingContent").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".dragfooter").style.display="block";document.querySelector(".dragheader2 .brand").style.display="block";document.querySelector(".video-block").style.display="block";document.querySelector(".project_title_block").style.display="block";MakeOption.makeOptions(Coding.menuConf);MakeOption.show(Coding.menuConf);MyProject.setHeader();MyProject.revealProjectName();
device.init();Coding.platform.show();document.querySelector(".dragheader2").style.display="block";WebBLE.airPrintOn();$(".applyButton button").hide();for(i in device.functions)$(".applyButton ."+device.functions[i]+"btn").show();Coding.sizeHeight()};
Coding.hide=function(){document.querySelector(".codingContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".dragfooter").style.display="none";document.querySelector(".dragheader2 .brand").style.display="none";document.querySelector(".video-block").style.display="none";document.querySelector(".project_title_block").style.display="none";MyProject.resetHeader();MakeOption.hide(Coding.menuConf);Coding.platform.hide();WebBLE.airPrintOff();for(i in device.functions)$(".applyButton ."+
device.functions[i]+"btn").hide()};Coding.sizeHeight=function(){var a=$(".ezblockContent").height();$(".codingContent").height(a);BlockCode.sizeHeight();PythonCode.sizeHeight();a=device.functions.length;var c=$(".dconbtn").width()-5*(a+1);$(".dconbtn .applyButton button").css({width:c/a});Tutorials.display_block&&$(".dragfooter").css({bottom:$(window).height()-$(".ezblockContent").height()-$(".dragheader2").height()})};Coding.changeDevice=function(){Coding.refreshDevice();BlockCode.changeDevice()};
Coding.refreshDevice=function(){device.init();var a="./product/"+device.id+"/img/"+device.id+".png",c="./product/"+device.id+"/img/"+device.id+"_title.png";$(".boardname").attr("src",c);$(".boardSmallName").attr("src",c);$(".selectImg").attr("src",a);$(".selectSmallImg").attr("src",a);for(key in device.kits)device.kits[key]?($(".routingbtn").children("img:first-child").show(),$(".routingbtn").children("img:last-child").hide()):($(".routingbtn").children("img:first-child").hide(),$(".routingbtn").children("img:last-child").show())};
Coding.createPlatformChoice=function(){for(var a="",c=0;c<Coding.PLATFORMS_LIST.length;c++)a+='\n\t\t\t<div class="'+Coding.PLATFORMS_LIST[c].split("code")[0]+'-part" onclick="SelectBoard.recentUsedDevice(\''+Coding.PLATFORMS_LIST[c]+'\')">\n\t\t\t\t<span class="choose-mode-text">'+firstUpperCase(Coding.PLATFORMS_LIST[c].split("code")[0])+"</span>\n\t\t\t</div>\n\t\t";$(".choose-mode-body").append(a)};
Coding.init=function(){Coding.sizeHeight();Coding.platform=BlockCode;for(p in Coding.PLATFORMS)Coding.PLATFORMS[p].init();Coding.refreshDevice();Coding.createPlatformChoice();$(".expansion").click(function(){$(".board").toggle();"none"==document.querySelector(".board").style.display&&($(".blockly").removeClass("col-sm-8"),$(".blockly").removeClass("col-lg-9"),$(".board").removeClass("col-sm-4"),$(".board").removeClass("col-lg-3"),$(".blockly").addClass("col-sm-12"),$(this).find("img:first-child").hide(),
$(this).find("img:last-child").show(),Coding.platform==BlockCode&&Blockly.svgResize(BlockCode.workspace));"block"==document.querySelector(".board").style.display&&(Blockly.svgResize(BlockCode.workspace),$(".blockly").removeClass("col-sm-12"),$(".blockly").addClass("col-sm-8"),$(".blockly").addClass("col-lg-9"),$(".board").addClass("col-sm-4"),$(".board").addClass("col-lg-3"),$(this).find("img:first-child").show(),$(this).find("img:last-child").hide(),Coding.platform==BlockCode&&Blockly.svgResize(BlockCode.workspace));
768>document.documentElement.clientWidth&&($(".see").toggle(),$(".board_see").toggle(),$(".see_read").hide(),Coding.platform==BlockCode&&Blockly.svgResize(BlockCode.workspace));var a=parseInt($("#blockContent").height())-150,c=parseInt($("#blockContent").width())-100;$(".blocklyTrash").attr("transform","translate("+c+", "+a+")")});$(".zoomreset").mousedown(function(a){Coding.platform.zoomReset(a)});$(".zoomax").mousedown(function(a){Coding.platform.zoomOut(a)});$(".zoomin").mousedown(function(a){Coding.platform.zoomIn(a)})};
Coding.messageModal=function(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2E3;return new Promise(function(e,m){0==a?($("#message").modal("hide"),e()):($(".msg_modal").html(a),$("#message").modal("show"),0<c&&setTimeout(function(){$("#message").modal("hide");e()},c))})};Coding.progressModal=function(a,c){-1==c?$("#progressModal").modal("hide"):($("#progressModal").modal("show"),$(".progress_modal h1").html(a),$(".progress_modal .progress-bar").css("width",c+"%"))};
Coding.iotFlashModal=function(a){a&&($(".text_msg").html(a),$("#iotFlash").modal("show"))};Coding.iotFlash=function(){API.get("iots/script",{iotToken:iot_token,deviceId:device.id,script:"xxxxxxxxxxxxx"}).then(function(a){})};Coding.connectDevice=function(){$("#iotFlash").modal("hide");Coding.connect()};$(function(){$(".iot_flash_btn").click(Coding.iotFlash)});Coding.getCode=function(){var a=Coding.platform.runtime+"\n";return a+=Coding.platform.getCode()};
Coding.download=function(){if(!WebBLE.isConnected)return Coding.iotFlashModal("can not Connect your device first or you can use IOT flash."),!1;(function(){var a,c;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){switch(e.nextAddress){case 1:return e.setCatchFinallyBlocks(2),e.yield(Coding.downloadLibs(),4);case 4:return e.yield(EzBlock.delay(1E3),5);case 5:return a=Coding.getCode(),e.yield(WebBLE.download("HEX",a,function(a,c){"compiling"==a?Coding.progressModal("Compiling...",c):"downloading"==
a&&Coding.progressModal("Download...",c)}),6);case 6:return e.yield(EzBlock.delay(500),7);case 7:return e.yield(Coding.messageModal("Download finished"),8);case 8:e.leaveTryBlock(3);break;case 2:return c=e.enterCatchBlock(),console.log(c),e.yield(EzBlock.delay(500),9);case 9:return e.yield(Coding.messageModal("Download Failed: "+c),3);case 3:e.jumpToEnd()}})})()};
Coding.downloadLibs=function(){return WebBLE.isConnected?new Promise(function(a,c){var e=device.libs;void 0!==e&&0!=e.length||a("No Library");(function(){var a,c,f,q,z;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){switch(l.nextAddress){case 1:l.setCatchFinallyBlocks(2),a=0;case 4:if(!(a<e.length))return l.return(!0);c=function(c,f){"compiling"==c?(c=MSG.coding_compile_message_library+"... ("+(a+1)+"/"+e.length+")",Coding.progressModal(c,f)):"downloading"==c?(c=MSG.coding_download_message_library+
"... ("+(a+1)+"/"+e.length+")",Coding.progressModal(c,f)):0==c&&Coding.progressModal(!1)};f=API.getLibs(device.id,e[a]);q=e[a].replace(".py","");return l.yield(WebBLE.download("LIB"+q,f,c),7);case 7:return l.yield(EzBlock.delay(1E3),5);case 5:a++;l.jumpTo(4);break;case 2:throw z=l.enterCatchBlock(),z;}})})().then(a,c)}):(Coding.messageModal("Connect your device first."),!1)};
Coding.connect=function(){WebBLE.isConnected?WebBLE.disconnect(function(){Coding.messageModal("Disconnected");$(".bluetoothbtn img.disconnected").show();$(".bluetoothbtn img.connected").hide()}):(Coding.messageModal("Connecting",-1),WebBLE.connect(onConnect=function(){Coding.messageModal("Connected");WebBLE.airPrintOn();$(".bluetoothbtn img.disconnected").hide();$(".bluetoothbtn img.connected").show()},onDisconnect=function(){Coding.messageModal("Disconnected");WebBLE.airPrintOff();$(".bluetoothbtn img.disconnected").show();
$(".bluetoothbtn img.connected").hide()},onError=function(a){Coding.messageModal(a)}))};Coding.clear=function(){Coding.platform.clear();Coding.libs={}};Coding.save=function(){return{code:Coding.platform.save(),libs:Coding.libs}};Coding.load=function(a){setTimeout(function(){Coding.clear();Coding.platform.load(a.code);Coding.libs=a.libs},50)};var PInformation={id:"pInformation",emailReg:/^([A-Za-z\d])+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,5}$/,menuConf:{Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},username:"",verificationCode:"",message:"\u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u60a8\u7684\u95ee\u9898\uff1a\u201c\u600e\u4e48\u6062\u590d\u51fa\u5382\u8bbe\u7f6e\u201d\u6709\u65b0\u7684\u56de\u590d\uff0c\u8bf7\u6ce8\u610f\u67e5\u770b \u7cfb\u7edf\u6d88\u606f\uff1aRaspad\u53d1\u5e03\u65b0\u7248\u672c\u5566! \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u7cfb\u7edf\u901a\u6d88\uff1a\u6b22\u8fce\u4f7f\u7528Raspad,\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u4f7f\u7528\u6559\u7a0b\u54e6 \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u60a8\u7684\u95ee\u9898\uff1a\u201c\u600e\u4e48\u6062\u590d\u51fa\u5382\u8bbe\u7f6e\u201d\u6709\u65b0\u7684\u56de\u590d\uff0c\u8bf7\u6ce8\u610f\u67e5\u770b \u7cfb\u7edf\u6d88\u606f\uff1aRaspad\u53d1\u5e03\u65b0\u7248\u672c\u5566! \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u7cfb\u7edf\u901a\u6d88\uff1a\u6b22\u8fce\u4f7f\u7528Raspad,\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u4f7f\u7528\u6559\u7a0b\u54e6 \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u60a8\u7684\u95ee\u9898\uff1a\u201c\u600e\u4e48\u6062\u590d\u51fa\u5382\u8bbe\u7f6e\u201d\u6709\u65b0\u7684\u56de\u590d\uff0c\u8bf7\u6ce8\u610f\u67e5\u770b \u7cfb\u7edf\u6d88\u606f\uff1aRaspad\u53d1\u5e03\u65b0\u7248\u672c\u5566! \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u7cfb\u7edf\u901a\u6d88\uff1a\u6b22\u8fce\u4f7f\u7528Raspad,\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u4f7f\u7528\u6559\u7a0b\u54e6 \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u60a8\u7684\u95ee\u9898\uff1a\u201c\u600e\u4e48\u6062\u590d\u51fa\u5382\u8bbe\u7f6e\u201d\u6709\u65b0\u7684\u56de\u590d\uff0c\u8bf7\u6ce8\u610f\u67e5\u770b \u7cfb\u7edf\u6d88\u606f\uff1aRaspad\u53d1\u5e03\u65b0\u7248\u672c\u5566! \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u7cfb\u7edf\u901a\u6d88\uff1a\u6b22\u8fce\u4f7f\u7528Raspad,\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u4f7f\u7528\u6559\u7a0b\u54e6 \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u60a8\u7684\u95ee\u9898\uff1a\u201c\u600e\u4e48\u6062\u590d\u51fa\u5382\u8bbe\u7f6e\u201d\u6709\u65b0\u7684\u56de\u590d\uff0c\u8bf7\u6ce8\u610f\u67e5\u770b \u7cfb\u7edf\u6d88\u606f\uff1aRaspad\u53d1\u5e03\u65b0\u7248\u672c\u5566! \u7cfb\u7edf\u901a\u77e5\uff1a\u60a8\u6709\u4e00\u6761\u672a\u8bfb\u4fe1\u606f\u5c3d\u5feb\u9605\u8bfb\uff01\uff01\uff01 \u7cfb\u7edf\u901a\u6d88\uff1a\u6b22\u8fce\u4f7f\u7528Raspad,\u8fd9\u91cc\u6709\u8be6\u7ec6\u7684\u4f7f\u7528\u6559\u7a0b\u54e6".split(" "),
pageno:1,pagesize:8};PInformation.pageLength=PInformation.message.length;var pageall=0==PInformation.pageLength%PInformation.pagesize?PInformation.pageLength/PInformation.pagesize:parseInt(PInformation.pageLength/PInformation.pagesize)+1;
PInformation.setUserInfo=function(){var a=$(".essentialInformationIpt .p_username input").val(),c=$('.essentialInformationIpt .p_sex input:radio[name="sex"]:checked').val(),e=$(".essentialInformationIpt .p_age input").val(),m=$(".essentialInformationIpt .p_email input").val(),l=$(".essentialInformationIpt .p_country input").val(),f=$(".essentialInformationIpt .p_work input").val();window.sessionStorage.getItem("username");if(parseInt(e)!=e||0>=e)$(".p_errorMsg").show(),$(".p_errorMsg").html(MSG.ageScope),
setTimeout(function(){$(".p_errorMsg").hide()},1200);else{var q={accessToken:"123",userToken:EzBlock.userToken,userInfo:{name:a,sex:c,age:e,country:l,job:f,email:"",img:$(".photoUpload").attr("src")}};API.get("users/lan",q).then(function(q){console.log(q);if("\u4fee\u6539\u5931\u8d25"==q.errorMsg)PInformation.unedit(),PInformation.getUserInfo(),$(".p_saveMsg").show(),$(".p_saveMsg").html(MSG.failToModify),setTimeout(function(){$(".p_saveMsg").hide()},1200);else{q=q.userInfo;for(var z="name sex age country job email".split(" "),
u={},C=0;C<z.length;C++)for(key in q)z[C]==key&&(u[key]="email"==key?q[key]:q[key]+" / ");z=""+u.name.split("/")[0];q.img&&$(".headermaster img").attr("src",q.img);PInformation.unedit();PInformation.getUserInfo();Register.condition.userInfo.name=a;Register.condition.userInfo.sex=c;Register.condition.userInfo.age=e;Register.condition.userInfo.country=l;Register.condition.userInfo.job=f;Register.condition.userInfo.email=m;Register.condition.userInfo.img=$(".photoUpload").attr("src");window.sessionStorage&&
window.sessionStorage.setItem("username",a);$(".p_introduce").html(z);$(".p_saveMsg").html(MSG.saveSuccessfully)}})}};
PInformation.getIdentiCode=function(){var a=$(".e_authentication_ipt .emailMessage input").val();$(".e_authentication_ipt .verificationCode input").val();1>a.length?($(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.enterEmail),setTimeout(function(){$(".e_errorMsg").hide()},1200)):PInformation.emailReg.test(a)?($("#e_authentication_shadow").show(),API.get("users/isemail",{accessToken:"123",email:a}).then(function(c){console.log(c);"\u8be5\u90ae\u7bb1\u5df2\u6ce8\u518c"==c.errorMsg?($(".e_errorMsg").show(),
$(".e_errorMsg").html(MSG.emailRegistered),setTimeout(function(){$(".e_errorMsg").hide()},1200),$("#e_authentication_shadow").hide()):API.get("users/email",{accessToken:"123",email:a}).then(function(a){console.log(a);1==a.status&&($(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.verificatioCodeSent),setTimeout(function(){$(".e_errorMsg").hide()},1200),$("#e_authentication_shadow").hide(),PInformation.verificationCode=a.code)})})):($(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.emailFormat),setTimeout(function(){$(".e_errorMsg").hide()},
1200))};PInformation.verificationCodeBack=function(){PInformation.enterPersonMessage()};
PInformation.changeEmailAddress=function(){var a=$(".e_authentication_ipt .emailMessage input").val(),c=$(".e_authentication_ipt .verificationCode input").val();1>a.length?($(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.enterEmail),setTimeout(function(){$(".e_errorMsg").hide()},1200)):PInformation.emailReg.test(a)?API.get("users/isemail",{accessToken:"123",email:a}).then(function(e){console.log(e);if("\u8be5\u90ae\u7bb1\u5df2\u6ce8\u518c"==e.errorMsg)$(".e_errorMsg").html(MSG.emailRegistered),
$(".e_errorMsg").show(),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if("\u8be5\u90ae\u7bb1\u672a\u6ce8\u518c"==e.errorMsg)if(""==c)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.verificationCodeNotNull),setTimeout(function(){$(".e_errorMsg").hide()},1200);else{$("#e_authentication_shadow").show();Register.condition.userInfo.email=a;$(".essentialInformationIpt .p_email input").val(a);var m=$(".essentialInformationIpt .p_username input").val(),l=$('.essentialInformationIpt .p_sex input:radio[name="sex"]:checked').val(),
f=$(".essentialInformationIpt .p_age input").val(),q=$(".essentialInformationIpt .p_email input").val(),z=$(".essentialInformationIpt .p_country input").val(),B=$(".essentialInformationIpt .p_work input").val();window.sessionStorage.getItem("usertoken");e={accessToken:"123",userToken:EzBlock.userToken,userInfo:{name:m,sex:l,age:f,country:z,job:B,email:q,verifyCode:c,img:$(".photoUpload").attr("src")}};API.get("users/lan",e).then(function(c){console.log(c);if("\u4fee\u6539\u5931\u8d25"==c.errorMsg)PInformation.unedit(),
$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.failToModify),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if("\u9a8c\u8bc1\u7801\u9519\u8bef"==c.errorMsg)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.verificationCodeError),$("#e_authentication_shadow").hide(),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if(1==c.status){c=c.userInfo;for(var e="name sex age country job email".split(" "),u={},v=0;v<e.length;v++)for(key in c)e[v]==key&&(u[key]="email"==key?c[key]:c[key]+
" / ");e=""+u.name.split("/")[0];c.img&&$(".headermaster img").attr("src",c.img);PInformation.unedit();console.log(a);Register.condition.userInfo.name=m;Register.condition.userInfo.sex=l;Register.condition.userInfo.age=f;Register.condition.userInfo.country=z;Register.condition.userInfo.job=B;Register.condition.userInfo.email=q;Register.condition.userInfo.img=$(".photoUpload").attr("src");window.sessionStorage&&window.sessionStorage.setItem("email",q);$(".p_introduce").html(e);Coding.messageModal(MSG.changeEmailSuccessfully);
setTimeout(function(){window.sessionStorage&&(window.sessionStorage.removeItem("usertoken"),EzBlock.renderPage("home"),$("#login").modal("show"),$("#login .userName").val(""),$("#login .password").val(""));$(".e_authentication_ipt .emailMessage input, .e_authentication_ipt .verificationCode input,.e_authentication_ipt .verificationCode input").val("")},2E3)}})}}):($(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.emailFormat),setTimeout(function(){$(".e_errorMsg").hide()},1200))};
PInformation.resendIdentiCode=function(){PInformation.getIdentiCode()};PInformation.enterPersonMessage=function(){$(".personContentUl li").css("color","rgb(102,102,102)");$(".personContentRight").find(".p_message").show();$(".personContentRight").find(".p_message").siblings("div").hide();$(".personContentUl_ul,.p_shrink").hide();$(".p_expand").show();$(".essentialInformationIpt .p_email .identiBtn").css("color","rgb(102,102,102)");$(".per_mgs_li").css("color","rgb(255,202,75)")};
PInformation.enterEmailAuthentPage=function(){$(".personContentUl li").css("color","rgb(102,102,102)");$(event.target).css("color","rgb(255,202,75)");$(".personContentRight").find(".e_authentication").show();$(".personContentRight").find(".e_authentication").siblings("div").hide();$(".personContentUl_ul,.p_shrink").show();$(".p_expand").hide();$(".personContentUl_ul li:first-child").show();$(".personContentUl_ul li:first-child").css("color","rgb(255,202,75)")};
PInformation.previewFile=function(a){if(a.files){a=a.files[0];var c=new FileReader;c.onload=function(a){a=a.target.result;var c=new Image;c.src=a;c.onload=function(){var a=PInformation.resizeImages(c,c.width,c.height,.5);$(".photoUpload").attr("src",a)}};c.readAsDataURL(a)}};PInformation.resizeImages=function(a,c,e,m){var l=document.createElement("canvas");l.width=c;l.height=e;l.getContext("2d").drawImage(a,0,0,c,e);return l.toDataURL("image/jpeg",m)};
PInformation.edit=function(){$(".essentialInformationIpt .p_username input").removeAttr("readonly");$(".essentialInformationIpt .p_age input").removeAttr("readonly");$(".essentialInformationIpt .p_country input").removeAttr("readonly");$(".essentialInformationIpt .p_work input").removeAttr("readonly");$(".essentialInformationIpt .p_email input").attr("readonly","readonly");$(".essentialInformationIpt .p_sex input").removeAttr("disabled");$(".essentialInformationIpt .p_username input").css("border",
"1px solid #ccc");$(".essentialInformationIpt .p_age input").css("border","1px solid #ccc");$(".essentialInformationIpt .p_country input").css("border","1px solid #ccc");$(".essentialInformationIpt .p_work input").css("border","1px solid #ccc");$(".essentialInformationIpt .p_email input").css("border","none");$(".uploadPhoto input").attr("type","file");$(".save_msg ._save").show();$(".essentialInformationSpan .p_username,.essentialInformationSpan .p_sex,.essentialInformationSpan .p_age,.essentialInformationSpan .p_country,.essentialInformationSpan .p_work,.essentialInformationSpan .p_email").show();
$(".essentialInformationIpt .p_username,.essentialInformationIpt .p_sex,.essentialInformationIpt .p_age,.essentialInformationIpt .p_country,.essentialInformationIpt .p_work,.essentialInformationIpt .p_email").show();$(".essentialInformationIpt .p_email .identiBtn").css("right","-140px");$(".save_msg .edit").hide();$(".essentialInformationIpt .p_email .identiBtn").show();$(".manIpt,.femanIpt,.manSpan,.femanSpan").show();$(".manSpan").css("margin-right","60px");$(".selectSex").hide()};
PInformation.unedit=function(){$(".essentialInformationIpt .p_username input").attr("readonly","readonly");$(".essentialInformationIpt .p_age input").attr("readonly","readonly");$(".essentialInformationIpt .p_country input").attr("readonly","readonly");$(".essentialInformationIpt .p_work input").attr("readonly","readonly");$(".essentialInformationIpt .p_email input").attr("readonly","readonly");$(".essentialInformationIpt .p_sex input").attr("disabled","disabled");$(".essentialInformationIpt .p_username input").css("border",
"none");$(".essentialInformationIpt .p_age input").css("border","none");$(".essentialInformationIpt .p_country input").css("border","none");$(".essentialInformationIpt .p_work input").css("border","none");$(".essentialInformationIpt .p_email input").css("border","none");$(".uploadPhoto input").removeAttr("type");$(".save_msg ._save").hide();$(".essentialInformationSpan .p_username,.essentialInformationSpan .p_sex,.essentialInformationSpan .p_age,.essentialInformationSpan .p_country,.essentialInformationSpan .p_work,.essentialInformationSpan .p_email").hide();
$(".essentialInformationIpt .p_username,.essentialInformationIpt .p_sex,.essentialInformationIpt .p_age,.essentialInformationIpt .p_country,.essentialInformationIpt .p_work,.essentialInformationIpt .p_email").hide();$(".essentialInformationIpt .p_email .identiBtn").css("right","-110px");$(".save_msg .edit").show();$(".essentialInformationIpt .p_email .identiBtn").hide();$(".manIpt,.femanIpt,.manSpan,.femanSpan").hide();$(".selectSex").show();$(".selectSex").css({"float":"left",marginLeft:"30px"})};
PInformation.getUserInfo=function(){API.get("users/member",{accessToken:"123",userToken:EzBlock.userToken}).then(function(a){a=a.userInfo;console.log(a);for(var c="name sex age country job email".split(" "),e={},m=0;m<c.length;m++)for(key in a)c[m]==key&&(e[key]="email"==key?a[key]:a[key]+" / ");c=""+e.name.split("/")[0];e.name&&($(".essentialInformationSpan .p_username,.essentialInformationIpt .p_username").show(),$(".essentialInformationIpt .p_username input").val(e.name.split("/")[0]),$(".essentialInformationIpt .p_username input").css("border",
"none"));e.sex&&($(".essentialInformationSpan .p_sex,.essentialInformationIpt .p_sex").show(),$('.essentialInformationIpt .p_sex input:radio[name="sex"][value='+e.sex.split("/")[0]+"]").prop("checked",!0),m=$('.essentialInformationIpt .p_sex input:radio[name="sex"][value='+e.sex.split("/")[0]+"]").val(),m=MSG[m],$(".selectSex").html(m));e.age&&($(".essentialInformationSpan .p_age,.essentialInformationIpt .p_age").show(),$(".essentialInformationIpt .p_age input").val(e.age.split("/")[0]),$(".essentialInformationIpt .p_age input").css("border",
"none"));e.country&&($(".essentialInformationSpan .p_country,.essentialInformationIpt .p_country").show(),$(".essentialInformationIpt .p_country input").val(e.country.split("/")[0]),$(".essentialInformationIpt .p_country input").css("border","none"));e.job&&($(".essentialInformationSpan .p_work,.essentialInformationIpt .p_work").show(),$(".essentialInformationIpt .p_work input").val(e.job.split("/")[0]),$(".essentialInformationIpt .p_work input").css("border","none"));e.email&&($(".essentialInformationIpt .p_email input").val(e.email.split("/")[0]),
$(".essentialInformationIpt .p_email,.essentialInformationSpan .p_email").show(),$(".essentialInformationIpt .p_email input").css("border","none"));a.img&&($(".headermaster img").attr("src",a.img),$(".photoUpload").attr("src",a.img),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img").attr("src",a.img));$(".p_introduce").html(c)})};
PInformation.changePwd=function(){var a=$(".changePwdIpt .e_oldpwd input").val(),c=$(".changePwdIpt .e_newpwd input").val(),e=$(".changePwdIpt .e_test input").val();""==a||""==c||""==e?(PInformation.errorShow(),$(".pwd_error").html(MSG.passWordEamilNotNull),PInformation.errorHide()):PInformation.emailReg.test(e)?API.get("users/upuserpaw",{accessToken:123,email:e,password:a,newPassword:c}).then(function(a){console.log(a);"\u5bc6\u7801\u9519\u8bef"==a.errorMsg?(PInformation.errorShow(),$(".pwd_error").html(MSG.oldPwdError),
PInformation.errorHide()):"\u65b0\u65e7\u5bc6\u7801\u4e00\u6837"==a.errorMsg?(PInformation.errorShow(),$(".pwd_error").html(MSG.oldNewPwdSame),PInformation.errorHide()):"\u90ae\u7bb1\u4e0d\u5b58\u5728"==a.errorMsg?(PInformation.errorShow(),$(".pwd_error").html(MSG.emailNotExist),PInformation.errorHide()):(PInformation.errorShow(),$(".pwd_error").html(MSG.pwdChangedSuccessfully),Register.condition.userInfo.password=c,PInformation.errorHide(),setTimeout(function(){$("#login .userName").val("");$("#login .password").val("");
window.sessionStorage&&window.sessionStorage.setItem("usertoken","");EzBlock.renderPage("home");$(".changePwdIpt .e_oldpwd input, .changePwdIpt .e_newpwd input,.changePwdIpt .e_test input").val("");$(".e_authentication_ipt .emailMessage input, .e_authentication_ipt .verificationCode input,.e_authentication_ipt .verificationCode input").val("")},1200))}):(PInformation.errorShow(),$(".pwd_error").html(MSG.emailFormat),PInformation.errorHide())};
PInformation.appendMessage=function(){for(var a="",c=0;c<PInformation.message.length;c++)a+="\n\t\t\t<li onclick=\"javascript:this.firstElementChild.style.color='rgb(178,178,178)'\">\n\t\t\t\t<a href='#'>"+PInformation.message[c]+'</a>\n\t\t\t\t<img src="./img/rightarrow.png"></img>\n\t\t\t</li>\n\t\t\t<hr/>\t\n\t\t';$(".system_msg ul").append(a);$(".p_msg_num").html(PInformation.message.length)};
PInformation.renderPage=function(a,c){$(c.target).siblings("li").css("color","rgb(102,102,102)");$(".essentialInformationIpt .p_email .identiBtn").css("color","rgb(102,102,102)");$(".e_authentication .e_confirm").css("color","rgb(102,102,102)");"personContentUl"!=$(c.target).context.parentElement.className?($(c.target).context.parentElement.style.display="block",$(".personContentUl").find("li").css("color","rgb(102,102,102)")):$(".personContentUl_ul li").css("color","rgb(102,102,102)");$(c.target).css("color",
"rgb(255,202,75)");$(".personContentRight").find("."+a).show();$(".personContentRight").find("."+a).siblings("div").hide()};
PInformation.msgNull=function(){$(".p_errorMsg").html("");$(".essentialInformationIpt .p_username input").val("");$(".essentialInformationIpt .p_age input").val("");$(".essentialInformationIpt .p_country input").val("");$(".essentialInformationIpt .p_work input").val("");$(".essentialInformationIpt .p_email input").val("");$(".essentialInformationIpt .p_sex input").removeAttr("checked");$("#login .userName").val("");$("#login_password").val("");$("#register_username").val("");$("#register_password").val("");
$("#register_repassword").val("");$(".p_introduce").html("");$(".e_authentication_ipt .emailMessage input").val("");$(".e_authentication_ipt .verificationCode input").val("");$(".uploadPhoto img").attr("src","../img/default-headshot.png");$(".p_img_and_info div img").attr("src","../img/default-headshot.png");PInformation.unedit();$(".cancelUser").hide();$(".leave_out").hide();$(".personContentRight .save_msg").css("text-align","center");$(".essentialInformationIpt .p_email,.essentialInformationSpan .p_email").hide()};
PInformation.deleteUsertoken=function(){window.sessionStorage&&window.sessionStorage.removeItem("usertoken");PInformation.msgNull();EzBlock.renderPage("home");$("#login").modal("show");$("#register .userName").val("");$("#register .password").val("");$("#register .rePassword").val("");$("#login .userName").val("");$("#login .password").val("");$(".deleteUserIpt .d_username input, .deleteUserIpt .d_password input").val("")};
PInformation.cancelUser=function(a){a=$(".deleteUserIpt .d_username input").val();var c=$(".deleteUserIpt .d_password input").val();API.get("users/deluser",{accessToken:123,name:a,password:c}).then(function(a){console.log(a);"\u7528\u6237\u4e0d\u5b58\u5728"==a.errorMsg?($(".delete_error").html(MSG.userNotExist),$(".delete_error").show(),setTimeout(function(){$(".delete_error").hide()},1200)):"\u5bc6\u7801\u9519\u8bef"==a.errorMsg?($(".delete_error").html(MSG.loginPwdError),$(".delete_error").show(),
setTimeout(function(){$(".delete_error").hide()},1200)):1==a.status&&(PInformation.msgNull(),Coding.messageModal(MSG.cancelSuccessfully),setTimeout(function(){PInformation.deleteUsertoken()},2E3))})};PInformation.errorShow=function(){$(".pwd_error").show()};PInformation.errorHide=function(){setTimeout(function(){$(".pwd_error").hide()},1200)};
PInformation.show=function(){document.querySelector(".personContent").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".dragheader2 .goBack").style.display="block";document.querySelector(".video-block").style.display="block";MakeOption.makeOptions(PInformation.menuConf);MakeOption.show(PInformation.menuConf);PInformation.unedit();PInformation.changePageNo(PInformation.pageno);var a=window.sessionStorage.getItem("usertoken");""!=a&&null!=a&&
(PInformation.getUserInfo(),$(".cancelUser").show(),$(".leave_out").show())};PInformation.hide=function(){document.querySelector(".personContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".dragfooter").style.display="none";document.querySelector(".dragheader2 .goBack").style.display="none";document.querySelector(".video-block").style.display="none";MakeOption.hide(PInformation.menuConf)};
PInformation.sizeHeight=function(){var a=$(window).height()-$(".dragheader2").height();$(".personContent").height(a)};PInformation.init=function(){$(".personContentRight").width($(window).width()-$(".personContentLeft").width());$(window).resize(function(){$(".personContentRight").width($(window).width()-$(".personContentLeft").width())});$(".acc_safe").click(function(){$(".personContentUl_ul").toggle();$(this).children("img").toggle()})};
PInformation.changePageNo=function(a){1>a&&(a=1);a>pageall&&(a=pageall);$(".system_msg ul").html("");for(var c=0;c<PInformation.pagesize;c++){var e="\n\t\t\t<li onclick=\"javascript:this.firstElementChild.style.color='rgb(178,178,178)';\">\n\t\t\t\t<a href='#'>"+PInformation.message[(a-1)*PInformation.pagesize+c]+'</a>\n\t\t\t\t<img src="./img/rightarrow.png"></img>\n\t\t\t</li>\n\t\t\t<hr/>\t\n\t\t';$(".system_msg ul").append(e);if(null==PInformation.message[(a-1)*PInformation.pagesize+c+1])break}$(".system_msg .pager .pageNum").html(a);
$(".p_msg_num").html(PInformation.message.length)};var Simulator={devicePins:{},modulesPin:{},run_flag:!0,connectModules:{},forever:"",simulator:"",runner:null};Simulator.types={digitalOutput:DigitalOutput_,digitalInput:DigitalInput_,AnalogInput:AnalogInput_,ADInput:ADInput_,Communicate:Communicate_};Simulator.pinSTypes={};
function Pin_(a){var c=this;this.pin=a;this._value=this.value=0;this.linkPinObj="";Object.defineProperty(this,"value",{get:function(){return c._value},set:function(a){c._value!=a&&(c._value=a,c.linkPinObj.value=a,this.onChange(c._value))}});this.onChange=function(a){}}
function DigitalOutput_(a,c,e,m){var l=this;this.pinObj=a;this.modulesId=c;this.modulesName=e;this.onHigh=function(){console.log("onHigh");console.log(l.modulesId);Simulator.changeModulesImages(l.modulesId,m.onHigh)};this.onLow=function(){console.log("onLow");console.log(l.modulesId);Simulator.changeModulesImages(l.modulesId,m.onLow)};this.pinObj.onChange=function(a){if("0"==a)l.onLow();else if("1"==a)l.onHigh()}}
function DigitalInput_(a,c,e,m){var l=this;console.log(m);var f=this;this.pinObj=a[m.pin];this.modulesId=c;this.modulesName=e;this.element=$("#"+c);this.flag=!0;"toggle"==m.mode?(this.touchstartValue=m.initValue,this.touchendValue=this.touchstartValue+1&1,this.element.on({touchstart:function(){console.log("0000");f.pinObj.value=f.touchstartValue},touchend:function(){console.log("1111");f.pinObj.value=f.touchendValue}}),this.element.mousedown(function(){console.log("0000");f.pinObj.value=f.touchstartValue}),
this.element.mouseup(function(){console.log("1111");f.pinObj.value=l.touchendValue})):"click"==m.mode&&this.element.click(function(){console.log(f.pinObj.value);f.pinObj.value?f.pinObj.value=0:f.pinObj.value=1})}
function AnalogInput_(a,c,e,m){console.log(c);var l=this;this.pinObj=a[m.pin];this.modulesId=c;this.modulesName=e;this.element=$("#"+c);this.element.find(".simulatorSlider").slider({range:"min",animate:!0,max:4096,orientation:"vertical",step:1,slide:function(a,c){a=l.element.find(".simulatorSlider").slider("option","value");console.log(a);l.pinObj.value=a;l.element.find(".simulatorSlider").find("#amount").html(a)}});this.element.find(".simulatorSlider").find("#amount").html(this.element.find(".simulatorSlider").slider("value"))}
function ADInput_(a,c,e,m){this.pinObjArr=[];this.pinObjArr.push(a);this.modulesId=c;this.modulesName=e;this.element=$("#"+c)}
function Communicate_(a,c,e,m){var l=this;this.pinObj=a;this.modulesId=c;this.modulesName=e;this.element=$("#"+c);this.B=this.G=this.R=0;for(key in this.pinObj)this.pinObj[key].onChange=function(a){console.log(this.pin);this.pin==m.R?l.R=a:this.pin==m.G?l.G=a:this.pin==m.B&&(l.B=a);console.log("rgb("+l.R+", "+l.G+", "+l.B+")");$(".backgroundBlock").remove();a=document.createElement("div");a.setAttribute("class","backgroundBlock");a.style.background="rgb("+l.R+", "+l.G+", "+l.B+")";l.element.append(a)}}
Simulator.run=function(){console.log("=======>Simulator.run");for(var a in Routing.currentModule)for(var c in Routing.currentModule[a]){Simulator.modulesPin[c]={};var e=c.split("#")[0],m=c.split("#")[1],l=device.kits[a].modules[e];Simulator.connectModules[e]=l;for(var f in Routing.currentModule[a][c].pins){var q=Routing.currentModule[a][c].pins[f].targetPoint;Simulator.modulesPin[c][f]=new Pin_(f);Simulator.devicePins[q]=new Pin_(q);Simulator.connect(Simulator.modulesPin[c][f],Simulator.devicePins[q])}Simulator.pinSTypes[""+
c]=new Simulator.types[l.simulator.type](Simulator.modulesPin[c],m,e,l.simulator)}runCode()};Simulator.connect=function(a,c){console.log("\u5df2\u8fde\u63a5");a.linkPinObj=c;c.linkPinObj=a};
Simulator.disConnect=function(a){console.log("pin\u8fde\u63a5\u5df2\u65ad\u5f00");Simulator.devicePins={};Simulator.modulesPin={};for(var c in Simulator.pinSTypes)Simulator.unbindEvent(Simulator.pinSTypes[c].modulesId),Simulator.removeSlider(Simulator.pinSTypes[c].modulesId),Routing.garbage();Simulator.pinSTypes={}};Simulator.unbindEvent=function(a){$("#"+a).off("touchstart touchend mousedown mouseup click")};
Simulator.removeSlider=function(a){$("#"+a).find(".simulatorSlider").remove();$("#"+a).find("#amount").remove();var c=document.createElement("div"),e=document.createElement("span");c.setAttribute("class","simulatorSlider");e.setAttribute("id","amount");$("#"+a).append(c);$("#"+a).find(".simulatorSlider").append(e)};Simulator.runEvent=function(){EzBlock.renderPage("routing");Routing.run()};Simulator.value=function(){if(0!=arguments.length)Simulator.devicePins[pin].value=val;else return Simulator.devicePins[pin].value};
function Pin(a){Simulator.print("1111");return{value:function(c){if(0!=arguments.length)Simulator.devicePins[a].value=c;else return Simulator.devicePins[a].value},on:function(){Simulator.devicePins[a].value=1},off:function(){Simulator.devicePins[a].value=0},irq:function(a){}}}function ADC(a){return{read:function(){return Simulator.devicePins[a].value}}}function PWM(a){return{pulse_width:function(c){Simulator.devicePins[a].value=c}}}
Simulator.print=function(a){$(".routingGetMessage").append('<div style="padding-left:10px;">'+a+"</div>");$(".routingGetMessage").scrollTop($(".routingGetMessage")[0].scrollHeight)};function runCode(a){a=void 0===a?null:a;setTimeout(function(){null==a&&(a=Simulator.getCode());console.log(a);Simulator.simulator=new Interpreter(a,Simulator.initApi);Simulator.runner=function(){Simulator.simulator&&Simulator.simulator.run()&&setTimeout(Simulator.runner,10)};Simulator.runner()},1)}Simulator.getCode=function(){return Blockly.JavaScript.workspaceToCode(BlockCode.workspace)};
Simulator.stop=function(){Simulator.simulator=null;Simulator.runner&&(Simulator.runner=null);$(".backgroundBlock").remove()};Simulator.go=function(){Simulator.run_flag=!0};Simulator.changeModulesImages=function(a,c){$("#"+a).find("img").attr("src",c)};
Blockly.JavaScript.controls_repeat_ext=function(a){var c=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=Blockly.JavaScript.statementToCode(a,"DO");e=Blockly.JavaScript.addLoopTrap(e,a.id);a="";var m=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),l=c;c.match(/^\w+$/)||Blockly.isNumber(c)||(l=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE),
a+="var "+l+" = "+c+";\n");return a+("for (var "+m+" = 0; "+m+" < "+l+"; "+m+"++) {\n"+e+"  await delay(1)\n  if(!Simulator.run_flag){break;};\n}\n")};Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext;
Blockly.JavaScript.controls_whileUntil=function(a){var c="UNTIL"==a.getFieldValue("MODE"),e=Blockly.JavaScript.valueToCode(a,"BOOL",c?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",m=Blockly.JavaScript.statementToCode(a,"DO");m=Blockly.JavaScript.addLoopTrap(m,a.id);c&&(e="!"+e);return"while ("+e+") {\n"+m+"  await delay(1)\n  if(!Simulator.run_flag){break;};\n}\n"};
Blockly.JavaScript.controls_for=function(a){var c=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),e=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",m=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",l=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",f=Blockly.JavaScript.statementToCode(a,"DO");f=Blockly.JavaScript.addLoopTrap(f,a.id);if(Blockly.isNumber(e)&&Blockly.isNumber(m)&&
Blockly.isNumber(l)){var q=parseFloat(e)<=parseFloat(m);a="for ("+c+" = "+e+"; "+c+(q?" <= ":" >= ")+m+"; "+c;c=Math.abs(parseFloat(l));a=(1==c?a+(q?"++":"--"):a+((q?" += ":" -= ")+c))+(") {\n"+f+"  await delay(1)\n  if(!Simulator.run_flag){break;};\n}\n")}else a="",q=e,e.match(/^\w+$/)||Blockly.isNumber(e)||(q=Blockly.JavaScript.variableDB_.getDistinctName(c+"_start",Blockly.Variables.NAME_TYPE),a+="var "+q+" = "+e+";\n"),e=m,m.match(/^\w+$/)||Blockly.isNumber(m)||(e=Blockly.JavaScript.variableDB_.getDistinctName(c+
"_end",Blockly.Variables.NAME_TYPE),a+="var "+e+" = "+m+";\n"),m=Blockly.JavaScript.variableDB_.getDistinctName(c+"_inc",Blockly.Variables.NAME_TYPE),a+="var "+m+" = ",a=Blockly.isNumber(l)?a+(Math.abs(l)+";\n"):a+("Math.abs("+l+");\n"),a=a+("if ("+q+" > "+e+") {\n")+(Blockly.JavaScript.INDENT+m+" = -"+m+";\n"),a=a+"  await delay(1)\n  if(!Simulator.run_flag){break;};\n}\n"+("for ("+c+" = "+q+"; "+m+" >= 0 ? "+c+" <= "+e+" : "+c+" >= "+e+"; "+c+" += "+m+") {\n"+f+"  await delay(1)\n  if(!Simulator.run_flag){break;};\n}\n");
return a};
Blockly.JavaScript.controls_forEach=function(a){var c=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),e=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",m=Blockly.JavaScript.statementToCode(a,"DO");m=Blockly.JavaScript.addLoopTrap(m,a.id);a="";var l=e;e.match(/^\w+$/)||(l=Blockly.JavaScript.variableDB_.getDistinctName(c+"_list",Blockly.Variables.NAME_TYPE),a+="var "+l+" = "+e+";\n");e=Blockly.JavaScript.variableDB_.getDistinctName(c+"_index",
Blockly.Variables.NAME_TYPE);m=Blockly.JavaScript.INDENT+c+" = "+l+"["+e+"];\n"+m;return a+("for (var "+e+" in "+l+") {\n"+m+"  await delay(1)\n  if(!Simulator.run_flag){break;};\n}\n")};
Simulator.initApi=function(a,c){var e=function(a){return Simulator.print(a)};a.setProperty(c,"print",a.createNativeFunction(e));Blockly.JavaScript.addReservedWords("delay");e=function(a,c){setTimeout(c,a)};a.setProperty(c,"delay",a.createAsyncFunction(e));e=function(c){var e=a.createObject(a.OBJECT);a.setProperty(e,"value",a.createNativeFunction(function(a){if(0!=arguments.length)Simulator.devicePins[c].value=a;else return Simulator.devicePins[c].value}));a.setProperty(e,"on",a.createNativeFunction(function(){Simulator.devicePins[c].value=
1}));a.setProperty(e,"off",a.createNativeFunction(function(){Simulator.devicePins[c].value=1}));return e};a.setProperty(c,"Pin",a.createNativeFunction(e));e=function(c){var e=a.createObject(a.OBJECT);a.setProperty(e,"read",a.createNativeFunction(function(){return Simulator.devicePins[c].value}));return e};a.setProperty(c,"ADC",a.createNativeFunction(e));e=function(c){var e=a.createObject(a.OBJECT);a.setProperty(e,"pulse_width",a.createNativeFunction(function(a){Simulator.devicePins[c].value=a}));
return e};a.setProperty(c,"PWM",a.createNativeFunction(e));e=function(a){return alert(a)};a.setProperty(c,"alert",a.createNativeFunction(e));e=function(a){return console.log(a)};a.setProperty(c,"debug",a.createNativeFunction(e))};var Routing={id:"routing",count:0,draggableId:"",left:"",top:"",inited:!1,stop:!1,isRunning:!1,exampleDropOption:{tolerance:"touch",hoverClass:"dropHover",activeClass:"dropActive"},loadcont:0,currentModule:{},deviceInitPostionX:"50%",deviceInitPostionY:"50%",deviceInitPostionId:"_0"};Routing.devicePostion={x:Routing.deviceInitPostionX,y:Routing.deviceInitPostionY,id:Routing.deviceInitPostionId};Routing.connect={};
Routing.scope={type:{power:{color:"rgb(255,0,0)"},com:{color:"#fecb49"},pwm:{color:"#fecb49"},digital:{color:"#fecb49"},analog:{color:"#fecb49"},ground:{color:"#a22edc"},other:{color:"#000000"}}};Routing.menuConf={Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]};
Routing.createBlocks=function(){BlockCode.kitsToolboxText="";var a=!1;Routing.blocks={};if(isEmptyObject(Routing.currentModule))return BlockCode.reflashToolbox(),!1;var c=[];for(key in Routing.currentModule){var e=device.kits[key],m='<category name="%{BKY_CAT'+e.id.toUpperCase()+'}" colour="'+Blockly.Blocks[e.id].RGB+'">';Routing.blocks[key]="";for(k in Routing.currentModule[key]){var l=e.modules[k.split("#")[0]],f=l.blocks;if(f)for(var q=0;q<f.length;q++){a=Blockly.Xml.textToDom(f[q]);for(var z in l.pins)if(-1<
["digital","analog","pwm"].indexOf(l.pins[z].type)&&Routing.currentModule[key][k].pins[l.pins[z].name]){var B=document.createElement("value"),u=document.createElement("block"),C=document.createElement("field");B.setAttribute("name",l.pins[z].name);u.setAttribute("type",device.id+"_"+l.pins[z].type+"_pin");C.setAttribute("name","pin");C.innerHTML='"'+Routing.currentModule[key][k].pins[l.pins[z].name].targetPoint+'"';u.appendChild(C);B.appendChild(u);a.appendChild(B)}m+=Blockly.Xml.domToText(a);a=!0}}m+=
"</category>";a||(m="");c.push(m)}BlockCode.kitsToolboxText=c.join(" ");BlockCode.reflashToolbox()};
Routing.createConnectionTable=function(a,c){if(Routing.isRunning)$(".routingContent #cart #list").html(" ");else{var e='<table class="connectTable"><tr><th>'+device.kits[a].modules[c.split("#")[0]].name+"("+device.kits[a].name+")</th><th>"+device.name+"</th></tr>",m=!0;if(Routing.currentModule[a]&&Routing.currentModule[a][c]&&Routing.currentModule[a][c].pins)for(key in Routing.currentModule[a][c].pins)for(i in Routing.currentModule[a][c].pins[key])"sourceUuid"!=i&&"targetUuid"!=i&&(e+="<tr><td> "+
key+"</td><td>"+Routing.currentModule[a][c].pins[key][i]+"</td></tr>"),m=!1;e+="</table>";m?($("#list").html(""),$("#list").hide()):($("#list").html(e),$("#list").show(),$("#list").draggable({containment:"#contain_routing"}))}};
Routing.connectionList=function(){jsPlumb.bind("connection",function(a){var c=a.source.dataset.kit,e=a.source.dataset.name+"#"+a.source.id,m=a.sourceEndpoint.name,l=a.targetEndpoint.name,f=a.sourceEndpoint.getUuid();a=a.targetEndpoint.getUuid();Routing.currentModule[c][e].pins[m]={targetPoint:l,sourceUuid:f,targetUuid:a};Routing.createConnectionTable(c,e);Routing.isRunning&&Routing.stop()});jsPlumb.bind("connectionDetached",function(a){setTimeout(function(){var c=a.source.dataset.kit,e=a.source.dataset.name+
"#"+a.source.id,m=a.sourceEndpoint.name;Routing.currentModule[c]&&Routing.currentModule[c][e]&&Routing.currentModule[c][e].pins&&delete Routing.currentModule[c][e].pins[m];Routing.createConnectionTable(c,e);Routing.isRunning&&Routing.stop()},100)})};
Routing.createEndpoint=function(a,c,e,m,l,f){color=Routing.scope.type[e].color;img=Routing.scope.type[e].img;c=c.join(" ");return{isSource:a,isTarget:!a,scope:c,endpoint:f,paintStyle:{fill:color},connectorStyle:{stroke:color,strokeWidth:3},connector:["Bezier",{curviness:63}],maxConnections:1,dropOptions:m,cssClass:l}};
Routing.createModelFromUi=function(a){var c=$(a.helper[0]).attr("src");$(a.helper[0]).attr("class").split("-");var e=$(a.helper[0]).attr("data-name"),m=$(a.helper[0]).attr("data-kit"),l=a.position.left;a=a.position.top;e=Routing.createModel(c,m,e,l,a);Routing.currentModule[m]||(Routing.currentModule[m]={});Routing.currentModule[m][e]||(Routing.currentModule[m][e]={});Routing.currentModule[m][e].x=l;Routing.currentModule[m][e].y=a;Routing.currentModule[m][e].src=c;Routing.currentModule[m][e].pins=
{}};
Routing.garbage=function(){$(".r-garbage").droppable({drop:function(a,c){if($(c.helper.context).is($(".node"))){jsPlumb.removeAllEndpoints(Routing.draggableId);Routing.draggableKit=c.helper.context.dataset.kit;var e=Routing.draggableName+"#"+Routing.draggableId;c.draggable.remove();setTimeout(function(){delete Routing.currentModule[Routing.draggableKit][e];isEmptyObject(Routing.currentModule[Routing.draggableKit])&&delete Routing.currentModule[Routing.draggableKit]},2)}},activate:function(a,c){},deactivate:function(){$(".trashcan-lid").css({transform:"rotate(0)",
"-webkit-transform":"rotate(0)"});$(".trashcan-lid img").css("marginTop","0")}})};
Routing.createModel=function(a,c,e,m,l){Routing.count++;var f=document.createElement("div"),q=document.createElement("img"),z=document.createElement("div"),B=document.createElement("span");f.setAttribute("class","node");z.setAttribute("class","simulatorSlider");B.setAttribute("id","amount");f.setAttribute("data-name",e);f.setAttribute("data-kit",c);q.setAttribute("src",a);f.appendChild(q);f.appendChild(z);z.appendChild(B);$(".routingContent #cart .contain_routing").append(f);$(f).css({position:"absolute",
left:m+"px",top:l+"px"});jsPlumb.draggable(f,{containment:".routingContent #cart .ui-widget-content"});a=f.getAttribute("id");f=e+"#"+a;$("#"+a).draggable({containment:$(".routingContent #cart .ui-widget-content"),drag:function(a,c){Routing.draggableId=c.helper.context.id;Routing.draggableKit=c.helper.context.dataset.kit;Routing.draggableName=c.helper.context.dataset.name;Routing.createConnectionTable(Routing.draggableKit,Routing.draggableName+"#"+Routing.draggableId);350<c.position.top&&710<c.position.left&&
($(".trashcan-lid").css({transform:"rotate(45deg)","-webkit-transform":"rotate(45deg)"}),$(".trashcan-lid img").css("marginTop","-20px"))},stop:function(a,c){Routing.draggableId=c.helper.context.id;Routing.draggableKit=c.helper.context.dataset.kit;Routing.draggableName=c.helper.context.dataset.name;a=Routing.draggableName+"#"+Routing.draggableId;Routing.currentModule[Routing.draggableKit]||(Routing.currentModule[Routing.draggableKit]={});Routing.currentModule[Routing.draggableKit][a]||(Routing.currentModule[Routing.draggableKit][a]=
{});Routing.currentModule[Routing.draggableKit][a].x=c.position.left;Routing.currentModule[Routing.draggableKit][a].y=c.position.top}});$("#"+a).click(function(a){Routing.createConnectionTable(a.currentTarget.dataset.kit,a.currentTarget.dataset.name+"#"+a.currentTarget.id)});c=device.kits[c].modules[e].pins;for(var u in c)m=c[u].x,l=c[u].y,e=Routing.createEndpoint(c[u].isSource,c[u].property,c[u].type," ","dotEndpoint",["Dot",{radius:10}]),e=jsPlumb.addEndpoint(a,{anchor:[m,l],uuid:"source-"+a+"-"+
u},e),e.canvas.id=e.id,$("#"+e.id).css("background-image",'url("./img/rectangle.png")'),$("#"+e.id).addClass("routingBlank"),c[u].jsPlumb=e.id,e.name=c[u].name,e.addOverlay(["Label",{label:e.name,zIndex:999,location:[m,l-1.5],id:a,cssClass:"kitOverlay"}]);return f};
Routing.stop=function(){Routing.isRunning=!1;Simulator.stop();Simulator.disConnect();$(".kitRun .kitstop").hide();$(".kitRun .kitplay").show();$(".routingDebug").hide();$(".routingToggle").html("x");$(".routingContent .r-garbage,.routingToggle").show();$(".routingContent #products").show();$(".node").draggable("enable");jsPlumb.setDraggable($(".node"),!0);jsPlumb.setDraggable($(".electric_board"),!0);$("#list").show()};
Routing.run=function(){$(".routingDebug").show();$(".routingDebug").draggable({containment:$(".routingContent #cart .ui-widget-content")});Routing.isRunning=!0;Simulator.run();$(".kitRun .kitstop").show();$(".kitRun .kitplay").hide();$(".routingContent #cart #list").hide();$(".routingContent .r-garbage,.routingToggle").hide();$(".routingContent #products").hide();$(".node").draggable("disable");jsPlumb.setDraggable($(".node"),!1);jsPlumb.setDraggable($(".electric_board"),!1)};
Routing.cloneEndpoint=function(){$(".routingContent #catalog").accordion();$(".routingContent #catalog li img").draggable({helper:"clone",scope:"cart",containment:$(".routingContent #cart .ui-widget-content"),appendTo:$(".routingContent #cart .ui-widget-content"),opacity:1,zIndex:999,start:function(a,c){Routing.routingToggle()},drag:function(a,c){}});$(".routingContent #cart .ui-widget-content").droppable({scope:"cart",drop:function(a,c){Routing.createModelFromUi(c)}})};
Routing.addDevicePins=function(){var a=Routing.devicePostion.x,c=Routing.devicePostion.y,e=Routing.devicePostion.id;Routing.sizeHeight();var m="./product/"+device.id+"/img/"+device.id+"_board.png",l=document.createElement("img"),f=document.createElement("div");f.style.minWidth="333px";f.style.width="333px";f.style.minHeight="221px";f.style.height="221px";var q=f.style.width,z=f.style.height;parseInt(q);parseInt(z);f.setAttribute("class","electric_board");f.setAttribute("id","electric_board"+e);l.setAttribute("src",
m);f.appendChild(l);$(".routingContent #contain_routing").append(f);$(".electric_board").css({position:"absolute",left:a+"px",top:c+"px"});jsPlumb.draggable("electric_board"+e,{containment:"#contain_routing",stop:function(a){Routing.devicePostion.x=a.finalPos[0];Routing.devicePostion.y=a.finalPos[1];Routing.devicePostion.id=a.finalPos[0]}});a=device.pins;for(c=0;c<a.length;c++)m=a[c].x/device.width,l=a[c].y/device.height,q=a[c].width,z=a[c].height,q=Routing.createEndpoint(a[c].isSource,a[c].property,
a[c].type,Routing.exampleDropOption,"rectEndpoint",["Rectangle",{width:q,height:z}]),q.cssClass="undis endpoint"+c,q=jsPlumb.addEndpoint("electric_board"+e,{anchor:[m,l],uuid:"target"+c},q),q.name=a[c].name,q.pinId=a[c].id,q.pinId.toLocaleString(),q.addOverlay(["Label",{label:q.name,location:[m,l-8],id:"electric_board"+e,cssClass:"opacityZero deviceOverlay deviceOverlay"+c}]),function(a){$(".endpoint"+a).mouseover(function(){$(".deviceOverlay"+a).css({opacity:1});$(".deviceOverlay"+a).css({display:"block"})});
$(".endpoint"+a).mouseout(function(){$(".deviceOverlay"+a).css({display:"none"})})}(c)};
Routing.renderKit=function(){for(i in device.kits)if(""!=device.kits[i]){var a='<h2 class="ui-widget-header">'+device.kits[i].name+'</h2><div class="kitContainer"><ul>';$(".ezblockContent").height();var c=device.kits[i].modules,e;for(e in c){var m=device.kits[i].modules[e];c=m.name;m=CORE_DIR+"packages/"+device.kits[i].id+"/img/"+m.img;var l=c.toLocaleLowerCase().split(" ").join("-");a+="<li><img src = "+m+" data-name = "+l+" data-kit = "+i+" class = "+l+' onerror=""><h3>'+c+"</h3></li>"}a+="</ul></div>";
Routing.sizeHeight();$(".routingContent #catalog").append(a);Routing.sizeHeight()}$(".routingContent #products #catalog").accordion({collapsible:!0});$(".routingContent #products #catalog").accordion("destroy").accordion({collapsible:!0})};Routing.sizeHeight=function(){var a=$(".ezblockContent").height();$(".routingContent").height(a);$(".routingContent #cart .contain_routing").height(a)};Routing.init=function(){Routing.isRunning=!1;Routing.sizeHeight();Routing.running=!1;Routing.garbage()};
Routing.changeDevice=function(){Routing.clear()};
Routing.loadModel=function(){var a=[];for(index in Routing.currentModule){var c=Routing.currentModule[index];for(e in c)a.push(index+"~"+e)}for(i in a){c=a[i].split("~")[0];var e=a[i].split("~")[1];var m=Routing.currentModule[c][e].src,l=a[i].split("~")[1].split("#")[0],f=Routing.currentModule[c][e].pins;nameID=Routing.createModel(m,c,l,Routing.currentModule[c][e].x,Routing.currentModule[c][e].y);nameID!=e&&(Routing.currentModule[c][nameID]=Routing.currentModule[c][e],delete Routing.currentModule[c][e]);
if(Routing.currentModule[c][nameID].pins)for(pin in Routing.currentModule[c][nameID].pins)if(uuid=Routing.currentModule[c][nameID].pins[pin].sourceUuid)uuid=Routing.currentModule[c][nameID].pins[pin].sourceUuid,Routing.currentModule[c][nameID].pins[pin].sourceUuid=uuid.split("-")[0]+"-"+nameID.split("#")[1]+"-"+uuid.split("-")[2];for(k in f)jsPlumb.connect({uuids:[f[k].sourceUuid,f[k].targetUuid]})}};
Routing.routingToggle=function(){"x"==$(".routingToggle").html()?$(".routingToggle").html("+"):$(".routingToggle").html("x");"x"==$(".routingToggle").html()?$(".routingContent #products").show():$(".routingContent #products").hide()};
Routing.clear=function(){Routing.devicePostion={x:Routing.deviceInitPostionX,y:Routing.deviceInitPostionY,id:Routing.deviceInitPostionId};$(".routingContent #cart .contain_routing").html("");Routing.currentModule={};$(".routingContent #products #catalog").html("");$(".electric_board").remove();$("#list").hide();jsPlumb.reset();Routing.inited=!1};
Routing.reflash=function(){Routing.inited||(Routing.deviceCont=0,Routing.renderKit(),Routing.addDevicePins(),Routing.cloneEndpoint(),Routing.connectionList(),Routing.loadModel(),Routing.inited=!0)};Routing.load=function(a){Routing.clear();Routing.devicePostion.x=a.device.x;Routing.devicePostion.y=a.device.y;Routing.devicePostion.id="_"+a.device.x;Routing.currentModule=a.currentModules?a.currentModules:{};Routing.createBlocks()};
Routing.save=function(){Routing.connect.device=Routing.devicePostion;Routing.connect.currentModules=Routing.currentModule;return Routing.connect};
Routing.show=function(){$(".dragheader2").show();document.querySelector(".video-block").style.display="block";MakeOption.makeOptions(Routing.menuConf);MakeOption.show(Routing.menuConf);$(".routingContent").show();$(".routingToggle").click(function(){Routing.routingToggle()});Routing.reflash();$(".pageBack,.kitRun").show();$(".routingToggle").show();$(".kitRun .kitplay").click(function(){Routing.run()});Routing.stop();$(".kitRun .kitstop").click(function(){Routing.stop()})};
Routing.hide=function(){$(".dragheader2").hide();document.querySelector(".video-block").style.display="none";MakeOption.hide(Routing.menuConf);$(".routingContent").hide();$(".routingToggle").hide();$(".routingToggle").unbind();$(".pageBack,.kitRun").hide();$(".kitstop,.kitplay").hide();$(".routingDebug").hide();$(".kitplay").unbind();Routing.createBlocks();Routing.stop()};Routing.debugClear=function(){$(".routingGetMessage").html("")};Routing.expand=function(){$(".routingGetMessage").toggle();$(".toggleExpand img").toggle()};Controller={createNode:function(a,c){var e=document.createElement("div");void 0!=a&&e.setAttribute("id","node-"+c+"-"+a);return e},idAdder:function(a){a=a.charCodeAt();return String.fromCharCode(a+1)},Joystick:{}};Controller.Joystick.id="A";Controller.Joystick.idAdder=function(){Controller.Joystick.id=Controller.idAdder(Controller.Joystick.id)};Controller.Joystick.template="<div class='joystick common' data-name='joystick'><div class='circle_one'><div class='circle_two'></div></div></div>";
Controller.Joystick.circleOne={};Controller.Joystick.circleOne.width=140;Controller.Joystick.circleOne.height=Controller.Joystick.circleOne.width;Controller.Joystick.circleOne.radius=Controller.Joystick.circleOne.width/2;Controller.Joystick.circleTwo={};Controller.Joystick.circleTwo.width=50;Controller.Joystick.circleTwo.height=Controller.Joystick.circleTwo.width;Controller.Joystick.circleTwo.radius=Controller.Joystick.circleTwo.width/2;
Controller.Joystick.circleTwo.initLeft=Controller.Joystick.circleOne.radius-Controller.Joystick.circleTwo.radius;Controller.Joystick.circleTwo.initTop=Controller.Joystick.circleTwo.initLeft;
Controller.Joystick.init=function(a){Controller.Joystick.element=Controller.createNode(a,"joystick");Controller.Joystick.h3='<h3 class="joystick_title">'+MSG.controller_joystick_name+"</h3>";Controller.Joystick.name=MSG.controller_joystick_name;$(Controller.Joystick.element).append(Controller.Joystick.template);$(Controller.Joystick.element).append(Controller.Joystick.h3);$(Controller.Joystick.element).find(".circle_two").draggable({containment:"parent"});$(Controller.Joystick.element).find(".circle_two").draggable("disable")};
Controller.Joystick.setDragable=function(a){$(".contain_remote .remote-node .joystick").each(function(){a?(scope="#contain_remote",$(this).parent().draggable({drag:function(a,e){},containment:scope,stop:function(a,e){a=e.helper.context.id.split("node-joystick-")[1];var c=e.helper.context.firstElementChild.dataset.name.toString();c+=a;Remote.currentControllers[c].x=e.position.left;Remote.currentControllers[c].y=e.position.top}}),$(this).parent().find(".circle_two").draggable("disable"),$(this).parent().draggable("enable")):
(scope="#"+$(this).parent().attr("id")+" .circle_one",$(this).parent().draggable("disable"),$(this).parent().find(".circle_two").draggable("enable"),$(this).parent().attr("id"),$(this).parent().attr("id"),$(this).parent().find(".circle_two").draggable({drag:function(a,e){a=e.helper.context.parentElement.parentElement.dataset.name.toUpperCase();var c=e.helper.context.parentElement.parentElement.parentElement.id.split("node-joystick-")[1],l=Controller.Joystick.circleOne,f=Controller.Joystick.circleTwo;
l.center=[l.radius,l.radius];f.center=[e.position.left+f.radius,e.position.top+f.radius];var q=l.radius-f.radius;var z=f.center;var B=l.center;Math.sqrt(Math.pow(z[0]-B[0],2)+Math.pow(z[1]-B[1],2))<=q||(deltaX=z[0]-l.center[0],deltaY=z[1]-l.center[1],z=Math.atan2(deltaY,deltaX),x=Math.cos(z)*q+l.radius,y=Math.sin(z)*q+l.radius,z=[x,y]);e.position.left=z[0]-f.radius;e.position.top=z[1]-f.radius;xValue=Math.round((e.position.left+f.radius-l.radius)/q*100);yValue=Math.round(-(e.position.top+f.radius-
l.radius)/q*100);WebBLE.remote.send(a,c,"VALUE",xValue+"+"+yValue)},stop:function(a,e){a=e.helper.context.parentElement.parentElement.dataset.name.toUpperCase();e=e.helper.context.parentElement.parentElement.parentElement.id.split("node-joystick-")[1];var c=Controller.Joystick.circleOne,l=Controller.Joystick.circleTwo,f=c.radius-l.radius;WebBLE.remote.send(a,e,"VALUE",Math.round((Controller.Joystick.circleTwo.initTop+l.radius-c.radius)/f*100)+"+"+Math.round(-(Controller.Joystick.circleTwo.initLeft+
l.radius-c.radius)/f*100));$(this).parent().find(".circle_two").css({top:Controller.Joystick.circleTwo.initTop+"px",left:Controller.Joystick.circleTwo.initLeft+"px"})}}))})};Controller.Slider={};Controller.Slider.id="A";Controller.Slider.idAdder=function(){Controller.Slider.id=Controller.idAdder(Controller.Slider.id)};Controller.Slider.template='<div class="slider common" data-name="slider"><div><span class="amount_title"></span><span class="amount"></span></div><div><div id="slider"></div></div></div>';
Controller.Slider.init=function(a){Controller.Slider.element=Controller.createNode(a,"slider");Controller.Slider.h3='<h3 class="slider_title">'+MSG.controller_slider_name+"</h3>";Controller.Slider.name=MSG.controller_slider_name;$(Controller.Slider.element).append(Controller.Slider.template);$(Controller.Slider.element).append(Controller.Slider.h3);$(Controller.Slider.element).find("#slider").slider({range:"min",value:0,disabled:!0,min:0,max:100,slide:function(c,e){c=e.handle.parentElement.parentElement.parentElement.parentElement.id.split("node-slider-")[1];
var m=e.handle.parentElement.parentElement.parentElement.dataset.name.toUpperCase();$(".contain_remote #node-slider-"+a).find(".amount").html(e.value);WebBLE.remote.send(m,c,"VALUE",e.value)}});$(Controller.Slider.element).find(".amount").html($(Controller.Slider.element).find("#slider").slider("value"))};
Controller.Slider.setDragable=function(a){$(".contain_remote .remote-node .slider").each(function(){a?(scope="#contain_remote",$(this).parent().draggable({drag:function(a,e){},containment:scope,stop:function(a,e){a=e.helper.context.id.split("node-slider-")[1];var c=e.helper.context.firstElementChild.dataset.name.toString();c+=a;Remote.currentControllers[c].x=e.position.left;Remote.currentControllers[c].y=e.position.top}}),$(this).parent().draggable("enable"),$(this).parent().find("#slider").slider({disabled:!0})):
($(this).parent().draggable("disable"),$(this).parent().find("#slider").slider("enable"))})};Controller.Dpad={};Controller.Dpad.id="A";Controller.Dpad.idAdder=function(){Controller.Dpad.id=Controller.idAdder(Controller.Dpad.id)};Controller.Dpad.template='<div class="dpad  common" data-name="dpad"><div class="up"><img src="./img/unremote-top.png" alt="unRemoteTop" class="unRemoteTop"/><img src="./img/remote-top.png" alt="remoteTop"/ class="remoteTop"></div><div class="down"><img src="./img/unremote-top.png" alt="unRemoteDown" class="unRemoteDown"/><img src="./img/remote-top.png" alt="remoteDown" class="remoteDown"/></div><div class="left"><img src="./img/unremote-top.png" alt="unRemoteLeft" class="unRemoteLeft"/><img src="./img/remote-top.png" alt="remoteLeft" class="remoteLeft"/></div><div style="" class="right"><img src="./img/unremote-top.png" alt="unRemoteRight" class="unRemoteRight"/><img src="./img/remote-top.png" alt="remoteRight" class="remoteRight"/></div><div class="remote-center"></div></div>';
Controller.Dpad.init=function(a){Controller.Dpad.element=Controller.createNode(a,"dpad");Controller.Dpad.h3='<h3 class="dpad_title">'+MSG.controller_dpad_name+"</h3>";Controller.Dpad.name=MSG.controller_dpad_name;$(Controller.Dpad.element).append(Controller.Dpad.template);$(Controller.Dpad.element).append(Controller.Dpad.h3)};function imgdragstart(){return!1}for(i in document.images)document.images[i].ondragstart=imgdragstart;
Controller.Dpad.setDragable=function(a){$(".contain_remote .remote-node .dpad").each(function(){var c=$(this);if(a)$(this).off(),scope="#contain_remote",$(this).parent().draggable({drag:function(a,c){},containment:scope,stop:function(a,c){a=c.helper.context.id.split("node-dpad-")[1];var e=c.helper.context.firstElementChild.dataset.name.toString();e+=a;Remote.currentControllers[e].x=c.position.left;Remote.currentControllers[e].y=c.position.top}}),$(this).parent().draggable("enable"),$(this).parent().find(".up,.down,.left,.right").unbind();
else{var e=function(a,e,m){c.parent().find(a).on({touchstart:function(f){var l=f.currentTarget.parentElement.dataset.name.toUpperCase(),q=f.currentTarget.parentElement.parentElement.id.split("node-dpad-")[1],z=a.split(".")[1].toUpperCase();f.preventDefault();longClick=0;c.find(a).find(e).show();c.find(a).find(m).hide();WebBLE.remote.send(l,q,z,1);timeOutEvent=setTimeout(function(){longClick=1},100)},touchmove:function(a){a.preventDefault();clearTimeout(timeOutEvent);timeOutEvent=0},touchend:function(f){var l=
f.currentTarget.parentElement.dataset.name.toUpperCase(),q=f.currentTarget.parentElement.parentElement.id.split("node-dpad-")[1],z=a.split(".")[1].toUpperCase();f.preventDefault();clearTimeout(timeOutEvent);c.find(a).find(m).show();c.find(a).find(e).hide();WebBLE.remote.send(l,q,z,0);return!1}})},m=function(a){c.parent().find(a).mousedown(function(e){var f=e.currentTarget.parentElement.dataset.name,l=e.currentTarget.parentElement.parentElement.id,m=a.split(".")[1].toUpperCase();WebBLE.remote.send(f,
l,m,1);e.preventDefault();c.children(a).children("img").toggle()});c.parent().find(a).mouseup(function(e){var f=e.currentTarget.parentElement.dataset.name,l=e.currentTarget.parentElement.parentElement.id,m=a.split(".")[1].toUpperCase();WebBLE.remote.send(f,l,m,0);e.preventDefault();c.children(a).children("img").toggle()})};$(this).parent().draggable("disable");m(".up");m(".down");m(".left");m(".right");e(".up",".remoteTop",".unRemoteTop");e(".down",".remoteDown",".unRemoteDown");e(".left",".remoteLeft",
".unRemoteLeft");e(".right",".remoteRight",".unRemoteRight")}})};Controller.Button={};Controller.Button.id="A";Controller.Button.idAdder=function(){Controller.Button.id=Controller.idAdder(Controller.Button.id)};Controller.Button.template='<div class="button common" data-name="button"><div class="btnTwo"></div></div>';
Controller.Button.init=function(a){Controller.Button.element=Controller.createNode(a,"button");Controller.Button.name=MSG.controller_btn_name;Controller.Button.h3='<h3 class="btn_title">'+MSG.controller_btn_name+"</h3>";$(Controller.Button.element).append(Controller.Button.template);$(Controller.Button.element).append(Controller.Button.h3)};
Controller.Button.setDragable=function(a){$(".contain_remote .remote-node .button").each(function(){a?(scope="#contain_remote",$(this).off(),$(this).parent().draggable({containment:scope,stop:function(a,e){a=e.helper.context.id.split("node-button-")[1];var c=e.helper.context.firstElementChild.dataset.name.toString();c+=a;Remote.currentControllers[c].x=e.position.left;Remote.currentControllers[c].y=e.position.top}}),$(this).parent().draggable("enable")):($(this).parent().draggable("disable"),$(this).mousedown(function(a){a.preventDefault();
var c=a.currentTarget.dataset.name.toUpperCase();a=a.currentTarget.parentElement.id.split("node-button-")[1];$(this).children(".btnTwo").addClass("remoteButtonActive");WebBLE.remote.send(c,a,"VALUE",1)}),$(this).mouseup(function(a){a.preventDefault();var c=a.currentTarget.dataset.name.toUpperCase();a=a.currentTarget.parentElement.id.split("node-button-")[1];$(this).children(".btnTwo").removeClass("remoteButtonActive");WebBLE.remote.send(c,a,"VALUE",0)}),$(this).on({touchstart:function(a){a.preventDefault();
var c=a.currentTarget.dataset.name.toUpperCase();a=a.currentTarget.parentElement.id.split("node-button-")[1];var m=c+"#"+a+"#VALUE#1";$(this).children(".btnTwo").addClass("remoteButtonActive");WebBLE.remote.send(c,a,"VALUE",1);return m},touchmove:function(a){a.preventDefault()},touchend:function(a){var c=a.currentTarget.dataset.name.toUpperCase(),m=a.currentTarget.parentElement.id.split("node-button-")[1];a.preventDefault();$(this).children(".btnTwo").removeClass("remoteButtonActive");WebBLE.remote.send(c,
m,"VALUE",0);return!1}}))})};Controller.Switch={};Controller.Switch.id="A";Controller.Switch.idAdder=function(){Controller.Switch.id=Controller.idAdder(Controller.Switch.id)};Controller.Switch.template='<div class="switch common" data-name="switch"><span class="switchBtn">OFF</span></div>';
Controller.Switch.init=function(a){Controller.Switch.element=Controller.createNode(a,"switch");Controller.Switch.h3='<h3 class="switch_title">'+MSG.controller_switch_name+"</h3>";Controller.Switch.name=MSG.controller_switch_name;$(Controller.Switch.element).append(Controller.Switch.template);$(Controller.Switch.element).append(Controller.Switch.h3)};
Controller.Switch.setDragable=function(a){$(".contain_remote .remote-node .switch").each(function(){a?(scope="#contain_remote",$(this).off(),$(this).parent().draggable({drag:function(a,e){},containment:scope,stop:function(a,e){a=e.helper.context.id.split("node-switch-")[1];var c=e.helper.context.firstElementChild.dataset.name.toString();c+=a;Remote.currentControllers[c].x=e.position.left;Remote.currentControllers[c].y=e.position.top}}),$(this).parent().draggable("enable")):($(this).parent().draggable("disable"),
$(this).mousedown(function(a){a.preventDefault();$(this).find(".switchBtn").toggleClass("switchOn");if($(this).find(".switchBtn").hasClass("switchOn")){var c=a.currentTarget.dataset.name.toUpperCase();a=a.currentTarget.parentElement.id.split("node-switch-")[1];var m=1;$(this).find(".switchBtn").html("ON")}else c=a.currentTarget.dataset.name.toUpperCase(),a=a.currentTarget.parentElement.id.split("node-switch-")[1],m=0,$(this).find(".switchBtn").html("OFF");WebBLE.remote.send(c,a,"VALUE",m)}),$(this).on({touchstart:function(a){a.preventDefault();
$(this).find(".switchBtn").toggleClass("switchOn");if($(this).find(".switchBtn").hasClass("switchOn")){var c=a.currentTarget.dataset.name.toUpperCase();a=a.currentTarget.parentElement.id.split("node-switch-")[1];var m=1;$(this).find(".switchBtn").html("ON")}else c=a.currentTarget.dataset.name.toUpperCase(),a=a.currentTarget.parentElement.id.split("node-switch-")[1],m=0,$(this).find(".switchBtn").html("OFF");WebBLE.remote.send(c,a,"VALUE",m)},touchmove:function(a){a.preventDefault()},touchend:function(a){return!1}}))})};Remote={render:!1,id:"remote",inited:!1,currentControllers:{},offsetLeft:"",offsetTop:""};Remote.controllers={joystick:Controller.Joystick,slider:Controller.Slider,dpad:Controller.Dpad,button:Controller.Button,"switch":Controller.Switch};Remote.bleInterval="";Remote.bleDelay=100;Remote.bleValueObject={};Remote.isRunning=!1;Remote.clearCont="";Remote.blocks={};
Remote.menuConf={Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]};
Remote.deleteController=function(a){var c=a.split("node-")[1].replace("-","");Remote.isRunning||($(".remoteContent #cart").append(Remote.clearCont),$(".kitClear").draggable({containment:".remoteContent #cart"}),$(".kitClear").draggable({containment:".remoteContent #cart"}),$(".kitYes").click(function(){$("#"+a).remove();$(".kitClear").remove();delete Remote.currentControllers[c]}),$(".kitNo").click(function(){$(".kitClear").remove()}))};
Remote.createModelFromUi=function(a){var c=$(a.helper)[0].dataset.name,e=Controller[firstUpperCase(c)].id;Remote.createModel(c,e,a.position.left,a.position.top);Controller[firstUpperCase(c)].idAdder()};
Remote.createModel=function(a,c,e,m){Remote.currentControllers[a+c.toString()]={};Remote.currentControllers[a+c.toString()].name=a;Remote.currentControllers[a+c.toString()].x=e;Remote.currentControllers[a+c.toString()].y=m;Remote.currentControllers[a+c.toString()].id=c;var l=Remote.controllers[a];l.init(c);l.element.setAttribute("class","remote-node");$(".remoteContent #cart .contain_remote").append(l.element);$(".remote-node h3").remove();l.setDragable(!0);var f="#node-"+a+"-"+c;$(f).css({left:e,
top:m});$(f).append("<div class='remote-names'>"+Remote.controllers[a].name+" "+c+"</div>");$(f).dblclick(function(){c=$(this)[0].id;Remote.deleteController(c)});$(f).on({touchstart:function(a){a.preventDefault();longClick=0;timeOutEvent=setTimeout(function(){longClick=1;c=$(f)[0].id;Remote.deleteController(c)},500)},touchmove:function(a){a.preventDefault();clearTimeout(timeOutEvent);timeOutEvent=0},touchend:function(a){a.preventDefault();clearTimeout(timeOutEvent);return!1}})};
Remote.changeDevice=function(){Remote.clear()};Remote.clear=function(){$(".remoteContent #cart .contain_remote").html(" ");for(key in Remote.controllers)Controller[firstUpperCase(key)].id="A";Remote.currentControllers={};Remote.createBlock()};Remote.sizeHeight=function(){var a=$(".ezblockContent").height();$(".remoteContent").height(a);$(".remoteContent #cart .contain_remote").height(a)};
Remote.renderKit=function(){for(key in Remote.controllers){var a=document.createElement("li");a.setAttribute("data-name",key);a.setAttribute("id","li-"+key);"button"==key&&$("#li-"+key).css({padding:"20px 70px 5px 50px"});Remote.controllers[key].init();a.appendChild(Remote.controllers[key].element);$(".remoteContent ul").append(a)}};
Remote.cloneNode=function(){$("#catalog").accordion();for(key in Remote.controllers)$("#catalog li").find("."+key).draggable({helper:"clone",scope:"cart",appendTo:$("#contain_remote"),opacity:.5,stack:!1,containment:$("#contain_remote"),zIndex:999,start:function(){Remote.remoteToggle()},drag:function(a,c){},stop:function(){}});$("#cart .contain_remote").droppable({scope:"cart",drop:function(a,c){Remote.createModelFromUi(c)}})};
Remote.init=function(){Remote.isRunning=!1;Remote.sizeHeight();Remote.renderKit();Remote.clearCont='<div class="kitClear"><div class="clearTitle">'+MSG.clearTitle+'</div><div class="clearRemoteButton clearfix"><button class="kitYes">'+MSG.kitYes+'</button><button class="kitNo">'+MSG.kitNo+"</button></div></div>"};
Remote.run=function(){Remote.isRunning=!0;$(".kitRun .kitstop").show();$(".kitRun .kitplay").hide();for(key in Remote.controllers)Remote.controllers[key].setDragable(!1);$(".debugPrompt").show();$(".debugPrompt").draggable({containment:$(".remoteContent #cart .ui-widget-content")});$(".remoteContent #products,.remoteToggle").hide()};
Remote.stop=function(){Remote.isRunning=!1;$(".kitRun .kitstop").hide();$(".kitRun .kitplay").show();for(key in Remote.controllers)Remote.controllers[key].setDragable(!0);$(".debugPrompt").hide();$(".remoteContent #products,.remoteToggle").show();$(".remoteToggle").html("x")};Remote.reflash=function(){Remote.inited||(Remote.cloneNode(),Remote.inited=!0)};
Remote.load=function(a){Remote.clear();Remote.currentControllers=a;for(key in a)Controller[firstUpperCase(a[key].name)].id.charCodeAt()<=a[key].id.charCodeAt()&&(Controller[firstUpperCase(a[key].name)].id=a[key].id,Controller[firstUpperCase(a[key].name)].idAdder()),Remote.createModel(a[key].name,a[key].id,a[key].x,a[key].y);Remote.createBlock()};Remote.save=function(){return Remote.currentControllers};
Remote.remoteToggle=function(){"x"==$(".remoteToggle").html()?$(".remoteToggle").html("+"):$(".remoteToggle").html("x");"x"==$(".remoteToggle").html()?$(".remoteContent #products").show():$(".remoteContent #products").hide();"x"==$(".remoteToggle").html()&&Remote.stop()};
Remote.createBlock=function(){Remote.blocks={};BlockCode.remoteToolboxText="";if(isEmptyObject(Remote.currentControllers))return BlockCode.reflashToolbox(),!1;var a="<category name='%{BKY_CATREMOTE}' colour='#58ce6a'><block type='remote_read_from'></block>";for(key in Remote.currentControllers)Blockly.Constants.Remote[firstUpperCase(Remote.currentControllers[key].name)+"ID"]=[];for(key in Remote.currentControllers)Remote.blocks[Remote.currentControllers[key].name+"Block"]='<block type="remote_'+Remote.currentControllers[key].name+
'_get_value"></block>',id=key.replace(Remote.currentControllers[key].name,""),Blockly.Constants.Remote[firstUpperCase(Remote.currentControllers[key].name)+"ID"].push([id,id]);for(key in Remote.blocks)a+=Remote.blocks[key];BlockCode.remoteToolboxText=a+"</category>";BlockCode.reflashToolbox()};
Remote.show=function(){$(".dragheader2").show();document.querySelector(".video-block").style.display="block";$(".remoteContent").show();Remote.reflash();$(".pageBack,.kitRun").show();Remote.stop();$(".kitRun .kitstop").click(function(){Remote.stop();WebBLE.airPrintOff()});$(".remoteToggle").show();$(".remoteToggle").click(function(){Remote.remoteToggle()});$(".kitRun .kitplay").click(function(){Remote.run();WebBLE.airPrintOn()});MakeOption.makeOptions(Remote.menuConf);MakeOption.show(Remote.menuConf);
Tutorials.display_block&&EzBlock.sizeHeight()};Remote.hide=function(){$(".dragheader2").hide();document.querySelector(".video-block").style.display="none";$(".remoteContent").hide();$(".remoteButtons").hide();$(".remoteToggle").hide();$(".remoteToggle").unbind();$(".pageBack,.kitRun").hide();$(".kitstop,.kitplay").hide();$(".kitplay").unbind();Remote.stop();Remote.createBlock();WebBLE.airPrintOff();MakeOption.hide(Remote.menuConf)};var Video={id:"video",link:[{sequence:"First lesson",describe:"Demonstration text",link:"https://www.youtube.com/embed/-T0ylQ7CmUU"},{sequence:"second lesson",describe:"introduction of tools",link:"xxxxx"},{sequence:"First lesson",describe:"Demonstration text",link:"https://www.youtube.com/embed/-T0ylQ7CmUU"},{sequence:"second lesson",describe:"introduction of tools",link:"https://www.youtube.com/embed/-T0ylQ7CmUU"}],show:function(){$(".video-block").addClass("move");$(document).on("click",function(a){var c=
$(".video-block");target=a.target;0==c.has(a.target).length&&Video.hide()})},hide:function(){$(".video-block").removeClass("move")},init:function(){for(var a="",c=0;c<Video.link.length;c++)a+='<li onclick="Video.changeStyle('+c+')" data="'+Video.link[c].link+'">',a+='    <span class="text-round"><img src="./img/\u6587\u5b57\u5706\u70b9-\u7070.png" alt=""></span>',a+='    <span class="sequence">'+Video.link[c].sequence+"</span>",a+='    <p class="describe">'+Video.link[c].describe+"</p>",a+="</li>";
$(".video-list").append(a)},changeStyle:function(a){$(".video-list li").find("span").css({color:"rgb(178,178,178)"});$(".video-list li").find("p").css({color:"rgb(153,153,153)"});$(".video-list li").find("img").attr({src:"./img/\u6587\u5b57\u5706\u70b9-\u7070.png"});$(".video-list li").eq(a).find("span").css({color:"rgb(255, 202, 75)"});$(".video-list li").eq(a).find("p").css({color:"rgb(255, 202, 75)"});$(".video-list li").eq(a).find("img").attr({src:"./img/\u6587\u5b57\u5706\u70b9-\u6a59.png"});
console.log($(".video-list li").eq(a).attr("data"));var c=$(".video-list li").eq(a).attr("data"),e=c.lastIndexOf("/");c=c.slice(e+1);console.log(c);$(".miniVideo").attr({src:Video.link[a].link})},load:function(){}};window.addEventListener("load",Video.load);var AddPackage={id:"addPackage",packagesData:[],xmlDom:"",xmlCodeString:"",packagesListModal:function(){$("#created-packages").modal("show");AddPackage.getPackagesName();AddPackage.renderPackagesName()},getPackagesName:function(){AddPackage.packagesData=[];var a=Blockly.Xml.workspaceToDom(BlockCode.workspace);a=Blockly.Xml.domToText(a);var c=new DOMParser;AddPackage.xmlDom=c.parseFromString(a,"text/xml");x=AddPackage.xmlDom.documentElement.childNodes;for(a=0;a<x.length;a++)if(-1!=x[a].getAttribute("type").indexOf("procedures_def")){c=
x[a].getElementsByTagName("field")[0].innerHTML;var e=x[a].getAttribute("id");console.log(x[a].getElementsByTagName("field")[0].innerHTML);AddPackage.packagesData.push({name:c,id:e})}},renderPackagesName:function(){$(".created-packages-name-list").html("");for(var a=0;a<AddPackage.packagesData.length;a++)$(".created-packages-name-list").append('<li data-id="'+AddPackage.packagesData[a].id+'" class="created-packages-name-items">'+AddPackage.packagesData[a].name+'<img class="select-img" src="../img/true.png"></li>');
AddPackage.packagesNameEvent()},selectPackages:function(){AddPackage.xmlCodeString="<xml>";for(var a=document.getElementsByClassName("selected-packages"),c=0;c<a.length;c++){var e=a[c].getAttribute("data-id");e=AddPackage.xmlDom.getElementById(e);e.setAttribute("collapsed",!0);AddPackage.xmlCodeString+=Blockly.Xml.domToText(e)}AddPackage.xmlCodeString+="<xml>";console.log(AddPackage.xmlCodeString)},packagesNameEvent:function(){$(".created-packages-name-items").click(function(){$(this).hasClass("selected-packages")?
($(this).removeClass("selected-packages"),$(this).find(".select-img").hide()):($(this).addClass("selected-packages"),$(this).find(".select-img").show())})}};var SelectBoard={id:"selectBoard",recentDev:{},cont:-1,menuConf:{Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},chooseKit:function(){var a="";for(i in device.avalibleKits)a+='\n\t\t\t\t<li style="padding:5px;font-size:15px"  onclick="SelectBoard.selectNewKit(event,\''+i+"','"+device.avalibleKits[i].name.replace(/\s*/g,"")+"')\">\n\t\t\t\t\t"+firstUpperCase(key)+"\n\t\t\t\t</li>\n\t\t\t";$(".add-kit-ul").html(a)},
selectNewKit:function(a,c,e){a=$(a.target).html();$(".add-kit-mode-ipt").val(a);$(".add-kit-image").html('<img src="./img/'+c+'.png" alt="'+c+'">')},addKitSuccess:function(){if("Name"!=$(".add-kit-mode-ipt").val().replace(/\s*/g,"")){var a="",c;for(c in device.avalibleKits)a+='\n\t\t\t<div class="'+c+'">\n\t\t\t\t<span class="choose-kit-mode-text">'+firstUpperCase(c)+"</span>\n\t\t\t</div>\n\t\t\t",Choice.current.kit[c]=device.avalibleKits[c];$(".choose-kit-mode-cont").html(a);-1==device.functions.indexOf("routing")&&
-1==device.functions.indexOf("play")&&(window.localStorage.setItem("functions","[routing,play]"),a=window.localStorage.getItem("functions").split(","),device.functions.push(a[0].split("[")[1],a[1].split("]")[0]))}$(".add-next-btn").show();$(".add-kit-mode-ipt").val("Name");$(".add-kit-image").html("");$("#add-kit-mode").modal("hide");$("#choose-kit-mode").modal("show")},show:function(){document.querySelector(".selectBoardContent").style.display="block";document.querySelector(".dragheader2").style.display=
"block";document.querySelector(".dragheader2 .brand").style.display="block";document.querySelector(".video-block").style.display="block";document.querySelector(".select_return").style.display="block";MakeOption.makeOptions(SelectBoard.menuConf);MakeOption.show(SelectBoard.menuConf);Tutorials.display_block&&EzBlock.sizeHeight()},hide:function(){document.querySelector(".selectBoardContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".dragheader2 .brand").style.display=
"none";document.querySelector(".video-block").style.display="none";document.querySelector(".select_return").style.display="none";MakeOption.hide(SelectBoard.menuConf)},sizeHeight:function(){var a=$(".ezblockContent").height();$(".recentUsedUl").height(.76*a);$(".selectBoardLeft").height(.85*a);$(".selectBoardContent").height(a);$(".selectBoard").height(a)},loadDevice:function(){var a="",c;for(c in distributor.Category){var e="",m;for(m in distributor.Category[c]){var l=window[distributor.Category[c][m]],
f=l.name,q="./product/"+l.id+"/img/"+l.id+".png";if("sensorkitforpi"==m||"sensorkitforleaf"==m)f=l.kitName;e+="<li onclick=\"EzBlock.changeDevice('"+m+'\');">\n\t\t\t\t<div>\n\t\t\t\t\t<img src="'+q+'" class="SelectBoardImg" alt="'+f+'">\n\t\t\t\t\t<p>'+f+"</p>\n\t\t\t\t</div>\n\t\t\t</li>"}a+='\t<div class="'+c+'Series">\n\t\t\t\t\t<p class="selectTitle">'+c+'</p>\n\t\t\t\t\t<ul class="clearfix">\n\t\t\t\t\t\t'+e+"\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t"}$(".selectBoardLeft").append(a)},clickCurrentDevice:function(a){window.localStorage&&
window.localStorage.setItem("currentCont",a);Home.recentUsedDevice(a);EzBlock.renderPage("home")},touchAndClick:function(){$(".resent").on({touchstart:function(a){a.preventDefault();longClick=0;timeOutEvent=setTimeout(function(){longClick=1;$(a.currentTarget).siblings(".delete_board").show()},500)},touchmove:function(a){a.preventDefault();clearTimeout(timeOutEvent);timeOutEvent=0},touchend:function(a){a.preventDefault();clearTimeout(timeOutEvent);0!=timeOutEvent&&0==longClick&&(a=a.currentTarget.id.split("-")[1],
SelectBoard.clickCurrentDevice(a));return!1}})},mouseRight:function(a,c){a=window.event||a;a.preventDefault();3==a.which&&$(".resent-"+c).find(".delete_board").show()},renderUsedCont:function(a,c){var e=window[a[c].device];a=a[c].platform;return'\t<li class="resent-'+c+'">\n\t\t\t\t<div class="resent" id=\'resent-'+c+"' onclick=\"SelectBoard.clickCurrentDevice("+c+')" onmousedown="SelectBoard.mouseRight(event,'+c+')">\n\t\t\t\t\t<div class="recent_top">\n\t\t\t\t\t\t<img src="'+("./product/"+e.id+
"/img/"+e.id+".png")+'" alt="'+e.nameEn+'">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clearfix recent_bottom">\n\t\t\t\t\t\t<div class="recent_bottom_left">\n\t\t\t\t\t\t\t<img src="'+("./img/series_"+e.series+"_small.png")+'" alt="'+e.nameEn+'" class="'+e.nameEn+'Img">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="recent_bottom_right">\n\t\t\t\t\t\t\t<img src="./img/'+a+'.png" alt="'+a.split("code")[0]+'" style="width:50px;">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<img src="./img/\u5220\u9664.png" alt="\u5220\u9664" class="delete_board" onclick="SelectBoard.delete(\'.resent-'+
c+"', "+c+', event);" style="display:none;" >\n\t\t\t</li>\n\t\t'},update:function(){var a=JSON.parse(window.localStorage.getItem("recentDev")),c="";for(key in a){if(!a[key].device){var e=window[a[key].split("-")[0]],m=a[key].split("-")[1],l=JSON.parse(a[key].split("-")[3]);l.jelly?l.sensorkit||(Choice.current.kit.sensorkit=SensorKit):Choice.current.kit.jelly=Jelly;Choice.current.device=e.nameEn;Choice.current.platform=m;EzBlock.changePlatform(m);Choice.kit();SelectBoard.recentDev[key]=Choice.current;
window.localStorage&&window.localStorage.setItem("recentDev",JSON.stringify(SelectBoard.recentDev))}e=JSON.parse(window.localStorage.getItem("recentDev"));e=SelectBoard.renderUsedCont(e,key);c+=e}$(".recentUsedUl").html(c);SelectBoard.recentDev=a},sessionStorage:function(){window.localStorage.getItem("recentDev")&&(SelectBoard.update(),SelectBoard.touchAndClick())},recentUsedDevice:function(a){EzBlock.changePlatform(a);window.localStorage.getItem("cont")&&(SelectBoard.cont=parseInt(window.localStorage.getItem("cont")));
SelectBoard.cont+=1;SelectBoard.recentDev[SelectBoard.cont]=Choice.current;window.localStorage&&(window.localStorage.setItem("recentDev",JSON.stringify(SelectBoard.recentDev)),window.localStorage.setItem("cont",SelectBoard.cont),window.localStorage.setItem("currentCont",SelectBoard.cont));SelectBoard.recentDev=JSON.parse(window.localStorage.getItem("recentDev"));SelectBoard.sessionStorage();Home.recentUsedDevice(window.localStorage.getItem("currentCont"));EzBlock.renderPage("home")},delete:function(a,
c,e){e=window.event||e;e.stopPropagation();e.preventDefault();delete SelectBoard.recentDev[c];$(a).remove();window.localStorage&&(window.localStorage.setItem("deleteCont",c),window.localStorage.setItem("recentDev",JSON.stringify(SelectBoard.recentDev)))},return:function(){Home.renderDevice();EzBlock.renderPage("home")},addKit:function(){$("#add-kit-mode").modal("show");$("#choose-kit-mode").modal("hide");SelectBoard.chooseKit()},next:function(){"raspberrypi"==device.id?($("#choose-kit-mode").modal("hide"),
$("#choose-mode").modal("show")):"leaf"==device.id&&(SelectBoard.recentUsedDevice("blockcode"),$("#choose-kit-mode").modal("hide"))},clear:function(){$(".add-next-btn").hide();$(".choose-kit-mode-cont").html("")},init:function(){SelectBoard.loadDevice();SelectBoard.sessionStorage()}};var CarouselList=function(a){this.id=a;$("#myCarousel").on("slide.bs.carousel",function(a){var c=$("#myCarousel").find(".item");$items=$(a.relatedTarget);c.index($items);$(".mycarousel-headImg").attr({src:"./img/1.png"});$(".footImg").attr({src:"./img/2.png"})});$("#myCarousel").swipe({swipeLeft:function(){$(this).carousel("next")},swipeRight:function(){$(this).carousel("prev")}})};
CarouselList.prototype.show=function(){EzBlock.page.init();document.querySelector(".carouselContent").style.display="block";document.querySelector(".carousel").style.display="block";document.querySelector(".goBack").style.display="block";document.querySelector(".product").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".headImg").style.display="block"};
CarouselList.prototype.hide=function(){document.querySelector(".carouselContent").style.display="none";document.querySelector(".carousel").style.display="none";document.querySelector(".goBack").style.display="none";document.querySelector(".product").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".headImg").style.display="none";$(".carousel-inner").html("")};
CarouselList.prototype.sizeHeight=function(){var a=$(window).height()-$(".dragheader2").height();$(".carousel").height(a)};CarouselList.prototype.init=function(){this.sizeHeight();document.querySelector(".product").style.display="block";document.querySelector(".dragheader2").style.display="none";EzBlock.page.loadDevice()};
CarouselList.prototype.loadDevice=function(){var a="",c="active";1==Object.keys(distributor.DEVICES).length&&$(".carousel-control.right, .carousel-control.left").hide();for(var e in distributor.DEVICES){var m=window[distributor.DEVICES[e]];a+='<div class="item '+c+'">\n                    \x3c!-- <img src="./img/raspberrypi.png" alt=""> --\x3e\n                    <div class="item-content" style="background:url(\'./device/'+m.id+"/img/"+m.id+'-carousel.png\') no-repeat;background-size: 4rem;\n                    background-position: 80% 65%;">\n                        <div class="block">\n                            <h1 class="title">'+
m.name+'</h1>\n                            <a class="desc" title="'+m.description+'">'+m.description+'</a>\n                            <button class="goto" onclick="EzBlock.changeDevice(\''+m.id+'\')">Let\'s Code</button>\n                        </div>\n                        <div class="item-enter" onclick="EzBlock.changeDevice(\''+m.id+"')\"></div>\n                    </div>\n                </div>";c=""}$(".carousel-inner").append(a)};var CarouselCoding=new CarouselList("carouselCoding");
CarouselCoding.loadDevice=function(){var a="",c="active";1==Object.keys(distributor.DEVICES).length&&$(".carousel-control.right, .carousel-control.left").hide();for(var e in distributor.DEVICES){var m=window[distributor.DEVICES[e]];a+='<div class="item '+c+'">\n                    \x3c!-- <img src="./img/raspberrypi.png" alt=""> --\x3e\n                    <div class="item-content" style="background:url(\'./device/'+m.id+"/img/"+m.id+'-carousel.png\') no-repeat;background-size: 4rem;\n                    background-position: 80% 65%;">\n                        <div class="block">\n                            <h1 class="title">'+m.name+
'</h1>\n                            <a class="desc" title="'+m.description+'">'+m.description+'</a>\n                            <button class="goto" onclick="EzBlock.changeDevice(\''+m.id+'\')">Let\'s Code</button>\n                        </div>\n                        <div class="item-enter" onclick="EzBlock.changeDevice(\''+m.id+"')\"></div>\n                    </div>\n                </div>";c=""}$(".carousel-inner").append(a)};var CarouselExamples=new CarouselList("carouselExamples");CarouselExamples.changePage=function(a){device=window[DEVICES[a]];EzBlock.renderPage("examplesProject")};
CarouselExamples.loadDevice=function(){var a="",c="active";1==Object.keys(distributor.DEVICES).length&&$(".carousel-control.right, .carousel-control.left").hide();for(var e in distributor.DEVICES){var m=window[distributor.DEVICES[e]];a+='<div class="item '+c+'">\n                    \x3c!-- <img src="./img/raspberrypi.png" alt=""> --\x3e\n                    <div class="item-content" style="background:url(\'./device/'+m.id+"/img/"+m.id+'-carousel.png\') no-repeat;background-size: 4rem;\n                    background-position: 80% 65%;">\n                        <div class="block">\n                            <h1 class="title">'+
m.name+'</h1>\n                            <a class="desc" title="'+m.description+'">'+m.description+'</a>\n                            <button class="goto" onclick="CarouselExamples.changePage(\''+m.id+'\')">Let\'s Code</button>\n                        </div>\n                        <div class="item-enter" onclick="EzBlock.changeDevice(\'examplesProject\')"></div>\n                    </div>\n                </div>';c=""}$(".carousel-inner").append(a)};var Register={id:"register",condition:{accessToken:"123",email:"",name:"",password:"",verifyCode:"",allowUpload:"",distributor:"",userInfo:{name:"",email:"",password:"",allowUpload:""}},usertoken:""};
$(function(){$(".login-label").click(function(){$("#register").modal("hide");$("#login").modal("hide");$("#login .userName").val("");$("#login .password").val("")});$(".close-this").click(function(){if(""!=$("#register_username").val()&&""!=$("#register_password").val()){Register.condition.name=$("#register_username").val();Register.condition.userInfo.name=$("#register_username").val();if($("#register_password").val()!=$("#register_repassword").val())return $(".register_errorMsg").html(MSG.pwdNotSame),
$(".register_errorMsg").show(),setTimeout(function(){$(".register_errorMsg").hide()},1200),!1;Register.condition.password=$("#register_password").val();Register.condition.userInfo.password=$("#register_password").val();$("#register").modal("hide");$("#email").modal("show")}else return $(".register_errorMsg").html(MSG.emailUsernamePwdNotNull),$(".register_errorMsg").show(),setTimeout(function(){$(".register_errorMsg").hide()},1200),!1});$("#email .private").bind("click",function(){var a=$("#email .private").is(":checked");
console.log(a)});$(".close-abvoe").click(function(){var a=$("#email_address").val();if(Register.checkEmailOrName(a))API.get("users/isemail",{accessToken:"123",email:a}).then(function(c){console.log(c);"\u8be5\u90ae\u7bb1\u5df2\u6ce8\u518c"==c.errorMsg?($(".email_errorMsg").html(MSG.emailRegistered),$(".email_errorMsg").show(),setTimeout(function(){$(".email_errorMsg").hide()},1200)):$("#email .private").is(":checked")?(Register.condition.email=a,Register.condition.userInfo.email=a,window.sessionStorage&&
window.sessionStorage.setItem("email",a),Register.verifyEmail(Register.condition.email)):($(".email_errorMsg").html(MSG.privatePolicy),$(".email_errorMsg").show(),setTimeout(function(){$(".email_errorMsg").hide()},1200))});else if(!Register.checkEmailOrName(a))return $(".email_errorMsg").html(MSG.emailFormat),$(".email_errorMsg").show(),setTimeout(function(){$(".email_errorMsg").hide()},1200),!1});$(".Verification-back").click(function(){$("#Verification").modal("hide");$("#email").modal("show");
$("#Verification #verifyCode").val("")});$("#ensure_register").click(function(){Register.condition.verifyCode=$("#verifyCode").val();Register.condition.allowUpload=$("#email .allowUpload").is(":checked");Register.condition.userInfo.allowUpload=$("#email .allowUpload").is(":checked");Register.signUp()});$(".register-label").click(function(){$("#login").modal("hide");$("#register").modal("show");$("#register #register_username").val("");$("#register #register_password").val("");$("#register #register_repassword").val("");
$("#email_address").val("");$("#Verification #verifyCode").val("")});$(".findPwd-label").click(function(){""==$("#login .userName").val()?($(".login_errMsg").html(MSG.userNameEmailAddress),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):($("#login").modal("hide"),$("#findPwd").modal("show"),$("#login .userName").val(""),$("#login .password").val(""))});$(".findPwdBack").click(function(){$("#findPwd").modal("hide");$("#login").modal("show");$("#find_password").val("");
$("#findPwdCode").val("")});$(".setPwdBack").click(function(){$("#setPwd").modal("hide");$("#findPwd").modal("show");$("#set_password").val("");$("#set_repassword").val("")});$("#findPwdCode").click(function(){$(this).attr("placeholder","")});$("#findPwdCode").blur(function(){$(this).attr("placeholder",MSG.verificatioCode)});$("#Verification #verifyCode").click(function(){$(this).attr("placeholder","")});$("#Verification #verifyCode").blur(function(){$(this).attr("placeholder",MSG.verificatioCode)});
$(".login-in").click(Register.login);$(".dragheader2 .parent_login .login").click(function(){Register.isLogin()});$(".homeContent_sliderMenu_login").click(function(){Register.isLogin()})});Register.isLogin=function(){if(window.sessionStorage){var a=window.sessionStorage.getItem("usertoken");""!=a&&null!=a?(EzBlock.userToken=a,EzBlock.renderPage("pInformation")):$("#login").modal("show")}};
Register.privateConfirm=function(){$("#privateTerms .checkBox").is(":checked")?($("#privateTerms").modal("hide"),$("#emial").modal("show"),$("#email .private").attr("checked",!0)):($(".private_error").show(),$(".private_error").html(MSG.privatePolicy),setTimeout(function(){$(".private_error").hide()},1200))};
Register.automaticLogin=function(){var a={accessToken:"123",password:$("#register_password").val()};a.email=$("#email_address").val();a.name=$("#register_username").val();API.get("users/login",a).then(function(a){console.log(a);$(".changePwd .e_oldpwd input").val("");$(".changePwd .e_newpwd input").val("");$(".changePwd .e_test input").val("");Coding.messageModal(MSG.loginSuccessfully);$(".cancelUser").show();$(".leave_out").show();$(".personContentRight .save_msg").css("text-align","right");a.userInfo.password=
$("#register_password").val();Register.password=$("#register_password").val();Register.username=$("#register_username").val();window.sessionStorage&&(EzBlock.userToken=a.userToken,window.sessionStorage.setItem("usertoken",a.userToken),window.sessionStorage.setItem("username",Register.username));PInformation.getUserInfo();PInformation.enterPersonMessage()})};
Register.login=function(){var a={accessToken:"123",password:$("#login_password").val()};""==$("#login .userName").val()||""==$("#login_password").val()?($(".login_errMsg").html(MSG.emailUsernamePwdNotNull),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):(Register.checkEmailOrName($("#login .userName").val())?a.email=$("#login .userName").val():Register.checkEmailOrName($("#login .userName").val())||(a.name=$("#login .userName").val()),API.get("users/login",a).then(function(a){"\u7528\u6237\u4e0d\u5b58\u5728"==
a.errorMsg?($(".login_errMsg").html(MSG.userNotExist),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):"\u90ae\u7bb1\u4e0d\u5b58\u5728"==a.errorMsg?($(".login_errMsg").html(MSG.emailNotExist),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):"\u5bc6\u7801\u9519\u8bef"==a.errorMsg?($(".login_errMsg").html(MSG.loginPwdError),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):(console.log(a),$("#login").modal("hide"),
$(".changePwd .e_oldpwd input").val(""),$(".changePwd .e_newpwd input").val(""),$(".changePwd .e_test input").val(""),Coding.messageModal(MSG.loginSuccessfully),$(".cancelUser").show(),$(".leave_out").show(),$(".personContentRight .save_msg").css("text-align","right"),a.userInfo.password=$("#login_password").val(),Register.password=$("#login_password").val(),Register.username=$("#login .userName").val(),window.sessionStorage&&(EzBlock.userToken=a.userToken,window.sessionStorage.setItem("usertoken",
a.userToken),window.sessionStorage.setItem("username",Register.username)),PInformation.getUserInfo(),setTimeout(function(){PInformation.enterPersonMessage()}))}))};
Register.getIdentiCode=function(){var a=$("#find_password").val();$("#findPwdCode").val();1>a.length?($(".findPwd_errorMsg").html(MSG.enterEmail),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)):Register.checkEmailOrName(a)?API.get("users/isemail",{accessToken:"123",email:a}).then(function(c){console.log(c);"\u8be5\u90ae\u7bb1\u672a\u6ce8\u518c"==c.errorMsg?($(".findPwd_errorMsg").html(MSG.emailUnRegistered),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},
1200)):API.get("users/email",{accessToken:"123",email:a}).then(function(a){console.log(a);1==a.status&&($(".findPwd_errorMsg").html(MSG.verificatioCodeSent),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200))})}):($(".findPwd_errorMsg").html(MSG.emailFormat),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200))};
Register.findPwd=function(){var a=$("#findPwdCode").val(),c=$("#set_password").val(),e=$("#set_repassword").val(),m=window.sessionStorage.getItem("pwdEmail");""==a?($(".findPwd_errorMsg").html(MSG.verificationCodeNotNull),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)):""==c||""==e?($(".findPwd_errorMsg").html(MSG.pwdNotNull),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)):c!=e?($(".findPwd_errorMsg").html(MSG.pwdNotSame),
$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)):API.get("users/upuserpaw",{accessToken:123,email:m,verifyCode:a,newPassword:e}).then(function(a){console.log(a);"\u9a8c\u8bc1\u7801\u9519\u8bef"==a.errorMsg?($(".findPwd_errorMsg").html(MSG.verificationCodeError),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)):1==a.status&&($(".findPwd_errorMsg").html(MSG.pwdChangedSuccessfully),$(".findPwd_errorMsg").show(),Register.condition.userInfo.password=
e,setTimeout(function(){$(".findPwd_errorMsg").hide()},1200),setTimeout(function(){$("#findPwd").modal("hide");$("#login").modal("show");$("#login .userName").val("");$("#login .password").val("");$("#find_password").val("");$("#findPwdCode").val("");$("#set_password").val("");$("#set_repassword").val("")},1200))})};Register.checkEmailOrName=function(a){return/^([a-zA-Z0-9]+[_|_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(a)?!0:!1};
Register.signUp=function(){console.log(Register.condition);$("#verShadow").show();API.get("users/info",Register.condition).then(function(a){console.log(a);"\u9a8c\u8bc1\u7801\u9519\u8bef"==a.errorMsg?($(".v_error").html(MSG.verificationCodeError),$(".v_error").show(),$("#verShadow").hide(),setTimeout(function(){$(".v_error").hide()},1200)):a.status&&($("#Verification").modal("hide"),Register.automaticLogin(),$("#email .private").attr("checked",!1),$("#email .allowUpload").attr("checked",!1),$("#email_address").val(""))})};
Register.verifyEmail=function(a){a={accessToken:"123",email:a};$("#emailShadow").show();API.get("users/email",a).then(function(a){console.log(a);1==a.status&&($(".email_errorMsg").html(MSG.verificatioCodeSent),$(".email_errorMsg").show(),$("#emailShadow").hide(),setTimeout(function(){$(".email_errorMsg").hide()},1200),setTimeout(function(){$("#Verification").modal("show");$("#email").modal("hide");a.userInfo={name:Register.condition.name,email:Register.condition.email,allowUpload:Register.condition.allowUpload}},
1200),$(""))})};var ProjectList=function(a){this.name="";this.list={};this.id=a;this.tab=this.tutorialsList=this.localList="";this.project={name:"",dateTime:"",device:"",platform:"",code:"",readOnly:!1};this.menuConf={Login:[],ShareConf:["New Project","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials"]}};
ProjectList.prototype.show=function(){document.querySelector(".myProjectContent").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".goBack").style.display="block";document.querySelector(".video-block").style.display="block";EzBlock.page.init();EzBlock.page.renderProject();setTimeout(function(){EzBlock.page.event(".myProject-main-item");EzBlock.page.deleteProject();EzBlock.page.cancelDelete()},1);MakeOption.makeOptions(this.menuConf);MakeOption.show(this.menuConf)};
ProjectList.prototype.openProjectName=function(){var a=window.localStorage.getItem("deleteCont"),c=window.localStorage.getItem("currentCont");c?c==a?(Home.clearDevice(),Coding.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2E3)):($("#projectName").modal("show"),Home.recentUsedDevice(c)):(Home.clearDevice(),Coding.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2E3))};
ProjectList.prototype.hide=function(){document.querySelector(".myProjectContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".goBack").style.display="none";document.querySelector(".video-block").style.display="none";MakeOption.hide(this.menuConf);EzBlock.page.unRender();EzBlock.page.unbindEvent()};ProjectList.prototype.sizeHeight=function(){var a=$(".ezblockContent").height();$(".myProjectContent").height(a-120)};
ProjectList.prototype.init=function(){var a=this;this.sizeHeight();this.addCate();document.querySelector(".product").style.display="none";$(".draw").click(function(){$(".myProject-main-list").show();$(".myProject-main-table").hide()});$(".tableList").click(function(){$(".myProject-main-list").hide();$(".myProject-main-table").show()});$(".saveAsBtn").click(function(){""!=$(".saveAsNameInput").val()?($("#saveAsProjectName").modal("hide"),a.name=$(".saveAsNameInput").val(),a.save()):alert("\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u5b57")});
$(".project_title").focus(function(){$(".project_title").css({background:"white"});$(".project_title_save").show()});$(".project_title").blur(function(){setTimeout(function(){$(".project_title").css({background:"rgb(255,202,75)"});MyProject.revealProjectName();$(".project_title_save").hide()},500)});$(".project_title_save").click(function(){console.log("wodianjile");MyProject.name=$(".project_title").val();MyProject.revealProjectName()});$(".searchFileInput").keydown(function(c){13==c.keyCode&&a.renderProject($(this).val())})};
ProjectList.prototype.loadProject=function(a){};ProjectList.prototype.unRender=function(){$(".myProject-main").html("")};ProjectList.prototype.unbindEvent=function(){};
ProjectList.prototype.event=function(a){var c=this;$(a).off();var e=0;$(a).on({touchstart:function(a){var f=this;e=0;a.preventDefault();timeOutEvent=setTimeout(function(){c.project.readOnly||($(f).find(".myProject-close").show(),e=1,c.deleteProject(),c.cancelDelete())},500)},touchMove:function(a){clearTimeout(timeOutEvent);timeOutEvent=0;a.preventDefault()},touchend:function(a){clearTimeout(timeOutEvent);0!=timeOutEvent&&0==e&&(c.loadProject(this),$("body").off());return!1}});var m;$(a).on({mousedown:function(a){var f=
this;e=0;a.preventDefault();m=setTimeout(function(){$(f).find(".myProject-close").show();e=1;c.deleteProject();c.cancelDelete()},500)},mouseup:function(a){clearTimeout(m);0!=m&&0==e&&(c.loadProject(this),$("body").off());return!1}})};
ProjectList.prototype.deleteProject=function(a){var c=this;$(".myProject-close").on({touchstart:function(a){},touchMove:function(a){a.preventDefault()},touchend:function(a){a.preventDefault();if(!c.project.readOnly){a=$(this).attr("data-id");var e=JSON.parse(localStorage.projectList);delete e[a];window.localStorage.setItem("projectList",JSON.stringify(e));c.deleteProjectMethod(a);c.renderProject();c.event(".myProject-main-item")}return!1}});$(".myProject-close").on({mousedown:function(a){},mousemove:function(a){a.preventDefault()},
mouseup:function(a){a.preventDefault();if(!c.project.readOnly){a=$(this).attr("data-id");var e=JSON.parse(localStorage.projectList);delete e[a];window.localStorage.setItem("projectList",JSON.stringify(e));c.deleteProjectMethod(a);c.renderProject();c.event(".myProject-main-item")}return!1}})};
ProjectList.prototype.cancelDelete=function(){var a=this;$("body").on({touchstart:function(a){a.stopPropagation()},touchMove:function(a){clearTimeout(void 0);a.preventDefault();a.stopPropagation()},touchend:function(c){c.stopPropagation();$(".myProject-close").hide();a.deleteProject();$("body").off();return!1}});$("body").on({mousedown:function(a){a.stopPropagation()},mousemove:function(a){a.preventDefault();a.stopPropagation()},mouseup:function(c){c.stopPropagation();$(".myProject-close").hide();
a.deleteProject();$("body").off();return!1}})};ProjectList.prototype.getCurrentProject=function(){this.project.name=this.name;this.project.datetime=(new Date).getTime();this.project.device=device.id;this.project.platform=Coding.platform.id;this.project.code=Coding.save();this.project.route=Routing.save();this.project.remote=Remote.save();this.project.iot=InternetOfThings.save();this.project.kits="";return this.project};
ProjectList.prototype.save=function(){if(""!=this.name){var a=this.getCurrentProject(),c=window.localStorage.getItem("projectList")?JSON.parse(window.localStorage.getItem("projectList")):{};c[this.project.name]=a;window.localStorage.setItem("projectList",JSON.stringify(c));window.navigator.onLine&&API.get("projects/info",{accessToken:"123",userToken:EzBlock.userToken,name:this.project.name,project:a}).then(function(a){console.log(a)});this.renderProject();Coding.messageModal("save successful")}else alert("\u8bf7\u65b0\u5efa\u9879\u76ee")};
ProjectList.prototype.renderProject=function(a){};ProjectList.prototype.renderNetProject=function(){};ProjectList.prototype.renderLocalProject=function(){};ProjectList.prototype.getProject=function(a){};ProjectList.prototype.getLocalProject=function(){};ProjectList.prototype.addCate=function(){};ProjectList.prototype.renderTutorialsProject=function(){};
ProjectList.prototype.newProject=function(){"myProject"!=EzBlock.page.id?($("#newProjectWindow").modal("show"),Routing.connect={},$(".remindBtn").click(function(){"false"==$(this).attr("data-id")?(console.log("not save"),$("#newProjectWindow").modal("hide"),MyProject.openProjectName()):"true"==$(this).attr("data-id")&&($("#newProjectWindow").modal("hide"),MyProject.save(),setTimeout(function(){MyProject.openProjectName()},500))})):MyProject.openProjectName()};
ProjectList.prototype.revealProjectName=function(){$(".project_title").val(this.name)};ProjectList.prototype.setHeader=function(){$(".dragheader2 .col-xs-6").css({width:"33%"})};ProjectList.prototype.resetHeader=function(){$(".dragheader2 .col-xs-6").css({width:"50%"})};ProjectList.prototype.newProjectMethod=function(){console.log("123123");this.openProjectName()};ProjectList.prototype.searchProject=function(a){};ProjectList.prototype.load=function(a){};var MyProject=new ProjectList("myProject");MyProject.loadProject=function(a){var c=this;if(localStorage.projectList)var e=JSON.parse(localStorage.projectList);a=$(a).find(".text-center").find(".myProject-main-item-name").html();window.navigator.onLine&&""!=EzBlock.userToken?API.get("projects/getinfo",{accessToken:"123",name:a,userToken:EzBlock.userToken}).then(function(a){console.log(a);c.load(a.project.project)}):c.load(e[a]);$("body").off()};
MyProject.renderProject=function(a){this.unRender();var c=this;(function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(1==m.nextAddress)return m.yield(c.getProject(a),2);c.unRender();for(var l in c.list){$(".myProject-main").append('<h2 class="myProject_cate">'+MSG["project"+firstUpperCase(l)]+"</h2>");e='<ul class="myProject-main-list">';for(var f in c.list[l])e+='<li class="myProject-main-item"><img class="myProject-close" data-id="'+c.list[l][f].name+'" src="./img/\u5220\u9664.png"><div class="myProject-main-item-img"><img src=\'./img/'+
c.list[l][f].platform+'.png\'></div><div class="text-center"><span class="myProject-main-item-name">'+c.list[l][f].name+'</span><div class="myProject-main-item-icon"><img src=\'./img/'+c.list[l][f].platform+".png'></div></div></li>";e+="</ul>";$(".myProject-main").append(e)}c.event(".myProject-main-item");c.deleteProject();c.cancelDelete();m.jumpToEnd()})})()};
MyProject.load=function(a){this.name=a.name;device=window[distributor.DEVICES[a.device]];EzBlock.changePlatform(a.platform);EzBlock.renderPage("coding");Coding.changePlatform(a.platform);Coding.load(a.code);Routing.load(a.route);Remote.load(a.remote);InternetOfThings.load(a.iot)};MyProject.getProject=function(a){var c=this;a=void 0===a?"":a;return new Promise(function(e,m){c.getRemoteProject(a).then(e,m);c.getLocalProject(a)})};
MyProject.getRemoteProject=function(a){var c=this;return API.get("projects/search",{accessToken:"123",userToken:EzBlock.userToken,keywords:void 0===a?"":a}).then(function(a){console.log(a);c.list.remote=a.status?a.projectList:{}},function(a){console.log("network error")})};
MyProject.getLocalProject=function(a){a=void 0===a?"":a;var c=JSON.parse(window.localStorage.getItem("projectList"));this.list.local={};if(""==a)this.list.local=c;else{var e=Object.keys(c);for(i in e){var m=e[i];-1!=m.indexOf(a)&&(this.list.local[m]=c[e[i]])}}};MyProject.unbindEvent=function(){$(".searchFileInput").off()};MyProject.unRender=function(){$(".myProject-main").html("")};
MyProject.deleteProjectMethod=function(a){var c=this;API.get("projects/info",{accessToken:"123",userToken:EzBlock.userToken,name:a,delete:!0}).then(function(a){console.log(a);c.renderProject()})};var TutorialsProject=new ProjectList("tutorialsProject");TutorialsProject.getProject=function(a){this.list=0!=Object.keys(Choice.current).length?window[a.device].tutorialsHasKit[a.platform]:window[a.device].tutorials[a.platform]};TutorialsProject.loadProject=function(a,c){};
TutorialsProject.renderProject=function(a){this.unRender();var c=this;(function(){var a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(e){if(1==e.nextAddress)return e.yield(c.getProject(Choice.current),2);for(var l in c.list){$(".myProject-main").append('<h2 class="myProject_cate">'+MSG["tutorials"+firstUpperCase(l).replace(/\s*/g,"")]+"</h2>");a='<ul class="myProject-main-list">';for(var f in c.list[l])a+='<li cate="'+l+'" class="myProject-main-item" style="background-image: url(\'./img/" + '+
c.list[l][f].platform+' + ".png\')" onclick="Tutorials.show(\''+l+"', '"+c.list[l][f].name+'\')"><img class="myProject-close" data-id="'+c.list[l][f].name+'" src="./img/\u5220\u9664.png"><div class="text-center">'+c.list[l][f].name+"</div></li>";a+="</ul>";$(".myProject-main").append(a)}c.event(".myProject-main-item");c.deleteProject();c.cancelDelete();e.jumpToEnd()})})()};TutorialsProject.event=function(){};TutorialsProject.deleteProject=function(){};TutorialsProject.cancelDelete=function(){};var ExamplesProject=new ProjectList("examplesProject");ExamplesProject.load=function(a){this.name=a.name;device=window[distributor.DEVICES[a.device]];EzBlock.changePlatform(a.platform);EzBlock.renderPage("coding");Coding.changePlatform(a.platform);Coding.load(a.code);Routing.load(a.route);Remote.load(a.remote);InternetOfThings.load(a.iot)};ExamplesProject.addCate=function(){$(".project_cate_block").remove();$(".myProject-header-menu").after('<div class="project_cate_block">\n        <button class="project_cate_btn" onclick="ExamplesProject.ChangePlatform(\'block\')">BlockCode</button>\n        <button class="project_cate_btn" onclick="ExamplesProject.ChangePlatform(\'PythonCode\')">PythonCode</button>\n        <button class="project_cate_btn" onclick="ExamplesProject.ChangePlatform(\'SwiftCode\')">SwiftCode</button>\n    </div>')};
ExamplesProject.getProject=function(a){a=void 0===a?"block":a;var c={};this.tab=a;0!=Object.keys(Choice.current).length?c[device.id]=device.examplesHasKit[a]:c[device.id]=device.examples[a];this.list=c};ExamplesProject.ChangePlatform=function(a){this.getProject(a)};
ExamplesProject.renderProject=function(a){this.unRender();var c=this;(function(){var e;return $jscomp.asyncExecutePromiseGeneratorProgram(function(m){if(1==m.nextAddress)return m.yield(c.getProject(a),2);for(var l in c.list){$(".myProject-main").append('<h2 class="myProject_cate">'+MSG["examples"+firstUpperCase(l)]+"</h2>");e='<ul class="myProject-main-list">';for(var f in c.list[l])e+='<li class="myProject-main-item" style="background-image: url(\'./img/'+c.list[l][f].platform+'.png\')"><img class="myProject-close" data-id="'+
c.list[l][f].name+'" src="./img/\u5220\u9664.png"><div class="text-center">'+c.list[l][f].name+"</div></li>";e+="</ul>";$(".myProject-main").append(e)}c.event(".myProject-main-item");c.deleteProject();c.cancelDelete();m.jumpToEnd()})})()};ExamplesProject.loadProject=function(a){a=$(a).find(".text-center").find(".myProject-main-item-name").html();this.load(device.examples[this.tab][a].project)};var InternetOfThings={id:"internetOfThings",blocks:{},saveIotData:[],menuConf:{Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},showImage:{sensors:{Temperature:'<div class="temperatureBox box cloneBox">\n     <div class="temperature-line">\n         <img src="./img/\u8f93\u51fa.png" alt="">\n     </div>\n     <div class="temperature-text textClass">Temperature</div>\n     <div class="number">\n         <span>32</span>\n         <span>\u2103</span>\n     </div>\n     <div class="temperature-block">\n         <img class="temp" src="./img/\u6e29\u5ea6.png" alt="">\n     </div>\n     <img class="temperature-close iot-close" src="./img/\u5220\u9664.png" alt="">\n  </div>',
Humidity:'<div class="humidityBox box cloneBox">\n    <div class="humidity-line">\n        <img src="./img/\u8f93\u51fa.png" alt="">\n    </div>\n    <div class="humidity-text textClass">Humidity</div>\n    <div class="number humidity-number">\n        <span>70</span>\n        <span>%</span>\n    </div>\n    <div class="humidity-block">\n        <img class="humi" src="./img/\u6e7f\u5ea6.png" alt="">\n    </div>\n    <img class="humidity-close iot-close" src="./img/\u5220\u9664.png" alt="">\n</div>',
Default:'<div class="defaultBox box cloneBox">\n     <div class="default-line">\n         <img src="./img/\u8f93\u51fa.png" alt="">\n     </div>\n     <div class="default-text textClass">Default</div>\n     <div class="number default-number">\n         <span>160</span>\n     </div>\n     <div class="default-block">\n         <img class="defa" src="./img/\u5176\u4ed6\u6570\u503c.png" alt="">\n     </div>\n     <img class="default-close iot-close" src="./img/\u5220\u9664.png" alt="">\n </div>'},actuators:{Default:'<div class="defaultBox box cloneBox">\n     <div class="default-line">\n         <img src="./img/\u8f93\u5165.png" alt="">\n     </div>\n     <div class="default-text textClass">Default</div>\n     <div class="number default-number">\n         <span>160</span>\n     </div>\n     <div class="default-block">\n         <img class="defa" src="./img/\u5176\u4ed6\u6570\u503c.png" alt="">\n     </div>\n     <img class="default-close iot-close" src="./img/\u5220\u9664.png" alt="">\n </div>',
Button:'<div class="button-box box cloneBox">\n      <div class="button-line">\n          <img src="./img/\u8f93\u5165.png" alt="">\n      </div>\n      <div class="button-text textClass">Button</div>\n      <div class="lamp-block imgBox">\n          <img class="lamp" src="./img/button.png" alt="">\n      </div>\n      <img class="default-close iot-close" src="./img/\u5220\u9664.png" alt="">\n  </div>',Switch:'<div class="switchBox box cloneBox">\n      <div class="switch-line">\n          <img src="./img/\u8f93\u5165.png" alt="">\n      </div> \n      <div class="switch-text textClass">Switch</div>\n      <div class="switch-block imgBox">\n          <img class="flag" src="./img/Switch.png" alt="">\n      </div>\n      <img class="default-close iot-close" src="./img/\u5220\u9664.png" alt="">\n  </div>',
Slider:'<div class="slider-box box cloneBox">\n      <div class="slider-line">\n          <img src="./img/\u8f93\u5165.png" alt="">\n      </div>\n      <div class="slider-text textClass">Slider</div>\n      <div class="slider-space"></div>\n      <div id="slider">\n      </div>\n      <img class="default-close iot-close" src="./img/\u5220\u9664.png" alt="">\n  </div>'}},changeShowImage:function(a,c){$(".show-image").html("");$(".show-image").append(InternetOfThings.showImage[a][c]);$("#slider").slider()},
iotSum:{},objectOfId:{}};
function IotCategory(a,c,e,m,l){var f=this;this.id=a;this.name=c;this.flag=!0;this.type=m;this.cate=e;this.timeOut=null;this.user_def_name=l;this.deleteInit=function(){InternetOfThings.showCloseBtn();InternetOfThings.deleteIot()};this.event={buttonClickEvent:function(){f.flag?($("#"+f.name).find(".lamp").attr({src:"./img/button-01.png"}),f.flag=!1,InternetOfThings.postValue({iotToken:iot_token,sensorname:f.id,deviceId:device.id,value:0})):f.flag||($("#"+f.name).find(".lamp").attr({src:"./img/button.png"}),f.flag=
!0,InternetOfThings.postValue({iotToken:iot_token,sensorname:f.id,deviceId:device.id,value:1}))},switchClickEvent:function(){f.flag?($("#"+f.name).find(".flag").attr({src:"./img/Switch-01.png"}),f.flag=!1,InternetOfThings.postValue({iotToken:iot_token,sensorname:f.id,deviceId:device.id,value:0})):f.flag||($("#"+f.name).find(".flag").attr({src:"./img/Switch.png"}),f.flag=!0,InternetOfThings.postValue({iotToken:iot_token,sensorname:f.id,deviceId:device.id,value:1}))},temperatureClickEvent:function(){$("#borken").modal("show")},
humidityClickEvent:function(){},sliderClickEvent:function(){}};this.init=function(){console.log($("#"+f.name));"actuators"==f.cate?-1!=f.name.indexOf("Button")?InternetOfThings.touchEvent("#"+f.name,f.event.buttonClickEvent):-1!=f.name.indexOf("Switch")?InternetOfThings.touchEvent("#"+f.name,f.event.switchClickEvent):-1!=f.name.indexOf("Slider")?($("#slider").slider(),InternetOfThings.touchEvent("#"+f.name,f.event.sliderClickEvent)):f.name.indexOf("Default"):"sensors"==f.cate&&(f.timeOut=setInterval(function(){InternetOfThings.getValue({iotToken:iot_token,
sensorname:f.id,deviceId:device.id}).then(function(a){console.log(a);$("#"+f.name).find(".number").find("span").eq(0).html(a)})},1E3),InternetOfThings.touchEvent("#"+f.name,f.event.temperatureClickEvent))}}
InternetOfThings.show=function(){$(".iotDebug").show();$(".iotDebug").draggable({containment:$(".internetOfThingsContent")});$(".iotDebug").css({top:"-733px",left:"747px",width:"27%"});document.querySelector(".internetOfThingsContent").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".video-block").style.display="block";$(".pageBack,.kitRun").show();$(".kitRun .kitplay").show();$(".kitRun .kitstop").click(function(){$(this).hide();$(".kitRun .kitplay").show()});
$(".kitRun .kitplay").click(function(){$(this).hide();$(".kitRun .kitstop").show()});MakeOption.makeOptions(InternetOfThings.menuConf);MakeOption.show(InternetOfThings.menuConf);Tutorials.display_block&&EzBlock.sizeHeight()};
InternetOfThings.hide=function(){$(".iotDebug").hide();document.querySelector(".internetOfThingsContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".video-block").style.display="none";$(".pageBack,.kitRun").hide();$(".kitstop,.kitplay").hide();$(".pageBack,.kitRun").unbind();MakeOption.hide(InternetOfThings.menuConf);InternetOfThings.createBlocks()};InternetOfThings.sizeHeight=function(){var a=$(".ezblockContent").height();$(".internetOfThingsContent").height(a)};
InternetOfThings.init=function(){InternetOfThings.sizeHeight()};
$(function(){echarts.init(document.getElementById("borkenMain")).setOption({xAxis:{type:"category",data:["5:30","5:32","5:34","5:40","5:44"]},yAxis:{type:"value"},series:[{data:["30","40","43","20"],type:"line"}]});$(".temperatureBox").click(function(){$("#borken").modal("show")});$("#slider").slider();$(".appendBox").click(function(){$("#appendIot").modal("show")});$(".actuators").click(function(){$(".choose-type-select-input").val("");$(".input-menu").html("");$(".choose-name-btn").val("actuators");
$(".choose-type-text").html("actuators:");$(".input-menu").append('<li><a href="#">Button</a></li><li><a href="#">Switch</a></li><li><a href="#">Slider</a></li><li><a href="#">Default</a></li>')});$(".sensors").click(function(){$(".choose-type-select-input").val("");$(".input-menu").html("");$(".choose-name-btn").val("sensors");$(".choose-type-text").html("sensors:");$(".input-menu").append('<li><a href="#">Temperature</a></li><li><a href="#">Humidity</a></li><li><a href="#">Default</a></li>')});
$(".input-menu").on("click","li",function(){$(".choose-type-select-input").val($(this).find("a").html());InternetOfThings.changeShowImage($(".choose-name-btn").val(),$(this).find("a").html())});$(".iotName").change(function(){$(this).parent().parent().parent().find(".show-image").find(".textClass").html($(".iotName").val())});$(".sendBtn").click(InternetOfThings.createIot)});
InternetOfThings.createIot=function(){var a=$(".iotName").val(),c=$(".choose-name-btn").val()+"#"+$(".choose-type-select-input").val(),e=$(".choose-name-btn").val(),m=$(".choose-type-select-input").val();console.log(c);if(""==a)return Coding.messageModal("Please fill in the name"),!1;for(var l in InternetOfThings.iotSum)if(l==a)return Coding.messageModal("Name already exist"),!1;verdictHasId(c)?InternetOfThings.objectOfId[c]=1:++InternetOfThings.objectOfId[c];InternetOfThings.iotSum[a]=new IotCategory(c+
"#"+InternetOfThings.objectOfId[c],$(".choose-type-select-input").val()+InternetOfThings.objectOfId[c],e,m,a);console.log(InternetOfThings.iotSum[a]);$(this).siblings().find(".cloneBox").attr("id",$(".choose-type-select-input").val()+InternetOfThings.objectOfId[c]);$(this).siblings().find(".cloneBox").insertBefore(".appendBox");InternetOfThings.iotSum[a].deleteInit();InternetOfThings.cancelDelete();$("#appendIot").modal("hide");InternetOfThings.iotSave(c,e,m,a);$(".choose-name input").val("");$(".choose-type-text").html("")};
$(function(){$(".kitplay").click(InternetOfThings.run);$(".kitstop").click(InternetOfThings.stop)});InternetOfThings.run=function(){for(var a in InternetOfThings.iotSum)$("#"+InternetOfThings.iotSum[a].name).off(),InternetOfThings.iotSum[a].init()};InternetOfThings.stop=function(){for(var a in InternetOfThings.iotSum)$("#"+InternetOfThings.iotSum[a].name).off(),clearInterval(InternetOfThings.iotSum[a].timeOut),InternetOfThings.iotSum[a].deleteInit(),InternetOfThings.cancelDelete()};
InternetOfThings.createIotFromSave=function(a){InternetOfThings.iotSum={};for(key in a){var c=a[key].id,e=a[key].name,m=a[key].type,l=a[key].cate;verdictHasId(c)?InternetOfThings.objectOfId[c]=1:++InternetOfThings.objectOfId[c];InternetOfThings.iotSum[e]=new IotCategory(c+"#"+InternetOfThings.objectOfId[c],l,m+InternetOfThings.objectOfId[c],m);$(".appendBox").before(InternetOfThings.showImage[m]);$(".cloneBox").eq(key).attr("id",m+InternetOfThings.objectOfId[c]);$(".textClass").eq(key).html(e);InternetOfThings.iotSum[e].deleteInit()}};
InternetOfThings.load=function(a){InternetOfThings.clear();InternetOfThings.createIotFromSave(a);InternetOfThings.createBlocks()};
InternetOfThings.createBlocks=function(){InternetOfThings.blocks={};BlockCode.iotToolboxText="";if(isEmptyObject(InternetOfThings.iotSum))return BlockCode.reflashToolbox(),!1;var a="<category name='%{BKY_CATIOT}' colour='#58ce6a'>";for(key in InternetOfThings.iotSum)Blockly.Constants.IOT.ActuatorsID=[],Blockly.Constants.IOT.SensorsID=[];for(key in InternetOfThings.iotSum){var c=InternetOfThings.iotSum[key].id,e=InternetOfThings.iotSum[key].id.split("#")[2];-1!=InternetOfThings.iotSum[key].id.indexOf("actuators")?
(InternetOfThings.blocks.actuatorBlock='<block type="iot_get_value"></block>',Blockly.Constants.IOT.ActuatorsID.push([key+"-"+e,c])):-1!=InternetOfThings.iotSum[key].id.indexOf("sensors")&&(InternetOfThings.blocks.sensorBlock='<block type="iot_post_value"></block>',Blockly.Constants.IOT.SensorsID.push([key+"-"+e,c]))}for(key in InternetOfThings.blocks)a+=InternetOfThings.blocks[key];a+="</category>";BlockCode.iotToolboxText=a;navigator.onLine||window.localStorage.setItem("iotToolboxText",a);BlockCode.reflashToolbox()};
function verdictHasId(a){var c=Object.keys(InternetOfThings.objectOfId);return 0==c.length?!0:-1!=c.indexOf(a)?!1:!0}
InternetOfThings.touchEvent=function(a,c){var e=0;$(a).on({touchstart:function(a){e=0;timeOutEvent=setTimeout(function(){e=1;console.log("\u957f\u6309\u4e8b\u4ef6\u751f\u6548\u4e86")},500)},touchMove:function(a){clearTimeout(timeOutEvent);timeOutEvent=0;a.preventDefault()},touchend:function(a){a.stopPropagation();clearTimeout(timeOutEvent);0!=timeOutEvent&&0==e&&c();return!1}});$(a).on({mousedown:function(a){e=0;timeOutEvent=setTimeout(function(){e=1;console.log("\u957f\u6309\u4e8b\u4ef6\u751f\u6548\u4e86")},
500)},mousemove:function(a){clearTimeout(timeOutEvent);timeOutEvent=0;a.preventDefault()},mouseup:function(a){a.stopPropagation();clearTimeout(timeOutEvent);0!=timeOutEvent&&0==e&&c();return!1}})};InternetOfThings.cancelDelete=function(){$("body").click(function(){$(".iot-close").hide()})};
InternetOfThings.showCloseBtn=function(){console.log("showclose");$(".cloneBox").on({touchstart:function(a){var c=this;longClick=0;timeOutEvent=setTimeout(function(){$(c).find(".iot-close").show();InternetOfThings.deleteIot(c)},1E3)},touchMove:function(a){clearTimeout(timeOutEvent);timeOutEvent=0;a.preventDefault()},touchend:function(a){a.stopPropagation();clearTimeout(timeOutEvent);return!1}})};
InternetOfThings.deleteIot=function(a){console.log("adasd");$(a).find(".iot-close").on({touchstart:function(a){longClick=0;timeOutEvent=setTimeout(function(){},1E3)},touchMove:function(a){clearTimeout(timeOutEvent);timeOutEvent=0;a.preventDefault()},touchend:function(a){a.stopPropagation();clearTimeout(timeOutEvent);0!=timeOutEvent&&0==longClick&&(a=$(this).parent().find(".textClass").html(),delete InternetOfThings.iotSum[a],$(this).parent().remove());return!1}})};
InternetOfThings.iotSave=function(a,c,e,m){InternetOfThings.saveIotData.push({id:a,cate:c,type:e,name:m})};InternetOfThings.save=function(){return InternetOfThings.saveIotData};InternetOfThings.clear=function(){$(".cloneBox").remove()};InternetOfThings.postValue=function(a){API.get("iots/info",a).then(function(a){console.log(a)})};InternetOfThings.getValue=function(a){return p=new Promise(function(c,e){API.get("iots/iotget",a).then(function(a){console.log(a);a.status=!0;c(a.value)})})};var AfterSaleProblem={id:"afterSaleProblem",menuConf:{Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},sendEmail:function(){var a=/^([A-ZA-z0-9_\-\.])+@([A-ZA-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,c=$(".sender input").val(),e=$(".receiver input").val(),m=$(".theme .subject").val(),l=$("#problemText").val();1>c.trim().length?($(".sender span").html(MSG.enterEmail),$(".sender input").val(""),$(".sender input").removeAttr("placeholder")):
a.test(c)?1>e.trim().length?($(".receiver span").html(MSG.enterEmail),$(".receiver input").val(""),$(".receiver input").removeAttr("placeholder")):a.test(e)?1>m.length?$(".theme span").html(MSG.themeNotNull):1>l.trim().length?$(".mainPart span").html(MSG.bodyNotNull):API.get("compilers/email",{accessToken:"123",userEmail:c,targetEmail:e,subject:m,context:l}).then(function(a){console.log(a)}):($(".receiver span").html(MSG.emailFormat),$(".receiver input").val(""),$(".receiver input").removeAttr("placeholder")):
($(".sender span").html(MSG.emailFormat),$(".sender input").val(""),$(".sender input").removeAttr("placeholder"))},show:function(){document.querySelector(".afterSaleProblemContent").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".dragheader2 .goBack").style.display="block";document.querySelector(".video-block").style.display="block";MakeOption.makeOptions(AfterSaleProblem.menuConf);MakeOption.show(AfterSaleProblem.menuConf);Tutorials.display_block&&
EzBlock.sizeHeight()},hide:function(){document.querySelector(".afterSaleProblemContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".dragfooter").style.display="none";document.querySelector(".dragheader2 .goBack").style.display="none";document.querySelector(".video-block").style.display="none";MakeOption.hide(AfterSaleProblem.menuConf)},sizeHeight:function(){var a=$(".ezblockContent").height();$(".afterSaleProblemContent").height(a)},init:function(){AfterSaleProblem.sizeHeight();
$(".sender input").focus(function(){$(".sender span").html("");$(".sender input").attr("placeholder",MSG.enterEmail)});$(".receiver input").focus(function(){$(".receiver span").html("");$(".receiver input").attr("placeholder",MSG.enterEmail)});$(".theme input").focus(function(){$(".theme span").html("")});$(".mainPart textarea").focus(function(){$(".mainPart span").html("")});$(".sender span").click(function(){$(".sender span").html("");$(".sender input").attr("placeholder",MSG.enterEmail);$(".sender input").focus()});
$(".receiver span").click(function(){$(".receiver span").html("");$(".receiver input").attr("placeholder",MSG.enterEmail);$(".receiver input").focus()});$(".theme span").click(function(){$(".theme span").html("");$(".theme input").focus()});$(".mainPart span").click(function(){$(".mainPart span").html("");$(".mainPart textarea").focus()})}};var Faq={id:"faq",menuConf:{Login:[],ShareConf:"New Project;My Project;Save;Save As;Examples;Forum;Language".split(";"),ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},pageno:1,pagesize:8,getAllMsgUrl:"faqs/info",getMessage:function(a,c){Faq.getAllMsgPayload={accessToken:"123",keyword:c};Faq.message=[];API.get(a,Faq.getAllMsgPayload).then(function(a){console.log(a);for(var c in a.faqList)Faq.message.push(c+","+a.faqList[c]);0<Faq.message.length?(Faq.pageLength=Faq.message.length,Faq.pageall=
0==Faq.pageLength%Faq.pagesize?Faq.pageLength/Faq.pagesize:parseInt(Faq.pageLength/Faq.pagesize)+1,Faq.changePageNo(Faq.pageno),$(".faqCont .faqPage").show(),$(".faqPage .pager").show()):($(".faqCont .faqPage").show(),$(".faqPage ul").html("No results found."),$(".faqPage .pager").hide());$(".faqAnswer").hide()});return Faq.message},answer:function(a){Faq.answerUrl="faqs/con";$(".faqCont .faqPage").hide();Faq.answerPayload={accessToken:"123",id:a};API.get(Faq.answerUrl,Faq.answerPayload).then(function(a){$(".faqContent .faqAnswer").html("\n\t\t\t <div onclick=\"$('.faqCont .faqPage').show();$('.faqPage .pager').show();$('.faqAnswer').hide();\" class=\"back-Img\">\n\t\t\t   back\n\t\t\t </div>\n\t\t\t <div class=\"question\">Question:<br/><span>"+
a.context.question+'</span></div>\n\t\t\t <div class="answer">Answer:'+a.context.answer+"</div>\n\t\t\t");$(".faqAnswer").show()})},changePageNo:function(a){1>a&&(a=1);a>Faq.pageall&&(a=Faq.pageall);$(".faqPage ul").html("");for(var c=0;c<Faq.pagesize;c++){var e=Faq.message[(a-1)*Faq.pagesize+c].split(",")[0],m=Faq.message[(a-1)*Faq.pagesize+c].split(",")[1];e="\n\t\t\t<li onclick=\"javascript:this.firstElementChild.style.color='rgb(178,178,178)';Faq.answer("+e+")\">\n\t\t\t\t<a href='#' onclick=\"javascript:this.style.color='rgb(178,178,178)';\">"+
m+'</a>\n\t\t\t\t<img src="./img/rightarrow.png"></img>\n\t\t\t</li>\n\t\t\t<hr/>\t\n\t\t';$(".faqPage ul").append(e);if(null==Faq.message[(a-1)*Faq.pagesize+c+1])break}$(".faqPage .pager .pageNum").html(a)},show:function(){document.querySelector(".faqContent").style.display="block";document.querySelector(".dragheader2").style.display="block";document.querySelector(".dragheader2 .goBack").style.display="block";document.querySelector(".video-block").style.display="block";MakeOption.makeOptions(Faq.menuConf);
MakeOption.show(Faq.menuConf);Faq.getMessage(Faq.getAllMsgUrl,"");Tutorials.display_block&&EzBlock.sizeHeight()},hide:function(){document.querySelector(".faqContent").style.display="none";document.querySelector(".dragheader2").style.display="none";document.querySelector(".dragfooter").style.display="none";document.querySelector(".dragheader2 .goBack").style.display="none";document.querySelector(".video-block").style.display="none";MakeOption.hide(Faq.menuConf)},sizeHeight:function(){var a=$(".ezblockContent").height();
$(".faqContent").height(a)},init:function(){}};var Home={id:"home",newProject:function(){""!=$(".nameInput").val()?(MyProject.name=$(".nameInput").val(),EzBlock.renderPage("coding"),$("#projectName").modal("hide"),MyProject.name=$(".nameInput").val(),createIotToken()):alert("\u8bf7\u8f93\u5165\u4f60\u4eec\u7684\u9879\u76ee\u540d\u79f0");$(".nameInput").val("")}};$(function(){$(".ensureBtn").click(function(){Home.newProject()})});Home.keydown=function(a){13==a.keyCode&&Home.newProject()};Home.menuConf={Login:[],ListConf:"Examples;Forum;Language;FAQ;Tutorials;Contact Us;About Us".split(";")};
Home.recentUsedDevice=function(a){var c=JSON.parse(window.localStorage.getItem("recentDev"));isEmptyObject(c)?Home.clearDevice():(device=window[c[a].device],platform=c[a].platform,device.kits=c[a].kit,EzBlock.changePlatform(platform),Choice.kit(),a="<img src="+("./product/"+device.id+"/img/"+device.id+".png")+" alt="+device.description+">",c="./img/series_"+device.series+"_medium.png",$(".homeContent_device_choice_device").html(a),$(".homeContent_device_choice_series_name").html(device.name),$(".homeContent_device_choice_plaform_name").html(firstUpperCase(platform.split("code")[0])),
$(".homeContent_device_choice_series_img img").attr("src",c),"lizard"==device.id?$(".homeContent_device_choice_series_img img").addClass("selectedWidth"):$(".homeContent_device_choice_series_img img").removeClass("selectedWidth"),$(".homeContent_device_choice_plaform_img img").attr("src","./img/"+platform+".png"))};
Home.clearDevice=function(){$(".homeContent_device_choice_device").html("");$(".homeContent_device_choice_series_name").html("");$(".homeContent_device_choice_plaform_name").html("");$(".homeContent_device_choice_series_img img").attr("src","");$(".homeContent_device_choice_plaform_img img").attr("src","")};
Home.show=function(){document.querySelector(".homeContent").style.display="block";document.querySelector(".headImg").style.display="block";document.querySelector(".video-block").style.display="block";MakeOption.makeOptions(Home.menuConf);MakeOption.show(Home.menuConf)};Home.hide=function(){document.querySelector(".homeContent").style.display="none";document.querySelector(".headImg").style.display="none";document.querySelector(".video-block").style.display="none";MakeOption.hide(Home.menuConf)};
Home.openNameInput=function(){$("#saveAsProjectName").modal("show")};Home.sizeHeight=function(){var a=$(".ezblockContent").height()+80;$(".homeContent").height(a)};Home.renderDevice=function(){var a=window.localStorage.getItem("deleteCont"),c=window.localStorage.getItem("currentCont");c?c==a?Home.clearDevice():Home.recentUsedDevice(c):Home.clearDevice()};Home.init=function(){Home.sizeHeight();Home.renderDevice()};var EzBlock={userToken:""};distributor=Distributor[_distributor.toLocaleLowerCase()];distributor.DEVICES={};for(var key in distributor.Category){var series=distributor.Category[key],i;for(i in series)distributor.DEVICES[i]=series[i]}EzBlock.LANGUAGE_NAME={en:"English","zh-hans":"\u7b80\u4f53\u4e2d\u6587"};EzBlock.LANGUAGE_RTL=["ar","fa","he","lki"];
EzBlock.getStringParamFromUrl=function(a,c){return(a=location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):c};EzBlock.getLang=function(){var a=EzBlock.getStringParamFromUrl("lang","");void 0===EzBlock.LANGUAGE_NAME[a]&&(a="en");return a};EzBlock.delay=function(a){return new Promise(function(c,e){setTimeout(function(){c(!0)},a)})};EzBlock.isRtl=function(){return-1!=EzBlock.LANGUAGE_RTL.indexOf(LANG)};
EzBlock.changeLanguage=function(a){if(window.sessionStorage){var c=Blockly.Xml.workspaceToDom(BlockCode.workspace);c=Blockly.Xml.domToText(c);window.sessionStorage.loadOnceBlocks=c}c=window.location.search;c=1>=c.length?"?lang="+a:c.match(/[?&]lang=[^&]*/)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c;window.sessionStorage&&window.sessionStorage.setItem("currentProject",JSON.stringify(MyProject.getCurrentProject()))};
EzBlock.bindClick=function(a,c){"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",c,!0)};var LANG=EzBlock.getLang(),RTL=EzBlock.isRtl();EzBlock.PAGES={coding:Coding,routing:Routing,remote:Remote,selectBoard:SelectBoard,internetOfThings:InternetOfThings,home:Home,myProject:MyProject,pInformation:PInformation,afterSaleProblem:AfterSaleProblem,faq:Faq,tutorialsProject:TutorialsProject,examplesProject:ExamplesProject};EzBlock.lastPage={};
EzBlock.sizeHeight=function(){var a=$(window).height()-$(".dragheader2").height()-Tutorials.display_block*Tutorials.height;$(".ezblockContent").height(a);Home.sizeHeight();SelectBoard.sizeHeight();Coding.sizeHeight();Routing.sizeHeight();MyProject.sizeHeight();InternetOfThings.sizeHeight();Remote.sizeHeight();PInformation.sizeHeight();AfterSaleProblem.sizeHeight();Faq.sizeHeight();TutorialsProject.sizeHeight();ExamplesProject.sizeHeight()};EzBlock.resizeHeight=function(){$(window).resize(function(){EzBlock.sizeHeight()})};
EzBlock.initLanguage=function(){var a=EzBlock.isRtl();document.dir=a?"rtl":"ltr";document.head.parentElement.setAttribute("lang",EzBlock.LANG);a=[];for(var c in EzBlock.LANGUAGE_NAME)a.push([EzBlock.LANGUAGE_NAME[c],c]);a.sort(function(a,c){return a[0]>c[0]?1:a[0]<c[0]?-1:0})};
EzBlock.changeDevice=function(a,c){c=void 0===c?null:c;device=window[distributor.DEVICES[a]];SelectBoard.clear();Choice.current.device=device.nameEn.replace(/\s*/g,"");"raspberrypi"==device.series?("raspberrypi"==a?device.kits={}:"sensorkitforpi"==a&&(device.kits.sensorkit=SensorKit),Choice.kit(),$("#choose-mode").modal("show")):"leaf"==device.series&&("leaf"==a?device.kits={}:"sensorkitforleaf"==a&&(device.kits.sensorkit=SensorKit),Choice.kit(),SelectBoard.recentUsedDevice("blockcode"));if(null!=
c)return EzBlock.changePlatform(c),Choice.current.platform=c,null};EzBlock.changePlatform=function(a){$("#choose-mode").modal("hide");Coding.changePlatform(a);Coding.changeDevice();Routing.changeDevice();Remote.changeDevice();Choice.current.platform=a};
EzBlock.renderPage=function(a){var c=EzBlock.PAGES[a];isEmptyObject(EzBlock.page)||EzBlock.page.hide();EzBlock.lastPage=EzBlock.page;EzBlock.lastPage||EzBlock.PAGES.home.hide();EzBlock.page=c;window.sessionStorage&&window.sessionStorage.setItem("page",EzBlock.page.id);EzBlock.page.show();Tutorials.display_block&&Tutorials.setPageHeight(a)};EzBlock.back=function(){EzBlock.lastPage?(console.log(EzBlock.lastPage.id),EzBlock.renderPage(EzBlock.lastPage.id)):EzBlock.renderPage("home")};
EzBlock.init=function(){for(var a in distributor.DEVICES)device=window[distributor.DEVICES[a]],device.init();window.sessionStorage.getItem("usertoken")||$("#login").modal("show");EzBlock.sizeHeight();EzBlock.resizeHeight();SelectBoard.init();Coding.init();Routing.init();Remote.init();Home.init();InternetOfThings.init();PInformation.init();AfterSaleProblem.init();Faq.init();TutorialsProject.init();var c='<ul id="choiceLans" >';for(a in EzBlock.LANGUAGE_NAME)c+='<li class="choiceLans" onclick="EzBlock.changeLanguage(\''+
a+"');\">"+EzBlock.LANGUAGE_NAME[a]+"<li>";c+="</ul>";$(".lan_modal").append(c);MakeOption.init();Video.init();EzBlock.initLanguage();window.sessionStorage.page in EzBlock.PAGES?(a=window.sessionStorage.page,c=window.sessionStorage.platform,window.sessionStorage.device in distributor.DEVICES?EzBlock.changeDevice(window.sessionStorage.device,c):EzBlock.renderPage("home"),(c=JSON.parse(window.sessionStorage.getItem("currentProject")))&&MyProject.load(c),EzBlock.renderPage(a)):EzBlock.renderPage("home")};
EzBlock._prompt=function(a,c){return new Promise(function(e){$(".promptInput").val(c);$("#promptModal").modal("show");$("#prompt-title").html(a);$(".promptBtn").click(function(){var a=$(".promptInput").val();$("#promptModal").modal("hide");e(a)})})};EzBlock.openLanguage=function(){$("#changeLangulage").modal("show")};Blockly.prompt=function(a,c,e){EzBlock._prompt(a,c).then(function(a){e(a)})};document.write('<script src="./msg/'+LANG+'.js">\x3c/script>\n');
document.write('<script src="./msg/js/'+LANG+'.js">\x3c/script>\n');
EzBlock.addJs=function(a,c,e,m,l,f,q,z){e=void 0===e?!1:e;m=void 0===m?!1:m;l=void 0===l?!1:l;f=void 0===f?!1:f;q=void 0===q?!1:q;z=void 0===z?!1:z;for(var B in c){c="."+a+B+"/generator.js";var u="."+a+B+"/simulator.js",C="."+a+B+"/msg/"+LANG+".js",A="."+a+B+"/"+B+".js",v="."+a+B+"/toolbox.js",b="."+a+B+"/examples/block.js",d="."+a+B+"/examples/raspberrypi/block.js",g="."+a+B+"/tutorials/block.js",r="."+a+B+"/tutorials/raspberrypi/block.js";document.write("<script type='text/javascript' src="+("."+
a+B+"/block.js")+">\x3c/script>\n ");document.write("<script type='text/javascript' src="+c+">\x3c/script>\n ");document.write("<script type='text/javascript' src="+u+">\x3c/script>\n ");document.write("<script type='text/javascript' src="+C+">\x3c/script>\n ");e||document.write("<script type='text/javascript' src="+A+">\x3c/script>\n ");q&&document.write("<script type='text/javascript' src="+r+">\x3c/script>\n ");m&&document.write("<script type='text/javascript' src="+v+">\x3c/script>\n ");l&&document.write("<script type='text/javascript' src="+
b+">\x3c/script>\n ");f&&document.write("<script type='text/javascript' src="+g+">\x3c/script>\n ");z&&document.write("<script type='text/javascript' src="+d+">\x3c/script>\n ")}};EzBlock.addJs("/blockcode/packages/",BUILD_IN_PACKAGES,buildin=!0);EzBlock.addJs("/product/",distributor.DEVICES,buildin=!1,loadToolbox=!0,loadExample=!0,loadTutorials=!0);EzBlock.addJs("/packages/",distributor.PACKAGES,buildin=!0,loadToolbox=!1,loadExample=!1,loadTutorials=!1,loadTutorialsKit=!0,loadExampleHasKit=!0);
window.addEventListener("load",EzBlock.init);MakeOption={makeOptions:function(a){for(key in a)if($("#"+key).html(""),0<a[key].length){for(var c=0;c<a[key].length;c++){var e=a[key][c];e="Tutorials"==e?'<li class="help"><a '+MakeOption.allOptions[e].onclick+">"+MakeOption.allOptions[e].msg+"</a></li>":"<li><a "+MakeOption.allOptions[e].onclick+">"+MakeOption.allOptions[e].msg+"</a></li>";$("#"+key).append(e)}$(".help").click(function(a){a.stopPropagation()})}},init:function(){MakeOption.allOptions={"New Project":{msg:MSG.new_project,onclick:"onclick='MyProject.newProject()'"},
"My Project":{msg:MSG.my_project,onclick:"onclick='EzBlock.renderPage(\"myProject\")'"},Save:{msg:MSG.save,onclick:"onclick='MyProject.save()'"},"Save As":{msg:MSG.save_as,onclick:"onclick='Home.openNameInput()'"},Examples:{msg:MSG.examples,onclick:"onclick='EzBlock.renderPage(\"carouselExamples\")'"},Forum:{msg:MSG.forum,onclick:""},Language:{msg:MSG.language,onclick:"onclick = 'EzBlock.openLanguage()'"},Tutorials:{msg:MSG.tutorials,onclick:"onclick='EzBlock.renderPage(\"tutorialsProject\")'"},FAQ:{msg:MSG.faq,
onclick:"onclick = 'EzBlock.renderPage(\"faq\")'"},"Contact Us":{msg:MSG.contact_us,onclick:"onclick='EzBlock.renderPage(\"afterSaleProblem\")'"},"About Us":{msg:MSG.about_us,onclick:'onclick=$("#aboutUs").modal("show")'},"created packages":{msg:MSG.created_packages,onclick:"onclick='AddPackage.packagesListModal()'"},"add packages":{msg:MSG.add_packages,onclick:""},"add kit":{msg:MSG.add_kit,onclick:'onclick=$("#choose-kit-mode").modal("show")'}}},buttons:{Login:".dragheader2 .login",ContactConf:".dragheader2 .connect_us",
ShareConf:".dragheader2 .share",ListConf:".dragheader2 .share"},show:function(a){for(key in a)document.querySelector(MakeOption.buttons[key]).style.display="block"},hide:function(a){for(key in a)document.querySelector(MakeOption.buttons[key]).style.display="none"}};
