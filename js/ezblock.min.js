!function o(u,c,f){function a(n,t){if(!c[n]){if(!u[n]){var r="function"==typeof require&&require;if(!t&&r)return r(n,!0);if(s)return s(n,!0);var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}var i=c[n]={exports:{}};u[n][0].call(i.exports,function(t){return a(u[n][1][t]||t)},i,i.exports,o,u,c,f)}return c[n].exports}for(var s="function"==typeof require&&require,t=0;t<f.length;t++)a(f[t]);return a}({1:[function(n,t,r){(function(t){"use strict";n(2),n(3),n(9),n(8),n(10),n(5),n(6),n(4),n(7),n(279),n(280),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,2:2,279:279,280:280,3:3,4:4,5:5,6:6,7:7,8:8,9:9}],2:[function(t,n,r){t(254),t(190),t(192),t(191),t(194),t(196),t(201),t(195),t(193),t(203),t(202),t(198),t(199),t(197),t(189),t(200),t(204),t(205),t(156),t(158),t(157),t(207),t(206),t(177),t(187),t(188),t(178),t(179),t(180),t(181),t(182),t(183),t(184),t(185),t(186),t(160),t(161),t(162),t(163),t(164),t(165),t(166),t(167),t(168),t(169),t(170),t(171),t(172),t(173),t(174),t(175),t(176),t(241),t(246),t(253),t(244),t(236),t(237),t(242),t(247),t(249),t(232),t(233),t(234),t(235),t(238),t(239),t(240),t(243),t(245),t(248),t(250),t(251),t(252),t(151),t(153),t(152),t(155),t(154),t(139),t(137),t(144),t(141),t(147),t(149),t(136),t(143),t(133),t(148),t(131),t(146),t(145),t(138),t(142),t(130),t(132),t(135),t(134),t(150),t(140),t(223),t(224),t(230),t(225),t(226),t(227),t(228),t(229),t(208),t(159),t(231),t(266),t(267),t(255),t(256),t(261),t(264),t(265),t(259),t(262),t(260),t(263),t(257),t(258),t(209),t(210),t(211),t(212),t(213),t(216),t(214),t(215),t(217),t(218),t(219),t(220),t(222),t(221),n.exports=t(30)},{130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255,256:256,257:257,258:258,259:259,260:260,261:261,262:262,263:263,264:264,265:265,266:266,267:267,30:30}],3:[function(t,n,r){t(268),n.exports=t(30).Array.includes},{268:268,30:30}],4:[function(t,n,r){t(269),n.exports=t(30).Object.entries},{269:269,30:30}],5:[function(t,n,r){t(270),n.exports=t(30).Object.getOwnPropertyDescriptors},{270:270,30:30}],6:[function(t,n,r){t(271),n.exports=t(30).Object.values},{271:271,30:30}],7:[function(t,n,r){"use strict";t(208),t(272),n.exports=t(30).Promise.finally},{208:208,272:272,30:30}],8:[function(t,n,r){t(273),n.exports=t(30).String.padEnd},{273:273,30:30}],9:[function(t,n,r){t(274),n.exports=t(30).String.padStart},{274:274,30:30}],10:[function(t,n,r){t(275),n.exports=t(127).f("asyncIterator")},{127:127,275:275}],11:[function(t,n,r){n.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],12:[function(t,n,r){var e=t(26);n.exports=function(t,n){if("number"!=typeof t&&"Number"!=e(t))throw TypeError(n);return+t}},{26:26}],13:[function(t,n,r){var e=t(128)("unscopables"),i=Array.prototype;null==i[e]&&t(48)(i,e,{}),n.exports=function(t){i[e][t]=!0}},{128:128,48:48}],14:[function(t,n,r){"use strict";var e=t(105)(!0);n.exports=function(t,n,r){return n+(r?e(t,n).length:1)}},{105:105}],15:[function(t,n,r){n.exports=function(t,n,r,e){if(!(t instanceof n)||void 0!==e&&e in t)throw TypeError(r+": incorrect invocation!");return t}},{}],16:[function(t,n,r){var e=t(57);n.exports=function(t){if(!e(t))throw TypeError(t+" is not an object!");return t}},{57:57}],17:[function(t,n,r){"use strict";var a=t(118),s=t(113),l=t(117);n.exports=[].copyWithin||function(t,n){var r=a(this),e=l(r.length),i=s(t,e),o=s(n,e),u=2<arguments.length?arguments[2]:void 0,c=Math.min((void 0===u?e:s(u,e))-o,e-i),f=1;for(o<i&&i<o+c&&(f=-1,o+=c-1,i+=c-1);0<c--;)o in r?r[i]=r[o]:delete r[i],i+=f,o+=f;return r}},{113:113,117:117,118:118}],18:[function(t,n,r){"use strict";var c=t(118),f=t(113),a=t(117);n.exports=function(t){for(var n=c(this),r=a(n.length),e=arguments.length,i=f(1<e?arguments[1]:void 0,r),o=2<e?arguments[2]:void 0,u=void 0===o?r:f(o,r);i<u;)n[i++]=t;return n}},{113:113,117:117,118:118}],19:[function(t,n,r){var f=t(116),a=t(117),s=t(113);n.exports=function(c){return function(t,n,r){var e,i=f(t),o=a(i.length),u=s(r,o);if(c&&n!=n){for(;u<o;)if((e=i[u++])!=e)return!0}else for(;u<o;u++)if((c||u in i)&&i[u]===n)return c||u||0;return!c&&-1}}},{113:113,116:116,117:117}],20:[function(t,n,r){var m=t(32),b=t(53),S=t(118),w=t(117),e=t(23);n.exports=function(l,t){var h=1==l,v=2==l,p=3==l,g=4==l,y=6==l,d=5==l||y,x=t||e;return function(t,n,r){for(var e,i,o=S(t),u=b(o),c=m(n,r,3),f=w(u.length),a=0,s=h?x(t,f):v?x(t,0):void 0;a<f;a++)if((d||a in u)&&(i=c(e=u[a],a,o),l))if(h)s[a]=i;else if(i)switch(l){case 3:return!0;case 5:return e;case 6:return a;case 2:s.push(e)}else if(g)return!1;return y?-1:p||g?g:s}}},{117:117,118:118,23:23,32:32,53:53}],21:[function(t,n,r){var s=t(11),l=t(118),h=t(53),v=t(117);n.exports=function(t,n,r,e,i){s(n);var o=l(t),u=h(o),c=v(o.length),f=i?c-1:0,a=i?-1:1;if(r<2)for(;;){if(f in u){e=u[f],f+=a;break}if(f+=a,i?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;i?0<=f:f<c;f+=a)f in u&&(e=n(e,u[f],f,o));return e}},{11:11,117:117,118:118,53:53}],22:[function(t,n,r){var e=t(57),i=t(55),o=t(128)("species");n.exports=function(t){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)||(n=void 0),e(n)&&null===(n=n[o])&&(n=void 0)),void 0===n?Array:n}},{128:128,55:55,57:57}],23:[function(t,n,r){var e=t(22);n.exports=function(t,n){return new(e(t))(n)}},{22:22}],24:[function(t,n,r){"use strict";var o=t(11),u=t(57),c=t(52),f=[].slice,a={};n.exports=Function.bind||function(n){var r=o(this),e=f.call(arguments,1),i=function(){var t=e.concat(f.call(arguments));return this instanceof i?function(t,n,r){if(!(n in a)){for(var e=[],i=0;i<n;i++)e[i]="a["+i+"]";a[n]=Function("F,a","return new F("+e.join(",")+")")}return a[n](t,r)}(r,t.length,t):c(r,t,n)};return u(r.prototype)&&(i.prototype=r.prototype),i}},{11:11,52:52,57:57}],25:[function(t,n,r){var i=t(26),o=t(128)("toStringTag"),u="Arguments"==i(function(){return arguments}());n.exports=function(t){var n,r,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,n){try{return t[n]}catch(t){}}(n=Object(t),o))?r:u?i(n):"Object"==(e=i(n))&&"function"==typeof n.callee?"Arguments":e}},{128:128,26:26}],26:[function(t,n,r){var e={}.toString;n.exports=function(t){return e.call(t).slice(8,-1)}},{}],27:[function(t,n,r){"use strict";var u=t(75).f,c=t(74),f=t(93),a=t(32),s=t(15),l=t(45),e=t(61),i=t(63),o=t(99),h=t(36),v=t(70).fastKey,p=t(125),g=h?"_s":"size",y=function(t,n){var r,e=v(n);if("F"!==e)return t._i[e];for(r=t._f;r;r=r.n)if(r.k==n)return r};n.exports={getConstructor:function(t,o,r,e){var i=t(function(t,n){s(t,i,o,"_i"),t._t=o,t._i=c(null),t._f=void 0,t._l=void 0,t[g]=0,null!=n&&l(n,r,t[e],t)});return f(i.prototype,{clear:function(){for(var t=p(this,o),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var n=p(this,o),r=y(n,t);if(r){var e=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=e),e&&(e.p=i),n._f==r&&(n._f=e),n._l==r&&(n._l=i),n[g]--}return!!r},forEach:function(t){p(this,o);for(var n,r=a(t,1<arguments.length?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!y(p(this,o),t)}}),h&&u(i.prototype,"size",{get:function(){return p(this,o)[g]}}),i},def:function(t,n,r){var e,i,o=y(t,n);return o?o.v=r:(t._l=o={i:i=v(n,!0),k:n,v:r,p:e=t._l,n:void 0,r:!1},t._f||(t._f=o),e&&(e.n=o),t[g]++,"F"!==i&&(t._i[i]=o)),t},getEntry:y,setStrong:function(t,r,n){e(t,r,function(t,n){this._t=p(t,r),this._k=n,this._l=void 0},function(){for(var t=this,n=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?i(0,"keys"==n?r.k:"values"==n?r.v:[r.k,r.v]):(t._t=void 0,i(1))},n?"entries":"values",!n,!0),o(r)}}},{125:125,15:15,32:32,36:36,45:45,61:61,63:63,70:70,74:74,75:75,93:93,99:99}],28:[function(t,n,r){"use strict";var u=t(93),c=t(70).getWeak,i=t(16),f=t(57),a=t(15),s=t(45),e=t(20),l=t(47),h=t(125),o=e(5),v=e(6),p=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},d=function(t,n){return o(t.a,function(t){return t[0]===n})};y.prototype={get:function(t){var n=d(this,t);if(n)return n[1]},has:function(t){return!!d(this,t)},set:function(t,n){var r=d(this,t);r?r[1]=n:this.a.push([t,n])},delete:function(n){var t=v(this.a,function(t){return t[0]===n});return~t&&this.a.splice(t,1),!!~t}},n.exports={getConstructor:function(t,r,e,i){var o=t(function(t,n){a(t,o,r,"_i"),t._t=r,t._i=p++,t._l=void 0,null!=n&&s(n,e,t[i],t)});return u(o.prototype,{delete:function(t){if(!f(t))return!1;var n=c(t);return!0===n?g(h(this,r)).delete(t):n&&l(n,this._i)&&delete n[this._i]},has:function(t){if(!f(t))return!1;var n=c(t);return!0===n?g(h(this,r)).has(t):n&&l(n,this._i)}}),o},def:function(t,n,r){var e=c(i(n),!0);return!0===e?g(t).set(n,r):e[t._i]=r,t},ufstore:g}},{125:125,15:15,16:16,20:20,45:45,47:47,57:57,70:70,93:93}],29:[function(t,n,r){"use strict";var d=t(46),x=t(40),m=t(94),b=t(93),S=t(70),w=t(45),_=t(15),E=t(57),O=t(42),F=t(62),P=t(100),M=t(51);n.exports=function(e,t,n,r,i,o){var u=d[e],c=u,f=i?"set":"add",a=c&&c.prototype,s={},l=function(t){var r=a[t];m(a,t,"delete"==t?function(t){return!(o&&!E(t))&&r.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!E(t))&&r.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!E(t)?void 0:r.call(this,0===t?0:t)}:"add"==t?function(t){return r.call(this,0===t?0:t),this}:function(t,n){return r.call(this,0===t?0:t,n),this})};if("function"==typeof c&&(o||a.forEach&&!O(function(){(new c).entries().next()}))){var h=new c,v=h[f](o?{}:-0,1)!=h,p=O(function(){h.has(1)}),g=F(function(t){new c(t)}),y=!o&&O(function(){for(var t=new c,n=5;n--;)t[f](n,n);return!t.has(-0)});g||(((c=t(function(t,n){_(t,c,e);var r=M(new u,t,c);return null!=n&&w(n,i,r[f],r),r})).prototype=a).constructor=c),(p||y)&&(l("delete"),l("has"),i&&l("get")),(y||v)&&l(f),o&&a.clear&&delete a.clear}else c=r.getConstructor(t,e,i,f),b(c.prototype,n),S.NEED=!0;return P(c,e),s[e]=c,x(x.G+x.W+x.F*(c!=u),s),o||r.setStrong(c,e,i),c}},{100:100,15:15,40:40,42:42,45:45,46:46,51:51,57:57,62:62,70:70,93:93,94:94}],30:[function(t,n,r){var e=n.exports={version:"2.6.1"};"number"==typeof __e&&(__e=e)},{}],31:[function(t,n,r){"use strict";var e=t(75),i=t(92);n.exports=function(t,n,r){n in t?e.f(t,n,i(0,r)):t[n]=r}},{75:75,92:92}],32:[function(t,n,r){var o=t(11);n.exports=function(e,i,t){if(o(e),void 0===i)return e;switch(t){case 1:return function(t){return e.call(i,t)};case 2:return function(t,n){return e.call(i,t,n)};case 3:return function(t,n,r){return e.call(i,t,n,r)}}return function(){return e.apply(i,arguments)}}},{11:11}],33:[function(t,n,r){"use strict";var e=t(42),i=Date.prototype.getTime,o=Date.prototype.toISOString,u=function(t){return 9<t?t:"0"+t};n.exports=e(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!e(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var t=this,n=t.getUTCFullYear(),r=t.getUTCMilliseconds(),e=n<0?"-":9999<n?"+":"";return e+("00000"+Math.abs(n)).slice(e?-6:-4)+"-"+u(t.getUTCMonth()+1)+"-"+u(t.getUTCDate())+"T"+u(t.getUTCHours())+":"+u(t.getUTCMinutes())+":"+u(t.getUTCSeconds())+"."+(99<r?r:"0"+u(r))+"Z"}:o},{42:42}],34:[function(t,n,r){"use strict";var e=t(16),i=t(119);n.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(e(this),"number"!=t)}},{119:119,16:16}],35:[function(t,n,r){n.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},{}],36:[function(t,n,r){n.exports=!t(42)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{42:42}],37:[function(t,n,r){var e=t(57),i=t(46).document,o=e(i)&&e(i.createElement);n.exports=function(t){return o?i.createElement(t):{}}},{46:46,57:57}],38:[function(t,n,r){n.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],39:[function(t,n,r){var c=t(83),f=t(80),a=t(84);n.exports=function(t){var n=c(t),r=f.f;if(r)for(var e,i=r(t),o=a.f,u=0;i.length>u;)o.call(t,e=i[u++])&&n.push(e);return n}},{80:80,83:83,84:84}],40:[function(t,n,r){var g=t(46),y=t(30),d=t(48),x=t(94),m=t(32),b=function(t,n,r){var e,i,o,u,c=t&b.F,f=t&b.G,a=t&b.S,s=t&b.P,l=t&b.B,h=f?g:a?g[n]||(g[n]={}):(g[n]||{}).prototype,v=f?y:y[n]||(y[n]={}),p=v.prototype||(v.prototype={});for(e in f&&(r=n),r)o=((i=!c&&h&&void 0!==h[e])?h:r)[e],u=l&&i?m(o,g):s&&"function"==typeof o?m(Function.call,o):o,h&&x(h,e,o,t&b.U),v[e]!=o&&d(v,e,u),s&&p[e]!=o&&(p[e]=o)};g.core=y,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,n.exports=b},{30:30,32:32,46:46,48:48,94:94}],41:[function(t,n,r){var e=t(128)("match");n.exports=function(n){var r=/./;try{"/./"[n](r)}catch(t){try{return r[e]=!1,!"/./"[n](r)}catch(n){}}return!0}},{128:128}],42:[function(t,n,r){n.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],43:[function(t,n,r){"use strict";t(224);var s=t(94),l=t(48),h=t(42),v=t(35),p=t(128),g=t(96),y=p("species"),d=!h(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),x=function(){var t=/(?:)/,n=t.exec;t.exec=function(){return n.apply(this,arguments)};var r="ab".split(t);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();n.exports=function(r,t,n){var e=p(r),o=!h(function(){var t={};return t[e]=function(){return 7},7!=""[r](t)}),i=o?!h(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===r&&(n.constructor={},n.constructor[y]=function(){return n}),n[e](""),!t}):void 0;if(!o||!i||"replace"===r&&!d||"split"===r&&!x){var u=/./[e],c=n(v,e,""[r],function(t,n,r,e,i){return n.exec===g?o&&!i?{done:!0,value:u.call(n,r,e)}:{done:!0,value:t.call(r,n,e)}:{done:!1}}),f=c[0],a=c[1];s(String.prototype,r,f),l(RegExp.prototype,e,2==t?function(t,n){return a.call(t,this,n)}:function(t){return a.call(t,this)})}}},{128:128,224:224,35:35,42:42,48:48,94:94,96:96}],44:[function(t,n,r){"use strict";var e=t(16);n.exports=function(){var t=e(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},{16:16}],45:[function(t,n,r){var h=t(32),v=t(59),p=t(54),g=t(16),y=t(117),d=t(129),x={},m={};(r=n.exports=function(t,n,r,e,i){var o,u,c,f,a=i?function(){return t}:d(t),s=h(r,e,n?2:1),l=0;if("function"!=typeof a)throw TypeError(t+" is not iterable!");if(p(a)){for(o=y(t.length);l<o;l++)if((f=n?s(g(u=t[l])[0],u[1]):s(t[l]))===x||f===m)return f}else for(c=a.call(t);!(u=c.next()).done;)if((f=v(c,s,u.value,n))===x||f===m)return f}).BREAK=x,r.RETURN=m},{117:117,129:129,16:16,32:32,54:54,59:59}],46:[function(t,n,r){var e=n.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],47:[function(t,n,r){var e={}.hasOwnProperty;n.exports=function(t,n){return e.call(t,n)}},{}],48:[function(t,n,r){var e=t(75),i=t(92);n.exports=t(36)?function(t,n,r){return e.f(t,n,i(1,r))}:function(t,n,r){return t[n]=r,t}},{36:36,75:75,92:92}],49:[function(t,n,r){var e=t(46).document;n.exports=e&&e.documentElement},{46:46}],50:[function(t,n,r){n.exports=!t(36)&&!t(42)(function(){return 7!=Object.defineProperty(t(37)("div"),"a",{get:function(){return 7}}).a})},{36:36,37:37,42:42}],51:[function(t,n,r){var o=t(57),u=t(98).set;n.exports=function(t,n,r){var e,i=n.constructor;return i!==r&&"function"==typeof i&&(e=i.prototype)!==r.prototype&&o(e)&&u&&u(t,e),t}},{57:57,98:98}],52:[function(t,n,r){n.exports=function(t,n,r){var e=void 0===r;switch(n.length){case 0:return e?t():t.call(r);case 1:return e?t(n[0]):t.call(r,n[0]);case 2:return e?t(n[0],n[1]):t.call(r,n[0],n[1]);case 3:return e?t(n[0],n[1],n[2]):t.call(r,n[0],n[1],n[2]);case 4:return e?t(n[0],n[1],n[2],n[3]):t.call(r,n[0],n[1],n[2],n[3])}return t.apply(r,n)}},{}],53:[function(t,n,r){var e=t(26);n.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==e(t)?t.split(""):Object(t)}},{26:26}],54:[function(t,n,r){var e=t(64),i=t(128)("iterator"),o=Array.prototype;n.exports=function(t){return void 0!==t&&(e.Array===t||o[i]===t)}},{128:128,64:64}],55:[function(t,n,r){var e=t(26);n.exports=Array.isArray||function(t){return"Array"==e(t)}},{26:26}],56:[function(t,n,r){var e=t(57),i=Math.floor;n.exports=function(t){return!e(t)&&isFinite(t)&&i(t)===t}},{57:57}],57:[function(t,n,r){n.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],58:[function(t,n,r){var e=t(57),i=t(26),o=t(128)("match");n.exports=function(t){var n;return e(t)&&(void 0!==(n=t[o])?!!n:"RegExp"==i(t))}},{128:128,26:26,57:57}],59:[function(t,n,r){var o=t(16);n.exports=function(t,n,r,e){try{return e?n(o(r)[0],r[1]):n(r)}catch(n){var i=t.return;throw void 0!==i&&o(i.call(t)),n}}},{16:16}],60:[function(t,n,r){"use strict";var e=t(74),i=t(92),o=t(100),u={};t(48)(u,t(128)("iterator"),function(){return this}),n.exports=function(t,n,r){t.prototype=e(u,{next:i(1,r)}),o(t,n+" Iterator")}},{100:100,128:128,48:48,74:74,92:92}],61:[function(t,n,r){"use strict";var m=t(65),b=t(40),S=t(94),w=t(48),_=t(64),E=t(60),O=t(100),F=t(81),P=t(128)("iterator"),M=!([].keys&&"next"in[].keys()),A=function(){return this};n.exports=function(t,n,r,e,i,o,u){E(r,n,e);var c,f,a,s=function(t){if(!M&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},l=n+" Iterator",h="values"==i,v=!1,p=t.prototype,g=p[P]||p["@@iterator"]||i&&p[i],y=g||s(i),d=i?h?s("entries"):y:void 0,x="Array"==n&&p.entries||g;if(x&&(a=F(x.call(new t)))!==Object.prototype&&a.next&&(O(a,l,!0),m||"function"==typeof a[P]||w(a,P,A)),h&&g&&"values"!==g.name&&(v=!0,y=function(){return g.call(this)}),m&&!u||!M&&!v&&p[P]||w(p,P,y),_[n]=y,_[l]=A,i)if(c={values:h?y:s("values"),keys:o?y:s("keys"),entries:d},u)for(f in c)f in p||S(p,f,c[f]);else b(b.P+b.F*(M||v),n,c);return c}},{100:100,128:128,40:40,48:48,60:60,64:64,65:65,81:81,94:94}],62:[function(t,n,r){var o=t(128)("iterator"),u=!1;try{var e=[7][o]();e.return=function(){u=!0},Array.from(e,function(){throw 2})}catch(t){}n.exports=function(t,n){if(!n&&!u)return!1;var r=!1;try{var e=[7],i=e[o]();i.next=function(){return{done:r=!0}},e[o]=function(){return i},t(e)}catch(t){}return r}},{128:128}],63:[function(t,n,r){n.exports=function(t,n){return{value:n,done:!!t}}},{}],64:[function(t,n,r){n.exports={}},{}],65:[function(t,n,r){n.exports=!1},{}],66:[function(t,n,r){var e=Math.expm1;n.exports=!e||22025.465794806718<e(10)||e(10)<22025.465794806718||-2e-17!=e(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:e},{}],67:[function(t,n,r){var o=t(69),e=Math.pow,u=e(2,-52),c=e(2,-23),f=e(2,127)*(2-c),a=e(2,-126);n.exports=Math.fround||function(t){var n,r,e=Math.abs(t),i=o(t);return e<a?i*(e/a/c+1/u-1/u)*a*c:f<(r=(n=(1+c/u)*e)-(n-e))||r!=r?i*(1/0):i*r}},{69:69}],68:[function(t,n,r){n.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},{}],69:[function(t,n,r){n.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},{}],70:[function(t,n,r){var e=t(123)("meta"),i=t(57),o=t(47),u=t(75).f,c=0,f=Object.isExtensible||function(){return!0},a=!t(42)(function(){return f(Object.preventExtensions({}))}),s=function(t){u(t,e,{value:{i:"O"+ ++c,w:{}}})},l=n.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,e)){if(!f(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!o(t,e)){if(!f(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return a&&l.NEED&&f(t)&&!o(t,e)&&s(t),t}}},{123:123,42:42,47:47,57:57,75:75}],71:[function(t,n,r){var c=t(46),f=t(112).set,a=c.MutationObserver||c.WebKitMutationObserver,s=c.process,l=c.Promise,h="process"==t(26)(s);n.exports=function(){var r,e,i,t=function(){var t,n;for(h&&(t=s.domain)&&t.exit();r;){n=r.fn,r=r.next;try{n()}catch(t){throw r?i():e=void 0,t}}e=void 0,t&&t.enter()};if(h)i=function(){s.nextTick(t)};else if(!a||c.navigator&&c.navigator.standalone)if(l&&l.resolve){var n=l.resolve(void 0);i=function(){n.then(t)}}else i=function(){f.call(c,t)};else{var o=!0,u=document.createTextNode("");new a(t).observe(u,{characterData:!0}),i=function(){u.data=o=!o}}return function(t){var n={fn:t,next:void 0};e&&(e.next=n),r||(r=n,i()),e=n}}},{112:112,26:26,46:46}],72:[function(t,n,r){"use strict";function e(t){var r,e;this.promise=new t(function(t,n){if(void 0!==r||void 0!==e)throw TypeError("Bad Promise constructor");r=t,e=n}),this.resolve=i(r),this.reject=i(e)}var i=t(11);n.exports.f=function(t){return new e(t)}},{11:11}],73:[function(t,n,r){"use strict";var h=t(83),v=t(80),p=t(84),g=t(118),y=t(53),i=Object.assign;n.exports=!i||t(42)(function(){var t={},n={},r=Symbol(),e="abcdefghijklmnopqrst";return t[r]=7,e.split("").forEach(function(t){n[t]=t}),7!=i({},t)[r]||Object.keys(i({},n)).join("")!=e})?function(t,n){for(var r=g(t),e=arguments.length,i=1,o=v.f,u=p.f;i<e;)for(var c,f=y(arguments[i++]),a=o?h(f).concat(o(f)):h(f),s=a.length,l=0;l<s;)u.call(f,c=a[l++])&&(r[c]=f[c]);return r}:i},{118:118,42:42,53:53,80:80,83:83,84:84}],74:[function(e,t,n){var i=e(16),o=e(76),u=e(38),c=e(101)("IE_PROTO"),f=function(){},a=function(){var t,n=e(37)("iframe"),r=u.length;for(n.style.display="none",e(49).appendChild(n),n.src="javascript:",(t=n.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[u[r]];return a()};t.exports=Object.create||function(t,n){var r;return null!==t?(f.prototype=i(t),r=new f,f.prototype=null,r[c]=t):r=a(),void 0===n?r:o(r,n)}},{101:101,16:16,37:37,38:38,49:49,76:76}],75:[function(t,n,r){var e=t(16),i=t(50),o=t(119),u=Object.defineProperty;r.f=t(36)?Object.defineProperty:function(t,n,r){if(e(t),n=o(n,!0),e(r),i)try{return u(t,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[n]=r.value),t}},{119:119,16:16,36:36,50:50}],76:[function(t,n,r){var u=t(75),c=t(16),f=t(83);n.exports=t(36)?Object.defineProperties:function(t,n){c(t);for(var r,e=f(n),i=e.length,o=0;o<i;)u.f(t,r=e[o++],n[r]);return t}},{16:16,36:36,75:75,83:83}],77:[function(t,n,r){var e=t(84),i=t(92),o=t(116),u=t(119),c=t(47),f=t(50),a=Object.getOwnPropertyDescriptor;r.f=t(36)?a:function(t,n){if(t=o(t),n=u(n,!0),f)try{return a(t,n)}catch(t){}if(c(t,n))return i(!e.f.call(t,n),t[n])}},{116:116,119:119,36:36,47:47,50:50,84:84,92:92}],78:[function(t,n,r){var e=t(116),i=t(79).f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(t){return u&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return u.slice()}}(t):i(e(t))}},{116:116,79:79}],79:[function(t,n,r){var e=t(82),i=t(38).concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},{38:38,82:82}],80:[function(t,n,r){r.f=Object.getOwnPropertySymbols},{}],81:[function(t,n,r){var e=t(47),i=t(118),o=t(101)("IE_PROTO"),u=Object.prototype;n.exports=Object.getPrototypeOf||function(t){return t=i(t),e(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},{101:101,118:118,47:47}],82:[function(t,n,r){var u=t(47),c=t(116),f=t(19)(!1),a=t(101)("IE_PROTO");n.exports=function(t,n){var r,e=c(t),i=0,o=[];for(r in e)r!=a&&u(e,r)&&o.push(r);for(;n.length>i;)u(e,r=n[i++])&&(~f(o,r)||o.push(r));return o}},{101:101,116:116,19:19,47:47}],83:[function(t,n,r){var e=t(82),i=t(38);n.exports=Object.keys||function(t){return e(t,i)}},{38:38,82:82}],84:[function(t,n,r){r.f={}.propertyIsEnumerable},{}],85:[function(t,n,r){var i=t(40),o=t(30),u=t(42);n.exports=function(t,n){var r=(o.Object||{})[t]||Object[t],e={};e[t]=n(r),i(i.S+i.F*u(function(){r(1)}),"Object",e)}},{30:30,40:40,42:42}],86:[function(t,n,r){var f=t(83),a=t(116),s=t(84).f;n.exports=function(c){return function(t){for(var n,r=a(t),e=f(r),i=e.length,o=0,u=[];o<i;)s.call(r,n=e[o++])&&u.push(c?[n,r[n]]:r[n]);return u}}},{116:116,83:83,84:84}],87:[function(t,n,r){var e=t(79),i=t(80),o=t(16),u=t(46).Reflect;n.exports=u&&u.ownKeys||function(t){var n=e.f(o(t)),r=i.f;return r?n.concat(r(t)):n}},{16:16,46:46,79:79,80:80}],88:[function(t,n,r){var e=t(46).parseFloat,i=t(110).trim;n.exports=1/e(t(111)+"-0")!=-1/0?function(t){var n=i(String(t),3),r=e(n);return 0===r&&"-"==n.charAt(0)?-0:r}:e},{110:110,111:111,46:46}],89:[function(t,n,r){var e=t(46).parseInt,i=t(110).trim,o=t(111),u=/^[-+]?0[xX]/;n.exports=8!==e(o+"08")||22!==e(o+"0x16")?function(t,n){var r=i(String(t),3);return e(r,n>>>0||(u.test(r)?16:10))}:e},{110:110,111:111,46:46}],90:[function(t,n,r){n.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},{}],91:[function(t,n,r){var e=t(16),i=t(57),o=t(72);n.exports=function(t,n){if(e(t),i(n)&&n.constructor===t)return n;var r=o.f(t);return(0,r.resolve)(n),r.promise}},{16:16,57:57,72:72}],92:[function(t,n,r){n.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},{}],93:[function(t,n,r){var i=t(94);n.exports=function(t,n,r){for(var e in n)i(t,e,n[e],r);return t}},{94:94}],94:[function(t,n,r){var o=t(46),u=t(48),c=t(47),f=t(123)("src"),e=Function.toString,a=(""+e).split("toString");t(30).inspectSource=function(t){return e.call(t)},(n.exports=function(t,n,r,e){var i="function"==typeof r;i&&(c(r,"name")||u(r,"name",n)),t[n]!==r&&(i&&(c(r,f)||u(r,f,t[n]?""+t[n]:a.join(String(n)))),t===o?t[n]=r:e?t[n]?t[n]=r:u(t,n,r):(delete t[n],u(t,n,r)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[f]||e.call(this)})},{123:123,30:30,46:46,47:47,48:48}],95:[function(t,n,r){"use strict";var i=t(25),o=RegExp.prototype.exec;n.exports=function(t,n){var r=t.exec;if("function"==typeof r){var e=r.call(t,n);if("object"!=typeof e)throw new TypeError("RegExp exec method returned something other than an Object or null");return e}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(t,n)}},{25:25}],96:[function(t,n,r){"use strict";var e,i,u=t(44),c=RegExp.prototype.exec,f=String.prototype.replace,o=c,a=(e=/a/,i=/b*/g,c.call(e,"a"),c.call(i,"a"),0!==e.lastIndex||0!==i.lastIndex),s=void 0!==/()??/.exec("")[1];(a||s)&&(o=function(t){var n,r,e,i,o=this;return s&&(r=new RegExp("^"+o.source+"$(?!\\s)",u.call(o))),a&&(n=o.lastIndex),e=c.call(o,t),a&&e&&(o.lastIndex=o.global?e.index+e[0].length:n),s&&e&&1<e.length&&f.call(e[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(e[i]=void 0)}),e}),n.exports=o},{44:44}],97:[function(t,n,r){n.exports=Object.is||function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n}},{}],98:[function(n,t,r){var e=n(57),i=n(16),o=function(t,n){if(i(t),!e(n)&&null!==n)throw TypeError(n+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,r,e){try{(e=n(32)(Function.call,n(77).f(Object.prototype,"__proto__").set,2))(t,[]),r=!(t instanceof Array)}catch(t){r=!0}return function(t,n){return o(t,n),r?t.__proto__=n:e(t,n),t}}({},!1):void 0),check:o}},{16:16,32:32,57:57,77:77}],99:[function(t,n,r){"use strict";var e=t(46),i=t(75),o=t(36),u=t(128)("species");n.exports=function(t){var n=e[t];o&&n&&!n[u]&&i.f(n,u,{configurable:!0,get:function(){return this}})}},{128:128,36:36,46:46,75:75}],100:[function(t,n,r){var e=t(75).f,i=t(47),o=t(128)("toStringTag");n.exports=function(t,n,r){t&&!i(t=r?t:t.prototype,o)&&e(t,o,{configurable:!0,value:n})}},{128:128,47:47,75:75}],101:[function(t,n,r){var e=t(102)("keys"),i=t(123);n.exports=function(t){return e[t]||(e[t]=i(t))}},{102:102,123:123}],102:[function(t,n,r){var e=t(30),i=t(46),o=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(n.exports=function(t,n){return o[t]||(o[t]=void 0!==n?n:{})})("versions",[]).push({version:e.version,mode:t(65)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{30:30,46:46,65:65}],103:[function(t,n,r){var i=t(16),o=t(11),u=t(128)("species");n.exports=function(t,n){var r,e=i(t).constructor;return void 0===e||null==(r=i(e)[u])?n:o(r)}},{11:11,128:128,16:16}],104:[function(t,n,r){"use strict";var e=t(42);n.exports=function(t,n){return!!t&&e(function(){n?t.call(null,function(){},1):t.call(null)})}},{42:42}],105:[function(t,n,r){var f=t(115),a=t(35);n.exports=function(c){return function(t,n){var r,e,i=String(a(t)),o=f(n),u=i.length;return o<0||u<=o?c?"":void 0:(r=i.charCodeAt(o))<55296||56319<r||o+1===u||(e=i.charCodeAt(o+1))<56320||57343<e?c?i.charAt(o):r:c?i.slice(o,o+2):e-56320+(r-55296<<10)+65536}}},{115:115,35:35}],106:[function(t,n,r){var e=t(58),i=t(35);n.exports=function(t,n,r){if(e(n))throw TypeError("String#"+r+" doesn't accept regex!");return String(i(t))}},{35:35,58:58}],107:[function(t,n,r){var e=t(40),i=t(42),u=t(35),c=/"/g,o=function(t,n,r,e){var i=String(u(t)),o="<"+n;return""!==r&&(o+=" "+r+'="'+String(e).replace(c,"&quot;")+'"'),o+">"+i+"</"+n+">"};n.exports=function(n,t){var r={};r[n]=t(o),e(e.P+e.F*i(function(){var t=""[n]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",r)}},{35:35,40:40,42:42}],108:[function(t,n,r){var s=t(117),l=t(109),h=t(35);n.exports=function(t,n,r,e){var i=String(h(t)),o=i.length,u=void 0===r?" ":String(r),c=s(n);if(c<=o||""==u)return i;var f=c-o,a=l.call(u,Math.ceil(f/u.length));return a.length>f&&(a=a.slice(0,f)),e?a+i:i+a}},{109:109,117:117,35:35}],109:[function(t,n,r){"use strict";var i=t(115),o=t(35);n.exports=function(t){var n=String(o(this)),r="",e=i(t);if(e<0||e==1/0)throw RangeError("Count can't be negative");for(;0<e;(e>>>=1)&&(n+=n))1&e&&(r+=n);return r}},{115:115,35:35}],110:[function(t,n,r){var u=t(40),e=t(35),c=t(42),f=t(111),i="["+f+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t,n,r){var e={},i=c(function(){return!!f[t]()||"​"!="​"[t]()}),o=e[t]=i?n(l):f[t];r&&(e[r]=o),u(u.P+u.F*i,"String",e)},l=s.trim=function(t,n){return t=String(e(t)),1&n&&(t=t.replace(o,"")),2&n&&(t=t.replace(a,"")),t};n.exports=s},{111:111,35:35,40:40,42:42}],111:[function(t,n,r){n.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},{}],112:[function(t,n,r){var e,i,o,u=t(32),c=t(52),f=t(49),a=t(37),s=t(46),l=s.process,h=s.setImmediate,v=s.clearImmediate,p=s.MessageChannel,g=s.Dispatch,y=0,d={},x=function(){var t=+this;if(d.hasOwnProperty(t)){var n=d[t];delete d[t],n()}},m=function(t){x.call(t.data)};h&&v||(h=function(t){for(var n=[],r=1;arguments.length>r;)n.push(arguments[r++]);return d[++y]=function(){c("function"==typeof t?t:Function(t),n)},e(y),y},v=function(t){delete d[t]},"process"==t(26)(l)?e=function(t){l.nextTick(u(x,t,1))}:g&&g.now?e=function(t){g.now(u(x,t,1))}:p?(o=(i=new p).port2,i.port1.onmessage=m,e=u(o.postMessage,o,1)):s.addEventListener&&"function"==typeof postMessage&&!s.importScripts?(e=function(t){s.postMessage(t+"","*")},s.addEventListener("message",m,!1)):e="onreadystatechange"in a("script")?function(t){f.appendChild(a("script")).onreadystatechange=function(){f.removeChild(this),x.call(t)}}:function(t){setTimeout(u(x,t,1),0)}),n.exports={set:h,clear:v}},{26:26,32:32,37:37,46:46,49:49,52:52}],113:[function(t,n,r){var e=t(115),i=Math.max,o=Math.min;n.exports=function(t,n){return(t=e(t))<0?i(t+n,0):o(t,n)}},{115:115}],114:[function(t,n,r){var e=t(115),i=t(117);n.exports=function(t){if(void 0===t)return 0;var n=e(t),r=i(n);if(n!==r)throw RangeError("Wrong length!");return r}},{115:115,117:117}],115:[function(t,n,r){var e=Math.ceil,i=Math.floor;n.exports=function(t){return isNaN(t=+t)?0:(0<t?i:e)(t)}},{}],116:[function(t,n,r){var e=t(53),i=t(35);n.exports=function(t){return e(i(t))}},{35:35,53:53}],117:[function(t,n,r){var e=t(115),i=Math.min;n.exports=function(t){return 0<t?i(e(t),9007199254740991):0}},{115:115}],118:[function(t,n,r){var e=t(35);n.exports=function(t){return Object(e(t))}},{35:35}],119:[function(t,n,r){var i=t(57);n.exports=function(t,n){if(!i(t))return t;var r,e;if(n&&"function"==typeof(r=t.toString)&&!i(e=r.call(t)))return e;if("function"==typeof(r=t.valueOf)&&!i(e=r.call(t)))return e;if(!n&&"function"==typeof(r=t.toString)&&!i(e=r.call(t)))return e;throw TypeError("Can't convert object to primitive value")}},{57:57}],120:[function(t,n,r){"use strict";if(t(36)){var d=t(65),x=t(46),m=t(42),b=t(40),S=t(122),e=t(121),h=t(32),w=t(15),i=t(92),_=t(48),o=t(93),u=t(115),E=t(117),O=t(114),c=t(113),f=t(119),a=t(47),F=t(25),P=t(57),v=t(118),p=t(54),M=t(74),A=t(81),I=t(79).f,g=t(129),s=t(123),l=t(128),y=t(20),j=t(19),N=t(103),T=t(140),L=t(64),R=t(62),k=t(99),D=t(18),C=t(17),W=t(75),U=t(77),V=W.f,B=U.f,G=x.RangeError,z=x.TypeError,q=x.Uint8Array,Y=Array.prototype,$=e.ArrayBuffer,K=e.DataView,J=y(0),H=y(2),X=y(3),Z=y(4),Q=y(5),tt=y(6),nt=j(!0),rt=j(!1),et=T.values,it=T.keys,ot=T.entries,ut=Y.lastIndexOf,ct=Y.reduce,ft=Y.reduceRight,at=Y.join,st=Y.sort,lt=Y.slice,ht=Y.toString,vt=Y.toLocaleString,pt=l("iterator"),gt=l("toStringTag"),yt=s("typed_constructor"),dt=s("def_constructor"),xt=S.CONSTR,mt=S.TYPED,bt=S.VIEW,St=y(1,function(t,n){return Ft(N(t,t[dt]),n)}),wt=m(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),_t=!!q&&!!q.prototype.set&&m(function(){new q(1).set({})}),Et=function(t,n){var r=u(t);if(r<0||r%n)throw G("Wrong offset!");return r},Ot=function(t){if(P(t)&&mt in t)return t;throw z(t+" is not a typed array!")},Ft=function(t,n){if(!(P(t)&&yt in t))throw z("It is not a typed array constructor!");return new t(n)},Pt=function(t,n){return Mt(N(t,t[dt]),n)},Mt=function(t,n){for(var r=0,e=n.length,i=Ft(t,e);r<e;)i[r]=n[r++];return i},At=function(t,n,r){V(t,n,{get:function(){return this._d[r]}})},It=function(t){var n,r,e,i,o,u,c=v(t),f=arguments.length,a=1<f?arguments[1]:void 0,s=void 0!==a,l=g(c);if(null!=l&&!p(l)){for(u=l.call(c),e=[],n=0;!(o=u.next()).done;n++)e.push(o.value);c=e}for(s&&2<f&&(a=h(a,arguments[2],2)),n=0,r=E(c.length),i=Ft(this,r);n<r;n++)i[n]=s?a(c[n],n):c[n];return i},jt=function(){for(var t=0,n=arguments.length,r=Ft(this,n);t<n;)r[t]=arguments[t++];return r},Nt=!!q&&m(function(){vt.call(new q(1))}),Tt=function(){return vt.apply(Nt?lt.call(Ot(this)):Ot(this),arguments)},Lt={copyWithin:function(t,n){return C.call(Ot(this),t,n,2<arguments.length?arguments[2]:void 0)},every:function(t){return Z(Ot(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return D.apply(Ot(this),arguments)},filter:function(t){return Pt(this,H(Ot(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return Q(Ot(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return tt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){J(Ot(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return rt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return nt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return at.apply(Ot(this),arguments)},lastIndexOf:function(t){return ut.apply(Ot(this),arguments)},map:function(t){return St(Ot(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return ct.apply(Ot(this),arguments)},reduceRight:function(t){return ft.apply(Ot(this),arguments)},reverse:function(){for(var t,n=this,r=Ot(n).length,e=Math.floor(r/2),i=0;i<e;)t=n[i],n[i++]=n[--r],n[r]=t;return n},some:function(t){return X(Ot(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return st.call(Ot(this),t)},subarray:function(t,n){var r=Ot(this),e=r.length,i=c(t,e);return new(N(r,r[dt]))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,E((void 0===n?e:c(n,e))-i))}},Rt=function(t,n){return Pt(this,lt.call(Ot(this),t,n))},kt=function(t){Ot(this);var n=Et(arguments[1],1),r=this.length,e=v(t),i=E(e.length),o=0;if(r<i+n)throw G("Wrong length!");for(;o<i;)this[n+o]=e[o++]},Dt={entries:function(){return ot.call(Ot(this))},keys:function(){return it.call(Ot(this))},values:function(){return et.call(Ot(this))}},Ct=function(t,n){return P(t)&&t[mt]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},Wt=function(t,n){return Ct(t,n=f(n,!0))?i(2,t[n]):B(t,n)},Ut=function(t,n,r){return!(Ct(t,n=f(n,!0))&&P(r)&&a(r,"value"))||a(r,"get")||a(r,"set")||r.configurable||a(r,"writable")&&!r.writable||a(r,"enumerable")&&!r.enumerable?V(t,n,r):(t[n]=r.value,t)};xt||(U.f=Wt,W.f=Ut),b(b.S+b.F*!xt,"Object",{getOwnPropertyDescriptor:Wt,defineProperty:Ut}),m(function(){ht.call({})})&&(ht=vt=function(){return at.call(this)});var Vt=o({},Lt);o(Vt,Dt),_(Vt,pt,Dt.values),o(Vt,{slice:Rt,set:kt,constructor:function(){},toString:ht,toLocaleString:Tt}),At(Vt,"buffer","b"),At(Vt,"byteOffset","o"),At(Vt,"byteLength","l"),At(Vt,"length","e"),V(Vt,gt,{get:function(){return this[mt]}}),n.exports=function(t,l,n,o){var h=t+((o=!!o)?"Clamped":"")+"Array",r="get"+t,u="set"+t,v=x[h],c=v||{},e=v&&A(v),i=!v||!S.ABV,f={},a=v&&v.prototype,p=function(t,i){V(t,i,{get:function(){return t=i,(n=this._d).v[r](t*l+n.o,wt);var t,n},set:function(t){return n=i,r=t,e=this._d,o&&(r=(r=Math.round(r))<0?0:255<r?255:255&r),void e.v[u](n*l+e.o,r,wt);var n,r,e},enumerable:!0})};i?(v=n(function(t,n,r,e){w(t,v,h,"_d");var i,o,u,c,f=0,a=0;if(P(n)){if(!(n instanceof $||"ArrayBuffer"==(c=F(n))||"SharedArrayBuffer"==c))return mt in n?Mt(v,n):It.call(v,n);i=n,a=Et(r,l);var s=n.byteLength;if(void 0===e){if(s%l)throw G("Wrong length!");if((o=s-a)<0)throw G("Wrong length!")}else if((o=E(e)*l)+a>s)throw G("Wrong length!");u=o/l}else u=O(n),i=new $(o=u*l);for(_(t,"_d",{b:i,o:a,l:o,e:u,v:new K(i)});f<u;)p(t,f++)}),a=v.prototype=M(Vt),_(a,"constructor",v)):m(function(){v(1)})&&m(function(){new v(-1)})&&R(function(t){new v,new v(null),new v(1.5),new v(t)},!0)||(v=n(function(t,n,r,e){var i;return w(t,v,h),P(n)?n instanceof $||"ArrayBuffer"==(i=F(n))||"SharedArrayBuffer"==i?void 0!==e?new c(n,Et(r,l),e):void 0!==r?new c(n,Et(r,l)):new c(n):mt in n?Mt(v,n):It.call(v,n):new c(O(n))}),J(e!==Function.prototype?I(c).concat(I(e)):I(c),function(t){t in v||_(v,t,c[t])}),v.prototype=a,d||(a.constructor=v));var s=a[pt],g=!!s&&("values"==s.name||null==s.name),y=Dt.values;_(v,yt,!0),_(a,mt,h),_(a,bt,!0),_(a,dt,v),(o?new v(1)[gt]==h:gt in a)||V(a,gt,{get:function(){return h}}),f[h]=v,b(b.G+b.W+b.F*(v!=c),f),b(b.S,h,{BYTES_PER_ELEMENT:l}),b(b.S+b.F*m(function(){c.of.call(v,1)}),h,{from:It,of:jt}),"BYTES_PER_ELEMENT"in a||_(a,"BYTES_PER_ELEMENT",l),b(b.P,h,Lt),k(h),b(b.P+b.F*_t,h,{set:kt}),b(b.P+b.F*!g,h,Dt),d||a.toString==ht||(a.toString=ht),b(b.P+b.F*m(function(){new v(1).slice()}),h,{slice:Rt}),b(b.P+b.F*(m(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!m(function(){a.toLocaleString.call([1,2])})),h,{toLocaleString:Tt}),L[h]=g?s:y,d||g||_(a,pt,y)}}else n.exports=function(){}},{103:103,113:113,114:114,115:115,117:117,118:118,119:119,121:121,122:122,123:123,128:128,129:129,140:140,15:15,17:17,18:18,19:19,20:20,25:25,32:32,36:36,40:40,42:42,46:46,47:47,48:48,54:54,57:57,62:62,64:64,65:65,74:74,75:75,77:77,79:79,81:81,92:92,93:93,99:99}],121:[function(t,n,r){"use strict";function e(t,n,r){var e,i,o,u=new Array(r),c=8*r-n-1,f=(1<<c)-1,a=f>>1,s=23===n?C(2,-24)-C(2,-77):0,l=0,h=t<0||0===t&&1/t<0?1:0;for((t=D(t))!=t||t===R?(i=t!=t?1:0,e=f):(e=W(U(t)/V),t*(o=C(2,-e))<1&&(e--,o*=2),2<=(t+=1<=e+a?s/o:s*C(2,1-a))*o&&(e++,o/=2),f<=e+a?(i=0,e=f):1<=e+a?(i=(t*o-1)*C(2,n),e+=a):(i=t*C(2,a-1)*C(2,n),e=0));8<=n;u[l++]=255&i,i/=256,n-=8);for(e=e<<n|i,c+=n;0<c;u[l++]=255&e,e/=256,c-=8);return u[--l]|=128*h,u}function i(t,n,r){var e,i=8*r-n-1,o=(1<<i)-1,u=o>>1,c=i-7,f=r-1,a=t[f--],s=127&a;for(a>>=7;0<c;s=256*s+t[f],f--,c-=8);for(e=s&(1<<-c)-1,s>>=-c,c+=n;0<c;e=256*e+t[f],f--,c-=8);if(0===s)s=1-u;else{if(s===o)return e?NaN:a?-R:R;e+=C(2,n),s-=u}return(a?-1:1)*e*C(2,s-n)}function o(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function u(t){return[255&t]}function c(t){return[255&t,t>>8&255]}function f(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function a(t){return e(t,52,8)}function s(t){return e(t,23,4)}function l(t,n,r){F(t[A],n,{get:function(){return this[r]}})}function h(t,n,r,e){var i=E(+r);if(i+n>t[G])throw L(I);var o=t[B]._b,u=i+t[z],c=o.slice(u,u+n);return e?c:c.reverse()}function v(t,n,r,e,i,o){var u=E(+r);if(u+n>t[G])throw L(I);for(var c=t[B]._b,f=u+t[z],a=e(+i),s=0;s<n;s++)c[f+s]=a[o?s:n-s-1]}var p=t(46),g=t(36),y=t(65),d=t(122),x=t(48),m=t(93),b=t(42),S=t(15),w=t(115),_=t(117),E=t(114),O=t(79).f,F=t(75).f,P=t(18),M=t(100),A="prototype",I="Wrong index!",j=p.ArrayBuffer,N=p.DataView,T=p.Math,L=p.RangeError,R=p.Infinity,k=j,D=T.abs,C=T.pow,W=T.floor,U=T.log,V=T.LN2,B=g?"_b":"buffer",G=g?"_l":"byteLength",z=g?"_o":"byteOffset";if(d.ABV){if(!b(function(){j(1)})||!b(function(){new j(-1)})||b(function(){return new j,new j(1.5),new j(NaN),"ArrayBuffer"!=j.name})){for(var q,Y=(j=function(t){return S(this,j),new k(E(t))})[A]=k[A],$=O(k),K=0;$.length>K;)(q=$[K++])in j||x(j,q,k[q]);y||(Y.constructor=j)}var J=new N(new j(2)),H=N[A].setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||m(N[A],{setInt8:function(t,n){H.call(this,t,n<<24>>24)},setUint8:function(t,n){H.call(this,t,n<<24>>24)}},!0)}else j=function(t){S(this,j,"ArrayBuffer");var n=E(t);this._b=P.call(new Array(n),0),this[G]=n},N=function(t,n,r){S(this,N,"DataView"),S(t,j,"DataView");var e=t[G],i=w(n);if(i<0||e<i)throw L("Wrong offset!");if(e<i+(r=void 0===r?e-i:_(r)))throw L("Wrong length!");this[B]=t,this[z]=i,this[G]=r},g&&(l(j,"byteLength","_l"),l(N,"buffer","_b"),l(N,"byteLength","_l"),l(N,"byteOffset","_o")),m(N[A],{getInt8:function(t){return h(this,1,t)[0]<<24>>24},getUint8:function(t){return h(this,1,t)[0]},getInt16:function(t){var n=h(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=h(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return o(h(this,4,t,arguments[1]))},getUint32:function(t){return o(h(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return i(h(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return i(h(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){v(this,1,t,u,n)},setUint8:function(t,n){v(this,1,t,u,n)},setInt16:function(t,n){v(this,2,t,c,n,arguments[2])},setUint16:function(t,n){v(this,2,t,c,n,arguments[2])},setInt32:function(t,n){v(this,4,t,f,n,arguments[2])},setUint32:function(t,n){v(this,4,t,f,n,arguments[2])},setFloat32:function(t,n){v(this,4,t,s,n,arguments[2])},setFloat64:function(t,n){v(this,8,t,a,n,arguments[2])}});M(j,"ArrayBuffer"),M(N,"DataView"),x(N[A],d.VIEW,!0),r.ArrayBuffer=j,r.DataView=N},{100:100,114:114,115:115,117:117,122:122,15:15,18:18,36:36,42:42,46:46,48:48,65:65,75:75,79:79,93:93}],122:[function(t,n,r){for(var e,i=t(46),o=t(48),u=t(123),c=u("typed_array"),f=u("view"),a=!(!i.ArrayBuffer||!i.DataView),s=a,l=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(e=i[h[l++]])?(o(e.prototype,c,!0),o(e.prototype,f,!0)):s=!1;n.exports={ABV:a,CONSTR:s,TYPED:c,VIEW:f}},{123:123,46:46,48:48}],123:[function(t,n,r){var e=0,i=Math.random();n.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+i).toString(36))}},{}],124:[function(t,n,r){var e=t(46).navigator;n.exports=e&&e.userAgent||""},{46:46}],125:[function(t,n,r){var e=t(57);n.exports=function(t,n){if(!e(t)||t._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return t}},{57:57}],126:[function(t,n,r){var e=t(46),i=t(30),o=t(65),u=t(127),c=t(75).f;n.exports=function(t){var n=i.Symbol||(i.Symbol=o?{}:e.Symbol||{});"_"==t.charAt(0)||t in n||c(n,t,{value:u.f(t)})}},{127:127,30:30,46:46,65:65,75:75}],127:[function(t,n,r){r.f=t(128)},{128:128}],128:[function(t,n,r){var e=t(102)("wks"),i=t(123),o=t(46).Symbol,u="function"==typeof o;(n.exports=function(t){return e[t]||(e[t]=u&&o[t]||(u?o:i)("Symbol."+t))}).store=e},{102:102,123:123,46:46}],129:[function(t,n,r){var e=t(25),i=t(128)("iterator"),o=t(64);n.exports=t(30).getIteratorMethod=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[e(t)]}},{128:128,25:25,30:30,64:64}],130:[function(t,n,r){var e=t(40);e(e.P,"Array",{copyWithin:t(17)}),t(13)("copyWithin")},{13:13,17:17,40:40}],131:[function(t,n,r){"use strict";var e=t(40),i=t(20)(4);e(e.P+e.F*!t(104)([].every,!0),"Array",{every:function(t){return i(this,t,arguments[1])}})},{104:104,20:20,40:40}],132:[function(t,n,r){var e=t(40);e(e.P,"Array",{fill:t(18)}),t(13)("fill")},{13:13,18:18,40:40}],133:[function(t,n,r){"use strict";var e=t(40),i=t(20)(2);e(e.P+e.F*!t(104)([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},{104:104,20:20,40:40}],134:[function(t,n,r){"use strict";var e=t(40),i=t(20)(6),o="findIndex",u=!0;o in[]&&Array(1)[o](function(){u=!1}),e(e.P+e.F*u,"Array",{findIndex:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),t(13)(o)},{13:13,20:20,40:40}],135:[function(t,n,r){"use strict";var e=t(40),i=t(20)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),e(e.P+e.F*o,"Array",{find:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),t(13)("find")},{13:13,20:20,40:40}],136:[function(t,n,r){"use strict";var e=t(40),i=t(20)(0),o=t(104)([].forEach,!0);e(e.P+e.F*!o,"Array",{forEach:function(t){return i(this,t,arguments[1])}})},{104:104,20:20,40:40}],137:[function(t,n,r){"use strict";var h=t(32),e=t(40),v=t(118),p=t(59),g=t(54),y=t(117),d=t(31),x=t(129);e(e.S+e.F*!t(62)(function(t){Array.from(t)}),"Array",{from:function(t){var n,r,e,i,o=v(t),u="function"==typeof this?this:Array,c=arguments.length,f=1<c?arguments[1]:void 0,a=void 0!==f,s=0,l=x(o);if(a&&(f=h(f,2<c?arguments[2]:void 0,2)),null==l||u==Array&&g(l))for(r=new u(n=y(o.length));s<n;s++)d(r,s,a?f(o[s],s):o[s]);else for(i=l.call(o),r=new u;!(e=i.next()).done;s++)d(r,s,a?p(i,f,[e.value,s],!0):e.value);return r.length=s,r}})},{117:117,118:118,129:129,31:31,32:32,40:40,54:54,59:59,62:62}],138:[function(t,n,r){"use strict";var e=t(40),i=t(19)(!1),o=[].indexOf,u=!!o&&1/[1].indexOf(1,-0)<0;e(e.P+e.F*(u||!t(104)(o)),"Array",{indexOf:function(t){return u?o.apply(this,arguments)||0:i(this,t,arguments[1])}})},{104:104,19:19,40:40}],139:[function(t,n,r){var e=t(40);e(e.S,"Array",{isArray:t(55)})},{40:40,55:55}],140:[function(t,n,r){"use strict";var e=t(13),i=t(63),o=t(64),u=t(116);n.exports=t(61)(Array,"Array",function(t,n){this._t=u(t),this._i=0,this._k=n},function(){var t=this._t,n=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):i(0,"keys"==n?r:"values"==n?t[r]:[r,t[r]])},"values"),o.Arguments=o.Array,e("keys"),e("values"),e("entries")},{116:116,13:13,61:61,63:63,64:64}],141:[function(t,n,r){"use strict";var e=t(40),i=t(116),o=[].join;e(e.P+e.F*(t(53)!=Object||!t(104)(o)),"Array",{join:function(t){return o.call(i(this),void 0===t?",":t)}})},{104:104,116:116,40:40,53:53}],142:[function(t,n,r){"use strict";var e=t(40),i=t(116),o=t(115),u=t(117),c=[].lastIndexOf,f=!!c&&1/[1].lastIndexOf(1,-0)<0;e(e.P+e.F*(f||!t(104)(c)),"Array",{lastIndexOf:function(t){if(f)return c.apply(this,arguments)||0;var n=i(this),r=u(n.length),e=r-1;for(1<arguments.length&&(e=Math.min(e,o(arguments[1]))),e<0&&(e=r+e);0<=e;e--)if(e in n&&n[e]===t)return e||0;return-1}})},{104:104,115:115,116:116,117:117,40:40}],143:[function(t,n,r){"use strict";var e=t(40),i=t(20)(1);e(e.P+e.F*!t(104)([].map,!0),"Array",{map:function(t){return i(this,t,arguments[1])}})},{104:104,20:20,40:40}],144:[function(t,n,r){"use strict";var e=t(40),i=t(31);e(e.S+e.F*t(42)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,n=arguments.length,r=new("function"==typeof this?this:Array)(n);t<n;)i(r,t,arguments[t++]);return r.length=n,r}})},{31:31,40:40,42:42}],145:[function(t,n,r){"use strict";var e=t(40),i=t(21);e(e.P+e.F*!t(104)([].reduceRight,!0),"Array",{reduceRight:function(t){return i(this,t,arguments.length,arguments[1],!0)}})},{104:104,21:21,40:40}],146:[function(t,n,r){"use strict";var e=t(40),i=t(21);e(e.P+e.F*!t(104)([].reduce,!0),"Array",{reduce:function(t){return i(this,t,arguments.length,arguments[1],!1)}})},{104:104,21:21,40:40}],147:[function(t,n,r){"use strict";var e=t(40),i=t(49),a=t(26),s=t(113),l=t(117),h=[].slice;e(e.P+e.F*t(42)(function(){i&&h.call(i)}),"Array",{slice:function(t,n){var r=l(this.length),e=a(this);if(n=void 0===n?r:n,"Array"==e)return h.call(this,t,n);for(var i=s(t,r),o=s(n,r),u=l(o-i),c=new Array(u),f=0;f<u;f++)c[f]="String"==e?this.charAt(i+f):this[i+f];return c}})},{113:113,117:117,26:26,40:40,42:42,49:49}],148:[function(t,n,r){"use strict";var e=t(40),i=t(20)(3);e(e.P+e.F*!t(104)([].some,!0),"Array",{some:function(t){return i(this,t,arguments[1])}})},{104:104,20:20,40:40}],149:[function(t,n,r){"use strict";var e=t(40),i=t(11),o=t(118),u=t(42),c=[].sort,f=[1,2,3];e(e.P+e.F*(u(function(){f.sort(void 0)})||!u(function(){f.sort(null)})||!t(104)(c)),"Array",{sort:function(t){return void 0===t?c.call(o(this)):c.call(o(this),i(t))}})},{104:104,11:11,118:118,40:40,42:42}],150:[function(t,n,r){t(99)("Array")},{99:99}],151:[function(t,n,r){var e=t(40);e(e.S,"Date",{now:function(){return(new Date).getTime()}})},{40:40}],152:[function(t,n,r){var e=t(40),i=t(33);e(e.P+e.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},{33:33,40:40}],153:[function(t,n,r){"use strict";var e=t(40),i=t(118),o=t(119);e(e.P+e.F*t(42)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var n=i(this),r=o(n);return"number"!=typeof r||isFinite(r)?n.toISOString():null}})},{118:118,119:119,40:40,42:42}],154:[function(t,n,r){var e=t(128)("toPrimitive"),i=Date.prototype;e in i||t(48)(i,e,t(34))},{128:128,34:34,48:48}],155:[function(t,n,r){var e=Date.prototype,i=e.toString,o=e.getTime;new Date(NaN)+""!="Invalid Date"&&t(94)(e,"toString",function(){var t=o.call(this);return t==t?i.call(this):"Invalid Date"})},{94:94}],156:[function(t,n,r){var e=t(40);e(e.P,"Function",{bind:t(24)})},{24:24,40:40}],157:[function(t,n,r){"use strict";var e=t(57),i=t(81),o=t(128)("hasInstance"),u=Function.prototype;o in u||t(75).f(u,o,{value:function(t){if("function"!=typeof this||!e(t))return!1;if(!e(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},{128:128,57:57,75:75,81:81}],158:[function(t,n,r){var e=t(75).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||t(36)&&e(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},{36:36,75:75}],159:[function(t,n,r){"use strict";var e=t(27),i=t(125);n.exports=t(29)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var n=e.getEntry(i(this,"Map"),t);return n&&n.v},set:function(t,n){return e.def(i(this,"Map"),0===t?0:t,n)}},e,!0)},{125:125,27:27,29:29}],160:[function(t,n,r){var e=t(40),i=t(68),o=Math.sqrt,u=Math.acosh;e(e.S+e.F*!(u&&710==Math.floor(u(Number.MAX_VALUE))&&u(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:i(t-1+o(t-1)*o(t+1))}})},{40:40,68:68}],161:[function(t,n,r){var e=t(40),i=Math.asinh;e(e.S+e.F*!(i&&0<1/i(0)),"Math",{asinh:function t(n){return isFinite(n=+n)&&0!=n?n<0?-t(-n):Math.log(n+Math.sqrt(n*n+1)):n}})},{40:40}],162:[function(t,n,r){var e=t(40),i=Math.atanh;e(e.S+e.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},{40:40}],163:[function(t,n,r){var e=t(40),i=t(69);e(e.S,"Math",{cbrt:function(t){return i(t=+t)*Math.pow(Math.abs(t),1/3)}})},{40:40,69:69}],164:[function(t,n,r){var e=t(40);e(e.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},{40:40}],165:[function(t,n,r){var e=t(40),i=Math.exp;e(e.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},{40:40}],166:[function(t,n,r){var e=t(40),i=t(66);e(e.S+e.F*(i!=Math.expm1),"Math",{expm1:i})},{40:40,66:66}],167:[function(t,n,r){var e=t(40);e(e.S,"Math",{fround:t(67)})},{40:40,67:67}],168:[function(t,n,r){var e=t(40),f=Math.abs;e(e.S,"Math",{hypot:function(t,n){for(var r,e,i=0,o=0,u=arguments.length,c=0;o<u;)c<(r=f(arguments[o++]))?(i=i*(e=c/r)*e+1,c=r):0<r?i+=(e=r/c)*e:i+=r;return c===1/0?1/0:c*Math.sqrt(i)}})},{40:40}],169:[function(t,n,r){var e=t(40),i=Math.imul;e(e.S+e.F*t(42)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(t,n){var r=+t,e=+n,i=65535&r,o=65535&e;return 0|i*o+((65535&r>>>16)*o+i*(65535&e>>>16)<<16>>>0)}})},{40:40,42:42}],170:[function(t,n,r){var e=t(40);e(e.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},{40:40}],171:[function(t,n,r){var e=t(40);e(e.S,"Math",{log1p:t(68)})},{40:40,68:68}],172:[function(t,n,r){var e=t(40);e(e.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},{40:40}],173:[function(t,n,r){var e=t(40);e(e.S,"Math",{sign:t(69)})},{40:40,69:69}],174:[function(t,n,r){var e=t(40),i=t(66),o=Math.exp;e(e.S+e.F*t(42)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(i(t)-i(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},{40:40,42:42,66:66}],175:[function(t,n,r){var e=t(40),i=t(66),o=Math.exp;e(e.S,"Math",{tanh:function(t){var n=i(t=+t),r=i(-t);return n==1/0?1:r==1/0?-1:(n-r)/(o(t)+o(-t))}})},{40:40,66:66}],176:[function(t,n,r){var e=t(40);e(e.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},{40:40}],177:[function(t,n,r){"use strict";var e=t(46),i=t(47),o=t(26),u=t(51),s=t(119),c=t(42),f=t(79).f,a=t(77).f,l=t(75).f,h=t(110).trim,v=e.Number,p=v,g=v.prototype,y="Number"==o(t(74)(g)),d="trim"in String.prototype,x=function(t){var n=s(t,!1);if("string"==typeof n&&2<n.length){var r,e,i,o=(n=d?n.trim():h(n,3)).charCodeAt(0);if(43===o||45===o){if(88===(r=n.charCodeAt(2))||120===r)return NaN}else if(48===o){switch(n.charCodeAt(1)){case 66:case 98:e=2,i=49;break;case 79:case 111:e=8,i=55;break;default:return+n}for(var u,c=n.slice(2),f=0,a=c.length;f<a;f++)if((u=c.charCodeAt(f))<48||i<u)return NaN;return parseInt(c,e)}}return+n};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof v&&(y?c(function(){g.valueOf.call(r)}):"Number"!=o(r))?u(new p(x(n)),r,v):x(n)};for(var m,b=t(36)?f(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;b.length>S;S++)i(p,m=b[S])&&!i(v,m)&&l(v,m,a(p,m));(v.prototype=g).constructor=v,t(94)(e,"Number",v)}},{110:110,119:119,26:26,36:36,42:42,46:46,47:47,51:51,74:74,75:75,77:77,79:79,94:94}],178:[function(t,n,r){var e=t(40);e(e.S,"Number",{EPSILON:Math.pow(2,-52)})},{40:40}],179:[function(t,n,r){var e=t(40),i=t(46).isFinite;e(e.S,"Number",{isFinite:function(t){return"number"==typeof t&&i(t)}})},{40:40,46:46}],180:[function(t,n,r){var e=t(40);e(e.S,"Number",{isInteger:t(56)})},{40:40,56:56}],181:[function(t,n,r){var e=t(40);e(e.S,"Number",{isNaN:function(t){return t!=t}})},{40:40}],182:[function(t,n,r){var e=t(40),i=t(56),o=Math.abs;e(e.S,"Number",{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},{40:40,56:56}],183:[function(t,n,r){var e=t(40);e(e.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},{40:40}],184:[function(t,n,r){var e=t(40);e(e.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},{40:40}],185:[function(t,n,r){var e=t(40),i=t(88);e(e.S+e.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},{40:40,88:88}],186:[function(t,n,r){var e=t(40),i=t(89);e(e.S+e.F*(Number.parseInt!=i),"Number",{parseInt:i})},{40:40,89:89}],187:[function(t,n,r){"use strict";var e=t(40),a=t(115),s=t(12),l=t(109),i=1..toFixed,o=Math.floor,u=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",v=function(t,n){for(var r=-1,e=n;++r<6;)e+=t*u[r],u[r]=e%1e7,e=o(e/1e7)},p=function(t){for(var n=6,r=0;0<=--n;)r+=u[n],u[n]=o(r/t),r=r%t*1e7},g=function(){for(var t=6,n="";0<=--t;)if(""!==n||0===t||0!==u[t]){var r=String(u[t]);n=""===n?r:n+l.call("0",7-r.length)+r}return n},y=function(t,n,r){return 0===n?r:n%2==1?y(t,n-1,r*t):y(t*t,n/2,r)};e(e.P+e.F*(!!i&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!t(42)(function(){i.call({})})),"Number",{toFixed:function(t){var n,r,e,i,o=s(this,h),u=a(t),c="",f="0";if(u<0||20<u)throw RangeError(h);if(o!=o)return"NaN";if(o<=-1e21||1e21<=o)return String(o);if(o<0&&(c="-",o=-o),1e-21<o)if(r=(n=function(t){for(var n=0,r=t;4096<=r;)n+=12,r/=4096;for(;2<=r;)n+=1,r/=2;return n}(o*y(2,69,1))-69)<0?o*y(2,-n,1):o/y(2,n,1),r*=4503599627370496,0<(n=52-n)){for(v(0,r),e=u;7<=e;)v(1e7,0),e-=7;for(v(y(10,e,1),0),e=n-1;23<=e;)p(1<<23),e-=23;p(1<<e),v(1,1),p(2),f=g()}else v(0,r),v(1<<-n,0),f=g()+l.call("0",u);return f=0<u?c+((i=f.length)<=u?"0."+l.call("0",u-i)+f:f.slice(0,i-u)+"."+f.slice(i-u)):c+f}})},{109:109,115:115,12:12,40:40,42:42}],188:[function(t,n,r){"use strict";var e=t(40),i=t(42),o=t(12),u=1..toPrecision;e(e.P+e.F*(i(function(){return"1"!==u.call(1,void 0)})||!i(function(){u.call({})})),"Number",{toPrecision:function(t){var n=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?u.call(n):u.call(n,t)}})},{12:12,40:40,42:42}],189:[function(t,n,r){var e=t(40);e(e.S+e.F,"Object",{assign:t(73)})},{40:40,73:73}],190:[function(t,n,r){var e=t(40);e(e.S,"Object",{create:t(74)})},{40:40,74:74}],191:[function(t,n,r){var e=t(40);e(e.S+e.F*!t(36),"Object",{defineProperties:t(76)})},{36:36,40:40,76:76}],192:[function(t,n,r){var e=t(40);e(e.S+e.F*!t(36),"Object",{defineProperty:t(75).f})},{36:36,40:40,75:75}],193:[function(t,n,r){var e=t(57),i=t(70).onFreeze;t(85)("freeze",function(n){return function(t){return n&&e(t)?n(i(t)):t}})},{57:57,70:70,85:85}],194:[function(t,n,r){var e=t(116),i=t(77).f;t(85)("getOwnPropertyDescriptor",function(){return function(t,n){return i(e(t),n)}})},{116:116,77:77,85:85}],195:[function(t,n,r){t(85)("getOwnPropertyNames",function(){return t(78).f})},{78:78,85:85}],196:[function(t,n,r){var e=t(118),i=t(81);t(85)("getPrototypeOf",function(){return function(t){return i(e(t))}})},{118:118,81:81,85:85}],197:[function(t,n,r){var e=t(57);t(85)("isExtensible",function(n){return function(t){return!!e(t)&&(!n||n(t))}})},{57:57,85:85}],198:[function(t,n,r){var e=t(57);t(85)("isFrozen",function(n){return function(t){return!e(t)||!!n&&n(t)}})},{57:57,85:85}],199:[function(t,n,r){var e=t(57);t(85)("isSealed",function(n){return function(t){return!e(t)||!!n&&n(t)}})},{57:57,85:85}],200:[function(t,n,r){var e=t(40);e(e.S,"Object",{is:t(97)})},{40:40,97:97}],201:[function(t,n,r){var e=t(118),i=t(83);t(85)("keys",function(){return function(t){return i(e(t))}})},{118:118,83:83,85:85}],202:[function(t,n,r){var e=t(57),i=t(70).onFreeze;t(85)("preventExtensions",function(n){return function(t){return n&&e(t)?n(i(t)):t}})},{57:57,70:70,85:85}],203:[function(t,n,r){var e=t(57),i=t(70).onFreeze;t(85)("seal",function(n){return function(t){return n&&e(t)?n(i(t)):t}})},{57:57,70:70,85:85}],204:[function(t,n,r){var e=t(40);e(e.S,"Object",{setPrototypeOf:t(98).set})},{40:40,98:98}],205:[function(t,n,r){"use strict";var e=t(25),i={};i[t(128)("toStringTag")]="z",i+""!="[object z]"&&t(94)(Object.prototype,"toString",function(){return"[object "+e(this)+"]"},!0)},{128:128,25:25,94:94}],206:[function(t,n,r){var e=t(40),i=t(88);e(e.G+e.F*(parseFloat!=i),{parseFloat:i})},{40:40,88:88}],207:[function(t,n,r){var e=t(40),i=t(89);e(e.G+e.F*(parseInt!=i),{parseInt:i})},{40:40,89:89}],208:[function(r,t,n){"use strict";var e,i,o,u,c=r(65),f=r(46),a=r(32),s=r(25),l=r(40),h=r(57),v=r(11),p=r(15),g=r(45),y=r(103),d=r(112).set,x=r(71)(),m=r(72),b=r(90),S=r(124),w=r(91),_=f.TypeError,E=f.process,O=E&&E.versions,F=O&&O.v8||"",P=f.Promise,M="process"==s(E),A=function(){},I=i=m.f,j=!!function(){try{var t=P.resolve(1),n=(t.constructor={})[r(128)("species")]=function(t){t(A,A)};return(M||"function"==typeof PromiseRejectionEvent)&&t.then(A)instanceof n&&0!==F.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var n;return!(!h(t)||"function"!=typeof(n=t.then))&&n},T=function(s,n){if(!s._n){s._n=!0;var r=s._c;x(function(){for(var f=s._v,a=1==s._s,t=0;r.length>t;)!function(t){var n,r,e,i=a?t.ok:t.fail,o=t.resolve,u=t.reject,c=t.domain;try{i?(a||(2==s._h&&k(s),s._h=1),!0===i?n=f:(c&&c.enter(),n=i(f),c&&(c.exit(),e=!0)),n===t.promise?u(_("Promise-chain cycle")):(r=N(n))?r.call(n,o,u):o(n)):u(f)}catch(t){c&&!e&&c.exit(),u(t)}}(r[t++]);s._c=[],s._n=!1,n&&!s._h&&L(s)})}},L=function(o){d.call(f,function(){var t,n,r,e=o._v,i=R(o);if(i&&(t=b(function(){M?E.emit("unhandledRejection",e,o):(n=f.onunhandledrejection)?n({promise:o,reason:e}):(r=f.console)&&r.error&&r.error("Unhandled promise rejection",e)}),o._h=M||R(o)?2:1),o._a=void 0,i&&t.e)throw t.v})},R=function(t){return 1!==t._h&&0===(t._a||t._c).length},k=function(n){d.call(f,function(){var t;M?E.emit("rejectionHandled",n):(t=f.onrejectionhandled)&&t({promise:n,reason:n._v})})},D=function(t){var n=this;n._d||(n._d=!0,(n=n._w||n)._v=t,n._s=2,n._a||(n._a=n._c.slice()),T(n,!0))},C=function(t){var r,e=this;if(!e._d){e._d=!0,e=e._w||e;try{if(e===t)throw _("Promise can't be resolved itself");(r=N(t))?x(function(){var n={_w:e,_d:!1};try{r.call(t,a(C,n,1),a(D,n,1))}catch(t){D.call(n,t)}}):(e._v=t,e._s=1,T(e,!1))}catch(t){D.call({_w:e,_d:!1},t)}}};j||(P=function(t){p(this,P,"Promise","_h"),v(t),e.call(this);try{t(a(C,this,1),a(D,this,1))}catch(t){D.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=r(93)(P.prototype,{then:function(t,n){var r=I(y(this,P));return r.ok="function"!=typeof t||t,r.fail="function"==typeof n&&n,r.domain=M?E.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&T(this,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=a(C,t,1),this.reject=a(D,t,1)},m.f=I=function(t){return t===P||t===u?new o(t):i(t)}),l(l.G+l.W+l.F*!j,{Promise:P}),r(100)(P,"Promise"),r(99)("Promise"),u=r(30).Promise,l(l.S+l.F*!j,"Promise",{reject:function(t){var n=I(this);return(0,n.reject)(t),n.promise}}),l(l.S+l.F*(c||!j),"Promise",{resolve:function(t){return w(c&&this===u?P:this,t)}}),l(l.S+l.F*!(j&&r(62)(function(t){P.all(t).catch(A)})),"Promise",{all:function(t){var u=this,n=I(u),c=n.resolve,f=n.reject,r=b(function(){var e=[],i=0,o=1;g(t,!1,function(t){var n=i++,r=!1;e.push(void 0),o++,u.resolve(t).then(function(t){r||(r=!0,e[n]=t,--o||c(e))},f)}),--o||c(e)});return r.e&&f(r.v),n.promise},race:function(t){var n=this,r=I(n),e=r.reject,i=b(function(){g(t,!1,function(t){n.resolve(t).then(r.resolve,e)})});return i.e&&e(i.v),r.promise}})},{100:100,103:103,11:11,112:112,124:124,128:128,15:15,25:25,30:30,32:32,40:40,45:45,46:46,57:57,62:62,65:65,71:71,72:72,90:90,91:91,93:93,99:99}],209:[function(t,n,r){var e=t(40),o=t(11),u=t(16),c=(t(46).Reflect||{}).apply,f=Function.apply;e(e.S+e.F*!t(42)(function(){c(function(){})}),"Reflect",{apply:function(t,n,r){var e=o(t),i=u(r);return c?c(e,n,i):f.call(e,n,i)}})},{11:11,16:16,40:40,42:42,46:46}],210:[function(t,n,r){var e=t(40),c=t(74),f=t(11),a=t(16),s=t(57),i=t(42),l=t(24),h=(t(46).Reflect||{}).construct,v=i(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),p=!i(function(){h(function(){})});e(e.S+e.F*(v||p),"Reflect",{construct:function(t,n){f(t),a(n);var r=arguments.length<3?t:f(arguments[2]);if(p&&!v)return h(t,n,r);if(t==r){switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3])}var e=[null];return e.push.apply(e,n),new(l.apply(t,e))}var i=r.prototype,o=c(s(i)?i:Object.prototype),u=Function.apply.call(t,o,n);return s(u)?u:o}})},{11:11,16:16,24:24,40:40,42:42,46:46,57:57,74:74}],211:[function(t,n,r){var e=t(75),i=t(40),o=t(16),u=t(119);i(i.S+i.F*t(42)(function(){Reflect.defineProperty(e.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,n,r){o(t),n=u(n,!0),o(r);try{return e.f(t,n,r),!0}catch(t){return!1}}})},{119:119,16:16,40:40,42:42,75:75}],212:[function(t,n,r){var e=t(40),i=t(77).f,o=t(16);e(e.S,"Reflect",{deleteProperty:function(t,n){var r=i(o(t),n);return!(r&&!r.configurable)&&delete t[n]}})},{16:16,40:40,77:77}],213:[function(t,n,r){"use strict";var e=t(40),i=t(16),o=function(t){this._t=i(t),this._i=0;var n,r=this._k=[];for(n in t)r.push(n)};t(60)(o,"Object",function(){var t,n=this._k;do{if(this._i>=n.length)return{value:void 0,done:!0}}while(!((t=n[this._i++])in this._t));return{value:t,done:!1}}),e(e.S,"Reflect",{enumerate:function(t){return new o(t)}})},{16:16,40:40,60:60}],214:[function(t,n,r){var e=t(77),i=t(40),o=t(16);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(t,n){return e.f(o(t),n)}})},{16:16,40:40,77:77}],215:[function(t,n,r){var e=t(40),i=t(81),o=t(16);e(e.S,"Reflect",{getPrototypeOf:function(t){return i(o(t))}})},{16:16,40:40,81:81}],216:[function(t,n,r){var u=t(77),c=t(81),f=t(47),e=t(40),a=t(57),s=t(16);e(e.S,"Reflect",{get:function t(n,r){var e,i,o=arguments.length<3?n:arguments[2];return s(n)===o?n[r]:(e=u.f(n,r))?f(e,"value")?e.value:void 0!==e.get?e.get.call(o):void 0:a(i=c(n))?t(i,r,o):void 0}})},{16:16,40:40,47:47,57:57,77:77,81:81}],217:[function(t,n,r){var e=t(40);e(e.S,"Reflect",{has:function(t,n){return n in t}})},{40:40}],218:[function(t,n,r){var e=t(40),i=t(16),o=Object.isExtensible;e(e.S,"Reflect",{isExtensible:function(t){return i(t),!o||o(t)}})},{16:16,40:40}],219:[function(t,n,r){var e=t(40);e(e.S,"Reflect",{ownKeys:t(87)})},{40:40,87:87}],220:[function(t,n,r){var e=t(40),i=t(16),o=Object.preventExtensions;e(e.S,"Reflect",{preventExtensions:function(t){i(t);try{return o&&o(t),!0}catch(t){return!1}}})},{16:16,40:40}],221:[function(t,n,r){var e=t(40),i=t(98);i&&e(e.S,"Reflect",{setPrototypeOf:function(t,n){i.check(t,n);try{return i.set(t,n),!0}catch(t){return!1}}})},{40:40,98:98}],222:[function(t,n,r){var f=t(75),a=t(77),s=t(81),l=t(47),e=t(40),h=t(92),v=t(16),p=t(57);e(e.S,"Reflect",{set:function t(n,r,e){var i,o,u=arguments.length<4?n:arguments[3],c=a.f(v(n),r);if(!c){if(p(o=s(n)))return t(o,r,e,u);c=h(0)}if(l(c,"value")){if(!1===c.writable||!p(u))return!1;if(i=a.f(u,r)){if(i.get||i.set||!1===i.writable)return!1;i.value=e,f.f(u,r,i)}else f.f(u,r,h(0,e));return!0}return void 0!==c.set&&(c.set.call(u,e),!0)}})},{16:16,40:40,47:47,57:57,75:75,77:77,81:81,92:92}],223:[function(t,n,r){var e=t(46),o=t(51),i=t(75).f,u=t(79).f,c=t(58),f=t(44),a=e.RegExp,s=a,l=a.prototype,h=/a/g,v=/a/g,p=new a(h)!==h;if(t(36)&&(!p||t(42)(function(){return v[t(128)("match")]=!1,a(h)!=h||a(v)==v||"/a/i"!=a(h,"i")}))){a=function(t,n){var r=this instanceof a,e=c(t),i=void 0===n;return!r&&e&&t.constructor===a&&i?t:o(p?new s(e&&!i?t.source:t,n):s((e=t instanceof a)?t.source:t,e&&i?f.call(t):n),r?this:l,a)};for(var g=u(s),y=0;g.length>y;)!function(n){n in a||i(a,n,{configurable:!0,get:function(){return s[n]},set:function(t){s[n]=t}})}(g[y++]);(l.constructor=a).prototype=l,t(94)(e,"RegExp",a)}t(99)("RegExp")},{128:128,36:36,42:42,44:44,46:46,51:51,58:58,75:75,79:79,94:94,99:99}],224:[function(t,n,r){"use strict";var e=t(96);t(40)({target:"RegExp",proto:!0,forced:e!==/./.exec},{exec:e})},{40:40,96:96}],225:[function(t,n,r){t(36)&&"g"!=/./g.flags&&t(75).f(RegExp.prototype,"flags",{configurable:!0,get:t(44)})},{36:36,44:44,75:75}],226:[function(t,n,r){"use strict";var l=t(16),h=t(117),v=t(14),p=t(95);t(43)("match",1,function(e,i,a,s){return[function(t){var n=e(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n):new RegExp(t)[i](String(n))},function(t){var n=s(a,t,this);if(n.done)return n.value;var r=l(t),e=String(this);if(!r.global)return p(r,e);for(var i,o=r.unicode,u=[],c=r.lastIndex=0;null!==(i=p(r,e));){var f=String(i[0]);""===(u[c]=f)&&(r.lastIndex=v(e,h(r.lastIndex),o)),c++}return 0===c?null:u}]})},{117:117,14:14,16:16,43:43,95:95}],227:[function(t,n,r){"use strict";var E=t(16),e=t(118),O=t(117),F=t(115),P=t(14),M=t(95),A=Math.max,I=Math.min,h=Math.floor,v=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;t(43)("replace",2,function(i,o,S,w){function _(o,u,c,f,a,t){var s=c+o.length,l=f.length,n=p;return void 0!==a&&(a=e(a),n=v),S.call(t,n,function(t,n){var r;switch(n.charAt(0)){case"$":return"$";case"&":return o;case"`":return u.slice(0,c);case"'":return u.slice(s);case"<":r=a[n.slice(1,-1)];break;default:var e=+n;if(0===e)return n;if(l<e){var i=h(e/10);return 0===i?n:i<=l?void 0===f[i-1]?n.charAt(1):f[i-1]+n.charAt(1):n}r=f[e-1]}return void 0===r?"":r})}return[function(t,n){var r=i(this),e=null==t?void 0:t[o];return void 0!==e?e.call(t,r,n):S.call(String(r),t,n)},function(t,n){var r=w(S,t,this,n);if(r.done)return r.value;var e=E(t),i=String(this),o="function"==typeof n;o||(n=String(n));var u,c=e.global;if(c){var f=e.unicode;e.lastIndex=0}for(var a=[];;){var s=M(e,i);if(null===s)break;if(a.push(s),!c)break;""===String(s[0])&&(e.lastIndex=P(i,O(e.lastIndex),f))}for(var l="",h=0,v=0;v<a.length;v++){s=a[v];for(var p=String(s[0]),g=A(I(F(s.index),i.length),0),y=[],d=1;d<s.length;d++)y.push(void 0===(u=s[d])?u:String(u));var x=s.groups;if(o){var m=[p].concat(y,g,i);void 0!==x&&m.push(x);var b=String(n.apply(void 0,m))}else b=_(p,i,g,y,x,n);h<=g&&(l+=i.slice(h,g)+b,h=g+p.length)}return l+i.slice(h)}]})},{115:115,117:117,118:118,14:14,16:16,43:43,95:95}],228:[function(t,n,r){"use strict";var f=t(16),a=t(97),s=t(95);t(43)("search",1,function(e,i,u,c){return[function(t){var n=e(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n):new RegExp(t)[i](String(n))},function(t){var n=c(u,t,this);if(n.done)return n.value;var r=f(t),e=String(this),i=r.lastIndex;a(i,0)||(r.lastIndex=0);var o=s(r,e);return a(r.lastIndex,i)||(r.lastIndex=i),null===o?-1:o.index}]})},{16:16,43:43,95:95,97:97}],229:[function(t,n,r){"use strict";var l=t(58),m=t(16),b=t(103),S=t(14),w=t(117),_=t(95),h=t(96),E=Math.min,v=[].push,p="length",O=!!function(){try{return new RegExp("x","y")}catch(t){}}();t(43)("split",2,function(i,o,y,d){var x;return x="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1)[p]||2!="ab".split(/(?:ab)*/)[p]||4!=".".split(/(.?)(.?)/)[p]||1<".".split(/()()/)[p]||"".split(/.?/)[p]?function(t,n){var r=String(this);if(void 0===t&&0===n)return[];if(!l(t))return y.call(r,t,n);for(var e,i,o,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,a=void 0===n?4294967295:n>>>0,s=new RegExp(t.source,c+"g");(e=h.call(s,r))&&!((i=s.lastIndex)>f&&(u.push(r.slice(f,e.index)),1<e[p]&&e.index<r[p]&&v.apply(u,e.slice(1)),o=e[0][p],f=i,u[p]>=a));)s.lastIndex===e.index&&s.lastIndex++;return f===r[p]?!o&&s.test("")||u.push(""):u.push(r.slice(f)),u[p]>a?u.slice(0,a):u}:"0".split(void 0,0)[p]?function(t,n){return void 0===t&&0===n?[]:y.call(this,t,n)}:y,[function(t,n){var r=i(this),e=null==t?void 0:t[o];return void 0!==e?e.call(t,r,n):x.call(String(r),t,n)},function(t,n){var r=d(x,t,this,n,x!==y);if(r.done)return r.value;var e=m(t),i=String(this),o=b(e,RegExp),u=e.unicode,c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(O?"y":"g"),f=new o(O?e:"^(?:"+e.source+")",c),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(0===i.length)return null===_(f,i)?[i]:[];for(var s=0,l=0,h=[];l<i.length;){f.lastIndex=O?l:0;var v,p=_(f,O?i:i.slice(l));if(null===p||(v=E(w(f.lastIndex+(O?0:l)),i.length))===s)l=S(i,l,u);else{if(h.push(i.slice(s,l)),h.length===a)return h;for(var g=1;g<=p.length-1;g++)if(h.push(p[g]),h.length===a)return h;l=s=v}}return h.push(i.slice(s)),h}]})},{103:103,117:117,14:14,16:16,43:43,58:58,95:95,96:96}],230:[function(n,t,r){"use strict";n(225);var e=n(16),i=n(44),o=n(36),u=/./.toString,c=function(t){n(94)(RegExp.prototype,"toString",t,!0)};n(42)(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?c(function(){var t=e(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):"toString"!=u.name&&c(function(){return u.call(this)})},{16:16,225:225,36:36,42:42,44:44,94:94}],231:[function(t,n,r){"use strict";var e=t(27),i=t(125);n.exports=t(29)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return e.def(i(this,"Set"),t=0===t?0:t,t)}},e)},{125:125,27:27,29:29}],232:[function(t,n,r){"use strict";t(107)("anchor",function(n){return function(t){return n(this,"a","name",t)}})},{107:107}],233:[function(t,n,r){"use strict";t(107)("big",function(t){return function(){return t(this,"big","","")}})},{107:107}],234:[function(t,n,r){"use strict";t(107)("blink",function(t){return function(){return t(this,"blink","","")}})},{107:107}],235:[function(t,n,r){"use strict";t(107)("bold",function(t){return function(){return t(this,"b","","")}})},{107:107}],236:[function(t,n,r){"use strict";var e=t(40),i=t(105)(!1);e(e.P,"String",{codePointAt:function(t){return i(this,t)}})},{105:105,40:40}],237:[function(t,n,r){"use strict";var e=t(40),u=t(117),c=t(106),f="".endsWith;e(e.P+e.F*t(41)("endsWith"),"String",{endsWith:function(t){var n=c(this,t,"endsWith"),r=1<arguments.length?arguments[1]:void 0,e=u(n.length),i=void 0===r?e:Math.min(u(r),e),o=String(t);return f?f.call(n,o,i):n.slice(i-o.length,i)===o}})},{106:106,117:117,40:40,41:41}],238:[function(t,n,r){"use strict";t(107)("fixed",function(t){return function(){return t(this,"tt","","")}})},{107:107}],239:[function(t,n,r){"use strict";t(107)("fontcolor",function(n){return function(t){return n(this,"font","color",t)}})},{107:107}],240:[function(t,n,r){"use strict";t(107)("fontsize",function(n){return function(t){return n(this,"font","size",t)}})},{107:107}],241:[function(t,n,r){var e=t(40),o=t(113),u=String.fromCharCode,i=String.fromCodePoint;e(e.S+e.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(t){for(var n,r=[],e=arguments.length,i=0;i<e;){if(n=+arguments[i++],o(n,1114111)!==n)throw RangeError(n+" is not a valid code point");r.push(n<65536?u(n):u(55296+((n-=65536)>>10),n%1024+56320))}return r.join("")}})},{113:113,40:40}],242:[function(t,n,r){"use strict";var e=t(40),i=t(106);e(e.P+e.F*t(41)("includes"),"String",{includes:function(t){return!!~i(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},{106:106,40:40,41:41}],243:[function(t,n,r){"use strict";t(107)("italics",function(t){return function(){return t(this,"i","","")}})},{107:107}],244:[function(t,n,r){"use strict";var e=t(105)(!0);t(61)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,n=this._t,r=this._i;return r>=n.length?{value:void 0,done:!0}:(t=e(n,r),this._i+=t.length,{value:t,done:!1})})},{105:105,61:61}],245:[function(t,n,r){"use strict";t(107)("link",function(n){return function(t){return n(this,"a","href",t)}})},{107:107}],246:[function(t,n,r){var e=t(40),u=t(116),c=t(117);e(e.S,"String",{raw:function(t){for(var n=u(t.raw),r=c(n.length),e=arguments.length,i=[],o=0;o<r;)i.push(String(n[o++])),o<e&&i.push(String(arguments[o]));return i.join("")}})},{116:116,117:117,40:40}],247:[function(t,n,r){var e=t(40);e(e.P,"String",{repeat:t(109)})},{109:109,40:40}],248:[function(t,n,r){"use strict";t(107)("small",function(t){return function(){return t(this,"small","","")}})},{107:107}],249:[function(t,n,r){"use strict";var e=t(40),i=t(117),o=t(106),u="".startsWith;e(e.P+e.F*t(41)("startsWith"),"String",{startsWith:function(t){var n=o(this,t,"startsWith"),r=i(Math.min(1<arguments.length?arguments[1]:void 0,n.length)),e=String(t);return u?u.call(n,e,r):n.slice(r,r+e.length)===e}})},{106:106,117:117,40:40,41:41}],250:[function(t,n,r){"use strict";t(107)("strike",function(t){return function(){return t(this,"strike","","")}})},{107:107}],251:[function(t,n,r){"use strict";t(107)("sub",function(t){return function(){return t(this,"sub","","")}})},{107:107}],252:[function(t,n,r){"use strict";t(107)("sup",function(t){return function(){return t(this,"sup","","")}})},{107:107}],253:[function(t,n,r){"use strict";t(110)("trim",function(t){return function(){return t(this,3)}})},{110:110}],254:[function(t,n,r){"use strict";var e=t(46),u=t(47),i=t(36),o=t(40),c=t(94),f=t(70).KEY,a=t(42),s=t(102),l=t(100),h=t(123),v=t(128),p=t(127),g=t(126),y=t(39),d=t(55),x=t(16),m=t(57),b=t(116),S=t(119),w=t(92),_=t(74),E=t(78),O=t(77),F=t(75),P=t(83),M=O.f,A=F.f,I=E.f,j=e.Symbol,N=e.JSON,T=N&&N.stringify,L=v("_hidden"),R=v("toPrimitive"),k={}.propertyIsEnumerable,D=s("symbol-registry"),C=s("symbols"),W=s("op-symbols"),U=Object.prototype,V="function"==typeof j,B=e.QObject,G=!B||!B.prototype||!B.prototype.findChild,z=i&&a(function(){return 7!=_(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,n,r){var e=M(U,n);e&&delete U[n],A(t,n,r),e&&t!==U&&A(U,n,e)}:A,q=function(t){var n=C[t]=_(j.prototype);return n._k=t,n},Y=V&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},$=function(t,n,r){return t===U&&$(W,n,r),x(t),n=S(n,!0),x(r),u(C,n)?(r.enumerable?(u(t,L)&&t[L][n]&&(t[L][n]=!1),r=_(r,{enumerable:w(0,!1)})):(u(t,L)||A(t,L,w(1,{})),t[L][n]=!0),z(t,n,r)):A(t,n,r)},K=function(t,n){x(t);for(var r,e=y(n=b(n)),i=0,o=e.length;i<o;)$(t,r=e[i++],n[r]);return t},J=function(t){var n=k.call(this,t=S(t,!0));return!(this===U&&u(C,t)&&!u(W,t))&&(!(n||!u(this,t)||!u(C,t)||u(this,L)&&this[L][t])||n)},H=function(t,n){if(t=b(t),n=S(n,!0),t!==U||!u(C,n)||u(W,n)){var r=M(t,n);return!r||!u(C,n)||u(t,L)&&t[L][n]||(r.enumerable=!0),r}},X=function(t){for(var n,r=I(b(t)),e=[],i=0;r.length>i;)u(C,n=r[i++])||n==L||n==f||e.push(n);return e},Z=function(t){for(var n,r=t===U,e=I(r?W:b(t)),i=[],o=0;e.length>o;)!u(C,n=e[o++])||r&&!u(U,n)||i.push(C[n]);return i};V||(c((j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var n=h(0<arguments.length?arguments[0]:void 0),r=function(t){this===U&&r.call(W,t),u(this,L)&&u(this[L],n)&&(this[L][n]=!1),z(this,n,w(1,t))};return i&&G&&z(U,n,{configurable:!0,set:r}),q(n)}).prototype,"toString",function(){return this._k}),O.f=H,F.f=$,t(79).f=E.f=X,t(84).f=J,t(80).f=Z,i&&!t(65)&&c(U,"propertyIsEnumerable",J,!0),p.f=function(t){return q(v(t))}),o(o.G+o.W+o.F*!V,{Symbol:j});for(var Q="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Q.length>tt;)v(Q[tt++]);for(var nt=P(v.store),rt=0;nt.length>rt;)g(nt[rt++]);o(o.S+o.F*!V,"Symbol",{for:function(t){return u(D,t+="")?D[t]:D[t]=j(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var n in D)if(D[n]===t)return n},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!V,"Object",{create:function(t,n){return void 0===n?_(t):K(_(t),n)},defineProperty:$,defineProperties:K,getOwnPropertyDescriptor:H,getOwnPropertyNames:X,getOwnPropertySymbols:Z}),N&&o(o.S+o.F*(!V||a(function(){var t=j();return"[null]"!=T([t])||"{}"!=T({a:t})||"{}"!=T(Object(t))})),"JSON",{stringify:function(t){for(var n,r,e=[t],i=1;arguments.length>i;)e.push(arguments[i++]);if(r=n=e[1],(m(n)||void 0!==t)&&!Y(t))return d(n)||(n=function(t,n){if("function"==typeof r&&(n=r.call(this,t,n)),!Y(n))return n}),e[1]=n,T.apply(N,e)}}),j.prototype[R]||t(48)(j.prototype,R,j.prototype.valueOf),l(j,"Symbol"),l(Math,"Math",!0),l(e.JSON,"JSON",!0)},{100:100,102:102,116:116,119:119,123:123,126:126,127:127,128:128,16:16,36:36,39:39,40:40,42:42,46:46,47:47,48:48,55:55,57:57,65:65,70:70,74:74,75:75,77:77,78:78,79:79,80:80,83:83,84:84,92:92,94:94}],255:[function(t,n,r){"use strict";var e=t(40),i=t(122),o=t(121),a=t(16),s=t(113),l=t(117),u=t(57),c=t(46).ArrayBuffer,h=t(103),v=o.ArrayBuffer,p=o.DataView,f=i.ABV&&c.isView,g=v.prototype.slice,y=i.VIEW;e(e.G+e.W+e.F*(c!==v),{ArrayBuffer:v}),e(e.S+e.F*!i.CONSTR,"ArrayBuffer",{isView:function(t){return f&&f(t)||u(t)&&y in t}}),e(e.P+e.U+e.F*t(42)(function(){return!new v(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,n){if(void 0!==g&&void 0===n)return g.call(a(this),t);for(var r=a(this).byteLength,e=s(t,r),i=s(void 0===n?r:n,r),o=new(h(this,v))(l(i-e)),u=new p(this),c=new p(o),f=0;e<i;)c.setUint8(f++,u.getUint8(e++));return o}}),t(99)("ArrayBuffer")},{103:103,113:113,117:117,121:121,122:122,16:16,40:40,42:42,46:46,57:57,99:99}],256:[function(t,n,r){var e=t(40);e(e.G+e.W+e.F*!t(122).ABV,{DataView:t(121).DataView})},{121:121,122:122,40:40}],257:[function(t,n,r){t(120)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],258:[function(t,n,r){t(120)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],259:[function(t,n,r){t(120)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],260:[function(t,n,r){t(120)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],261:[function(t,n,r){t(120)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],262:[function(t,n,r){t(120)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],263:[function(t,n,r){t(120)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],264:[function(t,n,r){t(120)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},{120:120}],265:[function(t,n,r){t(120)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},{120:120}],266:[function(t,n,r){"use strict";var o,e=t(20)(0),u=t(94),i=t(70),c=t(73),f=t(28),a=t(57),s=t(42),l=t(125),h=i.getWeak,v=Object.isExtensible,p=f.ufstore,g={},y=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},d={get:function(t){if(a(t)){var n=h(t);return!0===n?p(l(this,"WeakMap")).get(t):n?n[this._i]:void 0}},set:function(t,n){return f.def(l(this,"WeakMap"),t,n)}},x=n.exports=t(29)("WeakMap",y,d,f,!0,!0);s(function(){return 7!=(new x).set((Object.freeze||Object)(g),7).get(g)})&&(c((o=f.getConstructor(y,"WeakMap")).prototype,d),i.NEED=!0,e(["delete","has","get","set"],function(e){var t=x.prototype,i=t[e];u(t,e,function(t,n){if(!a(t)||v(t))return i.call(this,t,n);this._f||(this._f=new o);var r=this._f[e](t,n);return"set"==e?this:r})}))},{125:125,20:20,28:28,29:29,42:42,57:57,70:70,73:73,94:94}],267:[function(t,n,r){"use strict";var e=t(28),i=t(125);t(29)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return e.def(i(this,"WeakSet"),t,!0)}},e,!1,!0)},{125:125,28:28,29:29}],268:[function(t,n,r){"use strict";var e=t(40),i=t(19)(!0);e(e.P,"Array",{includes:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0)}}),t(13)("includes")},{13:13,19:19,40:40}],269:[function(t,n,r){var e=t(40),i=t(86)(!0);e(e.S,"Object",{entries:function(t){return i(t)}})},{40:40,86:86}],270:[function(t,n,r){var e=t(40),f=t(87),a=t(116),s=t(77),l=t(31);e(e.S,"Object",{getOwnPropertyDescriptors:function(t){for(var n,r,e=a(t),i=s.f,o=f(e),u={},c=0;o.length>c;)void 0!==(r=i(e,n=o[c++]))&&l(u,n,r);return u}})},{116:116,31:31,40:40,77:77,87:87}],271:[function(t,n,r){var e=t(40),i=t(86)(!1);e(e.S,"Object",{values:function(t){return i(t)}})},{40:40,86:86}],272:[function(t,n,r){"use strict";var e=t(40),i=t(30),o=t(46),u=t(103),c=t(91);e(e.P+e.R,"Promise",{finally:function(n){var r=u(this,i.Promise||o.Promise),t="function"==typeof n;return this.then(t?function(t){return c(r,n()).then(function(){return t})}:n,t?function(t){return c(r,n()).then(function(){throw t})}:n)}})},{103:103,30:30,40:40,46:46,91:91}],273:[function(t,n,r){"use strict";var e=t(40),i=t(108),o=t(124);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padEnd:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},{108:108,124:124,40:40}],274:[function(t,n,r){"use strict";var e=t(40),i=t(108),o=t(124);e(e.P+e.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(o),"String",{padStart:function(t){return i(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},{108:108,124:124,40:40}],275:[function(t,n,r){t(126)("asyncIterator")},{126:126}],276:[function(t,n,r){for(var e=t(140),i=t(83),o=t(94),u=t(46),c=t(48),f=t(64),a=t(128),s=a("iterator"),l=a("toStringTag"),h=f.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(v),g=0;g<p.length;g++){var y,d=p[g],x=v[d],m=u[d],b=m&&m.prototype;if(b&&(b[s]||c(b,s,h),b[l]||c(b,l,d),f[d]=h,x))for(y in e)b[y]||o(b,y,e[y],!0)}},{128:128,140:140,46:46,48:48,64:64,83:83,94:94}],277:[function(t,n,r){var e=t(40),i=t(112);e(e.G+e.B,{setImmediate:i.set,clearImmediate:i.clear})},{112:112,40:40}],278:[function(t,n,r){var e=t(46),i=t(40),o=t(124),u=[].slice,c=/MSIE .\./.test(o),f=function(i){return function(t,n){var r=2<arguments.length,e=!!r&&u.call(arguments,2);return i(r?function(){("function"==typeof t?t:Function(t)).apply(this,e)}:t,n)}};i(i.G+i.B+i.F*c,{setTimeout:f(e.setTimeout),setInterval:f(e.setInterval)})},{124:124,40:40,46:46}],279:[function(t,n,r){t(278),t(277),t(276),n.exports=t(30)},{276:276,277:277,278:278,30:30}],280:[function(t,N,n){!function(t){"use strict";function o(t,n,r,e){var o,u,c,f,i=n&&n.prototype instanceof h?n:h,a=Object.create(i.prototype),s=new p(e||[]);return a._invoke=(o=t,u=r,c=s,f=_,function(t,n){if(f===O)throw new Error("Generator is already running");if(f===F){if("throw"===t)throw n;return g()}for(c.method=t,c.arg=n;;){var r=c.delegate;if(r){var e=v(r,c);if(e){if(e===P)continue;return e}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(f===_)throw f=F,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);f=O;var i=l(o,u,c);if("normal"===i.type){if(f=c.done?F:E,i.arg===P)continue;return{value:i.arg,done:c.done}}"throw"===i.type&&(f=F,c.method="throw",c.arg=i.arg)}}),a}function l(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function h(){}function r(){}function n(){}function e(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function u(f){var n;this._invoke=function(r,e){function t(){return new Promise(function(t,n){!function n(t,r,e,i){var o=l(f[t],f,r);if("throw"!==o.type){var u=o.arg,c=u.value;return c&&"object"==typeof c&&y.call(c,"__await")?Promise.resolve(c.__await).then(function(t){n("next",t,e,i)},function(t){n("throw",t,e,i)}):Promise.resolve(c).then(function(t){u.value=t,e(u)},function(t){return n("throw",t,e,i)})}i(o.arg)}(r,e,t,n)})}return n=n?n.then(t,t):t()}}function v(t,n){var r=t.iterator[n.method];if(r===a){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=a,v(t,n),"throw"===n.method))return P;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return P}var e=l(r,t.iterator,n.arg);if("throw"===e.type)return n.method="throw",n.arg=e.arg,n.delegate=null,P;var i=e.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=a),n.delegate=null,P):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,P)}function i(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function c(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function p(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(i,this),this.reset(!0)}function f(n){if(n){var t=n[x];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,e=function t(){for(;++r<n.length;)if(y.call(n,r))return t.value=n[r],t.done=!1,t;return t.value=a,t.done=!0,t};return e.next=e}}return{next:g}}function g(){return{value:a,done:!0}}var a,s=Object.prototype,y=s.hasOwnProperty,d="function"==typeof Symbol?Symbol:{},x=d.iterator||"@@iterator",m=d.asyncIterator||"@@asyncIterator",b=d.toStringTag||"@@toStringTag",S="object"==typeof N,w=t.regeneratorRuntime;if(w)S&&(N.exports=w);else{(w=t.regeneratorRuntime=S?N.exports:{}).wrap=o;var _="suspendedStart",E="suspendedYield",O="executing",F="completed",P={},M={};M[x]=function(){return this};var A=Object.getPrototypeOf,I=A&&A(A(f([])));I&&I!==s&&y.call(I,x)&&(M=I);var j=n.prototype=h.prototype=Object.create(M);r.prototype=j.constructor=n,n.constructor=r,n[b]=r.displayName="GeneratorFunction",w.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===r||"GeneratorFunction"===(n.displayName||n.name))},w.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,n):(t.__proto__=n,b in t||(t[b]="GeneratorFunction")),t.prototype=Object.create(j),t},w.awrap=function(t){return{__await:t}},e(u.prototype),u.prototype[m]=function(){return this},w.AsyncIterator=u,w.async=function(t,n,r,e){var i=new u(o(t,n,r,e));return w.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},e(j),j[b]="Generator",j[x]=function(){return this},j.toString=function(){return"[object Generator]"},w.keys=function(r){var e=[];for(var t in r)e.push(t);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},w.values=f,p.prototype={constructor:p,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(c),!t)for(var n in this)"t"===n.charAt(0)&&y.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=a)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(r){function t(t,n){return o.type="throw",o.arg=r,e.next=t,n&&(e.method="next",e.arg=a),!!n}if(this.done)throw r;for(var e=this,n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var u=y.call(i,"catchLoc"),c=y.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;0<=r;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&y.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var i=e;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=n,i?(this.method="next",this.next=i.finallyLoc,P):this.complete(o)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),P},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),c(r),P}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var i=e.arg;c(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:f(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=a),P}}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},{}]},{},[1]);
IndependentFunc={player:""},document.onreadystatechange=function(){"complete"!=document.readyState&&"loaded"!=document.readyState||(document.getElementById("shadow").style.display="none")},IndependentFunc.applicationCache_progress=function(){window.applicationCache.addEventListener("progress",function(e){console.log(e);var n=e.loaded/e.total*100;Utils.progressModal(MSG.loading_cache,n),e.loaded/e.total==1&&window.location.reload()}),navigator.onLine&&window.applicationCache.status==window.applicationCache.UPDATEREADY&&window.applicationCache.update()},IndependentFunc.createYouTubeScript=function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)},IndependentFunc.onSetSize=function(e,n){IndependentFunc.player.setSize(e,n)},IndependentFunc.init=function(){},window.addEventListener("load",IndependentFunc.init);
Utils={messageModal:function(o){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2e3;return new Promise(function(s,e){0==o?($("#message").modal("hide"),s()):($(".msg_modal").html(o),$("#message").modal("show"),0<d?setTimeout(function(){$("#message").modal("hide"),s()},d):s())})},progressModal:function(s,e){-1==e?$("#progressModal").modal("hide"):($("#progressModal").modal("show"),$(".progress_modal h1").html(s),$(".progress_modal .progress-bar").css("width",e+"%"))},delay:function(o){return new Promise(function(s,e){setTimeout(function(){s(!0)},o)})},debugModal:function(s){$("."+s).hasClass("debug")?($("."+s).hide(),$("."+s).removeClass("debug")):($("."+s).show(),$("."+s).addClass("debug"))}};
var VERSION="v0.0.606",MSG={},count=window.location.href.lastIndexOf("/");if(window.navigator.onLine)var CORE_DIR=window.location.href.substr(0,count+1);else CORE_DIR="./";var iot_token="",BUILD_IN_PACKAGES={basic:"basic",music:"music",time:"time",remote:"remote",iot:"iot"};function isEmptyObject(o){for(var r in o)return!1;return!0}function firstUpperCase(o){return o.slice(0,1).toUpperCase()+o.substring(1)}function createIotToken(){for(var o=[],r=0;r<16;r++){var t=Math.random();57<(t=Math.round(61*t+48))&&(t+=7),90<t&&(t+=6),t=String.fromCharCode(t),o.push(t)}iot_token=o.join("")}function getStringParamFromUrl(o,r){var t=location.search.match(new RegExp("[?&]"+o+"=([^&]+)"));return t?decodeURIComponent(t[1].replace(/\+/g,"%20")):r}var Local={en:{},"zh-hans":{}};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _asyncToGenerator(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function i(e){asyncGeneratorStep(n,t,r,i,a,"next",e)}function a(e){asyncGeneratorStep(n,t,r,i,a,"throw",e)}i(void 0)})}}WebBLE={},WebBLE.bluetooth=navigator.bluetooth,WebBLE._Device="",WebBLE._Server="",WebBLE._Service="",WebBLE._Characteristic="",WebBLE._ServiceUuid=65520,WebBLE._CharactUuid=65521,WebBLE.isConnected=!1,WebBLE.toSend="",WebBLE.dataBuffer="",WebBLE.dataLength=0,WebBLE.bufferSize=20,WebBLE.downloadDelay=100,WebBLE.writeReady=!0,WebBLE.deviceInfo={},WebBLE.onDisconnect=function(e){},WebBLE.progress=function(e){},WebBLE.progressValue=0,WebBLE.airPrint_string="",WebBLE.downloadStatus=!1,WebBLE.valueListeners={logListener:function(){},remoteListener:function(){},downloadListener:function(){},infoListener:function(){}},WebBLE._textEncoder=function(e){return e=new TextEncoder("utf-8").encode(e)},WebBLE._textDecoder=function(e){return e=new TextDecoder("utf-8").decode(e)},WebBLE.DEBUG=!0,WebBLE.debug=function(e){WebBLE.DEBUG&&console.log(e)},WebBLE.init=function(){},WebBLE._request=function(){return WebBLE.debug("WebBLE._request"),WebBLE.debug(WebBLE.bluetooth),new Promise(function(e,t){WebBLE.bluetooth.requestDevice({filters:[{services:[WebBLE._ServiceUuid]}]}).then(e,t)})},WebBLE._gattConnect=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return WebBLE.debug("WebBLE._gattConnect"),e.prev=1,e.next=4,WebBLE._Device.gatt.connect();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,this,[[1,7]])})),WebBLE._getService=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return WebBLE.debug("WebBLE._getService"),e.prev=1,e.next=4,WebBLE._Server.getPrimaryService(WebBLE._ServiceUuid);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),e.t0;case 10:case"end":return e.stop()}},e,this,[[1,7]])})),WebBLE._getCharacteristic=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(WebBLE.debug("WebBLE._get_Characteristic"),e.prev=1,null==WebBLE._Service.getCharacteristics)return e.next=5,WebBLE._Service.getCharacteristics(WebBLE._CharactUuid);e.next=9;break;case 5:t=e.sent,r=t[0],e.next=12;break;case 9:return e.next=11,WebBLE._Service.getCharacteristic(WebBLE._CharactUuid);case 11:r=e.sent;case 12:return e.abrupt("return",r);case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}},e,this,[[1,15]])})),WebBLE.connect=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=function(e){}),e.prev=1,t(5),e.next=5,WebBLE._request();case 5:return WebBLE._Device=e.sent,t(25),e.next=9,WebBLE._gattConnect();case 9:return WebBLE._Server=e.sent,t(45),e.next=13,WebBLE._getService();case 13:return WebBLE._Service=e.sent,t(65),e.next=17,WebBLE._getCharacteristic();case 17:return WebBLE._Characteristic=e.sent,t(85),WebBLE.writeReady=!0,WebBLE.isConnected=!0,WebBLE.initValueListener(),WebBLE._Device.ongattserverdisconnected=function(){WebBLE.isConnected=!1,WebBLE.onDisconnect()},t(100),e.next=26,Utils.delay(200);case 26:return e.abrupt("return","Success");case 29:throw e.prev=29,e.t0=e.catch(1),e.t0;case 32:case"end":return e.stop()}},e,this,[[1,29]])}));return function(e){return t.apply(this,arguments)}}(),WebBLE.disconnect=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return WebBLE.debug("WebBLE._disconnect"),WebBLE._Device.gatt.disconnect(),WebBLE.isConnected=!1,WebBLE.writeReady=!0,WebBLE.debug("disconnected"),e.abrupt("return","disconnected");case 6:case"end":return e.stop()}},e,this)})),WebBLE.openListener=function(){WebBLE.debug("WebBLE.openListener");var e=WebBLE._Characteristic.startNotifications();return e.then(function(){WebBLE.debug("监听开启")}),e},WebBLE.reflashValueListener=function(){},WebBLE.initValueListener=function(){WebBLE.debug("WebBLE.initValueListener"),WebBLE._Characteristic.listeners&&(WebBLE._Characteristic.listeners.characteristicvaluechanged=[]),WebBLE._Characteristic.addEventListener("characteristicvaluechanged",function(e){var t=e.target.value;t=WebBLE._textDecoder(t),WebBLE.debug("监听到了改变事件"),WebBLE.debug(t),WebBLE.valueListeners.downloadListener(t),WebBLE.valueListeners.logListener(t),WebBLE.valueListeners.remoteListener(t),WebBLE.valueListeners.infoListener(t)})},WebBLE.closeListener=function(){return WebBLE.debug("WebBLE.closeListener"),WebBLE._Characteristic.stopNotifications().then(function(){WebBLE.debug("监听关闭")})},WebBLE.writeValue=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=0<r.length&&void 0!==r[0]?r[0]:0,e.prev=1,WebBLE.writeReady)return WebBLE.writeReady=!1,WebBLE.debug("WebBLE.writeValue: "+WebBLE.toSend),value=WebBLE._textEncoder(WebBLE.toSend),e.next=8,WebBLE._Characteristic.writeValue(value);e.next=14;break;case 8:return e.next=10,Utils.delay(t);case 10:return WebBLE.writeReady=!0,e.abrupt("return","Success");case 14:throw"Bluetooth is not ready";case 15:e.next=20;break;case 17:throw e.prev=17,e.t0=e.catch(1),e.t0;case 20:case"end":return e.stop()}},e,this,[[1,17]])})),WebBLE.writeValueRecursively=function(){return new Promise(function(e,t){0==WebBLE.dataBuffer.length&&t("dataBuffer is empty"),WebBLE.toSend=WebBLE.dataBuffer.slice(0,WebBLE.bufferSize),WebBLE.dataBuffer=WebBLE.dataBuffer.slice(WebBLE.bufferSize,WebBLE.dataBuffer.length),setTimeout(function(){WebBLE.writeValue().then(function(){WebBLE.progressValue+=WebBLE.bufferSize/WebBLE.dataLength*90,WebBLE.progress(Math.round(WebBLE.progressValue)),e("Success")},t)},WebBLE.downloadDelay)})},WebBLE.readValue=function(){WebBLE.debug("WebBLE.readValue"),WebBLE._Characteristic.readValue().then(function(e){WebBLE.debug(WebBLE._textDecoder(e))}),WebBLE.debug(WebBLE._Characteristic.readValue())},WebBLE.makeHeadTail=function(e,t,r){return"*$"+[e,t,r].join("#")+"$*"},WebBLE.pack=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n="";if(n=WebBLE.makeHeadTail(e,"H",t.length)+t+WebBLE.makeHeadTail(e,"T",t.length),0!=r)for(;n.length<r;)n+="0";return n},WebBLE.sendCode=function(n,i,a){return new Promise(function(e,t){function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,WebBLE.debug(WebBLE.dataBuffer.length);case 2:if(0<WebBLE.dataBuffer.length)return WebBLE.debug(WebBLE.dataBuffer.length),e.next=6,WebBLE.writeValueRecursively();e.next=9;break;case 6:e.sent,e.next=2;break;case 9:return e.abrupt("return",!0);case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,this,[[0,12]])}))).apply(this,arguments)}WebBLE.progress=a,WebBLE.progressValue=0,WebBLE.progress(WebBLE.progressValue),WebBLE.debug("sendCommand"),WebBLE.dataBuffer=WebBLE.pack(n,i),WebBLE.dataLength=WebBLE.dataBuffer.length,WebBLE.progressValue=5,WebBLE.progress(WebBLE.progressValue),function(){return r.apply(this,arguments)}().then(function(){e(!0)})})},WebBLE.compiler=function(r,n){function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(10),e.next=3,EzBlock.delay(1e3);case 3:return n(20),e.next=6,Compiler.compiler(r,n);case 6:return t=e.sent,n(90),e.next=10,EzBlock.delay(500);case 10:return n(100),e.next=13,EzBlock.delay(500);case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}return function(){return e.apply(this,arguments)}()},WebBLE._download=function(n,i){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,t){};return new Promise(function(e,t){function r(){return(r=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a("compiling",0),e.next=3,WebBLE.compiler(i,function(e){a("compiling",e)});case 3:return compiled=e.sent,a("compiling",-1),e.next=7,EzBlock.delay(1500);case 7:return a("downloading",0),WebBLE.debug("compiled script:"),WebBLE.debug(compiled),e.prev=10,e.next=13,WebBLE.sendCode(n,compiled,function(e){a("downloading",e)});case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(10),e.t0;case 18:WebBLE.valueListeners.downloadListener=function(e){WebBLE.debug(e),WebBLE.debug(_typeof(e)),"1"==e&&(WebBLE.downloadStatus=!0)},t=0;case 20:if(!(t<10)){e.next=35;break}if(WebBLE.downloadStatus)return WebBLE.downloadStatus=!1,a("downloading",100),a("downloading",-1),WebBLE.valueListeners.downloadListener=function(e){},WebBLE.progress=function(e){},WebBLE.progressValue=0,WebBLE.debug("download success!"),e.abrupt("return","success");e.next=30;break;case 30:return e.next=32,Utils.delay(1e3);case 32:t++,e.next=20;break;case 35:throw a("downloading",100),a("downloading",-1),WebBLE.debug("timeout"),WebBLE.valueListeners.downloadListener=function(e){},WebBLE.progress=function(e){},WebBLE.progressValue=0,"timeout";case 42:case"end":return e.stop()}},e,this,[[10,15]])}))).apply(this,arguments)}(function(){return r.apply(this,arguments)})().then(e,t)})},WebBLE.download=function(r,n){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(e,t){};return new Promise(function(e,t){WebBLE.toSend="*$FLASH$*",WebBLE.writeValue().then(function(){WebBLE._download(r,n,i).then(e,t)},t)})},WebBLE.remote={},WebBLE.remote.send=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,WebBLE.progress=function(e){},WebBLE.progressValue=0,r=t,WebBLE.debug(r),r=WebBLE.pack("REMOTE",r,50),WebBLE.debug(r),WebBLE.toSend=r,e.next=10,WebBLE.writeValue(100);case 10:return WebBLE.valueListeners.remoteListener=function(e){if(WebBLE.debug(e),WebBLE.debug(_typeof(e)),"1"==e)return WebBLE.debug("receive success!"),"Success";throw WebBLE.debug("receive error!"),"Error"},e.next=13,Utils.delay(500);case 13:throw WebBLE.valueListeners.remoteListener=function(e){},WebBLE.debug("receive timeout!"),"Failed";case 18:throw e.prev=18,e.t0=e.catch(0),e.t0;case 21:case"end":return e.stop()}},e,this,[[0,18]])}));return function(e){return t.apply(this,arguments)}}(),WebBLE.airPrintOn=function(){WebBLE.debug("WebBLE.airPrintOn执行了"),WebBLE.isConnected&&(WebBLE.valueListeners.logListener=WebBLE.airPrint,WebBLE.reflashValueListener())},WebBLE.airPrintOff=function(){WebBLE.isConnected&&(WebBLE.valueListeners.logListener=function(e){},WebBLE.reflashValueListener())},WebBLE.airPrint=function(e){e.startsWith("[ERROR] ")||e.startsWith("[DEBUG] ")?WebBLE.airPrint_string=e:""!==WebBLE.airPrint_string&&(WebBLE.airPrint_string+=e),WebBLE.airPrint_string.endsWith(" [ERROR]")?(WebBLE.airPrint_string=WebBLE.airPrint_string.slice(8,-8),$(".getMessage").append('<div style="padding-left:10px; color:red width: 100%; word-wrap: break-word;">'+WebBLE.airPrint_string+"</div>"),WebBLE.airPrint_string=""):WebBLE.airPrint_string.endsWith(" [DEBUG]")&&(WebBLE.airPrint_string=WebBLE.airPrint_string.slice(8,-8),$(".getMessage").append('<div style="padding-left:10px; width: 100%; word-wrap: break-word;">'+WebBLE.airPrint_string+"</div>"),WebBLE.airPrint_string=""),$(".getMessage").scrollTop($(".getMessage")[0].scrollHeight),$(".remoteGetmessage").scrollTop($(".remoteGetmessage")[0].scrollHeight),$(".iotGetmessage").scrollTop($(".iotGetmessage")[0].scrollHeight)},WebBLE.debugClear=function(){$(".getMessage").html("")},WebBLE.expand=function(){$(".getMessage").toggle(),$(".toggleExpand img").toggle()},WebBLE.getInfo=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=function(e){Utils.progressModal("".concat(MSG.getting_infomation,"..."),e)}),t(0),WebBLE.info_string="",WebBLE.progress=function(e){},WebBLE.progressValue=0,r=WebBLE.makeHeadTail("INFO","H",0),n=WebBLE.makeHeadTail("INFO","T",0),e.prev=7,e.next=10,Utils.delay(200);case 10:return WebBLE.toSend="*$FLASH$*",WebBLE.debug("WebBLE.toSend: "+WebBLE.toSend),t(10),e.next=15,WebBLE.writeValue();case 15:return e.next=17,Utils.delay(2500);case 17:return t(30),WebBLE.toSend=r,WebBLE.debug("WebBLE.toSend: "+WebBLE.toSend),e.next=22,WebBLE.writeValue(100);case 22:return WebBLE.toSend=n,WebBLE.debug("WebBLE.toSend: "+WebBLE.toSend),e.next=26,WebBLE.writeValue(100);case 26:return e.next=28,Utils.delay(200);case 28:WebBLE.getInfoStatus=!1,WebBLE.valueListeners.infoListener=function(e){if(e.startsWith("[INFO] ")?WebBLE.info_string=e:""!==WebBLE.info_string&&(WebBLE.info_string+=e),WebBLE.info_string.endsWith(" [INFO]")){for(var t=WebBLE.info_string.slice(7,-7);0<t.indexOf("'");)t=t.replace("'",'"');t=JSON.parse(t);window[Choice.current.device];WebBLE.deviceInfo=t,WebBLE.info_string="",WebBLE.getInfoStatus=!0}},i=0;case 31:if(!(i<10)){e.next=46;break}if(WebBLE.getInfoStatus)return WebBLE.getInfoStatus=!1,WebBLE.valueListeners.infoListener=function(e){},WebBLE.debug("received!"),t(100),e.next=39,Utils.delay(200);e.next=41;break;case 39:return t(-1),e.abrupt("return",WebBLE.deviceInfo);case 41:return e.next=43,Utils.delay(1e3);case 43:i++,e.next=31;break;case 46:throw t(-1),"Timeout";case 50:throw e.prev=50,e.t0=e.catch(7),t(-1),e.t0;case 54:case"end":return e.stop()}},e,this,[[7,50]])}));return function(e){return t.apply(this,arguments)}}();
Choice={current:{device:"",platform:"",kits:[],modules:[],functions:[],libs:[],info:{},product:""},_current:{}};
Distributor={sunfounder:{name:"SunFounder",Category:{Boards:["RaspberryPi","Leaf"],iKits:["RobotHat","RobotShield","SensorKit","Modules"],Kits:["SensorKitForPi","SensorKitForLeaf"],Robots:["Sloth","PiMobile"]}}};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){var d=[],h=C.document,c=d.slice,g=d.concat,s=d.push,i=d.indexOf,n={},t=n.toString,m=n.hasOwnProperty,v={},r="1.12.4",E=function e(t,n){return new e.fn.init(t,n)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,a=/^-ms-/,u=/-([\da-z])/gi,l=function(e,t){return t.toUpperCase()};function f(e){var t=!!e&&"length"in e&&e.length,n=E.type(e);return"function"!==n&&!E.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:r,constructor:E,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:d.sort,splice:d.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==_typeof(a)||E.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(i=arguments[s]))for(r in i)e=a[r],a!==(n=i[r])&&(l&&n&&(E.isPlainObject(n)||(t=E.isArray(n)))?(o=t?(t=!1,e&&E.isArray(e)?e:[]):e&&E.isPlainObject(e)?e:{},a[r]=E.extend(l,o,n)):void 0!==n&&(a[r]=n));return a},E.extend({expando:"jQuery"+(r+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===E.type(e)},isArray:Array.isArray||function(e){return"array"===E.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!E.isArray(e)&&0<=t-parseFloat(t)+1},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==E.type(e)||e.nodeType||E.isWindow(e))return!1;try{if(e.constructor&&!m.call(e,"constructor")&&!m.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(!v.ownFirst)for(t in e)return m.call(e,t);for(t in e);return void 0===t||m.call(e,t)},type:function(e){return null==e?e+"":"object"==_typeof(e)||"function"==typeof e?n[t.call(e)]||"object":_typeof(e)},globalEval:function(e){e&&E.trim(e)&&(C.execScript||function(e){C.eval.call(C,e)})(e)},camelCase:function(e){return e.replace(a,"ms-").replace(u,l)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(f(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(f(Object(e))?E.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(i)return i.call(t,e,n);for(r=t.length,n=n?n<0?Math.max(0,r+n):n:0;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;)e[i++]=t[r++];if(n!=n)for(;void 0!==t[r];)e[i++]=t[r++];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(f(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(i=e[t],t=e,e=i),E.isFunction(e)?(n=c.call(arguments,2),(r=function(){return e.apply(t||this,n.concat(c.call(arguments)))}).guid=e.guid=e.guid||E.guid++,r):void 0},now:function(){return+new Date},support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=d[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){var e,h,b,o,i,g,d,m,w,u,l,T,C,a,E,v,s,c,y,N="sizzle"+1*new Date,x=n.document,k=0,r=0,f=ie(),p=ie(),S=ie(),A=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],j=t.pop,L=t.push,H=t.push,q=t.slice,_=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R="\\["+M+"*("+O+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+M+"*\\]",P=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),W=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),I=new RegExp("^"+M+"*,"+M+"*"),$=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(P),U=new RegExp("^"+O+"$"),V={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,G=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),te=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ne=function(){T()};try{H.apply(t=q.call(x.childNodes),x.childNodes),t[x.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,q.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function re(e,t,n,r){var i,o,a,s,u,l,c,d,f=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!r&&((t?t.ownerDocument||t:x)!==C&&T(t),t=t||C,E)){if(11!==p&&(l=Q.exec(e)))if(i=l[1]){if(9===p){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(t,a)&&a.id===i)return n.push(a),n}else{if(l[2])return H.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&h.getElementsByClassName&&t.getElementsByClassName)return H.apply(n,t.getElementsByClassName(i)),n}if(h.qsa&&!S[e+" "]&&(!v||!v.test(e))){if(1!==p)f=t,d=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(Z,"\\$&"):t.setAttribute("id",s=N),o=(c=g(e)).length,u=U.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=u+" "+he(c[o]);d=c.join(","),f=K.test(e)&&fe(t.parentNode)||t}if(d)try{return H.apply(n,f.querySelectorAll(d)),n}catch(e){}finally{s===N&&t.removeAttribute("id")}}}return m(e.replace(W,"$1"),t,n,r)}function ie(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function oe(e){return e[N]=!0,e}function ae(e){var t=C.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ce(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function de(a){return oe(function(o){return o=+o,oe(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=re.support={},i=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=re.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:x;return r!==C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ne,!1):n.attachEvent&&n.attachEvent("onunload",ne)),h.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=ae(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=G.test(C.getElementsByClassName),h.getById=ae(function(e){return a.appendChild(e).id=N,!C.getElementsByName||!C.getElementsByName(N).length}),h.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var n=e.replace(ee,te);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),b.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},b.find.CLASS=h.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&E?t.getElementsByClassName(e):void 0},s=[],v=[],(h.qsa=G.test(C.querySelectorAll))&&(ae(function(e){a.appendChild(e).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+N+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+N+"+*").length||v.push(".#.+[+~]")}),ae(function(e){var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(h.matchesSelector=G.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ae(function(e){h.disconnectedMatch=c.call(e,"div"),c.call(e,"[s!='']:x"),s.push("!=",P)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=G.test(a.compareDocumentPosition),y=t||G.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===x&&y(x,e)?-1:t===C||t.ownerDocument===x&&y(x,t)?1:u?_(u,e)-_(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?_(u,e)-_(u,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?ue(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0}),C},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),t=t.replace(z,"='$1']"),h.matchesSelector&&E&&!S[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<re(t,C,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:h.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!h.detectDuplicates,u=!h.sortStable&&e.slice(0),e.sort(A),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=re.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=re.selectors={cacheLength:50,createPseudo:oe,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=f[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&f(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=re.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,m){var v="nth"!==h.slice(0,3),y="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!==y?"nextSibling":"previousSibling",c=e.parentNode,d=x&&e.nodeName.toLowerCase(),f=!n&&!x,p=!1;if(c){if(v){for(;l;){for(a=e;a=a[l];)if(x?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&f){for(p=(s=(r=(i=(o=(a=c)[N]||(a[N]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];a=++s&&a&&a[l]||(p=s=0)||u.pop();)if(1===a.nodeType&&++p&&a===e){i[h]=[k,s,p];break}}else if(f&&(p=s=(r=(i=(o=(a=e)[N]||(a[N]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===p)for(;(a=++s&&a&&a[l]||(p=s=0)||u.pop())&&((x?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++p||(f&&((i=(o=a[N]||(a[N]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,p]),a!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return a[N]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=_(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:oe(function(e){var r=[],i=[],s=d(e.replace(W,"$1"));return s[N]?oe(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:oe(function(t){return function(e){return 0<re(t,e).length}}),contains:oe(function(t){return t=t.replace(ee,te),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:oe(function(n){return U.test(n||"")||re.error("unsupported lang: "+n),n=n.replace(ee,te).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:de(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=le(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=ce(e);function pe(){}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(s,e,t){var u=e.dir,l=t&&"parentNode"===u,c=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||l)return s(e,t,n)}:function(e,t,n){var r,i,o,a=[k,c];if(n){for(;e=e[u];)if((1===e.nodeType||l)&&s(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||l){if((r=(i=(o=e[N]||(e[N]={}))[e.uniqueID]||(o[e.uniqueID]={}))[u])&&r[0]===k&&r[1]===c)return a[2]=r[2];if((i[u]=a)[2]=s(e,t,n))return!0}}}function me(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function ve(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function ye(p,h,g,m,v,e){return m&&!m[N]&&(m=ye(m)),v&&!v[N]&&(v=ye(v,e)),oe(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)re(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),d=!p||!e&&h?c:ve(c,s,p,n,r),f=g?v||(e?p:l||m)?[]:t:d;if(g&&g(d,f,n,r),m)for(i=ve(f,u),m(i,[],n,r),o=i.length;o--;)(a=i[o])&&(f[u[o]]=!(d[u[o]]=a));if(e){if(v||p){if(v){for(i=[],o=f.length;o--;)(a=f[o])&&i.push(d[o]=a);v(null,f=[],i,r)}for(o=f.length;o--;)(a=f[o])&&-1<(i=v?_(e,a):s[o])&&(e[i]=!(t[i]=a))}}else f=ve(f===t?f.splice(l,f.length):f),v?v(null,t,f,r):H.apply(t,f)})}function xe(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=ge(function(e){return e===i},a,!0),l=ge(function(e){return-1<_(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[ge(me(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[N]){for(n=++s;n<r&&!b.relative[e[n].type];n++);return ye(1<s&&me(c),1<s&&he(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(W,"$1"),t,s<n&&xe(e.slice(s,n)),n<r&&xe(e=e.slice(n)),n<r&&he(e))}c.push(t)}return me(c)}return pe.prototype=b.filters=b.pseudos,b.setFilters=new pe,g=re.tokenize=function(e,t){var n,r,i,o,a,s,u,l=p[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=b.preFilter;a;){for(o in n&&!(r=I.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(W," ")}),a=a.slice(n.length)),b.filter)!(r=V[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):p(e,s).slice(0)},d=re.compile=function(e,t){var n,m,v,y,x,r,i=[],o=[],a=S[e+" "];if(!a){for(t||(t=g(e)),n=t.length;n--;)(a=xe(t[n]))[N]?i.push(a):o.push(a);(a=S(e,(m=o,y=0<(v=i).length,x=0<m.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],d=[],f=w,p=e||x&&b.find.TAG("*",i),h=k+=null==f?1:Math.random()||.1,g=p.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=p[l]);l++){if(x&&o){for(a=0,t||o.ownerDocument===C||(T(o),n=!E);s=m[a++];)if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}y&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,y&&l!==u){for(a=0;s=v[a++];)s(c,d,t,n);if(e){if(0<u)for(;l--;)c[l]||d[l]||(d[l]=j.call(r));d=ve(d)}H.apply(r,d),i&&!e&&0<d.length&&1<u+v.length&&re.uniqueSort(r)}return i&&(k=h,w=f),c},y?oe(r):r))).selector=e}return a},m=re.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&g(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&h.getById&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(ee,te),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=V.needsContext.test(e)?0:o.length;i--&&(a=o[i],!b.relative[s=a.type]);)if((u=b.find[s])&&(r=u(a.matches[0].replace(ee,te),K.test(o[0].type)&&fe(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&he(o)))return H.apply(n,r),n;break}}return(l||d(e,c))(r,t,!E,n,!t||K.test(e)&&fe(t.parentNode)||t),n},h.sortStable=N.split("").sort(A).join("")===N,h.detectDuplicates=!!l,T(),h.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(C.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||se("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||se("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||se(F,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),re}(C);E.find=p,E.expr=p.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=p.uniqueSort,E.text=p.getText,E.isXMLDoc=p.isXML,E.contains=p.contains;var y=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},x=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},b=E.expr.match.needsContext,w=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,T=/^.[^:#\[\.,]*$/;function N(e,n,r){if(E.isFunction(n))return E.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return E.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(T.test(n))return E.filter(n,e,r);n=E.filter(n,e)}return E.grep(e,function(e){return-1<E.inArray(e,n)!==r})}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<i;t++)if(E.contains(r[t],this))return!0}));for(t=0;t<i;t++)E.find(e,r[t],n);return(n=this.pushStack(1<i?E.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(N(this,e||[],!1))},not:function(e){return this.pushStack(N(this,e||[],!0))},is:function(e){return!!N(this,"string"==typeof e&&b.test(e)?E(e):e||[],!1).length}});var k,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):E.isFunction(e)?void 0!==n.ready?n.ready(e):e(E):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),E.makeArray(e,this));if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:h,!0)),w.test(r[1])&&E.isPlainObject(t))for(r in t)E.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if((i=h.getElementById(r[2]))&&i.parentNode){if(i.id!==r[2])return k.find(e);this.length=1,this[0]=i}return this.context=h,this.selector=e,this}).prototype=E.fn,k=E(h);var A=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t,n=E(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(E.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=b.test(e)||"string"!=typeof e?E(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?E.inArray(this[0],E(e)):E.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return y(e,"parentNode")},parentsUntil:function(e,t,n){return y(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return y(e,"nextSibling")},prevAll:function(e){return y(e,"previousSibling")},nextUntil:function(e,t,n){return y(e,"nextSibling",n)},prevUntil:function(e,t,n){return y(e,"previousSibling",n)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return E.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:E.merge([],e.childNodes)}},function(r,i){E.fn[r]=function(e,t){var n=E.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(D[r]||(n=E.uniqueSort(n)),A.test(r)&&(n=n.reverse())),this.pushStack(n)}});var L,H,q=/\S+/g;function _(){h.addEventListener?(h.removeEventListener("DOMContentLoaded",F),C.removeEventListener("load",F)):(h.detachEvent("onreadystatechange",F),C.detachEvent("onload",F))}function F(){(h.addEventListener||"load"===C.event.type||"complete"===h.readyState)&&(_(),E.ready())}for(H in E.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},E.each(e.match(q)||[],function(e,t){n[t]=!0}),n):E.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l<s.length;)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1);r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},d={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){E.each(e,function(e,t){E.isFunction(t)?r.unique&&d.has(t)||s.push(t):t&&t.length&&"string"!==E.type(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,s,n));)s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<E.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=!0,t||d.disable(),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},E.extend({Deferred:function(e){var o=[["resolve","done",E.Callbacks("once memory"),"resolved"],["reject","fail",E.Callbacks("once memory"),"rejected"],["notify","progress",E.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return E.Deferred(function(r){E.each(o,function(e,t){var n=E.isFunction(i[e])&&i[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&E.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this===a?r.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?E.extend(e,a):a}},s={};return a.pipe=a.then,E.each(o,function(e,t){var n=t[2],r=t[3];a[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var i,t,n,r=0,o=c.call(arguments),a=o.length,s=1!==a||e&&E.isFunction(e.promise)?a:0,u=1===s?e:E.Deferred(),l=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?c.call(arguments):e,r===i?u.notifyWith(n,r):--s||u.resolveWith(n,r)}};if(1<a)for(i=new Array(a),t=new Array(a),n=new Array(a);r<a;r++)o[r]&&E.isFunction(o[r].promise)?o[r].promise().progress(l(r,t,i)).done(l(r,n,o)).fail(u.reject):--s;return s||u.resolveWith(n,o),u.promise()}}),E.fn.ready=function(e){return E.ready.promise().done(e),this},E.extend({isReady:!1,readyWait:1,holdReady:function(e){e?E.readyWait++:E.ready(!0)},ready:function(e){(!0===e?--E.readyWait:E.isReady)||((E.isReady=!0)!==e&&0<--E.readyWait||(L.resolveWith(h,[E]),E.fn.triggerHandler&&(E(h).triggerHandler("ready"),E(h).off("ready"))))}}),E.ready.promise=function(e){if(!L)if(L=E.Deferred(),"complete"===h.readyState||"loading"!==h.readyState&&!h.documentElement.doScroll)C.setTimeout(E.ready);else if(h.addEventListener)h.addEventListener("DOMContentLoaded",F),C.addEventListener("load",F);else{h.attachEvent("onreadystatechange",F),C.attachEvent("onload",F);var n=!1;try{n=null==C.frameElement&&h.documentElement}catch(e){}n&&n.doScroll&&function t(){if(!E.isReady){try{n.doScroll("left")}catch(e){return C.setTimeout(t,50)}_(),E.ready()}}()}return L.promise(e)},E.ready.promise(),E(v))break;v.ownFirst="0"===H,v.inlineBlockNeedsLayout=!1,E(function(){var e,t,n,r;(n=h.getElementsByTagName("body")[0])&&n.style&&(t=h.createElement("div"),(r=h.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(r).appendChild(t),void 0!==t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",v.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(r))}),function(){var e=h.createElement("div");v.deleteExpando=!0;try{delete e.test}catch(e){v.deleteExpando=!1}e=null}();var M,O=function(e){var t=E.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return(1===n||9===n)&&(!t||!0!==t&&e.getAttribute("classid")===t)},R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,P=/([A-Z])/g;function B(e,t,n){if(void 0===n&&1===e.nodeType){var r="data-"+t.replace(P,"-$1").toLowerCase();if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?E.parseJSON(n):n)}catch(e){}E.data(e,t,n)}else n=void 0}return n}function W(e){var t;for(t in e)if(("data"!==t||!E.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function I(e,t,n,r){if(O(e)){var i,o,a=E.expando,s=e.nodeType,u=s?E.cache:e,l=s?e[a]:e[a]&&a;if(l&&u[l]&&(r||u[l].data)||void 0!==n||"string"!=typeof t)return l||(l=s?e[a]=d.pop()||E.guid++:a),u[l]||(u[l]=s?{}:{toJSON:E.noop}),"object"!=_typeof(t)&&"function"!=typeof t||(r?u[l]=E.extend(u[l],t):u[l].data=E.extend(u[l].data,t)),o=u[l],r||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[E.camelCase(t)]=n),"string"==typeof t?null==(i=o[t])&&(i=o[E.camelCase(t)]):i=o,i}}function $(e,t,n){if(O(e)){var r,i,o=e.nodeType,a=o?E.cache:e,s=o?e[E.expando]:E.expando;if(a[s]){if(t&&(r=n?a[s]:a[s].data)){i=(t=E.isArray(t)?t.concat(E.map(t,E.camelCase)):t in r?[t]:(t=E.camelCase(t))in r?[t]:t.split(" ")).length;for(;i--;)delete r[t[i]];if(n?!W(r):!E.isEmptyObject(r))return}(n||(delete a[s].data,W(a[s])))&&(o?E.cleanData([e],!0):v.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}E.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?E.cache[e[E.expando]]:e[E.expando])&&!W(e)},data:function(e,t,n){return I(e,t,n)},removeData:function(e,t){return $(e,t)},_data:function(e,t,n){return I(e,t,n,!0)},_removeData:function(e,t){return $(e,t,!0)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0!==e)return"object"==_typeof(e)?this.each(function(){E.data(this,e)}):1<arguments.length?this.each(function(){E.data(this,e,t)}):o?B(o,e,E.data(o,e)):void 0;if(this.length&&(i=E.data(o),1===o.nodeType&&!E._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(0===(r=a[n].name).indexOf("data-")&&B(o,r=E.camelCase(r.slice(5)),i[r]));E._data(o,"parsedAttrs",!0)}return i},removeData:function(e){return this.each(function(){E.removeData(this,e)})}}),E.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=E._data(e,t),n&&(!r||E.isArray(n)?r=E._data(e,t,E.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){E.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return E._data(e,n)||E._data(e,n,{empty:E.Callbacks("once memory").add(function(){E._removeData(e,t+"queue"),E._removeData(e,n)})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=E._data(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}}),v.shrinkWrapBlocks=function(){return null!=M?M:(M=!1,(t=h.getElementsByTagName("body")[0])&&t.style?(e=h.createElement("div"),(n=h.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",t.appendChild(n).appendChild(e),void 0!==e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(h.createElement("div")).style.width="5px",M=3!==e.offsetWidth),t.removeChild(n),M):void 0);var e,t,n};var z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,X=new RegExp("^(?:([+-])=|)("+z+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(e,t){return e=t||e,"none"===E.css(e,"display")||!E.contains(e.ownerDocument,e)};function Y(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=(E.cssNumber[t]||"px"!==l&&+u)&&X.exec(E.css(e,t));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+u||1;c/=o=o||".5",E.style(e,t,c+l),o!==(o=s()/u)&&1!==o&&--a;);return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var J,G,Q,K=function e(t,n,r,i,o,a,s){var u=0,l=t.length,c=null==r;if("object"===E.type(r))for(u in o=!0,r)e(t,n,u,r[u],!0,a,s);else if(void 0!==i&&(o=!0,E.isFunction(i)||(s=!0),c&&(n=s?(n.call(t,i),null):(c=n,function(e,t,n){return c.call(E(e),n)})),n))for(;u<l;u++)n(t[u],r,s?i:i.call(t[u],u,n(t[u],r)));return o?t:c?n.call(t):l?n(t[0],r):a},Z=/^(?:checkbox|radio)$/i,ee=/<([\w:-]+)/,te=/^$|\/(?:java|ecma)script/i,ne=/^\s+/,re="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ie(e){var t=re.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}J=h.createElement("div"),G=h.createDocumentFragment(),Q=h.createElement("input"),J.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",v.leadingWhitespace=3===J.firstChild.nodeType,v.tbody=!J.getElementsByTagName("tbody").length,v.htmlSerialize=!!J.getElementsByTagName("link").length,v.html5Clone="<:nav></:nav>"!==h.createElement("nav").cloneNode(!0).outerHTML,Q.type="checkbox",Q.checked=!0,G.appendChild(Q),v.appendChecked=Q.checked,J.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!J.cloneNode(!0).lastChild.defaultValue,G.appendChild(J),(Q=h.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),J.appendChild(Q),v.checkClone=J.cloneNode(!0).cloneNode(!0).lastChild.checked,v.noCloneEvent=!!J.addEventListener,J[E.expando]=1,v.attributes=!J.getAttribute(E.expando);var oe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:v.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};function ae(e,t){var n,r,i=0,o=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(r=n[i]);i++)!t||E.nodeName(r,t)?o.push(r):E.merge(o,ae(r,t));return void 0===t||t&&E.nodeName(e,t)?E.merge([e],o):o}function se(e,t){for(var n,r=0;null!=(n=e[r]);r++)E._data(n,"globalEval",!t||E._data(t[r],"globalEval"))}oe.optgroup=oe.option,oe.tbody=oe.tfoot=oe.colgroup=oe.caption=oe.thead,oe.th=oe.td;var ue=/<|&#?\w+;/,le=/<tbody/i;function ce(e){Z.test(e.type)&&(e.defaultChecked=e.checked)}function de(e,t,n,r,i){for(var o,a,s,u,l,c,d,f=e.length,p=ie(t),h=[],g=0;g<f;g++)if((a=e[g])||0===a)if("object"===E.type(a))E.merge(h,a.nodeType?[a]:a);else if(ue.test(a)){for(u=u||p.appendChild(t.createElement("div")),l=(ee.exec(a)||["",""])[1].toLowerCase(),d=oe[l]||oe._default,u.innerHTML=d[1]+E.htmlPrefilter(a)+d[2],o=d[0];o--;)u=u.lastChild;if(!v.leadingWhitespace&&ne.test(a)&&h.push(t.createTextNode(ne.exec(a)[0])),!v.tbody)for(o=(a="table"!==l||le.test(a)?"<table>"!==d[1]||le.test(a)?0:u:u.firstChild)&&a.childNodes.length;o--;)E.nodeName(c=a.childNodes[o],"tbody")&&!c.childNodes.length&&a.removeChild(c);for(E.merge(h,u.childNodes),u.textContent="";u.firstChild;)u.removeChild(u.firstChild);u=p.lastChild}else h.push(t.createTextNode(a));for(u&&p.removeChild(u),v.appendChecked||E.grep(ae(h,"input"),ce),g=0;a=h[g++];)if(r&&-1<E.inArray(a,r))i&&i.push(a);else if(s=E.contains(a.ownerDocument,a),u=ae(p.appendChild(a),"script"),s&&se(u),n)for(o=0;a=u[o++];)te.test(a.type||"")&&n.push(a);return u=null,p}!function(){var e,t,n=h.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})t="on"+e,(v[e]=t in C)||(n.setAttribute(t,"t"),v[e]=!1===n.attributes[t].expando);n=null}();var fe=/^(?:input|select|textarea)$/i,pe=/^key/,he=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ge=/^(?:focusinfocus|focusoutblur)$/,me=/^([^.]*)(?:\.(.+)|)/;function ve(){return!0}function ye(){return!1}function xe(){try{return h.activeElement}catch(e){}}function be(e,t,n,r,i,o){var a,s;if("object"==_typeof(t)){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)be(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ye;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}E.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=E._data(e);if(m){for(n.handler&&(n=(u=n).handler,i=u.selector),n.guid||(n.guid=E.guid++),(a=m.events)||(a=m.events={}),(c=m.handle)||((c=m.handle=function(e){return void 0===E||e&&E.event.triggered===e.type?void 0:E.event.dispatch.apply(c.elem,arguments)}).elem=e),s=(t=(t||"").match(q)||[""]).length;s--;)p=g=(o=me.exec(t[s])||[])[1],h=(o[2]||"").split(".").sort(),p&&(l=E.event.special[p]||{},p=(i?l.delegateType:l.bindType)||p,l=E.event.special[p]||{},d=E.extend({type:p,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},u),(f=a[p])||((f=a[p]=[]).delegateCount=0,l.setup&&!1!==l.setup.call(e,r,h,c)||(e.addEventListener?e.addEventListener(p,c,!1):e.attachEvent&&e.attachEvent("on"+p,c))),l.add&&(l.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,d):f.push(d),E.event.global[p]=!0);e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,d,f,p,h,g,m=E.hasData(e)&&E._data(e);if(m&&(c=m.events)){for(l=(t=(t||"").match(q)||[""]).length;l--;)if(p=g=(s=me.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),p){for(d=E.event.special[p]||{},f=c[p=(r?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,d.remove&&d.remove.call(e,a));u&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,h,m.handle)||E.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)E.event.remove(e,p+t[l],n,r,!0);E.isEmptyObject(c)&&(delete m.handle,E._removeData(e,"events"))}},trigger:function(e,t,n,r){var i,o,a,s,u,l,c,d=[n||h],f=m.call(e,"type")?e.type:e,p=m.call(e,"namespace")?e.namespace.split("."):[];if(a=l=n=n||h,3!==n.nodeType&&8!==n.nodeType&&!ge.test(f+E.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),o=f.indexOf(":")<0&&"on"+f,(e=e[E.expando]?e:new E.Event(f,"object"==_typeof(e)&&e)).isTrigger=r?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),u=E.event.special[f]||{},r||!u.trigger||!1!==u.trigger.apply(n,t))){if(!r&&!u.noBubble&&!E.isWindow(n)){for(s=u.delegateType||f,ge.test(s+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),l=a;l===(n.ownerDocument||h)&&d.push(l.defaultView||l.parentWindow||C)}for(c=0;(a=d[c++])&&!e.isPropagationStopped();)e.type=1<c?s:u.bindType||f,(i=(E._data(a,"events")||{})[e.type]&&E._data(a,"handle"))&&i.apply(a,t),(i=o&&a[o])&&i.apply&&O(a)&&(e.result=i.apply(a,t),!1===e.result&&e.preventDefault());if(e.type=f,!r&&!e.isDefaultPrevented()&&(!u._default||!1===u._default.apply(d.pop(),t))&&O(n)&&o&&n[f]&&!E.isWindow(n)){(l=n[o])&&(n[o]=null),E.event.triggered=f;try{n[f]()}catch(e){}E.event.triggered=void 0,l&&(n[o]=l)}return e.result}},dispatch:function(e){e=E.event.fix(e);var t,n,r,i,o,a=[],s=c.call(arguments),u=(E._data(this,"events")||{})[e.type]||[],l=E.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(a=E.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?-1<E(i,this).index(u):E.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[E.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=he.test(i)?this.mouseHooks:pe.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new E.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=o.srcElement||h),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=(r=e.target.ownerDocument||h).documentElement,n=r.body,e.pageX=t.clientX+(i&&i.scrollLeft||n&&n.scrollLeft||0)-(i&&i.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||n&&n.scrollTop||0)-(i&&i.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==xe()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===xe()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return E.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return E.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}},E.removeEvent=h.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var r="on"+t;e.detachEvent&&(void 0===e[r]&&(e[r]=null),e.detachEvent(r,n))},E.Event=function(e,t){return this instanceof E.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ve:ye):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||E.now(),void(this[E.expando]=!0)):new E.Event(e,t)},E.Event.prototype={constructor:E.Event,isDefaultPrevented:ye,isPropagationStopped:ye,isImmediatePropagationStopped:ye,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ve,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ve,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ve,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){E.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||E.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),v.submit||(E.event.special.submit={setup:function(){return!E.nodeName(this,"form")&&void E.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=E.nodeName(t,"input")||E.nodeName(t,"button")?E.prop(t,"form"):void 0;n&&!E._data(n,"submit")&&(E.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),E._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&E.event.simulate("submit",this.parentNode,e))},teardown:function(){return!E.nodeName(this,"form")&&void E.event.remove(this,"._submit")}}),v.change||(E.event.special.change={setup:function(){return fe.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(E.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),E.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),E.event.simulate("change",this,e)})),!1):void E.event.add(this,"beforeactivate._change",function(e){var t=e.target;fe.test(t.nodeName)&&!E._data(t,"change")&&(E.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||E.event.simulate("change",this.parentNode,e)}),E._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return E.event.remove(this,"._change"),!fe.test(this.nodeName)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){E.event.simulate(r,e.target,E.event.fix(e))};E.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=E._data(e,r);t||e.addEventListener(n,i,!0),E._data(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=E._data(e,r)-1;t?E._data(e,r,t):(e.removeEventListener(n,i,!0),E._removeData(e,r))}}}),E.fn.extend({on:function(e,t,n,r){return be(this,e,t,n,r)},one:function(e,t,n,r){return be(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"!=_typeof(e))return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ye),this.each(function(){E.event.remove(this,e,n,t)});for(i in e)this.off(i,t,e[i]);return this},trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?E.event.trigger(e,t,n,!0):void 0}});var we=/ jQuery\d+="(?:null|\d+)"/g,Te=new RegExp("<(?:"+re+")[\\s/>]","i"),Ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Ne=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^true\/(.*)/,Se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ae=ie(h).appendChild(h.createElement("div"));function De(e,t){return E.nodeName(e,"table")&&E.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function je(e){return e.type=(null!==E.find.attr(e,"type"))+"/"+e.type,e}function Le(e){var t=ke.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function He(e,t){if(1===t.nodeType&&E.hasData(e)){var n,r,i,o=E._data(e),a=E._data(t,o),s=o.events;if(s)for(n in delete a.handle,a.events={},s)for(r=0,i=s[n].length;r<i;r++)E.event.add(t,n,s[n][r]);a.data&&(a.data=E.extend({},a.data))}}function qe(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!v.noCloneEvent&&t[E.expando]){for(r in(i=E._data(t)).events)E.removeEvent(t,r,i.handle);t.removeAttribute(E.expando)}"script"===n&&t.text!==e.text?(je(t).text=e.text,Le(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),v.html5Clone&&e.innerHTML&&!E.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Z.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}}function _e(n,r,i,o){r=g.apply([],r);var e,t,a,s,u,l,c=0,d=n.length,f=d-1,p=r[0],h=E.isFunction(p);if(h||1<d&&"string"==typeof p&&!v.checkClone&&Ne.test(p))return n.each(function(e){var t=n.eq(e);h&&(r[0]=p.call(this,e,t.html())),_e(t,r,i,o)});if(d&&(e=(l=de(r,n[0].ownerDocument,!1,n,o)).firstChild,1===l.childNodes.length&&(l=e),e||o)){for(a=(s=E.map(ae(l,"script"),je)).length;c<d;c++)t=l,c!==f&&(t=E.clone(t,!0,!0),a&&E.merge(s,ae(t,"script"))),i.call(n[c],t,c);if(a)for(u=s[s.length-1].ownerDocument,E.map(s,Le),c=0;c<a;c++)t=s[c],te.test(t.type||"")&&!E._data(t,"globalEval")&&E.contains(u,t)&&(t.src?E._evalUrl&&E._evalUrl(t.src):E.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Se,"")));l=e=null}return n}function Fe(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(ae(r)),r.parentNode&&(n&&E.contains(r.ownerDocument,r)&&se(ae(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e.replace(Ce,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s,u=E.contains(e.ownerDocument,e);if(v.html5Clone||E.isXMLDoc(e)||!Te.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Ae.innerHTML=e.outerHTML,Ae.removeChild(o=Ae.firstChild)),!(v.noCloneEvent&&v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(r=ae(o),s=ae(e),a=0;null!=(i=s[a]);++a)r[a]&&qe(i,r[a]);if(t)if(n)for(s=s||ae(e),r=r||ae(o),a=0;null!=(i=s[a]);a++)He(i,r[a]);else He(e,o);return 0<(r=ae(o,"script")).length&&se(r,!u&&ae(e,"script")),r=s=i=null,o},cleanData:function(e,t){for(var n,r,i,o,a=0,s=E.expando,u=E.cache,l=v.attributes,c=E.event.special;null!=(n=e[a]);a++)if((t||O(n))&&(o=(i=n[s])&&u[i])){if(o.events)for(r in o.events)c[r]?E.event.remove(n,r):E.removeEvent(n,r,o.handle);u[i]&&(delete u[i],l||void 0===n.removeAttribute?n[s]=void 0:n.removeAttribute(s),d.push(i))}}}),E.fn.extend({domManip:_e,detach:function(e){return Fe(this,e,!0)},remove:function(e){return Fe(this,e)},text:function(e){return K(this,function(e){return void 0===e?E.text(this):this.empty().append((this[0]&&this[0].ownerDocument||h).createTextNode(e))},null,e,arguments.length)},append:function(){return _e(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return _e(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _e(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&E.cleanData(ae(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&E.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(we,""):void 0;if("string"==typeof e&&!Ee.test(e)&&(v.htmlSerialize||!Te.test(e))&&(v.leadingWhitespace||!ne.test(e))&&!oe[(ee.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(ae(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return _e(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(ae(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){E.fn[e]=function(e){for(var t,n=0,r=[],i=E(e),o=i.length-1;n<=o;n++)t=n===o?this:this.clone(!0),E(i[n])[a](t),s.apply(r,t.get());return this.pushStack(r)}});var Me,Oe={HTML:"block",BODY:"block"};function Re(e,t){var n=E(t.createElement(e)).appendTo(t.body),r=E.css(n[0],"display");return n.detach(),r}function Pe(e){var t=h,n=Oe[e];return n||("none"!==(n=Re(e,t))&&n||((t=((Me=(Me||E("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentWindow||Me[0].contentDocument).document).write(),t.close(),n=Re(e,t),Me.detach()),Oe[e]=n),n}var Be=/^margin/,We=new RegExp("^("+z+")(?!px)[a-z%]+$","i"),Ie=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i},$e=h.documentElement;!function(){var r,i,o,a,s,u,l=h.createElement("div"),c=h.createElement("div");if(c.style){var e=function(){var e,t,n=h.documentElement;n.appendChild(l),c.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",r=o=u=!1,i=s=!0,C.getComputedStyle&&(t=C.getComputedStyle(c),r="1%"!==(t||{}).top,u="2px"===(t||{}).marginLeft,o="4px"===(t||{width:"4px"}).width,c.style.marginRight="50%",i="4px"===(t||{marginRight:"4px"}).marginRight,(e=c.appendChild(h.createElement("div"))).style.cssText=c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",c.style.width="1px",s=!parseFloat((C.getComputedStyle(e)||{}).marginRight),c.removeChild(e)),c.style.display="none",(a=0===c.getClientRects().length)&&(c.style.display="",c.innerHTML="<table><tr><td></td><td>t</td></tr></table>",c.childNodes[0].style.borderCollapse="separate",(e=c.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===e[0].offsetHeight)&&(e[0].style.display="",e[1].style.display="none",a=0===e[0].offsetHeight)),n.removeChild(l)};c.style.cssText="float:left;opacity:.5",v.opacity="0.5"===c.style.opacity,v.cssFloat=!!c.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,(l=h.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",c.innerHTML="",l.appendChild(c),v.boxSizing=""===c.style.boxSizing||""===c.style.MozBoxSizing||""===c.style.WebkitBoxSizing,E.extend(v,{reliableHiddenOffsets:function(){return null==r&&e(),a},boxSizingReliable:function(){return null==r&&e(),o},pixelMarginRight:function(){return null==r&&e(),i},pixelPosition:function(){return null==r&&e(),r},reliableMarginRight:function(){return null==r&&e(),s},reliableMarginLeft:function(){return null==r&&e(),u}})}}();var ze,Xe,Ue=/^(top|right|bottom|left)$/;function Ve(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}C.getComputedStyle?(ze=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Xe=function(e,t,n){var r,i,o,a,s=e.style;return""!==(a=(n=n||ze(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==a||E.contains(e.ownerDocument,e)||(a=E.style(e,t)),n&&!v.pixelMarginRight()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o),void 0===a?a:a+""}):$e.currentStyle&&(ze=function(e){return e.currentStyle},Xe=function(e,t,n){var r,i,o,a,s=e.style;return null==(a=(n=n||ze(e))?n[t]:void 0)&&s&&s[t]&&(a=s[t]),We.test(a)&&!Ue.test(t)&&(r=s.left,(o=(i=e.runtimeStyle)&&i.left)&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=r,o&&(i.left=o)),void 0===a?a:a+""||"auto"});var Ye=/alpha\([^)]*\)/i,Je=/opacity\s*=\s*([^)]*)/i,Ge=/^(none|table(?!-c[ea]).+)/,Qe=new RegExp("^("+z+")(.*)$","i"),Ke={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","O","Moz","ms"],tt=h.createElement("div").style;function nt(e){if(e in tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=et.length;n--;)if((e=et[n]+t)in tt)return e}function rt(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=E._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&V(r)&&(o[a]=E._data(r,"olddisplay",Pe(r.nodeName)))):(i=V(r),(n&&"none"!==n||!i)&&E._data(r,"olddisplay",i?n:E.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function it(e,t,n){var r=Qe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function ot(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=E.css(e,n+U[o],!0,i)),r?("content"===n&&(a-=E.css(e,"padding"+U[o],!0,i)),"margin"!==n&&(a-=E.css(e,"border"+U[o]+"Width",!0,i))):(a+=E.css(e,"padding"+U[o],!0,i),"padding"!==n&&(a+=E.css(e,"border"+U[o]+"Width",!0,i)));return a}function at(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=ze(e),a=v.boxSizing&&"border-box"===E.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=Xe(e,t,o))<0||null==i)&&(i=e.style[t]),We.test(i))return i;r=a&&(v.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+ot(e,t,n||(a?"border":"content"),r,o)+"px"}function st(e,t,n,r,i){return new st.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Xe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=E.camelCase(t),u=e.style;if(t=E.cssProps[s]||(E.cssProps[s]=nt(s)||s),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];if("string"===(o=_typeof(n))&&(i=X.exec(n))&&i[1]&&(n=Y(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,r)))))try{u[t]=n}catch(e){}}},css:function(e,t,n,r){var i,o,a,s=E.camelCase(t);return t=E.cssProps[s]||(E.cssProps[s]=nt(s)||s),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=Xe(e,t,r)),"normal"===o&&t in Ze&&(o=Ze[t]),""===n||n?(i=parseFloat(o),!0===n||isFinite(i)?i||0:o):o}}),E.each(["height","width"],function(e,i){E.cssHooks[i]={get:function(e,t,n){return t?Ge.test(E.css(e,"display"))&&0===e.offsetWidth?Ie(e,Ke,function(){return at(e,i,n)}):at(e,i,n):void 0},set:function(e,t,n){var r=n&&ze(e);return it(0,t,n?ot(e,i,n,v.boxSizing&&"border-box"===E.css(e,"boxSizing",!1,r),r):0)}}}),v.opacity||(E.cssHooks.opacity={get:function(e,t){return Je.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=E.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";((n.zoom=1)<=t||""===t)&&""===E.trim(o.replace(Ye,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=Ye.test(o)?o.replace(Ye,i):o+" "+i)}}),E.cssHooks.marginRight=Ve(v.reliableMarginRight,function(e,t){return t?Ie(e,{display:"inline-block"},Xe,[e,"marginRight"]):void 0}),E.cssHooks.marginLeft=Ve(v.reliableMarginLeft,function(e,t){return t?(parseFloat(Xe(e,"marginLeft"))||(E.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),E.each({margin:"",padding:"",border:"Width"},function(i,o){E.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+U[t]+o]=r[t]||r[t-2]||r[0];return n}},Be.test(i)||(E.cssHooks[i+o].set=it)}),E.fn.extend({css:function(e,t){return K(this,function(e,t,n){var r,i,o={},a=0;if(E.isArray(t)){for(r=ze(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)},show:function(){return rt(this,!0)},hide:function(){return rt(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){V(this)?E(this).show():E(this).hide()})}}),((E.Tween=st).prototype={constructor:st,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=st.propHooks[this.prop];return e&&e.get?e.get(this):st.propHooks._default.get(this)},run:function(e){var t,n=st.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):st.propHooks._default.set(this),this}}).init.prototype=st.prototype,(st.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[E.cssProps[e.prop]]&&!E.cssHooks[e.prop]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=st.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=st.prototype.init,E.fx.step={};var ut,lt,ct,dt,ft,pt,ht,gt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;function vt(){return C.setTimeout(function(){ut=void 0}),ut=E.now()}function yt(e,t){var n,r={height:e},i=0;for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=U[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function xt(e,t,n){for(var r,i=(bt.tweeners[t]||[]).concat(bt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function bt(o,e,t){var n,a,r=0,i=bt.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=ut||vt(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:ut||vt(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=E.camelCase(n)],o=e[n],E.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=bt.prefilters[r].call(l,o,c,l.opts))return E.isFunction(n.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=E.proxy(n.stop,n)),n;return E.map(c,xt,l),E.isFunction(l.opts.start)&&l.opts.start.call(o,l),E.fx.timer(E.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}E.Animation=E.extend(bt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return Y(n.elem,e,X.exec(t),n),n}]},tweener:function(e,t){for(var n,r=0,i=(e=E.isFunction(e)?(t=e,["*"]):e.match(q)).length;r<i;r++)n=e[r],bt.tweeners[n]=bt.tweeners[n]||[],bt.tweeners[n].unshift(t)},prefilters:[function(t,e,n){var r,i,o,a,s,u,l,c=this,d={},f=t.style,p=t.nodeType&&V(t),h=E._data(t,"fxshow");for(r in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(l=E.css(t,"display"))?E._data(t,"olddisplay")||Pe(t.nodeName):l)&&"none"===E.css(t,"float")&&(v.inlineBlockNeedsLayout&&"inline"!==Pe(t.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",v.shrinkWrapBlocks()||c.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),e)if(i=e[r],gt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;p=!0}d[r]=h&&h[r]||E.style(t,r)}else l=void 0;if(E.isEmptyObject(d))"inline"===("none"===l?Pe(t.nodeName):l)&&(f.display=l);else for(r in h?"hidden"in h&&(p=h.hidden):h=E._data(t,"fxshow",{}),o&&(h.hidden=!p),p?E(t).show():c.done(function(){E(t).hide()}),c.done(function(){var e;for(e in E._removeData(t,"fxshow"),d)E.style(t,e,d[e])}),d)a=xt(p?h[r]:0,r,c),r in h||(h[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?bt.prefilters.unshift(e):bt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==_typeof(e)?E.extend({},e):{complete:n||!n&&t||E.isFunction(e)&&e,duration:e,easing:n&&t||t&&!E.isFunction(t)&&t};return r.duration=E.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in E.fx.speeds?E.fx.speeds[r.duration]:E.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){E.isFunction(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),a=function(){var e=bt(this,E.extend({},t),o);(i||E._data(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=E.timers,r=E._data(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&mt.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||E.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=E._data(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=E.timers,o=n?n.length:0;for(t.finish=!0,E.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var i=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(yt(r,!0),e,t,n)}}),E.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=E.timers,n=0;for(ut=E.now();n<t.length;n++)(e=t[n])()||t[n]!==e||t.splice(n--,1);t.length||E.fx.stop(),ut=void 0},E.fx.timer=function(e){E.timers.push(e),e()?E.fx.start():E.timers.pop()},E.fx.interval=13,E.fx.start=function(){lt||(lt=C.setInterval(E.fx.tick,E.fx.interval))},E.fx.stop=function(){C.clearInterval(lt),lt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},dt=h.createElement("input"),ft=h.createElement("div"),pt=h.createElement("select"),ht=pt.appendChild(h.createElement("option")),(ft=h.createElement("div")).setAttribute("className","t"),ft.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ct=ft.getElementsByTagName("a")[0],dt.setAttribute("type","checkbox"),ft.appendChild(dt),(ct=ft.getElementsByTagName("a")[0]).style.cssText="top:1px",v.getSetAttribute="t"!==ft.className,v.style=/top/.test(ct.getAttribute("style")),v.hrefNormalized="/a"===ct.getAttribute("href"),v.checkOn=!!dt.value,v.optSelected=ht.selected,v.enctype=!!h.createElement("form").enctype,pt.disabled=!0,v.optDisabled=!ht.disabled,(dt=h.createElement("input")).setAttribute("value",""),v.input=""===dt.getAttribute("value"),dt.value="t",dt.setAttribute("type","radio"),v.radioValue="t"===dt.value;var wt=/\r/g,Tt=/[\x20\t\r\n\f]+/g;E.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=E.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":E.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(wt,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:E.trim(E.text(e)).replace(Tt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!E.nodeName(n.parentNode,"optgroup"))){if(t=E(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)if(r=i[a],-1<E.inArray(E.valHooks.option.get(r),o))try{r.selected=n=!0}catch(e){r.scrollHeight}else r.selected=!1;return n||(e.selectedIndex=-1),i}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){return E.isArray(t)?e.checked=-1<E.inArray(E(e).val(),t):void 0}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Ct,Et,Nt=E.expr.attrHandle,kt=/^(?:checked|selected)$/i,St=v.getSetAttribute,At=v.input;E.fn.extend({attr:function(e,t){return K(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(t=t.toLowerCase(),i=E.attrHooks[t]||(E.expr.match.bool.test(t)?Et:Ct)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&E.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(q);if(o&&1===e.nodeType)for(;n=o[i++];)r=E.propFix[n]||n,E.expr.match.bool.test(n)?At&&St||!kt.test(n)?e[r]=!1:e[E.camelCase("default-"+n)]=e[r]=!1:E.attr(e,n,""),e.removeAttribute(St?n:r)}}),Et={set:function(e,t,n){return!1===t?E.removeAttr(e,n):At&&St||!kt.test(n)?e.setAttribute(!St&&E.propFix[n]||n,n):e[E.camelCase("default-"+n)]=e[n]=!0,n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Nt[t]||E.find.attr;At&&St||!kt.test(t)?Nt[t]=function(e,t,n){var r,i;return n||(i=Nt[t],Nt[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,Nt[t]=i),r}:Nt[t]=function(e,t,n){return n?void 0:e[E.camelCase("default-"+t)]?t.toLowerCase():null}}),At&&St||(E.attrHooks.value={set:function(e,t,n){return E.nodeName(e,"input")?void(e.defaultValue=t):Ct&&Ct.set(e,t,n)}}),St||(Ct={set:function(e,t,n){var r=e.getAttributeNode(n);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(n)),r.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Nt.id=Nt.name=Nt.coords=function(e,t,n){var r;return n?void 0:(r=e.getAttributeNode(t))&&""!==r.value?r.value:null},E.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:Ct.set},E.attrHooks.contenteditable={set:function(e,t,n){Ct.set(e,""!==t&&t,n)}},E.each(["width","height"],function(e,n){E.attrHooks[n]={set:function(e,t){return""===t?(e.setAttribute(n,"auto"),t):void 0}}})),v.style||(E.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Dt=/^(?:input|select|textarea|button|object)$/i,jt=/^(?:a|area)$/i;E.fn.extend({prop:function(e,t){return K(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return e=E.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(e){}})}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):Dt.test(e.nodeName)||jt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.hrefNormalized||E.each(["href","src"],function(e,t){E.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),v.enctype||(E.propFix.enctype="encoding");var Lt=/[\t\r\n\f]/g;function Ht(e){return E.attr(e,"class")||""}E.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(E.isFunction(t))return this.each(function(e){E(this).addClass(t.call(this,e,Ht(this)))});if("string"==typeof t&&t)for(e=t.match(q)||[];n=this[u++];)if(i=Ht(n),r=1===n.nodeType&&(" "+i+" ").replace(Lt," ")){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=E.trim(r))&&E.attr(n,"class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(E.isFunction(t))return this.each(function(e){E(this).removeClass(t.call(this,e,Ht(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(q)||[];n=this[u++];)if(i=Ht(n),r=1===n.nodeType&&(" "+i+" ").replace(Lt," ")){for(a=0;o=e[a++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(s=E.trim(r))&&E.attr(n,"class",s)}return this},toggleClass:function(i,t){var o=_typeof(i);return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):E.isFunction(i)?this.each(function(e){E(this).toggleClass(i.call(this,e,Ht(this),t),t)}):this.each(function(){var e,t,n,r;if("string"===o)for(t=0,n=E(this),r=i.match(q)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else void 0!==i&&"boolean"!==o||((e=Ht(this))&&E._data(this,"__className__",e),E.attr(this,"class",e||!1===i?"":E._data(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+Ht(n)+" ").replace(Lt," ").indexOf(t))return!0;return!1}}),E.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var qt=C.location,_t=E.now(),Ft=/\?/,Mt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;E.parseJSON=function(e){if(C.JSON&&C.JSON.parse)return C.JSON.parse(e+"");var i,o=null,t=E.trim(e+"");return t&&!E.trim(t.replace(Mt,function(e,t,n,r){return i&&t&&(o=0),0===o?e:(i=n||t,o+=!r-!n,"")}))?Function("return "+t)():E.error("Invalid JSON: "+e)},E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{C.DOMParser?t=(new C.DOMParser).parseFromString(e,"text/xml"):((t=new C.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){t=void 0}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+e),t};var Ot=/#.*$/,Rt=/([?&])_=[^&]*/,Pt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bt=/^(?:GET|HEAD)$/,Wt=/^\/\//,It=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},zt={},Xt="*/".concat("*"),Ut=qt.href,Vt=It.exec(Ut.toLowerCase())||[];function Yt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(q)||[];if(E.isFunction(t))for(;n=i[r++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Jt(t,i,o,a){var s={},u=t===zt;function l(e){var r;return s[e]=!0,E.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Gt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&E.extend(!0,e,n),e}E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Vt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":E.parseJSON,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Gt(Gt(e,E.ajaxSettings),t):Gt(E.ajaxSettings,e)},ajaxPrefilter:Yt($t),ajaxTransport:Yt(zt),ajax:function(e,t){"object"==_typeof(e)&&(t=e,e=void 0),t=t||{};var n,r,c,d,f,p,h,i,g=E.ajaxSetup({},t),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?E(m):E.event,y=E.Deferred(),x=E.Callbacks("once memory"),b=g.statusCode||{},o={},a={},w=0,s="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!i)for(i={};t=Pt.exec(d);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?d:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return w||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)b[t]=[b[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||s;return h&&h.abort(t),u(0,t),this}};if(y.promise(T).complete=x.add,T.success=T.done,T.error=T.fail,g.url=((e||g.url||Ut)+"").replace(Ot,"").replace(Wt,Vt[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=E.trim(g.dataType||"*").toLowerCase().match(q)||[""],null==g.crossDomain&&(n=It.exec(g.url.toLowerCase()),g.crossDomain=!(!n||n[1]===Vt[1]&&n[2]===Vt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Vt[3]||("http:"===Vt[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),Jt($t,g,t,T),2===w)return T;for(r in(p=E.event&&g.global)&&0==E.active++&&E.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Bt.test(g.type),c=g.url,g.hasContent||(g.data&&(c=g.url+=(Ft.test(c)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Rt.test(c)?c.replace(Rt,"$1_="+_t++):c+(Ft.test(c)?"&":"?")+"_="+_t++)),g.ifModified&&(E.lastModified[c]&&T.setRequestHeader("If-Modified-Since",E.lastModified[c]),E.etag[c]&&T.setRequestHeader("If-None-Match",E.etag[c])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Xt+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,T,g)||2===w))return T.abort();for(r in s="abort",{success:1,error:1,complete:1})T[r](g[r]);if(h=Jt(zt,g,t,T)){if(T.readyState=1,p&&v.trigger("ajaxSend",[T,g]),2===w)return T;g.async&&0<g.timeout&&(f=C.setTimeout(function(){T.abort("timeout")},g.timeout));try{w=1,h.send(o,u)}catch(e){if(!(w<2))throw e;u(-1,e)}}else u(-1,"No Transport");function u(e,t,n,r){var i,o,a,s,u,l=t;2!==w&&(w=2,f&&C.clearTimeout(f),h=void 0,d=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in n)o=u[0];else{for(a in n){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}r||(r=a)}o=o||r}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(g,T,n)),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(g,s,T,i),i?(g.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(E.lastModified[c]=u),(u=T.getResponseHeader("etag"))&&(E.etag[c]=u)),204===e||"HEAD"===g.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?y.resolveWith(m,[o,l,T]):y.rejectWith(m,[T,l,a]),T.statusCode(b),b=void 0,p&&v.trigger(i?"ajaxSuccess":"ajaxError",[T,g,i?o:a]),x.fireWith(m,[T,l]),p&&(v.trigger("ajaxComplete",[T,g]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,i){E[i]=function(e,t,n,r){return E.isFunction(t)&&(r=r||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:i,dataType:r,data:t,success:n},E.isPlainObject(e)&&e))}}),E._evalUrl=function(e){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){if(E.isFunction(t))return this.each(function(e){E(this).wrapAll(t.call(this,e))});if(this[0]){var e=E(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(n){return E.isFunction(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=E.isFunction(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){E.nodeName(this,"body")||E(this).replaceWith(this.childNodes)}).end()}}),E.expr.filters.hidden=function(e){return v.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:function(e){if(!E.contains(e.ownerDocument||h,e))return!0;for(;e&&1===e.nodeType;){if("none"===((t=e).style&&t.style.display||E.css(t,"display"))||"hidden"===e.type)return!0;e=e.parentNode}var t;return!1}(e)},E.expr.filters.visible=function(e){return!E.expr.filters.hidden(e)};var Qt=/%20/g,Kt=/\[\]$/,Zt=/\r?\n/g,en=/^(?:submit|button|image|reset|file)$/i,tn=/^(?:input|select|textarea|keygen)/i;function nn(n,e,r,i){var t;if(E.isArray(e))E.each(e,function(e,t){r||Kt.test(n)?i(n,t):nn(n+"["+("object"==_typeof(t)&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==E.type(e))i(n,e);else for(t in e)nn(n+"["+t+"]",e[t],r,i)}E.param=function(e,t){var n,r=[],i=function(e,t){t=E.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=E.ajaxSettings&&E.ajaxSettings.traditional),E.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)nn(n,e[n],t,i);return r.join("&").replace(Qt,"+")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&tn.test(this.nodeName)&&!en.test(e)&&(this.checked||!Z.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:E.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Zt,"\r\n")}}):{name:t.name,value:n.replace(Zt,"\r\n")}}).get()}}),E.ajaxSettings.xhr=void 0!==C.ActiveXObject?function(){return this.isLocal?un():8<h.documentMode?sn():/^(get|post|head|put|delete|options)$/i.test(this.type)&&sn()||un()}:sn;var rn=0,on={},an=E.ajaxSettings.xhr();function sn(){try{return new C.XMLHttpRequest}catch(e){}}function un(){try{return new C.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}C.attachEvent&&C.attachEvent("onunload",function(){for(var e in on)on[e](void 0,!0)}),v.cors=!!an&&"withCredentials"in an,(an=v.ajax=!!an)&&E.ajaxTransport(function(u){var l;if(!u.crossDomain||v.cors)return{send:function(e,o){var t,a=u.xhr(),s=++rn;if(a.open(u.type,u.url,u.async,u.username,u.password),u.xhrFields)for(t in u.xhrFields)a[t]=u.xhrFields[t];for(t in u.mimeType&&a.overrideMimeType&&a.overrideMimeType(u.mimeType),u.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)void 0!==e[t]&&a.setRequestHeader(t,e[t]+"");a.send(u.hasContent&&u.data||null),l=function(e,t){var n,r,i;if(l&&(t||4===a.readyState))if(delete on[s],l=void 0,a.onreadystatechange=E.noop,t)4!==a.readyState&&a.abort();else{i={},n=a.status,"string"==typeof a.responseText&&(i.text=a.responseText);try{r=a.statusText}catch(e){r=""}n||!u.isLocal||u.crossDomain?1223===n&&(n=204):n=i.text?200:404}i&&o(n,r,i,a.getAllResponseHeaders())},u.async?4===a.readyState?C.setTimeout(l):a.onreadystatechange=on[s]=l:l()},abort:function(){l&&l(void 0,!0)}}}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),E.ajaxTransport("script",function(t){if(t.crossDomain){var r,i=h.head||E("head")[0]||h.documentElement;return{send:function(e,n){(r=h.createElement("script")).async=!0,t.scriptCharset&&(r.charset=t.scriptCharset),r.src=t.url,r.onload=r.onreadystatechange=function(e,t){(t||!r.readyState||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),r=null,t||n(200,"success"))},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(void 0,!0)}}}});var ln=[],cn=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ln.pop()||E.expando+"_"+_t++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(cn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&cn.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=E.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(cn,"$1"+r):!1!==e.jsonp&&(e.url+=(Ft.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||E.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?E(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,ln.push(r)),o&&E.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),E.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||h;var r=w.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=de([e],t,i),i&&i.length&&E(i).remove(),E.merge([],r.childNodes))};var dn=E.fn.load;function fn(e){return E.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}E.fn.load=function(e,t,n){if("string"!=typeof e&&dn)return dn.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=E.trim(e.slice(s,e.length)),e=e.slice(0,s)),E.isFunction(t)?(n=t,t=void 0):t&&"object"==_typeof(t)&&(i="POST"),0<a.length&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.expr.filters.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=E.css(e,"position"),c=E(e),d={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=E.css(e,"top"),u=E.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<E.inArray("auto",[o,u])?(a=(r=c.position()).top,r.left):(a=parseFloat(o)||0,parseFloat(u)||0),E.isFunction(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):c.css(d)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r={top:0,left:0},i=this[0],o=i&&i.ownerDocument;return o?(e=o.documentElement,E.contains(e,i)?(void 0!==i.getBoundingClientRect&&(r=i.getBoundingClientRect()),n=fn(o),{top:r.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:r.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):r):void 0},position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===E.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),E.nodeName(e[0],"html")||(n=e.offset()),n.top+=E.css(e[0],"borderTopWidth",!0),n.left+=E.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-E.css(r,"marginTop",!0),left:t.left-n.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!E.nodeName(e,"html")&&"static"===E.css(e,"position");)e=e.offsetParent;return e||$e})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o=/Y/.test(i);E.fn[t]=function(e){return K(this,function(e,t,n){var r=fn(e);return void 0===n?r?i in r?r[i]:r.document.documentElement[t]:e[t]:void(r?r.scrollTo(o?E(r).scrollLeft():n,o?n:E(r).scrollTop()):e[t]=n)},t,e,arguments.length,null)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Ve(v.pixelPosition,function(e,t){return t?(t=Xe(e,n),We.test(t)?E(e).position()[n]+"px":t):void 0})}),E.each({Height:"height",Width:"width"},function(o,a){E.each({padding:"inner"+o,content:a,"":"outer"+o},function(r,e){E.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return K(this,function(e,t,n){var r;return E.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):void 0===n?E.css(e,t,i):E.style(e,t,n,i)},a,n?e:void 0,n,null)}})}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),E.fn.size=function(){return this.length},E.fn.andSelf=E.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var pn=C.jQuery,hn=C.$;return E.noConflict=function(e){return C.$===E&&(C.$=hn),e&&C.jQuery===E&&(C.jQuery=pn),E},e||(C.jQuery=C.$=E),E});
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,o){t!=Array.prototype&&t!=Object.prototype&&(t[e]=o.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.Symbol=function(){var e=0;return function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+e++}}(),$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),(t={next:t})[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.makeIterator=function(t){$jscomp.initSymbolIterator();var e=t[Symbol.iterator];return e?e.call(t):$jscomp.arrayIterator(t)},$jscomp.polyfill=function(t,e,o,n){if(e){for(o=$jscomp.global,t=t.split("."),n=0;n<t.length-1;n++){var r=t[n];r in o||(o[r]={}),o=o[r]}(e=e(n=o[t=t[t.length-1]]))!=n&&null!=e&&$jscomp.defineProperty(o,t,{configurable:!0,writable:!0,value:e})}},$jscomp.FORCE_POLYFILL_PROMISE=!1,$jscomp.polyfill("Promise",function(t){function e(){this.batch_=null}function i(o){return o instanceof a?o:new a(function(t,e){t(o)})}if(t&&!$jscomp.FORCE_POLYFILL_PROMISE)return t;e.prototype.asyncExecute=function(t){return null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_()),this.batch_.push(t),this},e.prototype.asyncExecuteBatch_=function(){var t=this;this.asyncExecuteFunction(function(){t.executeBatch_()})};var o=$jscomp.global.setTimeout;e.prototype.asyncExecuteFunction=function(t){o(t,0)},e.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var t=this.batch_;this.batch_=[];for(var e=0;e<t.length;++e){var o=t[e];t[e]=null;try{o()}catch(t){this.asyncThrow_(t)}}}this.batch_=null},e.prototype.asyncThrow_=function(t){this.asyncExecuteFunction(function(){throw t})};var a=function(t){this.state_=0,this.result_=void 0,this.onSettledCallbacks_=[];var e=this.createResolveAndReject_();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}};a.prototype.createResolveAndReject_=function(){function t(e){return function(t){n||(n=!0,e.call(o,t))}}var o=this,n=!1;return{resolve:t(this.resolveTo_),reject:t(this.reject_)}},a.prototype.resolveTo_=function(t){if(t===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof a)this.settleSameAsPromise_(t);else{t:switch(_typeof(t)){case"object":var e=null!=t;break t;case"function":e=!0;break t;default:e=!1}e?this.resolveToNonPromiseObj_(t):this.fulfill_(t)}},a.prototype.resolveToNonPromiseObj_=function(t){var e=void 0;try{e=t.then}catch(t){return void this.reject_(t)}"function"==typeof e?this.settleSameAsThenable_(e,t):this.fulfill_(t)},a.prototype.reject_=function(t){this.settle_(2,t)},a.prototype.fulfill_=function(t){this.settle_(1,t)},a.prototype.settle_=function(t,e){if(0!=this.state_)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.state_);this.state_=t,this.result_=e,this.executeOnSettledCallbacks_()},a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var t=0;t<this.onSettledCallbacks_.length;++t)r.asyncExecute(this.onSettledCallbacks_[t]);this.onSettledCallbacks_=null}};var r=new e;return a.prototype.settleSameAsPromise_=function(t){var e=this.createResolveAndReject_();t.callWhenSettled_(e.resolve,e.reject)},a.prototype.settleSameAsThenable_=function(t,e){var o=this.createResolveAndReject_();try{t.call(e,o.resolve,o.reject)}catch(t){o.reject(t)}},a.prototype.then=function(t,e){function o(e,t){return"function"==typeof e?function(t){try{n(e(t))}catch(t){r(t)}}:t}var n,r,c=new a(function(t,e){n=t,r=e});return this.callWhenSettled_(o(t,n),o(e,r)),c},a.prototype.catch=function(t){return this.then(void 0,t)},a.prototype.callWhenSettled_=function(t,e){function o(){switch(n.state_){case 1:t(n.result_);break;case 2:e(n.result_);break;default:throw Error("Unexpected state: "+n.state_)}}var n=this;null==this.onSettledCallbacks_?r.asyncExecute(o):this.onSettledCallbacks_.push(o)},a.resolve=i,a.reject=function(o){return new a(function(t,e){e(o)})},a.race=function(r){return new a(function(t,e){for(var o=$jscomp.makeIterator(r),n=o.next();!n.done;n=o.next())i(n.value).callWhenSettled_(t,e)})},a.all=function(t){var c=$jscomp.makeIterator(t),l=c.next();return l.done?i([]):new a(function(o,t){function e(e){return function(t){n[e]=t,0==--r&&o(n)}}for(var n=[],r=0;n.push(void 0),r++,i(l.value).callWhenSettled_(e(n.length-1),t),!(l=c.next()).done;);})},a},"es6","es3"),Compiler={_textEncoder:function(t){return new TextEncoder("utf-8").encode(t)},compiler:function(o,n){return new Promise(function(e,t){var r;n(0),n(5),(r=o,new Promise(function(t,e){e=[];for(var o=0;o<8;o++){var n=Math.round(10*Math.random());n=Math.round(255*n/10),e.push(n)}for(n=[].slice.call(Compiler._textEncoder(r)),o=0;o<n.length;o++)n[o]^=e[o%8];t(r=e.concat(n))})).then(function(t){var o;(o=t,new Promise(function(t,e){output=[83,70],output[2]=255&o.length,output[3]=o.length>>8&255,output=output.concat(o),t(output)})).then(function(t){var l,i;(l=t,i=n,new Promise(function(t,e){var r=250096,c=[];value=10,i(value),fillChunk=function(t){var e=[0];e[1]=r>>8&255,e[2]=255&r,e[3]=0,t=l.slice(t,t+16),(e=e.concat(t))[0]=t.length;for(var o=0,n=0;n<4+t.length;++n)o+=e[n];e.push(255&-o),c.push(":"+function(t){for(var e="",o=0;o<t.length;++o)t[o]<16&&(e+="0"),e+=t[o].toString(16);return e}(e).toUpperCase()),value+=90/(l.length/16),i(Math.round(value))};var o=0,n=setInterval(function(){fillChunk(o),r+=16,(o+=16)>l.length&&(clearInterval(n),value=100,i(value),t(c.join("\n")))},50)})).then(function(t){e(t)})})})})}};
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(I){I.ui=I.ui||{};I.ui.version="1.12.1";var n,i=0,r=Array.prototype.slice;I.cleanData=(n=I.cleanData,function(t){var e,i,s;for(s=0;null!=(i=t[s]);s++)try{(e=I._data(i,"events"))&&e.remove&&I(i).triggerHandler("remove")}catch(t){}n(t)}),I.widget=function(t,i,e){var s,n,o,a={},r=t.split(".")[0],h=r+"-"+(t=t.split(".")[1]);return e||(e=i,i=I.Widget),I.isArray(e)&&(e=I.extend.apply(null,[{}].concat(e))),I.expr[":"][h.toLowerCase()]=function(t){return!!I.data(t,h)},I[r]=I[r]||{},s=I[r][t],n=I[r][t]=function(t,e){if(!this._createWidget)return new n(t,e);arguments.length&&this._createWidget(t,e)},I.extend(n,s,{version:e.version,_proto:I.extend({},e),_childConstructors:[]}),(o=new i).options=I.widget.extend({},o.options),I.each(e,function(e,o){I.isFunction(o)?a[e]=function(){function s(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var t,e=this._super,i=this._superApply;return this._super=s,this._superApply=n,t=o.apply(this,arguments),this._super=e,this._superApply=i,t}}():a[e]=o}),n.prototype=I.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||t},a,{constructor:n,namespace:r,widgetName:t,widgetFullName:h}),s?(I.each(s._childConstructors,function(t,e){var i=e.prototype;I.widget(i.namespace+"."+i.widgetName,n,e._proto)}),delete s._childConstructors):i._childConstructors.push(n),I.widget.bridge(t,n),n},I.widget.extend=function(t){for(var e,i,s=r.call(arguments,1),n=0,o=s.length;n<o;n++)for(e in s[n])i=s[n][e],s[n].hasOwnProperty(e)&&void 0!==i&&(I.isPlainObject(i)?t[e]=I.isPlainObject(t[e])?I.widget.extend({},t[e],i):I.widget.extend({},i):t[e]=i);return t},I.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;I.fn[o]=function(i){var t="string"==typeof i,s=r.call(arguments,1),n=this;return t?this.length||"instance"!==i?this.each(function(){var t,e=I.data(this,a);return"instance"===i?(n=e,!1):e?I.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,s))!==e&&void 0!==t?(n=t&&t.jquery?n.pushStack(t.get()):t,!1):void 0:I.error("no such method '"+i+"' for "+o+" widget instance"):I.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):n=void 0:(s.length&&(i=I.widget.extend.apply(null,[i].concat(s))),this.each(function(){var t=I.data(this,a);t?(t.option(i||{}),t._init&&t._init()):I.data(this,a,new e(i,this))})),n}},I.Widget=function(){},I.Widget._childConstructors=[],I.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=I(e||this.defaultElement||this)[0],this.element=I(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=I(),this.hoverable=I(),this.focusable=I(),this.classesElementLookup={},e!==this&&(I.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=I(e.style?e.ownerDocument:e.document||e),this.window=I(this.document[0].defaultView||this.document[0].parentWindow)),this.options=I.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:I.noop,_create:I.noop,_init:I.noop,destroy:function(){var i=this;this._destroy(),I.each(this.classesElementLookup,function(t,e){i._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:I.noop,widget:function(){return this.element},option:function(t,e){var i,s,n,o=t;if(0===arguments.length)return I.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(s=o[t]=I.widget.extend({},this.options[t]),n=0;n<i.length-1;n++)s[i[n]]=s[i[n]]||{},s=s[i[n]];if(t=i.pop(),1===arguments.length)return void 0===s[t]?null:s[t];s[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,i,s;for(e in t)s=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&s&&s.length&&(i=I(s.get()),this._removeClass(s,e),i.addClass(this._classes({element:i,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(n){var o=[],a=this;function t(t,e){var i,s;for(s=0;s<t.length;s++)i=a.classesElementLookup[t[s]]||I(),i=n.add?I(I.unique(i.get().concat(n.element.get()))):I(i.not(n.element).get()),a.classesElementLookup[t[s]]=i,o.push(t[s]),e&&n.classes[t[s]]&&o.push(n.classes[t[s]])}return n=I.extend({element:this.element,classes:this.options.classes||{}},n),this._on(n.element,{remove:"_untrackClassesElement"}),n.keys&&t(n.keys.match(/\S+/g)||[],!0),n.extra&&t(n.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(i){var s=this;I.each(s.classesElementLookup,function(t,e){-1!==I.inArray(i.target,e)&&(s.classesElementLookup[t]=I(e.not(i.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(a,r,t){var h,l=this;"boolean"!=typeof a&&(t=r,r=a,a=!1),t?(r=h=I(r),this.bindings=this.bindings.add(r)):(t=r,r=this.element,h=this.widget()),I.each(t,function(t,e){function i(){if(a||!0!==l.options.disabled&&!I(this).hasClass("ui-state-disabled"))return("string"==typeof e?l[e]:e).apply(l,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||I.guid++);var s=t.match(/^([\w:-]*)\s*(.*)$/),n=s[1]+l.eventNamespace,o=s[2];o?h.on(n,o,i):r.on(n,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e).off(e),this.bindings=I(this.bindings.not(t).get()),this.focusable=I(this.focusable.not(t).get()),this.hoverable=I(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(I(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(I(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(I(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(I(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,i){var s,n,o=this.options[t];if(i=i||{},(e=I.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],n=e.originalEvent)for(s in n)s in e||(e[s]=n[s]);return this.element.trigger(e,i),!(I.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},I.each({show:"fadeIn",hide:"fadeOut"},function(o,a){I.Widget.prototype["_"+o]=function(e,t,i){var s;"string"==typeof t&&(t={effect:t});var n=t?!0===t||"number"==typeof t?a:t.effect||a:o;"number"==typeof(t=t||{})&&(t={duration:t}),s=!I.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),s&&I.effects&&I.effects.effect[n]?e[o](t):n!==o&&e[n]?e[n](t.duration,t.easing,i):e.queue(function(t){I(this)[o](),i&&i.call(e[0]),t()})}});I.widget;!function(){var n,k=Math.max,x=Math.abs,s=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,r=/^\w+/,h=/%$/,l=I.fn.position;function C(t,e,i){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?i/100:1)]}function D(t,e){return parseInt(I.css(t,e),10)||0}I.position={scrollbarWidth:function(){if(void 0!==n)return n;var t,e,i=I("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=i.children()[0];return I("body").append(i),t=s.offsetWidth,i.css("overflow","scroll"),t===(e=s.offsetWidth)&&(e=i[0].clientWidth),i.remove(),n=t-e},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight?I.position.scrollbarWidth():0,height:s?I.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=I(t||window),i=I.isWindow(e[0]),s=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:i,isDocument:s,offset:!i&&!s?I(t).offset():{left:0,top:0},scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},I.fn.position=function(u){if(!u||!u.of)return l.apply(this,arguments);u=I.extend({},u);var d,p,f,g,m,t,e,i,_=I(u.of),v=I.position.getWithinInfo(u.within),b=I.position.getScrollInfo(v),y=(u.collision||"flip").split(" "),w={};return t=9===(i=(e=_)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:I.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},_[0].preventDefault&&(u.at="left top"),p=t.width,f=t.height,g=t.offset,m=I.extend({},g),I.each(["my","at"],function(){var t,e,i=(u[this]||"").split(" ");1===i.length&&(i=s.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=s.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=a.exec(i[0]),e=a.exec(i[1]),w[this]=[t?t[0]:0,e?e[0]:0],u[this]=[r.exec(i[0])[0],r.exec(i[1])[0]]}),1===y.length&&(y[1]=y[0]),"right"===u.at[0]?m.left+=p:"center"===u.at[0]&&(m.left+=p/2),"bottom"===u.at[1]?m.top+=f:"center"===u.at[1]&&(m.top+=f/2),d=C(w.at,p,f),m.left+=d[0],m.top+=d[1],this.each(function(){var i,t,a=I(this),r=a.outerWidth(),h=a.outerHeight(),e=D(this,"marginLeft"),s=D(this,"marginTop"),n=r+e+D(this,"marginRight")+b.width,o=h+s+D(this,"marginBottom")+b.height,l=I.extend({},m),c=C(w.my,a.outerWidth(),a.outerHeight());"right"===u.my[0]?l.left-=r:"center"===u.my[0]&&(l.left-=r/2),"bottom"===u.my[1]?l.top-=h:"center"===u.my[1]&&(l.top-=h/2),l.left+=c[0],l.top+=c[1],i={marginLeft:e,marginTop:s},I.each(["left","top"],function(t,e){I.ui.position[y[t]]&&I.ui.position[y[t]][e](l,{targetWidth:p,targetHeight:f,elemWidth:r,elemHeight:h,collisionPosition:i,collisionWidth:n,collisionHeight:o,offset:[d[0]+c[0],d[1]+c[1]],my:u.my,at:u.at,within:v,elem:a})}),u.using&&(t=function(t){var e=g.left-l.left,i=e+p-r,s=g.top-l.top,n=s+f-h,o={target:{element:_,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:l.left,top:l.top,width:r,height:h},horizontal:i<0?"left":0<e?"right":"center",vertical:n<0?"top":0<s?"bottom":"middle"};p<r&&x(e+i)<p&&(o.horizontal="center"),f<h&&x(s+n)<f&&(o.vertical="middle"),k(x(e),x(i))>k(x(s),x(n))?o.important="horizontal":o.important="vertical",u.using.call(this,t,o)}),a.offset(I.extend(l,{using:t}))})},I.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,a=t.left-e.collisionPosition.marginLeft,r=n-a,h=a+e.collisionWidth-o-n;e.collisionWidth>o?0<r&&h<=0?(i=t.left+r+e.collisionWidth-o-n,t.left+=r-i):t.left=0<h&&r<=0?n:h<r?n+o-e.collisionWidth:n:0<r?t.left+=r:0<h?t.left-=h:t.left=k(t.left-a,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,r=n-a,h=a+e.collisionHeight-o-n;e.collisionHeight>o?0<r&&h<=0?(i=t.top+r+e.collisionHeight-o-n,t.top+=r-i):t.top=0<h&&r<=0?n:h<r?n+o-e.collisionHeight:n:0<r?t.top+=r:0<h?t.top-=h:t.top=k(t.top-a,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,r=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,l=h-r,c=h+e.collisionWidth-a-r,u="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];l<0?((i=t.left+u+d+p+e.collisionWidth-a-o)<0||i<x(l))&&(t.left+=u+d+p):0<c&&(0<(s=t.left-e.collisionPosition.marginLeft+u+d+p-r)||x(s)<c)&&(t.left+=u+d+p)},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,r=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,l=h-r,c=h+e.collisionHeight-a-r,u="top"===e.my[1],d=u?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];l<0?((s=t.top+d+p+f+e.collisionHeight-a-o)<0||s<x(l))&&(t.top+=d+p+f):0<c&&(0<(i=t.top-e.collisionPosition.marginTop+d+p+f-r)||x(i)<c)&&(t.top+=d+p+f)}},flipfit:{left:function(){I.ui.position.flip.left.apply(this,arguments),I.ui.position.fit.left.apply(this,arguments)},top:function(){I.ui.position.flip.top.apply(this,arguments),I.ui.position.fit.top.apply(this,arguments)}}}}();var t;I.ui.position,I.extend(I.expr[":"],{data:I.expr.createPseudo?I.expr.createPseudo(function(e){return function(t){return!!I.data(t,e)}}):function(t,e,i){return!!I.data(t,i[3])}}),I.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});I.ui.focusable=function(t,e){var i,s,n,o,a,r=t.nodeName.toLowerCase();return"area"===r?(s=(i=t.parentNode).name,!(!t.href||!s||"map"!==i.nodeName.toLowerCase())&&(0<(n=I("img[usemap='#"+s+"']")).length&&n.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(r)?(o=!t.disabled)&&(a=I(t).closest("fieldset")[0])&&(o=!a.disabled):o="a"===r&&t.href||e,o&&I(t).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(I(t)))},I.extend(I.expr[":"],{focusable:function(t){return I.ui.focusable(t,null!=I.attr(t,"tabindex"))}});I.ui.focusable,I.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):I(this[0].form)},I.ui.formResetMixin={_formResetHandler:function(){var e=I(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");I.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(I.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===I.fn.jquery.substring(0,3)&&(I.each(["Width","Height"],function(t,i){var n="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:I.fn.innerWidth,innerHeight:I.fn.innerHeight,outerWidth:I.fn.outerWidth,outerHeight:I.fn.outerHeight};function a(t,e,i,s){return I.each(n,function(){e-=parseFloat(I.css(t,"padding"+this))||0,i&&(e-=parseFloat(I.css(t,"border"+this+"Width"))||0),s&&(e-=parseFloat(I.css(t,"margin"+this))||0)}),e}I.fn["inner"+i]=function(t){return void 0===t?o["inner"+i].call(this):this.each(function(){I(this).css(s,a(this,t)+"px")})},I.fn["outer"+i]=function(t,e){return"number"!=typeof t?o["outer"+i].call(this,t):this.each(function(){I(this).css(s,a(this,t,!0,e)+"px")})}}),I.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});I.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},I.ui.escapeSelector=(e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(e,"\\$1")}),I.fn.labels=function(){var t,e,i,s,n;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),(i=this.attr("id"))&&(n=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),e="label[for='"+I.ui.escapeSelector(i)+"']",s=s.add(n.find(e).addBack(e))),this.pushStack(s))},I.fn.scrollParent=function(t){var e=this.css("position"),i="absolute"===e,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=I(this);return(!i||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:I(this[0].ownerDocument||document)},I.extend(I.expr[":"],{tabbable:function(t){var e=I.attr(t,"tabindex"),i=null!=e;return(!i||0<=e)&&I.ui.focusable(t,i)}}),I.fn.extend({uniqueId:(s=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&I(this).removeAttr("id")})}}),I.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var e,s,o=!1;I(document).on("mouseup",function(){o=!1});I.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===I.data(t.target,e.widgetName+".preventClickEvent"))return I.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!o){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var e=this,i=1===t.which,s=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&I(t.target).closest(this.options.cancel).length;return!(i&&!s&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===I.data(t.target,this.widgetName+".preventClickEvent")&&I.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),o=!0))}},_mouseMove:function(t){if(this._mouseMoved){if(I.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&I.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,o=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),I.ui.plugin={add:function(t,e,i){var s,n=I.ui[t].prototype;for(s in i)n.plugins[s]=n.plugins[s]||[],n.plugins[s].push([e,i[s]])},call:function(t,e,i,s){var n,o=t.plugins[e];if(o&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},I.ui.safeActiveElement=function(e){var i;try{i=e.activeElement}catch(t){i=e.body}return i||(i=e.body),i.nodeName||(i=e.body),i},I.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&I(t).trigger("blur")};I.widget("ui.draggable",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var e=this.options;return!(this.helper||e.disabled||0<I(t.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===e.iframeFix?"iframe":e.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=I(this);return I("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var e=I.ui.safeActiveElement(this.document[0]);I(t.target).closest(e).length||I.ui.safeBlur(e)},_mouseStart:function(t){var e=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),I.ui.ddmanager&&(I.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===I(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),I.ui.ddmanager&&!e.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),I.ui.ddmanager&&I.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,e){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!e){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new I.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",I.ui.ddmanager&&I.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var e=this,i=!1;return I.ui.ddmanager&&!this.options.dropBehaviour&&(i=I.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||I.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?I(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==e._trigger("stop",t)&&e._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),I.ui.ddmanager&&I.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),I.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new I.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!I(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var e=this.options,i=I.isFunction(e.helper),s=i?I(e.helper.apply(this.element[0],[t])):"clone"===e.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===e.appendTo?this.element[0].parentNode:e.appendTo),i&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),I.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),e=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==e&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options,n=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(i=(e=I(s.containment))[0])&&(t=/(scroll|auto)/.test(e.css("overflow")),this.containment=[(parseInt(e.css("borderLeftWidth"),10)||0)+(parseInt(e.css("paddingLeft"),10)||0),(parseInt(e.css("borderTopWidth"),10)||0)+(parseInt(e.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(e.css("borderRightWidth"),10)||0)-(parseInt(e.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(e.css("borderBottomWidth"),10)||0)-(parseInt(e.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=e)):this.containment=s.containment:this.containment=[0,0,I(n).width()-this.helperProportions.width-this.margins.left,(I(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[I(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,I(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,I(window).scrollLeft()+I(window).width()-this.helperProportions.width-this.margins.left,I(window).scrollTop()+(I(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,o,a=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(i=this.relativeContainer?(s=this.relativeContainer.offset(),[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(h=this.originalPageX),"x"===a.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,e,i){return i=i||this._uiHash(),I.ui.plugin.call(this,t,[e,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),I.Widget.prototype._trigger.call(this,t,e,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),I.ui.plugin.add("draggable","connectToSortable",{start:function(e,t,i){var s=I.extend({},t,{item:i.element});i.sortables=[],I(i.options.connectToSortable).each(function(){var t=I(this).sortable("instance");t&&!t.options.disabled&&(i.sortables.push(t),t.refreshPositions(),t._trigger("activate",e,s))})},stop:function(e,t,i){var s=I.extend({},t,{item:i.element});i.cancelHelperRemoval=!1,I.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,s))})},drag:function(i,s,n){I.each(n.sortables,function(){var t=!1,e=this;e.positionAbs=n.positionAbs,e.helperProportions=n.helperProportions,e.offset.click=n.offset.click,e._intersectsWith(e.containerCache)&&(t=!0,I.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&I.contains(e.element[0],this.element[0])&&(t=!1),t})),t?(e.isOver||(e.isOver=1,n._parent=s.helper.parent(),e.currentItem=s.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return s.helper[0]},i.target=e.currentItem[0],e._mouseCapture(i,!0),e._mouseStart(i,!0,!0),e.offset.click.top=n.offset.click.top,e.offset.click.left=n.offset.click.left,e.offset.parent.left-=n.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=n.offset.parent.top-e.offset.parent.top,n._trigger("toSortable",i),n.dropped=e.element,I.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,e.fromOutside=n),e.currentItem&&(e._mouseDrag(i),s.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",i,e._uiHash(e)),e._mouseStop(i,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(i),s.position=n._generatePosition(i,!0),n._trigger("fromSortable",i),n.dropped=!1,I.each(n.sortables,function(){this.refreshPositions()}))})}}),I.ui.plugin.add("draggable","cursor",{start:function(t,e,i){var s=I("body"),n=i.options;s.css("cursor")&&(n._cursor=s.css("cursor")),s.css("cursor",n.cursor)},stop:function(t,e,i){var s=i.options;s._cursor&&I("body").css("cursor",s._cursor)}}),I.ui.plugin.add("draggable","opacity",{start:function(t,e,i){var s=I(e.helper),n=i.options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(t,e,i){var s=i.options;s._opacity&&I(e.helper).css("opacity",s._opacity)}}),I.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,e,i){var s=i.options,n=!1,o=i.scrollParentNotHidden[0],a=i.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+o.offsetHeight-t.pageY<s.scrollSensitivity?o.scrollTop=n=o.scrollTop+s.scrollSpeed:t.pageY-i.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=n=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+o.offsetWidth-t.pageX<s.scrollSensitivity?o.scrollLeft=n=o.scrollLeft+s.scrollSpeed:t.pageX-i.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=n=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(t.pageY-I(a).scrollTop()<s.scrollSensitivity?n=I(a).scrollTop(I(a).scrollTop()-s.scrollSpeed):I(window).height()-(t.pageY-I(a).scrollTop())<s.scrollSensitivity&&(n=I(a).scrollTop(I(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(t.pageX-I(a).scrollLeft()<s.scrollSensitivity?n=I(a).scrollLeft(I(a).scrollLeft()-s.scrollSpeed):I(window).width()-(t.pageX-I(a).scrollLeft())<s.scrollSensitivity&&(n=I(a).scrollLeft(I(a).scrollLeft()+s.scrollSpeed)))),!1!==n&&I.ui.ddmanager&&!s.dropBehaviour&&I.ui.ddmanager.prepareOffsets(i,t)}}),I.ui.plugin.add("draggable","snap",{start:function(t,e,i){var s=i.options;i.snapElements=[],I(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var t=I(this),e=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:e.top,left:e.left})})},drag:function(t,e,i){var s,n,o,a,r,h,l,c,u,d,p=i.options,f=p.snapTolerance,g=e.offset.left,m=g+i.helperProportions.width,_=e.offset.top,v=_+i.helperProportions.height;for(u=i.snapElements.length-1;0<=u;u--)h=(r=i.snapElements[u].left-i.margins.left)+i.snapElements[u].width,c=(l=i.snapElements[u].top-i.margins.top)+i.snapElements[u].height,m<r-f||h+f<g||v<l-f||c+f<_||!I.contains(i.snapElements[u].item.ownerDocument,i.snapElements[u].item)?(i.snapElements[u].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,I.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(s=Math.abs(l-v)<=f,n=Math.abs(c-_)<=f,o=Math.abs(r-m)<=f,a=Math.abs(h-g)<=f,s&&(e.position.top=i._convertPositionTo("relative",{top:l-i.helperProportions.height,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r-i.helperProportions.width}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=s||n||o||a,"outer"!==p.snapMode&&(s=Math.abs(l-_)<=f,n=Math.abs(c-v)<=f,o=Math.abs(r-g)<=f,a=Math.abs(h-m)<=f,s&&(e.position.top=i._convertPositionTo("relative",{top:l,left:0}).top),n&&(e.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(e.position.left=i._convertPositionTo("relative",{top:0,left:r}).left),a&&(e.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[u].snapping&&(s||n||o||a||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,I.extend(i._uiHash(),{snapItem:i.snapElements[u].item})),i.snapElements[u].snapping=s||n||o||a||d)}}),I.ui.plugin.add("draggable","stack",{start:function(t,e,i){var s,n=i.options,o=I.makeArray(I(n.stack)).sort(function(t,e){return(parseInt(I(t).css("zIndex"),10)||0)-(parseInt(I(e).css("zIndex"),10)||0)});o.length&&(s=parseInt(I(o[0]).css("zIndex"),10)||0,I(o).each(function(t){I(this).css("zIndex",s+t)}),this.css("zIndex",s+o.length))}}),I.ui.plugin.add("draggable","zIndex",{start:function(t,e,i){var s=I(e.helper),n=i.options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(t,e,i){var s=i.options;s._zIndex&&I(e.helper).css("zIndex",s._zIndex)}});I.ui.draggable;I.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=I.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});t=arguments[0]},this._addToManager(e.scope),e.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){I.ui.ddmanager.droppables[t]=I.ui.ddmanager.droppables[t]||[],I.ui.ddmanager.droppables[t].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var t=I.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,e){if("accept"===t)this.accept=I.isFunction(e)?e:function(t){return t.is(e)};else if("scope"===t){var i=I.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(e)}this._super(t,e)},_activate:function(t){var e=I.ui.ddmanager.current;this._addActiveClass(),e&&this._trigger("activate",t,this.ui(e))},_deactivate:function(t){var e=I.ui.ddmanager.current;this._removeActiveClass(),e&&this._trigger("deactivate",t,this.ui(e))},_over:function(t){var e=I.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(e)))},_out:function(t){var e=I.ui.ddmanager.current;e&&(e.currentItem||e.element)[0]!==this.element[0]&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(e)))},_drop:function(e,t){var i=t||I.ui.ddmanager.current,s=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=I(this).droppable("instance");if(t.options.greedy&&!t.options.disabled&&t.options.scope===i.options.scope&&t.accept.call(t.element[0],i.currentItem||i.element)&&h(i,I.extend(t,{offset:t.element.offset()}),t.options.tolerance,e))return!(s=!0)}),!s&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var h=I.ui.intersect=function(){function d(t,e,i){return e<=t&&t<e+i}return function(t,e,i,s){if(!e.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,a=n+t.helperProportions.width,r=o+t.helperProportions.height,h=e.offset.left,l=e.offset.top,c=h+e.proportions().width,u=l+e.proportions().height;switch(i){case"fit":return h<=n&&a<=c&&l<=o&&r<=u;case"intersect":return h<n+t.helperProportions.width/2&&a-t.helperProportions.width/2<c&&l<o+t.helperProportions.height/2&&r-t.helperProportions.height/2<u;case"pointer":return d(s.pageY,l,e.proportions().height)&&d(s.pageX,h,e.proportions().width);case"touch":return(l<=o&&o<=u||l<=r&&r<=u||o<l&&u<r)&&(h<=n&&n<=c||h<=a&&a<=c||n<h&&c<a);default:return!1}}}();!(I.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,e){var i,s,n=I.ui.ddmanager.droppables[t.options.scope]||[],o=e?e.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<n.length;i++)if(!(n[i].options.disabled||t&&!n[i].accept.call(n[i].element[0],t.currentItem||t.element))){for(s=0;s<a.length;s++)if(a[s]===n[i].element[0]){n[i].proportions().height=0;continue t}n[i].visible="none"!==n[i].element.css("display"),n[i].visible&&("mousedown"===o&&n[i]._activate.call(n[i],e),n[i].offset=n[i].element.offset(),n[i].proportions({width:n[i].element[0].offsetWidth,height:n[i].element[0].offsetHeight}))}},drop:function(t,e){var i=!1;return I.each((I.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&h(t,this,this.options.tolerance,e)&&(i=this._drop.call(this,e)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,e)))}),i},dragStart:function(t,e){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||I.ui.ddmanager.prepareOffsets(t,e)})},drag:function(o,a){o.options.refreshPositions&&I.ui.ddmanager.prepareOffsets(o,a),I.each(I.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var t,e,i,s=h(o,this,this.options.tolerance,a),n=!s&&this.isover?"isout":s&&!this.isover?"isover":null;n&&(this.options.greedy&&(e=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return I(this).droppable("instance").options.scope===e})).length&&((t=I(i[0]).droppable("instance")).greedyChild="isover"===n)),t&&"isover"===n&&(t.isover=!1,t.isout=!0,t._out.call(t,a)),this[n]=!0,this["isout"===n?"isover":"isout"]=!1,this["isover"===n?"_over":"_out"].call(this,a),t&&"isout"===n&&(t.isout=!1,t.isover=!0,t._over.call(t,a)))}})},dragStop:function(t,e){t.element.parentsUntil("body").off("scroll.droppable"),t.options.refreshPositions||I.ui.ddmanager.prepareOffsets(t,e)}})!==I.uiBackCompat&&I.widget("ui.droppable",I.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});I.ui.droppable;I.widget("ui.resizable",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===I(t).css("overflow"))return!1;var i,s=e&&"left"===e?"scrollLeft":"scrollTop";return 0<t[s]||(t[s]=1,i=0<t[s],t[s]=0,i)},_create:function(){var t,e=this.options,i=this;this._addClass("ui-resizable"),I.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(I("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&I(this.element).on("mouseenter",function(){e.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){e.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){I(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,i,s,n,o=this.options,a=this;if(this.handles=o.handles||(I(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=I(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},e=0;e<i.length;e++)s="ui-resizable-"+(t=I.trim(i[e])),n=I("<div>"),this._addClass(n,"ui-resizable-handle "+s),n.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(n);this._renderAxis=function(t){var e,i,s,n;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=I(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=I(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth(),s=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(s,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,i,s=!1;for(e in this.handles)((i=I(this.handles[e])[0])===t.target||I.contains(i,t.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(t){var e,i,s,n=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),n.containment&&(e+=I(n.containment).scrollLeft()||0,i+=I(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=I(".ui-resizable-"+this.axis).css("cursor"),I("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,i,s=this.originalMousePosition,n=this.axis,o=t.pageX-s.left||0,a=t.pageY-s.top||0,r=this._change[n];return this._updatePrevProperties(),r&&(e=r.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),I.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,i,s,n,o,a,r,h=this.options,l=this;return this._helper&&(s=(i=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:l.sizeDiff.height,n=i?0:l.sizeDiff.width,o={width:l.helper.width()-n,height:l.helper.height()-s},a=parseFloat(l.element.css("left"))+(l.position.left-l.originalPosition.left)||null,r=parseFloat(l.element.css("top"))+(l.position.top-l.originalPosition.top)||null,h.animate||this.element.css(I.extend(o,{top:r,left:a})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!h.animate&&this._proportionallyResize()),I("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,s,n,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,s=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,n=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),s>o.minHeight&&(o.minHeight=s),i<o.maxWidth&&(o.maxWidth=i),n<o.maxHeight&&(o.maxHeight=n)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,s=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,n=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,r=this.originalPosition.left+this.originalSize.width,h=this.originalPosition.top+this.originalSize.height,l=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),n&&(t.height=e.maxHeight),o&&l&&(t.left=r-e.minWidth),s&&l&&(t.left=r-e.maxWidth),a&&c&&(t.top=h-e.minHeight),n&&c&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],n=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(s[e])||0,i[e]+=parseFloat(n[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||I("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return I.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return I.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return I.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return I.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){I.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),I.ui.plugin.add("resizable","animate",{stop:function(e){var i=I(this).resizable("instance"),t=i.options,s=i._proportionallyResizeElements,n=s.length&&/textarea/i.test(s[0].nodeName),o=n&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=n?0:i.sizeDiff.width,r={width:i.size.width-a,height:i.size.height-o},h=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,l=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(I.extend(r,l&&h?{top:l,left:h}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&I(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),I.ui.plugin.add("resizable","containment",{start:function(){var i,s,t,e,n,o,a,r=I(this).resizable("instance"),h=r.options,l=r.element,c=h.containment,u=c instanceof I?c.get(0):/parent/.test(c)?l.parent().get(0):c;u&&(r.containerElement=I(u),/document/.test(c)||c===document?(r.containerOffset={left:0,top:0},r.containerPosition={left:0,top:0},r.parentData={element:I(document),left:0,top:0,width:I(document).width(),height:I(document).height()||document.body.parentNode.scrollHeight}):(i=I(u),s=[],I(["Top","Right","Left","Bottom"]).each(function(t,e){s[t]=r._num(i.css("padding"+e))}),r.containerOffset=i.offset(),r.containerPosition=i.position(),r.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},t=r.containerOffset,e=r.containerSize.height,n=r.containerSize.width,o=r._hasScroll(u,"left")?u.scrollWidth:n,a=r._hasScroll(u)?u.scrollHeight:e,r.parentData={element:u,left:t.left,top:t.top,width:o,height:a}))},resize:function(t){var e,i,s,n,o=I(this).resizable("instance"),a=o.options,r=o.containerOffset,h=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},u=o.containerElement,d=!0;u[0]!==document&&/static/.test(u.css("position"))&&(c=r),h.left<(o._helper?r.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-r.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio,d=!1),o.position.left=a.helper?r.left:0),h.top<(o._helper?r.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-r.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio,d=!1),o.position.top=o._helper?r.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),o.offset.top=s&&n?(o.offset.left=o.parentData.left+o.position.left,o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-c.left:o.offset.left-r.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-c.top:o.offset.top-r.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,l&&(o.size.height=o.size.width/o.aspectRatio,d=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,l&&(o.size.width=o.size.height*o.aspectRatio,d=!1)),d||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=I(this).resizable("instance"),e=t.options,i=t.containerOffset,s=t.containerPosition,n=t.containerElement,o=I(t.helper),a=o.offset(),r=o.outerWidth()-t.sizeDiff.width,h=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&I(this).css({left:a.left-s.left-i.left,width:r,height:h}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&I(this).css({left:a.left-s.left-i.left,width:r,height:h})}}),I.ui.plugin.add("resizable","alsoResize",{start:function(){var t=I(this).resizable("instance").options;I(t.alsoResize).each(function(){var t=I(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var e=I(this).resizable("instance"),s=e.options,n=e.originalSize,o=e.originalPosition,a={height:e.size.height-n.height||0,width:e.size.width-n.width||0,top:e.position.top-o.top||0,left:e.position.left-o.left||0};I(s.alsoResize).each(function(){var t=I(this),s=I(this).data("ui-resizable-alsoresize"),n={},e=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];I.each(e,function(t,e){var i=(s[e]||0)+(a[e]||0);i&&0<=i&&(n[e]=i||null)}),t.css(n)})},stop:function(){I(this).removeData("ui-resizable-alsoresize")}}),I.ui.plugin.add("resizable","ghost",{start:function(){var t=I(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==I.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=I(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=I(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),I.ui.plugin.add("resizable","grid",{resize:function(){var t,e=I(this).resizable("instance"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&i.maxWidth<d,g=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>d,_=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),_&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):((p-l<=0||d-h<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),e.position.top=0<p-l?(e.size.height=p,o.top-u):(p=l-t.height,e.size.height=p,o.top+n.height-p),e.position.left=0<d-h?(e.size.width=d,o.left-c):(d=h-t.width,e.size.width=d,o.left+n.width-d))}});I.ui.resizable,I.widget("ui.selectable",I.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var s=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){s.elementPos=I(s.element[0]).offset(),s.selectees=I(s.options.filter,s.element[0]),s._addClass(s.selectees,"ui-selectee"),s.selectees.each(function(){var t=I(this),e=t.offset(),i={left:e.left-s.elementPos.left,top:e.top-s.elementPos.top};I.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=I("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(i){var s=this,t=this.options;this.opos=[i.pageX,i.pageY],this.elementPos=I(this.element[0]).offset(),this.options.disabled||(this.selectees=I(t.filter,this.element[0]),this._trigger("start",i),I(t.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),t.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var t=I.data(this,"selectable-item");t.startselected=!0,i.metaKey||i.ctrlKey||(s._removeClass(t.$element,"ui-selected"),t.selected=!1,s._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,s._trigger("unselecting",i,{unselecting:t.element}))}),I(i.target).parents().addBack().each(function(){var t,e=I.data(this,"selectable-item");if(e)return t=!i.metaKey&&!i.ctrlKey||!e.$element.hasClass("ui-selected"),s._removeClass(e.$element,t?"ui-unselecting":"ui-selected")._addClass(e.$element,t?"ui-selecting":"ui-unselecting"),e.unselecting=!t,e.selecting=t,(e.selected=t)?s._trigger("selecting",i,{selecting:e.element}):s._trigger("unselecting",i,{unselecting:e.element}),!1}))},_mouseDrag:function(s){if(this.dragged=!0,!this.options.disabled){var t,n=this,o=this.options,a=this.opos[0],r=this.opos[1],h=s.pageX,l=s.pageY;return h<a&&(t=h,h=a,a=t),l<r&&(t=l,l=r,r=t),this.helper.css({left:a,top:r,width:h-a,height:l-r}),this.selectees.each(function(){var t=I.data(this,"selectable-item"),e=!1,i={};t&&t.element!==n.element[0]&&(i.left=t.left+n.elementPos.left,i.right=t.right+n.elementPos.left,i.top=t.top+n.elementPos.top,i.bottom=t.bottom+n.elementPos.top,"touch"===o.tolerance?e=!(i.left>h||i.right<a||i.top>l||i.bottom<r):"fit"===o.tolerance&&(e=i.left>a&&i.right<h&&i.top>r&&i.bottom<l),e?(t.selected&&(n._removeClass(t.$element,"ui-selected"),t.selected=!1),t.unselecting&&(n._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1),t.selecting||(n._addClass(t.$element,"ui-selecting"),t.selecting=!0,n._trigger("selecting",s,{selecting:t.element}))):(t.selecting&&((s.metaKey||s.ctrlKey)&&t.startselected?(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,n._addClass(t.$element,"ui-selected"),t.selected=!0):(n._removeClass(t.$element,"ui-selecting"),t.selecting=!1,t.startselected&&(n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0),n._trigger("unselecting",s,{unselecting:t.element}))),t.selected&&(s.metaKey||s.ctrlKey||t.startselected||(n._removeClass(t.$element,"ui-selected"),t.selected=!1,n._addClass(t.$element,"ui-unselecting"),t.unselecting=!0,n._trigger("unselecting",s,{unselecting:t.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,I(".ui-unselecting",this.element[0]).each(function(){var t=I.data(this,"selectable-item");i._removeClass(t.$element,"ui-unselecting"),t.unselecting=!1,t.startselected=!1,i._trigger("unselected",e,{unselected:t.element})}),I(".ui-selecting",this.element[0]).each(function(){var t=I.data(this,"selectable-item");i._removeClass(t.$element,"ui-selecting")._addClass(t.$element,"ui-selected"),t.selecting=!1,t.selected=!0,t.startselected=!0,i._trigger("selected",e,{selected:t.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),I.widget("ui.sortable",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return e<=t&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),I.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;0<=t;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,e){var i=null,s=!1,n=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),I(t.target).parents().each(function(){if(I.data(this,n.widgetName+"-item")===n)return i=I(this),!1}),I.data(t.target,n.widgetName+"-item")===n&&(i=I(t.target)),!!i&&(!(this.options.handle&&!e&&(I(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(s=!0)}),!s))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,e,i){var s,n,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},I.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",o.cursor),this.storedStylesheet=I("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(n)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(s=this.containers.length-1;0<=s;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return I.ui.ddmanager&&(I.ui.ddmanager.current=this),I.ui.ddmanager&&!o.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,i,s,n,o=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&I.ui.ddmanager&&!o.dropBehaviour&&I.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;0<=e;e--)if(s=(i=this.items[e]).item[0],(n=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===n?"next":"prev"]()[0]===s||I.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&I.contains(this.element[0],s))){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),I.ui.ddmanager&&I.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,e){if(t){if(I.ui.ddmanager&&!this.options.dropBehaviour&&I.ui.ddmanager.drop(this,t),this.options.revert){var i=this,s=this.placeholder.offset(),n=this.options.axis,o={};n&&"x"!==n||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,I(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,e);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new I.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;0<=t;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),I.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?I(this.domPosition.prev).after(this.currentItem):I(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},I(t).each(function(){var t=(I(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e.each(function(){i.push(I(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||r<s+l&&s+l<h,d="y"===this.options.axis||o<e+c&&e+c<a,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<a&&r<s+this.helperProportions.height/2&&n-this.helperProportions.height/2<h},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!s||!n)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return this.floating&&n?"right"===n&&i||"left"===n&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(0<t?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(0<t?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(t){var e,i,s,n,o=[],a=[],r=this._connectWith();if(r&&t)for(e=r.length-1;0<=e;e--)for(i=(s=I(r[e],this.document[0])).length-1;0<=i;i--)(n=I.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&a.push([I.isFunction(n.options.items)?n.options.items.call(n.element):I(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);function h(){o.push(this)}for(a.push([I.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):I(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),e=a.length-1;0<=e;e--)a[e][0].each(h);return I(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=I.grep(this.items,function(t){for(var e=0;e<i.length;e++)if(i[e]===t.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var e,i,s,n,o,a,r,h,l=this.items,c=[[I.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):I(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(e=u.length-1;0<=e;e--)for(i=(s=I(u[e],this.document[0])).length-1;0<=i;i--)(n=I.data(s[i],this.widgetFullName))&&n!==this&&!n.options.disabled&&(c.push([I.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):I(n.options.items,n.element),n]),this.containers.push(n));for(e=c.length-1;0<=e;e--)for(o=c[e][1],i=0,h=(a=c[e][0]).length;i<h;i++)(r=I(a[i])).data(this.widgetName+"-item",o),l.push({item:r,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var e,i,s,n;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),e=this.items.length-1;0<=e;e--)(i=this.items[e]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?I(this.options.toleranceElement,i.item):i.item,t||(i.width=s.outerWidth(),i.height=s.outerHeight()),n=s.offset(),i.left=n.left,i.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(e=this.containers.length-1;0<=e;e--)n=this.containers[e].element.offset(),this.containers[e].containerCache.left=n.left,this.containers[e].containerCache.top=n.top,this.containers[e].containerCache.width=this.containers[e].element.outerWidth(),this.containers[e].containerCache.height=this.containers[e].element.outerHeight();return this},_createPlaceholder:function(i){var s,n=(i=i||this).options;n.placeholder&&n.placeholder.constructor!==String||(s=n.placeholder,n.placeholder={element:function(){var t=i.currentItem[0].nodeName.toLowerCase(),e=I("<"+t+">",i.document[0]);return i._addClass(e,"ui-sortable-placeholder",s||i.currentItem[0].className)._removeClass(e,"ui-sortable-helper"),"tbody"===t?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),I("<tr>",i.document[0]).appendTo(e)):"tr"===t?i._createTrPlaceholder(i.currentItem,e):"img"===t&&e.attr("src",i.currentItem.attr("src")),s||e.css("visibility","hidden"),e},update:function(t,e){s&&!n.forcePlaceholderSize||(e.height()||e.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=I(n.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),n.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function(t,e){var i=this;t.children().each(function(){I("<td>&#160;</td>",i.document[0]).attr("colspan",I(this).attr("colspan")||1).appendTo(e)})},_contactContainers:function(t){var e,i,s,n,o,a,r,h,l,c,u=null,d=null;for(e=this.containers.length-1;0<=e;e--)if(!I.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(u&&I.contains(this.containers[e].element[0],u.element[0]))continue;u=this.containers[e],d=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",t,this._uiHash(this)),this.containers[e].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(s=1e4,n=null,o=(l=u.floating||this._isFloating(this.currentItem))?"left":"top",a=l?"width":"height",c=l?"pageX":"pageY",i=this.items.length-1;0<=i;i--)I.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(r=this.items[i].item.offset()[o],h=!1,t[c]-r>this.items[i][a]/2&&(h=!0),Math.abs(t[c]-r)<s&&(s=Math.abs(t[c]-r),n=this.items[i],this.direction=h?"up":"down"));if(!n&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return void(this.currentContainer.containerCache.over||(this.containers[d]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[d].element,!0),this._trigger("change",t,this._uiHash()),this.containers[d]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",t,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(t){var e=this.options,i=I.isFunction(e.helper)?I(e.helper.apply(this.element[0],[t,this.currentItem])):"clone"===e.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||I("parent"!==e.appendTo?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!e.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!e.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),I.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&I.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,e,i,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(t=I(s.containment)[0],e=I(s.containment).offset(),i="hidden"!==I(t).css("overflow"),this.containment=[e.left+(parseInt(I(t).css("borderLeftWidth"),10)||0)+(parseInt(I(t).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(I(t).css("borderTopWidth"),10)||0)+(parseInt(I(t).css("paddingTop"),10)||0)-this.margins.top,e.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(I(t).css("borderLeftWidth"),10)||0)-(parseInt(I(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(I(t).css("borderTopWidth"),10)||0)-(parseInt(I(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(s[0].tagName);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:s.scrollTop())*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:s.scrollLeft())*i}},_generatePosition:function(t){var e,i,s=this.options,n=t.pageX,o=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&I.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(e=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?e-this.offset.click.top>=this.containment[1]&&e-this.offset.click.top<=this.containment[3]?e:e-this.offset.click.top>=this.containment[1]?e-s.grid[1]:e+s.grid[1]:e,i=this.originalPageX+Math.round((n-this.originalPageX)/s.grid[0])*s.grid[0],n=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-s.grid[0]:i+s.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:a.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:a.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function n(e,i,s){return function(t){s._trigger(e,t,i._uiHash(i))}}for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)e||s.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<s.length;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===I.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var e=t||this;return{helper:e.helper,placeholder:e.placeholder||I([]),position:e.position,originalPosition:e.originalPosition,offset:e.positionAbs,item:e.currentItem,sender:t?t.element:null}}}),I.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=I(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),t.active<0&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():I()}},_createIcons:function(){var t,e,i=this.options.icons;i&&(t=I("<span>"),this._addClass(t,"ui-accordion-header-icon","ui-icon "+i.header),t.prependTo(this.headers),e=this.active.children(".ui-accordion-header-icon"),this._removeClass(e,i.header)._addClass(e,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var e=I.ui.keyCode,i=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case e.RIGHT:case e.DOWN:n=this.headers[(s+1)%i];break;case e.LEFT:case e.UP:n=this.headers[(s-1+i)%i];break;case e.SPACE:case e.ENTER:this._eventHandler(t);break;case e.HOME:n=this.headers[0];break;case e.END:n=this.headers[i-1]}n&&(I(t.target).attr("tabIndex",-1),I(n).attr("tabIndex",0),I(n).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===I.ui.keyCode.UP&&t.ctrlKey&&I(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=I()):!1===t.active?this._activate(0):this.active.length&&!I.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=I()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var i,t=this.options,e=t.heightStyle,s=this.element.parent();this.active=this._findActive(t.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var t=I(this),e=t.uniqueId().attr("id"),i=t.next(),s=i.uniqueId().attr("id");t.attr("aria-controls",s),i.attr("aria-labelledby",e)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(t.event),"fill"===e?(i=s.height(),this.element.siblings(":visible").each(function(){var t=I(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=I(this).outerHeight(!0)}),this.headers.next().each(function(){I(this).height(Math.max(0,i-I(this).innerHeight()+I(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.headers.next().each(function(){var t=I(this).is(":visible");t||I(this).show(),i=Math.max(i,I(this).css("height","").height()),t||I(this).hide()}).height(i))},_activate:function(t){var e=this._findActive(t)[0];e!==this.active[0]&&(e=e||this.active[0],this._eventHandler({target:e,currentTarget:e,preventDefault:I.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):I()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&I.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var e,i,s=this.options,n=this.active,o=I(t.currentTarget),a=o[0]===n[0],r=a&&s.collapsible,h=r?I():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?I():o,newPanel:h};t.preventDefault(),a&&!s.collapsible||!1===this._trigger("beforeActivate",t,c)||(s.active=!r&&this.headers.index(o),this.active=a?I():o,this._toggle(c),this._removeClass(n,"ui-accordion-header-active","ui-state-active"),s.icons&&(e=n.children(".ui-accordion-header-icon"),this._removeClass(e,null,s.icons.activeHeader)._addClass(e,null,s.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),s.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,s.icons.header)._addClass(i,null,s.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(t){var e=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=e,this.prevHide=i,this.options.animate?this._animate(e,i,t):(i.hide(),e.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),e.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):e.length&&this.headers.filter(function(){return 0===parseInt(I(this).attr("tabIndex"),10)}).attr("tabIndex",-1),e.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,i,e){var s,n,o,a=this,r=0,h=t.css("box-sizing"),l=t.length&&(!i.length||t.index()<i.index()),c=this.options.animate||{},u=l&&c.down||c,d=function(){a._toggleComplete(e)};return"number"==typeof u&&(o=u),"string"==typeof u&&(n=u),n=n||u.easing||c.easing,o=o||u.duration||c.duration,i.length?t.length?(s=t.show().outerHeight(),i.animate(this.hideProps,{duration:o,easing:n,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:n,complete:d,step:function(t,e){e.now=Math.round(t),"height"!==e.prop?"content-box"===h&&(r+=e.now):"content"!==a.options.heightStyle&&(e.now=Math.round(s-i.outerHeight()-r),r=0)}})):i.animate(this.hideProps,o,n,d):t.animate(this.showProps,o,n,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),I.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(t){var e=I(t.target),i=I(I.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&e.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),e.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var e=I(t.target).closest(".ui-menu-item"),i=I(t.currentTarget);e[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(t){this._delay(function(){!I.contains(this.element[0],I.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),t.children().each(function(){var t=I(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var e,i,s,n,o=!0;switch(t.keyCode){case I.ui.keyCode.PAGE_UP:this.previousPage(t);break;case I.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case I.ui.keyCode.HOME:this._move("first","first",t);break;case I.ui.keyCode.END:this._move("last","last",t);break;case I.ui.keyCode.UP:this.previous(t);break;case I.ui.keyCode.DOWN:this.next(t);break;case I.ui.keyCode.LEFT:this.collapse(t);break;case I.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case I.ui.keyCode.ENTER:case I.ui.keyCode.SPACE:this._activate(t);break;case I.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,i=this.previousFilter||"",n=!1,s=96<=t.keyCode&&t.keyCode<=105?(t.keyCode-96).toString():String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),s===i?n=!0:s=i+s,e=this._filterMenuItems(s),(e=n&&-1!==e.index(this.active.next())?this.active.nextAll(".ui-menu-item"):e).length||(s=String.fromCharCode(t.keyCode),e=this._filterMenuItems(s)),e.length?(this.focus(t,e),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var t,e,i,s,n=this,o=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),e=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=I(this),e=t.prev(),i=I("<span>").data("ui-menu-submenu-caret",!0);n._addClass(i,"ui-menu-icon","ui-icon "+o),e.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",e.attr("id"))}),this._addClass(e,"ui-menu","ui-widget ui-widget-content ui-front"),(t=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var t=I(this);n._isDivider(t)&&n._addClass(t,"ui-menu-divider","ui-widget-content")}),s=(i=t.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),t.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!I.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,s,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(t){var e,i,s,n,o,a;this._hasScroll()&&(e=parseFloat(I.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(I.css(this.activeMenu[0],"paddingTop"))||0,s=t.offset().top-this.activeMenu.offset().top-e-i,n=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=t.outerHeight(),s<0?this.activeMenu.scrollTop(n+s):o<s+a&&this.activeMenu.scrollTop(n+s-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(t){var e=I.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(e)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var t=i?this.element:I(e&&e.target).closest(this.element.find(".ui-menu"));t.length||(t=this.element),this._close(t),this.blur(e),this._removeClass(t.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=t},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!I(t.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[e]()),this.focus(i,s)},nextPage:function(t){var e,i,s;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(e=I(this)).offset().top-i-s<0}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(t)},previousPage:function(t){var e,i,s;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(e=I(this)).offset().top-i+s}),this.focus(t,e)):this.focus(t,this.activeMenu.find(this.options.items).first())):this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||I(t.target).closest(".ui-menu-item");var e={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,e)},_filterMenuItems:function(t){var e=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+e,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(I.trim(I(this).children(".ui-menu-item-wrapper").text()))})}});I.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var i,s,n,t=this.element[0].nodeName.toLowerCase(),e="textarea"===t,o="input"===t;this.isMultiLine=e||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[e||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(t){if(this.element.prop("readOnly"))s=n=i=!0;else{s=n=i=!1;var e=I.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:i=!0,this._move("previousPage",t);break;case e.PAGE_DOWN:i=!0,this._move("nextPage",t);break;case e.UP:i=!0,this._keyEvent("previous",t);break;case e.DOWN:i=!0,this._keyEvent("next",t);break;case e.ENTER:this.menu.active&&(i=!0,t.preventDefault(),this.menu.select(t));break;case e.TAB:this.menu.active&&this.menu.select(t);break;case e.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(t),t.preventDefault());break;default:s=!0,this._searchTimeout(t)}}},keypress:function(t){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||t.preventDefault());if(!s){var e=I.ui.keyCode;switch(t.keyCode){case e.PAGE_UP:this._move("previousPage",t);break;case e.PAGE_DOWN:this._move("nextPage",t);break;case e.UP:this._keyEvent("previous",t);break;case e.DOWN:this._keyEvent("next",t)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=I("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==I.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,e){var i,s;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){I(t.target).trigger(t.originalEvent)});s=e.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:s})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value),(i=e.item.attr("aria-label")||s.value)&&I.trim(i).length&&(this.liveRegion.children().hide(),I("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==I.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=I("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var e=this.menu.element[0];return t.target===this.element[0]||t.target===e||I.contains(e,t.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?I(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,s,n=this;I.isArray(this.options.source)?(i=this.options.source,this.source=function(t,e){e(I.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(s=this.options.source,this.source=function(t,e){n.xhr&&n.xhr.abort(),n.xhr=I.ajax({url:s,data:t,dataType:"json",success:function(t){e(t)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(s){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),e=this.menu.element.is(":visible"),i=s.altKey||s.ctrlKey||s.metaKey||s.shiftKey;t&&(!t||e||i)||(this.selectedItem=null,this.search(null,s))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return I.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:I.map(t,function(t){return"string"==typeof t?{label:t,value:t}:I.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var e=this.menu.element.empty();this._renderMenu(e,t),this.isNewMenu=!0,this.menu.refresh(),e.show(),this._resizeMenu(),e.position(I.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,t){var s=this;I.each(t,function(t,e){s._renderItemData(i,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(t,e){return I("<li>").append(I("<div>").text(e.label)).appendTo(t)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),I.extend(I.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,e){var i=new RegExp(I.ui.autocomplete.escapeRegex(e),"i");return I.grep(t,function(t){return i.test(t.label||t.value||t)})}}),I.widget("ui.autocomplete",I.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(1<t?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),I("<div>").text(e).appendTo(this.liveRegion))}});I.ui.autocomplete;var a=/ui-corner-([a-z]){2,6}/g;I.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,r=[];I.each(this.options.items,function(n,t){var e,o={};if(t)return"controlgroupLabel"===n?((e=a.element.find(t)).each(function(){var t=I(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(r=r.concat(e.get()))):void(I.fn[n]&&(o=a["_"+n+"Options"]?a["_"+n+"Options"]("middle"):{classes:{}},a.element.find(t).each(function(){var t=I(this),e=t[n]("instance"),i=I.widget.extend({},o);if("button"!==n||!t.parent(".ui-spinner").length){e||(e=t[n]()[n]("instance")),e&&(i.classes=a._resolveClassesValues(i.classes,e)),t[n](i);var s=t[n]("widget");I.data(s[0],"ui-controlgroup-data",e||t[n]("instance")),r.push(s[0])}})))}),this.childWidgets=I(I.unique(r)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=I(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,s={classes:{}};return s.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],s},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(i,s){var n={};return I.each(i,function(t){var e=s.options.classes[t]||"";e=I.trim(e.replace(a,"")),n[t]=(e+" "+i[t]).replace(/\s+/g," ")}),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var n,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),n=this.childWidgets,this.options.onlyVisible&&(n=n.filter(":visible")),n.length&&(I.each(["first","last"],function(t,e){var i=n[e]().data("ui-controlgroup-data");if(i&&o["_"+i.widgetName+"Options"]){var s=o["_"+i.widgetName+"Options"](1===n.length?"only":e);s.classes=o._resolveClassesValues(s.classes,i),i.element[i.widgetName](s)}else o._updateCornerClass(n[e](),e)}),this._callChildMethod("refresh"))}});I.widget("ui.checkboxradio",[I.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e,i=this,s=this._super()||{};return this._readType(),e=this.element.labels(),this.label=I(e[e.length-1]),this.label.length||I.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?I(this).text():this.outerHTML}),this.originalLabel&&(s.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(s.disabled=t),s},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||I.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+I.ui.escapeSelector(t)+"']";return t?(this.form.length?I(this.form[0].elements).filter(e):I(e).filter(function(){return 0===I(this).form().length})).not(this.element):I([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=I(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=I("<span>"),this.iconSpace=I("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);var l;I.ui.checkboxradio;I.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===I.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var i="iconPosition"!==t,s=i?this.options.iconPosition:e,n="top"===s||"bottom"===s;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=I("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,e),this._attachIcon(s),n?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=I("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),(this.element[0].disabled=e)&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==I.uiBackCompat&&(I.widget("ui.button",I.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),I.fn.button=(l=I.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?l.apply(this,arguments):(I.ui.checkboxradio||I.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),I.fn.buttonset=function(){return I.ui.controlgroup||I.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"===_typeof(arguments[0])&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var c;I.ui.button;function u(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},I.extend(this._defaults,this.regional[""]),this.regional.en=I.extend(!0,{},this.regional[""]),this.regional["en-US"]=I.extend(!0,{},this.regional.en),this.dpDiv=d(I("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",e,function(){I(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",e,p)}function p(){I.datepicker._isDisabledDatepicker(c.inline?c.dpDiv.parent()[0]:c.input[0])||(I(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),I(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&I(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&I(this).addClass("ui-datepicker-next-hover"))}function f(t,e){for(var i in I.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}I.extend(I.ui,{datepicker:{version:"1.12.1"}}),I.extend(u.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return f(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,s,n;s="div"===(i=t.nodeName.toLowerCase())||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),(n=this._newInst(I(t),s)).settings=I.extend({},e||{}),"input"===i?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?d(I("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=I(t);e.append=I([]),e.trigger=I([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(e),I.data(t,"datepicker",e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,s,n,o=this._get(e,"appendText"),a=this._get(e,"isRTL");e.append&&e.append.remove(),o&&(e.append=I("<span class='"+this._appendClass+"'>"+o+"</span>"),t[a?"before":"after"](e.append)),t.off("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(s=this._get(e,"buttonText"),n=this._get(e,"buttonImage"),e.trigger=I(this._get(e,"buttonImageOnly")?I("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):I("<button type='button'></button>").addClass(this._triggerClass).html(n?I("<img/>").attr({src:n,alt:s,title:s}):s)),t[a?"before":"after"](e.trigger),e.trigger.on("click",function(){return I.datepicker._datepickerShowing&&I.datepicker._lastInput===t[0]?I.datepicker._hideDatepicker():(I.datepicker._datepickerShowing&&I.datepicker._lastInput!==t[0]&&I.datepicker._hideDatepicker(),I.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=s=i=0;n<t.length;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(t,e){var i=I(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),I.data(t,"datepicker",e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,s,n){var o,a,r,h,l,c=this._dialogInst;return c||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=I("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),I("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},I.data(this._dialogInput[0],"datepicker",c)),f(c.settings,s||{}),e=e&&e.constructor===Date?this._formatDate(c,e):e,this._dialogInput.val(e),this._pos=n?n.length?n:[n.pageX,n.pageY]:null,this._pos||(a=document.documentElement.clientWidth,r=document.documentElement.clientHeight,h=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+h,r/2-150+l]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),I.blockUI&&I.blockUI(this.dpDiv),I.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(t){var e,i=I(t),s=I.data(t,"datepicker");i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),I.removeData(t,"datepicker"),"input"===e?(s.append.remove(),s.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty(),c===s&&(c=null))},_enableDatepicker:function(e){var t,i,s=I(e),n=I.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=I.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i,s=I(e),n=I.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=I.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return I.data(t,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var s,n,o,a,r=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?I.extend({},I.datepicker._defaults):r?"all"===e?I.extend({},r.settings):this._get(r,e):null;s=e||{},"string"==typeof e&&((s={})[e]=i),r&&(this._curInst===r&&this._hideDatepicker(),n=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(r,"min"),a=this._getMinMaxDate(r,"max"),f(r.settings,s),null!==o&&void 0!==s.dateFormat&&void 0===s.minDate&&(r.settings.minDate=this._formatDate(r,o)),null!==a&&void 0!==s.dateFormat&&void 0===s.maxDate&&(r.settings.maxDate=this._formatDate(r,a)),"disabled"in s&&(s.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(I(t),r),this._autoSize(r),this._setDate(r,n),this._updateAlternate(r),this._updateDatepicker(r))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(t){var e,i,s,n=I.datepicker._getInst(t.target),o=!0,a=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,I.datepicker._datepickerShowing)switch(t.keyCode){case 9:I.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=I("td."+I.datepicker._dayOverClass+":not(."+I.datepicker._currentClass+")",n.dpDiv))[0]&&I.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),(e=I.datepicker._get(n,"onSelect"))?(i=I.datepicker._formatDate(n),e.apply(n.input?n.input[0]:null,[i,n])):I.datepicker._hideDatepicker(),!1;case 27:I.datepicker._hideDatepicker();break;case 33:I.datepicker._adjustDate(t.target,t.ctrlKey?-I.datepicker._get(n,"stepBigMonths"):-I.datepicker._get(n,"stepMonths"),"M");break;case 34:I.datepicker._adjustDate(t.target,t.ctrlKey?+I.datepicker._get(n,"stepBigMonths"):+I.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&I.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&I.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,a?1:-1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&I.datepicker._adjustDate(t.target,t.ctrlKey?-I.datepicker._get(n,"stepBigMonths"):-I.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,-7,"D"),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,a?-1:1,"D"),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&I.datepicker._adjustDate(t.target,t.ctrlKey?+I.datepicker._get(n,"stepBigMonths"):+I.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&I.datepicker._adjustDate(t.target,7,"D"),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?I.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i,s=I.datepicker._getInst(t.target);if(I.datepicker._get(s,"constrainInput"))return e=I.datepicker._possibleChars(I.datepicker._get(s,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){var e=I.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{I.datepicker.parseDate(I.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,I.datepicker._getFormatConfig(e))&&(I.datepicker._setDateFromField(e),I.datepicker._updateAlternate(e),I.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,i,s,n,o,a,r;("input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=I("input",t.parentNode)[0]),I.datepicker._isDisabledDatepicker(t)||I.datepicker._lastInput===t)||(e=I.datepicker._getInst(t),I.datepicker._curInst&&I.datepicker._curInst!==e&&(I.datepicker._curInst.dpDiv.stop(!0,!0),e&&I.datepicker._datepickerShowing&&I.datepicker._hideDatepicker(I.datepicker._curInst.input[0])),!1!==(s=(i=I.datepicker._get(e,"beforeShow"))?i.apply(t,[t,e]):{})&&(f(e.settings,s),e.lastVal=null,I.datepicker._lastInput=t,I.datepicker._setDateFromField(e),I.datepicker._inDialog&&(t.value=""),I.datepicker._pos||(I.datepicker._pos=I.datepicker._findPos(t),I.datepicker._pos[1]+=t.offsetHeight),n=!1,I(t).parents().each(function(){return!(n|="fixed"===I(this).css("position"))}),o={left:I.datepicker._pos[0],top:I.datepicker._pos[1]},I.datepicker._pos=null,e.dpDiv.empty(),e.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),I.datepicker._updateDatepicker(e),o=I.datepicker._checkOffset(e,o,n),e.dpDiv.css({position:I.datepicker._inDialog&&I.blockUI?"static":n?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),e.inline||(a=I.datepicker._get(e,"showAnim"),r=I.datepicker._get(e,"duration"),e.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(I(t))+1),I.datepicker._datepickerShowing=!0,I.effects&&I.effects.effect[a]?e.dpDiv.show(a,I.datepicker._get(e,"showOptions"),r):e.dpDiv[a||"show"](a?r:null),I.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),I.datepicker._curInst=e)))},_updateDatepicker:function(t){this.maxRows=4,(c=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var e,i=this._getNumberOfMonths(t),s=i[1],n=t.dpDiv.find("."+this._dayOverClass+" a");0<n.length&&p.apply(n.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<s&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===I.datepicker._curInst&&I.datepicker._datepickerShowing&&I.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,a=t.input?t.input.outerHeight():0,r=document.documentElement.clientWidth+(i?0:I(document).scrollLeft()),h=document.documentElement.clientHeight+(i?0:I(document).scrollTop());return e.left-=this._get(t,"isRTL")?s-o:0,e.left-=i&&e.left===t.input.offset().left?I(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+a?I(document).scrollTop():0,e.left-=Math.min(e.left,e.left+s>r&&s<r?Math.abs(e.left+s-r):0),e.top-=Math.min(e.top,e.top+n>h&&n<h?Math.abs(n+a):0),e},_findPos:function(t){for(var e,i=this._getInst(t),s=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||I.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return[(e=I(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,s,n,o=this._curInst;!o||t&&o!==I.data(t,"datepicker")||this._datepickerShowing&&(e=this._get(o,"showAnim"),i=this._get(o,"duration"),s=function(){I.datepicker._tidyDialog(o)},I.effects&&(I.effects.effect[e]||I.effects[e])?o.dpDiv.hide(e,I.datepicker._get(o,"showOptions"),i,s):o.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,s),e||s(),this._datepickerShowing=!1,(n=this._get(o,"onClose"))&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),I.blockUI&&(I.unblockUI(),I("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(I.datepicker._curInst){var e=I(t.target),i=I.datepicker._getInst(e[0]);(e[0].id===I.datepicker._mainDivId||0!==e.parents("#"+I.datepicker._mainDivId).length||e.hasClass(I.datepicker.markerClassName)||e.closest("."+I.datepicker._triggerClass).length||!I.datepicker._datepickerShowing||I.datepicker._inDialog&&I.blockUI)&&(!e.hasClass(I.datepicker.markerClassName)||I.datepicker._curInst===i)||I.datepicker._hideDatepicker()}},_adjustDate:function(t,e,i){var s=I(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,e+("M"===i?this._get(n,"showCurrentAtPos"):0),i),this._updateDatepicker(n))},_gotoToday:function(t){var e,i=I(t),s=this._getInst(i[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(e=new Date,s.selectedDay=e.getDate(),s.drawMonth=s.selectedMonth=e.getMonth(),s.drawYear=s.selectedYear=e.getFullYear()),this._notifyChange(s),this._adjustDate(i)},_selectMonthYear:function(t,e,i){var s=I(t),n=this._getInst(s[0]);n["selected"+("M"===i?"Month":"Year")]=n["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,e,i,s){var n,o=I(t);I(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((n=this._getInst(o[0])).selectedDay=n.currentDay=I("a",s).html(),n.selectedMonth=n.currentMonth=e,n.selectedYear=n.currentYear=i,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var e=I(t);this._selectDate(e,"")},_selectDate:function(t,e){var i,s=I(t),n=this._getInst(s[0]);e=null!=e?e:this._formatDate(n),n.input&&n.input.val(e),this._updateAlternate(n),(i=this._get(n,"onSelect"))?i.apply(n.input?n.input[0]:null,[e,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!==_typeof(n.input[0])&&n.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var e,i,s,n=this._get(t,"altField");n&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),s=this.formatDate(e,i,this._getFormatConfig(t)),I(n).val(s))},noWeekends:function(t){var e=t.getDay();return[0<e&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,o,t){if(null==i||null==o)throw"Invalid arguments";if(""===(o="object"===_typeof(o)?o.toString():o+""))return null;var s,e,n,a,r=0,h=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),c=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,u=(t?t.dayNames:null)||this._defaults.dayNames,d=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,p=(t?t.monthNames:null)||this._defaults.monthNames,f=-1,g=-1,m=-1,_=-1,v=!1,b=function(t){var e=s+1<i.length&&i.charAt(s+1)===t;return e&&s++,e},y=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),n=o.substring(r).match(s);if(!n)throw"Missing number at position "+r;return r+=n[0].length,parseInt(n[0],10)},w=function(t,e,i){var s=-1,n=I.map(b(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(I.each(n,function(t,e){var i=e[1];if(o.substr(r,i.length).toLowerCase()===i.toLowerCase())return s=e[0],r+=i.length,!1}),-1!==s)return s+1;throw"Unknown name at position "+r},k=function(){if(o.charAt(r)!==i.charAt(s))throw"Unexpected literal at position "+r;r++};for(s=0;s<i.length;s++)if(v)"'"!==i.charAt(s)||b("'")?k():v=!1;else switch(i.charAt(s)){case"d":m=y("d");break;case"D":w("D",c,u);break;case"o":_=y("o");break;case"m":g=y("m");break;case"M":g=w("M",d,p);break;case"y":f=y("y");break;case"@":f=(a=new Date(y("@"))).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"!":f=(a=new Date((y("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"'":b("'")?k():v=!0;break;default:k()}if(r<o.length&&(n=o.substr(r),!/^\s+/.test(n)))throw"Extra/unparsed characters found in date: "+n;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=l?0:-100)),-1<_)for(g=1,m=_;;){if(m<=(e=this._getDaysInMonth(f,g-1)))break;g++,m-=e}if((a=this._daylightSavingAdjust(new Date(f,g-1,m))).getFullYear()!==f||a.getMonth()+1!==g||a.getDate()!==m)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,t,e){if(!t)return"";var s,n=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,o=(e?e.dayNames:null)||this._defaults.dayNames,a=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,r=(e?e.monthNames:null)||this._defaults.monthNames,h=function(t){var e=s+1<i.length&&i.charAt(s+1)===t;return e&&s++,e},l=function(t,e,i){var s=""+e;if(h(t))for(;s.length<i;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(t)for(s=0;s<i.length;s++)if(d)"'"!==i.charAt(s)||h("'")?u+=i.charAt(s):d=!1;else switch(i.charAt(s)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),a,r);break;case"y":u+=h("y")?t.getFullYear():(t.getFullYear()%100<10?"0":"")+t.getFullYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=i.charAt(s)}return u},_possibleChars:function(i){var s,t="",e=!1,n=function(t){var e=s+1<i.length&&i.charAt(s+1)===t;return e&&s++,e};for(s=0;s<i.length;s++)if(e)"'"!==i.charAt(s)||n("'")?t+=i.charAt(s):e=!1;else switch(i.charAt(s)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":n("'")?t+="'":e=!0;break;default:t+=i.charAt(s)}return t},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(t){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(r,t,e){var i,s,n=null==t||""===t?e:"string"==typeof t?function(t){try{return I.datepicker.parseDate(I.datepicker._get(r,"dateFormat"),t,I.datepicker._getFormatConfig(r))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?I.datepicker._getDate(r):null)||new Date,i=e.getFullYear(),s=e.getMonth(),n=e.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(t);a;){switch(a[2]||"d"){case"d":case"D":n+=parseInt(a[1],10);break;case"w":case"W":n+=7*parseInt(a[1],10);break;case"m":case"M":s+=parseInt(a[1],10),n=Math.min(n,I.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),n=Math.min(n,I.datepicker._getDaysInMonth(i,s))}a=o.exec(t)}return new Date(i,s,n)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(s=new Date).setDate(s.getDate()+i),s):new Date(t.getTime());return(n=n&&"Invalid Date"===n.toString()?e:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){I.datepicker._adjustDate(i,-e,"M")},next:function(){I.datepicker._adjustDate(i,+e,"M")},hide:function(){I.datepicker._hideDatepicker()},today:function(){I.datepicker._gotoToday(i)},selectDay:function(){return I.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return I.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return I.datepicker._selectMonthYear(i,this,"Y"),!1}};I(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,_,v,b,y,w,k,x,C,D,I,T,P,M,S,H,z,O,A,N,W,E,F,L,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),Y=this._get(t,"isRTL"),j=this._get(t,"showButtonPanel"),q=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),$=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-V,tt=t.drawYear;if(Z<0&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=Q&&e<Q?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)--Z<0&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-$,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":q?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Z+$,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":q?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?G:B,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),_=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;k<U[0];k++){for(x="",this.maxRows=4,C=0;C<U[1];C++){if(D=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),I=" ui-corner-all",T="",X){if(T+="<div class='ui-datepicker-group",1<U[1])switch(C){case 0:T+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:T+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:T+=" ui-datepicker-group-middle",I=""}T+="'>"}for(T+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,0<k||0<C,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",P=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)P+="<th scope='col'"+(5<=(w+c+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M=(w+c)%7]+"'>"+p[M]+"</span></th>";for(T+=P+"</tr></thead><tbody>",S=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),H=(this._getFirstDayOfMonth(tt,Z)-c+7)%7,z=Math.ceil((H+S)/7),O=X&&this.maxRows>z?this.maxRows:z,this.maxRows=O,A=this._daylightSavingAdjust(new Date(tt,Z,1-H)),N=0;N<O;N++){for(T+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(A)+"</td>":"",w=0;w<7;w++)E=m?m.apply(t.input?t.input[0]:null,[A]):[!0,""],L=(F=A.getMonth()!==Z)&&!v||!E[0]||Q&&A<Q||J&&J<A,W+="<td class='"+(5<=(w+c+6)%7?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(A.getTime()===D.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===A.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!_?"":" "+E[1]+(A.getTime()===G.getTime()?" "+this._currentClass:"")+(A.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(F&&!_||!E[2]?"":" title='"+E[2].replace(/'/g,"&#39;")+"'")+(L?"":" data-handler='selectDay' data-event='click' data-month='"+A.getMonth()+"' data-year='"+A.getFullYear()+"'")+">"+(F&&!_?"&#xa0;":L?"<span class='ui-state-default'>"+A.getDate()+"</span>":"<a class='ui-state-default"+(A.getTime()===B.getTime()?" ui-state-highlight":"")+(A.getTime()===G.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+A.getDate()+"</a>")+"</td>",A.setDate(A.getDate()+1),A=this._daylightSavingAdjust(A);T+=W+"</tr>"}11<++Z&&(Z=0,tt++),x+=T+="</tbody></table>"+(X?"</div>"+(0<U[0]&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),_=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!h||c>=s.getMonth())&&(!l||c<=n.getMonth())&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(v||(b+=y+(!o&&m&&_?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!_)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),v&&(b+=(!o&&m&&_?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.selectedYear+("Y"===i?e:0),n=t.selectedMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&e<i?i:e;return s&&s<n?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(e<0?e:n[0]*n[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||e.getFullYear()<=r)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"===_typeof(e)?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),I.fn.datepicker=function(t){if(!this.length)return this;I.datepicker.initialized||(I(document).on("mousedown",I.datepicker._checkExternalClick),I.datepicker.initialized=!0),0===I("#"+I.datepicker._mainDivId).length&&I("body").append(I.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?I.datepicker["_"+t+"Datepicker"].apply(I.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?I.datepicker["_"+t+"Datepicker"].apply(I.datepicker,[this].concat(e)):I.datepicker._attachDatepicker(this,t)}):I.datepicker["_"+t+"Datepicker"].apply(I.datepicker,[this[0]].concat(e))},I.datepicker=new u,I.datepicker.initialized=!1,I.datepicker.uuid=(new Date).getTime(),I.datepicker.version="1.12.1";I.datepicker;I.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=I(this).css(t).offset().top;e<0&&I(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&I.fn.draggable&&this._makeDraggable(),this.options.resizable&&I.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?I(t):this.document.find(t||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:I.noop,enable:I.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||I.ui.safeBlur(I.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+I(this).css("z-index")}).get(),n=Math.max.apply(null,s);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),i=!0),i&&!e&&this._trigger("focus",t),i},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=I(I.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=I.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||I.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=I("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===I.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===I.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),i=e.filter(":first"),s=e.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){i.trigger("focus")}),t.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=I("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){I(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=I("<button type='button'></button>").button({label:I("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),t=I("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=I("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=I("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var n=this,t=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),I.isEmptyObject(t)||I.isArray(t)&&!t.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(I.each(t,function(t,e){var i,s;e=I.isFunction(e)?{click:e,text:t}:e,e=I.extend({type:"button"},e),i=e.click,s={icon:e.icon,iconPosition:e.iconPosition,showLabel:e.showLabel,icons:e.icons,text:e.text},delete e.click,delete e.icon,delete e.iconPosition,delete e.showLabel,delete e.icons,"boolean"==typeof e.text&&delete e.text,I("<button></button>",e).button(s).appendTo(n.uiButtonSet).on("click",function(){i.apply(n.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var n=this,o=this.options;function a(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(t,e){n._addClass(I(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",t,a(e))},drag:function(t,e){n._trigger("drag",t,a(e))},stop:function(t,e){var i=e.offset.left-n.document.scrollLeft(),s=e.offset.top-n.document.scrollTop();o.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=s?"+":"")+s,of:n.window},n._removeClass(I(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",t,a(e))}})},_makeResizable:function(){var o=this,a=this.options,t=a.resizable,e=this.uiDialog.css("position"),i="string"==typeof t?t:"n,e,s,w,se,sw,ne,nw";function r(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:i,start:function(t,e){o._addClass(I(this),"ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",t,r(e))},resize:function(t,e){o._trigger("resize",t,r(e))},stop:function(t,e){var i=o.uiDialog.offset(),s=i.left-o.document.scrollLeft(),n=i.top-o.document.scrollTop();a.height=o.uiDialog.height(),a.width=o.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=s?"+":"")+s+" top"+(0<=n?"+":"")+n,of:o.window},o._removeClass(I(this),"ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",t,r(e))}}).css("position",e)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=I(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=I.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(t){var i=this,s=!1,n={};I.each(t,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(s=!0),t in i.resizableRelatedOptions&&(n[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",n)},_setOption:function(t,e){var i,s,n=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:I("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((i=n.is(":data(ui-draggable)"))&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((s=n.is(":data(ui-resizable)"))&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=I(this);return I("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!I(t.target).closest(".ui-dialog").length||!!I(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=I("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==I.uiBackCompat&&I.widget("ui.dialog",I.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});I.ui.dialog,I.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=I("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=I("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),I.widget("ui.selectmenu",[I.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=I()},_drawButton:function(){var t,e=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=I("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),t=I("<span>").appendTo(this.button),this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){e._rendered||e._refreshMenu()})},_drawMenu:function(){var s=this;this.menu=I("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=I("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,e){t.preventDefault(),s._setSelection(),s._select(e.item.data("ui-selectmenu-item"),t)},focus:function(t,e){var i=e.item.data("ui-selectmenu-item");null!=s.focusIndex&&i.index!==s.focusIndex&&(s._trigger("focus",t,{item:i}),s.isOpen||s._select(i,t)),s.focusIndex=i.index,s.button.attr("aria-activedescendant",s.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(I.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var e=I("<span>");return this._setText(e,t.label),this._addClass(e,"ui-selectmenu-text"),e},_renderMenu:function(s,t){var n=this,o="";I.each(t,function(t,e){var i;e.optgroup!==o&&(i=I("<li>",{text:e.optgroup}),n._addClass(i,"ui-selectmenu-optgroup","ui-menu-divider"+(e.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),i.appendTo(s),o=e.optgroup),n._renderItemData(s,e)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(t,e){var i=I("<li>"),s=I("<div>",{title:e.element.attr("title")});return e.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(s,e.label),i.append(s).appendTo(t)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,s,n=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),n+=":not(.ui-state-disabled)"),(s="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](n).eq(-1):i[t+"All"](n).eq(0)).length&&this.menuInstance.focus(e,s)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(I(t.target).closest(".ui-selectmenu-menu, #"+I.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(t){var e=!0;switch(t.keyCode){case I.ui.keyCode.TAB:case I.ui.keyCode.ESCAPE:this.close(t),e=!1;break;case I.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case I.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case I.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case I.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case I.ui.keyCode.LEFT:this._move("prev",t);break;case I.ui.keyCode.RIGHT:this._move("next",t);break;case I.ui.keyCode.HOME:case I.ui.keyCode.PAGE_UP:this._move("first",t);break;case I.ui.keyCode.END:case I.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),e=!1}e&&t.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?I(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(t){var i=this,s=[];t.each(function(t,e){s.push(i._parseOption(I(e),t))}),this.items=s},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),I.widget("ui.slider",I.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,e,i=this.options,s=this.element.find(".ui-slider-handle"),n=[];for(e=i.values&&i.values.length||1,s.length>e&&(s.slice(e).remove(),s=s.slice(0,e)),t=s.length;t<e;t++)n.push("<span tabindex='0'></span>");this.handles=s.add(I(n.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){I(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:I.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=I("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var e,i,s,n,o,a,r,h=this,l=this.options;return!l.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(i-h.values(t));(e<s||s===e&&(t===h._lastChangedValue||h.values(t)===l.min))&&(s=e,n=I(this),o=t)}),!1!==this._start(t,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(n,null,"ui-state-active"),n.trigger("focus"),a=n.offset(),r=!I(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=r?{left:0,top:0}:{left:t.pageX-a.left-n.width()/2,top:t.pageY-a.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n;return 1<(i=("horizontal"===this.orientation?(e=this.elementSize.width,t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)))/e)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),s=this._valueMax()-this._valueMin(),n=this._valueMin()+i*s,this._trimAlignValue(n)},_uiHash:function(t,e,i){var s={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(s.value=void 0!==e?e:this.values(t),s.values=i||this.values()),s},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var s,n=this.value(),o=this.values();this._hasMultipleValues()&&(s=this.values(e?0:1),n=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(s,i):Math.max(s,i)),o[e]=i),i!==n&&!1!==this._trigger("slide",t,this._uiHash(e,i,o))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,e){var i,s,n;if(1<arguments.length)return this.options.values[t]=this._trimAlignValue(e),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!I.isArray(t))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,s=t,n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(s[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,e){var i,s=0;switch("range"===t&&!0===this.options.range&&("min"===e?(this.options.value=this._values(0),this.options.values=null):"max"===e&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),I.isArray(this.options.values)&&(s=this.options.values.length),this._super(t,e),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(e),this.handles.css("horizontal"===e?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=s-1;0<=i;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=0<this.options.step?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=0<i?e:-e),parseFloat(s.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,t,s,n,o=this.options.range,a=this.options,r=this,h=!this._animateOff&&a.animate,l={};this._hasMultipleValues()?this.handles.each(function(t){i=(r.values(t)-r._valueMin())/(r._valueMax()-r._valueMin())*100,l["horizontal"===r.orientation?"left":"bottom"]=i+"%",I(this).stop(1,1)[h?"animate":"css"](l,a.animate),!0===r.options.range&&("horizontal"===r.orientation?(0===t&&r.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===t&&r.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===t&&r.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===t&&r.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(t=this.value(),s=this._valueMin(),n=this._valueMax(),i=n!==s?(t-s)/(n-s)*100:0,l["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](l,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(t){var e,i,s,n=I(t.target).data("ui-slider-handle-index");switch(t.keyCode){case I.ui.keyCode.HOME:case I.ui.keyCode.END:case I.ui.keyCode.PAGE_UP:case I.ui.keyCode.PAGE_DOWN:case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(I(t.target),null,"ui-state-active"),!1===this._start(t,n)))return}switch(s=this.options.step,e=i=this._hasMultipleValues()?this.values(n):this.value(),t.keyCode){case I.ui.keyCode.HOME:i=this._valueMin();break;case I.ui.keyCode.END:i=this._valueMax();break;case I.ui.keyCode.PAGE_UP:i=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/this.numPages);break;case I.ui.keyCode.UP:case I.ui.keyCode.RIGHT:if(e===this._valueMax())return;i=this._trimAlignValue(e+s);break;case I.ui.keyCode.DOWN:case I.ui.keyCode.LEFT:if(e===this._valueMin())return;i=this._trimAlignValue(e-s)}this._slide(t,n,i)},keyup:function(t){var e=I(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,e),this._change(t,e),this._removeClass(I(t.target),null,"ui-state-active"))}}});function g(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}I.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var s=this._super(),n=this.element;return I.each(["min","max","step"],function(t,e){var i=n.attr(e);null!=i&&i.length&&(s[e]=i)}),s},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((0<e?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(t){var e;function i(){this.element[0]===I.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=e,this._delay(function(){this.previous=e}))}e=this.element[0]===I.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(t)&&this._repeat(null,I(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(I(t.currentTarget).hasClass("ui-state-active"))return!1!==this._start(t)&&void this._repeat(null,I(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var e=this.options,i=I.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,e.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-e.page,t),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(t){var e=this.options.incremental;return e?I.isFunction(e)?e(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return i=t-(e=null!==s.min?s.min:0),t=e+(i=Math.round(i/s.step)*s.step),t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&t<s.min?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,s,n;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(s=this.buttons.first().find(".ui-icon"),this._removeClass(s,null,this.options.icons.up),this._addClass(s,null,e.up),n=this.buttons.last().find(".ui-icon"),this._removeClass(n,null,this.options.icons.down),this._addClass(n,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:g(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:g(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:g(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:g(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:g(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());g(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==I.uiBackCompat&&I.widget("ui.spinner",I.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var m;I.ui.spinner;I.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(m=/#.*$/,function(t){var e,i;e=t.href.replace(m,""),i=location.href.replace(m,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return 1<t.hash.length&&e===i}),_create:function(){var e=this,t=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,t.collapsible),this._processTabs(),t.active=this._initialActive(),I.isArray(t.disabled)&&(t.disabled=I.unique(t.disabled.concat(I.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(t.active):this.active=I(),this._refresh(),this.active.length&&this.load(t.active)},_initialActive:function(){var i=this.options.active,t=this.options.collapsible,s=location.hash.substring(1);return null===i&&(s&&this.tabs.each(function(t,e){if(I(e).attr("aria-controls")===s)return i=t,!1}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==i&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!t&&0),!t&&!1===i&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):I()}},_tabKeydown:function(t){var e=I(I.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(e),s=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case I.ui.keyCode.RIGHT:case I.ui.keyCode.DOWN:i++;break;case I.ui.keyCode.UP:case I.ui.keyCode.LEFT:s=!1,i--;break;case I.ui.keyCode.END:i=this.anchors.length-1;break;case I.ui.keyCode.HOME:i=0;break;case I.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case I.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,s),t.ctrlKey||t.metaKey||(e.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===I.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===I.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===I.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,e){var i=this.tabs.length-1;for(;-1!==I.inArray((i<t&&(t=0),t<0&&(t=i),t),this.options.disabled);)t=e?t+1:t-1;return t},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,e=this.tablist.children(":has(a[href])");t.disabled=I.map(e.filter(".ui-state-disabled"),function(t){return e.index(t)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!I.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=I()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=I()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var h=this,t=this.tabs,e=this.anchors,i=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){I(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){I(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return I("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=I(),this.anchors.each(function(t,e){var i,s,n,o=I(e).uniqueId().attr("id"),a=I(e).closest("li"),r=a.attr("aria-controls");h._isLocal(e)?(n=(i=e.hash).substring(1),s=h.element.find(h._sanitizeSelector(i))):(i="#"+(n=a.attr("aria-controls")||I({}).uniqueId()[0].id),(s=h.element.find(i)).length||(s=h._createPanel(n)).insertAfter(h.panels[t-1]||h.tablist),s.attr("aria-live","polite")),s.length&&(h.panels=h.panels.add(s)),r&&a.data("ui-tabs-aria-controls",r),a.attr({"aria-controls":n,"aria-labelledby":o}),s.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),t&&(this._off(t.not(this.tabs)),this._off(e.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return I("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var e,i,s;for(I.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),s=0;i=this.tabs[s];s++)e=I(i),!0===t||-1!==I.inArray(s,t)?(e.attr("aria-disabled","true"),this._addClass(e,null,"ui-state-disabled")):(e.removeAttr("aria-disabled"),this._removeClass(e,null,"ui-state-disabled"));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===t)},_setupEvents:function(t){var i={};t&&I.each(t.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,e=this.element.parent();"fill"===t?(i=e.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=I(this),e=t.css("position");"absolute"!==e&&"fixed"!==e&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=I(this).outerHeight(!0)}),this.panels.each(function(){I(this).height(Math.max(0,i-I(this).innerHeight()+I(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,I(this).height("").height())}).height(i))},_eventHandler:function(t){var e=this.options,i=this.active,s=I(t.currentTarget).closest("li"),n=s[0]===i[0],o=n&&e.collapsible,a=o?I():this._getPanelForTab(s),r=i.length?this._getPanelForTab(i):I(),h={oldTab:i,oldPanel:r,newTab:o?I():s,newPanel:a};t.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||n&&!e.collapsible||!1===this._trigger("beforeActivate",t,h)||(e.active=!o&&this.tabs.index(s),this.active=n?I():s,this.xhr&&this.xhr.abort(),r.length||a.length||I.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),t),this._toggle(t,h))},_toggle:function(t,e){var i=this,s=e.newPanel,n=e.oldPanel;function o(){i.running=!1,i._trigger("activate",t,e)}function a(){i._addClass(e.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&i.options.show?i._show(s,i.options.show,o):(s.show(),o())}this.running=!0,n.length&&this.options.hide?this._hide(n,this.options.hide,function(){i._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(e.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),n.hide(),a()),n.attr("aria-hidden","true"),e.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&n.length?e.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===I(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),e.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var e,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),e=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:e,currentTarget:e,preventDefault:I.noop}))},_findActive:function(t){return!1===t?I():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+I.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){I.data(this,"ui-tabs-destroy")?I(this).remove():I(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var t=I(this),e=t.data("ui-tabs-aria-controls");e?t.attr("aria-controls",e).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var t=this.options.disabled;!1!==t&&(t=void 0!==i&&(i=this._getIndex(i),I.isArray(t)?I.map(t,function(t){return t!==i?t:null}):I.map(this.tabs,function(t,e){return e!==i?e:null})),this._setOptionDisabled(t))},disable:function(t){var e=this.options.disabled;if(!0!==e){if(void 0===t)e=!0;else{if(t=this._getIndex(t),-1!==I.inArray(t,e))return;e=I.isArray(e)?I.merge([t],e).sort():[t]}this._setOptionDisabled(e)}},load:function(t,s){t=this._getIndex(t);var n=this,i=this.tabs.eq(t),e=i.find(".ui-tabs-anchor"),o=this._getPanelForTab(i),a={tab:i,panel:o},r=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(i,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(e[0])||(this.xhr=I.ajax(this._ajaxSettings(e,s,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(i,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,i){setTimeout(function(){o.html(t),n._trigger("load",s,a),r(i,e)},1)}).fail(function(t,e){setTimeout(function(){r(t,e)},1)})))},_ajaxSettings:function(t,i,s){var n=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,e){return n._trigger("beforeLoad",i,I.extend({jqXHR:t,ajaxSettings:e},s))}}},_getPanelForTab:function(t){var e=I(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+e))}}),!1!==I.uiBackCompat&&I.widget("ui.tabs",I.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});I.ui.tabs;I.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=I(this).attr("title")||"";return I("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,e){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(e),t.data("ui-tooltip-id",e).attr("aria-describedby",I.trim(i.join(" ")))},_removeDescribedBy:function(t){var e=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),s=I.inArray(e,i);-1!==s&&i.splice(s,1),t.removeData("ui-tooltip-id"),(i=I.trim(i.join(" ")))?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=I("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=I([])},_setOption:function(t,e){var i=this;this._super(t,e),"content"===t&&I.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var s=this;I.each(this.tooltips,function(t,e){var i=I.Event("blur");i.target=i.currentTarget=e.element[0],s.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=I(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=I(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))}),this.disabledTitles=I([])},open:function(t){var i=this,e=I(t?t.target:this.element).closest(this.options.items);e.length&&!e.data("ui-tooltip-id")&&(e.attr("title")&&e.data("ui-tooltip-title",e.attr("title")),e.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&e.parents().each(function(){var t,e=I(this);e.data("ui-tooltip-open")&&((t=I.Event("blur")).target=t.currentTarget=this,i.close(t,!0)),e.attr("title")&&(e.uniqueId(),i.parents[this.id]={element:this,title:e.attr("title")},e.attr("title",""))}),this._registerCloseHandlers(t,e),this._updateContent(e,t))},_updateContent:function(e,i){var t,s=this.options.content,n=this,o=i?i.type:null;if("string"==typeof s||s.nodeType||s.jquery)return this._open(i,e,s);(t=s.call(e[0],function(t){n._delay(function(){e.data("ui-tooltip-open")&&(i&&(i.type=o),this._open(i,e,t))})}))&&this._open(i,e,t)},_open:function(t,e,i){var s,n,o,a,r=I.extend({},this.options.position);function h(t){r.of=t,n.is(":hidden")||n.position(r)}i&&((s=this._find(e))?s.tooltip.find(".ui-tooltip-content").html(i):(e.is("[title]")&&(t&&"mouseover"===t.type?e.attr("title",""):e.removeAttr("title")),s=this._tooltip(e),n=s.tooltip,this._addDescribedBy(e,n.attr("id")),n.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(a=I("<div>").html(n.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:h}),h(t)):n.position(I.extend({of:e},this.options.position)),n.hide(),this._show(n,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){n.is(":visible")&&(h(r.of),clearInterval(o))},I.fx.interval)),this._trigger("open",t,{tooltip:n})))},_registerCloseHandlers:function(t,i){var e={keyup:function(t){if(t.keyCode===I.ui.keyCode.ESCAPE){var e=I.Event(t);e.currentTarget=i[0],this.close(e,!0)}}};i[0]!==this.element[0]&&(e.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(e.mouseleave="close"),t&&"focusin"!==t.type||(e.focusout="close"),this._on(!0,i,e)},close:function(t){var e,i=this,s=I(t?t.currentTarget:this.element),n=this._find(s);n?(e=n.tooltip,n.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),n.hiding=!0,e.stop(!0),this._hide(e,this.options.hide,function(){i._removeTooltip(I(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&I.each(this.parents,function(t,e){I(e.element).attr("title",e.title),delete i.parents[t]}),n.closing=!0,this._trigger("close",t,{tooltip:e}),n.hiding||(n.closing=!1))):s.removeData("ui-tooltip-open")},_tooltip:function(t){var e=I("<div>").attr("role","tooltip"),i=I("<div>").appendTo(e),s=e.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(e,"ui-tooltip","ui-widget ui-widget-content"),e.appendTo(this._appendTo(t)),this.tooltips[s]={element:t,tooltip:e}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var n=this;I.each(this.tooltips,function(t,e){var i=I.Event("blur"),s=e.element;i.target=i.currentTarget=s[0],n.close(i,!0),I("#"+t).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==I.uiBackCompat&&I.widget("ui.tooltip",I.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});I.ui.tooltip;var _,v="ui-effects-",b="ui-effects-style",y="ui-effects-animated",w=I;I.effects={effect:{}},function(c,u){var l,d=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],p=c.Color=function(t,e,i,s){return new c.Color.fn.parse(t,e,i,s)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=p.support={},e=c("<p>")[0],m=c.each;function _(t,e,i){var s=g[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:t<0?0:s.max<t?s.max:t)}function r(a){var r=p(),h=r._rgba=[];return a=a.toLowerCase(),m(t,function(t,e){var i,s=e.re.exec(a),n=s&&e.parse(s),o=e.space||"rgba";if(n)return i=r[o](n),r[f[o].cache]=i[f[o].cache],h=r._rgba=i._rgba,!1}),h.length?("0,0,0,0"===h.join()&&c.extend(h,l.transparent),r):l[a]}function h(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}e.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<e.style.backgroundColor.indexOf("rgba"),m(f,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),p.fn=c.extend(p.prototype,{parse:function(n,t,e,i){if(n===u)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=c(n).css(t),t=u);var o=this,s=c.type(n),a=this._rgba=[];return t!==u&&(n=[n,t,e,i],s="array"),"string"===s?this.parse(r(n)||l._default):"array"===s?(m(f.rgba.props,function(t,e){a[e.idx]=_(n[e.idx],e)}),this):"object"===s?(m(f,n instanceof p?function(t,e){n[e.cache]&&(o[e.cache]=n[e.cache].slice())}:function(t,i){var s=i.cache;m(i.props,function(t,e){if(!o[s]&&i.to){if("alpha"===t||null==n[t])return;o[s]=i.to(o._rgba)}o[s][e.idx]=_(n[t],e,!0)}),o[s]&&c.inArray(null,o[s].slice(0,3))<0&&(o[s][3]=1,i.from&&(o._rgba=i.from(o[s])))}),this):void 0},is:function(t){var n=p(t),o=!0,a=this;return m(f,function(t,e){var i,s=n[e.cache];return s&&(i=a[e.cache]||e.to&&e.to(a._rgba)||[],m(e.props,function(t,e){if(null!=s[e.idx])return o=s[e.idx]===i[e.idx]})),o}),o},_space:function(){var i=[],s=this;return m(f,function(t,e){s[e.cache]&&i.push(t)}),i.pop()},transition:function(t,a){var r=p(t),e=r._space(),i=f[e],s=0===this.alpha()?p("transparent"):this,h=s[i.cache]||i.to(s._rgba),l=h.slice();return r=r[i.cache],m(i.props,function(t,e){var i=e.idx,s=h[i],n=r[i],o=g[e.type]||{};null!==n&&(l[i]=null===s?n:(o.mod&&(n-s>o.mod/2?s+=o.mod:s-n>o.mod/2&&(s-=o.mod)),_((n-s)*a+s,e)))}),this[e](l)},blend:function(t){if(1===this._rgba[3])return this;var e=this._rgba.slice(),i=e.pop(),s=p(t)._rgba;return p(c.map(e,function(t,e){return(1-i)*s[e]+i*t}))},toRgbaString:function(){var t="rgba(",e=c.map(this._rgba,function(t,e){return null==t?2<e?1:0:t});return 1===e[3]&&(e.pop(),t="rgb("),t+e.join()+")"},toHslaString:function(){var t="hsla(",e=c.map(this.hsla(),function(t,e){return null==t&&(t=2<e?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===e[3]&&(e.pop(),t="hsl("),t+e.join()+")"},toHexString:function(t){var e=this._rgba.slice(),i=e.pop();return t&&e.push(~~(255*i)),"#"+c.map(e,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,f.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:u<=.5?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},f.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],n=t[3],o=s<=.5?s*(1+i):s+i-s*i,a=2*s-o;return[Math.round(255*h(a,o,e+1/3)),Math.round(255*h(a,o,e)),Math.round(255*h(a,o,e-1/3)),n]},m(f,function(h,t){var i=t.props,a=t.cache,r=t.to,l=t.from;p.fn[h]=function(t){if(r&&!this[a]&&(this[a]=r(this._rgba)),t===u)return this[a].slice();var e,s=c.type(t),n="array"===s||"object"===s?t:arguments,o=this[a].slice();return m(i,function(t,e){var i=n["object"===s?t:e.idx];null==i&&(i=o[e.idx]),o[e.idx]=_(i,e)}),l?((e=p(l(o)))[a]=o,e):p(o)},m(i,function(a,r){p.fn[a]||(p.fn[a]=function(t){var e,i=c.type(t),s="alpha"===a?this._hsla?"hsla":"rgba":h,n=this[s](),o=n[r.idx];return"undefined"===i?o:("function"===i&&(t=t.call(this,o),i=c.type(t)),null==t&&r.empty?this:("string"===i&&(e=d.exec(t))&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1)),n[r.idx]=t,this[s](n)))})})}),p.hook=function(t){var e=t.split(" ");m(e,function(t,o){c.cssHooks[o]={set:function(t,e){var i,s,n="";if("transparent"!==e&&("string"!==c.type(e)||(i=r(e)))){if(e=p(i||e),!a.rgba&&1!==e._rgba[3]){for(s="backgroundColor"===o?t.parentNode:t;(""===n||"transparent"===n)&&s&&s.style;)try{n=c.css(s,"backgroundColor"),s=s.parentNode}catch(t){}e=e.blend(n&&"transparent"!==n?n:"_default")}e=e.toRgbaString()}try{t.style[o]=e}catch(t){}}},c.fx.step[o]=function(t){t.colorInit||(t.start=p(t.elem,o),t.end=p(t.end),t.colorInit=!0),c.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})},p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),c.cssHooks.borderColor={expand:function(i){var s={};return m(["Top","Right","Bottom","Left"],function(t,e){s["border"+e+"Color"]=i}),s}},l=c.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(w),function(){var o,n,a,r=["add","remove","toggle"],h={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function l(t){var e,i,s=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(s&&s.length&&s[0]&&s[s[0]])for(i=s.length;i--;)"string"==typeof s[e=s[i]]&&(n[I.camelCase(e)]=s[e]);else for(e in s)"string"==typeof s[e]&&(n[e]=s[e]);return n}I.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){I.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(w.style(t.elem,e,t.end),t.setAttr=!0)}}),I.fn.addBack||(I.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),I.effects.animateClass=function(n,t,e,i){var o=I.speed(t,e,i);return this.queue(function(){var t,i=I(this),e=i.attr("class")||"",s=o.children?i.find("*").addBack():i;s=s.map(function(){return{el:I(this),start:l(this)}}),(t=function(){I.each(r,function(t,e){n[e]&&i[e+"Class"](n[e])})})(),s=s.map(function(){return this.end=l(this.el[0]),this.diff=function(t,e){var i,s,n={};for(i in e)s=e[i],t[i]!==s&&(h[i]||!I.fx.step[i]&&isNaN(parseFloat(s))||(n[i]=s));return n}(this.start,this.end),this}),i.attr("class",e),s=s.map(function(){var t=this,e=I.Deferred(),i=I.extend({},o,{queue:!1,complete:function(){e.resolve(t)}});return this.el.animate(this.diff,i),e.promise()}),I.when.apply(I,s.get()).done(function(){t(),I.each(arguments,function(){var e=this.el;I.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(i[0])})})},I.fn.extend({addClass:(a=I.fn.addClass,function(t,e,i,s){return e?I.effects.animateClass.call(this,{add:t},e,i,s):a.apply(this,arguments)}),removeClass:(n=I.fn.removeClass,function(t,e,i,s){return 1<arguments.length?I.effects.animateClass.call(this,{remove:t},e,i,s):n.apply(this,arguments)}),toggleClass:(o=I.fn.toggleClass,function(t,e,i,s,n){return"boolean"==typeof e||void 0===e?i?I.effects.animateClass.call(this,e?{add:t}:{remove:t},i,s,n):o.apply(this,arguments):I.effects.animateClass.call(this,{toggle:t},e,i,s)}),switchClass:function(t,e,i,s,n){return I.effects.animateClass.call(this,{add:e,remove:t},i,s,n)}})}(),function(){var e,i,s,n;function c(t,e,i,s){return I.isPlainObject(t)&&(t=(e=t).effect),t={effect:t},null==e&&(e={}),I.isFunction(e)&&(s=e,i=null,e={}),("number"==typeof e||I.fx.speeds[e])&&(s=i,i=e,e={}),I.isFunction(i)&&(s=i,i=null),e&&I.extend(t,e),i=i||e.duration,t.duration=I.fx.off?0:"number"==typeof i?i:i in I.fx.speeds?I.fx.speeds[i]:I.fx.speeds._default,t.complete=s||e.complete,t}function o(t){return!(t&&"number"!=typeof t&&!I.fx.speeds[t])||("string"==typeof t&&!I.effects.effect[t]||(!!I.isFunction(t)||"object"===_typeof(t)&&!t.effect))}function a(t,e){var i=e.outerWidth(),s=e.outerHeight(),n=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,s,0];return{top:parseFloat(n[1])||0,right:"auto"===n[2]?i:parseFloat(n[2]),bottom:"auto"===n[3]?s:parseFloat(n[3]),left:parseFloat(n[4])||0}}I.expr&&I.expr.filters&&I.expr.filters.animated&&(I.expr.filters.animated=(e=I.expr.filters.animated,function(t){return!!I(t).data(y)||e(t)})),!1!==I.uiBackCompat&&I.extend(I.effects,{save:function(t,e){for(var i=0,s=e.length;i<s;i++)null!==e[i]&&t.data(v+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,s=0,n=e.length;s<n;s++)null!==e[s]&&(i=t.data(v+e[s]),t.css(e[s],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var s={width:i.outerWidth(!0),height:i.outerHeight(!0),float:i.css("float")},t=I("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:i.width(),height:i.height()},n=document.activeElement;try{n.id}catch(t){n=document.body}return i.wrap(t),(i[0]===n||I.contains(i[0],n))&&I(n).trigger("focus"),t=i.parent(),"static"===i.css("position")?(t.css({position:"relative"}),i.css({position:"relative"})):(I.extend(s,{position:i.css("position"),zIndex:i.css("z-index")}),I.each(["top","left","bottom","right"],function(t,e){s[e]=i.css(e),isNaN(parseInt(s[e],10))&&(s[e]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(e),t.css(s).show()},removeWrapper:function(t){var e=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===e||I.contains(t[0],e))&&I(e).trigger("focus")),t}}),I.extend(I.effects,{version:"1.12.1",define:function(t,e,i){return i||(i=e,e="effect"),I.effects.effect[t]=i,I.effects.effect[t].mode=e,i},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var s="horizontal"!==i?(e||100)/100:1,n="vertical"!==i?(e||100)/100:1;return{height:t.height()*n,width:t.width()*s,outerHeight:t.outerHeight()*n,outerWidth:t.outerWidth()*s}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var s=t.queue();1<e&&s.splice.apply(s,[1,0].concat(s.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data(b,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(b)||"",t.removeData(b)},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createPlaceholder:function(t){var e,i=t.css("position"),s=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",e=I("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(v+"placeholder",e)),t.css({position:i,left:s.left,top:s.top}),e},removePlaceholder:function(t){var e=v+"placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(t){I.effects.restoreStyle(t),I.effects.removePlaceholder(t)},setTransition:function(s,t,n,o){return o=o||{},I.each(t,function(t,e){var i=s.cssUnit(e);0<i[0]&&(o[e]=i[0]*n+i[1])}),o}}),I.fn.extend({effect:function(){var s=c.apply(this,arguments),n=I.effects.effect[s.effect],o=n.mode,t=s.queue,e=t||"fx",a=s.complete,r=s.mode,h=[],i=function(t){var e=I(this),i=I.effects.mode(e,r)||o;e.data(y,!0),h.push(i),o&&("show"===i||i===o&&"hide"===i)&&e.show(),o&&"none"===i||I.effects.saveStyle(e),I.isFunction(t)&&t()};if(I.fx.off||!n)return r?this[r](s.duration,a):this.each(function(){a&&a.call(this)});function l(t){var e=I(this);function i(){I.isFunction(a)&&a.call(e[0]),I.isFunction(t)&&t()}s.mode=h.shift(),!1===I.uiBackCompat||o?"none"===s.mode?(e[r](),i()):n.call(e[0],s,function(){e.removeData(y),I.effects.cleanUp(e),"hide"===s.mode&&e.hide(),i()}):(e.is(":hidden")?"hide"===r:"show"===r)?(e[r](),i()):n.call(e[0],s,i)}return!1===t?this.each(i).each(l):this.queue(e,i).queue(e,l)},show:(n=I.fn.show,function(t){if(o(t))return n.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}),hide:(s=I.fn.hide,function(t){if(o(t))return s.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}),toggle:(i=I.fn.toggle,function(t){if(o(t)||"boolean"==typeof t)return i.apply(this,arguments);var e=c.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}),cssUnit:function(t){var i=this.css(t),s=[];return I.each(["em","px","%","pt"],function(t,e){0<i.indexOf(e)&&(s=[parseFloat(i),e])}),s},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):a(this.css("clip"),this)},transfer:function(t,e){var i=I(this),s=I(t.to),n="fixed"===s.css("position"),o=I("body"),a=n?o.scrollTop():0,r=n?o.scrollLeft():0,h=s.offset(),l={top:h.top-a,left:h.left-r,height:s.innerHeight(),width:s.innerWidth()},c=i.offset(),u=I("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(t.className).css({top:c.top-a,left:c.left-r,height:i.innerHeight(),width:i.innerWidth(),position:n?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){u.remove(),I.isFunction(e)&&e()})}}),I.fx.step.clip=function(t){t.clipInit||(t.start=I(t.elem).cssClip(),"string"==typeof t.end&&(t.end=a(t.end,t.elem)),t.clipInit=!0),I(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),_={},I.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){_[t]=function(t){return Math.pow(t,e+2)}}),I.extend(_,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),I.each(_,function(t,e){I.easing["easeIn"+t]=e,I.easing["easeOut"+t]=function(t){return 1-e(1-t)},I.easing["easeInOut"+t]=function(t){return t<.5?e(2*t)/2:1-e(-2*t+2)/2}});I.effects,I.effects.define("blind","hide",function(t,e){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=I(this),n=t.direction||"up",o=s.cssClip(),a={clip:I.extend({},o)},r=I.effects.createPlaceholder(s);a.clip[i[n][0]]=a.clip[i[n][1]],"show"===t.mode&&(s.cssClip(a.clip),r&&r.css(I.effects.clipToBox(a)),a.clip=o),r&&r.animate(I.effects.clipToBox(a),t.duration,t.easing),s.animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),I.effects.define("bounce",function(t,e){var i,s,n,o=I(this),a=t.mode,r="hide"===a,h="show"===a,l=t.direction||"up",c=t.distance,u=t.times||5,d=2*u+(h||r?1:0),p=t.duration/d,f=t.easing,g="up"===l||"down"===l?"top":"left",m="up"===l||"left"===l,_=0,v=o.queue().length;for(I.effects.createPlaceholder(o),n=o.css(g),c||(c=o["top"===g?"outerHeight":"outerWidth"]()/3),h&&((s={opacity:1})[g]=n,o.css("opacity",0).css(g,m?2*-c:2*c).animate(s,p,f)),r&&(c/=Math.pow(2,u-1)),(s={})[g]=n;_<u;_++)(i={})[g]=(m?"-=":"+=")+c,o.animate(i,p,f).animate(s,p,f),c=r?2*c:c/2;r&&((i={opacity:0})[g]=(m?"-=":"+=")+c,o.animate(i,p,f)),o.queue(e),I.effects.unshift(o,v,d+1)}),I.effects.define("clip","hide",function(t,e){var i,s={},n=I(this),o=t.direction||"vertical",a="both"===o,r=a||"horizontal"===o,h=a||"vertical"===o;i=n.cssClip(),s.clip={top:h?(i.bottom-i.top)/2:i.top,right:r?(i.right-i.left)/2:i.right,bottom:h?(i.bottom-i.top)/2:i.bottom,left:r?(i.right-i.left)/2:i.left},I.effects.createPlaceholder(n),"show"===t.mode&&(n.cssClip(s.clip),s.clip=i),n.animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),I.effects.define("drop","hide",function(t,e){var i,s=I(this),n="show"===t.mode,o=t.direction||"left",a="up"===o||"down"===o?"top":"left",r="up"===o||"left"===o?"-=":"+=",h="+="===r?"-=":"+=",l={opacity:0};I.effects.createPlaceholder(s),i=t.distance||s["top"===a?"outerHeight":"outerWidth"](!0)/2,l[a]=r+i,n&&(s.css(l),l[a]=h+i,l.opacity=1),s.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),I.effects.define("explode","hide",function(t,e){var i,s,n,o,a,r,h=t.pieces?Math.round(Math.sqrt(t.pieces)):3,l=h,c=I(this),u="show"===t.mode,d=c.show().css("visibility","hidden").offset(),p=Math.ceil(c.outerWidth()/l),f=Math.ceil(c.outerHeight()/h),g=[];function m(){g.push(this),g.length===h*l&&(c.css({visibility:"visible"}),I(g).remove(),e())}for(i=0;i<h;i++)for(o=d.top+i*f,r=i-(h-1)/2,s=0;s<l;s++)n=d.left+s*p,a=s-(l-1)/2,c.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*p,top:-i*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:n+(u?a*p:0),top:o+(u?r*f:0),opacity:u?0:1}).animate({left:n+(u?0:a*p),top:o+(u?0:r*f),opacity:u?1:0},t.duration||500,t.easing,m)}),I.effects.define("fade","toggle",function(t,e){var i="show"===t.mode;I(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),I.effects.define("fold","hide",function(e,t){var i=I(this),s=e.mode,n="show"===s,o="hide"===s,a=e.size||15,r=/([0-9]+)%/.exec(a),h=!!e.horizFirst?["right","bottom"]:["bottom","right"],l=e.duration/2,c=I.effects.createPlaceholder(i),u=i.cssClip(),d={clip:I.extend({},u)},p={clip:I.extend({},u)},f=[u[h[0]],u[h[1]]],g=i.queue().length;r&&(a=parseInt(r[1],10)/100*f[o?0:1]),d.clip[h[0]]=a,p.clip[h[0]]=a,p.clip[h[1]]=0,n&&(i.cssClip(p.clip),c&&c.css(I.effects.clipToBox(p)),p.clip=u),i.queue(function(t){c&&c.animate(I.effects.clipToBox(d),l,e.easing).animate(I.effects.clipToBox(p),l,e.easing),t()}).animate(d,l,e.easing).animate(p,l,e.easing).queue(t),I.effects.unshift(i,g,4)}),I.effects.define("highlight","show",function(t,e){var i=I(this),s={backgroundColor:i.css("backgroundColor")};"hide"===t.mode&&(s.opacity=0),I.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(s,{queue:!1,duration:t.duration,easing:t.easing,complete:e})}),I.effects.define("size",function(n,e){var t,o,i,s=I(this),a=["fontSize"],r=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],l=n.mode,c="effect"!==l,u=n.scale||"both",d=n.origin||["middle","center"],p=s.css("position"),f=s.position(),g=I.effects.scaledDimensions(s),m=n.from||g,_=n.to||I.effects.scaledDimensions(s,0);I.effects.createPlaceholder(s),"show"===l&&(i=m,m=_,_=i),o={from:{y:m.height/g.height,x:m.width/g.width},to:{y:_.height/g.height,x:_.width/g.width}},"box"!==u&&"both"!==u||(o.from.y!==o.to.y&&(m=I.effects.setTransition(s,r,o.from.y,m),_=I.effects.setTransition(s,r,o.to.y,_)),o.from.x!==o.to.x&&(m=I.effects.setTransition(s,h,o.from.x,m),_=I.effects.setTransition(s,h,o.to.x,_))),"content"!==u&&"both"!==u||o.from.y!==o.to.y&&(m=I.effects.setTransition(s,a,o.from.y,m),_=I.effects.setTransition(s,a,o.to.y,_)),d&&(t=I.effects.getBaseline(d,g),m.top=(g.outerHeight-m.outerHeight)*t.y+f.top,m.left=(g.outerWidth-m.outerWidth)*t.x+f.left,_.top=(g.outerHeight-_.outerHeight)*t.y+f.top,_.left=(g.outerWidth-_.outerWidth)*t.x+f.left),s.css(m),"content"!==u&&"both"!==u||(r=r.concat(["marginTop","marginBottom"]).concat(a),h=h.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var t=I(this),e=I.effects.scaledDimensions(t),i={height:e.height*o.from.y,width:e.width*o.from.x,outerHeight:e.outerHeight*o.from.y,outerWidth:e.outerWidth*o.from.x},s={height:e.height*o.to.y,width:e.width*o.to.x,outerHeight:e.height*o.to.y,outerWidth:e.width*o.to.x};o.from.y!==o.to.y&&(i=I.effects.setTransition(t,r,o.from.y,i),s=I.effects.setTransition(t,r,o.to.y,s)),o.from.x!==o.to.x&&(i=I.effects.setTransition(t,h,o.from.x,i),s=I.effects.setTransition(t,h,o.to.x,s)),c&&I.effects.saveStyle(t),t.css(i),t.animate(s,n.duration,n.easing,function(){c&&I.effects.restoreStyle(t)})})),s.animate(_,{queue:!1,duration:n.duration,easing:n.easing,complete:function(){var t=s.offset();0===_.opacity&&s.css("opacity",m.opacity),c||(s.css("position","static"===p?"relative":p).offset(t),I.effects.saveStyle(s)),e()}})}),I.effects.define("scale",function(t,e){var i=I(this),s=t.mode,n=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==s?0:100),o=I.extend(!0,{from:I.effects.scaledDimensions(i),to:I.effects.scaledDimensions(i,n,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),I.effects.effect.size.call(this,o,e)}),I.effects.define("puff","hide",function(t,e){var i=I.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});I.effects.effect.scale.call(this,i,e)}),I.effects.define("pulsate","show",function(t,e){var i=I(this),s=t.mode,n="show"===s,o=n||"hide"===s,a=2*(t.times||5)+(o?1:0),r=t.duration/a,h=0,l=1,c=i.queue().length;for(!n&&i.is(":visible")||(i.css("opacity",0).show(),h=1);l<a;l++)i.animate({opacity:h},r,t.easing),h=1-h;i.animate({opacity:h},r,t.easing),i.queue(e),I.effects.unshift(i,c,a+1)}),I.effects.define("shake",function(t,e){var i=1,s=I(this),n=t.direction||"left",o=t.distance||20,a=t.times||3,r=2*a+1,h=Math.round(t.duration/r),l="up"===n||"down"===n?"top":"left",c="up"===n||"left"===n,u={},d={},p={},f=s.queue().length;for(I.effects.createPlaceholder(s),u[l]=(c?"-=":"+=")+o,d[l]=(c?"+=":"-=")+2*o,p[l]=(c?"-=":"+=")+2*o,s.animate(u,h,t.easing);i<a;i++)s.animate(d,h,t.easing).animate(p,h,t.easing);s.animate(d,h,t.easing).animate(u,h/2,t.easing).queue(e),I.effects.unshift(s,f,r+1)}),I.effects.define("slide","show",function(t,e){var i,s,n=I(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,r=t.direction||"left",h="up"===r||"down"===r?"top":"left",l="up"===r||"left"===r,c=t.distance||n["top"===h?"outerHeight":"outerWidth"](!0),u={};I.effects.createPlaceholder(n),i=n.cssClip(),s=n.position()[h],u[h]=(l?-1:1)*c+s,u.clip=n.cssClip(),u.clip[o[r][1]]=u.clip[o[r][0]],"show"===a&&(n.cssClip(u.clip),n.css(h,u[h]),u.clip=i,u[h]=s),n.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:e})});!1!==I.uiBackCompat&&I.effects.define("transfer",function(t,e){I(this).transfer(t,e)})});
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}(function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:0<t?1:-1});var v=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},b=function(t,e){return t.x*e.x+t.y*e.y},h=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},y=function(t,e){return{x:t.x*e,y:t.y*e}},p=Math.pow(2,-65),i=function(t,e){for(var n=[],i=d(t,e),s=e.length-1,o=f(i,2*s-1,n,0),r=v(t,e[0]),a=h(r),l=0,u=0;u<o;u++){r=v(t,C(e,s,n[u],null,null));var c=h(r);c<a&&(a=c,l=n[u])}return r=v(t,e[s]),(c=h(r))<a&&(a=c,l=1),{location:l,distance:a}},d=function(t,e){for(var n=e.length-1,i=2*n-1,s=[],o=[],r=[],a=[],l=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],u=0;u<=n;u++)s[u]=v(e[u],t);for(u=0;u<=n-1;u++)o[u]=v(e[u+1],e[u]),o[u]=y(o[u],3);for(var c=0;c<=n-1;c++)for(var h=0;h<=n;h++)r[c]||(r[c]=[]),r[c][h]=b(o[c],s[h]);for(u=0;u<=i;u++)a[u]||(a[u]=[]),a[u].y=0,a[u].x=parseFloat(u)/i;for(var d=n,p=n-1,f=0;f<=d+p;f++){var g=Math.max(0,f-p),m=Math.min(f,d);for(u=g;u<=m;u++)j=f-u,a[u+j].y+=r[j][u]*l[j][u]}return a},f=function t(e,n,i,s){var o,r,a=[],l=[],u=[],c=[];switch(g(e,n)){case 0:return 0;case 1:if(64<=s)return i[0]=(e[0].x+e[n].x)/2,1;if(m(e,n))return i[0]=P(e,n),1}C(e,n,.5,a,l),o=t(a,n,u,s+1),r=t(l,n,c,s+1);for(var h=0;h<o;h++)i[h]=u[h];for(h=0;h<r;h++)i[h+o]=c[h];return o+r},g=function(t,e){var n,i,s=0;n=i=Math.sgn(t[0].y);for(var o=1;o<=e;o++)(n=Math.sgn(t[o].y))!=i&&s++,i=n;return s},m=function(t,e){var n,i,s,o,r,a,l,u;o=t[0].y-t[e].y,r=t[e].x-t[0].x,a=t[0].x*t[e].y-t[e].x*t[0].y;for(var c=max_distance_below=0,h=1;h<e;h++){var d=o*t[h].x+r*t[h].y+a;c<d?c=d:d<max_distance_below&&(max_distance_below=d)}return n=(1*(a-c)-0*(u=r))*(1/(0*u-1*(l=o))),l=o,u=r,i=(1*(a-max_distance_below)-0*u)*(1/(0*u-1*l)),s=Math.min(n,i),Math.max(n,i)-s<p?1:0},P=function(t,e){var n=t[e].x-t[0].x,i=t[e].y-t[0].y,s=t[0].x-0;return 0+1*((n*(t[0].y-0)-i*s)*(1/(0*n-1*i)))},C=function(t,e,n,i,s){for(var o=[[]],r=0;r<=e;r++)o[0][r]=t[r];for(var a=1;a<=e;a++)for(r=0;r<=e-a;r++)o[a]||(o[a]=[]),o[a][r]||(o[a][r]={}),o[a][r].x=(1-n)*o[a-1][r].x+n*o[a-1][r+1].x,o[a][r].y=(1-n)*o[a-1][r].y+n*o[a-1][r+1].y;if(null!=i)for(r=0;r<=e;r++)i[r]=o[r][0];if(null!=s)for(r=0;r<=e;r++)s[r]=o[e-r][r];return o[e][0]},u={},l=function(t,e){for(var n=function(e){var t=u[e];if(!t){var n=function(e){return function(t){return e}},i=function(){return function(t){return t}},s=function(){return function(t){return 1-t}},o=function(i){return function(t){for(var e=1,n=0;n<i.length;n++)e*=i[n](t);return e}};(t=[]).push(new function(){return function(t){return Math.pow(t,e)}});for(var r=1;r<e;r++){for(var a=[new n(e)],l=0;l<e-r;l++)a.push(new i);for(l=0;l<r;l++)a.push(new s);t.push(new o(a))}t.push(new function(){return function(t){return Math.pow(1-t,e)}}),u[e]=t}return t}(t.length-1),i=0,s=0,o=0;o<t.length;o++)i+=t[o].x*n[o](e),s+=t[o].y*n[o](e);return{x:i,y:s}},c=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},_=function(t){return t[0].x==t[1].x&&t[0].y==t[1].y},x=function(t,e,n){if(_(t))return{point:t[0],location:e};for(var i=l(t,e),s=0,o=e,r=0<n?1:-1,a=null;s<Math.abs(n);)a=l(t,o+=.005*r),s+=c(a,i),i=a;return{point:a,location:o}},E=function(t,e){var n=l(t,e),i=l(t.slice(0,t.length-1),e),s=i.y-n.y,o=i.x-n.x;return 0==s?1/0:Math.atan(s/o)},t=this.jsBezier={distanceFromCurve:i,gradientAtPoint:E,gradientAtPointAlongCurveFrom:function(t,e,n){var i=x(t,e,n);return 1<i.location&&(i.location=1),i.location<0&&(i.location=0),E(t,i.location)},nearestPointOnCurve:function(t,e){var n=i(t,e);return{point:C(e,e.length-1,n.location,null,null),location:n.location}},pointOnCurve:l,pointAlongCurveFrom:function(t,e,n){return x(t,e,n).point},perpendicularToCurveAt:function(t,e,n,i){var s=x(t,e,i=null==i?0:i),o=E(t,s.location),r=Math.atan(-1/o),a=n/2*Math.sin(r),l=n/2*Math.cos(r);return[{x:s.point.x+l,y:s.point.y+a},{x:s.point.x-l,y:s.point.y-a}]},locationAlongCurveFrom:function(t,e,n){return x(t,e,n).location},getLength:function(t){if(_(t))return 0;for(var e=l(t,0),n=0,i=0,s=null;i<1;)s=l(t,i+=.005),n+=c(s,e),e=s;return n},version:"0.9.0"};"undefined"!=typeof exports&&(exports.jsBezier=t)}).call("undefined"!=typeof window?window:this),function(){"use strict";var t=this.Biltong={version:"0.4.0"};"undefined"!=typeof exports&&(exports.Biltong=t);var i=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n=function(t,e,n){return n(t=i(t)?t:[t.x,t.y],e=i(e)?e:[e.x,e.y])},u=t.gradient=function(t,e){return n(t,e,function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])})},c=(t.normal=function(t,e){return-1/u(t,e)},t.lineLength=function(t,e){return n(t,e,function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))})},t.quadrant=function(t,e){return n(t,e,function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4})}),h=(t.theta=function(t,e){return n(t,e,function(t,e){var n=u(t,e),i=Math.atan(n),s=c(t,e);return 4!=s&&3!=s||(i+=Math.PI),i<0&&(i+=2*Math.PI),i})},t.intersects=function(t,e){var n=t.x,i=t.x+t.w,s=t.y,o=t.y+t.h,r=e.x,a=e.x+e.w,l=e.y,u=e.y+e.h;return n<=r&&r<=i&&s<=l&&l<=o||n<=a&&a<=i&&s<=l&&l<=o||n<=r&&r<=i&&s<=u&&u<=o||n<=a&&r<=i&&s<=u&&u<=o||r<=n&&n<=a&&l<=s&&s<=u||r<=i&&i<=a&&l<=s&&s<=u||r<=n&&n<=a&&l<=o&&o<=u||r<=i&&n<=a&&l<=o&&o<=u},t.encloses=function(t,e,s){var n=t.x,i=t.x+t.w,o=t.y,r=t.y+t.h,a=e.x,l=e.x+e.w,u=e.y,c=e.y+e.h,h=function(t,e,n,i){return s?t<=e&&i<=n:t<e&&i<n};return h(n,a,i,l)&&h(o,u,r,c)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),d=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var i=u(t,e),s=c(t,e),o=0<n?h[s]:d[s],r=Math.atan(i),a=Math.abs(n*Math.sin(r))*o[1],l=Math.abs(n*Math.cos(r))*o[0];return{x:t.x+l,y:t.y+a}},t.perpendicularLineTo=function(t,e,n){var i=u(t,e),s=Math.atan(-1/i),o=n/2*Math.sin(s),r=n/2*Math.cos(s);return[{x:e.x+r,y:e.y+o},{x:e.x-r,y:e.y-o}]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var t=this,f=-1<navigator.userAgent.toLowerCase().indexOf("android"),p=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},g=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},m=function(t){return t.srcElement||t.target},v=function(t,e,n,i){if(i){if(void 0!==t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(n)};var s={path:[],end:-1};return function t(e){s.path.push(e),e===n?s.end=s.path.length-1:null!=e.parentNode&&t(e.parentNode)}(e),s}return{path:[e],end:1}},b=function(t,e){for(var n=0,i=t.length;n<i&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},s=1,a=function(t,e,n){var i=s++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},(t.__ta[e][i]=n).__tauid=i},l=function(a,l,u,t){if(null==a)return u;var c=a.split(","),e=function t(e){t.__tauid=u.__tauid;var n=m(e),i=n,s=v(e,n,l,null!=a);if(-1!=s.end)for(var o=0;o<s.end;o++){i=s.path[o];for(var r=0;r<c.length;r++)p(i,c[r],l)&&u.apply(i,arguments)}};return n(u,t,e),e},n=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},y=function(t,e,n,i){if(C&&x[e]){var s=l(i,t,n,x[e]);d(t,x[e],s,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),d(t,e,l(i,t,n,e),n)},P={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},i=function(h,d){return function(u,t,e,r){if("contextmenu"==t&&_)y(u,t,e,r);else{if(null==u.__taTapHandler){var c=u.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},a=function(){c.down=!1},l=function(){c.taps=0};y(u,"mousedown",function(t){for(var e=m(t),n=v(t,e,u,null!=r),i=!1,s=0;s<n.end;s++){if(i)return;e=n.path[s];for(var o=0;o<c.downSelectors.length;o++)if(null==c.downSelectors[o]||p(e,c.downSelectors[o],u)){c.down=!0,setTimeout(a,h),setTimeout(l,d),i=!0;break}}}),y(u,"mouseup",function(t){if(c.down){var e,n,i=m(t);c.taps++;var s=S(t);for(var o in P)if(P.hasOwnProperty(o)){var r=P[o];if(r.touches===s&&(1===r.taps||r.taps===c.taps))for(var a=0;a<c[o].length;a++){n=v(t,i,u,null!=c[o][a][1]);for(var l=0;l<n.end;l++)if(e=n.path[l],null==c[o][a][1]||p(e,c[o][a][1],u)){c[o][a][0].apply(e,[t]);break}}}}})}u.__taTapHandler.downSelectors.push(r),u.__taTapHandler[t].push([e,r]),e.__taUnstore=function(){b(u.__taTapHandler[t],e)}}}},u=function(t,e,n,i){for(var s in n.__tamee[t])n.__tamee[t].hasOwnProperty(s)&&n.__tamee[t][s].apply(i,[e])},c=function(){var r=[];return function(i,t,e,n){if(!i.__tamee){i.__tamee={over:!1,mouseenter:[],mouseexit:[]};var s=function(t){var e=m(t);(null==n&&e==i&&!i.__tamee.over||p(e,n,i)&&(null==e.__tamee||!e.__tamee.over))&&(u("mouseenter",t,i,e),e.__tamee=e.__tamee||{},e.__tamee.over=!0,r.push(e))},o=function(t){for(var e=m(t),n=0;n<r.length;n++)e!=r[n]||p(t.relatedTarget||t.toElement,"*",e)||(e.__tamee.over=!1,r.splice(n,1),u("mouseexit",t,i,e))};d(i,"mouseover",l(n,i,s,"mouseover"),s),d(i,"mouseout",l(n,i,o,"mouseout"),o)}e.__taUnstore=function(){delete i.__tamee[t][e.__tauid]},a(i,t,e),i.__tamee[t][e.__tauid]=e}},C="ontouchstart"in document.documentElement,_="onmousedown"in document.documentElement,x={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),o=-1<e&&e<9,E=function(t,e){if(null==t)return[0,0];var n=h(t),i=r(n,0);return[i[e+"X"],i[e+"Y"]]},j=function(t){return null==t?[0,0]:o?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:E(t,"page")},r=function(t,e){return t.item?t.item(e):t[e]},h=function(t){return t.touches&&0<t.touches.length?t.touches:t.changedTouches&&0<t.changedTouches.length?t.changedTouches:t.targetTouches&&0<t.targetTouches.length?t.targetTouches:[t]},S=function(t){return h(t).length},d=function(t,e,n,i){if(a(t,e,n),i.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var s=e+n.__tauid;t["e"+s]=n,t[s]=function(){t["e"+s]&&t["e"+s](window.event)},t.attachEvent("on"+e,t[s])}},D=function n(i,s,o){null!=o&&w(i,function(){var t=g(this);if(function(t,e,n){if(t.__ta&&t.__ta[e]&&delete t.__ta[e][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)D(t,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()}(t,s,o),null!=o.__tauid)if(t.removeEventListener)t.removeEventListener(s,o,!1),C&&x[s]&&t.removeEventListener(x[s],o,!1);else if(this.detachEvent){var e=s+o.__tauid;t[e]&&t.detachEvent("on"+s,t[e]),t[e]=null,t["e"+e]=null}o.__taTouchProxy&&n(i,o.__taTouchProxy[1],o.__taTouchProxy[0])})},w=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}};t.Mottle=function(t){var e=(t=t||{}).clickThreshold||250,n=t.dblClickThreshold||450,s=new c,o=new i(e,n),r=t.smartClicks,l=function(t,e,n,i){null!=n&&w(t,function(){var t=g(this);r&&"click"===e?function(n,t,e,i){null==n.__taSmartClicks&&(y(n,"mousedown",function(t){n.__tad=j(t)},i),y(n,"mouseup",function(t){n.__tau=j(t)},i),y(n,"click",function(t){if(n.__tad&&n.__tau&&n.__tad[0]===n.__tau[0]&&n.__tad[1]===n.__tau[1])for(var e=0;e<n.__taSmartClicks.length;e++)n.__taSmartClicks[e].apply(m(t),[t])},i),n.__taSmartClicks=[]);n.__taSmartClicks.push(e),e.__taUnstore=function(){b(n.__taSmartClicks,e)}}(t,0,n,i):"tap"===e||"dbltap"===e||"contextmenu"===e?o(t,e,n,i):"mouseenter"===e||"mouseexit"==e?s(t,e,n,i):y(t,e,n,i)})};this.remove=function(t){return w(t,function(){var t=g(this);if(t.__ta)for(var e in t.__ta)if(t.__ta.hasOwnProperty(e))for(var n in t.__ta[e])t.__ta[e].hasOwnProperty(n)&&D(t,e,t.__ta[e][n]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(t,e,n,i){var s=t,o=4==arguments.length?n:null,r=e,a=arguments[arguments.length-1];return l(s,r,a,o),this},this.off=function(t,e,n){return D(t,e,n),this},this.trigger=function(t,s,r,a){var l=_&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),u=C&&!_&&x[s]?x[s]:s,c=!(C&&!_&&x[s]),h=j(r),d=E(r,"screen"),p=E(r,"client");return w(t,function(){var t,o=g(this);r=r||{screenX:d[0],screenY:d[1],clientX:p[0],clientY:p[1]};var e=function(t){a&&(t.payload=a)},n={TouchEvent:function(t){var e=document.createTouch(window,o,0,h[0],h[1],d[0],d[1],p[0],p[1],0,0,0,0),n=document.createTouchList(e),i=document.createTouchList(e),s=document.createTouchList(e);t.initTouchEvent(u,!0,!0,window,null,d[0],d[1],p[0],p[1],!1,!1,!1,!1,n,i,s,1,0)},MouseEvents:function(t){if(t.initMouseEvent(u,!0,!0,window,0,d[0],d[1],p[0],p[1],!1,!1,!1,!1,1,o),f){var e=document.createTouch(window,o,0,h[0],h[1],d[0],d[1],p[0],p[1],0,0,0,0);t.touches=t.targetTouches=t.changedTouches=document.createTouchList(e)}}};if(document.createEvent){var i=!c&&!l&&C&&x[s]&&!f?"TouchEvent":"MouseEvents";t=document.createEvent(i),n[i](t),e(t),o.dispatchEvent(t)}else document.createEventObject&&((t=document.createEventObject()).eventType=t.eventName=u,t.screenX=d[0],t.screenY=d[1],t.clientX=p[0],t.clientY=p[1],e(t),o.fireEvent("on"+u,t))}),this}},t.Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},t.Mottle.pageLocation=j,t.Mottle.setForceTouchEvents=function(t){C=t},t.Mottle.setForceMouseEvents=function(t){_=t},t.Mottle.version="0.8.0","undefined"!=typeof exports&&(exports.Mottle=t.Mottle)}.call("undefined"==typeof window?this:window),function(){"use strict";var y=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},P=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},A=function(t){return null!=t&&("string"==typeof t||t.constructor===String)},k=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},t=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),i=-1<t&&t<9,s=9===t,O=function(t){if(i)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=r(t),n=o(e,0);return s?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},o=function(t,e){return t.item?t.item(e):t[e]},r=function(t){return t.touches&&0<t.touches.length?t.touches:t.changedTouches&&0<t.changedTouches.length?t.changedTouches:t.targetTouches&&0<t.targetTouches.length?t.targetTouches:[t]},M={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},C=["stop","start","drag","drop","over","out","beforeStart"],_=function(){},T=function(){return!0},x=function(t,e,n){for(var i=0;i<t.length;i++)t[i]!=n&&e(t[i])},F=function(t,e,n,i){x(t,function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(i,e)})},E=function(t,e){if(null!=t){t=A(t)||null!=t.tagName||null==t.length?[t]:t;for(var n=0;n<t.length;n++)e.apply(t[n],[t[n]])}},L=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},G=function(t,e,n,i){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=B();var s=!0;return this.setEnabled=function(t){s=t},this.isEnabled=function(){return s},this.toggleEnabled=function(){s=!s},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[i]},this.addScope=function(t){var e={};for(var n in E(this.scopes,function(t){e[t]=!0}),E(t?t.split(/\s+/):[],function(t){e[t]=!0}),this.scopes=[],e)this.scopes.push(n)},this.removeScope=function(t){var e={};for(var n in E(this.scopes,function(t){e[t]=!0}),E(t?t.split(/\s+/):[],function(t){delete e[t]}),this.scopes=[],e)this.scopes.push(n)},this.toggleScope=function(t){var e={};for(var n in E(this.scopes,function(t){e[t]=!0}),E(t?t.split(/\s+/):[],function(t){e[t]?delete e[t]:e[t]=!0}),this.scopes=[],e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},U=function(){return!0},N=function(){return!1},j=function(s,h,v,t){this._class=v.draggable;var b=G.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var d,y=[0,0],P=null,n=null,p=[0,0],a=!1,C=!1!==this.params.consumeStartEvent,_=this.el,x=this.params.clone,f=(this.params.scroll,!1!==h.multipleDrop),g=!1,m=!0===h.ghostProxy?U:h.ghostProxy&&"function"==typeof h.ghostProxy?h.ghostProxy:N,o=h.snapThreshold,r=function(t,e,n,i,s){var o=e*Math.floor(t[0]/e),r=o+e,a=Math.abs(t[0]-o)<=i?o:Math.abs(r-t[0])<=i?r:t[0],l=n*Math.floor(t[1]/n),u=l+n;return[a,Math.abs(t[1]-l)<=s?l:Math.abs(u-t[1])<=s?u:t[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(t){if(null==this.params.grid)return t;var e=this.params.grid?this.params.grid[0]/2:o||5,n=this.params.grid?this.params.grid[1]/2:o||5;return r(t,this.params.grid[0],this.params.grid[1],e,n)},this.snap=function(t,e){if(null!=_){t=t||(this.params.grid?this.params.grid[0]:10),e=e||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(_),i=this.params.grid?this.params.grid[0]/2:o,s=this.params.grid?this.params.grid[1]/2:o;this.params.setPosition(_,r(n,t,e,i,s))}},this.setUseGhostProxy=function(t){m=t?U:N};var e,l=function(t){return!1===h.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},i=function(t){d="function"==typeof t?t:t?function(t,e,n,i){return l([Math.max(0,Math.min(n.w-i[0],t[0])),Math.max(0,Math.min(n.h-i[1],t[1]))])}.bind(this):function(t){return l(t)}}.bind(this);i("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){i(t)},this.setRevert=function(t){e=t};var E={},u=this.setFilter=function(i,t){if(i){var e="function"==typeof(n=i)?(n._katavorioId=B(),n._katavorioId):n;E[e]=[function(t){var e,n=t.srcElement||t.target;return A(i)?e=k(n,i,s):"function"==typeof i&&(e=i(t,s)),e},!1!==t]}var n};this.addFilter=u,this.removeFilter=function(t){var e="function"==typeof t?t._katavorioId:t;delete E[e]};this.clearAllFilters=function(){E={}},this.canDrag=this.params.canDrag||T;var j,S=[],D=[];this.downListener=function(t){var e,n,i,s,o,r,a,l,u,c,h,d,p,f;if((this.rightButtonCanDrag||3!==t.which&&2!==t.button)&&this.isEnabled()&&this.canDrag())if(function(t){for(var e in E){var n=E[e],i=n[0](t);if(n[1]&&(i=!i),!i)return!1}return!0}(t)&&(h=t,d=this.el,p=this.k,f=h.srcElement||h.target,!k(f,p.getInputFilterSelector(),d))){if(x)if(_=this.el.cloneNode(!0),this.params.addClass(_,M.clonedDrag),_.setAttribute("id",null),_.style.position="absolute",null!=this.params.parent){var g=this.params.getPosition(this.el);_.style.left=g[0]+"px",_.style.top=g[1]+"px",this.params.parent.appendChild(_)}else{var m=(e=this.el,n=e.getBoundingClientRect(),i=document.body,s=document.documentElement,o=window.pageYOffset||s.scrollTop||i.scrollTop,r=window.pageXOffset||s.scrollLeft||i.scrollLeft,a=s.clientTop||i.clientTop||0,l=s.clientLeft||i.clientLeft||0,u=n.top+o-a,c=n.left+r-l,{top:Math.round(u),left:Math.round(c)});_.style.left=m.left+"px",_.style.top=m.top+"px",document.body.appendChild(_)}else _=this.el;C&&L(t),y=O(t),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),b.markSelection(this),b.markPosses(this),this.params.addClass(document.body,v.noSelect),I("beforeStart",{el:this.el,pos:P,e:t,drag:this})}else this.params.consumeFilteredEvents&&L(t)}.bind(this),this.moveListener=function(t){if(y){if(!a)if(!1!==I("start",{el:this.el,pos:P,e:t,drag:this})){if(!y)return;this.mark(!0),a=!0}else this.abort();if(y){D.length=0;var e=O(t),n=e[0]-y[0],i=e[1]-y[1],s=this.params.ignoreZoom?1:b.getZoom();n/=s,i/=s,this.moveBy(n,i,t),b.updateSelection(n,i,this),b.updatePosses(n,i,this)}}}.bind(this),this.upListener=function(t){y&&(y=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,v.noSelect),this.unmark(t),b.unmarkSelection(this,t),b.unmarkPosses(this,t),this.stop(t),b.notifySelectionDragStop(this,t),b.notifyPosseDragStop(this,t),a=!1,x&&(_&&_.parentNode&&_.parentNode.removeChild(_),_=null),D.length=0,e&&!0===e(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,P),I("revert",this.el)))}.bind(this),this.getFilters=function(){return E},this.abort=function(){null!=y&&this.upListener()},this.getDragElement=function(){return _||this.el};var c={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};h.events.start&&c.start.push(h.events.start),h.events.beforeStart&&c.beforeStart.push(h.events.beforeStart),h.events.stop&&c.stop.push(h.events.stop),h.events.drag&&c.drag.push(h.events.drag),h.events.revert&&c.revert.push(h.events.revert),this.on=function(t,e){c[t]&&c[t].push(e)},this.off=function(t,e){if(c[t]){for(var n=[],i=0;i<c[t].length;i++)c[t][i]!==e&&n.push(c[t][i]);c[t]=n}};var w,I=function(t,e){var n=null;if(c[t])for(var i=0;i<c[t].length;i++)try{var s=c[t][i](e);null!=s&&(n=s)}catch(t){}return n};this.notifyStart=function(t){I("start",{el:this.el,pos:this.params.getPosition(_),e:t,drag:this})},this.stop=function(t,e){if(e||a){var n=[],i=b.getSelection(),s=this.params.getPosition(_);if(1<i.length)for(var o=0;o<i.length;o++){var r=this.params.getPosition(i[o].el);n.push([i[o].el,{left:r[0],top:r[1]},i[o]])}else n.push([_,{left:s[0],top:s[1]},this]);I("stop",{el:_,pos:w||s,finalPos:s,e:t,drag:this,selection:n})}},this.mark=function(t){var e;P=this.params.getPosition(_),n=this.params.getPosition(_,!0),p=[n[0]-P[0],n[1]-P[1]],this.size=this.params.getSize(_),S=b.getMatchingDroppables(this),F(S,!0,!1,this),this.params.addClass(_,this.params.dragClass||v.drag),e=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(_):this.params.getSize(_.parentNode),j={w:e[0],h:e[1]},t&&b.notifySelectionDragStart(this)},this.unmark=function(t,e){if(F(S,!1,!0,this),g&&m(this.el)?(w=[_.offsetLeft,_.offsetTop],this.el.parentNode.removeChild(_),_=this.el):w=null,this.params.removeClass(_,this.params.dragClass||v.drag),S.length=0,g=!1,!e){0<D.length&&w&&h.setPosition(this.el,w),D.sort(R);for(var n=0;n<D.length;n++){if(!0===D[n].drop(this,t))break}}},this.moveBy=function(t,e,n){D.length=0;var i=this.toGrid([P[0]+t,P[1]+e]),s=d(i,_,j,this.size);if(m(this.el))if(i[0]!==s[0]||i[1]!==s[1]){if(!g){var o=this.el.cloneNode(!0);h.addClass(o,M.ghostProxy),this.el.parentNode.appendChild(o),_=o,g=!0}s=i}else g&&(this.el.parentNode.removeChild(_),_=this.el,g=!1);var r={x:s[0],y:s[1],w:this.size[0],h:this.size[1]},a={x:r.x+p[0],y:r.y+p[1],w:r.w,h:r.h},l=null;this.params.setPosition(_,s);for(var u=0;u<S.length;u++){var c={x:S[u].pagePosition[0],y:S[u].pagePosition[1],w:S[u].size[0],h:S[u].size[1]};this.params.intersects(a,c)&&(f||null==l||l===S[u].el)&&S[u].canDrop(this)?(l||(l=S[u].el),D.push(S[u]),S[u].setHover(this,!0,n)):S[u].isHover()&&S[u].setHover(this,!1,n)}I("drag",{el:this.el,pos:s,e:n,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?u(this.params.handle,!1):u(this.params.filter,this.params.filterExclude)},S=function(t,e,n,i){this._class=n.droppable,this.params=e||{},this.rank=e.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,G.apply(this,arguments);var s=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return s},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover===t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,s!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),s=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e:e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,s=null}},B=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},R=function(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:0},D=function(t){return null==t?null:null==(t="string"==typeof t||t.constructor===String?document.getElementById(t):t)?null:(t._katavorio=t._katavorio||B(),t)};this.Katavorio=function(o){var s=[],i={};this._dragsByScope={},this._dropsByScope={};var e=1,r=function(t,n){E(t,function(t){for(var e=0;e<t.scopes.length;e++)n[t.scopes[e]]=n[t.scopes[e]]||[],n[t.scopes[e]].push(t)})},a=function(t,i){var s=0;return E(t,function(t){for(var e=0;e<t.scopes.length;e++)if(i[t.scopes[e]]){var n=o.indexOf(i[t.scopes[e]],t);-1!==n&&(i[t.scopes[e]].splice(n,1),s++)}}),0<s},l=(this.getMatchingDroppables=function(t){for(var e=[],n={},i=0;i<t.scopes.length;i++){var s=this._dropsByScope[t.scopes[i]];if(s)for(var o=0;o<s.length;o++)!s[o].canDrop(t)||n[s[o].uuid]||!s[o].allowLoopback&&s[o].el===t.el||(n[s[o].uuid]=!0,e.push(s[o]))}return e.sort(R),e},function(t){t=t||{};var e,n={events:{}};for(e in o)n[e]=o[e];for(e in t)n[e]=t[e];for(e=0;e<C.length;e++)n.events[C[e]]=t[C[e]]||_;return n.katavorio=this,n}.bind(this)),u=function(t,e){for(var n=0;n<C.length;n++)e[C[n]]&&t.on(C[n],e[C[n]])}.bind(this),c={},t=o.css||{},h=o.scope||"katavorio-drag-scope";for(var n in M)c[n]=M[n];for(var n in t)c[n]=t[n];var d=o.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return d},this.setInputFilterSelector=function(t){return d=t,this},this.draggable=function(t,n){var i=[];return E(t,function(t){if(null!=(t=D(t)))if(null==t._katavorioDrag){var e=l(n);t._katavorioDrag=new j(t,e,c,h),r(t._katavorioDrag,this._dragsByScope),i.push(t._katavorioDrag),o.addClass(t,c.draggable)}else u(t._katavorioDrag,n)}.bind(this)),i},this.droppable=function(t,n){var i=[];return E(t,function(t){if(null!=(t=D(t))){var e=new S(t,l(n),c,h);t._katavorioDrop=t._katavorioDrop||[],t._katavorioDrop.push(e),r(e,this._dropsByScope),i.push(e),o.addClass(t,c.droppable)}}.bind(this)),i},this.select=function(t){return E(t,function(){var t=D(this);t&&t._katavorioDrag&&(i[t._katavorio]||(s.push(t._katavorioDrag),i[t._katavorio]=[t,s.length-1],o.addClass(t,c.selected)))}),this},this.deselect=function(t){return E(t,function(){var t=D(this);if(t&&t._katavorio&&i[t._katavorio]){for(var e=[],n=0;n<s.length;n++)s[n].el!==t&&e.push(s[n]);s=e,delete i[t._katavorio],o.removeClass(t,c.selected)}}),this},this.deselectAll=function(){for(var t in i){var e=i[t];o.removeClass(e[0],c.selected)}s.length=0,i={}},this.markSelection=function(t){x(s,function(t){t.mark()},t)},this.markPosses=function(e){e.posses&&E(e.posses,function(t){e.posseRoles[t]&&v[t]&&x(v[t].members,function(t){t.mark()},e)})},this.unmarkSelection=function(t,e){x(s,function(t){t.unmark(e)},t)},this.unmarkPosses=function(e,n){e.posses&&E(e.posses,function(t){e.posseRoles[t]&&v[t]&&x(v[t].members,function(t){t.unmark(n,!0)},e)})},this.getSelection=function(){return s.slice(0)},this.updateSelection=function(e,n,t){x(s,function(t){t.moveBy(e,n)},t)};var p=function(e,n){n.posses&&E(n.posses,function(t){n.posseRoles[t]&&v[t]&&x(v[t].members,function(t){e(t)},n)})};this.updatePosses=function(e,n,t){p(function(t){t.moveBy(e,n)},t)},this.notifyPosseDragStop=function(t,e){p(function(t){t.stop(e,!0)},t)},this.notifySelectionDragStop=function(t,e){x(s,function(t){t.stop(e,!0)},t)},this.notifySelectionDragStart=function(t,e){x(s,function(t){t.notifyStart(e)},t)},this.setZoom=function(t){e=t},this.getZoom=function(){return e};var f=function(t,e,n,i){E(t,function(t){a(t,n),t[i](e),r(t,n)})};E(["set","add","remove","toggle"],function(n){this[n+"Scope"]=function(t,e){f(t._katavorioDrag,e,this._dragsByScope,n+"Scope"),f(t._katavorioDrop,e,this._dropsByScope,n+"Scope")}.bind(this),this[n+"DragScope"]=function(t,e){f(t.constructor===j?t:t._katavorioDrag,e,this._dragsByScope,n+"Scope")}.bind(this),this[n+"DropScope"]=function(t,e){f(t.constructor===S?t:t._katavorioDrop,e,this._dropsByScope,n+"Scope")}.bind(this)}.bind(this)),this.snapToGrid=function(e,n){for(var t in this._dragsByScope)x(this._dragsByScope[t],function(t){t.snap(e,n)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var g=function(t,e,n){if((t=D(t))[e]){var i=s.indexOf(t[e]);0<=i&&s.splice(i,1),a(t[e],n)&&E(t[e],function(t){t.destroy()}),delete t[e]}},m=function(t,e,n,i){(t=D(t))[e]&&t[e].off(n,i)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t,e,n){1===arguments.length?g(t,"_katavorioDrag",this._dragsByScope):m(t,"_katavorioDrag",e,n)},this.destroyDroppable=function(t,e,n){1===arguments.length?g(t,"_katavorioDrop",this._dropsByScope):m(t,"_katavorioDrop",e,n)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},s=[],i={},v={}};var v={},b=function(t,e,n){var i,s=A(e)?e:e.id,o=!!A(e)||!1!==e.active,r=v[s]||(i={name:s,members:[]},v[s]=i);return E(t,function(t){if(t._katavorioDrag){if(n&&null!=t._katavorioDrag.posseRoles[r.name])return;y(r.members,t._katavorioDrag),y(t._katavorioDrag.posses,r.name),t._katavorioDrag.posseRoles[r.name]=o}}),r};this.addToPosse=function(t,e){for(var n=[],i=1;i<arguments.length;i++)n.push(b(t,arguments[i]));return 1===n.length?n[0]:n},this.setPosse=function(t,e){for(var i=[],n=1;n<arguments.length;n++)i.push(b(t,arguments[n],!0).name);return E(t,function(t){if(t._katavorioDrag){var e=function(t,e){for(var n=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&n.push(t[i]);return n}(t._katavorioDrag.posses,i);Array.prototype.push.apply([],t._katavorioDrag.posses);for(var n=0;n<e.length;n++)this.removeFromPosse(t,e[n])}}.bind(this)),1===i.length?i[0]:i},this.removeFromPosse=function(t,n){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var e=1;e<arguments.length;e++)n=arguments[e],E(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;E(n,function(t){P(v[t].members,e),P(e.posses,t),delete e.posseRoles[t]})}})},this.removeFromAllPosses=function(t){E(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;E(e.posses,function(t){P(v[t].members,e)}),e.posses.length=0,e.posseRoles={}}})},this.setPosseState=function(t,e,n){var i=v[e];i&&E(t,function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[i.name]=n)})}},this.Katavorio.version="0.27.0","undefined"!=typeof exports&&(exports.Katavorio=this.Katavorio)}.call("undefined"!=typeof window?window:this),function(){var l=function(t){return"[object Array]"===Object.prototype.toString.call(t)},u=function(t){return"string"==typeof t},c=function(t){return"boolean"==typeof t},h=function(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)},o=function(t){return"[object Date]"===Object.prototype.toString.call(t)},d=function(t){return"[object Function]"===Object.prototype.toString.call(t)},p=this;p.jsPlumbUtil={isArray:l,isString:u,isBoolean:c,isNull:function(t){return null==t},isObject:h,isDate:o,isFunction:d,isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},isNumber:function(t){return"[object Number]"===Object.prototype.toString.call(t)},clone:function(t){if(u(t))return""+t;if(c(t))return!!t;if(o(t))return new Date(t.getTime());if(d(t))return t;if(l(t)){for(var e=[],n=0;n<t.length;n++)e.push(this.clone(t[n]));return e}if(h(t)){var i={};for(var s in t)i[s]=this.clone(t[s]);return i}return t},merge:function(t,e,n){var i,s,o={};for(n=n||[],s=0;s<n.length;s++)o[n[s]]=!0;var r=this.clone(t);for(s in e)if(null==r[s])r[s]=e[s];else if(u(e[s])||c(e[s]))o[s]?((i=[]).push.apply(i,l(r[s])?r[s]:[r[s]]),i.push.apply(i,l(e[s])?e[s]:[e[s]]),r[s]=i):r[s]=e[s];else if(l(e[s]))i=[],l(r[s])&&i.push.apply(i,r[s]),i.push.apply(i,e[s]),r[s]=i;else if(h(e[s]))for(var a in h(r[s])||(r[s]={}),e[s])r[s][a]=e[s][a];return r},replace:function(t,e,a){if(null!=t){var l=t;return e.replace(/([^\.])+/g,function(t,e,n,i){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),o=function(){return l[s[1]]||(l[s[1]]=[],l[s[1]])};if(n+t.length>=i.length)s?o()[s[3]]=a:l[t]=a;else if(s){var r=o();l=r[s[3]]||(r[s[3]]={},r[s[3]])}else l=l[t]||(l[t]={},l[t])}),t}},functionChain:function(t,e,n){for(var i=0;i<n.length;i++){var s=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(s===e)return s}return t},populate:function(t,r,a){return function t(e){if(null!=e){if(u(e))return function(t){var e=t.match(/(\${.*?})/g);if(null!=e)for(var n=0;n<e.length;n++){var i=r[e[n].substring(2,e[n].length-1)]||"";null!=i&&(t=t.replace(e[n],i))}return t}(e);if(!d(e)||null!=a&&0!==(e.name||"").indexOf(a)){if(l(e)){for(var n=[],i=0;i<e.length;i++)n.push(t(e[i]));return n}if(h(e)){var s={};for(var o in e)s[o]=t(e[o]);return s}return e}return e(r)}}(t)},findWithFunction:function(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},removeWithFunction:function(t,e){var n=p.jsPlumbUtil.findWithFunction(t,e);return-1<n&&t.splice(n,1),-1!==n},remove:function(t,e){var n=t.indexOf(e);return-1<n&&t.splice(n,1),-1!==n},addWithFunction:function(t,e,n){-1===p.jsPlumbUtil.findWithFunction(t,n)&&t.push(e)},addToList:function(t,e,n,i){var s=t[e];return null==s&&(s=[],t[e]=s),s[i?"unshift":"push"](n),s},suggest:function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},extend:function(n,i,t){var s;for(i=l(i)?i:[i],s=0;s<i.length;s++)for(var e in i[s].prototype)i[s].prototype.hasOwnProperty(e)&&(n.prototype[e]=i[s].prototype[e]);var o=function(t,e){return function(){for(s=0;s<i.length;s++)i[s].prototype[t]&&i[s].prototype[t].apply(this,arguments);return e.apply(this,arguments)}},r=function(t){for(var e in t)n.prototype[e]=o(e,t[e])};if(2<arguments.length)for(s=2;s<arguments.length;s++)r(arguments[s]);return n},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},logEnabled:!0,log:function(){if(p.jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{var t=arguments[arguments.length-1];console.log(t)}catch(t){}},wrap:function(e,n,i){return function(){var t=null;try{null!=n&&(t=n.apply(this,arguments))}catch(t){p.jsPlumbUtil.log("jsPlumb function failed : "+t)}if(null!=e&&(null==i||t!==i))try{t=e.apply(this,arguments)}catch(t){p.jsPlumbUtil.log("wrapped function failed : "+t)}return t}}},p.jsPlumbUtil.EventGenerator=function(){var a={},l=!1,u=!1,c={ready:!0},h=[];this.bind=function(t,e,n){var i=function(t){p.jsPlumbUtil.addToList(a,t,e,n),e.__jsPlumb=e.__jsPlumb||{},e.__jsPlumb[p.jsPlumbUtil.uuid()]=t};if("string"==typeof t)i(t);else if(null!=t.length)for(var s=0;s<t.length;s++)i(t[s]);return this},this.fire=function(e,t,n){if(u)h.unshift(arguments);else{if(u=!0,!l&&a[e]){var i=a[e].length,s=0,o=!1,r=null;if(!this.shouldFireEvent||this.shouldFireEvent(e,t,n))for(;!o&&s<i&&!1!==r;){if(c[e])a[e][s].apply(this,[t,n]);else try{r=a[e][s].apply(this,[t,n])}catch(t){p.jsPlumbUtil.log("jsPlumb: fire failed for event "+e+" : "+t)}s++,null!=a&&null!=a[e]||(o=!0)}}u=!1,d()}return this};var d=function(){var t=h.pop();t&&this.fire.apply(this,t)}.bind(this);this.unbind=function(t,e){if(0===arguments.length)a={};else if(1===arguments.length){if("string"==typeof t)delete a[t];else if(t.__jsPlumb){var n;for(var i in t.__jsPlumb)n=t.__jsPlumb[i],p.jsPlumbUtil.remove(a[n]||[],t)}}else 2===arguments.length&&p.jsPlumbUtil.remove(a[t]||[],e);return this},this.getListener=function(t){return a[t]},this.setSuspendEvents=function(t){l=t},this.isSuspendEvents=function(){return l},this.silently=function(t){this.setSuspendEvents(!0);try{t()}catch(t){p.jsPlumbUtil.log("Cannot execute silent function "+t)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var t in a)a[t]=null}},p.jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},"undefined"!=typeof exports&&(exports.jsPlumbUtil=p.jsPlumbUtil)}.call("undefined"!=typeof window?window:this),function(){"use strict";this.jsPlumbUtil.matchesSelector=function(t,e,n){for(var i=(n=n||t.parentNode).querySelectorAll(e),s=0;s<i.length;s++)if(i[s]===t)return!0;return!1},this.jsPlumbUtil.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.jsPlumbUtil.sizeElement=function(t,e,n,i,s){t&&(t.style.height=s+"px",t.height=s,t.style.width=i+"px",t.width=i,t.style.left=e+"px",t.style.top=n+"px")}}.call("undefined"!=typeof window?window:this),function(){"use strict";var rt=this,at=rt.jsPlumbUtil,lt=function(){return""+(new Date).getTime()},n=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};pt.extend(e,t._jsPlumb.paintStyle),pt.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fill&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},ut=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],l=function(t){return null==t?null:t.split(" ")},h=function(t,e,n){for(var i in e)t[i]=n},ct=function(t,e){e=at.isArray(e)||null!=e.length&&!at.isString(e)?e:[e];for(var n=0;n<e.length;n++)try{t.apply(e[n],[e[n]])}catch(t){at.log(".each iteration failed : "+t)}},u=function(t,e,n){if(t.getDefaultType){var i=t.getTypeDescriptor(),s={},o=t.getDefaultType(),r=at.merge({},o);h(s,o,"__default");for(var a=0,l=t._jsPlumb.types.length;a<l;a++){var u=t._jsPlumb.types[a];if("__default"!==u){var c=t._jsPlumb.instance.getType(u,i);null!=c&&(r=at.merge(r,c,["cssClass"]),h(s,c,u))}}e&&(r=at.populate(r,e,"_")),t.applyType(r,n,s),n||t.repaint()}},ht=rt.jsPlumbUIComponent=function(t){at.EventGenerator.apply(this,arguments);var e=arguments,n=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return n};var i=t.overlays||[],s={};if(this.defaultOverlayKeys){for(var o=0;o<this.defaultOverlayKeys.length;o++)Array.prototype.push.apply(i,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[o]]||[]);for(o=0;o<i.length;o++){var r=pt.convertToFullOverlaySpec(i[o]);s[r[1].id]=r}}var a={overlays:s,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return a},this.appendToDefaultType=function(t){for(var e in t)a[e]=t[e]},t.events)for(var l in t.events)this.bind(l,t.events[l]);this.clone=function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,e),t}.bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(t){at.log("jsPlumb: beforeDetach callback failed",t)}return e},this.isDropAllowed=function(t,e,n,i,s,o,r){var a=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:n,connection:i,dropEndpoint:s,source:o,target:r});if(this._jsPlumb.beforeDrop)try{a=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:n,connection:i,dropEndpoint:s,source:o,target:r})}catch(t){at.log("jsPlumb: beforeDrop callback failed",t)}return a};var u=[];this.setListenerComponent=function(t){for(var e=0;e<u.length;e++)u[e][3]=t}},c=function(t,e){var n=t._jsPlumb.types[e],i=t._jsPlumb.instance.getType(n,t.getTypeDescriptor());null!=i&&i.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,i.cssClass)};at.extend(rt.jsPlumbUIComponent,at.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return pt.getClass(this.canvas)},hasClass:function(t){return pt.hasClass(this.canvas,t)},addClass:function(t){pt.addClass(this.canvas,t)},removeClass:function(t){pt.removeClass(this.canvas,t)},updateClasses:function(t,e){pt.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=l(t)||[],u(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){u(this,t,e)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,e,n){var i=l(t),s=!1;if(null!=i){for(var o=0,r=i.length;o<r;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),s=!0);s&&u(this,e,n)}},removeType:function(t,e,n){var i=l(t),s=!1,o=function(t){var e=this._jsPlumb.types.indexOf(t);return-1!==e&&(c(this,e),this._jsPlumb.types.splice(e,1),!0)}.bind(this);if(null!=i){for(var r=0,a=i.length;r<a;r++)s=o(i[r])||s;s&&u(this,e,n)}},clearTypes:function(t,e){for(var n=this._jsPlumb.types.length,i=0;i<n;i++)c(this,0),this._jsPlumb.types.splice(0,1);u(this,t,e)},toggleType:function(t,e,n){var i=l(t);if(null!=i){for(var s=0,o=i.length;s<o;s++){var r=this._jsPlumb.types.indexOf(i[s]);-1!==r?(c(this,r),this._jsPlumb.types.splice(r,1)):this._jsPlumb.types.push(i[s])}u(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,n(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,n(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){var i=(this._jsPlumb.hover=t)?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||lt(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&function(t,e,n,i){var s=t.getAttachedElements();if(s)for(var o=0,r=s.length;o<r;o++)i&&i===s[o]||s[o].setHover(e,!0,n)}(this,t,lt(),this)}}});var dt=0,s=rt.jsPlumbInstance=function(t){this.version="2.6.12",t&&pt.extend(this.Defaults,t),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},at.EventGenerator.apply(this);var e,P=this,s=(e=dt+1,dt++,e),n=P.bind,i={},C=1,d=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var e=P.getElement(t);return{el:e,id:at.isString(t)&&null==e?t:L(e)}};for(var o in this.getInstanceIndex=function(){return s},this.setZoom=function(t,e){return C=t,P.fire("zoom",C),e&&P.repaintEverything(),!0},this.getZoom=function(){return C},this.Defaults)i[o]=this.Defaults[o];var u,c=[];this.unbindContainer=function(){if(null!=u&&0<c.length)for(var t=0;t<c.length;t++)P.off(u,c[t][0],c[t][1])},this.setContainer=function(e){this.unbindContainer(),e=this.getElement(e),this.select().each(function(t){t.moveParent(e)}),this.selectEndpoints().each(function(t){t.moveParent(e)});var t=u;u=e,c.length=0;for(var r={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},n=function(t,e,n){var i=e.srcElement||e.target,s=(i&&i.parentNode?i.parentNode._jsPlumb:null)||(i?i._jsPlumb:null)||(i&&i.parentNode&&i.parentNode.parentNode?i.parentNode.parentNode._jsPlumb:null);if(s){s.fire(t,s,e);var o=n&&r[n+t]||t;P.fire(o,s.component||s,e)}},i=function(t,e,n){c.push([t,n]),P.on(u,t,e,n)},s=function(e){i(e,".jtk-connector",function(t){n(e,t)}),i(e,".jtk-endpoint",function(t){n(e,t,"endpoint")}),i(e,".jtk-overlay",function(t){n(e,t)})},o=0;o<ut.length;o++)s(ut[o]);for(var a in h){var l=h[a].el;l.parentNode===t&&(t.removeChild(l),u.appendChild(l))}},this.getContainer=function(){return u},this.bind=function(t,e){"ready"===t&&a?e():n.apply(P,[t,e])},P.importDefaults=function(t){for(var e in t)P.Defaults[e]=t[e];return t.Container&&P.setContainer(t.Container),P},P.restoreDefaults=function(){return P.Defaults=pt.extend({},i),P};var r=null,a=!1,p=[],b={},l={},h={},f={},g={},m={},v=!1,y=[],_=!1,x=null,E=this.Defaults.Scope,j=1,S=function(){return""+j++},D=function(t,e){u?u.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}.bind(this),w=function(t,e,n,i){if(!_){var s,o=L(t),r=P.getDragManager();r&&(s=r.getElementsForDraggable(o)),null==n&&(n=lt());var a=Z({elId:o,offset:e,recalc:!1,timestamp:n});if(s&&a&&a.o)for(var l in s)Z({elId:s[l].id,offset:{left:a.o.left+s[l].offset.left,top:a.o.top+s[l].offset.top},recalc:!1,timestamp:n});if(P.anchorManager.redraw(o,e,n,null,i),s)for(var u in s)P.anchorManager.redraw(s[u].id,e,n,s[u].offset,i,!0)}},I=function(t){return l[t]},A=function(t,e){var r=pt.extend({},t);if(e&&pt.extend(r,e),r.source&&(r.source.endpoint?r.sourceEndpoint=r.source:r.source=P.getElement(r.source)),r.target&&(r.target.endpoint?r.targetEndpoint=r.target:r.target=P.getElement(r.target)),t.uuids&&(r.sourceEndpoint=I(t.uuids[0]),r.targetEndpoint=I(t.uuids[1])),r.sourceEndpoint&&r.sourceEndpoint.isFull())at.log(P,"could not add connection; source endpoint is full");else if(r.targetEndpoint&&r.targetEndpoint.isFull())at.log(P,"could not add connection; target endpoint is full");else{if(!r.type&&r.sourceEndpoint&&(r.type=r.sourceEndpoint.connectionType),r.sourceEndpoint&&r.sourceEndpoint.connectorOverlays){r.overlays=r.overlays||[];for(var n=0,i=r.sourceEndpoint.connectorOverlays.length;n<i;n++)r.overlays.push(r.sourceEndpoint.connectorOverlays[n])}r.sourceEndpoint&&r.sourceEndpoint.scope&&(r.scope=r.sourceEndpoint.scope),!r["pointer-events"]&&r.sourceEndpoint&&r.sourceEndpoint.connectorPointerEvents&&(r["pointer-events"]=r.sourceEndpoint.connectorPointerEvents);var a=function(t,e,n){return P.addEndpoint(t,function(t,e){var n=pt.extend({},t);for(var i in e)e[i]&&(n[i]=e[i]);return n}(e,{anchor:r.anchors?r.anchors[n]:r.anchor,endpoint:r.endpoints?r.endpoints[n]:r.endpoint,paintStyle:r.endpointStyles?r.endpointStyles[n]:r.endpointStyle,hoverPaintStyle:r.endpointHoverStyles?r.endpointHoverStyles[n]:r.endpointHoverStyle}))},s=function(t,e,n,i){if(r[t]&&!r[t].endpoint&&!r[t+"Endpoint"]&&!r.newConnection){var s=n[L(r[t])];if(s=s?s[i]:null){if(!s.enabled)return!1;var o=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:a(r[t],s.def,e);if(o.isFull())return!1;r[t+"Endpoint"]=o,!r.scope&&s.def.scope&&(r.scope=s.def.scope),s.uniqueEndpoint?s.endpoint?o.finalEndpoint=s.endpoint:(s.endpoint=o).setDeleteOnEmpty(!1):o.setDeleteOnEmpty(!0),0===e&&s.def.connectorOverlays&&(r.overlays=r.overlays||[],Array.prototype.push.apply(r.overlays,s.def.connectorOverlays))}}};if(!1!==s("source",0,this.sourceEndpointDefinitions,r.type||"default")&&!1!==s("target",1,this.targetEndpointDefinitions,r.type||"default"))return r.sourceEndpoint&&r.targetEndpoint&&(function(t,e){for(var n=t.scope.split(/\s/),i=e.scope.split(/\s/),s=0;s<n.length;s++)for(var o=0;o<i.length;o++)if(i[o]===n[s])return!0;return!1}(r.sourceEndpoint,r.targetEndpoint)||(r=null)),r}}.bind(P),k=function t(e){var n=P.Defaults.ConnectionType||P.getDefaultConnectionType();e._jsPlumb=P,e.newConnection=t,e.newEndpoint=M,e.endpointsByUUID=l,e.endpointsByElement=b,e.finaliseConnection=O,e.id="con_"+S();var i=new n(e);return i.isDetachable()&&(i.endpoints[0].initDraggable("_jsPlumbSource"),i.endpoints[1].initDraggable("_jsPlumbTarget")),i},O=P.finaliseConnection=function(t,e,n,i){if(e=e||{},t.suspendedEndpoint||p.push(t),t.pending=null,(t.endpoints[0].isTemporarySource=!1)!==i&&P.anchorManager.newConnection(t),w(t.source),!e.doNotFireConnectionEvent&&!1!==e.fireEvent){var s={connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]};P.fire("connection",s,n)}},M=function t(e,n){var i=P.Defaults.EndpointType||pt.Endpoint,s=pt.extend({},e);s._jsPlumb=P,s.newConnection=k,s.newEndpoint=t,s.endpointsByUUID=l,s.endpointsByElement=b,s.fireDetachEvent=N,s.elementId=n||L(s.source);var o=new i(s);return o.id="ep_"+S(),J(s.elementId,s.source),pt.headless||P.getDragManager().endpointAdded(s.source,n),o},T=function(t,e,n){var i=b[t];if(i&&i.length)for(var s=0,o=i.length;s<o;s++){for(var r=0,a=i[s].connections.length;r<a;r++){if(e(i[s].connections[r]))return}n&&n(i[s])}},F=function(t,n,i){n="block"===n;var e=null;i&&(e=function(t){t.setVisible(n,!0,!0)});var s=d(t);T(s.id,function(t){if(n&&i){var e=t.sourceId===s.id?1:0;t.endpoints[e].isVisible()&&t.setVisible(!0)}else t.setVisible(n)},e)},L=function(t,e,n){if(at.isString(t))return t;if(null==t)return null;var i=P.getAttribute(t,"id");return i&&"undefined"!==i||(2===arguments.length&&void 0!==e?i=e:(1===arguments.length||3===arguments.length&&!n)&&(i="jsPlumb_"+s+"_"+S()),n||P.setAttribute(t,"id",i)),i};this.setConnectionBeingDragged=function(t){v=t},this.isConnectionBeingDragged=function(){return v},this.getManagedElements=function(){return h},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,e,n){n=n||{};var i=pt.extend({},n);pt.extend(i,e),i.endpoint=i.endpoint||P.Defaults.Endpoint,i.paintStyle=i.paintStyle||P.Defaults.EndpointStyle;for(var s=[],o=at.isArray(t)||null!=t.length&&!at.isString(t)?t:[t],r=0,a=o.length;r<a;r++){i.source=P.getElement(o[r]),q(i.source);var l=L(i.source),u=M(i,l),c=J(l,i.source).info.o;at.addToList(b,l,u),_||u.paint({anchorLoc:u.anchor.compute({xy:[c.left,c.top],wh:y[l],element:u,timestamp:x}),timestamp:x}),s.push(u)}return 1===s.length?s[0]:s},this.addEndpoints=function(t,e,n){for(var i=[],s=0,o=e.length;s<o;s++){var r=P.addEndpoint(t,e[s],n);at.isArray(r)?Array.prototype.push.apply(i,r):i.push(r)}return i},this.animate=function(t,e,n){if(!this.animationSupported)return!1;n=n||{};var i=P.getElement(t),s=L(i),o=pt.animEvents.step,r=pt.animEvents.complete;n[o]=at.wrap(n[o],function(){P.revalidate(s)}),n[r]=at.wrap(n[r],function(){P.revalidate(s)}),P.doAnimate(i,e,n)},this.checkCondition=function(e,t){var n=P.getListener(e),i=!0;if(n&&0<n.length){var s=Array.prototype.slice.call(arguments,1);try{for(var o=0,r=n.length;o<r;o++)i=i&&n[o].apply(n[o],s)}catch(t){at.log(P,"cannot check condition ["+e+"]"+t)}}return i},this.connect=function(t,e){var n,i=A(t,e);if(i){if(null==i.source&&null==i.sourceEndpoint)return void at.log("Cannot establish connection - source does not exist");if(null==i.target&&null==i.targetEndpoint)return void at.log("Cannot establish connection - target does not exist");q(i.source),n=k(i),O(n,i)}return n};var G=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],U=function(t,e,n,i){var s,o,r,a=G[n],l=t[a.elId],u=(t[a.el],t.endpoints[n]),c={index:n,originalSourceId:0===n?l:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===n?l:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor===pt.Endpoint)(s=e).addConnection(t),e=s.element;else if(o=L(e),r=this[a.epDefs][o],o===t[a.elId])s=null;else if(r)for(var h in r){if(!r[h].enabled)return;s=null!=r[h].endpoint&&r[h].endpoint._jsPlumb?r[h].endpoint:this.addEndpoint(e,r[h].def),r[h].uniqueEndpoint&&(r[h].endpoint=s),s.addConnection(t)}else s=t.makeEndpoint(0===n,e,o);return null!=s&&(u.detachFromConnection(t),t.endpoints[n]=s,t[a.el]=s.element,t[a.elId]=s.elementId,c[0===n?"newSourceId":"newTargetId"]=s.elementId,B(c),i||t.repaint()),c.element=e,c}.bind(this);this.setSource=function(t,e,n){var i=U(t,e,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,t,i.el)},this.setTarget=function(t,e,n){var i=U(t,e,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,t)},this.deleteEndpoint=function(t,e,n){var i="string"==typeof t?l[t]:t;return i&&P.deleteObject({endpoint:i,dontUpdateHover:e,deleteAttachedObjects:n}),P},this.deleteEveryEndpoint=function(){var t=P.setSuspendDrawing(!0);for(var e in b){var n=b[e];if(n&&n.length)for(var i=0,s=n.length;i<s;i++)P.deleteEndpoint(n[i],!0)}b={},h={},l={},f={},g={},P.anchorManager.reset();var o=P.getDragManager();return o&&o.reset(),t||P.setSuspendDrawing(!1),P};var N=function(t,e,n){var i=P.Defaults.ConnectionType||P.getDefaultConnectionType(),s=t.constructor===i?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&P.fire("connectionDetached",s,n),P.fire("internal.connectionDetached",s,n),P.anchorManager.connectionDetached(s)},B=P.fireMoveEvent=function(t,e){P.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){for(var e in t._jsPlumb.uuid&&(l[t._jsPlumb.uuid]=null),P.anchorManager.deleteEndpoint(t),b){var n=b[e];if(n){for(var i=[],s=0,o=n.length;s<o;s++)n[s]!==t&&i.push(n[s]);b[e]=i}b[e].length<1&&delete b[e]}};var R="isDetachAllowed";this.deleteConnection=function(e,t){return!(null==e||!(t=t||{}).force&&!at.functionChain(!0,!1,[[e.endpoints[0],R,[e]],[e.endpoints[1],R,[e]],[e,R,[e]],[P,"checkCondition",["beforeDetach",e]]]))&&(e.setHover(!1),N(e,!e.pending&&!1!==t.fireEvent,t.originalEvent),e.endpoints[0].detachFromConnection(e),e.endpoints[1].detachFromConnection(e),at.removeWithFunction(p,function(t){return e.id===t.id}),e.cleanup(),e.destroy(),!0)},this.deleteEveryConnection=function(e){e=e||{};var n=p.length,i=0;return P.batch(function(){for(var t=0;t<n;t++)i+=P.deleteConnection(p[0],e)?1:0}),i},this.deleteConnectionsForElement=function(t,e){e=e||{},t=P.getElement(t);var n=L(t),i=b[n];if(i&&i.length)for(var s=0,o=i.length;s<o;s++)i[s].deleteEveryConnection(e);return P},this.deleteObject=function(i){var s={endpoints:{},connections:{},endpointCount:0,connectionCount:0},o=!1!==i.deleteAttachedObjects,r=function(t){null!=t&&null==s.connections[t.id]&&(i.dontUpdateHover||null==t._jsPlumb||t.setHover(!1),s.connections[t.id]=t,s.connectionCount++)};for(var t in i.connection?r(i.connection):function(t){if(null!=t&&null==s.endpoints[t.id]&&(i.dontUpdateHover||null==t._jsPlumb||t.setHover(!1),s.endpoints[t.id]=t,s.endpointCount++,o))for(var e=0;e<t.connections.length;e++){var n=t.connections[e];r(n)}}(i.endpoint),s.connections){var e=s.connections[t];if(e._jsPlumb){at.removeWithFunction(p,function(t){return e.id===t.id}),N(e,!1!==i.fireEvent&&!e.pending,i.originalEvent);var n=null==i.deleteAttachedObjects?null:!i.deleteAttachedObjects;e.endpoints[0].detachFromConnection(e,null,n),e.endpoints[1].detachFromConnection(e,null,n),e.cleanup(!0),e.destroy(!0)}}for(var a in s.endpoints){var l=s.endpoints[a];l._jsPlumb&&(P.unregisterEndpoint(l),l.cleanup(!0),l.destroy(!0))}return s},this.draggable=function(t,e){var n;return ct(function(t){(n=d(t)).el&&function(e,t,n,i,s){if(!pt.headless&&null!=t&&t&&pt.isDragSupported(e,P)){var o=n||P.Defaults.DragOptions;if(o=pt.extend({},o),pt.isAlreadyDraggable(e,P))n.force&&P.initDraggable(e,o);else{var r=pt.dragEvents.drag,a=pt.dragEvents.stop,l=pt.dragEvents.start,u=!1;J(i,e),o[l]=at.wrap(o[l],function(){if(P.setHoverSuspended(!0),P.select({source:e}).addClass(P.elementDraggingClass+" "+P.sourceElementDraggingClass,!0),P.select({target:e}).addClass(P.elementDraggingClass+" "+P.targetElementDraggingClass,!0),P.setConnectionBeingDragged(!0),o.canDrag)return n.canDrag()},!1),o[r]=at.wrap(o[r],function(){var t=P.getUIPosition(arguments,P.getZoom());null!=t&&(w(e,t,null,!0),u&&P.addClass(e,"jtk-dragged"),u=!0)}),o[a]=at.wrap(o[a],function(){for(var t,e,n=arguments[0].selection,i=0;i<n.length;i++)null!=(e=n[i])[1]&&(t=P.getUIPosition([{el:e[2].el,pos:[e[1].left,e[1].top]}]),w(e[2].el,t)),P.removeClass(e[0],"jtk-dragged"),P.select({source:e[2].el}).removeClass(P.elementDraggingClass+" "+P.sourceElementDraggingClass,!0),P.select({target:e[2].el}).removeClass(P.elementDraggingClass+" "+P.targetElementDraggingClass,!0),P.getDragManager().dragEnded(e[2].el);u=!1,P.setHoverSuspended(!1),P.setConnectionBeingDragged(!1)});var c=L(e);m[c]=!0;var h=m[c];o.disabled=null!=h&&!h,P.initDraggable(e,o),P.getDragManager().register(e),s&&P.fire("elementDraggable",{el:e,options:o})}}}(n.el,!0,e,n.id,!0)},t),P},this.droppable=function(t,e){var n;return(e=e||{}).allowLoopback=!1,ct(function(t){(n=d(t)).el&&P.initDroppable(n.el,e)},t),P};var X=function(t,e,n){return function(){return function(t,e,n,i){for(var s=0,o=t.length;s<o;s++)t[s][e].apply(t[s],n);return i(t)}(t,e,arguments,n)}},Y=function(t,e){return function(){return function(t,e,n){for(var i=[],s=0,o=t.length;s<o;s++)i.push([t[s][e].apply(t[s],n),t[s]]);return i}(t,e,arguments)}},H=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var i=0,s=t.length;i<s;i++)n.push(d(t[i]).id);else n.push(d(t).id);return n},W=function(t,e,n){return"*"===t||(0<t.length?-1!==t.indexOf(e):!n)};this.getConnections=function(t,i){t?t.constructor===String&&(t={scope:t}):t={};for(var e=t.scope||P.getDefaultScope(),s=H(e,!0),n=H(t.source),o=H(t.target),r=!i&&1<s.length?{}:[],a=function(t,e){if(!i&&1<s.length){var n=r[t];null==n&&(n=r[t]=[]),n.push(e)}else r.push(e)},l=0,u=p.length;l<u;l++){var c=p[l],h=c.proxies&&c.proxies[0]?c.proxies[0].originalEp.elementId:c.sourceId,d=c.proxies&&c.proxies[1]?c.proxies[1].originalEp.elementId:c.targetId;W(s,c.scope)&&W(n,h)&&W(o,d)&&a(c.scope,c)}return r};var z=function(t,e){var n,i,s,o,r,a={length:t.length,each:(o=t,r=e,function(t){for(var e=0,n=o.length;e<n;e++)t(o[e]);return r(o)}),get:(s=t,function(t){return s[t]})},l=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],u=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=l.length;n<i;n++)a[l[n]]=X(t,l[n],e);for(n=0,i=u.length;n<i;n++)a[u[n]]=Y(t,u[n]);return a};this.select=function(t){return(t=t||{}).scope=t.scope||"*",function t(n){var e=z(n,t);return pt.extend(e,{setDetachable:X(n,"setDetachable",t),setReattach:X(n,"setReattach",t),setConnector:X(n,"setConnector",t),delete:function(){for(var t=0,e=n.length;t<e;t++)P.deleteConnection(n[t])},isDetachable:Y(n,"isDetachable"),isReattach:Y(n,"isReattach")})}(t.connections||P.getConnections(t,!0))},this.selectEndpoints=function(t){(t=t||{}).scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":H(t.element),i=e?"*":H(t.source),s=e?"*":H(t.target),o=H(t.scope,!0),r=[];for(var a in b){var l=W(n,a,!0),u=W(i,a,!0),c="*"!==i,h=W(s,a,!0),d="*"!==s;if(l||u||h)t:for(var p=0,f=b[a].length;p<f;p++){var g=b[a][p];if(W(o,g.scope,!0)){var m=c&&0<i.length&&!g.isSource,v=d&&0<s.length&&!g.isTarget;if(m||v)continue t;r.push(g)}}}return function t(n){var e=z(n,t);return pt.extend(e,{setEnabled:X(n,"setEnabled",t),setAnchor:X(n,"setAnchor",t),isEnabled:Y(n,"isEnabled"),deleteEveryConnection:function(){for(var t=0,e=n.length;t<e;t++)n[t].deleteEveryConnection()},delete:function(){for(var t=0,e=n.length;t<e;t++)P.deleteEndpoint(n[t])}})}(r)},this.getAllConnections=function(){return p},this.getDefaultScope=function(){return E},this.getEndpoint=I,this.getEndpoints=function(t){return b[d(t).id]||[]},this.getDefaultEndpointType=function(){return pt.Endpoint},this.getDefaultConnectionType=function(){return pt.Connection},this.getId=L,this.appendElement=D;var V=!1;this.isHoverSuspended=function(){return V},this.setHoverSuspended=function(t){V=t},this.hide=function(t,e){return F(t,"none",e),P},this.idstamp=S;var q=function(t){if(!u&&t){var e=P.getElement(t);e.offsetParent&&P.setContainer(e.offsetParent)}},J=P.manage=function(t,e,n){return h[t]||(h[t]={el:e,endpoints:[],connections:[]},h[t].info=Z({elId:t,timestamp:x}),n||P.fire("manageElement",{id:t,info:h[t].info,el:e})),h[t]},Z=this.updateOffset=function(t){var e,n=t.timestamp,i=t.recalc,s=t.offset,o=t.elId;return _&&!n&&(n=x),!i&&n&&n===g[o]?{o:t.offset||f[o],s:y[o]}:(i||!s&&null==f[o]?null!=(e=h[o]?h[o].el:null)&&(y[o]=P.getSize(e),f[o]=P.getOffset(e),g[o]=n):(f[o]=s||f[o],null==y[o]&&null!=(e=h[o].el)&&(y[o]=P.getSize(e)),g[o]=n),f[o]&&!f[o].right&&(f[o].right=f[o].left+y[o][0],f[o].bottom=f[o].top+y[o][1],f[o].width=y[o][0],f[o].height=y[o][1],f[o].centerx=f[o].left+f[o].width/2,f[o].centery=f[o].top+f[o].height/2),{o:f[o],s:y[o]})};this.init=function(){a||(P.Defaults.Container&&P.setContainer(P.Defaults.Container),P.anchorManager=new rt.jsPlumb.AnchorManager({jsPlumbInstance:P}),a=!0,P.fire("ready",P))}.bind(this),this.log=r,this.jsPlumbUIComponent=ht,this.makeAnchor=function(){var t,e=function(t,e){if(rt.jsPlumb.Anchors[t])return new rt.jsPlumb.Anchors[t](e);if(!P.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+t+"'"}};if(0===arguments.length)return null;var n=arguments[0],i=arguments[1],s=(arguments[2],null);if(n.compute&&n.getOrientation)return n;if("string"==typeof n)s=e(arguments[0],{elementId:i,jsPlumbInstance:P});else if(at.isArray(n))if(at.isArray(n[0])||at.isString(n[0]))s=2===n.length&&at.isObject(n[1])?at.isString(n[0])?(t=rt.jsPlumb.extend({elementId:i,jsPlumbInstance:P},n[1]),e(n[0],t)):(t=rt.jsPlumb.extend({elementId:i,jsPlumbInstance:P,anchors:n[0]},n[1]),new rt.jsPlumb.DynamicAnchor(t)):new pt.DynamicAnchor({anchors:n,selector:null,elementId:i,jsPlumbInstance:P});else{var o={x:n[0],y:n[1],orientation:4<=n.length?[n[2],n[3]]:[0,0],offsets:6<=n.length?[n[4],n[5]]:[0,0],elementId:i,jsPlumbInstance:P,cssClass:7===n.length?n[6]:null};(s=new rt.jsPlumb.Anchor(o)).clone=function(){return new rt.jsPlumb.Anchor(o)}}return s.id||(s.id="anchor_"+S()),s},this.makeAnchors=function(t,e,n){for(var i=[],s=0,o=t.length;s<o;s++)"string"==typeof t[s]?i.push(rt.jsPlumb.Anchors[t[s]]({elementId:e,jsPlumbInstance:n})):at.isArray(t[s])&&i.push(P.makeAnchor(t[s],e,n));return i},this.makeDynamicAnchor=function(t,e){return new rt.jsPlumb.DynamicAnchor({anchors:t,selector:e,elementId:null,jsPlumbInstance:P})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var K=function(l,u,t,e,n){var i=new ht(u),s=u._jsPlumb.EndpointDropHandler({jsPlumb:P,enabled:function(){return l.def.enabled},isFull:function(){var t=P.select({target:l.id}).length;return 0<l.def.maxConnections&&t>=l.def.maxConnections},element:l.el,elementId:l.id,isSource:e,isTarget:n,addClass:function(t){P.addClass(l.el,t)},removeClass:function(t){P.removeClass(l.el,t)},onDrop:function(t){t.endpoints[0].anchor.unlock()},isDropAllowed:function(){return i.isDropAllowed.apply(i,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===l.el},getEndpoint:function(t){var e=l.def.endpoint;if(null==e||null==e._jsPlumb){var n=P.deriveEndpointAndAnchorSpec(t.getType().join(" "),!0),i=n.endpoints?rt.jsPlumb.extend(u,{endpoint:l.def.def.endpoint||n.endpoints[1]}):u;n.anchors&&(i=rt.jsPlumb.extend(i,{anchor:l.def.def.anchor||n.anchors[1]})),(e=P.addEndpoint(l.el,i))._mtNew=!0}if(u.uniqueEndpoint&&(l.def.endpoint=e),e.setDeleteOnEmpty(!0),t.isDetachable()&&e.initDraggable(),null!=e.anchor.positionFinder){var s=P.getUIPosition(arguments,P.getZoom()),o=P.getOffset(l.el),r=P.getSize(l.el),a=null==s?[0,0]:e.anchor.positionFinder(s,o,r,e.anchor.constructorParams);e.anchor.x=a[0],e.anchor.y=a[1]}return e},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?P.deleteObject({endpoint:t}):delete t._mtNew}}),o=rt.jsPlumb.dragEvents.drop;return t.scope=t.scope||u.scope||P.Defaults.Scope,t[o]=at.wrap(t[o],s,!0),n&&(t[rt.jsPlumb.dragEvents.over]=function(){return!0}),!1===u.allowLoopback&&(t.canDrop=function(t){return t.getDragElement()._jsPlumbRelatedElement!==l.el}),P.initDroppable(l.el,t,"internal"),s};this.makeTarget=function(t,e,n){var r=rt.jsPlumb.extend({_jsPlumb:this},n);rt.jsPlumb.extend(r,e);for(var a=r.maxConnections||-1,i=function(t){var e=d(t),n=e.id,i=rt.jsPlumb.extend({},r.dropOptions||{}),s=r.connectionType||"default";this.targetEndpointDefinitions[n]=this.targetEndpointDefinitions[n]||{},q(n),e.el._isJsPlumbGroup&&null==i.rank&&(i.rank=-1);var o={def:rt.jsPlumb.extend({},r),uniqueEndpoint:r.uniqueEndpoint,maxConnections:a,enabled:!0};r.createEndpoint&&(o.uniqueEndpoint=!0,o.endpoint=P.addEndpoint(t,o.def),o.endpoint.setDeleteOnEmpty(!1)),e.def=o,this.targetEndpointDefinitions[n][s]=o,K(e,r,i,!0===r.isSource,!0),e.el._katavorioDrop[e.el._katavorioDrop.length-1].targetDef=o}.bind(this),s=t.length&&t.constructor!==String?t:[t],o=0,l=s.length;o<l;o++)i(s[o]);return this},this.unmakeTarget=function(t,e){var n=d(t);return P.destroyDroppable(n.el,"internal"),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(r,t,e){var m=rt.jsPlumb.extend({_jsPlumb:this},e);rt.jsPlumb.extend(m,t);var v=m.connectionType||"default",n=P.deriveEndpointAndAnchorSpec(v);m.endpoint=m.endpoint||n.endpoints[0],m.anchor=m.anchor||n.anchors[0];for(var b=m.maxConnections||-1,y=m.onMaxConnections,i=function(u){var c=u.id,h=this.getElement(u.el);this.sourceEndpointDefinitions[c]=this.sourceEndpointDefinitions[c]||{},q(c);var t={def:rt.jsPlumb.extend({},m),uniqueEndpoint:m.uniqueEndpoint,maxConnections:b,enabled:!0};m.createEndpoint&&(t.uniqueEndpoint=!0,t.endpoint=P.addEndpoint(r,t.def),t.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[c][v]=t,u.def=t;var e=rt.jsPlumb.dragEvents.stop,n=rt.jsPlumb.dragEvents.drag,d=rt.jsPlumb.extend({},m.dragOptions||{}),i=d.drag,p=d.stop,f=null,g=!1;d.scope=d.scope||m.scope,d[n]=at.wrap(d[n],function(){i&&i.apply(this,arguments),g=!1}),d[e]=at.wrap(d[e],function(){if(p&&p.apply(this,arguments),this.currentlyDragging=!1,null!=f._jsPlumb){var t=m.anchor||this.Defaults.Anchor,e=f.anchor,n=f.connections[0],i=this.makeAnchor(t,c,this),s=f.element;if(null!=i.positionFinder){var o=P.getOffset(s),r=this.getSize(s),a={left:o.left+e.x*r[0],top:o.top+e.y*r[1]},l=i.positionFinder(a,o,r,i.constructorParams);i.x=l[0],i.y=l[1]}f.setAnchor(i,!0),f.repaint(),this.repaint(f.elementId),null!=n&&this.repaint(n.targetId)}}.bind(this));var s=function(t){if(3!==t.which&&2!==t.button){var e=this.sourceEndpointDefinitions[c][v];if(e.enabled){if(c=this.getId(this.getElement(u.el)),m.filter)if(!1===(at.isString(m.filter)?function(t,e,n,i,s){for(var o=t.target||t.srcElement,r=!1,a=i.getSelector(e,n),l=0;l<a.length;l++)if(a[l]===o){r=!0;break}return s?!r:r}(t,u.el,m.filter,this,m.filterExclude):m.filter(t,u.el)))return;var n=this.select({source:c}).length;if(0<=e.maxConnections&&n>=e.maxConnections)return y&&y({element:u.el,maxConnections:b},t),!1;var i=rt.jsPlumb.getPositionOnElement(t,h,C),s={};rt.jsPlumb.extend(s,m),s.isTemporarySource=!0,s.anchor=[i[0],i[1],0,0],s.dragOptions=d,e.def.scope&&(s.scope=e.def.scope),f=this.addEndpoint(c,s),g=!0,f.setDeleteOnEmpty(!0),e.uniqueEndpoint&&(e.endpoint?f.finalEndpoint=e.endpoint:(e.endpoint=f).setDeleteOnEmpty(!1));var o=function t(){P.off(f.canvas,"mouseup",t),P.off(u.el,"mouseup",t),g&&(g=!1,P.deleteEndpoint(f))};P.on(f.canvas,"mouseup",o),P.on(u.el,"mouseup",o);var r={};if(e.def.extract)for(var a in e.def.extract){var l=(t.srcElement||t.target).getAttribute(a);l&&(r[e.def.extract[a]]=l)}P.trigger(f.canvas,"mousedown",t,r),at.consume(t)}}}.bind(this);this.on(u.el,"mousedown",s),t.trigger=s,m.filter&&(at.isString(m.filter)||at.isFunction(m.filter))&&P.setDragFilter(u.el,m.filter);var o=rt.jsPlumb.extend({},m.dropOptions||{});K(u,m,o,!0,!0===m.isTarget)}.bind(this),s=r.length&&r.constructor!==String?r:[r],o=0,a=s.length;o<a;o++)i(d(s[o]));return this},this.unmakeSource=function(t,e,n){var i=d(t);P.destroyDroppable(i.el,"internal");var s=this.sourceEndpointDefinitions[i.id];if(s)for(var o in s)if(null==e||e===o){var r=s[o].trigger;r&&P.off(i.el,"mousedown",r),n||delete this.sourceEndpointDefinitions[i.id][o]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)P.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var $=function(t,e,n){e=at.isArray(e)?e:[e];var i=L(t);n=n||"default";for(var s=0;s<e.length;s++){var o=this[e[s]][i];if(o&&o[n])return o[n].def.scope||this.Defaults.Scope}}.bind(this),Q=function(t,e,n,i){n=at.isArray(n)?n:[n];var s=L(t);i=i||"default";for(var o=0;o<n.length;o++){var r=this[n[o]][s];r&&r[i]&&(r[i].def.scope=e)}}.bind(this);this.getScope=function(t,e){return $(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return $(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return $(t,"targetEndpointDefinitions")},this.setScope=function(t,e,n){this.setSourceScope(t,e,n),this.setTargetScope(t,e,n)},this.setSourceScope=function(t,e,n){Q(t,e,"sourceEndpointDefinitions",n),this.setDragScope(t,e)},this.setTargetScope=function(t,e,n){Q(t,e,"targetEndpointDefinitions",n),this.setDropScope(t,e)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)P.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var tt=function(t,e,n,i,s){var o,r,a,l="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",e.length&&!at.isString(e)){o=[];for(var u=0,c=e.length;u<c;u++)l[(r=d(e[u])).id]&&l[r.id][s]&&(o[u]=l[r.id][s].enabled,a=i?!o[u]:n,l[r.id][s].enabled=a,P[a?"removeClass":"addClass"](r.el,"jtk-"+t+"-disabled"))}else{var h=(r=d(e)).id;l[h]&&l[h][s]&&(o=l[h][s].enabled,a=i?!o:n,l[h][s].enabled=a,P[a?"removeClass":"addClass"](r.el,"jtk-"+t+"-disabled"))}return o}.bind(this),et=function(t,e){return at.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(t,e){return tt("source",t,null,!0,e),this.isSourceEnabled(t,e)},this.setSourceEnabled=function(t,e,n){return tt("source",t,e,null,n)},this.isSource=function(t,n){return n=n||"default",et(t,function(t){var e=this.sourceEndpointDefinitions[d(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isSourceEnabled=function(t,n){return n=n||"default",et(t,function(t){var e=this.sourceEndpointDefinitions[d(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.toggleTargetEnabled=function(t,e){return tt("target",t,null,!0,e),this.isTargetEnabled(t,e)},this.isTarget=function(t,n){return n=n||"default",et(t,function(t){var e=this.targetEndpointDefinitions[d(t).id];return null!=e&&null!=e[n]}.bind(this))},this.isTargetEnabled=function(t,n){return n=n||"default",et(t,function(t){var e=this.targetEndpointDefinitions[d(t).id];return e&&e[n]&&!0===e[n].enabled}.bind(this))},this.setTargetEnabled=function(t,e,n){return tt("target",t,e,null,n)},this.ready=function(t){P.bind("ready",t)};var nt=function(t,e){if("object"===_typeof(t)&&t.length)for(var n=0,i=t.length;n<i;n++)e(t[n]);else e(t);return P};this.repaint=function(t,e,n){return nt(t,function(t){w(t,e,n)})},this.revalidate=function(t,i,s){return nt(t,function(t){var e=s?t:P.getId(t);P.updateOffset({elId:e,recalc:!0,timestamp:i});var n=P.getDragManager();n&&n.updateOffsets(e),P.repaint(t)})},this.repaintEverything=function(){var t,e=lt();for(t in b)P.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in b)w(t,null,e);return this},this.removeAllEndpoints=function(t,r,a){a=a||[];return function t(e){var n,i,s=d(e),o=b[s.id];if(o)for(a.push(s),n=0,i=o.length;n<i;n++)P.deleteEndpoint(o[n],!1);if(delete b[s.id],r&&s.el&&3!==s.el.nodeType&&8!==s.el.nodeType)for(n=0,i=s.el.childNodes.length;n<i;n++)t(s.el.childNodes[n])}(t),this};var it=function(t,e){P.removeAllEndpoints(t.id,!0,e);for(var n=P.getDragManager(),i=function(t){n&&n.elementRemoved(t.id),P.anchorManager.clearFor(t.id),P.anchorManager.removeFloatingConnection(t.id),P.isSource(t.el)&&P.unmakeSource(t.el),P.isTarget(t.el)&&P.unmakeTarget(t.el),P.destroyDraggable(t.el),P.destroyDroppable(t.el),delete P.floatingConnections[t.id],delete h[t.id],delete f[t.id],t.el&&(P.removeElement(t.el),t.el._jsPlumb=null)},s=1;s<e.length;s++)i(e[s]);i(t)};this.remove=function(t,e){var n=d(t),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&P.batch(function(){it(n,i)},!0===e),P},this.empty=function(t,e){var s=[];return P.batch(function(){!function t(e,n){var i=d(e);if(i.text)i.el.parentNode.removeChild(i.el);else if(i.el){for(;0<i.el.childNodes.length;)t(i.el.childNodes[0]);n||it(i,s)}}(t,!0)},!1===e),P},this.reset=function(t){P.silently(function(){V=!1,P.removeAllGroups(),P.removeGroupManager(),P.deleteEveryEndpoint(),t||P.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},p.length=0,this.doReset&&this.doReset()}.bind(this))};var st=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){P.select().each(st),P.selectEndpoints().each(st),b={},l={}},this.setDefaultScope=function(t){return E=t,P},this.setDraggable=function(t,e){return pt.each(t,function(t){P.isDragSupported(t)&&(m[P.getAttribute(t,"id")]=e,P.setElementDraggable(t,e))})},this.deriveEndpointAndAnchorSpec=function(t,e){for(var n=((e?"":"default ")+t).split(/[\s]/),i=null,s=null,o=null,r=null,a=0;a<n.length;a++){var l=P.getType(n[a],"connection");l&&(l.endpoints&&(i=l.endpoints),l.endpoint&&(s=l.endpoint),l.anchors&&(r=l.anchors),l.anchor&&(o=l.anchor))}return{endpoints:i||[s,s],anchors:r||[o,o]}},this.setId=function(o,r,t){var e;e=at.isString(o)?o:(o=this.getElement(o),this.getId(o));var n=this.getConnections({source:e,scope:"*"},!0),i=this.getConnections({target:e,scope:"*"},!0);r=""+r,t?o=this.getElement(r):(o=this.getElement(e),this.setAttribute(o,"id",r)),b[r]=b[e]||[];for(var s=0,a=b[r].length;s<a;s++)b[r][s].setElementId(r),b[r][s].setReferenceElement(o);delete b[e],this.sourceEndpointDefinitions[r]=this.sourceEndpointDefinitions[e],delete this.sourceEndpointDefinitions[e],this.targetEndpointDefinitions[r]=this.targetEndpointDefinitions[e],delete this.targetEndpointDefinitions[e],this.anchorManager.changeId(e,r);var l=this.getDragManager();l&&l.changeId(e,r),h[r]=h[e],delete h[e];var u=function(t,e,n){for(var i=0,s=t.length;i<s;i++)t[i].endpoints[e].setElementId(r),t[i].endpoints[e].setReferenceElement(o),t[i][n+"Id"]=r,t[i][n]=o};u(n,0,"source"),u(i,1,"target"),this.repaint(r)},this.setDebugLog=function(t){r=t},this.setSuspendDrawing=function(t,e){var n=_;return x=(_=t)?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return _},this.getSuspendedAt=function(){return x},this.batch=function(t,e){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{t()}catch(t){at.log("Function run while suspended failed",t)}n||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=function(t){var e=f[t];return e?{o:e,s:y[t]}:Z({elId:t})},this.timestamp=lt,this.show=function(t,e){return F(t,"block",e),P},this.toggleVisible=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),T(t,function(t){var e=t.isVisible();t.setVisible(!e)},n)},this.toggleDraggable=function(t){var n;return pt.each(t,function(t){var e=P.getAttribute(t,"id");return n=!(n=null!=m[e]&&m[e]),m[e]=n,P.setDraggable(t,n),n}.bind(this)),n},this.addListener=this.bind;var ot=[];this.registerFloatingConnection=function(t,e,n){ot[t.id]=e,at.addToList(b,t.id,n)},this.getFloatingConnectionFor=function(t){return ot[t]}};at.extend(rt.jsPlumbInstance,at.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(t,e){return this.getAttribute(rt.jsPlumb.getElement(t),e)},convertToFullOverlaySpec:function(t){return at.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||at.uuid(),t},registerConnectionType:function(t,e){if(this._connectionTypes[t]=rt.jsPlumb.extend({},e),e.overlays){for(var n={},i=0;i<e.overlays.length;i++){var s=this.convertToFullOverlaySpec(e.overlays[i]);n[s[1].id]=s}this._connectionTypes[t].overlays=n}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(t,e){if(this._endpointTypes[t]=rt.jsPlumb.extend({},e),e.overlays){for(var n={},i=0;i<e.overlays.length;i++){var s=this.convertToFullOverlaySpec(e.overlays[i]);n[s[1].id]=s}this._endpointTypes[t].overlays=n}},registerEndpointTypes:function(t){for(var e in t)this.registerEndpointType(e,t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),i=this.getId(n),s=this.getElement(e),o=this.getId(s),r=this.getDragManager();n.parentNode.removeChild(n),s.appendChild(n),r&&r.setParent(n,i,s,o)},extend:function(t,e,n){var i;if(n)for(i=0;i<n.length;i++)t[n[i]]=e[n[i]];else for(i in e)t[i]=e[i];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1}}),s.prototype.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"};var pt=new s;(rt.jsPlumb=pt).getInstance=function(t,e){var n=new s(t);if(e)for(var i in e)n[i]=e[i];return n.init(),n},pt.each=function(t,e){if(null!=t)if("string"==typeof t)e(pt.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(pt.getElement(t[n]));else e(t)},"undefined"!=typeof exports&&(exports.jsPlumb=pt)}.call("undefined"!=typeof window?window:this),function(){var o=this.jsPlumbUtil,t=function(t,e){if(null==e)return[0,0];var n=r(e),i=s(n,0);return[i[t+"X"],i[t+"Y"]]},e=t.bind(this,"page"),n=t.bind(this,"screen"),i=t.bind(this,"client"),s=function(t,e){return t.item?t.item(e):t[e]},r=function(t){return t.touches&&0<t.touches.length?t.touches:t.changedTouches&&0<t.changedTouches.length?t.changedTouches:t.targetTouches&&0<t.targetTouches.length?t.targetTouches:[t]},a=function(u){var l={},e=[],c={},h={},d={};this.register=function(t){var r=u.getId(t),a=u.getOffset(t);l[r]||(l[r]=t,e.push(t),c[r]={});!function t(e){if(e)for(var n=0;n<e.childNodes.length;n++)if(3!==e.childNodes[n].nodeType&&8!==e.childNodes[n].nodeType){var i=jsPlumb.getElement(e.childNodes[n]),s=u.getId(e.childNodes[n],null,!0);if(s&&h[s]&&0<h[s]){var o=u.getOffset(i);c[r][s]={id:s,offset:{left:o.left-a.left,top:o.top-a.top}},d[s]=r}t(e.childNodes[n])}}(t)},this.updateOffsets=function(t,e){if(null!=t){e=e||{};var n=jsPlumb.getElement(t),i=u.getId(n),s=c[i],o=u.getOffset(n);if(s)for(var r in s)if(s.hasOwnProperty(r)){var a=jsPlumb.getElement(r),l=e[r]||u.getOffset(a);if(null==a.offsetParent&&null!=c[i][r])continue;c[i][r]={id:r,offset:{left:l.left-o.left,top:l.top-o.top}},d[r]=i}}},this.endpointAdded=function(t,e){e=e||u.getId(t);var n=document.body,i=t.parentNode;for(h[e]=h[e]?h[e]+1:1;null!=i&&i!==n;){var s=u.getId(i,null,!0);if(s&&l[s]){var o=u.getOffset(i);if(null==c[s][e]){var r=u.getOffset(t);c[s][e]={id:e,offset:{left:r.left-o.left,top:r.top-o.top}},d[e]=s}break}i=i.parentNode}},this.endpointDeleted=function(t){if(h[t.elementId]&&(h[t.elementId]--,h[t.elementId]<=0))for(var e in c)c.hasOwnProperty(e)&&c[e]&&(delete c[e][t.elementId],delete d[t.elementId])},this.changeId=function(t,e){c[e]=c[t],c[t]={},d[e]=d[t],d[t]=null},this.getElementsForDraggable=function(t){return c[t]},this.elementRemoved=function(t){var e=d[t];e&&(delete c[e][t],delete d[t])},this.reset=function(){l={},e=[],c={},h={}},this.dragEnded=function(t){if(null!=t.offsetParent){var e=u.getId(t),n=d[e];n&&this.updateOffsets(n)}},this.setParent=function(t,e,n,i,s){var o=d[e];c[i]||(c[i]={});var r=u.getOffset(n),a=s||u.getOffset(t);o&&c[o]&&delete c[o][e],c[i][e]={id:e,offset:{left:a.left-r.left,top:a.top-r.top}},d[e]=i},this.clearParent=function(t,e){var n=d[e];n&&(delete c[n][e],delete d[e])},this.revalidateParent=function(t,e,n){var i=d[e];if(i){var s={};s[e]=n,this.updateOffsets(i,s),u.revalidate(i)}},this.getDragAncestor=function(t){var e=jsPlumb.getElement(t),n=u.getId(e),i=d[n];return i?jsPlumb.getElement(i):null}},l=function(t,e,n){var i;e=null==(i=e)?null:i.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==t.className.baseVal?t.className.baseVal=e:t.className=e;try{for(var s=t.classList;0<s.length;)s.remove(s.item(0));for(var o=0;o<n.length;o++)n[o]&&s.add(n[o])}catch(t){console.log("JSPLUMB: cannot set class list",t)}},u=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},c=function(t,e,n){e=null==e?[]:o.isArray(e)?e:e.split(/\s+/),n=null==n?[]:o.isArray(n)?n:n.split(/\s+/);var s=u(t).split(/\s+/),i=function(t,e){for(var n=0;n<e.length;n++)if(t)-1===s.indexOf(e[n])&&s.push(e[n]);else{var i=s.indexOf(e[n]);-1!==i&&s.splice(i,1)}};i(!0,e),i(!1,n),l(t,s.join(" "),s)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:e,screenLocation:n,clientLocation:i,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new a(this)),this.dragManager},recalculateOffsets:function(t){this.getDragManager().updateOffsets(t)},createElement:function(t,e,n,i){return this.createElementNS(null,t,e,n,i)},createElementNS:function(t,e,n,i,s){var o,r=null==t?document.createElement(e):document.createElementNS(t,e);for(o in n=n||{})r.style[o]=n[o];for(o in i&&(r.className=i),s=s||{})r.setAttribute(o,""+s[o]);return r},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:u,addClass:function(t,e){jsPlumb.each(t,function(t){c(t,e)})},hasClass:function(t,e){return(t=jsPlumb.getElement(t)).classList?t.classList.contains(e):-1!==u(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,function(t){c(t,null,e)})},updateClasses:function(t,e,n){jsPlumb.each(t,function(t){c(t,e,n)})},setClass:function(t,e){null!=e&&jsPlumb.each(t,function(t){l(t,e,e.split(/\s+/))})},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(n){var t=function(t){var e=n.style[t];return e?e.substring(0,e.length-2):0};return{left:t("left"),top:t("top")}},getStyle:function(t,e){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){return 1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e,n){t=jsPlumb.getElement(t),n=n||this.getContainer();for(var i={left:t.offsetLeft,top:t.offsetTop},s=e||null!=n&&t!==n&&t.offsetParent!==n?t.offsetParent:null,o=function(t){null!=t&&t!==document.body&&(0<t.scrollTop||0<t.scrollLeft)&&(i.left-=t.scrollLeft,i.top-=t.scrollTop)}.bind(this);null!=s;)i.left+=s.offsetLeft,i.top+=s.offsetTop,o(s),s=e?s.offsetParent:s.offsetParent===n?null:s.offsetParent;if(null!=n&&!e&&(0<n.scrollTop||0<n.scrollLeft)){var r=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==r&&"fixed"!==r&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(t,e,n){var i=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},s=document.body,o=document.documentElement,r=window.pageYOffset||o.scrollTop||s.scrollTop,a=window.pageXOffset||o.scrollLeft||s.scrollLeft,l=o.clientTop||s.clientTop||0,u=o.clientLeft||s.clientLeft||0,c=i.top+r-l+0*n,h=i.left+a-u+0*n,d=jsPlumb.pageLocation(t),p=i.width||e.offsetWidth*n,f=i.height||e.offsetHeight*n;return[(d[0]-h)/p,(d[1]-c)/f]},getAbsolutePosition:function(n){var t=function(t){var e=n.style[t];if(e)return parseFloat(e.substring(0,e.length-2))};return[t("left"),t("top")]},setAbsolutePosition:function(t,e,n,i){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},i):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,a=e.jsPlumb,o=e.jsPlumbUtil,l="__label";a.OverlayCapableJsPlumbUIComponent=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},t.label&&(this.getDefaultType().overlays[l]=["Label",{label:t.label,location:t.labelLocation||this.defaultLabelLocation||.5,labelStyle:t.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:l}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},a.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,i={};for(n in e.overlays){var s=t._jsPlumb.overlays[e.overlays[n][1].id];if(s)s.updateFrom(e.overlays[n][1]),i[e.overlays[n][1].id]=!0;else{var o=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=o?(o.reattach(t._jsPlumb.instance,t),o.setVisible(!0),o.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[o.id]=o):o=t.addOverlay(e.overlays[n],!0),i[o.id]=!0}}for(n in t._jsPlumb.overlays)null==i[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id,!0)}},o.extend(a.OverlayCapableJsPlumbUIComponent,e.jsPlumbUIComponent,{setHover:function(t,e){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,e){var n=function(t,e){var n=null;if(o.isArray(e)){var i=e[0],s=a.extend({component:t,_jsPlumb:t._jsPlumb.instance},e[1]);3===e.length&&a.extend(s,e[2]),n=new(a.Overlays[t._jsPlumb.instance.getRenderMode()][i])(s)}else n=e.constructor===String?new(a.Overlays[t._jsPlumb.instance.getRenderMode()][e])({component:t,_jsPlumb:t._jsPlumb.instance}):e;return n.id=n.id||o.uuid(),t.cacheTypeItem("overlay",n,n.id),t._jsPlumb.overlays[n.id]=n}(this,t);return e||this.repaint(),n},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,t||this.repaint()},removeOverlay:function(t,e){var n=this._jsPlumb.overlays[t];n&&(n.setVisible(!1),!e&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t])},removeOverlays:function(){for(var t=0,e=arguments.length;t<e;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var e in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}},getLabel:function(){var t=this.getOverlay(l);return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay(l)},setLabel:function(t){var e,n,i,s,o=this.getOverlay(l);if(o)t.constructor===String||t.constructor===Function?o.setLabel(t):(t.label&&o.setLabel(t.label),t.location&&o.setLocation(t.location));else{var r=t.constructor===String||t.constructor===Function?{label:t}:t;e=this,i={cssClass:(n=r).cssClass,labelStyle:e.labelStyle,id:l,component:e,_jsPlumb:e._jsPlumb.instance},s=a.extend(i,n),o=new(a.Overlays[e._jsPlumb.instance.getRenderMode()].Label)(s),this._jsPlumb.overlays[l]=o}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,e,n){if(!n)for(var i in this._jsPlumb.overlays)this._jsPlumb.overlays[i][t+"Class"](e)},addClass:function(t,e){this._clazzManip("add",t,e)},removeClass:function(t,e){this._clazzManip("remove",t,e)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var k=this.jsPlumb,f=this.jsPlumbUtil,a=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];k.Endpoint=function(D){var w=D._jsPlumb,I=D.newConnection,A=D.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],k.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:D.connectionType,maxConnections:null==D.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:D.maxConnections,paintStyle:D.endpointStyle||D.paintStyle||D.style||this._jsPlumb.instance.Defaults.EndpointStyle||k.Defaults.EndpointStyle,hoverPaintStyle:D.endpointHoverStyle||D.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||k.Defaults.EndpointHoverStyle,connectorStyle:D.connectorStyle,connectorHoverStyle:D.connectorHoverStyle,connectorClass:D.connectorClass,connectorHoverClass:D.connectorHoverClass,connectorOverlays:D.connectorOverlays,connector:D.connector,connectorTooltip:D.connectorTooltip}),this._jsPlumb.enabled=!(!1===D.enabled),this._jsPlumb.visible=!0,this.element=k.getElement(D.source),this._jsPlumb.uuid=D.uuid;this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(D.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=D.elementId,this.dragProxy=D.dragProxy,this._jsPlumb.connectionCost=D.connectionCost,this._jsPlumb.connectionsDirected=D.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var i=!0===D.deleteOnEmpty;this.setDeleteOnEmpty=function(t){i=t};var n=function(){var t=w.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var e=w.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(t),this.addClass(e),k.updateClasses(this.element,e,t)}.bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,w);return e.bind("anchorChanged",function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),n()}.bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,n(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var t=function(t){if(0<this.connections.length)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}.bind(this);this.bind("mouseover",function(){t(!0)}),this.bind("mouseout",function(){t(!1)}),D._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(t,e){var n,i=function(t,e){var n=w.getRenderMode();if(k.Endpoints[n][t])return new k.Endpoints[n][t](e);if(!w.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+t+"'"}},s={_jsPlumb:this._jsPlumb.instance,cssClass:D.cssClass,container:D.container,tooltip:D.tooltip,connectorTooltip:D.connectorTooltip,endpoint:this};return(n=f.isString(t)?i(t,s):f.isArray(t)?(s=f.merge(t[1],s),i(t[0],s)):t.clone()).clone=function(){return f.isString(t)?i(t,s):f.isArray(t)?(s=f.merge(t[1],s),i(t[0],s)):void 0}.bind(this),n.typeId=e,n},this.setEndpoint=function(t,e){var n=this.prepareEndpoint(t);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(t,e){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},k.extend(this,D,a),this.isSource=D.isSource||!1,this.isTemporarySource=D.isTemporarySource||!1,this.isTarget=D.isTarget||!1,this.connections=D.connections||[],this.connectorPointerEvents=D["connector-pointer-events"],this.scope=D.scope||w.getDefaultScope(),this.timestamp=null,this.reattachConnections=D.reattach||w.Defaults.ReattachConnections,this.connectionsDetachable=w.Defaults.ConnectionsDetachable,!1!==D.connectionsDetachable&&!1!==D.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==D.dragAllowedWhenFull,D.onMaxConnections&&this.bind("maxConnections",D.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(0<this.connections.length?"add":"remove")+"Class"](w.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](w.endpointFullClass)},this.detachFromConnection=function(t,e,n){0<=(e=null==e?this.connections.indexOf(t):e)&&(this.connections.splice(e,1),this[(0<this.connections.length?"add":"remove")+"Class"](w.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](w.endpointFullClass)),!n&&i&&0===this.connections.length&&w.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(t){for(var e=this.connections.length,n=0;n<e;n++)w.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,e,n){for(var i=[],s=0;s<this.connections.length;s++)this.connections[s].endpoints[1]!==t&&this.connections[s].endpoints[0]!==t||i.push(this.connections[s]);for(var o=0,r=i.length;o<r;o++)w.deleteConnection(i[0]);return this},this.getElement=function(){return this.element},this.setElement=function(t){var e=this._jsPlumb.instance.getId(t),n=this.elementId;return f.removeWithFunction(D.endpointsByElement[this.elementId],function(t){return t.id===this.id}.bind(this)),this.element=k.getElement(t),this.elementId=w.getId(this.element),w.anchorManager.rehomeEndpoint(this,n,this.element),w.dragManager.endpointAdded(this.element),f.addToList(D.endpointsByElement,e,this),this},this.makeInPlaceCopy=function(){var t=this.anchor.getCurrentLocation({element:this}),e=this.anchor.getOrientation(this),n=this.anchor.getCssClass(),i={bind:function(){},compute:function(){return[t[0],t[1]]},getCurrentLocation:function(){return[t[0],t[1]]},getOrientation:function(){return e},getCssClass:function(){return n}};return A({dropOptions:D.dropOptions,anchor:i,source:this.element,paintStyle:this.getPaintStyle(),endpoint:D.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(t){var e=(t=t||{}).timestamp,n=!(!1===t.recalc);if(!e||this.timestamp!==e){var i=w.updateOffset({elId:this.elementId,timestamp:e}),s=t.offset?t.offset.o:i.o;if(null!=s){var o=t.anchorPoint,r=t.connectorPaintStyle;if(null==o){var a=t.dimensions||i.s,l={xy:[s.left,s.top],wh:a,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&0<this.connections.length){var u=function(t,e){var n=0;if(null!=e)for(var i=0;i<t.connections.length;i++)if(t.connections[i].sourceId===e||t.connections[i].targetId===e){n=i;break}return t.connections[n]}(this,t.elementWithPrecedence),c=u.endpoints[0]===this?1:0,h=0===c?u.sourceId:u.targetId,d=w.getCachedData(h),p=d.o,f=d.s;l.index=0===c?1:0,l.connection=u,l.txy=[p.left,p.top],l.twh=f,l.tElement=u.endpoints[c]}else 0<this.connections.length&&(l.connection=this.connections[0]);o=this.anchor.compute(l)}for(var g in this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,r||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var m=this._jsPlumb.overlays[g];m.isVisible()&&(this._jsPlumb.overlayPlacements[g]=m.draw(this.endpoint,this._jsPlumb.paintStyleInUse),m.paint(this._jsPlumb.overlayPlacements[g]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var h=!1;this.initDraggable=function(){if(!h&&k.isDragSupported(this.element)){var C,_={id:null,element:null},x=null,E=!1,j=null,S=(a=this,l=_,u=w,c=!1,{drag:function(){if(c)return!(c=!1);if(l.element){var t=u.getUIPosition(arguments,u.getZoom());null!=t&&u.setPosition(l.element,t),u.repaint(l.element,t),a.paint({anchorPoint:a.anchor.getCurrentLocation({element:a})})}},stopDrag:function(){c=!0}}),t=D.dragOptions||{},e=k.dragEvents.start,n=k.dragEvents.stop,i=k.dragEvents.drag,s=k.dragEvents.beforeStart,o=function(t){x=this.connectorSelector();var e=!0;this.isEnabled()||(e=!1),null!=x||this.isSource||this.isTemporarySource||(e=!1),!this.isSource||!this.isFull()||null!=x&&this.dragAllowedWhenFull||(e=!1),null==x||x.isDetachable(this)||(e=!1);var n=w.checkCondition(null==x?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:x});if(!1===n?e=!1:"object"===_typeof(n)?k.extend(n,C||{}):n=C||{},!1===e)return w.stopDrag&&w.stopDrag(this.canvas),S.stopDrag(),!1;for(var i=0;i<this.connections.length;i++)this.connections[i].setHover(!1);this.addClass("endpointDrag"),w.setConnectionBeingDragged(!0),x&&!this.isFull()&&this.isSource&&(x=null),w.updateOffset({elId:this.elementId});var s=this._jsPlumb.instance.getOffset(this.canvas),o=this.canvas,r=this._jsPlumb.instance.getSize(this.canvas);!function(t,e,n,i){var s=e.createElement("div",{position:"absolute"});e.appendElement(s);var o=e.getId(s);e.setPosition(s,n),s.style.width=i[0]+"px",s.style.height=i[1]+"px",e.manage(o,s,!0),t.id=o,t.element=s}(_,w,s,r),w.setAttributes(this.canvas,{dragId:_.id,elId:this.elementId});var a=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var l=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);l.endpoints[1]&&(a=l.endpoints[1])}var u,c,h,d,p,f,g,m,v=this._jsPlumb.instance.makeAnchor("Center");v.isFloating=!0,this._jsPlumb.floatingEndpoint=(u=this.getPaintStyle(),c=v,h=a,d=this.canvas,p=_.element,f=w,g=A,m=this.scope,g({paintStyle:u,endpoint:h,anchor:new k.FloatingAnchor({reference:c,referenceCanvas:d,jsPlumbInstance:f}),source:p,scope:m}));var b=this._jsPlumb.floatingEndpoint.anchor;if(null==x)this.setHover(!1,!1),(x=I({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:_.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:D.connectorStyle,hoverPaintStyle:D.connectorHoverStyle,connector:D.connector,overlays:D.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:D.scope,data:n})).pending=!0,x.addClass(w.draggingClass),this._jsPlumb.floatingEndpoint.addClass(w.draggingClass),this._jsPlumb.floatingEndpoint.anchor=b,w.fire("connectionDrag",x),w.anchorManager.newConnection(x);else{E=!0,x.setHover(!1);var y=x.endpoints[0].id===this.id?0:1;this.detachFromConnection(x,null,!0);var P=w.getDragScope(o);w.setAttribute(this.canvas,"originalScope",P),w.fire("connectionDrag",x),0===y?(j=[x.source,x.sourceId,o,P],w.anchorManager.sourceChanged(x.endpoints[y].elementId,_.id,x,_.element)):(j=[x.target,x.targetId,o,P],x.target=_.element,x.targetId=_.id,w.anchorManager.updateOtherEndpoint(x.sourceId,x.endpoints[y].elementId,x.targetId,x)),x.suspendedEndpoint=x.endpoints[y],x.suspendedElement=x.endpoints[y].getElement(),x.suspendedElementId=x.endpoints[y].elementId,x.suspendedElementType=0===y?"source":"target",x.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=x.suspendedEndpoint,x.endpoints[y]=this._jsPlumb.floatingEndpoint,x.addClass(w.draggingClass),this._jsPlumb.floatingEndpoint.addClass(w.draggingClass)}w.registerFloatingConnection(_,x,this._jsPlumb.floatingEndpoint),w.currentlyDragging=!0}.bind(this),r=function(){if(w.setConnectionBeingDragged(!1),x&&null!=x.endpoints){var t=w.getDropEvent(arguments),e=w.getFloatingAnchorIndex(x);if(x.endpoints[0===e?1:0].anchor.unlock(),x.removeClass(w.draggingClass),this._jsPlumb&&(x.deleteConnectionNow||x.endpoints[e]===this._jsPlumb.floatingEndpoint)&&E&&x.suspendedEndpoint){0===e?(x.floatingElement=x.source,x.floatingId=x.sourceId,x.floatingEndpoint=x.endpoints[0],x.floatingIndex=0,x.source=j[0],x.sourceId=j[1]):(x.floatingElement=x.target,x.floatingId=x.targetId,x.floatingEndpoint=x.endpoints[1],x.floatingIndex=1,x.target=j[0],x.targetId=j[1]);var n=this._jsPlumb.floatingEndpoint;w.setDragScope(j[2],j[3]),x.endpoints[e]=x.suspendedEndpoint,x.isReattach()||x._forceReattach||x._forceDetach||!w.deleteConnection(x,{originalEvent:t})?(x.setHover(!1),x._forceDetach=null,x._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(x),x.suspendedEndpoint.addConnection(x),1===e?w.anchorManager.updateOtherEndpoint(x.sourceId,x.floatingId,x.targetId,x):w.anchorManager.sourceChanged(x.floatingId,x.sourceId,x,x.source),w.repaint(j[1])):w.deleteObject({endpoint:n})}this.deleteAfterDragStop?w.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),w.fire("connectionDragStop",x,t),x.pending&&w.fire("connectionAborted",x,t),w.currentlyDragging=!1,x.suspendedElement=null,x.suspendedEndpoint=null,x=null}_.element&&w.remove(_.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}.bind(this);(t=k.extend({},t)).scope=this.scope||t.scope,t[s]=f.wrap(t[s],function(t){C=t.e.payload||{}},!1),t[e]=f.wrap(t[e],o,!1),t[i]=f.wrap(t[i],S.drag),t[n]=f.wrap(t[n],r),t.multipleDrop=!1,t.canDrag=function(){return this.isSource||this.isTemporarySource||0<this.connections.length}.bind(this),w.initDraggable(this.canvas,t,"internal"),this.canvas._jsPlumbRelatedElement=this.element,h=!0}var a,l,u,c};var e=D.endpoint||this._jsPlumb.instance.Defaults.Endpoint||k.Defaults.Endpoint;this.setEndpoint(e,!0);var s=D.anchor?D.anchor:D.anchors?D.anchors:w.Defaults.Anchor||"Top";this.setAnchor(s,!0);var o=["default",D.type||""].join(" ");this.addType(o,D.data,!0),this.canvas=this.endpoint.canvas,(this.canvas._jsPlumb=this).initDraggable();var r=function(t,e,n,i){if(k.isDropSupported(this.element)){var s=D.dropOptions||w.Defaults.DropOptions||k.Defaults.DropOptions;(s=k.extend({},s)).scope=s.scope||this.scope;var o=k.dragEvents.drop,r=k.dragEvents.over,a=k.dragEvents.out,l=this,u=w.EndpointDropHandler({getEndpoint:function(){return l},jsPlumb:w,enabled:function(){return null==n||n.isEnabled()},isFull:function(){return n.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){l.addClass(t)},removeClass:function(t){l.removeClass(t)},isDropAllowed:function(){return l.isDropAllowed.apply(l,arguments)},reference:i,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});s[o]=f.wrap(s[o],u,!0),s[r]=f.wrap(s[r],function(){var t=k.getDragObject(arguments),e=w.getAttribute(k.getElement(t),"dragId"),n=w.getFloatingConnectionFor(e);if(null!=n){var i=w.getFloatingAnchorIndex(n);if(this.isTarget&&0!==i||n.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===n.suspendedEndpoint.id){var s=w.checkCondition("checkDropAllowed",{sourceEndpoint:n.endpoints[i],targetEndpoint:this,connection:n});this[(s?"add":"remove")+"Class"](w.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](w.endpointDropForbiddenClass),n.endpoints[i].anchor.over(this.anchor,this)}}}.bind(this)),s[a]=f.wrap(s[a],function(){var t=k.getDragObject(arguments),e=null==t?null:w.getAttribute(k.getElement(t),"dragId"),n=e?w.getFloatingConnectionFor(e):null;if(null!=n){var i=w.getFloatingAnchorIndex(n);(this.isTarget&&0!==i||n.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===n.suspendedEndpoint.id)&&(this.removeClass(w.endpointDropAllowedClass),this.removeClass(w.endpointDropForbiddenClass),n.endpoints[i].anchor.out())}}.bind(this)),w.initDroppable(t,s,"internal",e)}}.bind(this);return this.anchor.isFloating||r(this.canvas,!(D._transient||this.anchor.isFloating),this,D.reference),this},f.extend(k.Endpoint,k.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(t),!n){var s=this===this.connections[i].endpoints[0]?1:0;1===this.connections[i].endpoints[s].connections.length&&this.connections[i].endpoints[s].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(t,e){this.setPaintStyle(t.endpointStyle||t.paintStyle,e),this.setHoverPaintStyle(t.endpointHoverStyle||t.hoverPaintStyle,e),null!=t.maxConnections&&(this._jsPlumb.maxConnections=t.maxConnections),t.scope&&(this.scope=t.scope),k.extend(this,t,a),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass),k.OverlayCapableJsPlumbUIComponent.applyType(this,t)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){var t=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");k.removeClass(this.element,t),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===t||this.connections[n].endpoints[0]===t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(t){this.element=k.getElement(t)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(p){return function(t){var s=p.jsPlumb;p.removeClass(s.endpointDropAllowedClass),p.removeClass(s.endpointDropForbiddenClass);var o=s.getDropEvent(arguments),e=s.getDragObject(arguments),n=s.getAttribute(e,"dragId"),i=(s.getAttribute(e,"elId"),s.getAttribute(e,"originalScope")),r=s.getFloatingConnectionFor(n);if(null!=r){var a=null!=r.suspendedEndpoint;if(!a||null!=r.suspendedEndpoint._jsPlumb){var l=p.getEndpoint(r);if(null!=l){if(p.isRedrop(r,p))return r._forceReattach=!0,r.setHover(!1),void(p.maybeCleanup&&p.maybeCleanup(l));var u=s.getFloatingAnchorIndex(r);if(0===u&&!p.isSource||1===u&&!p.isTarget)p.maybeCleanup&&p.maybeCleanup(l);else{p.onDrop&&p.onDrop(r),i&&s.setDragScope(e,i);var c=p.isFull(t);if(c&&l.fire("maxConnections",{endpoint:this,connection:r,maxConnections:l._jsPlumb.maxConnections},o),!c&&p.enabled()){var h=!0;0===u?(r.floatingElement=r.source,r.floatingId=r.sourceId,r.floatingEndpoint=r.endpoints[0],r.floatingIndex=0,r.source=p.element,r.sourceId=p.elementId):(r.floatingElement=r.target,r.floatingId=r.targetId,r.floatingEndpoint=r.endpoints[1],r.floatingIndex=1,r.target=p.element,r.targetId=p.elementId),a&&r.suspendedEndpoint.id!==l.id&&(r.isDetachAllowed(r)&&r.endpoints[u].isDetachAllowed(r)&&r.suspendedEndpoint.isDetachAllowed(r)&&s.checkCondition("beforeDetach",r)||(h=!1));var d=function(t){r.endpoints[u].detachFromConnection(r),r.suspendedEndpoint&&r.suspendedEndpoint.detachFromConnection(r),(r.endpoints[u]=l).addConnection(r);var e=l.getParameters();for(var n in e)r.setParameter(n,e[n]);if(a){var i=r.suspendedEndpoint.elementId;s.fireMoveEvent({index:u,originalSourceId:0===u?i:r.sourceId,newSourceId:0===u?l.elementId:r.sourceId,originalTargetId:1===u?i:r.targetId,newTargetId:1===u?l.elementId:r.targetId,originalSourceEndpoint:0===u?r.suspendedEndpoint:r.endpoints[0],newSourceEndpoint:0===u?l:r.endpoints[0],originalTargetEndpoint:1===u?r.suspendedEndpoint:r.endpoints[1],newTargetEndpoint:1===u?l:r.endpoints[1],connection:r},o)}else e.draggable&&s.initDraggable(this.element,p.dragOptions,"internal",s);(1===u?s.anchorManager.updateOtherEndpoint(r.sourceId,r.floatingId,r.targetId,r):s.anchorManager.sourceChanged(r.floatingId,r.sourceId,r,r.source),r.endpoints[0].finalEndpoint)&&(r.endpoints[0].detachFromConnection(r),r.endpoints[0]=r.endpoints[0].finalEndpoint,r.endpoints[0].addConnection(r));f.isObject(t)&&r.mergeData(t),s.finaliseConnection(r,null,o,!1),r.setHover(!1)}.bind(this);if(h=h&&p.isDropAllowed(r.sourceId,r.targetId,r.scope,r,l))return d(h),!0;r.suspendedEndpoint&&(r.endpoints[u]=r.suspendedEndpoint,r.setHover(!1),r._forceDetach=!0,0===u?(r.source=r.suspendedEndpoint.element,r.sourceId=r.suspendedEndpoint.elementId):(r.target=r.suspendedEndpoint.element,r.targetId=r.suspendedEndpoint.elementId),r.suspendedEndpoint.addConnection(r),1===u?s.anchorManager.updateOtherEndpoint(r.sourceId,r.floatingId,r.targetId,r):s.anchorManager.sourceChanged(r.floatingId,r.sourceId,r,r.source),s.repaint(r.sourceId),r._forceDetach=!1)}p.maybeCleanup&&p.maybeCleanup(l),s.currentlyDragging=!1}}}}}}}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this,y=e.jsPlumb,P=e.jsPlumbUtil,o=function(t,e,n,i,s){if(!t.Defaults.DoNotThrowErrors&&null==y.Connectors[e][n])throw{msg:"jsPlumb: unknown connector type '"+n+"'"};return new y.Connectors[e][n](i,s)},p=function(t,e,n){return t?n.makeAnchor(t,e,n):null},n=function(t,e,n,i){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},i?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,P.isEmpty(e._jsPlumbConnections)?n.removeClass(e,n.connectedClass):n.addClass(e,n.connectedClass))};y.Connection=function(s){var o=s.newEndpoint;this.id=s.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=s.previousConnection,this.source=y.getElement(s.source),this.target=y.getElement(s.target),y.OverlayCapableJsPlumbUIComponent.apply(this,arguments),s.sourceEndpoint?(this.source=s.sourceEndpoint.getElement(),this.sourceId=s.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),s.targetEndpoint?(this.target=s.targetEndpoint.getElement(),this.targetId=s.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=s.scope,this.endpoints=[],this.endpointStyles=[];var r=this._jsPlumb.instance;r.manage(this.sourceId,this.source),r.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:s.cssClass,container:s.container,"pointer-events":s["pointer-events"],editorParams:s.editorParams,overlays:s.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(t,e,n,i){return n=n||this._jsPlumb.instance.getId(e),this.prepareEndpoint(r,o,this,i,t?0:1,s,e,n)},s.type&&(s.endpoints=s.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(s.type).endpoints);var t=this.makeEndpoint(!0,this.source,this.sourceId,s.sourceEndpoint),e=this.makeEndpoint(!1,this.target,this.targetId,s.targetEndpoint);t&&P.addToList(s.endpointsByElement,this.sourceId,t),e&&P.addToList(s.endpointsByElement,this.targetId,e),this.scope||(this.scope=this.endpoints[0].scope),null!=s.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(s.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(s.deleteEndpointsOnEmpty));var n=r.Defaults.ConnectionsDetachable;!1===s.detachable&&(n=!1),!1===this.endpoints[0].connectionsDetachable&&(n=!1),!1===this.endpoints[1].connectionsDetachable&&(n=!1);var i=s.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||r.Defaults.ReattachConnections;this.appendToDefaultType({detachable:n,reattach:i,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||s.paintStyle||r.Defaults.PaintStyle||y.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||s.hoverPaintStyle||r.Defaults.HoverPaintStyle||y.Defaults.HoverPaintStyle});var a=r.getSuspendedAt();if(!r.isSuspendDrawing()){var l=r.getCachedData(this.sourceId),u=l.o,c=l.s,h=r.getCachedData(this.targetId),d=h.o,p=h.s,f=a||r.timestamp(),g=this.endpoints[0].anchor.compute({xy:[u.left,u.top],wh:c,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[d.left,d.top],twh:p,tElement:this.endpoints[1],timestamp:f});this.endpoints[0].paint({anchorLoc:g,timestamp:f}),g=this.endpoints[1].anchor.compute({xy:[d.left,d.top],wh:p,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[u.left,u.top],twh:c,tElement:this.endpoints[0],timestamp:f}),this.endpoints[1].paint({anchorLoc:g,timestamp:f})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=s.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=s.directed,null==s.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var m=y.extend({},this.endpoints[1].getParameters());y.extend(m,this.endpoints[0].getParameters()),y.extend(m,this.getParameters()),this.setParameters(m),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||s.connector||r.Defaults.Connector||y.Defaults.Connector,!0);var v=null!=s.data&&P.isObject(s.data)?s.data:{};this.getData=function(){return v},this.setData=function(t){v=t||{}},this.mergeData=function(t){v=y.extend(v,t)};var b=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,s.type].join(" ");/[^\s]/.test(b)&&this.addType(b,s.data,!0),this.updateConnectedClass()},P.extend(y.Connection,y.OverlayCapableJsPlumbUIComponent,{applyType:function(t,e,n){var i=null;null!=t.connector&&(null==(i=this.getCachedTypeItem("connector",n.connector))&&(i=this.prepareConnector(t.connector,n.connector),this.cacheTypeItem("connector",i,n.connector)),this.setPreparedConnector(i)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var s=null;t.anchor?null==(s=this.getCachedTypeItem("anchors",n.anchor))&&(s=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",s,n.anchor)):t.anchors&&null==(s=this.getCachedTypeItem("anchors",n.anchors))&&(s=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",s,n.anchors)),null!=s&&(this.endpoints[0].anchor=s[0],this.endpoints[1].anchor=s[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),y.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,(this.target=null)!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(n(this,this.source,this._jsPlumb.instance,t),n(this,this.target,this._jsPlumb.instance,t))},setHover:function(t){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(t),e.jsPlumb[t?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),e.jsPlumb[t?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,e){var n,i={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass||"",container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},s=this._jsPlumb.instance.getRenderMode();return P.isString(t)?n=o(this._jsPlumb.instance,s,t,i,this):P.isArray(t)&&(n=1===t.length?o(this._jsPlumb.instance,s,t[0],i,this):o(this._jsPlumb.instance,s,t[0],P.merge(t[1],i),this)),null!=e&&(n.typeId=e),n},setPreparedConnector:function(t,e,n,i){if(this.connector!==t){var s,o="";if(null!=this.connector&&(o=(s=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,i&&this.cacheTypeItem("connector",t,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(o),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=s)for(var r=this.getOverlays(),a=0;a<r.length;a++)r[a].transfer&&r[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()}},setConnector:function(t,e,n,i){var s=this.prepareConnector(t,i);this.setPreparedConnector(s,e,n,i)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var e=(t=t||{}).timestamp,n=this.targetId,i=this.sourceId;if(null==e||e!==this._jsPlumb.lastPaintedAt){var s=this._jsPlumb.instance.updateOffset({elId:i}).o,o=this._jsPlumb.instance.updateOffset({elId:n}).o,r=this.endpoints[0],a=this.endpoints[1],l=r.anchor.getCurrentLocation({xy:[s.left,s.top],wh:[s.width,s.height],element:r,timestamp:e}),u=a.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:a,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:l,targetPos:u,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:s,targetInfo:o});var c={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var h in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(h)){var d=this._jsPlumb.overlays[h];d.isVisible()&&(this._jsPlumb.overlayPlacements[h]=d.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(d)),c.minX=Math.min(c.minX,this._jsPlumb.overlayPlacements[h].minX),c.maxX=Math.max(c.maxX,this._jsPlumb.overlayPlacements[h].maxX),c.minY=Math.min(c.minY,this._jsPlumb.overlayPlacements[h].minY),c.maxY=Math.max(c.maxY,this._jsPlumb.overlayPlacements[h].maxY))}var p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,f=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),g={xmin:Math.min(this.connector.bounds.minX-(p+f),c.minX),ymin:Math.min(this.connector.bounds.minY-(p+f),c.minY),xmax:Math.max(this.connector.bounds.maxX+(p+f),c.maxX),ymax:Math.max(this.connector.bounds.maxY+(p+f),c.maxY)};for(var m in this.connector.paint(this._jsPlumb.paintStyleInUse,null,g),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var v=this._jsPlumb.overlays[m];v.isVisible()&&v.paint(this._jsPlumb.overlayPlacements[m],g)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){var e=jsPlumb.extend(t||{},{});e.elId=this.sourceId,this.paint(e)},prepareEndpoint:function(t,e,n,i,s,o,r,a){var l;if(i)(n.endpoints[s]=i).addConnection(n);else{o.endpoints||(o.endpoints=[null,null]);var u=o.endpoints[s]||o.endpoint||t.Defaults.Endpoints[s]||y.Defaults.Endpoints[s]||t.Defaults.Endpoint||y.Defaults.Endpoint;o.endpointStyles||(o.endpointStyles=[null,null]),o.endpointHoverStyles||(o.endpointHoverStyles=[null,null]);var c=o.endpointStyles[s]||o.endpointStyle||t.Defaults.EndpointStyles[s]||y.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||y.Defaults.EndpointStyle;null==c.fill&&null!=o.paintStyle&&(c.fill=o.paintStyle.stroke),null==c.outlineStroke&&null!=o.paintStyle&&(c.outlineStroke=o.paintStyle.outlineStroke),null==c.outlineWidth&&null!=o.paintStyle&&(c.outlineWidth=o.paintStyle.outlineWidth);var h=o.endpointHoverStyles[s]||o.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||y.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||y.Defaults.EndpointHoverStyle;null!=o.hoverPaintStyle&&(null==h&&(h={}),null==h.fill&&(h.fill=o.hoverPaintStyle.stroke));var d=o.anchors?o.anchors[s]:o.anchor?o.anchor:p(t.Defaults.Anchors[s],a,t)||p(y.Defaults.Anchors[s],a,t)||p(t.Defaults.Anchor,a,t)||p(y.Defaults.Anchor,a,t);l=e({paintStyle:c,hoverPaintStyle:h,endpoint:u,connections:[n],uuid:o.uuids?o.uuids[s]:null,anchor:d,source:r,scope:o.scope,reattach:o.reattach||t.Defaults.ReattachConnections,detachable:o.detachable||t.Defaults.ConnectionsDetachable}),null==i&&l.setDeleteOnEmpty(!0),n.endpoints[s]=l,!1===o.drawEndpoints&&l.setVisible(!1,!0,!0)}return l}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var F=this.jsPlumbUtil,L=this.jsPlumb;L.AnchorManager=function(x){var w={},m={},v={},b={},I={},l=this,A={},k=x.jsPlumbInstance,O={},t=function(n){return function(t,e){return!1===(n?t[0][0]<e[0][0]:t[0][0]>e[0][0])?-1:1}},g={top:function(t,e){return t[0]>e[0]?1:-1},right:t(!0),bottom:t(!0),left:function(t,e){var n=t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0];return(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])<n?1:-1}},M=function(f,t){var e=k.getCachedData(f),n=e.s,i=e.o,s=function(t,e,n,i,s,o,r){if(0<i.length)for(var a=function(t,e,n,i,s,o,r){for(var a=[],l=e[s?0:1]/(i.length+1),u=0;u<i.length;u++){var c=(u+1)*l,h=o*e[s?1:0];r&&(c=e[s?0:1]-c);var d=s?c:h,p=n[0]+d,f=d/e[0],g=s?h:c,m=n[1]+g,v=g/e[1];a.push([p,m,f,v,i[u][1],i[u][2]])}return a}(0,e,n,(p=g[t],i.sort(p)),s,o,"right"===t||"top"===t),l=function(t,e){m[t.id]=[e[0],e[1],e[2],e[3]],b[t.id]=r},u=0;u<a.length;u++){var c=a[u][4],h=c.endpoints[0].elementId===f,d=c.endpoints[1].elementId===f;h&&l(c.endpoints[0],a[u]),d&&l(c.endpoints[1],a[u])}var p};s("bottom",n,[i.left,i.top],t.bottom,!0,1,[0,1]),s("top",n,[i.left,i.top],t.top,!0,0,[0,-1]),s("left",n,[i.left,i.top],t.left,!1,0,[-1,0]),s("right",n,[i.left,i.top],t.right,!1,1,[1,0])};this.reset=function(){w={},I={},A={}},this.addFloatingConnection=function(t,e){O[t]=e},this.removeFloatingConnection=function(t){delete O[t]},this.newConnection=function(o){var r=o.sourceId,a=o.targetId,l=o.endpoints,u=!0,t=function(t,e,n,i,s){r===a&&n.isContinuous&&(o._jsPlumb.instance.removeElement(l[1].canvas),u=!1),F.addToList(I,i,[s,e,n.constructor===L.DynamicAnchor])};t(0,l[0],l[0].anchor,a,o),u&&t(0,l[1],l[1].anchor,r,o)};var a=function(t){!function(t,e){if(t){var n=function(t){return t[4]===e};F.removeWithFunction(t.top,n),F.removeWithFunction(t.left,n),F.removeWithFunction(t.bottom,n),F.removeWithFunction(t.right,n)}}(A[t.elementId],t.id)};this.connectionDetached=function(t,e){var n=t.connection||t,i=t.sourceId,s=t.targetId,o=n.endpoints,r=function(t,e,n,i,s){F.removeWithFunction(I[i],function(t){return t[0].id===s.id})};r(0,o[1],o[1].anchor,i,n),r(0,o[0],o[0].anchor,s,n),n.floatingId&&(r(n.floatingIndex,n.floatingEndpoint,n.floatingEndpoint.anchor,n.floatingId,n),a(n.floatingEndpoint)),a(n.endpoints[0]),a(n.endpoints[1]),e||(l.redraw(n.sourceId),n.targetId!==n.sourceId&&l.redraw(n.targetId))},this.add=function(t,e){F.addToList(w,e,t)},this.changeId=function(t,e){I[e]=I[t],w[e]=w[t],delete I[t],delete w[t]},this.getConnectionsFor=function(t){return I[t]||[]},this.getEndpointsFor=function(t){return w[t]||[]},this.deleteEndpoint=function(e){F.removeWithFunction(w[e.elementId],function(t){return t.id===e.id}),a(e)},this.clearFor=function(t){delete w[t],w[t]=[]};var T=function(t,e,n,i,s,o,r,a,l,u,c,h){var d,p,f=-1,g=i.endpoints[r],m=g.id,v=[1,0][r],b=[[e,n],i,s,o,m],y=t[l],P=g._continuousAnchorEdge?t[g._continuousAnchorEdge]:null;if(P){var C=F.findWithFunction(P,function(t){return t[4]===m});if(-1!==C)for(P.splice(C,1),d=0;d<P.length;d++)p=P[d][1],F.addWithFunction(c,p,function(t){return t.id===p.id}),F.addWithFunction(h,P[d][1].endpoints[r],function(t){return t.id===p.endpoints[r].id}),F.addWithFunction(h,P[d][1].endpoints[v],function(t){return t.id===p.endpoints[v].id})}for(d=0;d<y.length;d++)p=y[d][1],1===x.idx&&y[d][3]===o&&-1===f&&(f=d),F.addWithFunction(c,p,function(t){return t.id===p.id}),F.addWithFunction(h,y[d][1].endpoints[r],function(t){return t.id===p.endpoints[r].id}),F.addWithFunction(h,y[d][1].endpoints[v],function(t){return t.id===p.endpoints[v].id});var _=a?-1!==f?f:0:y.length;y.splice(_,0,b),g._continuousAnchorEdge=l};this.updateOtherEndpoint=function(t,e,n,i){var s=F.findWithFunction(I[t],function(t){return t[0].id===i.id}),o=F.findWithFunction(I[e],function(t){return t[0].id===i.id});-1!==s&&(I[t][s][0]=i,I[t][s][1]=i.endpoints[1],I[t][s][2]=i.endpoints[1].anchor.constructor===L.DynamicAnchor),-1<o&&(I[e].splice(o,1),F.addToList(I,n,[i,i.endpoints[0],i.endpoints[0].anchor.constructor===L.DynamicAnchor])),i.updateConnectedClass()},this.sourceChanged=function(t,e,n,i){if(t!==e){n.sourceId=e,n.source=i,F.removeWithFunction(I[t],function(t){return t[0].id===n.id});var s=F.findWithFunction(I[n.targetId],function(t){return t[0].id===n.id});-1<s&&(I[n.targetId][s][0]=n,I[n.targetId][s][1]=n.endpoints[0],I[n.targetId][s][2]=n.endpoints[0].anchor.constructor===L.DynamicAnchor),F.addToList(I,e,[n,n.endpoints[1],n.endpoints[1].anchor.constructor===L.DynamicAnchor]),n.endpoints[1].anchor.isContinuous&&(n.source===n.target?n._jsPlumb.instance.removeElement(n.endpoints[1].canvas):null==n.endpoints[1].canvas.parentNode&&n._jsPlumb.instance.appendElement(n.endpoints[1].canvas)),n.updateConnectedClass()}},this.rehomeEndpoint=function(t,e,n){var i=w[e]||[],s=k.getId(n);if(s!==e){var o=i.indexOf(t);if(-1<o){var r=i.splice(o,1)[0];l.add(r,s)}}for(var a=0;a<t.connections.length;a++)t.connections[a].sourceId===e?l.sourceChanged(e,t.elementId,t.connections[a],t.element):t.connections[a].targetId===e&&(t.connections[a].targetId=t.elementId,t.connections[a].target=t.element,l.updateOtherEndpoint(t.connections[a].sourceId,e,t.elementId,t.connections[a]))},this.redraw=function(e,t,n,i,s,o){if(!k.isSuspendDrawing()){var r=w[e]||[],a=I[e]||[],l=[],u=[],c=[];n=n||k.timestamp(),i=i||{left:0,top:0},t&&(t={left:t.left+i.left,top:t.top+i.top});for(var h=k.updateOffset({elId:e,offset:t,recalc:!1,timestamp:n}),d={},p=0;p<a.length;p++){var f=a[p][0],g=f.sourceId,m=f.targetId,v=f.endpoints[0].anchor.isContinuous,b=f.endpoints[1].anchor.isContinuous;if(v||b){var y=g+"_"+m,P=d[y],C=f.sourceId===e?1:0;v&&!A[g]&&(A[g]={top:[],right:[],bottom:[],left:[]}),b&&!A[m]&&(A[m]={top:[],right:[],bottom:[],left:[]}),e!==m&&k.updateOffset({elId:m,timestamp:n}),e!==g&&k.updateOffset({elId:g,timestamp:n});var _=k.getCachedData(m),x=k.getCachedData(g);m===g&&(v||b)?(T(A[g],-Math.PI/2,0,f,!1,m,0,!1,"top",0,l,u),T(A[m],-Math.PI/2,0,f,!1,g,1,!1,"top",0,l,u)):(P||(P=this.calculateOrientation(g,m,x.o,_.o,f.endpoints[0].anchor,f.endpoints[1].anchor,f),d[y]=P),v&&T(A[g],P.theta,0,f,!1,m,0,!1,P.a[0],0,l,u),b&&T(A[m],P.theta2,-1,f,!0,g,1,!0,P.a[1],0,l,u)),v&&F.addWithFunction(c,g,function(t){return t===g}),b&&F.addWithFunction(c,m,function(t){return t===m}),F.addWithFunction(l,f,function(t){return t.id===f.id}),(v&&0===C||b&&1===C)&&F.addWithFunction(u,f.endpoints[C],function(t){return t.id===f.endpoints[C].id})}}for(p=0;p<r.length;p++)0===r[p].connections.length&&r[p].anchor.isContinuous&&(A[e]||(A[e]={top:[],right:[],bottom:[],left:[]}),T(A[e],-Math.PI/2,0,{endpoints:[r[p],r[p]],paint:function(){}},!1,e,0,!1,r[p].anchor.getDefaultFace(),0,l,u),F.addWithFunction(c,e,function(t){return t===e}));for(p=0;p<c.length;p++)M(c[p],A[c[p]]);for(p=0;p<r.length;p++)r[p].paint({timestamp:n,offset:h,dimensions:h.s,recalc:!0!==o});for(p=0;p<u.length;p++){var E=k.getCachedData(u[p].elementId);u[p].paint({timestamp:n,offset:E,dimensions:E.s})}for(p=0;p<a.length;p++){var j=a[p][1];if(j.anchor.constructor===L.DynamicAnchor){j.paint({elementWithPrecedence:e,timestamp:n}),F.addWithFunction(l,a[p][0],function(t){return t.id===a[p][0].id});for(var S=0;S<j.connections.length;S++)j.connections[S]!==a[p][0]&&F.addWithFunction(l,j.connections[S],function(t){return t.id===j.connections[S].id})}else F.addWithFunction(l,a[p][0],function(t){return t.id===a[p][0].id})}var D=O[e];for(D&&D.paint({timestamp:n,recalc:!1,elId:e}),p=0;p<l.length;p++)l[p].paint({elId:e,timestamp:n,recalc:!1,clearEdits:s})}};var e=function(e){F.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var t=e.faces||["top","right","bottom","left"],n=!(!1===e.clockwise),i={},s={top:"bottom",right:"left",left:"right",bottom:"top"},o={top:"right",right:"bottom",left:"top",bottom:"left"},r={top:"left",right:"top",left:"bottom",bottom:"right"},a=n?o:r,l=n?r:o,u=e.cssClass||"",c=null,h=null,d=["left","right"],p=["top","bottom"],f=null,g=0;g<t.length;g++)i[t[g]]=!0;this.getDefaultFace=function(){return 0===t.length?"top":t[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(t){return i[t]?t:i[s[t]]?s[t]:i[a[t]]?a[t]:i[l[t]]?l[t]:t},this.isEdgeSupported=function(t){return null==f?null==h?!0===i[t]:h===t:-1!==f.indexOf(t)},this.setCurrentFace=function(t,e){c=t,e&&null!=h&&(h=c)},this.getCurrentFace=function(){return c},this.getSupportedFaces=function(){var t=[];for(var e in i)i[e]&&t.push(e);return t},this.lock=function(){h=c},this.unlock=function(){h=null},this.isLocked=function(){return null!=h},this.lockCurrentAxis=function(){null!=c&&(f="left"===c||"right"===c?d:p)},this.unlockCurrentAxis=function(){f=null},this.compute=function(t){return v[t.element.id]||m[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return v[t.element.id]||m[t.element.id]||[0,0]},this.getOrientation=function(t){return b[t.id]||[0,0]},this.clearUserDefinedLocation=function(){delete v[e.elementId]},this.setUserDefinedLocation=function(t){v[e.elementId]=t},this.getCssClass=function(){return u}};k.continuousAnchorFactory={get:function(t){return new e(t)},clear:function(t){delete v[t],delete m[t]}}},L.AnchorManager.prototype.calculateOrientation=function(t,e,n,i,s,o){var r=["left","top","right","bottom"];if(t===e)return{orientation:"identity",a:["top","top"]};var a=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),l=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),u=[],c={};!function(t,e){for(var n=0;n<t.length;n++)c[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,i]);for(var h=0;h<r.length;h++)for(var d=0;d<r.length;d++)u.push({source:r[h],target:r[d],dist:Biltong.lineLength(c.source[r[h]],c.target[r[d]])});u.sort(function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0});for(var p=u[0].source,f=u[0].target,g=0;g<u.length&&(p=!s.isContinuous||s.isEdgeSupported(u[g].source)?u[g].source:null,f=!o.isContinuous||o.isEdgeSupported(u[g].target)?u[g].target:null,null==p||null==f);g++);return s.isContinuous&&s.setCurrentFace(p),o.isContinuous&&o.setCurrentFace(f),{a:[p,f],theta:a,theta2:l}},L.Anchor=function(t){this.x=t.x||0,this.y=t.y||0,this.elementId=t.elementId,this.cssClass=t.cssClass||"",this.userDefinedLocation=null,this.orientation=t.orientation||[0,0],this.lastReturnValue=null,this.offsets=t.offsets||[0,0],this.timestamp=null;var e=!1!==t.relocatable;this.isRelocatable=function(){return e};var n=!(this.setRelocatable=function(t){e=t})!==t.snapOnRelocate,i=!(this.isSnapOnRelocate=function(){return n});this.lock=function(){i=!0},this.unlock=function(){i=!1},this.isLocked=function(){return i},F.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,i=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===this.timestamp||(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1]],this.timestamp=i),this.lastReturnValue},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue}},F.extend(L.Anchor,F.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&n[0]===e[0]&&n[1]===e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),L.FloatingAnchor=function(t){L.Anchor.apply(this,arguments);var n=t.reference,e=t.referenceCanvas,i=L.getSize(e),s=null,o=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+i[0]/2,e[1]+i[1]/2];return o=n},this.getOrientation=function(t){if(s)return s;var e=n.getOrientation(t);return[0*Math.abs(e[0])*-1,0*Math.abs(e[1])*-1]},this.over=function(t,e){s=t.getOrientation(e)},this.out=function(){s=null},this.getCurrentLocation=function(t){return null==o?this.compute(t):o}},F.extend(L.FloatingAnchor,L.Anchor);L.DynamicAnchor=function(t){L.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var e=0;e<t.anchors.length;e++)this.anchors[e]=(n=t.anchors[e],i=this.jsPlumbInstance,s=this.elementId,n.constructor===L.Anchor?n:i.makeAnchor(n,s,i));var n,i,s;this.getAnchors=function(){return this.anchors};var r=0<this.anchors.length?this.anchors[0]:null,a=r,l=this,u=t.selector||function(t,e,n,i,s){for(var o,r,a,l,u,c,h,d,p,f=n[0]+i[0]/2,g=n[1]+i[1]/2,m=-1,v=1/0,b=0;b<s.length;b++){var y=(o=s[b],r=f,a=g,u=e,void 0,c=(l=t)[0]+o.x*u[0],h=l[1]+o.y*u[1],d=l[0]+u[0]/2,p=l[1]+u[1]/2,Math.sqrt(Math.pow(r-c,2)+Math.pow(a-h,2))+Math.sqrt(Math.pow(d-c,2)+Math.pow(p-h,2)));y<v&&(m=b+0,v=y)}return s[m]};this.compute=function(t){var e=t.xy,n=t.wh,i=t.txy,s=t.twh;this.timestamp=t.timestamp;var o=l.getUserDefinedLocation();return null!=o?o:this.isLocked()||null==i||null==s?r.compute(t):(t.timestamp=null,r=u(e,n,i,s,this.anchors),this.x=r.x,this.y=r.y,r!==a&&this.fire("anchorChanged",r),(a=r).compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=r?r.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=r?r.getOrientation(t):[0,0]},this.over=function(t,e){null!=r&&r.over(t,e)},this.out=function(){null!=r&&r.out()},this.getCssClass=function(){return r&&r.getCssClass()||""}},F.extend(L.DynamicAnchor,L.Anchor);var t=function(n,i,s,o,r,a){L.Anchors[r]=function(t){var e=t.jsPlumbInstance.makeAnchor([n,i,s,o,0,0],t.elementId,t.jsPlumbInstance);return e.type=r,a&&a(e,t),e}};t(.5,0,0,-1,"TopCenter"),t(.5,1,0,1,"BottomCenter"),t(0,.5,-1,0,"LeftMiddle"),t(1,.5,1,0,"RightMiddle"),t(.5,0,0,-1,"Top"),t(.5,1,0,1,"Bottom"),t(0,.5,-1,0,"Left"),t(1,.5,1,0,"Right"),t(.5,.5,0,0,"Center"),t(1,0,0,-1,"TopRight"),t(1,1,0,1,"BottomRight"),t(0,0,0,-1,"TopLeft"),t(0,1,0,1,"BottomLeft"),L.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},L.Anchors.AutoDefault=function(t){var e=t.jsPlumbInstance.makeDynamicAnchor(L.Defaults.DynamicAnchors(t));return e.type="AutoDefault",e};var e=function(n,i){L.Anchors[n]=function(t){var e=t.jsPlumbInstance.makeAnchor(["Continuous",{faces:i}],t.elementId,t.jsPlumbInstance);return e.type=n,e}};L.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},e("ContinuousLeft",["left"]),e("ContinuousTop",["top"]),e("ContinuousBottom",["bottom"]),e("ContinuousRight",["right"]),t(0,0,0,0,"Assign",function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor===String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,i){var s=t.left-e.left,o=t.top-e.top,r=n[0]/i.grid[0],a=n[1]/i.grid[1],l=Math.floor(s/r),u=Math.floor(o/a);return[(l*r+r/2)/n[0],(u*a+a/2)/n[1]]}},L.Anchors.Perimeter=function(t){var c=(t=t||{}).anchorCount||60,e=t.shape;if(!e)throw new Error("no shape supplied to Perimeter Anchor type");var n=function(){for(var t=2*Math.PI/c,e=0,n=[],i=0;i<c;i++){var s=.5+.5*Math.sin(e),o=.5+.5*Math.cos(e);n.push([s,o,0,0]),e+=t}return n},a=function(t){for(var l=c/t.length,u=[],e=function(t,e,n,i,s){for(var o=(n-t)/(l=c*s),r=(i-e)/l,a=0;a<l;a++)u.push([t+o*a,e+r*a,0,0])},n=0;n<t.length;n++)e.apply(null,t[n]);return u},i=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length]);return a(e)},s=function(){return i([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},o={Circle:n,Ellipse:n,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],i=0,s=0;s<e.length-1;s++){var o=Math.sqrt(Math.pow(e[s][2]-e[s][0])+Math.pow(e[s][3]-e[s][1]));i+=o,n.push([e[s][0],e[s][1],e[s+1][0],e[s+1][1],o])}for(var r=0;r<n.length;r++)n[r][4]=n[r][4]/i;return a(n)}};if(!o[e])throw new Error("Shape ["+e+"] is unknown by Perimeter Anchor type");var r=o[e](t);t.rotation&&(r=function(t,e){for(var n=[],i=e/180*Math.PI,s=0;s<t.length;s++){var o=t[s][0]-.5,r=t[s][1]-.5;n.push([o*Math.cos(i)-r*Math.sin(i)+.5,o*Math.sin(i)+r*Math.cos(i)+.5,t[s][2],t[s][3]])}return n}(r,t.rotation));var l=t.jsPlumbInstance.makeDynamicAnchor(r);return l.type="Perimeter",l}}.call("undefined"!=typeof window?window:this),function(){"use strict";var s=this,m=s.jsPlumb,v=s.jsPlumbUtil,x=s.Biltong;m.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,e){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}}},Straight:function(t){var a,l,u,c,h,d,p;m.Segments.AbstractSegment.apply(this,arguments);this.type="Straight",this.getLength=function(){return a},this.getGradient=function(){return l},this.getCoordinates=function(){return{x1:c,y1:d,x2:h,y2:p}},this.setCoordinates=function(t){c=t.x1,d=t.y1,h=t.x2,p=t.y2,a=Math.sqrt(Math.pow(h-c,2)+Math.pow(p-d,2)),l=x.gradient({x:c,y:d},{x:h,y:p}),u=-1/l},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(c,h),minY:Math.min(d,p),maxX:Math.max(c,h),maxY:Math.max(d,p)}},this.pointOnPath=function(t,e){if(0!==t||e){if(1!==t||e){var n=e?0<t?t:a+t:t*a;return x.pointOnLine({x:c,y:d},{x:h,y:p},n)}return{x:h,y:p}}return{x:c,y:d}},this.gradientAtPoint=function(t){return l},this.pointAlongPathFrom=function(t,e,n){var i=this.pointOnPath(t,n),s=e<=0?{x:c,y:d}:{x:h,y:p};return e<=0&&1<Math.abs(e)&&(e*=-1),x.pointOnLine(i,s,e)};var f=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},g=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var n={d:1/0,x:null,y:null,l:null,x1:c,x2:h,y1:d,y2:p};if(0===l)n.y=d,n.x=f(c,h,t)?t:g(c,h,t);else if(l===1/0||l===-1/0)n.x=c,n.y=f(d,p,e)?e:g(d,p,e);else{var i=d-l*c,s=(e-u*t-i)/(l-u),o=l*s+i;n.x=f(c,h,s)?s:g(c,h,s),n.y=f(d,p,o)?o:g(d,p,o)}var r=x.lineLength([n.x,n.y],[c,d]);return n.d=x.lineLength([t,e],[n.x,n.y]),n.l=r/a,n}},Arc:function(a){m.Segments.AbstractSegment.apply(this,arguments);var t=function(t,e){return x.theta([a.cx,a.cy],[t,e])},o=2*Math.PI;this.radius=a.r,this.anticlockwise=a.ac,this.type="Arc",a.startAngle&&a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),this.y1=a.cy+this.radius*Math.sin(a.startAngle),this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=t(a.x1,a.y1),this.endAngle=t(a.x2,a.y2),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o);var e=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(e-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var l=2*Math.PI*this.radius,n=this.sweep/o,r=l*n;this.getLength=function(){return r},this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var u=function(t){var e=Math.floor(t),n=Math.ceil(t);return t-e<1e-10?e:n-t<1e-10?n:t};this.pointOnPath=function(t,e){if(0===t)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===t)return{x:this.x2,y:this.y2,theta:this.endAngle};e&&(t/=r);var n=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle;return n-Math.abs(n-t.endAngle)*e}var i=t.endAngle<t.startAngle?t.endAngle+o:t.endAngle,s=Math.abs(i-t.startAngle);return t.startAngle+s*e}(this,t),i=a.cx+a.r*Math.cos(n),s=a.cy+a.r*Math.sin(n);return{x:u(i),y:u(s),theta:n}},this.gradientAtPoint=function(t,e){var n=this.pointOnPath(t,e),i=x.normal([a.cx,a.cy],[n.x,n.y]);return this.anticlockwise||i!==1/0&&i!==-1/0||(i*=-1),i},this.pointAlongPathFrom=function(t,e,n){var i=this.pointOnPath(t,n),s=e/l*2*Math.PI,o=this.anticlockwise?-1:1,r=i.theta+o*s;return{x:a.cx+this.radius*Math.cos(r),y:a.cy+this.radius*Math.sin(r)}}},Bezier:function(t){this.curve=[{x:t.x1,y:t.y1},{x:t.cp1x,y:t.cp1y},{x:t.cp2x,y:t.cp2y},{x:t.x2,y:t.y2}];m.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(t.x1,t.x2,t.cp1x,t.cp2x),minY:Math.min(t.y1,t.y2,t.cp1y,t.cp2y),maxX:Math.max(t.x1,t.x2,t.cp1x,t.cp2x),maxY:Math.max(t.y1,t.y2,t.cp1y,t.cp2y)},this.type="Bezier";var i=function(t,e,n){return n&&(e=s.jsBezier.locationAlongCurveFrom(t,0<e?0:1,e)),e};this.pointOnPath=function(t,e){return t=i(this.curve,t,e),s.jsBezier.pointOnCurve(this.curve,t)},this.gradientAtPoint=function(t,e){return t=i(this.curve,t,e),s.jsBezier.gradientAtPoint(this.curve,t)},this.pointAlongPathFrom=function(t,e,n){return t=i(this.curve,t,n),s.jsBezier.pointAlongCurveFrom(this.curve,t,e)},this.getLength=function(){return s.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}},m.SegmentRenderer={getPath:function(i){return{Straight:function(){var t=i.getCoordinates();return"M "+t.x1+" "+t.y1+" L "+t.x2+" "+t.y2},Bezier:function(){var t=i.params;return"M "+t.x1+" "+t.y1+" C "+t.cp1x+" "+t.cp1y+" "+t.cp2x+" "+t.cp2y+" "+t.x2+" "+t.y2},Arc:function(){var t=i.params,e=i.sweep>Math.PI?1:0,n=i.anticlockwise?0:1;return"M"+i.x1+" "+i.y1+" A "+i.radius+" "+t.r+" 0 "+e+","+n+" "+i.x2+" "+i.y2}}[i.type]()}};var h=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};m.Connectors.AbstractConnector=function(t){h.apply(this,arguments);var o=[],r=0,a=[],l=[],e=t.stub||0,y=v.isArray(e)?e[0]:e,P=v.isArray(e)?e[1]:e,n=t.gap||0,C=v.isArray(n)?n[0]:n,_=v.isArray(n)?n[1]:n,i=null,s=null;this.getPathData=function(){for(var t="",e=0;e<o.length;e++)t+=m.SegmentRenderer.getPath(o[e]),t+=" ";return t},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var s=o[i].findClosestPointOnPath(t,e);s.d<n.d&&(n.d=s.d,n.l=s.l,n.x=s.x,n.y=s.y,n.s=o[i],n.x1=s.x1,n.x2=s.x2,n.y1=s.y1,n.y2=s.y2,n.index=i)}return n};var u=function(t,e){e&&(t=0<t?t/r:(r+t)/r);for(var n=a.length-1,i=1,s=0;s<a.length;s++)if(a[s][1]>=t){n=s,i=1===t?1:0===t?0:(t-a[s][0])/l[s];break}return{segment:o[n],proportion:i,index:n}};this.setSegments=function(t){i=[];for(var e=r=0;e<t.length;e++)i.push(t[e]),r+=t[e].getLength()},this.getLength=function(){return r};var c=function(t){this.strokeWidth=t.strokeWidth;var e=x.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],i=t.targetPos[1]<t.sourcePos[1],s=t.strokeWidth||1,o=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),r=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),a=n?t.targetPos[0]:t.sourcePos[0],l=i?t.targetPos[1]:t.sourcePos[1],u=Math.abs(t.targetPos[0]-t.sourcePos[0]),c=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===o[0]&&0===o[1]||0===r[0]&&0===r[1]){var h=c<u?0:1,d=[1,0][h];r=[],(o=[])[h]=t.sourcePos[h]>t.targetPos[h]?-1:1,r[h]=t.sourcePos[h]>t.targetPos[h]?1:-1,o[d]=0,r[d]=0}var p=n?u+C*o[0]:C*o[0],f=i?c+C*o[1]:C*o[1],g=n?_*r[0]:u+_*r[0],m=i?_*r[1]:c+_*r[1],v=o[0]*r[0]+o[1]*r[1],b={sx:p,sy:f,tx:g,ty:m,lw:s,xSpan:Math.abs(g-p),ySpan:Math.abs(m-f),mx:(p+g)/2,my:(f+m)/2,so:o,to:r,x:a,y:l,w:u,h:c,segment:e,startStubX:p+o[0]*y,startStubY:f+o[1]*y,endStubX:g+r[0]*P,endStubY:m+r[1]*P,isXGreaterThanStubTimes2:Math.abs(p-g)>y+P,isYGreaterThanStubTimes2:Math.abs(f-m)>y+P,opposite:-1===v,perpendicular:0===v,orthogonal:1===v,sourceAxis:0===o[0]?"y":"x",points:[a,l,u,c,p,f,g,m],stubs:[y,P]};return b.anchorOrientation=b.opposite?"opposite":b.orthogonal?"orthogonal":"perpendicular",b};this.getSegments=function(){return o},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)};return this.pointOnPath=function(t,e){var n=u(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=u(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var i=u(t,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,e,!1)||[0,0]},this.compute=function(t){s=c.call(this,t),r=o.length=a.length=l.length=0,this._compute(s,t),this.x=s.points[0],this.y=s.points[1],this.w=s.points[2],this.h=s.points[3],this.segment=s.segment,function(){for(var t=0,e=0;e<o.length;e++){var n=o[e].getLength();l[e]=n/r,a[e]=[t,t+=n/r]}}()},{addSegment:function(t,e,n){if(n.x1!==n.x2||n.y1!==n.y2){var i=new m.Segments[e](n);o.push(i),r+=i.getLength(),t.updateBounds(i)}},prepareCompute:c,sourceStub:y,targetStub:P,maxStub:Math.max(y,P),sourceGap:C,targetGap:_,maxGap:Math.max(C,_)}},v.extend(m.Connectors.AbstractConnector,h),m.Endpoints.AbstractEndpoint=function(t){return h.apply(this,arguments),{compute:this.compute=function(t,e,n,i){var s=this._compute.apply(this,arguments);return this.x=s[0],this.y=s[1],this.w=s[2],this.h=s[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,s},cssClass:t.cssClass}},v.extend(m.Endpoints.AbstractEndpoint,h),m.Endpoints.Dot=function(t){this.type="Dot";m.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.radius=t.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n,i){this.radius=n.radius||this.radius;var s=t[0]-this.radius,o=t[1]-this.radius,r=2*this.radius,a=2*this.radius;if(n.stroke){var l=n.strokeWidth||1;s-=l,o-=l,r+=2*l,a+=2*l}return[s,o,r,a,this.radius]}},v.extend(m.Endpoints.Dot,m.Endpoints.AbstractEndpoint),m.Endpoints.Rectangle=function(t){this.type="Rectangle";m.Endpoints.AbstractEndpoint.apply(this,arguments);t=t||{},this.width=t.width||20,this.height=t.height||20,this._compute=function(t,e,n,i){var s=n.width||this.width,o=n.height||this.height;return[t[0]-s/2,t[1]-o/2,s,o]}},v.extend(m.Endpoints.Rectangle,m.Endpoints.AbstractEndpoint);var o=function(t){m.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};v.extend(o,m.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),m.Endpoints.Image=function(t){this.type="Image",o.apply(this,arguments),m.Endpoints.AbstractEndpoint.apply(this,arguments);var i=t.onload,e=t.src||t.url,n=t.cssClass?" "+t.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=t.width,this._jsPlumb.heightToUse=t.height,this._jsPlumb.endpoint=t.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,i&&i(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(t,e){var n=t.constructor===String?t:t.src;i=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(e,i),this._compute=function(t,e,n,i){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=m.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+n),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,e,n){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var i=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,s=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;v.sizeElement(this.canvas,i,s,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(t,e){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(t,e):s.setTimeout(function(){this.paint(t,e)}.bind(this),200))}},v.extend(m.Endpoints.Image,[o,m.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),m.Endpoints.Blank=function(t){m.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",o.apply(this,arguments),this._compute=function(t,e,n,i){return[t[0],t[1],10,0]};var e=t.cssClass?" "+t.cssClass:"";this.canvas=m.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+e),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,e){v.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},v.extend(m.Endpoints.Blank,[m.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),m.Endpoints.Triangle=function(t){this.type="Triangle",m.Endpoints.AbstractEndpoint.apply(this,arguments);var r=this;(t=t||{}).width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,n,i){var s=n.width||r.width,o=n.height||r.height;return[t[0]-s/2,t[1]-o/2,s,o]}};var e=m.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};e.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,e){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},m.Overlays.Arrow=function(i){this.type="Arrow",e.apply(this,arguments),this.isAppendedAtTopLevel=!1,i=i||{};var t=this;this.length=i.length||20,this.width=i.width||20,this.id=i.id;var p=(i.direction||1)<0?-1:1,f=i.paintStyle||{"stroke-width":1},g=i.foldback||.623;this.computeMaxSize=function(){return 1.5*t.width},this.elementCreated=function(t,e){if(this.path=t,i.events)for(var n in i.events)m.on(t,n,i.events[n])},this.draw=function(t,e){var n,i,s,o;if(t.pointAlongPathFrom){if(v.isString(this.loc)||1<this.loc||this.loc<0){var r=parseInt(this.loc,10),a=this.loc<0?1:0;n=t.pointAlongPathFrom(a,r,!1),i=t.pointAlongPathFrom(a,r-p*this.length/2,!1),s=x.pointOnLine(n,i,this.length)}else if(1===this.loc){if(n=t.pointOnPath(this.loc),i=t.pointAlongPathFrom(this.loc,-this.length),s=x.pointOnLine(n,i,this.length),-1===p){var l=s;s=n,n=l}}else if(0===this.loc){if(s=t.pointOnPath(this.loc),i=t.pointAlongPathFrom(this.loc,this.length),n=x.pointOnLine(s,i,this.length),-1===p){var u=s;s=n,n=u}}else n=t.pointAlongPathFrom(this.loc,p*this.length/2),i=t.pointOnPath(this.loc),s=x.pointOnLine(n,i,this.length);var c={hxy:n,tail:o=x.perpendicularLineTo(n,s,this.width),cxy:x.pointOnLine(n,s,g*this.length)},h=f.stroke||e.stroke,d=f.fill||e.stroke;return{component:t,d:c,"stroke-width":f.strokeWidth||e.strokeWidth,stroke:h,fill:d,minX:Math.min(n.x,o[0].x,o[1].x),maxX:Math.max(n.x,o[0].x,o[1].x),minY:Math.min(n.y,o[0].y,o[1].y),maxY:Math.max(n.y,o[0].y,o[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},v.extend(m.Overlays.Arrow,e,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback}}),m.Overlays.PlainArrow=function(t){t=t||{};var e=m.extend(t,{foldback:1});m.Overlays.Arrow.call(this,e),this.type="PlainArrow"},v.extend(m.Overlays.PlainArrow,m.Overlays.Arrow),m.Overlays.Diamond=function(t){var e=(t=t||{}).length||40,n=m.extend(t,{length:e/2,foldback:2});m.Overlays.Arrow.call(this,n),this.type="Diamond"},v.extend(m.Overlays.Diamond,m.Overlays.Arrow);var c=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},n=function(n){m.jsPlumbUIComponent.apply(this,arguments),e.apply(this,arguments);var t=this.fire;this.fire=function(){t.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=n.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=n.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=n.create,this._jsPlumb.initiallyInvisible=!1===n.visible,this.getElement=function(){if(null==this._jsPlumb.div){var t=this._jsPlumb.div=m.getElement(this._jsPlumb.create(this._jsPlumb.component));t.style.position="absolute",t.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:n.cssClass?n.cssClass:""),this._jsPlumb.instance.appendElement(t),this._jsPlumb.instance.getId(t);var e="translate(-50%, -50%)";(this.canvas=t).style.webkitTransform=e,t.style.mozTransform=e,t.style.msTransform=e,t.style.oTransform=e,t.style.transform=e,t._jsPlumb=this,!1===n.visible&&(t.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,n){var i=c(this);if(null==i||2!==i.length)return{minX:0,maxX:0,minY:0,maxY:0};var s={x:0,y:0};if(n)s={x:n[0],y:n[1]};else if(t.pointOnPath){var o=this.loc,r=!1;(v.isString(this.loc)||this.loc<0||1<this.loc)&&(o=parseInt(this.loc,10),r=!0),s=t.pointOnPath(o,r)}else{var a=this.loc.constructor===Array?this.loc:this.endpointLoc;s={x:a[0]*t.w,y:a[1]*t.h}}var l=s.x-i[0]/2,u=s.y-i[1]/2;return{component:t,d:{minx:l,miny:u,td:i,cxy:s},minX:l,maxX:l+i[0],minY:u,maxY:u+i[1]}}};v.extend(n,[m.jsPlumbUIComponent,e],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(c(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,e){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=c(this);return Math.max(t[0],t[1])},paint:function(t,e){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),m.Overlays.Custom=function(t){this.type="Custom",n.apply(this,arguments)},v.extend(m.Overlays.Custom,n),m.Overlays.GuideLines=function(){var a=this;a.length=50,a.strokeWidth=5,this.type="GuideLines",e.apply(this,arguments),m.jsPlumbUIComponent.apply(this,arguments),this.draw=function(t,e){var n=t.pointAlongPathFrom(a.loc,a.length/2),i=t.pointOnPath(a.loc),s=x.pointOnLine(n,i,a.length),o=x.perpendicularLineTo(n,s,40),r=x.perpendicularLineTo(s,n,20);return{connector:t,head:n,tail:s,headLine:r,tailLine:o,minX:Math.min(n.x,s.x,r[0].x,r[1].x),minY:Math.min(n.y,s.y,r[0].y,r[1].y),maxX:Math.max(n.x,s.x,r[0].x,r[1].x),maxY:Math.max(n.y,s.y,r[0].y,r[1].y)}}},m.Overlays.Label=function(t){this.labelStyle=t.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var e=m.extend({create:function(){return m.createElement("div")}},t);if(m.Overlays.Custom.call(this,e),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var n=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",n.style.font=this.labelStyle.font,n.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(n.style.background=this.labelStyle.fill),0<this.labelStyle.borderWidth){var i=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";n.style.border=this.labelStyle.borderWidth+"px solid "+i}this.labelStyle.padding&&(n.style.padding=this.labelStyle.padding)}},v.extend(m.Overlays.Label,m.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),n.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var n=this,t=n.jsPlumb;t.extend(n.jsPlumbInstance.prototype,{getEventManager:function(){return(e=(t=this)._mottle)||(e=t._mottle=new n.Mottle),e;var t,e},on:function(t,e,n){return this.getEventManager().on.apply(this,arguments),this},off:function(t,e,n){return this.getEventManager().off.apply(this,arguments),this}})}.call("undefined"!=typeof window?window:this),function(){"use strict";var C=this,_=C.jsPlumbUtil,t=C.jsPlumbInstance,u="jtk-group-collapsed",d="jtk-group-expanded",e="_groupManager",x="_jsPlumbGroup",E="group:addMember",n=function(c){var s={},r={},a={},h=this;function i(t,e){for(var n=t.getMembers(),i=0;i<n.length;i++)c[e?"show":"hide"](n[i],!0)}c.bind("connection",function(t){null!=t.source[x]&&null!=t.target[x]&&t.source[x]===t.target[x]?(r[t.connection.id]=t.source[x],a[t.connection.id]=t.source[x]):(null!=t.source[x]&&(_.suggest(t.source[x].connections.source,t.connection),r[t.connection.id]=t.source[x]),null!=t.target[x]&&(_.suggest(t.target[x].connections.target,t.connection),a[t.connection.id]=t.target[x]))}),c.bind("internal.connectionDetached",function(t){!function(e){delete e.proxies;var t,n=r[e.id];null!=n&&(t=function(t){return t.id===e.id},_.removeWithFunction(n.connections.source,t),_.removeWithFunction(n.connections.target,t),delete r[e.id]),null!=(n=a[e.id])&&(t=function(t){return t.id===e.id},_.removeWithFunction(n.connections.source,t),_.removeWithFunction(n.connections.target,t),delete a[e.id])}(t.connection)}),c.bind("connectionMoved",function(t){var e=(0===t.index?r:a)[t.connection.id];if(e){var n=e.connections[0===t.index?"source":"target"],i=n.indexOf(t.connection);-1!==i&&n.splice(i,1)}}),this.addGroup=function(t){c.addClass(t.getEl(),d),(s[t.id]=t).manager=this,e(t),c.fire("group:add",{group:t})},this.addToGroup=function(i,t,e){if(i=this.getGroup(i)){var n=i.getEl();if(t._isJsPlumbGroup)return;var s=t._jsPlumbGroup;if(s!==i){var o=c.getOffset(t,!0),r=i.collapsed?c.getOffset(n,!0):c.getOffset(i.getDragArea(),!0);null!=s&&(s.remove(t,e),h.updateConnectionsForGroup(s)),i.add(t,e);var a=function(t,e){var n=0===e?1:0;t.each(function(t){t.setVisible(!1),t.endpoints[n].element._jsPlumbGroup===i?(t.endpoints[n].setVisible(!1),h.expandConnection(t,n,i)):(t.endpoints[e].setVisible(!1),h.collapseConnection(t,e,i))})};i.collapsed&&(a(c.select({source:t}),0),a(c.select({target:t}),1));var l=c.getId(t);c.dragManager.setParent(t,l,n,c.getId(n),o);var u={left:o.left-r.left,top:o.top-r.top};c.setPosition(t,u),c.dragManager.revalidateParent(t,l,o),h.updateConnectionsForGroup(i),c.revalidate(l),setTimeout(function(){c.fire(E,{group:i,el:t})},0)}}},this.removeFromGroup=function(t,e,n){(t=this.getGroup(t))&&t.remove(e,null,n)},this.getGroup=function(t){var e=t;if(_.isString(t)&&null==(e=s[t]))throw new TypeError("No such group ["+t+"]");return e},this.getGroups=function(){var t=[];for(var e in s)t.push(s[e]);return t},this.removeGroup=function(t,e,n,i){t=this.getGroup(t),this.expandGroup(t,!0),t[e?"removeAll":"orphanAll"](n,i),c.remove(t.getEl()),delete s[t.id],delete c._groups[t.id],c.fire("group:remove",{group:t})},this.removeAllGroups=function(t,e,n){for(var i in s)this.removeGroup(s[i],t,e,n)};var o=this.collapseConnection=function(t,e,n){var i,s=n.getEl(),o=c.getId(s),r=t.endpoints[e].elementId,a=t.endpoints[0===e?1:0].element;a[x]&&!a[x].shouldProxy()&&a[x].collapsed||(t.proxies=t.proxies||[],(i=t.proxies[e]?t.proxies[e].ep:c.addEndpoint(s,{endpoint:n.getEndpoint(t,e),anchor:n.getAnchor(t,e),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),t.proxies[e]={ep:i,originalEp:t.endpoints[e]},0===e?c.anchorManager.sourceChanged(r,o,t,s):(c.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,r,o,t),t.target=s,t.targetId=o),t.proxies[e].originalEp.detachFromConnection(t,null,!0),i.connections=[t],t.endpoints[e]=i,t.setVisible(!0))};this.collapseGroup=function(s){if(null!=(s=this.getGroup(s))&&!s.collapsed){var t=s.getEl();if(i(s,!1),s.shouldProxy()){var e=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];o(i,e,s)}};e(s.connections.source,0),e(s.connections.target,1)}s.collapsed=!0,c.removeClass(t,d),c.addClass(t,u),c.revalidate(t),c.fire("group:collapse",{group:s})}};var l=this.expandConnection=function(t,e,n){if(null!=t.proxies&&null!=t.proxies[e]){var i=c.getId(n.getEl()),s=t.proxies[e].originalEp.element,o=t.proxies[e].originalEp.elementId;t.endpoints[e]=t.proxies[e].originalEp,0===e?c.anchorManager.sourceChanged(i,o,t,s):(c.anchorManager.updateOtherEndpoint(t.endpoints[0].elementId,i,o,t),t.target=s,t.targetId=o),t.proxies[e].ep.detachFromConnection(t,null),t.proxies[e].originalEp.addConnection(t),delete t.proxies[e]}};function e(n){var t=n.getMembers(),e=c.getConnections({source:t,scope:"*"},!0),i=c.getConnections({target:t,scope:"*"},!0),s={};n.connections.source.length=0,n.connections.target.length=0;var o=function(t){for(var e=0;e<t.length;e++)s[t[e].id]||(s[t[e].id]=!0,t[e].source._jsPlumbGroup===n?(t[e].target._jsPlumbGroup!==n&&n.connections.source.push(t[e]),r[t[e].id]=n):t[e].target._jsPlumbGroup===n&&(n.connections.target.push(t[e]),a[t[e].id]=n))};o(e),o(i)}this.expandGroup=function(s,t){if(null!=(s=this.getGroup(s))&&s.collapsed){var e=s.getEl();if(i(s,!0),s.shouldProxy()){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];l(i,e,s)}};n(s.connections.source,0),n(s.connections.target,1)}s.collapsed=!1,c.addClass(e,d),c.removeClass(e,u),c.revalidate(e),this.repaintGroup(s),t||c.fire("group:expand",{group:s})}},this.repaintGroup=function(t){for(var e=(t=this.getGroup(t)).getMembers(),n=0;n<e.length;n++)c.revalidate(e[n])},this.updateConnectionsForGroup=e,this.refreshAllGroups=function(){for(var t in s)e(s[t]),c.dragManager.updateOffsets(c.getId(s[t].getEl()))}},i=function(u,n){var s=this,e=n.el;this.getEl=function(){return e},this.id=n.id||_.uuid(),e._isJsPlumbGroup=!0;var i=this.getDragArea=function(){var t=u.getSelector(e,"[jtk-group-content]");return t&&0<t.length?t[0]:e},o=!0===n.ghost,r=o||!0===n.constrain,a=!1!==n.revert,l=!0===n.orphan,c=!0===n.prune,h=!0===n.dropOverride,t=!1!==n.proxied,d=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,e){return n.anchor||"Continuous"},this.getEndpoint=function(t,e){return n.endpoint||["Dot",{radius:10}]},(this.collapsed=!1)!==n.draggable){var p={stop:function(t){u.fire("groupDragStop",jsPlumb.extend(t,{group:s}))},scope:"_jsPlumbGroupDrag"};n.dragOptions&&C.jsPlumb.extend(p,n.dragOptions),u.draggable(n.el,p)}!1!==n.droppable&&u.droppable(n.el,{drop:function(t){var e=t.drag.el;if(!e._isJsPlumbGroup){var n=e._jsPlumbGroup;if(n!==s){if(null!=n&&n.overrideDrop(e,s))return;u.getGroupManager().addToGroup(s,e,!1)}}}});var f=function(t,e){for(var n=null==t.nodeType?t:[t],i=0;i<n.length;i++)e(n[i])};function g(t,e){var n=t.offsetParent,i=u.getSize(n),s=u.getSize(t),o=e[0],r=o+s[0],a=e[1],l=a+s[1];return 0<r&&o<i[0]&&0<l&&a<i[1]}function m(t){var e=u.getId(t),n=u.getOffset(t);t.parentNode.removeChild(t),u.getContainer().appendChild(t),u.setPosition(t,n),delete t._jsPlumbGroup,y(t),u.dragManager.clearParent(t,e)}function v(t){if(!g(t.el,t.pos)){var e=t.el._jsPlumbGroup;c?u.remove(t.el):m(t.el),e.remove(t.el)}}function b(t){var e=u.getId(t);u.revalidate(t),u.dragManager.revalidateParent(t,e)}function y(t){t._katavorioDrag&&((c||l)&&t._katavorioDrag.off("stop",v),c||l||!a||(t._katavorioDrag.off("revert",b),t._katavorioDrag.setRevert(null)))}function P(t){t._katavorioDrag&&((c||l)&&t._katavorioDrag.on("stop",v),r&&t._katavorioDrag.setConstrain(!0),o&&t._katavorioDrag.setUseGhostProxy(!0),c||l||!a||(t._katavorioDrag.on("revert",b),t._katavorioDrag.setRevert(function(t,e){return!g(t,e)})))}this.overrideDrop=function(t,e){return h&&(a||c||l)},this.add=function(t,e){var n=i();f(t,function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===s)return;t._jsPlumbGroup.remove(t,!0,e,!1)}t._jsPlumbGroup=s,d.push(t),u.isAlreadyDraggable(t)&&P(t),t.parentNode!==n&&n.appendChild(t),e||u.fire(E,{group:s,el:t})}),u.getGroupManager().updateConnectionsForGroup(s)},this.remove=function(t,n,i,e){f(t,function(e){if(delete e._jsPlumbGroup,_.removeWithFunction(d,function(t){return t===e}),n)try{s.getDragArea().removeChild(e)}catch(t){jsPlumbUtil.log("Could not remove element from Group "+t)}y(e),i||u.fire("group:removeMember",{group:s,el:e})}),e||u.getGroupManager().updateConnectionsForGroup(s)},this.removeAll=function(t,e){for(var n=0,i=d.length;n<i;n++)s.remove(d[0],t,e,!0);d.length=0,u.getGroupManager().updateConnectionsForGroup(s)},this.orphanAll=function(){for(var t=0;t<d.length;t++)m(d[t]);d.length=0},this.getMembers=function(){return d},e[x]=this,u.bind("elementDraggable",function(t){t.el._jsPlumbGroup===this&&P(t.el)}.bind(this)),this.shouldProxy=function(){return t},u.getGroupManager().addGroup(this)};t.prototype.addGroup=function(t){if(this._groups=this._groups||{},null!=this._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[x])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var e=new i(this,t);return this._groups[e.id]=e,t.collapsed&&this.collapseGroup(e),e},t.prototype.addToGroup=function(n,t,i){var e=function(t){var e=this.getId(t);this.manage(e,t),this.getGroupManager().addToGroup(n,t,i)}.bind(this);if(Array.isArray(t))for(var s=0;s<t.length;s++)e(t[s]);else e(t)},t.prototype.removeFromGroup=function(t,e,n){this.getGroupManager().removeFromGroup(t,e,n)},t.prototype.removeGroup=function(t,e,n,i){this.getGroupManager().removeGroup(t,e,n,i)},t.prototype.removeAllGroups=function(t,e,n){this.getGroupManager().removeAllGroups(t,e,n)},t.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},t.prototype.getGroups=function(){return this.getGroupManager().getGroups()},t.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},t.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},t.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},t.prototype.toggleGroup=function(t){null!=(t=this.getGroupManager().getGroup(t))&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},t.prototype.getGroupManager=function(){var t=this[e];return null==t&&(t=this[e]=new n(this)),t},t.prototype.removeGroupManager=function(){delete this[e]},t.prototype.getGroupFor=function(t){if(t=this.getElement(t))return t[x]}}.call("undefined"!=typeof window?window:this),function(){"use strict";var n=this.jsPlumb,t=this.jsPlumbUtil,S="Straight";n.Connectors.Flowchart=function(t){this.type="Flowchart",(t=t||{}).stub=null==t.stub?30:t.stub;var h,P=n.Connectors.AbstractConnector.apply(this,arguments),d=null==t.midpoint?.5:t.midpoint,p=!0===t.alwaysRespectStubs,f=null,g=null,C=null!=t.cornerRadius?t.cornerRadius:0,e=(t.loopbackRadius,function(t){return t<0?-1:0===t?0:1}),_=function(t){return[e(t[2]-t[0]),e(t[3]-t[1])]},x=function(t,e,n,i){if(f!==e||g!==n){var s=null==f?i.sx:f,o=null==g?i.sy:g,r=s===e?"v":"h";f=e,g=n,t.push([s,o,e,n,r])}},E=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},j=function(t){var e=[];return e.push.apply(e,t),e};this._compute=function(m,u){h=[],g=f=null;var t=function(){return[m.startStubX,m.startStubY,m.endStubX,m.endStubY]},e={perpendicular:t,orthogonal:t,opposite:function(t){var e=m,n="x"===t?0:1;return!p&&{x:function(){return 1===e.so[n]&&(e.startStubX>e.endStubX&&e.tx>e.startStubX||e.sx>e.endStubX&&e.tx>e.sx)||-1===e.so[n]&&(e.startStubX<e.endStubX&&e.tx<e.startStubX||e.sx<e.endStubX&&e.tx<e.sx)},y:function(){return 1===e.so[n]&&(e.startStubY>e.endStubY&&e.ty>e.startStubY||e.sy>e.endStubY&&e.ty>e.sy)||-1===e.so[n]&&(e.startStubY<e.endStubY&&e.ty<e.startStubY||e.sy<e.endStubY&&e.ty<e.sy)}}[t]()?{x:[(m.sx+m.tx)/2,m.startStubY,(m.sx+m.tx)/2,m.endStubY],y:[m.startStubX,(m.sy+m.ty)/2,m.endStubX,(m.sy+m.ty)/2]}[t]:[m.startStubX,m.startStubY,m.endStubX,m.endStubY]}}[m.anchorOrientation](m.sourceAxis),c="x"===m.sourceAxis?0:1,n="x"===m.sourceAxis?1:0,i=e[c],s=e[n],o=e[c+2],r=e[n+2];x(h,e[0],e[1],m);var v=m.startStubX+(m.endStubX-m.startStubX)*d,b=m.startStubY+(m.endStubY-m.startStubY)*d,y={x:[0,1],y:[1,0]},a={perpendicular:function(t){var e=m,n={x:[[e.startStubX,e.endStubX],null,[e.endStubX,e.startStubX]],y:[[e.startStubY,e.endStubY],null,[e.endStubY,e.startStubY]]},i={x:[[v,e.startStubY],[v,e.endStubY]],y:[[e.startStubX,b],[e.endStubX,b]]},s={x:[[e.endStubX,e.startStubY]],y:[[e.startStubX,e.endStubY]]},o={x:[[e.startStubX,e.endStubY],[e.endStubX,e.endStubY]],y:[[e.endStubX,e.startStubY],[e.endStubX,e.endStubY]]},r={x:[[e.startStubX,b],[e.endStubX,b],[e.endStubX,e.endStubY]],y:[[v,e.startStubY],[v,e.endStubY],[e.endStubX,e.endStubY]]},a={x:[e.startStubY,e.endStubY],y:[e.startStubX,e.endStubX]},l=y[t][0],u=y[t][1],c=e.so[l]+1,h=e.to[u]+1,d=-1===e.to[u]&&a[t][1]<a[t][0]||1===e.to[u]&&a[t][1]>a[t][0],p=n[t][c][0],f=n[t][c][1],g={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[t][c][h];return e.segment===g[3]||e.segment===g[2]&&d?i[t]:e.segment===g[2]&&f<p?s[t]:e.segment===g[2]&&p<=f||e.segment===g[1]&&!d?r[t]:e.segment===g[0]||e.segment===g[1]&&d?o[t]:void 0},orthogonal:function(t,e,n,i,s){var o=m,r={x:-1===o.so[0]?Math.min(e,i):Math.max(e,i),y:-1===o.so[1]?Math.min(e,i):Math.max(e,i)}[t];return{x:[[r,n],[r,s],[i,s]],y:[[n,r],[s,r],[s,i]]}[t]},opposite:function(t,e,n,i){var s=m,o={x:"y",y:"x"}[t],r={x:"height",y:"width"}[t],a=s["is"+t.toUpperCase()+"GreaterThanStubTimes2"];if(u.sourceEndpoint.elementId!==u.targetEndpoint.elementId)return!a||1===s.so[c]&&i<e||-1===s.so[c]&&e<i?{x:[[e,b],[i,b]],y:[[v,e],[v,i]]}[t]:1===s.so[c]&&e<i||-1===s.so[c]&&i<e?{x:[[v,s.sy],[v,s.ty]],y:[[s.sx,b],[s.tx,b]]}[t]:void 0;var l=n+(1-u.sourceEndpoint.anchor[o])*u.sourceInfo[r]+P.maxStub;return{x:[[e,l],[i,l]],y:[[l,e],[l,i]]}[t]}}[m.anchorOrientation](m.sourceAxis,i,s,o,r);if(a)for(var l=0;l<a.length;l++)x(h,a[l][0],a[l][1],m);x(h,e[2],e[3],m),x(h,m.tx,m.ty,m),function(t,e,n){for(var i,s,o,r=null,a=0;a<e.length-1;a++){if(r=r||j(e[a]),i=j(e[a+1]),s=_(r),o=_(i),0<C&&r[4]!==i[4]){var l=Math.min(E(r),E(i)),u=Math.min(C,l/2);r[2]-=s[0]*u,r[3]-=s[1]*u,i[0]+=o[0]*u,i[1]+=o[1]*u;var c=s[1]===o[0]&&1===o[0]||s[1]===o[0]&&0===o[0]&&s[0]!==o[1]||s[1]===o[0]&&-1===o[0],h=(i[1]>r[3]?1:-1)==(i[0]>r[2]?1:-1),d=h&&c||!h&&!c?i[0]:r[2],p=h&&c||!h&&!c?r[3]:i[1];P.addSegment(t,S,{x1:r[0],y1:r[1],x2:r[2],y2:r[3]}),P.addSegment(t,"Arc",{r:u,x1:r[2],y1:r[3],x2:i[0],y2:i[1],cx:d,cy:p,ac:c})}else{var f=r[2]===r[0]?0:r[2]>r[0]?n.lw/2:-n.lw/2,g=r[3]===r[1]?0:r[3]>r[1]?n.lw/2:-n.lw/2;P.addSegment(t,S,{x1:r[0]-f,y1:r[1]-g,x2:r[2]+f,y2:r[3]+g})}r=i}null!=i&&P.addSegment(t,S,{x1:i[0],y1:i[1],x2:i[2],y2:i[3]})}(this,h,m)}},t.extend(n.Connectors.Flowchart,n.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil;e.Connectors.AbstractBezierConnector=function(t){var d,p=!1!==(t=t||{}).showLoopback,f=(t.curviness,t.margin||5),g=(t.proximityLimit,t.orientation&&"clockwise"===t.orientation),m=t.loopbackRadius||25;return this._compute=function(t,e){var n=e.sourcePos,i=e.targetPos,s=Math.abs(n[0]-i[0]),o=Math.abs(n[1]-i[1]);if(p&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){!0;var r=e.sourcePos[0],a=e.sourcePos[1]-f,l=r,u=a-m,c=l-m,h=u-m;o=s=2*m,t.points[0]=c,t.points[1]=h,t.points[2]=s,t.points[3]=o,d.addSegment(this,"Arc",{loopback:!0,x1:r-c+4,y1:a-h,startAngle:0,endAngle:2*Math.PI,r:m,ac:!g,x2:r-c-4,y2:a-h,cx:l-c,cy:u-h})}else!1,this._computeBezier(t,e,n,i,s,o)},d=e.Connectors.AbstractConnector.apply(this,arguments)},t.extend(e.Connectors.AbstractBezierConnector,e.Connectors.AbstractConnector);var n=function(t){t=t||{},this.type="Bezier";var d=e.Connectors.AbstractBezierConnector.apply(this,arguments),l=t.curviness||150;this.getCurviness=function(){return l},this._findControlPoint=function(t,e,n,i,s,o,r){var a=[];return o[0]!==r[0]||o[1]===r[1]?(0===r[0]?a.push(n[0]<e[0]?t[0]+10:t[0]-10):a.push(t[0]+l*r[0]),0===r[1]?a.push(n[1]<e[1]?t[1]+10:t[1]-10):a.push(t[1]+l*o[1])):(0===o[0]?a.push(e[0]<n[0]?t[0]+10:t[0]-10):a.push(t[0]-l*o[0]),0===o[1]?a.push(e[1]<n[1]?t[1]+10:t[1]-10):a.push(t[1]+l*r[1])),a},this._computeBezier=function(t,e,n,i,s,o){var r,a,l=n[0]<i[0]?s:0,u=n[1]<i[1]?o:0,c=n[0]<i[0]?0:s,h=n[1]<i[1]?0:o;r=this._findControlPoint([l,u],n,i,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),a=this._findControlPoint([c,h],i,n,e.targetEndpoint,e.sourceEndpoint,t.to,t.so),d.addSegment(this,"Bezier",{x1:l,y1:u,x2:c,y2:h,cp1x:r[0],cp1y:r[1],cp2x:a[0],cp2y:a[1]})}};e.Connectors.Bezier=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,n=function(t){t=t||{},this.type="StateMachine";var I,A=e.Connectors.AbstractBezierConnector.apply(this,arguments),k=t.curviness||10,O=t.margin||5,M=t.proximityLimit||80;t.orientation&&t.orientation;this._computeBezier=function(t,e,n,i,s,o){var r=e.sourcePos[0]<e.targetPos[0]?0:s,a=e.sourcePos[1]<e.targetPos[1]?0:o,l=e.sourcePos[0]<e.targetPos[0]?s:0,u=e.sourcePos[1]<e.targetPos[1]?o:0;0===e.sourcePos[2]&&(r-=O),1===e.sourcePos[2]&&(r+=O),0===e.sourcePos[3]&&(a-=O),1===e.sourcePos[3]&&(a+=O),0===e.targetPos[2]&&(l-=O),1===e.targetPos[2]&&(l+=O),0===e.targetPos[3]&&(u-=O),1===e.targetPos[3]&&(u+=O);var c,h,d,p,f,g,m,v,b,y,P,C,_,x,E,j=(r+l)/2,S=(a+u)/2,D=(g=a,v=u,(f=r)<=(m=l)&&v<=g?1:f<=m&&g<=v?2:m<=f&&g<=v?3:4),w=Math.sqrt(Math.pow(l-r,2)+Math.pow(u-a,2));b=j,y=S,P=D,C=e.sourcePos,_=e.targetPos,E=x=k,c=(I=w<=M?[b,y]:1===P?C[3]<=0&&1<=_[3]?[b+(C[2]<.5?-1*x:x),y]:1<=C[2]&&_[2]<=0?[b,y+(C[3]<.5?-1*E:E)]:[b+-1*x,y+-1*E]:2===P?1<=C[3]&&_[3]<=0?[b+(C[2]<.5?-1*x:x),y]:1<=C[2]&&_[2]<=0?[b,y+(C[3]<.5?-1*E:E)]:[b+x,y+-1*E]:3===P?1<=C[3]&&_[3]<=0?[b+(C[2]<.5?-1*x:x),y]:C[2]<=0&&1<=_[2]?[b,y+(C[3]<.5?-1*E:E)]:[b+-1*x,y+-1*E]:4===P?C[3]<=0&&1<=_[3]?[b+(C[2]<.5?-1*x:x),y]:C[2]<=0&&1<=_[2]?[b,y+(C[3]<.5?-1*E:E)]:[b+x,y+-1*E]:void 0)[0],h=I[0],d=I[1],p=I[1],A.addSegment(this,"Bezier",{x1:l,y1:u,x2:r,y2:a,cp1x:c,cp1y:d,cp2x:h,cp2y:p})}};e.Connectors.StateMachine=n,t.extend(n,e.Connectors.AbstractBezierConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var e=this.jsPlumb,t=this.jsPlumbUtil,i="Straight",n=function(t){this.type=i;var n=e.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,e){n.addSegment(this,i,{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),n.addSegment(this,i,{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),n.addSegment(this,i,{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};e.Connectors.Straight=n,t.extend(n,e.Connectors.AbstractConnector)}.call("undefined"!=typeof window?window:this),function(){"use strict";var h=this.jsPlumb,l=this.jsPlumbUtil,u={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},c="stroke-dasharray",d="dashstyle",n="http://www.w3.org/2000/svg",p=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},f=function(t,e){return(e=e||{}).version="1.1",e.xmlns=n,h.createElementNS(n,t,null,null,e)},g=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},m=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},v=function(t,e,n,i,s){if(e.setAttribute("fill",n.fill?n.fill:"none"),e.setAttribute("stroke",n.stroke?n.stroke:"none"),n.gradient?function(t,e,n,i,s){var o,r="jsplumb_gradient_"+s._jsPlumb.instance.idstamp();m(t),o=n.gradient.offset?f("radialGradient",{id:r}):f("linearGradient",{id:r,gradientUnits:"userSpaceOnUse"});var a=f("defs");t.appendChild(a),a.appendChild(o);for(var l=0;l<n.gradient.stops.length;l++){var u=1===s.segment||2===s.segment?l:n.gradient.stops.length-1-l,c=n.gradient.stops[u][1],h=f("stop",{offset:Math.floor(100*n.gradient.stops[l][0])+"%","stop-color":c});o.appendChild(h)}var d=n.stroke?"stroke":"fill";e.setAttribute(d,"url(#"+r+")")}(t,e,n,0,s):(m(t),e.setAttribute("style","")),n.strokeWidth&&e.setAttribute("stroke-width",n.strokeWidth),n[d]&&n.strokeWidth&&!n[c]){var o=-1===n[d].indexOf(",")?" ":",",r=n[d].split(o),a="";r.forEach(function(t){a+=Math.floor(t*n.strokeWidth)+o}),e.setAttribute(c,a)}else n[c]&&e.setAttribute(c,n[c]);for(var l in u)n[l]&&e.setAttribute(u[l],n[l])},b=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};l.svg={node:f,attr:p,pos:g};var e=function(r){var t=r.pointerEventsSpec||"all",a={};h.jsPlumbUIComponent.apply(this,r.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var e=r.cssClass+" "+(r.originalArgs[0].cssClass||""),n={style:"",width:0,height:0,"pointer-events":t,position:"absolute"};this.svg=f("svg",n),r.useDivWrapper?(this.canvas=h.createElement("div",{position:"absolute"}),l.sizeElement(this.canvas,0,0,1,1),this.canvas.className=e):(p(this.svg,{class:e}),this.canvas=this.svg),r._jsPlumb.appendElement(this.canvas,r.originalArgs[0].parent),r.useDivWrapper&&this.canvas.appendChild(this.svg);var i=[this.canvas];return this.getDisplayElements=function(){return i},this.appendDisplayElement=function(t){i.push(t)},this.paint=function(t,e,n){if(null!=t){var i,s=[this.x,this.y],o=[this.w,this.h];null!=n&&(n.xmin<0&&(s[0]+=n.xmin),n.ymin<0&&(s[1]+=n.ymin),o[0]=n.xmax+(n.xmin<0?-n.xmin:0),o[1]=n.ymax+(n.ymin<0?-n.ymin:0)),i=r.useDivWrapper?(l.sizeElement(this.canvas,s[0],s[1],o[0],o[1]),s[0]=0,s[1]=0,g([0,0])):g([s[0],s[1]]),a.paint.apply(this,arguments),p(this.svg,{style:i,width:o[0]||0,height:o[1]||0})}},{renderer:a}};l.extend(e,h.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),h.ConnectorRenderers.svg=function(u){var c=this;e.apply(this,[{cssClass:u._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:u._jsPlumb}]).renderer.paint=function(t,e,n){var i=c.getSegments(),s=[0,0];if(n.xmin<0&&(s[0]=-n.xmin),n.ymin<0&&(s[1]=-n.ymin),0<i.length){var o={d:c.getPathData(),transform:"translate("+s[0]+","+s[1]+")","pointer-events":u["pointer-events"]||"visibleStroke"},r=null;c.x,c.y,c.w,c.h;if(t.outlineStroke){var a=t.outlineWidth||1,l=t.strokeWidth+2*a;delete(r=h.extend({},t)).gradient,r.stroke=t.outlineStroke,r.strokeWidth=l,null==c.bgPath?(c.bgPath=f("path",o),h.addClass(c.bgPath,h.connectorOutlineClass),b(c.svg,c.bgPath,0)):p(c.bgPath,o),v(c.svg,c.bgPath,r,0,c)}null==c.path?(c.path=f("path",o),b(c.svg,c.path,t.outlineStroke?1:0)):p(c.path,o),v(c.svg,c.path,t,0,c)}}},l.extend(h.ConnectorRenderers.svg,e);var t=h.SvgEndpoint=function(t){e.apply(this,[{cssClass:t._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:t._jsPlumb}]).renderer.paint=function(t){var e=h.extend({},t);e.outlineStroke&&(e.stroke=e.outlineStroke),null==this.node?(this.node=this.makeNode(e),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),v(this.svg,this.node,e,(this.x,this.y,this.w,this.h),this),g(this.node,(this.x,this.y))}.bind(this)};l.extend(t,e),h.Endpoints.svg.Dot=function(){h.Endpoints.Dot.apply(this,arguments),t.apply(this,arguments),this.makeNode=function(t){return f("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){p(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},l.extend(h.Endpoints.svg.Dot,[h.Endpoints.Dot,t]),h.Endpoints.svg.Rectangle=function(){h.Endpoints.Rectangle.apply(this,arguments),t.apply(this,arguments),this.makeNode=function(t){return f("rect",{width:this.w,height:this.h})},this.updateNode=function(t){p(t,{width:this.w,height:this.h})}},l.extend(h.Endpoints.svg.Rectangle,[h.Endpoints.Rectangle,t]),h.Connectors.svg.Flowchart=function(){h.Connectors.Flowchart.apply(this,arguments),h.ConnectorRenderers.svg.apply(this,arguments)},l.extend(h.Connectors.svg.Flowchart,[h.Connectors.Flowchart,h.ConnectorRenderers.svg]),h.Connectors.svg.Bezier=function(){h.Connectors.Bezier.apply(this,arguments),h.ConnectorRenderers.svg.apply(this,arguments)},l.extend(h.Connectors.svg.Bezier,[h.Connectors.Bezier,h.ConnectorRenderers.svg]),h.Connectors.svg.Straight=function(){h.Connectors.Straight.apply(this,arguments),h.ConnectorRenderers.svg.apply(this,arguments)},l.extend(h.Connectors.svg.Straight,[h.Connectors.Straight,h.ConnectorRenderers.svg]),h.Connectors.svg.StateMachine=function(){h.Connectors.StateMachine.apply(this,arguments),h.ConnectorRenderers.svg.apply(this,arguments)},l.extend(h.Connectors.svg.StateMachine,[h.Connectors.StateMachine,h.ConnectorRenderers.svg]),h.Endpoints.svg.Image=h.Endpoints.Image,h.Endpoints.svg.Blank=h.Endpoints.Blank,h.Overlays.svg.Label=h.Overlays.Label,h.Overlays.svg.Custom=h.Overlays.Custom;var i=function(t,s){t.apply(this,s),h.jsPlumbUIComponent.apply(this,s),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=f("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var n=s&&1===s.length&&s[0].cssClass||"",i=[0,0];e.xmin<0&&(i[0]=-e.xmin),e.ymin<0&&(i[1]=-e.ymin),p(this.path,{d:o(t.d),class:n,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+i[0]+","+i[1]+")"})}};var o=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};l.extend(i,[h.jsPlumbUIComponent,h.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,e){this.path&&e.canvas&&e.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),h.Overlays.svg.Arrow=function(){i.apply(this,[h.Overlays.Arrow,arguments])},l.extend(h.Overlays.svg.Arrow,[h.Overlays.Arrow,i]),h.Overlays.svg.PlainArrow=function(){i.apply(this,[h.Overlays.PlainArrow,arguments])},l.extend(h.Overlays.svg.PlainArrow,[h.Overlays.PlainArrow,i]),h.Overlays.svg.Diamond=function(){i.apply(this,[h.Overlays.Diamond,arguments])},l.extend(h.Overlays.svg.Diamond,[h.Overlays.Diamond,i]),h.Overlays.svg.GuideLines=function(){var i,s,o=null,r=this;h.Overlays.GuideLines.apply(this,arguments),this.paint=function(t,e){null==o&&(o=f("path"),t.connector.svg.appendChild(o),r.attachListeners(o,t.connector),r.attachListeners(o,r),i=f("path"),t.connector.svg.appendChild(i),r.attachListeners(i,t.connector),r.attachListeners(i,r),s=f("path"),t.connector.svg.appendChild(s),r.attachListeners(s,t.connector),r.attachListeners(s,r));var n=[0,0];e.xmin<0&&(n[0]=-e.xmin),e.ymin<0&&(n[1]=-e.ymin),p(o,{d:a(t.head,t.tail),stroke:"red",fill:null,transform:"translate("+n[0]+","+n[1]+")"}),p(i,{d:a(t.tailLine[0],t.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+n[0]+","+n[1]+")"}),p(s,{d:a(t.headLine[0],t.headLine[1]),stroke:"green",fill:null,transform:"translate("+n[0]+","+n[1]+")"})};var a=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},l.extend(h.Overlays.svg.GuideLines,h.Overlays.GuideLines)}.call("undefined"!=typeof window?window:this),function(){"use strict";var m=this.jsPlumb,v=this.jsPlumbUtil,o=this.Katavorio,r=this.Biltong,s=function(i,t){var e="_katavorio_"+(t=t||"main"),n=i[e],s=i.getEventManager();return n||((n=new o({bind:s.on,unbind:s.off,getSize:m.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(t,e){var n=i.getOffset(t,e,t._katavorioDrag?t.offsetParent:null);return[n.left,n.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:m.addClass,removeClass:m.removeClass,intersects:r.intersects,indexOf:function(t,e){return t.indexOf(e)},scope:i.getDefaultScope(),css:{noSelect:i.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(i.getZoom()),i[e]=n,i.bind("zoom",n.setZoom)),n};m.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(t){return null==t?null:"string"==typeof(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t)?document.getElementById(t):t},removeElement:function(t){s(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,n){n=n||{};var i,s,o,r=this.getOffset(t),a=(i=r,s=e,[(o=function(t){if(null==s[t])return i[t];if(v.isString(s[t])){var e=s[t].match(/-=/)?-1:1,n=s[t].substring(2);return i[t]+e*n}return s[t]})("left"),o("top")]),l=a[0]-r.left,u=a[1]-r.top,c=n.duration||250,h=c/15,d=15/c*l,p=15/c*u,f=0,g=setInterval(function(){m.setPosition(t,{left:r.left+d*(f+1),top:r.top+p*(f+1)}),null!=n.step&&n.step(f,Math.ceil(h)),h<=++f&&(window.clearInterval(g),null!=n.complete&&n.complete())},15)},destroyDraggable:function(t,e){s(this,e).destroyDraggable(t)},unbindDraggable:function(t,e,n,i){s(this,i).destroyDraggable(t,e,n)},destroyDroppable:function(t,e){s(this,e).destroyDroppable(t)},unbindDroppable:function(t,e,n,i){s(this,i).destroyDroppable(t,e,n)},initDraggable:function(t,e,n){s(this,n).draggable(t,e)},initDroppable:function(t,e,n){s(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,e){return!0},isDropSupported:function(t,e){return!0},isElementDraggable:function(t){return(t=m.getElement(t))._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,e){var n=t[0].el;if(null==n.offsetParent)return null;var i=t[0].finalPos||t[0].pos,s={left:i[0],top:i[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var o=this.getOffset(n.offsetParent);s.left+=o.left,s.top+=o.top}return s},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(t,e){(t=m.getElement(t))._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},setDropScope:function(t,e){t._katavorioDrop&&0<t._katavorioDrop.length&&t._katavorioDrop[0].k.setDropScope(t,e)},addToPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),i=s(this);m.each(t,function(t){(t=[m.getElement(t)]).push.apply(t,n),i.addToPosse.apply(i,t)})},setPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),i=s(this);m.each(t,function(t){(t=[m.getElement(t)]).push.apply(t,n),i.setPosse.apply(i,t)})},removeFromPosse:function(t,e){var n=Array.prototype.slice.call(arguments,1),i=s(this);m.each(t,function(t){(t=[m.getElement(t)]).push.apply(t,n),i.removeFromPosse.apply(i,t)})},removeFromAllPosses:function(t){var e=s(this);m.each(t,function(t){e.removeFromAllPosses(m.getElement(t))})},setPosseState:function(t,e,n){var i=s(this);m.each(t,function(t){i.setPosseState(m.getElement(t),e,n)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){s(this).select(t)},removeFromDragSelection:function(t){s(this).deselect(t)},clearDragSelection:function(){s(this).deselectAll()},trigger:function(t,e,n,i){this.getEventManager().trigger(t,e,n,i)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}});var e;e=m.init,function t(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?e():setTimeout(t,9)}()}.call("undefined"!=typeof window?window:this);
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";o.fn.emulateTransitionEnd=function(t){var e=!1,i=this;o(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||o(i).trigger(o.support.transition.end)},t),this},o(function(){o.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),o.support.transition&&(o.event.special.bsTransitionEnd={bindType:o.support.transition.end,delegateType:o.support.transition.end,handle:function(t){if(o(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(s){"use strict";var e='[data-dismiss="alert"]',a=function(t){s(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){n.detach().trigger("closed.bs.alert").remove()}var i=s(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var n=s("#"===o?[]:o);t&&t.preventDefault(),n.length||(n=i.closest(".alert")),n.trigger(t=s.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),s.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var t=s.fn.alert;s.fn.alert=function(i){return this.each(function(){var t=s(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof i&&e[i].call(t)})},s.fn.alert.Constructor=a,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(s){"use strict";function i(o){return this.each(function(){var t=s(this),e=t.data("bs.button"),i="object"==_typeof(o)&&o;e||t.data("bs.button",e=new n(this,i)),"toggle"==o?e.toggle():o&&e.setState(o)})}var n=function t(e,i){this.$element=s(e),this.options=s.extend({},t.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var e="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",null==n.resetText&&i.data("resetText",i[o]()),setTimeout(s.proxy(function(){i[o](null==n[t]?this.options[t]:n[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=s.fn.button;s.fn.button=i,s.fn.button.Constructor=n,s.fn.button.noConflict=function(){return s.fn.button=t,this},s(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=s(t.target).closest(".btn");i.call(e,"toggle"),s(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){s(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(p){"use strict";function a(n){return this.each(function(){var t=p(this),e=t.data("bs.carousel"),i=p.extend({},c.DEFAULTS,t.data(),"object"==_typeof(n)&&n),o="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new c(this,i)),"number"==typeof n?e.to(n):o?e[o]():i.interval&&e.pause().cycle()})}var c=function(t,e){this.$element=p(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",p.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",p.proxy(this.pause,this)).on("mouseleave.bs.carousel",p.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},c.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(p.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},c.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);if(("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap)return e;var o=(i+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(o)},c.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",this.$items.eq(t))},c.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&p.support.transition&&(this.$element.trigger(p.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),o=e||this.getItemForDirection(t,i),n=this.interval,s="next"==t?"left":"right",a=this;if(o.hasClass("active"))return this.sliding=!1;var r=o[0],l=p.Event("slide.bs.carousel",{relatedTarget:r,direction:s});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,n&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=p(this.$indicators.children()[this.getItemIndex(o)]);h&&h.addClass("active")}var d=p.Event("slid.bs.carousel",{relatedTarget:r,direction:s});return p.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(d)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(d)),n&&this.cycle(),this}};var t=p.fn.carousel;p.fn.carousel=a,p.fn.carousel.Constructor=c,p.fn.carousel.noConflict=function(){return p.fn.carousel=t,this};var e=function(t){var e,i=p(this),o=p(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var n=p.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(n.interval=!1),a.call(o,n),s&&o.data("bs.carousel").to(s),t.preventDefault()}};p(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),p(window).on("load",function(){p('[data-ride="carousel"]').each(function(){var t=p(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function n(t){var e,i=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(i)}function r(o){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),i=a.extend({},l.DEFAULTS,t.data(),"object"==_typeof(o)&&o);!e&&i.toggle&&/show|hide/.test(o)&&(i.toggle=!1),e||t.data("bs.collapse",e=new l(this,i)),"string"==typeof o&&e[o]()})}var l=function t(e,i){this.$element=a(e),this.options=a.extend({},t.DEFAULTS,i),this.$trigger=a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var i=a.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){e&&e.length&&(r.call(e,"hide"),t||e.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return n.call(this);var s=a.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[o](this.$element[0][s])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[e](0).one("bsTransitionEnd",a.proxy(i,this)).emulateTransitionEnd(l.TRANSITION_DURATION):i.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var i=a(e);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var t=a.fn.collapse;a.fn.collapse=r,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var i=n(e),o=i.data("bs.collapse")?"toggle":e.data();r.call(i,o)})}(jQuery),function(a){"use strict";function r(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i=e&&a(e);return i&&i.length?i:t.parent()}function s(o){o&&3===o.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var t=a(this),e=r(t),i={relatedTarget:this};e.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&a.contains(e[0],o.target)||(e.trigger(o=a.Event("hide.bs.dropdown",i)),o.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",i)))))}))}var l='[data-toggle="dropdown"]',o=function(t){a(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.7",o.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var i=r(e),o=i.hasClass("open");if(s(),!o){"ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",s);var n={relatedTarget:this};if(i.trigger(t=a.Event("show.bs.dropdown",n)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),i.toggleClass("open").trigger(a.Event("shown.bs.dropdown",n))}return!1}},o.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=r(e),o=i.hasClass("open");if(!o&&27!=t.which||o&&27==t.which)return 27==t.which&&i.find(l).trigger("focus"),e.trigger("click");var n=i.find(".dropdown-menu li:not(.disabled):visible a");if(n.length){var s=n.index(t.target);38==t.which&&0<s&&s--,40==t.which&&s<n.length-1&&s++,~s||(s=0),n.eq(s).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function(i){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new o(this)),"string"==typeof i&&e[i].call(t)})},a.fn.dropdown.Constructor=o,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",s).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,o.prototype.toggle).on("keydown.bs.dropdown.data-api",l,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(s){"use strict";function a(o,n){return this.each(function(){var t=s(this),e=t.data("bs.modal"),i=s.extend({},r.DEFAULTS,t.data(),"object"==_typeof(o)&&o);e||t.data("bs.modal",e=new r(this,i)),"string"==typeof o?e[o](n):i.show&&e.show(n)})}var r=function(t,e){this.options=e,this.$body=s(document.body),this.$element=s(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,s.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};r.VERSION="3.3.7",r.TRANSITION_DURATION=300,r.BACKDROP_TRANSITION_DURATION=150,r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},r.prototype.show=function(i){var o=this,t=s.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(t){s(t.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=s.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),t&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var e=s.Event("shown.bs.modal",{relatedTarget:i});t?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(r.TRANSITION_DURATION):o.$element.trigger("focus").trigger(e)}))},r.prototype.hide=function(t){t&&t.preventDefault(),t=s.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",s.proxy(this.hideModal,this)).emulateTransitionEnd(r.TRANSITION_DURATION):this.hideModal())},r.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",s.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},r.prototype.resize=function(){this.isShown?s(window).on("resize.bs.modal",s.proxy(this.handleUpdate,this)):s(window).off("resize.bs.modal")},r.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(t){var e=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=s.support.transition&&i;if(this.$backdrop=s(document.createElement("div")).addClass("modal-backdrop "+i).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",s.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){e.removeBackdrop(),t&&t()};s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):n()}else t&&t()},r.prototype.handleUpdate=function(){this.adjustDialog()},r.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},r.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},r.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},r.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},r.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},r.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=s.fn.modal;s.fn.modal=a,s.fn.modal.Constructor=r,s.fn.modal.noConflict=function(){return s.fn.modal=t,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=s(this),i=e.attr("href"),o=s(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),n=o.data("bs.modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},o.data(),e.data());e.is("a")&&t.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(o,n,this)})}(jQuery),function(g){"use strict";var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,i){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),n=o.length;n--;){var s=o[n];if("click"==s)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",r="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var i={},o=this.getDefaults();return this._options&&g.each(this._options,function(t,e){o[t]!=e&&(i[t]=e)}),i},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var i=this,o=this.tip(),n=this.getUID(this.type);this.setContent(),o.attr("id",n),this.$element.attr("aria-describedby",n),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,r=a.test(s);r&&(s=s.replace(a,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),h=o[0].offsetWidth,d=o[0].offsetHeight;if(r){var p=s,c=this.getPosition(this.$viewport);s="bottom"==s&&l.bottom+d>c.bottom?"top":"top"==s&&l.top-d<c.top?"bottom":"right"==s&&l.right+h>c.width?"left":"left"==s&&l.left-h<c.left?"right":s,o.removeClass(p).addClass(s)}var f=this.getCalculatedOffset(s,l,h,d);this.applyPlacement(f,s);var u=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};g.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",u).emulateTransitionEnd(m.TRANSITION_DURATION):u()}},m.prototype.applyPlacement=function(t,e){var i=this.tip(),o=i[0].offsetWidth,n=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top+=s,t.left+=a,g.offset.setOffset(i[0],g.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),i.addClass("in");var r=i[0].offsetWidth,l=i[0].offsetHeight;"top"==e&&l!=n&&(t.top=t.top+n-l);var h=this.getViewportAdjustedDelta(e,t,r,l);h.left?t.left+=h.left:t.top+=h.top;var d=/top|bottom/.test(e),p=d?2*h.left-o+r:2*h.top-n+l,c=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(p,i[0][c],d)},m.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=i.hoverState&&o.detach(),i.$element&&i.$element.removeAttr("aria-describedby").trigger("hidden.bs."+i.type),t&&t()}var i=this,o=g(this.$tip),n=g.Event("hide.bs."+this.type);if(this.$element.trigger(n),!n.isDefaultPrevented())return o.removeClass("in"),g.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],i="BODY"==e.tagName,o=e.getBoundingClientRect();null==o.width&&(o=g.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var n=window.SVGElement&&e instanceof window.SVGElement,s=i?{top:0,left:0}:n?null:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},r=i?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},o,a,r,s)},m.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=g.fn.tooltip;g.fn.tooltip=function(o){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),i="object"==_typeof(o)&&o;!e&&/destroy|hide/.test(o)||(e||t.data("bs.tooltip",e=new m(this,i)),"string"==typeof o&&e[o]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(n){"use strict";var s=function(t,e){this.init("popover",t,e)};if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");s.VERSION="3.3.7",s.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((s.prototype=n.extend({},n.fn.tooltip.Constructor.prototype)).constructor=s).prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=n.fn.popover;n.fn.popover=function(o){return this.each(function(){var t=n(this),e=t.data("bs.popover"),i="object"==_typeof(o)&&o;!e&&/destroy|hide/.test(o)||(e||t.data("bs.popover",e=new s(this,i)),"string"==typeof o&&e[o]())})},n.fn.popover.Constructor=s,n.fn.popover.noConflict=function(){return n.fn.popover=t,this}}(jQuery),function(s){"use strict";function n(t,e){this.$body=s(document.body),this.$scrollElement=s(s(t).is(document.body)?window:t),this.options=s.extend({},n.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",s.proxy(this.process,this)),this.refresh(),this.process()}function e(o){return this.each(function(){var t=s(this),e=t.data("bs.scrollspy"),i="object"==_typeof(o)&&o;e||t.data("bs.scrollspy",e=new n(this,i)),"string"==typeof o&&e[o]()})}n.VERSION="3.3.7",n.DEFAULTS={offset:10},n.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},n.prototype.refresh=function(){var t=this,o="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),s.isWindow(this.$scrollElement[0])||(o="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),i=/^#./.test(e)&&s(e);return i&&i.length&&i.is(":visible")&&[[i[o]().top+n,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},n.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),o<=e)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},n.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=s(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},n.prototype.clear=function(){s(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=s.fn.scrollspy;s.fn.scrollspy=e,s.fn.scrollspy.Constructor=n,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load.bs.scrollspy.data-api",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);e.call(t,t.data())})})}(jQuery),function(r){"use strict";function e(i){return this.each(function(){var t=r(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof i&&e[i]()})}var a=function(t){this.element=r(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=e.find(".active:last a"),n=r.Event("hide.bs.tab",{relatedTarget:t[0]}),s=r.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(n),t.trigger(s),!s.isDefaultPrevented()&&!n.isDefaultPrevented()){var a=r(i);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},a.prototype.activate=function(t,e,i){function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var n=e.find("> .active"),s=i&&r.support.transition&&(n.length&&n.hasClass("fade")||!!e.find("> .fade").length);n.length&&s?n.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o(),n.removeClass("in")};var t=r.fn.tab;r.fn.tab=e,r.fn.tab.Constructor=a,r.fn.tab.noConflict=function(){return r.fn.tab=t,this};var i=function(t){t.preventDefault(),e.call(r(this),"show")};r(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(l){"use strict";function i(o){return this.each(function(){var t=l(this),e=t.data("bs.affix"),i="object"==_typeof(o)&&o;e||t.data("bs.affix",e=new h(this,i)),"string"==typeof o&&e[o]()})}var h=function t(e,i){this.options=l.extend({},t.DEFAULTS,i),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};h.VERSION="3.3.7",h.RESET="affix affix-top affix-bottom",h.DEFAULTS={offset:0,target:window},h.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?n:s.top;return null!=i&&n<=i?"top":null!=o&&t-o<=l+(r?a:e)&&"bottom"},h.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(h.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},h.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},h.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,i=e.top,o=e.bottom,n=Math.max(l(document).height(),l(document.body).height());"object"!=_typeof(e)&&(o=i=e),"function"==typeof i&&(i=e.top(this.$element)),"function"==typeof o&&(o=e.bottom(this.$element));var s=this.getState(n,t,i,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var a="affix"+(s?"-"+s:""),r=l.Event(a+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(h.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:n-t-o})}};var t=l.fn.affix;l.fn.affix=i,l.fn.affix.Constructor=h,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),i.call(t,e)})})}(jQuery);
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(function(oe){var le="left",ae="right",ue="up",se="down",ce="in",pe="out",he="none",de="auto",fe="swipe",ge="pinch",we="tap",ve="doubletap",Te="longtap",be="horizontal",ye="vertical",Se="all",me=10,Ee="start",Oe="move",xe="end",Me="cancel",Pe="ontouchstart"in window,Le=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,De=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,Re="TouchSwipe";function i(e,v){var t=Pe||De||!v.fallbackToMouseEvents,n=t?De?Le?"MSPointerDown":"pointerdown":"touchstart":"mousedown",i=t?De?Le?"MSPointerMove":"pointermove":"touchmove":"mousemove",r=t?De?Le?"MSPointerUp":"pointerup":"touchend":"mouseup",o=t?null:"mouseleave",l=De?Le?"MSPointerCancel":"pointercancel":"touchcancel",T=0,b=null,y=0,S=0,m=0,E=1,O=0,x=0,M=null,a=oe(e),P="start",L=0,D=null,u=0,R=0,s=0,c=0,p=0,h=null,k=null;try{a.bind(n,d),a.bind(l,w)}catch(e){oe.error("events not supported "+n+","+l+" on jQuery.swipe")}function d(e){if(!0!==a.data(Re+"_intouch")&&!(0<oe(e.target).closest(v.excludedElements,a).length)){var t,n,i=e.originalEvent?e.originalEvent:e,r=Pe?i.touches[0]:i;return P=Ee,Pe?L=i.touches.length:e.preventDefault(),x=b=null,E=1,O=m=S=y=T=0,D=function(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),(n={})[le]=te(le),n[ae]=te(ae),n[ue]=te(ue),n[se]=te(se),M=n,Z(),!Pe||L===v.fingers||v.fingers===Se||X()?(K(0,r),u=re(),2==L&&(K(1,i.touches[1]),S=m=ie(D[0].start,D[1].start)),(v.swipeStatus||v.pinchStatus)&&(t=U(i,P))):t=!1,!1===t?(U(i,P=Me),t):(v.hold&&(k=setTimeout(oe.proxy(function(){a.trigger("hold",[i.target]),v.hold&&(t=v.hold.call(a,i,i.target))},this),v.longTapThreshold)),J(!0),null)}}function f(e){var t=e.originalEvent?e.originalEvent:e;if(P!==xe&&P!==Me&&!B()){var n,i,r,o,l,a,u,s,c,p,h,d,f=$(Pe?t.touches[0]:t);if(R=re(),Pe&&(L=t.touches.length),v.hold&&clearTimeout(k),P=Oe,2==L&&(0==S?(K(1,t.touches[1]),S=m=ie(D[0].start,D[1].start)):($(t.touches[1]),m=ie(D[0].end,D[1].end),D[0].end,D[1].end,x=E<1?pe:ce),E=(m/S*1).toFixed(2),O=Math.abs(S-m)),L===v.fingers||v.fingers===Se||!Pe||X()){if(p=f.start,h=f.end,d=function(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),o=Math.round(180*r/Math.PI);o<0&&(o=360-Math.abs(o));return o}(p,h),function(e,t){if(v.allowPageScroll===he||X())e.preventDefault();else{var n=v.allowPageScroll===de;switch(t){case le:(v.swipeLeft&&n||!n&&v.allowPageScroll!=be)&&e.preventDefault();break;case ae:(v.swipeRight&&n||!n&&v.allowPageScroll!=be)&&e.preventDefault();break;case ue:(v.swipeUp&&n||!n&&v.allowPageScroll!=ye)&&e.preventDefault();break;case se:(v.swipeDown&&n||!n&&v.allowPageScroll!=ye)&&e.preventDefault()}}}(e,b=d<=45&&0<=d?le:d<=360&&315<=d?le:135<=d&&d<=225?ae:45<d&&d<135?se:ue),s=f.start,c=f.end,T=Math.round(Math.sqrt(Math.pow(c.x-s.x,2)+Math.pow(c.y-s.y,2))),y=ne(),a=b,u=T,u=Math.max(u,ee(a)),M[a].distance=u,(v.swipeStatus||v.pinchStatus)&&(n=U(t,P)),!v.triggerOnTouchEnd||v.triggerOnTouchLeave){var g=!0;if(v.triggerOnTouchLeave){var w={left:(l=(o=oe(o=this)).offset()).left,right:l.left+o.outerWidth(),top:l.top,bottom:l.top+o.outerHeight()};i=f.end,r=w,g=i.x>r.left&&i.x<r.right&&i.y>r.top&&i.y<r.bottom}!v.triggerOnTouchEnd&&g?P=N(Oe):v.triggerOnTouchLeave&&!g&&(P=N(xe)),P!=Me&&P!=xe||U(t,P)}}else U(t,P=Me);!1===n&&U(t,P=Me)}}function g(e){var t=e.originalEvent;return Pe&&0<t.touches.length?(s=re(),c=event.touches.length+1,!0):(B()&&(L=c),R=re(),y=ne(),j()||!H()?U(t,P=Me):v.triggerOnTouchEnd||0==v.triggerOnTouchEnd&&P===Oe?(e.preventDefault(),U(t,P=xe)):!v.triggerOnTouchEnd&&V()?_(t,P=xe,we):P===Oe&&U(t,P=Me),J(!1),null)}function w(){m=S=u=R=L=0,E=1,Z(),J(!1)}function A(e){var t=e.originalEvent;v.triggerOnTouchLeave&&U(t,P=N(xe))}function I(){a.unbind(n,d),a.unbind(l,w),a.unbind(i,f),a.unbind(r,g),o&&a.unbind(o,A),J(!1)}function N(e){var t=e,n=Q(),i=H(),r=j();return!n||r?t=Me:!i||e!=Oe||v.triggerOnTouchEnd&&!v.triggerOnTouchLeave?!i&&e==xe&&v.triggerOnTouchLeave&&(t=Me):t=xe,t}function U(e,t){var n=void 0;return Y()&&q()||q()?n=_(e,t,fe):(C()&&X()||X())&&!1!==n&&(n=_(e,t,ge)),G()&&z()&&!1!==n?n=_(e,t,ve):y>v.longTapThreshold&&T<me&&v.longTap&&!1!==n?n=_(e,t,Te):1!==L&&Pe||!(isNaN(T)||T<v.threshold)||!V()||!1===n||(n=_(e,t,we)),t===Me&&w(),t===xe&&(Pe?0==e.touches.length&&w():w()),n}function _(e,t,n){var i=void 0;if(n==fe){if(a.trigger("swipeStatus",[t,b||null,T||0,y||0,L,D]),v.swipeStatus&&!1===(i=v.swipeStatus.call(a,e,t,b||null,T||0,y||0,L,D)))return!1;if(t==xe&&Y()){if(a.trigger("swipe",[b,T,y,L,D]),v.swipe&&!1===(i=v.swipe.call(a,e,b,T,y,L,D)))return!1;switch(b){case le:a.trigger("swipeLeft",[b,T,y,L,D]),v.swipeLeft&&(i=v.swipeLeft.call(a,e,b,T,y,L,D));break;case ae:a.trigger("swipeRight",[b,T,y,L,D]),v.swipeRight&&(i=v.swipeRight.call(a,e,b,T,y,L,D));break;case ue:a.trigger("swipeUp",[b,T,y,L,D]),v.swipeUp&&(i=v.swipeUp.call(a,e,b,T,y,L,D));break;case se:a.trigger("swipeDown",[b,T,y,L,D]),v.swipeDown&&(i=v.swipeDown.call(a,e,b,T,y,L,D))}}}if(n==ge){if(a.trigger("pinchStatus",[t,x||null,O||0,y||0,L,E,D]),v.pinchStatus&&!1===(i=v.pinchStatus.call(a,e,t,x||null,O||0,y||0,L,E,D)))return!1;if(t==xe&&C())switch(x){case ce:a.trigger("pinchIn",[x||null,O||0,y||0,L,E,D]),v.pinchIn&&(i=v.pinchIn.call(a,e,x||null,O||0,y||0,L,E,D));break;case pe:a.trigger("pinchOut",[x||null,O||0,y||0,L,E,D]),v.pinchOut&&(i=v.pinchOut.call(a,e,x||null,O||0,y||0,L,E,D))}}return n==we?t!==Me&&t!==xe||(clearTimeout(h),clearTimeout(k),z()&&!G()?(p=re(),h=setTimeout(oe.proxy(function(){p=null,a.trigger("tap",[e.target]),v.tap&&(i=v.tap.call(a,e,e.target))},this),v.doubleTapThreshold)):(p=null,a.trigger("tap",[e.target]),v.tap&&(i=v.tap.call(a,e,e.target)))):n==ve?t!==Me&&t!==xe||(clearTimeout(h),p=null,a.trigger("doubletap",[e.target]),v.doubleTap&&(i=v.doubleTap.call(a,e,e.target))):n==Te&&(t!==Me&&t!==xe||(clearTimeout(h),p=null,a.trigger("longtap",[e.target]),v.longTap&&(i=v.longTap.call(a,e,e.target)))),i}function H(){var e=!0;return null!==v.threshold&&(e=T>=v.threshold),e}function j(){var e=!1;return null!==v.cancelThreshold&&null!==b&&(e=ee(b)-T>=v.cancelThreshold),e}function Q(){return!v.maxTimeThreshold||!(y>=v.maxTimeThreshold)}function C(){var e=W(),t=F(),n=null===v.pinchThreshold||O>=v.pinchThreshold;return e&&t&&n}function X(){return!!(v.pinchStatus||v.pinchIn||v.pinchOut)}function Y(){var e=Q(),t=H(),n=W(),i=F();return!j()&&i&&n&&t&&e}function q(){return!!(v.swipe||v.swipeStatus||v.swipeLeft||v.swipeRight||v.swipeUp||v.swipeDown)}function W(){return L===v.fingers||v.fingers===Se||!Pe}function F(){return 0!==D[0].end.x}function V(){return!!v.tap}function z(){return!!v.doubleTap}function G(){if(null==p)return!1;var e=re();return z()&&e-p<=v.doubleTapThreshold}function Z(){c=s=0}function B(){var e=!1;s&&(re()-s<=v.fingerReleaseThreshold&&(e=!0));return e}function J(e){!0===e?(a.bind(i,f),a.bind(r,g),o&&a.bind(o,A)):(a.unbind(i,f,!1),a.unbind(r,g,!1),o&&a.unbind(o,A,!1)),a.data(Re+"_intouch",!0===e)}function K(e,t){var n=void 0!==t.identifier?t.identifier:0;return D[e].identifier=n,D[e].start.x=D[e].end.x=t.pageX||t.clientX,D[e].start.y=D[e].end.y=t.pageY||t.clientY,D[e]}function $(e){var t=function(e){for(var t=0;t<D.length;t++)if(D[t].identifier==e)return D[t]}(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function ee(e){if(M[e])return M[e].distance}function te(e){return{direction:e,distance:0}}function ne(){return R-u}function ie(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function re(){return(new Date).getTime()}this.enable=function(){return a.bind(n,d),a.bind(l,w),a},this.disable=function(){return I(),a},this.destroy=function(){return I(),a.data(Re,null),a},this.option=function(e,t){if(void 0!==v[e]){if(void 0===t)return v[e];v[e]=t}else oe.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}oe.fn.swipe=function(e){var t=oe(this),n=t.data(Re);if(n&&"string"==typeof e){if(n[e])return n[e].apply(this,Array.prototype.slice.call(arguments,1));oe.error("Method "+e+" does not exist on jQuery.swipe")}else if(!(n||"object"!==_typeof(e)&&e))return function(n){!n||void 0!==n.allowPageScroll||void 0===n.swipe&&void 0===n.swipeStatus||(n.allowPageScroll=he);void 0!==n.click&&void 0===n.tap&&(n.tap=n.click);n||(n={});return n=oe.extend({},oe.fn.swipe.defaults,n),this.each(function(){var e=oe(this),t=e.data(Re);t||(t=new i(this,n),e.data(Re,t))})}.apply(this,arguments);return t},oe.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"},oe.fn.swipe.phases={PHASE_START:Ee,PHASE_MOVE:Oe,PHASE_END:xe,PHASE_CANCEL:Me},oe.fn.swipe.directions={LEFT:le,RIGHT:ae,UP:ue,DOWN:se,IN:ce,OUT:pe},oe.fn.swipe.pageScroll={NONE:he,HORIZONTAL:be,VERTICAL:ye,AUTO:de},oe.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:Se}});
!function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,o=t.ui.mouse.prototype,u=o._mouseInit,n=o._mouseDestroy;o._touchStart=function(o){!e&&this._mouseCapture(o.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,c(o,"mouseover"),c(o,"mousemove"),c(o,"mousedown"))},o._touchMove=function(o){e&&(this._touchMoved=!0,c(o,"mousemove"))},o._touchEnd=function(o){e&&(c(o,"mouseup"),c(o,"mouseout"),this._touchMoved||c(o,"click"),e=!1)},o._mouseInit=function(){var o=this;o.element.bind({touchstart:t.proxy(o,"_touchStart"),touchmove:t.proxy(o,"_touchMove"),touchend:t.proxy(o,"_touchEnd")}),u.call(o)},o._mouseDestroy=function(){var o=this;o.element.unbind({touchstart:t.proxy(o,"_touchStart"),touchmove:t.proxy(o,"_touchMove"),touchend:t.proxy(o,"_touchEnd")}),n.call(o)}}function c(o,t){if(!(1<o.originalEvent.touches.length)){o.preventDefault();var e=o.originalEvent.changedTouches[0],u=document.createEvent("MouseEvents");u.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),o.target.dispatchEvent(u)}}}(jQuery);
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,e){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";function e(t,e){"createCanvas"===t&&(oc=null),nc[t]=e}function b(t){if(null==t||"object"!=_typeof(t))return t;var e=t,i=$u.call(t);if("[object Array]"===i){if(!I(t)){e=[];for(var n=0,r=t.length;n<r;n++)e[n]=b(t[n])}}else if(qu[i]){if(!I(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(n=0,r=t.length;n<r;n++)e[n]=b(t[n])}}}else if(!Yu[i]&&!I(t)&&!w(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=b(t[a]));return e}function p(t,e,i){if(!E(e)||!E(t))return i?b(e):t;for(var n in e)if(e.hasOwnProperty(n)){var r=t[n],o=e[n];!E(o)||!E(r)||O(o)||O(r)||w(o)||w(r)||a(o)||a(r)||I(o)||I(r)?!i&&n in t||(t[n]=b(e[n])):p(r,o,i)}return t}function u(t,e){for(var i=t[0],n=1,r=t.length;n<r;n++)i=p(i,t[n],e);return i}function D(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function T(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function n(){return oc||(oc=rc().getContext("2d")),oc}function f(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function o(t,e){function i(){}var n=t.prototype;for(var r in i.prototype=e.prototype,t.prototype=new i,n)t.prototype[r]=n[r];(t.prototype.constructor=t).superClass=e}function r(t,e,i){T(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)}function z(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function R(t,e,i){if(t&&e)if(t.forEach&&t.forEach===Qu)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,r=t.length;n<r;n++)e.call(i,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function A(t,e,i){if(t&&e){if(t.map&&t.map===ec)return t.map(e,i);for(var n=[],r=0,o=t.length;r<o;r++)n.push(e.call(i,t[r],r,t));return n}}function g(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===ic)return t.reduce(e,i,n);for(var r=0,o=t.length;r<o;r++)i=e.call(n,i,t[r],r,t);return i}}function m(t,e,i){if(t&&e){if(t.filter&&t.filter===Ju)return t.filter(e,i);for(var n=[],r=0,o=t.length;r<o;r++)e.call(i,t[r],r,t)&&n.push(t[r]);return n}}function x(t,e){var i=tc.call(arguments,2);return function(){return t.apply(e,i.concat(tc.call(arguments)))}}function v(t){var e=tc.call(arguments,1);return function(){return t.apply(this,e.concat(tc.call(arguments)))}}function O(t){return"[object Array]"===$u.call(t)}function y(t){return"function"==typeof t}function S(t){return"[object String]"===$u.call(t)}function E(t){var e=_typeof(t);return"function"===e||!!t&&"object"==e}function a(t){return!!Yu[$u.call(t)]}function _(t){return!!qu[$u.call(t)]}function w(t){return"object"==_typeof(t)&&"number"==typeof t.nodeType&&"object"==_typeof(t.ownerDocument)}function M(t){return t!=t}function k(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function P(t,e){return null!=t?t:e}function L(t,e,i){return null!=t?t:null!=e?e:i}function s(){return Function.call.apply(tc,arguments)}function l(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function c(t,e){if(!t)throw new Error(e)}function h(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function d(t){t[ac]=!0}function I(t){return t[ac]}function C(t){function e(t,e){i?n.set(t,e):n.set(e,t)}var i=O(t),n=this;t instanceof C?t.each(e):t&&R(t,e)}function N(t){return new C(t)}function B(){}function i(t,e){var i=new lc(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function V(t,e){return t[0]=e[0],t[1]=e[1],t}function F(t){var e=new lc(2);return e[0]=t[0],e[1]=t[1],e}function H(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function G(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function W(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function Z(t){return Math.sqrt(U(t))}function U(t){return t[0]*t[0]+t[1]*t[1]}function X(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function j(t,e){var i=Z(e);return t[1]=0===i?t[0]=0:(t[0]=e[0]/i,e[1]/i),t}function Y(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function q(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function $(t,e,i){var n=e[0],r=e[1];return t[0]=i[0]*n+i[2]*r+i[4],t[1]=i[1]*n+i[3]*r+i[5],t}function K(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function Q(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function J(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function tt(t,e){return{target:t,topTarget:e&&e.topTarget}}function et(){}function it(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,i))return!1;r.silent&&(n=!0),r=r.parent}return!n||mc}return!1}function nt(){var t=new _c(6);return rt(t),t}function rt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function ot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function at(t,e,i){var n=e[0]*i[0]+e[2]*i[1],r=e[1]*i[0]+e[3]*i[1],o=e[0]*i[2]+e[2]*i[3],a=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],l=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function st(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function lt(t,e,i){var n=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],h=Math.sin(i),u=Math.cos(i);return t[0]=n*u+a*h,t[1]=-n*h+a*u,t[2]=r*u+s*h,t[3]=-r*h+u*s,t[4]=u*o+h*l,t[5]=u*l-h*o,t}function ht(t,e,i){var n=i[0],r=i[1];return t[0]=e[0]*n,t[1]=e[1]*r,t[2]=e[2]*n,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*r,t}function ut(t,e){var i=e[0],n=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=i*a-o*n;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*s-a*r)*l,t[5]=(o*r-i*s)*l,t):null}function ct(t){return 5e-5<t||t<-5e-5}function dt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function ft(t){return(t=Math.round(t))<0?0:255<t?255:t}function pt(t){return t<0?0:1<t?1:t}function gt(t){return ft(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function mt(t){return pt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function vt(t,e,i){return i<0?i+=1:1<i&&(i-=1),6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function yt(t,e,i){return t+(e-t)*i}function _t(t,e,i,n,r){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t}function xt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function wt(t,e){Oc&&xt(Oc,e),Oc=Lc.put(t,Oc||e.slice())}function bt(t,e){if(t){e=e||[];var i=Lc.get(t);if(i)return xt(e,i);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in Pc)return xt(e,Pc[n]),wt(t,e),e;if("#"!==n.charAt(0)){var r=n.indexOf("("),o=n.indexOf(")");if(-1!==r&&o+1===n.length){var a=n.substr(0,r),s=n.substr(r+1,o-(r+1)).split(","),l=1;switch(a){case"rgba":if(4!==s.length)return void _t(e,0,0,0,1);l=mt(s.pop());case"rgb":return 3!==s.length?void _t(e,0,0,0,1):(_t(e,gt(s[0]),gt(s[1]),gt(s[2]),l),wt(t,e),e);case"hsla":return 4!==s.length?void _t(e,0,0,0,1):(s[3]=mt(s[3]),St(s,e),wt(t,e),e);case"hsl":return 3!==s.length?void _t(e,0,0,0,1):(St(s,e),wt(t,e),e);default:return}}_t(e,0,0,0,1)}else{if(4===n.length)return 0<=(h=parseInt(n.substr(1),16))&&h<=4095?(_t(e,(3840&h)>>4|(3840&h)>>8,240&h|(240&h)>>4,15&h|(15&h)<<4,1),wt(t,e),e):void _t(e,0,0,0,1);if(7===n.length){var h=parseInt(n.substr(1),16);return 0<=h&&h<=16777215?(_t(e,(16711680&h)>>16,(65280&h)>>8,255&h,1),wt(t,e),e):void _t(e,0,0,0,1)}}}}function St(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=mt(t[1]),r=mt(t[2]),o=r<=.5?r*(n+1):r+n-r*n,a=2*r-o;return _t(e=e||[],ft(255*vt(a,o,i+1/3)),ft(255*vt(a,o,i)),ft(255*vt(a,o,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Mt(t,e){var i=bt(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,255<i[n]?i[n]=255:t[n]<0&&(i[n]=0);return At(i,4===i.length?"rgba":"rgb")}}function It(t){var e=bt(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function Ct(t,e,i){if(e&&e.length&&0<=t&&t<=1){i=i||[];var n=t*(e.length-1),r=Math.floor(n),o=Math.ceil(n),a=e[r],s=e[o],l=n-r;return i[0]=ft(yt(a[0],s[0],l)),i[1]=ft(yt(a[1],s[1],l)),i[2]=ft(yt(a[2],s[2],l)),i[3]=pt(yt(a[3],s[3],l)),i}}function Tt(t,e,i){if(e&&e.length&&0<=t&&t<=1){var n=t*(e.length-1),r=Math.floor(n),o=Math.ceil(n),a=bt(e[r]),s=bt(e[o]),l=n-r,h=At([ft(yt(a[0],s[0],l)),ft(yt(a[1],s[1],l)),ft(yt(a[2],s[2],l)),pt(yt(a[3],s[3],l))],"rgba");return i?{color:h,leftIndex:r,rightIndex:o,value:n}:h}}function Dt(t,e){if((t=bt(t))&&null!=e)return t[3]=pt(e),At(t,"rgba")}function At(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}function kt(t,e){return t[e]}function Pt(t,e,i){t[e]=i}function Lt(t,e,i){return(e-t)*i+t}function Ot(t,e,i){return.5<i?e:t}function zt(t,e,i,n,r){var o=t.length;if(1==r)for(s=0;s<o;s++)n[s]=Lt(t[s],e[s],i);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var l=0;l<a;l++)n[s][l]=Lt(t[s][l],e[s][l],i)}function Et(t,e,i){var n=t.length,r=e.length;if(n!==r)if(r<n)t.length=r;else for(a=n;a<r;a++)t.push(1===i?e[a]:Rc.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===i)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function Nt(t,e,i){if(t===e)return!0;var n=t.length;if(n!==e.length)return!1;if(1===i){for(o=0;o<n;o++)if(t[o]!==e[o])return!1}else for(var r=t[0].length,o=0;o<n;o++)for(var a=0;a<r;a++)if(t[o][a]!==e[o][a])return!1;return!0}function Rt(t,e,i,n,r,o,a,s,l){var h=t.length;if(1==l)for(c=0;c<h;c++)s[c]=Bt(t[c],e[c],i[c],n[c],r,o,a);else for(var u=t[0].length,c=0;c<h;c++)for(var d=0;d<u;d++)s[c][d]=Bt(t[c][d],e[c][d],i[c][d],n[c][d],r,o,a)}function Bt(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}function Vt(t){if(z(t)){var e=t.length;if(z(t[0])){for(var i=[],n=0;n<e;n++)i.push(Rc.call(t[n]));return i}return Rc.call(t)}return t}function Ft(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Ht(t,e,i,n,o,r){var a,s,l=t._getter,h=t._setter,u="spline"===e,c=n.length;if(c){var d,f=z(n[0].value),p=!1,g=!1,m=f?z((s=(a=n)[a.length-1].value)&&s[0])?2:1:0;n.sort(function(t,e){return t.time-e.time}),d=n[c-1].time;for(var v=[],y=[],_=n[0].value,x=!0,w=0;w<c;w++){v.push(n[w].time/d);var b=n[w].value;if(f&&Nt(b,_,m)||!f&&b===_||(x=!1),"string"==typeof(_=b)){var S=bt(b);S?(b=S,p=!0):g=!0}y.push(b)}if(r||!x){var M=y[c-1];for(w=0;w<c-1;w++)f?Et(y[w],M,m):!isNaN(y[w])||isNaN(M)||g||p||(y[w]=M);f&&Et(l(t._target,o),M,m);var I,C,T,D,A,k=0,P=0;if(p)var L=[0,0,0,0];var O=new dt({target:t._target,life:d,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<P){for(i=Math.min(k+1,c-1);0<=i&&!(v[i]<=e);i--);i=Math.min(i,c-2)}else{for(i=k;i<c&&!(v[i]>e);i++);i=Math.min(i-1,c-2)}P=e;var n=v[(k=i)+1]-v[i];if(0!==n)if(I=(e-v[i])/n,u)if(T=y[i],C=y[0===i?i:i-1],D=y[c-2<i?c-1:i+1],A=y[c-3<i?c-1:i+2],f)Rt(C,T,D,A,I,I*I,I*I*I,l(t,o),m);else{if(p)r=Rt(C,T,D,A,I,I*I,I*I*I,L,1),r=Ft(L);else{if(g)return Ot(T,D,I);r=Bt(C,T,D,A,I,I*I,I*I*I)}h(t,o,r)}else if(f)zt(y[i],y[i+1],I,l(t,o),m);else{var r;if(p)zt(y[i],y[i+1],I,L,1),r=Ft(L);else{if(g)return Ot(y[i],y[i+1],I);r=Lt(y[i],y[i+1],I)}h(t,o,r)}},ondestroy:i});return e&&"spline"!==e&&(O.easing=e),O}}}function Gt(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}function Wt(t,e,i,n){var r=e+1;if(r===i)return 1;if(n(t[r++],t[e])<0){for(;r<i&&n(t[r],t[r-1])<0;)r++;!function(t,e,i){for(i--;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,r)}else for(;r<i&&0<=n(t[r],t[r-1]);)r++;return r-e}function Zt(t,e,i,n,r){for(n===e&&n++;n<i;n++){for(var o,a=t[n],s=e,l=n;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var h=n-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<h;)t[s+h]=t[s+h-1],h--}t[s]=a}}function Ut(t,e,i,n,r,o){var a=0,s=0,l=1;if(0<o(t,e[i+r])){for(s=n-r;l<s&&0<o(t,e[i+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[i+r-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var h=a;a=r-l,l=r-h}for(a++;a<l;){var u=a+(l-a>>>1);0<o(t,e[i+u])?a=u+1:l=u}return l}function Xt(t,e,i,n,r,o){var a=0,s=0,l=1;if(o(t,e[i+r])<0){for(s=r+1;l<s&&o(t,e[i+r-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s);var h=a;a=r-l,l=r-h}else{for(s=n-r;l<s&&0<=o(t,e[i+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[i+u])<0?l=u:a=u+1}return l}function jt(p,g){function e(t){var e=a[t],i=s[t],n=a[t+1],r=s[t+1];s[t]=i+r,t===l-3&&(a[t+1]=a[t+2],s[t+1]=s[t+2]),l--;var o=Xt(p[n],p,e,i,0,g);e+=o,0!=(i-=o)&&0!==(r=Ut(p[e+i-1],p,n,r,r-1,g))&&(i<=r?function(t,e,i,n){var r=0;for(r=0;r<e;r++)v[r]=p[t+r];var o=0,a=i,s=t;if(p[s++]=p[a++],0!=--n)if(1!==e){for(var l,h,u,c=m;;){h=l=0,u=!1;do{if(g(p[a],v[o])<0){if(p[s++]=p[a++],h++,(l=0)==--n){u=!0;break}}else if(p[s++]=v[o++],l++,h=0,1==--e){u=!0;break}}while((l|h)<c);if(u)break;do{if(0!==(l=Xt(p[a],v,o,e,0,g))){for(r=0;r<l;r++)p[s+r]=v[o+r];if(s+=l,o+=l,(e-=l)<=1){u=!0;break}}if(p[s++]=p[a++],0==--n){u=!0;break}if(0!==(h=Ut(v[o],p,a,n,0,g))){for(r=0;r<h;r++)p[s+r]=p[a+r];if(s+=h,a+=h,0==(n-=h)){u=!0;break}}if(p[s++]=v[o++],1==--e){u=!0;break}c--}while(Jc<=l||Jc<=h);if(u)break;c<0&&(c=0),c+=2}if((m=c)<1&&(m=1),1===e){for(r=0;r<n;r++)p[s+r]=p[a+r];p[s+n]=v[o]}else{if(0===e)throw new Error;for(r=0;r<e;r++)p[s+r]=v[o+r]}}else{for(r=0;r<n;r++)p[s+r]=p[a+r];p[s+n]=v[o]}else for(r=0;r<e;r++)p[s+r]=v[o+r]}(e,i,n,r):function(t,e,i,n){var r=0;for(r=0;r<n;r++)v[r]=p[i+r];var o=t+e-1,a=n-1,s=i+n-1,l=0,h=0;if(p[s--]=p[o--],0!=--e)if(1!==n){for(var u=m;;){var c=0,d=0,f=!1;do{if(g(v[a],p[o])<0){if(p[s--]=p[o--],c++,(d=0)==--e){f=!0;break}}else if(p[s--]=v[a--],d++,c=0,1==--n){f=!0;break}}while((c|d)<u);if(f)break;do{if(0!=(c=e-Xt(v[a],p,t,e,e-1,g))){for(e-=c,h=1+(s-=c),l=1+(o-=c),r=c-1;0<=r;r--)p[h+r]=p[l+r];if(0===e){f=!0;break}}if(p[s--]=v[a--],1==--n){f=!0;break}if(0!=(d=n-Ut(p[o],v,0,n,n-1,g))){for(n-=d,h=1+(s-=d),l=1+(a-=d),r=0;r<d;r++)p[h+r]=v[l+r];if(n<=1){f=!0;break}}if(p[s--]=p[o--],0==--e){f=!0;break}u--}while(Jc<=c||Jc<=d);if(f)break;u<0&&(u=0),u+=2}if((m=u)<1&&(m=1),1===n){for(h=1+(s-=e),l=1+(o-=e),r=e-1;0<=r;r--)p[h+r]=p[l+r];p[s]=v[a]}else{if(0===n)throw new Error;for(l=s-(n-1),r=0;r<n;r++)p[l+r]=v[r]}}else{for(h=1+(s-=e),l=1+(o-=e),r=e-1;0<=r;r--)p[h+r]=p[l+r];p[s]=v[a]}else for(l=s-(n-1),r=0;r<n;r++)p[l+r]=v[r]}(e,i,n,r))}var a,s,m=Jc,l=0,v=[];a=[],s=[],this.mergeRuns=function(){for(;1<l;){var t=l-2;if(1<=t&&s[t-1]<=s[t]+s[t+1]||2<=t&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<l;){var t=l-2;0<t&&s[t-1]<s[t+1]&&t--,e(t)}},this.pushRun=function(t,e){a[l]=t,s[l]=e,l+=1}}function Yt(t,e,i,n){i||(i=0),n||(n=t.length);var r=n-i;if(!(r<2)){var o=0;if(r<Qc)return void Zt(t,i,n,i+(o=Wt(t,i,n,e)),e);var a=new jt(t,e),s=function(t){for(var e=0;Qc<=t;)e|=1&t,t>>=1;return t+e}(r);do{if((o=Wt(t,i,n,e))<s){var l=r;s<l&&(l=s),Zt(t,i,i+l,i+o,e),o=l}a.pushRun(i,o),a.mergeRuns(),r-=o,i+=o}while(0!==r);a.forceMergeRuns()}}function qt(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function $t(){return!1}function Kt(t,e,i){var n=rc(),r=e.getWidth(),o=e.getHeight(),a=n.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=r+"px",a.height=o+"px",n.setAttribute("data-zr-dom-id",t)),n.width=r*i,n.height=o*i,n}function Qt(t){if("string"!=typeof t)return t;var e=cd.get(t);return e&&e.image}function Jt(t,e,i,n,r){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!i)return e;var o=cd.get(t),a={hostEl:i,cb:n,cbPayload:r};return o?!ee(e=o.image)&&o.pending.push(a):(!e&&(e=new Image),e.onload=te,cd.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return e}function te(){var t=this.__cachedImgObj;this.onload=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function ee(t){return t&&t.width&&t.height}function ie(t,e){var i,n,r=t+":"+(e=e||md);if(dd[r])return dd[r];for(var o=(t+"").split("\n"),a=0,s=0,l=o.length;s<l;s++)a=Math.max((i=o[s],n=e,vd.measureText(i,n)).width,a);return pd<fd&&(fd=0,dd={}),fd++,dd[r]=a}function ne(t,e,i,n,r,o,a){return o?(l=n,h=fe(t,{rich:o,truncate:a,font:e,textAlign:s=i,textPadding:r}),u=h.outerWidth,c=h.outerHeight,new Gt(re(0,u,s),oe(0,c,l),u,c)):function(t,e,i,n,r,o){var a=de(t,e,r,o),s=ie(t,e);r&&(s+=r[1]+r[3]);var l=a.outerHeight,h=new Gt(re(0,s,i),oe(0,l,n),s,l);return h.lineHeight=a.lineHeight,h}(t,e,i,n,r,a);var s,l,h,u,c}function re(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function oe(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function ae(t,e,i){var n=e.x,r=e.y,o=e.height,a=e.width,s=o/2,l="left",h="top";switch(t){case"left":n-=i,r+=s,l="right",h="middle";break;case"right":n+=i+a,r+=s,h="middle";break;case"top":n+=a/2,r-=i,l="center",h="bottom";break;case"bottom":n+=a/2,r+=o+i,l="center";break;case"inside":n+=a/2,r+=s,l="center",h="middle";break;case"insideLeft":n+=i,r+=s,h="middle";break;case"insideRight":n+=a-i,r+=s,l="right",h="middle";break;case"insideTop":n+=a/2,r+=i,l="center";break;case"insideBottom":n+=a/2,r+=o-i,l="center",h="bottom";break;case"insideTopLeft":n+=i,r+=i;break;case"insideTopRight":n+=a-i,r+=i,l="right";break;case"insideBottomLeft":n+=i,r+=o-i,h="bottom";break;case"insideBottomRight":n+=a-i,r+=o-i,l="right",h="bottom"}return{x:n,y:r,textAlign:l,textVerticalAlign:h}}function se(t,e,i,n,r){if(!e)return"";var o=(t+"").split("\n");r=le(e,i,n,r);for(var a=0,s=o.length;a<s;a++)o[a]=he(o[a],r);return o.join("\n")}function le(t,e,i,n){(n=D({},n)).font=e;i=P(i,"...");n.maxIterations=P(n.maxIterations,2);var r=n.minChar=P(n.minChar,0);n.cnCharWidth=ie("国",e);var o=n.ascCharWidth=ie("a",e);n.placeholder=P(n.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<r&&o<=a;s++)a-=o;var l=ie(i);return a<l&&(i="",l=0),a=t-l,n.ellipsis=i,n.ellipsisWidth=l,n.contentWidth=a,n.containerWidth=t,n}function he(t,e){var i=e.containerWidth,n=e.font,r=e.contentWidth;if(!i)return"";var o=ie(t,n);if(o<=i)return t;for(var a=0;;a++){if(o<=r||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?ue(t,r,e.ascCharWidth,e.cnCharWidth):0<o?Math.floor(t.length*r/o):0;o=ie(t=t.substr(0,s),n)}return""===t&&(t=e.placeholder),t}function ue(t,e,i,n){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?i:n}return o}function ce(t){return ie("国",t)}function de(t,e,i,n){null!=t&&(t+="");var r=ce(e),o=t?t.split("\n"):[],a=o.length*r,s=a;if(i&&(s+=i[0]+i[2]),t&&n){var l=n.outerHeight,h=n.outerWidth;if(null!=l&&l<s)t="",o=[];else if(null!=h)for(var u=le(h-(i?i[1]+i[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),c=0,d=o.length;c<d;c++)o[c]=he(o[c],u)}return{lines:o,height:a,outerHeight:s,lineHeight:r}}function fe(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,r=gd.lastIndex=0;null!=(n=gd.exec(t));){var o=n.index;r<o&&pe(i,t.substring(r,o)),pe(i,n[2],n[1]),r=gd.lastIndex}r<t.length&&pe(i,t.substring(r,t.length));var a=i.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;for(u&&(null!=d&&(d-=u[1]+u[3]),null!=f&&(f-=u[0]+u[2])),D=0;D<a.length;D++){for(var p=a[D],g=0,m=0,v=0;v<p.tokens.length;v++){var y=(A=p.tokens[v]).styleName&&e.rich[A.styleName]||{},_=A.textPadding=y.textPadding,x=A.font=y.font||e.font,w=A.textHeight=P(y.textHeight,ce(x));if(_&&(w+=_[0]+_[2]),A.height=w,A.lineHeight=L(y.textLineHeight,e.textLineHeight,w),A.textAlign=y&&y.textAlign||e.textAlign,A.textVerticalAlign=y&&y.textVerticalAlign||"middle",null!=f&&s+A.lineHeight>f)return{lines:[],width:0,height:0};A.textWidth=ie(A.text,x);var b=y.textWidth,S=null==b||"auto"===b;if("string"==typeof b&&"%"===b.charAt(b.length-1))A.percentWidth=b,h.push(A),b=0;else{if(S){b=A.textWidth;var M=y.textBackgroundColor,I=M&&M.image;I&&ee(I=Qt(I))&&(b=Math.max(b,I.width*w/I.height))}var C=_?_[1]+_[3]:0;b+=C;var T=null!=d?d-m:null;null!=T&&T<b&&(!S||T<C?(A.text="",A.textWidth=b=0):(A.text=se(A.text,T-C,x,c.ellipsis,{minChar:c.minChar}),A.textWidth=ie(A.text,x),b=A.textWidth+C))}m+=A.width=b,y&&(g=Math.max(g,A.lineHeight))}p.width=m,s+=p.lineHeight=g,l=Math.max(l,m)}i.outerWidth=i.width=P(e.textWidth,l),i.outerHeight=i.height=P(e.textHeight,s),u&&(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]);for(var D=0;D<h.length;D++){var A=h[D],k=A.percentWidth;A.width=parseInt(k,10)/100*l}return i}function pe(t,e,i){for(var n=""===e,r=e.split("\n"),o=t.lines,a=0;a<r.length;a++){var s=r[a],l={styleName:i,text:s,isLineHolder:!s&&!n};if(a)o.push({tokens:[l]});else{var h=(o[o.length-1]||(o[0]={tokens:[]})).tokens,u=h.length;1===u&&h[0].isLineHolder?h[0]=l:(s||!u||n)&&h.push(l)}}}function ge(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&h(e)||t.textFont||t.font}function me(t,e){var i,n,r,o,a,s=e.x,l=e.y,h=e.width,u=e.height,c=e.r;h<0&&(s+=h,h=-h),u<0&&(l+=u,u=-u),"number"==typeof c?i=n=r=o=c:c instanceof Array?1===c.length?i=n=r=o=c[0]:2===c.length?(i=r=c[0],n=o=c[1]):3===c.length?(i=c[0],n=o=c[1],r=c[2]):(i=c[0],n=c[1],r=c[2],o=c[3]):i=n=r=o=0,h<i+n&&(i*=h/(a=i+n),n*=h/a),h<r+o&&(r*=h/(a=r+o),o*=h/a),u<n+r&&(n*=u/(a=n+r),r*=u/a),u<i+o&&(i*=u/(a=i+o),o*=u/a),t.moveTo(s+i,l),t.lineTo(s+h-n,l),0!==n&&t.arc(s+h-n,l+n,n,-Math.PI/2,0),t.lineTo(s+h,l+u-r),0!==r&&t.arc(s+h-r,l+u-r,r,0,Math.PI/2),t.lineTo(s+o,l+u),0!==o&&t.arc(s+o,l+u-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}function ve(t){return ye(t),R(t.rich,ye),t}function ye(t){if(t){t.font=ge(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||yd[e]?e:"left";var i=t.textVerticalAlign||t.textBaseline;"center"===i&&(i="middle"),t.textVerticalAlign=null==i||_d[i]?i:"top",t.textPadding&&(t.textPadding=l(t.textPadding))}}function _e(t,e,i,n,r){var o,a,s,l,h,u;n.rich?(a=e,s=i,l=n,h=r,(u=(o=t).__textCotentBlock)&&!o.__dirty||(u=o.__textCotentBlock=fe(s,l)),function(t,e,i,n,r){var o=i.width,a=i.outerWidth,s=i.outerHeight,l=n.textPadding,h=Ie(s,n,r),u=h.baseX,c=h.baseY,d=h.textAlign,f=h.textVerticalAlign;xe(e,n,r,u,c);var p=re(u,a,d),g=oe(c,s,f),m=p,v=g;l&&(m+=l[3],v+=l[0]);var y=m+o;be(n)&&Se(t,e,n,p,g,a,s);for(var _=0;_<i.lines.length;_++){for(var x,w=i.lines[_],b=w.tokens,S=b.length,M=w.lineHeight,I=w.width,C=0,T=m,D=y,A=S-1;C<S&&(!(x=b[C]).textAlign||"left"===x.textAlign);)we(t,e,x,n,M,v,T,"left"),I-=x.width,T+=x.width,C++;for(;0<=A&&"right"===(x=b[A]).textAlign;)we(t,e,x,n,M,v,D,"right"),I-=x.width,D-=x.width,A--;for(T+=(o-(T-m)-(y-D)-I)/2;C<=A;)we(t,e,x=b[C],n,M,v,T+x.width/2,"center"),T+=x.width,C++;v+=M}}(o,a,u,l,h)):function(t,e,i,n,r){var o=Ce(e,"font",n.font||md),a=n.textPadding,s=t.__textCotentBlock;s&&!t.__dirty||(s=t.__textCotentBlock=de(i,o,a,n.truncate));var l=s.outerHeight,h=s.lines,u=s.lineHeight,c=Ie(l,n,r),d=c.baseX,f=c.baseY,p=c.textAlign,g=c.textVerticalAlign;xe(e,n,r,d,f);var m=oe(f,l,g),v=d,y=m,_=be(n);if(_||a){var x=ie(i,o);a&&(x+=a[1]+a[3]);var w=re(d,x,p);_&&Se(t,e,n,w,m,x,l),a&&(v=ke(d,p,a),y+=a[0])}Ce(e,"textAlign",p||"left"),Ce(e,"textBaseline","middle"),Ce(e,"shadowBlur",n.textShadowBlur||0),Ce(e,"shadowColor",n.textShadowColor||"transparent"),Ce(e,"shadowOffsetX",n.textShadowOffsetX||0),Ce(e,"shadowOffsetY",n.textShadowOffsetY||0),y+=u/2;var b=n.textStrokeWidth,S=Te(n.textStroke,b),M=De(n.textFill);S&&(Ce(e,"lineWidth",b),Ce(e,"strokeStyle",S)),M&&Ce(e,"fillStyle",M);for(var I=0;I<h.length;I++)S&&e.strokeText(h[I],v,y),M&&e.fillText(h[I],v,y),y+=u}(t,e,i,n,r)}function xe(t,e,i,n,r){if(i&&e.textRotation){var o=e.textOrigin;"center"===o?(n=i.width/2+i.x,r=i.height/2+i.y):o&&(n=o[0]+i.x,r=o[1]+i.y),t.translate(n,r),t.rotate(-e.textRotation),t.translate(-n,-r)}}function we(t,e,i,n,r,o,a,s){var l=n.rich[i.styleName]||{},h=i.textVerticalAlign,u=o+r/2;"top"===h?u=o+i.height/2:"bottom"===h&&(u=o+r-i.height/2),!i.isLineHolder&&be(l)&&Se(t,e,l,"right"===s?a-i.width:"center"===s?a-i.width/2:a,u-i.height/2,i.width,i.height);var c=i.textPadding;c&&(a=ke(a,s,c),u-=i.height/2-c[2]-i.textHeight/2),Ce(e,"shadowBlur",L(l.textShadowBlur,n.textShadowBlur,0)),Ce(e,"shadowColor",l.textShadowColor||n.textShadowColor||"transparent"),Ce(e,"shadowOffsetX",L(l.textShadowOffsetX,n.textShadowOffsetX,0)),Ce(e,"shadowOffsetY",L(l.textShadowOffsetY,n.textShadowOffsetY,0)),Ce(e,"textAlign",s),Ce(e,"textBaseline","middle"),Ce(e,"font",i.font||md);var d=Te(l.textStroke||n.textStroke,p),f=De(l.textFill||n.textFill),p=P(l.textStrokeWidth,n.textStrokeWidth);d&&(Ce(e,"lineWidth",p),Ce(e,"strokeStyle",d),e.strokeText(i.text,a,u)),f&&(Ce(e,"fillStyle",f),e.fillText(i.text,a,u))}function be(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function Se(t,e,i,n,r,o,a){var s=i.textBackgroundColor,l=i.textBorderWidth,h=i.textBorderColor,u=S(s);if(Ce(e,"shadowBlur",i.textBoxShadowBlur||0),Ce(e,"shadowColor",i.textBoxShadowColor||"transparent"),Ce(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),Ce(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),u||l&&h){e.beginPath();var c=i.textBorderRadius;c?me(e,{x:n,y:r,width:o,height:a,r:c}):e.rect(n,r,o,a),e.closePath()}if(u)Ce(e,"fillStyle",s),e.fill();else if(E(s)){var d=s.image;(d=Jt(d,null,t,Me,s))&&ee(d)&&e.drawImage(d,n,r,o,a)}l&&h&&(Ce(e,"lineWidth",l),Ce(e,"strokeStyle",h),e.stroke())}function Me(t,e){e.image=t}function Ie(t,e,i){var n=e.x||0,r=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(i){var s=e.textPosition;if(s instanceof Array)n=i.x+Ae(s[0],i.width),r=i.y+Ae(s[1],i.height);else{var l=ae(s,i,e.textDistance);n=l.x,r=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var h=e.textOffset;h&&(n+=h[0],r+=h[1])}return{baseX:n,baseY:r,textAlign:o,textVerticalAlign:a}}function Ce(t,e,i){return t[e]=id(t,e,i),t[e]}function Te(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function De(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Ae(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function ke(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function Pe(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Le(t){for(var e in t=t||{},Wc.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new rd(t.style,this),this._rect=null,this.__clipPaths=[]}function Oe(t){Le.call(this,t)}function ze(t){return parseInt(t,10)}function Ee(t,e,i,n){return i=i||{},n||!ju.canvasSupported?Ne(t,e,i):ju.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):Ne(t,e,i),i}function Ne(t,e,i){var n,r=(n=t).getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0};i.zrX=e.clientX-r.left,i.zrY=e.clientY-r.top}function Re(t,e,i){if(null!=(e=e||window.event).zrX)return e;var n=e.type;if(n&&0<=n.indexOf("touch")){var r="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];r&&Ee(t,r,e,i)}else Ee(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&Cd.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function Be(t,e,i){Id?t.addEventListener(e,i):t.attachEvent("on"+e,i)}function Ve(t){return 1<t.which}function Fe(t){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1];return Math.sqrt(e*e+i*i)}function He(t){return"mousewheel"===t&&ju.browser.firefox?"DOMMouseScroll":t}function Ge(t,e,i){var n=t._gestureMgr;"start"===i&&n.clear();var r=n.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);if("end"===i&&n.clear(),r){var o=r.type;e.gestureEvent=o,t.handler.dispatchToElement({target:r.target},o,r.event)}}function We(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function Ze(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Ue(i){function t(t,e){R(t,function(t){Be(i,He(t),e._handlers[t])},e)}var n;gc.call(this),this.dom=i,this._touching=!1,this._touchTimer,this._gestureMgr=new Ad,this._handlers={},n=this,R(Ld,function(t){n._handlers[t]=x(Ed[t],n)}),R(zd,function(t){n._handlers[t]=x(Ed[t],n)}),R(Pd,function(t){var e,i;n._handlers[t]=(e=Ed[t],i=n,function(){if(!i._touching)return e.apply(i,arguments)})}),ju.pointerEventsSupported?t(zd,this):(ju.touchEventsSupported&&t(Ld,this),t(Pd,this))}function Xe(t,e){var i=new Fd(Xu(),t,e);return Vd[i.id]=i}function je(t,e){Bd[t]=e}function Ye(t){return t instanceof Array?t:null==t?[]:[t]}function qe(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,r=i.length;n<r;n++){var o=i[n];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}function $e(t){return!Wd(t)||Zd(t)||t instanceof Date?t:t.value}function Ke(t,r){r=(r||[]).slice();var o=A(t||[],function(t,e){return{exist:t}});return Gd(r,function(t,e){if(Wd(t)){for(i=0;i<o.length;i++)if(!o[i].option&&null!=t.id&&o[i].exist.id===t.id+"")return o[i].option=t,void(r[e]=null);for(var i=0;i<o.length;i++){var n=o[i].exist;if(!(o[i].option||null!=n.id&&null!=t.id||null==t.name||ti(t)||ti(n)||n.name!==t.name+""))return o[i].option=t,void(r[e]=null)}}}),Gd(r,function(t,e){if(Wd(t)){for(var i=0;i<o.length;i++){var n=o[i].exist;if(!o[i].option&&!ti(n)&&null==t.id){o[i].option=t;break}}i>=o.length&&o.push({option:t})}}),o}function Qe(t){var a=N();Gd(t,function(t,e){var i=t.exist;i&&a.set(i.id,t)}),Gd(t,function(t,e){var i=t.option;c(!i||null==i.id||!a.get(i.id)||a.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&a.set(i.id,t),!t.keyInfo&&(t.keyInfo={})}),Gd(t,function(t,e){var i=t.exist,n=t.option,r=t.keyInfo;if(Wd(n)){if(r.name=null!=n.name?n.name+"":i?i.name:Ud+e,i)r.id=i.id;else if(null!=n.id)r.id=n.id+"";else for(var o=0;r.id="\0"+r.name+"\0"+o++,a.get(r.id););a.set(r.id,t)}})}function Je(t){var e=t.name;return!(!e||!e.indexOf(Ud))}function ti(t){return Wd(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function ei(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?O(t.dataIndex)?A(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?O(t.name)?A(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function ii(){var e="__\0ec_inner_"+jd+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function ni(s,l,h){if(S(l)){var t={};t[l+"Index"]=0,l=t}var e=h&&h.defaultMainType;!e||ri(l,e+"Index")||ri(l,e+"Id")||ri(l,e+"Name")||(l[e+"Index"]=0);var u={};return Gd(l,function(t,e){t=l[e];if("dataIndex"!==e&&"dataIndexInside"!==e){var i=e.match(/^(\w+)(Index|Id|Name)$/)||[],n=i[1],r=(i[2]||"").toLowerCase();if(!(!n||!r||null==t||"index"===r&&"none"===t||h&&h.includeMainTypes&&f(h.includeMainTypes,n)<0)){var o={mainType:n};"index"===r&&"all"===t||(o[r]=t);var a=s.queryComponents(o);u[n+"Models"]=a,u[n+"Model"]=a[0]}}else u[e]=t}),u}function ri(t,e){return t&&t.hasOwnProperty(e)}function oi(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function ai(t){var e={main:"",sub:""};return t&&(t=t.split(Yd),e.main=t[0]||"",e.sub=t[1]||""),e}function si(t,e){(t.$constructor=t).extend=function(t){var e=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):e.apply(this,arguments)};return D(i.prototype,t),i.extend=this.extend,i.superCall=hi,i.superApply=ui,o(i,this),i.superClass=e,i}}function li(t){var e=["__\0is_clz",$d++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function hi(t,e){var i=s(arguments,2);return this.superClass.prototype[e].apply(t,i)}function ui(t,e,i){return this.superClass.prototype[e].apply(t,i)}function ci(i,t){t=t||{};var o={};if(i.registerClass=function(t,e){return e&&(c(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(r=e),'componentType "'+r+'" illegal'),(e=ai(e)).sub?e.sub!==qd&&((i=e,n=o[i.main],n&&n[qd]||((n=o[i.main]={})[qd]=!0),n)[e.sub]=t):o[e.main]=t),t;var i,n,r},i.getClass=function(t,e,i){var n=o[t];if(n&&n[qd]&&(n=e?n[e]:null),i&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n},i.getClassesByMainType=function(t){t=ai(t);var i=[],e=o[t.main];return e&&e[qd]?R(e,function(t,e){e!==qd&&i.push(t)}):i.push(e),i},i.hasClass=function(t){return t=ai(t),!!o[t.main]},i.getAllClassMainTypes=function(){var i=[];return R(o,function(t,e){i.push(e)}),i},i.hasSubTypes=function(t){t=ai(t);var e=o[t.main];return e&&e[qd]},i.parseClassType=ai,t.registerWhenExtend){var n=i.extend;n&&(i.extend=function(t){var e=n.call(this,t);return i.registerClass(e,t.type)})}return i}function di(t){return-of<t&&t<of}function fi(t){return of<t||t<-of}function pi(t,e,i,n,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*n+3*o*i)}function gi(t,e,i,n,r){var o=1-r;return 3*(((e-t)*o+2*(i-e)*r)*o+(n-i)*r*r)}function mi(t,e,i,n,r){var o=6*i-12*e+6*t,a=9*e+3*n-3*t-9*i,s=3*e-3*t,l=0;if(di(a))fi(o)&&0<=(c=-s/o)&&c<=1&&(r[l++]=c);else{var h=o*o-4*a*s;if(di(h))r[0]=-o/(2*a);else if(0<h){var u=rf(h),c=(-o+u)/(2*a),d=(-o-u)/(2*a);0<=c&&c<=1&&(r[l++]=c),0<=d&&d<=1&&(r[l++]=d)}}return l}function vi(t,e,i,n,r,o){var a=(e-t)*r+t,s=(i-e)*r+e,l=(n-i)*r+i,h=(s-a)*r+a,u=(l-s)*r+s,c=(u-h)*r+h;o[0]=t,o[1]=a,o[2]=h,o[3]=c,o[4]=c,o[5]=u,o[6]=l,o[7]=n}function yi(t,e,i,n){var r=1-n;return r*(r*t+2*n*e)+n*n*i}function _i(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function xi(t,e,i){var n=t+i-2*e;return 0===n?.5:(t-e)/n}function wi(t,e,i,n,r){var o=(e-t)*n+t,a=(i-e)*n+e,s=(a-o)*n+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=i}function bi(t,e,i){if(0!==t.length){var n,r=t[0],o=r[0],a=r[0],s=r[1],l=r[1];for(n=1;n<t.length;n++)r=t[n],o=df(o,r[0]),a=ff(a,r[0]),s=df(s,r[1]),l=ff(l,r[1]);e[0]=o,e[1]=s,i[0]=a,i[1]=l}}function Si(t,e,i,n,r,o){r[0]=df(t,i),r[1]=df(e,n),o[0]=ff(t,i),o[1]=ff(e,n)}function Mi(t,e,i,n,r,o,a,s,l,h){var u,c=mi,d=pi,f=c(t,i,r,a,xf);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u<f;u++){var p=d(t,i,r,a,xf[u]);l[0]=df(p,l[0]),h[0]=ff(p,h[0])}for(f=c(e,n,o,s,wf),u=0;u<f;u++){var g=d(e,n,o,s,wf[u]);l[1]=df(g,l[1]),h[1]=ff(g,h[1])}l[0]=df(t,l[0]),h[0]=ff(t,h[0]),l[0]=df(a,l[0]),h[0]=ff(a,h[0]),l[1]=df(e,l[1]),h[1]=ff(e,h[1]),l[1]=df(s,l[1]),h[1]=ff(s,h[1])}function Ii(t,e,i,n,r,o,a,s,l){var h=K,u=Q,c=Math.abs(r-o);if(c%mf<1e-4&&1e-4<c)return s[0]=t-i,s[1]=e-n,l[0]=t+i,void(l[1]=e+n);if(vf[0]=gf(r)*i+t,vf[1]=pf(r)*n+e,yf[0]=gf(o)*i+t,yf[1]=pf(o)*n+e,h(s,vf,yf),u(l,vf,yf),(r%=mf)<0&&(r+=mf),(o%=mf)<0&&(o+=mf),o<r&&!a?o+=mf:r<o&&a&&(r+=mf),a){var d=o;o=r,r=d}for(var f=0;f<o;f+=Math.PI/2)r<f&&(_f[0]=gf(f)*i+t,_f[1]=pf(f)*n+e,h(s,_f,s),u(l,_f,l))}function Ci(t,e,i,n,r,o,a){if(0===r)return!1;var s,l=r;if(e+l<a&&n+l<a||a<e-l&&a<n-l||t+l<o&&i+l<o||o<t-l&&o<i-l)return!1;if(t===i)return Math.abs(o-t)<=l/2;var h=(s=(e-n)/(t-i))*o-a+(t*n-i*e)/(t-i);return h*h/(s*s+1)<=l/2*l/2}function Ti(t,e,i,n,r,o,a,s,l,h,u){if(0===l)return!1;var c=l;return!(e+c<u&&n+c<u&&o+c<u&&s+c<u||u<e-c&&u<n-c&&u<o-c&&u<s-c||t+c<h&&i+c<h&&r+c<h&&a+c<h||h<t-c&&h<i-c&&h<r-c&&h<a-c)&&function(t,e,i,n,r,o,a,s,l,h,u){var c,d,f,p,g,m=.005,v=1/0;hf[0]=l,hf[1]=h;for(var y=0;y<1;y+=.05)uf[0]=pi(t,i,r,a,y),uf[1]=pi(e,n,o,s,y),(p=dc(hf,uf))<v&&(c=y,v=p);v=1/0;for(var _=0;_<32&&!(m<af);_++)d=c-m,f=c+m,uf[0]=pi(t,i,r,a,d),uf[1]=pi(e,n,o,s,d),p=dc(uf,hf),0<=d&&p<v?(c=d,v=p):(cf[0]=pi(t,i,r,a,f),cf[1]=pi(e,n,o,s,f),g=dc(cf,hf),f<=1&&g<v?(c=f,v=g):m*=.5);return u&&(u[0]=pi(t,i,r,a,c),u[1]=pi(e,n,o,s,c)),rf(v)}(t,e,i,n,r,o,a,s,h,u,null)<=c/2}function Di(t,e,i,n,r,o,a,s,l){if(0===a)return!1;var h=a;return!(e+h<l&&n+h<l&&o+h<l||l<e-h&&l<n-h&&l<o-h||t+h<s&&i+h<s&&r+h<s||s<t-h&&s<i-h&&s<r-h)&&function(t,e,i,n,r,o,a,s,l){var h,u=.005,c=1/0;hf[0]=a,hf[1]=s;for(var d=0;d<1;d+=.05)uf[0]=yi(t,i,r,d),uf[1]=yi(e,n,o,d),(m=dc(hf,uf))<c&&(h=d,c=m);c=1/0;for(var f=0;f<32&&!(u<af);f++){var p=h-u,g=h+u;uf[0]=yi(t,i,r,p),uf[1]=yi(e,n,o,p);var m=dc(uf,hf);if(0<=p&&m<c)h=p,c=m;else{cf[0]=yi(t,i,r,g),cf[1]=yi(e,n,o,g);var v=dc(cf,hf);g<=1&&v<c?(h=g,c=v):u*=.5}}return l&&(l[0]=yi(t,i,r,h),l[1]=yi(e,n,o,h)),rf(c)}(t,e,i,n,r,o,s,l,null)<=h/2}function Ai(t){return(t%=Ef)<0&&(t+=Ef),t}function ki(t,e,i,n,r,o,a,s,l){if(0===a)return!1;var h=a;s-=t,l-=e;var u=Math.sqrt(s*s+l*l);if(i<u-h||u+h<i)return!1;if(Math.abs(n-r)%Nf<1e-4)return!0;if(o){var c=n;n=Ai(r),r=Ai(c)}else n=Ai(n),r=Ai(r);r<n&&(r+=Nf);var d=Math.atan2(l,s);return d<0&&(d+=Nf),n<=d&&d<=r||n<=d+Nf&&d+Nf<=r}function Pi(t,e,i,n,r,o){if(e<o&&n<o||o<e&&o<n)return 0;if(n===e)return 0;var a=n<e?1:-1,s=(o-e)/(n-e);1!==s&&0!==s||(a=n<e?.5:-.5);var l=s*(i-t)+t;return l===r?1/0:r<l?a:0}function Li(t,e,i,n,r,o,a,s,l,h){if(e<h&&n<h&&o<h&&s<h||h<e&&h<n&&h<o&&h<s)return 0;var u,c=function(t,e,i,n,r,o){var a=n+3*(e-i)-t,s=3*(i-2*e+t),l=3*(e-t),h=t-r,u=s*s-3*a*l,c=s*l-9*a*h,d=l*l-3*s*h,f=0;if(di(u)&&di(c))di(s)?o[0]=0:0<=(M=-l/s)&&M<=1&&(o[f++]=M);else{var p=c*c-4*u*d;if(di(p)){var g=c/u,m=-g/2;0<=(M=-s/a+g)&&M<=1&&(o[f++]=M),0<=m&&m<=1&&(o[f++]=m)}else if(0<p){var v=rf(p),y=u*s+1.5*a*(-c+v),_=u*s+1.5*a*(-c-v);0<=(M=(-s-((y=y<0?-nf(-y,lf):nf(y,lf))+(_=_<0?-nf(-_,lf):nf(_,lf))))/(3*a))&&M<=1&&(o[f++]=M)}else{var x=(2*u*s-3*a*c)/(2*rf(u*u*u)),w=Math.acos(x)/3,b=rf(u),S=Math.cos(w),M=(-s-2*b*S)/(3*a),I=(m=(-s+b*(S+sf*Math.sin(w)))/(3*a),(-s+b*(S-sf*Math.sin(w)))/(3*a));0<=M&&M<=1&&(o[f++]=M),0<=m&&m<=1&&(o[f++]=m),0<=I&&I<=1&&(o[f++]=I)}}return f}(e,n,o,s,h,Ff);if(0===c)return 0;for(var d,f,p=0,g=-1,m=0;m<c;m++){var v=Ff[m],y=0===v||1===v?.5:1;pi(t,i,r,a,v)<l||(g<0&&(g=mi(e,n,o,s,Hf),Hf[1]<Hf[0]&&1<g&&(void 0,u=Hf[0],Hf[0]=Hf[1],Hf[1]=u),d=pi(e,n,o,s,Hf[0]),1<g&&(f=pi(e,n,o,s,Hf[1]))),2==g?v<Hf[0]?p+=d<e?y:-y:v<Hf[1]?p+=f<d?y:-y:p+=s<f?y:-y:v<Hf[0]?p+=d<e?y:-y:p+=s<d?y:-y)}return p}function Oi(t,e,i,n,r,o,a,s){if(e<s&&n<s&&o<s||s<e&&s<n&&s<o)return 0;var l=function(t,e,i,n,r){var o=t-2*e+i,a=2*(e-t),s=t-n,l=0;if(di(o))fi(a)&&0<=(c=-s/a)&&c<=1&&(r[l++]=c);else{var h=a*a-4*o*s;if(di(h))0<=(c=-a/(2*o))&&c<=1&&(r[l++]=c);else if(0<h){var u=rf(h),c=(-a+u)/(2*o),d=(-a-u)/(2*o);0<=c&&c<=1&&(r[l++]=c),0<=d&&d<=1&&(r[l++]=d)}}return l}(e,n,o,s,Ff);if(0===l)return 0;var h=xi(e,n,o);if(0<=h&&h<=1){for(var u=0,c=yi(e,n,o,h),d=0;d<l;d++)f=0===Ff[d]||1===Ff[d]?.5:1,(p=yi(t,i,r,Ff[d]))<a||(Ff[d]<h?u+=c<e?f:-f:u+=o<c?f:-f);return u}var f=0===Ff[0]||1===Ff[0]?.5:1,p=yi(t,i,r,Ff[0]);return p<a?0:o<e?f:-f}function zi(t,e,i,n,r,o,a,s){if((s-=e)>i||s<-i)return 0;h=Math.sqrt(i*i-s*s),Ff[0]=-h,Ff[1]=h;var l=Math.abs(n-r);if(l<1e-4)return 0;if(l%Bf<1e-4)return r=Bf,p=o?1:-1,a>=Ff[n=0]+t&&a<=Ff[1]+t?p:0;if(o){var h=n;n=Ai(r),r=Ai(h)}else n=Ai(n),r=Ai(r);r<n&&(r+=Bf);for(var u=0,c=0;c<2;c++){var d=Ff[c];if(a<d+t){var f=Math.atan2(s,d),p=o?1:-1;f<0&&(f=Bf+f),(n<=f&&f<=r||n<=f+Bf&&f+Bf<=r)&&(f>Math.PI/2&&f<1.5*Math.PI&&(p=-p),u+=p)}}return u}function Ei(t,e,i,n,r){for(var o=0,a=0,s=0,l=0,h=0,u=0;u<t.length;){var c=t[u++];switch(c===Rf.M&&1<u&&(i||(o+=Pi(a,s,l,h,n,r))),1==u&&(l=a=t[u],h=s=t[u+1]),c){case Rf.M:a=l=t[u++],s=h=t[u++];break;case Rf.L:if(i){if(Ci(a,s,t[u],t[u+1],e,n,r))return!0}else o+=Pi(a,s,t[u],t[u+1],n,r)||0;a=t[u++],s=t[u++];break;case Rf.C:if(i){if(Ti(a,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,n,r))return!0}else o+=Li(a,s,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],n,r)||0;a=t[u++],s=t[u++];break;case Rf.Q:if(i){if(Di(a,s,t[u++],t[u++],t[u],t[u+1],e,n,r))return!0}else o+=Oi(a,s,t[u++],t[u++],t[u],t[u+1],n,r)||0;a=t[u++],s=t[u++];break;case Rf.A:var d=t[u++],f=t[u++],p=t[u++],g=t[u++],m=t[u++],v=t[u++],y=(t[u++],1-t[u++]),_=Math.cos(m)*p+d,x=Math.sin(m)*g+f;1<u?o+=Pi(a,s,_,x,n,r):(l=_,h=x);var w=(n-d)*g/p+d;if(i){if(ki(d,f,g,m,m+v,y,e,w,r))return!0}else o+=zi(d,f,g,m,m+v,y,w,r);a=Math.cos(m+v)*p+d,s=Math.sin(m+v)*g+f;break;case Rf.R:l=a=t[u++],h=s=t[u++];_=l+t[u++],x=h+t[u++];if(i){if(Ci(l,h,_,h,e,n,r)||Ci(_,h,_,x,e,n,r)||Ci(_,x,l,x,e,n,r)||Ci(l,x,l,h,e,n,r))return!0}else o+=Pi(_,h,_,x,n,r),o+=Pi(l,x,l,h,n,r);break;case Rf.Z:if(i){if(Ci(a,s,l,h,e,n,r))return!0}else o+=Pi(a,s,l,h,n,r);a=l,s=h}}return i||(b=s,S=h,Math.abs(b-S)<Vf)||(o+=Pi(a,s,l,h,n,r)||0),0!==o;var b,S}function Ni(t){Le.call(this,t),this.path=null}function Ri(t,e,i,n,r,o,a,s,l,h,u){var c=l*(tp/180),d=Jf(c)*(t-i)/2+Qf(c)*(e-n)/2,f=-1*Qf(c)*(t-i)/2+Jf(c)*(e-n)/2,p=d*d/(a*a)+f*f/(s*s);1<p&&(a*=Kf(p),s*=Kf(p));var g=(r===o?-1:1)*Kf((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,m=g*a*f/s,v=g*-s*d/a,y=(t+i)/2+Jf(c)*m-Qf(c)*v,_=(e+n)/2+Qf(c)*m+Jf(c)*v,x=np([1,0],[(d-m)/a,(f-v)/s]),w=[(d-m)/a,(f-v)/s],b=[(-1*d-m)/a,(-1*f-v)/s],S=np(w,b);ip(w,b)<=-1&&(S=tp),1<=ip(w,b)&&(S=0),0===o&&0<S&&(S-=2*tp),1===o&&S<0&&(S+=2*tp),u.addData(h,y,_,a,s,x,S,c,o)}function Bi(t,e){var i=function(t){if(!t)return[];var e,i=t.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");for(e=0;e<$f.length;e++)i=i.replace(new RegExp($f[e],"g"),"|"+$f[e]);var n,r=i.split("|"),o=0,a=0,s=new zf,l=zf.CMD;for(e=1;e<r.length;e++){var h,u=r[e],c=u.charAt(0),d=0,f=u.slice(1).replace(/e,-/g,"e-").split(",");0<f.length&&""===f[0]&&f.shift();for(var p=0;p<f.length;p++)f[p]=parseFloat(f[p]);for(;d<f.length&&!isNaN(f[d])&&!isNaN(f[0]);){var g,m,v,y,_,x,w,b=o,S=a;switch(c){case"l":o+=f[d++],a+=f[d++],h=l.L,s.addData(h,o,a);break;case"L":o=f[d++],a=f[d++],h=l.L,s.addData(h,o,a);break;case"m":o+=f[d++],a+=f[d++],h=l.M,s.addData(h,o,a),c="l";break;case"M":o=f[d++],a=f[d++],h=l.M,s.addData(h,o,a),c="L";break;case"h":o+=f[d++],h=l.L,s.addData(h,o,a);break;case"H":o=f[d++],h=l.L,s.addData(h,o,a);break;case"v":a+=f[d++],h=l.L,s.addData(h,o,a);break;case"V":a=f[d++],h=l.L,s.addData(h,o,a);break;case"C":h=l.C,s.addData(h,f[d++],f[d++],f[d++],f[d++],f[d++],f[d++]),o=f[d-2],a=f[d-1];break;case"c":h=l.C,s.addData(h,f[d++]+o,f[d++]+a,f[d++]+o,f[d++]+a,f[d++]+o,f[d++]+a),o+=f[d-2],a+=f[d-1];break;case"S":g=o,m=a;var M=s.len(),I=s.data;n===l.C&&(g+=o-I[M-4],m+=a-I[M-3]),h=l.C,b=f[d++],S=f[d++],o=f[d++],a=f[d++],s.addData(h,g,m,b,S,o,a);break;case"s":g=o,m=a,M=s.len(),I=s.data,n===l.C&&(g+=o-I[M-4],m+=a-I[M-3]),h=l.C,b=o+f[d++],S=a+f[d++],o+=f[d++],a+=f[d++],s.addData(h,g,m,b,S,o,a);break;case"Q":b=f[d++],S=f[d++],o=f[d++],a=f[d++],h=l.Q,s.addData(h,b,S,o,a);break;case"q":b=f[d++]+o,S=f[d++]+a,o+=f[d++],a+=f[d++],h=l.Q,s.addData(h,b,S,o,a);break;case"T":g=o,m=a,M=s.len(),I=s.data,n===l.Q&&(g+=o-I[M-4],m+=a-I[M-3]),o=f[d++],a=f[d++],h=l.Q,s.addData(h,g,m,o,a);break;case"t":g=o,m=a,M=s.len(),I=s.data,n===l.Q&&(g+=o-I[M-4],m+=a-I[M-3]),o+=f[d++],a+=f[d++],h=l.Q,s.addData(h,g,m,o,a);break;case"A":v=f[d++],y=f[d++],_=f[d++],x=f[d++],w=f[d++],Ri(b=o,S=a,o=f[d++],a=f[d++],x,w,v,y,_,h=l.A,s);break;case"a":v=f[d++],y=f[d++],_=f[d++],x=f[d++],w=f[d++],Ri(b=o,S=a,o+=f[d++],a+=f[d++],x,w,v,y,_,h=l.A,s)}}"z"!==c&&"Z"!==c||(h=l.Z,s.addData(h)),n=h}return s.toStatic(),s}(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;i.rebuildPath(e)}},e.applyTransform=function(t){qf(i,t),this.dirty(!0)},e}function Vi(t,e,i,n,r,o,a){var s=.5*(i-t),l=.5*(n-e);return(2*(e-i)+s+l)*a+(-3*(e-i)-2*s-l)*o+s*r+e}function Fi(t,e,i){var n=e.points,r=e.smooth;if(n&&2<=n.length){if(r&&"spline"!==r){var o=function(t,e,i,n){var r,o,a,s,l=[],h=[],u=[],c=[];if(n){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)K(a,a,t[d]),Q(s,s,t[d]);K(a,a,n[0]),Q(s,s,n[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(i)r=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){l.push(F(t[d]));continue}r=t[d-1],o=t[d+1]}W(h,o,r),X(h,h,e);var g=Y(p,r),m=Y(p,o),v=g+m;0!==v&&(g/=v,m/=v),X(u,h,-g),X(c,h,m);var y=H([],p,u),_=H([],p,c);n&&(Q(y,y,a),K(y,y,s),Q(_,_,a),K(_,_,s)),l.push(y),l.push(_)}return i&&l.push(l.shift()),l}(n,r,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var a=n.length,s=0;s<(i?a:a-1);s++){var l=o[2*s],h=o[2*s+1],u=n[(s+1)%a];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{"spline"===r&&(n=function(t,e){for(var i=t.length,n=[],r=0,o=1;o<i;o++)r+=Y(t[o-1],t[o]);var a=r/2;for(a=a<i?i:a,o=0;o<a;o++){var s,l,h,u=o/(a-1)*(e?i:i-1),c=Math.floor(u),d=u-c,f=t[c%i];h=e?(s=t[(c-1+i)%i],l=t[(c+1)%i],t[(c+2)%i]):(s=t[0===c?c:c-1],l=t[i-2<c?i-1:c+1],t[i-3<c?i-1:c+2]);var p=d*d,g=d*p;n.push([Vi(s[0],f[0],l[0],h[0],d,p,g),Vi(s[1],f[1],l[1],h[1],d,p,g)])}return n}(n,i)),t.moveTo(n[0][0],n[0][1]);s=1;for(var c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}function Hi(t,e,i){var n=t.cpx2,r=t.cpy2;return null===n||null===r?[(i?gi:pi)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?gi:pi)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?_i:yi)(t.x1,t.cpx1,t.x2,e),(i?_i:yi)(t.y1,t.cpy1,t.y2,e)]}function Gi(t){Le.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Wi(t){return Ni.extend(t)}function Zi(t,e,i,n){var r=new Ni(Bi(t,e)),o=r.getBoundingRect();return i&&("center"===n&&(i=Xi(i,o)),ji(r,i)),r}function Ui(t,i,n){var r=new Oe({style:{image:t,x:i.x,y:i.y,width:i.width,height:i.height},onload:function(t){if("center"===n){var e={width:t.width,height:t.height};r.setStyle(Xi(i,e))}}});return r}function Xi(t,e){var i,n=e.width/e.height,r=t.height*n;return i=r<=t.width?t.height:(r=t.width)/n,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-i/2,width:r,height:i}}function ji(t,e){if(t.applyTransform){var i=t.getBoundingRect().calculateTransform(e);t.applyTransform(i)}}function Yi(t){var e=t.shape,i=t.style.lineWidth;return bp(2*e.x1)===bp(2*e.x2)&&(e.x1=e.x2=$i(e.x1,i,!0)),bp(2*e.y1)===bp(2*e.y2)&&(e.y1=e.y2=$i(e.y1,i,!0)),t}function qi(t){var e=t.shape,i=t.style.lineWidth,n=e.x,r=e.y,o=e.width,a=e.height;return e.x=$i(e.x,i,!0),e.y=$i(e.y,i,!0),e.width=Math.max($i(n+o,i,!1)-e.x,0===o?0:1),e.height=Math.max($i(r+a,i,!1)-e.y,0===a?0:1),t}function $i(t,e,i){var n=bp(2*t);return(n+bp(e))%2==0?n/2:(n+(i?1:-1))/2}function Ki(t){return null!=t&&"none"!=t}function Qi(t){return"string"==typeof t?Mt(t,-.1):t}function Ji(t){if(t.__hoverStlDirty){var e=t.style.stroke,i=t.style.fill,n=t.__hoverStl;n.fill=n.fill||(Ki(i)?Qi(i):null),n.stroke=n.stroke||(Ki(e)?Qi(e):null);var r={};for(var o in n)null!=n[o]&&(r[o]=t.style[o]);t.__normalStl=r,t.__hoverStlDirty=!1}}function tn(t){if(!t.__isHover){if(Ji(t),t.useHoverLayer)t.__zr&&t.__zr.addHover(t,t.__hoverStl);else{var e=t.style,i=e.insideRollbackOpt;i&&((r=(n=e).insideRollback)&&(n.textFill=r.textFill,n.textStroke=r.textStroke,n.textStrokeWidth=r.textStrokeWidth)),e.extendFrom(t.__hoverStl),i&&(mn(e,e.insideOriginalTextPosition,i),null==e.textFill&&(e.textFill=i.autoColor)),t.dirty(!1),t.z2+=1}t.__isHover=!0}var n,r}function en(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function nn(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&tn(t)}):tn(t)}function rn(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&en(t)}):en(t)}function on(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&Ji(t)}function an(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&nn(this)}function sn(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&rn(this)}function ln(){this.__isEmphasis=!0,nn(this)}function hn(){this.__isEmphasis=!1,rn(this)}function un(t,e,i){t.__hoverSilentOnTouch=i&&i.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&on(t,e)}):on(t,e),t.on("mouseover",an).on("mouseout",sn),t.on("emphasis",ln).on("normal",hn)}function cn(t,e,i,n,r,o,a){var s,l=(r=r||Ip).labelFetcher,h=r.labelDataIndex,u=r.labelDimIndex,c=i.getShallow("show"),d=n.getShallow("show");(c||d)&&(l&&(s=l.getFormattedLabel(h,"normal",null,u)),null==s&&(s=y(r.defaultText)?r.defaultText(h,r):r.defaultText));var f=c?s:null,p=d?P(l?l.getFormattedLabel(h,"emphasis",null,u):null,s):null;null==f&&null==p||(dn(t,i,o,r),dn(e,n,a,r,!0)),t.text=f,e.text=p}function dn(t,e,i,n,r){return fn(t,e,n,r),i&&D(t,i),t.host&&t.host.dirty&&t.host.dirty(!1),t}function fn(t,e,i,n){if((i=i||Ip).isRectText){var r=e.getShallow("position")||(n?null:"inside");"outside"===r&&(r="top"),t.textPosition=r,t.textOffset=e.getShallow("offset");var o=e.getShallow("rotate");null!=o&&(o*=Math.PI/180),t.textRotation=o,t.textDistance=P(e.getShallow("distance"),n?null:5)}var a,s=e.ecModel,l=s&&s.option.textStyle,h=function(t){for(var e;t&&t!==t.ecModel;){var i=(t.option||Ip).rich;if(i)for(var n in e=e||{},i)i.hasOwnProperty(n)&&(e[n]=1);t=t.parentModel}return e}(e);if(h)for(var u in a={},h)if(h.hasOwnProperty(u)){var c=e.getModel(["rich",u]);pn(a[u]={},c,l,i,n)}return t.rich=a,pn(t,e,l,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function pn(t,e,i,n,r,o){if(i=!r&&i||Ip,t.textFill=gn(e.getShallow("color"),n)||i.color,t.textStroke=gn(e.getShallow("textBorderColor"),n)||i.textBorderColor,t.textStrokeWidth=P(e.getShallow("textBorderWidth"),i.textBorderWidth),!r){if(o){var a=t.textPosition;t.insideRollback=mn(t,a,n),t.insideOriginalTextPosition=a,t.insideRollbackOpt=n}null==t.textFill&&(t.textFill=n.autoColor)}t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&n.disableBox||(t.textBackgroundColor=gn(e.getShallow("backgroundColor"),n),t.textPadding=e.getShallow("padding"),t.textBorderColor=gn(e.getShallow("borderColor"),n),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function gn(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function mn(t,e,i){var n,r=i.useInsideStyle;return null==t.textFill&&!1!==r&&(!0===r||i.isRectText&&e&&"string"==typeof e&&0<=e.indexOf("inside"))&&(n={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=i.autoColor,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),n}function vn(t,e){var i=e||e.getModel("textStyle");return h([t.fontStyle||i&&i.getShallow("fontStyle")||"",t.fontWeight||i&&i.getShallow("fontWeight")||"",(t.fontSize||i&&i.getShallow("fontSize")||12)+"px",t.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function yn(t,e,i,n,r,o){if("function"==typeof r&&(o=r,r=null),n&&n.isAnimationEnabled()){var a=t?"Update":"",s=n.getShallow("animationDuration"+a),l=n.getShallow("animationEasing"+a),h=n.getShallow("animationDelay"+a);"function"==typeof h&&(h=h(r,n.getAnimationDelayParams?n.getAnimationDelayParams(e,r):null)),"function"==typeof s&&(s=s(r)),0<s?e.animateTo(i,s,h||0,l,o,!!o):(e.stopAnimation(),e.attr(i),o&&o())}else e.stopAnimation(),e.attr(i),o&&o()}function _n(t,e,i,n,r){yn(!0,t,e,i,n,r)}function xn(t,e,i,n,r){yn(!1,t,e,i,n,r)}function wn(t,e){for(var i=rt([]);t&&t!==e;)at(i,t.getLocalTransform(),i),t=t.parent;return i}function bn(t,e,i){return e&&!z(e)&&(e=bc.getLocalTransform(e)),i&&(e=ut([],e)),$([],t,e)}function Sn(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-n:"right"===t?n:0,"top"===t?-r:"bottom"===t?r:0];return o=bn(o,e,i),Math.abs(o[0])>Math.abs(o[1])?0<o[0]?"right":"left":0<o[1]?"bottom":"top"}function Mn(t,e,n,i){function r(t){var e={position:F(t.position),rotation:t.rotation};return t.shape&&(e.shape=D({},t.shape)),e}if(t&&e){var o=(a={},t.traverse(function(t){!t.isGroup&&t.anid&&(a[t.anid]=t)}),a);e.traverse(function(t){if(!t.isGroup&&t.anid){var e=o[t.anid];if(e){var i=r(t);t.attr(r(e)),_n(t,i,n,t.dataIndex)}}})}var a}function In(t,n){return A(t,function(t){var e=t[0];e=Sp(e,n.x),e=Mp(e,n.x+n.width);var i=t[1];return i=Sp(i,n.y),[e,i=Mp(i,n.y+n.height)]})}function Cn(t,e,i){var n=(e=D({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(n.image=t.slice(8),T(n,i),new Oe(e)):Zi(t.replace("path://",""),e,i,"center")}function Tn(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function Dn(t,e,i){for(var n=0;n<e.length&&(!e[n]||null!=(t=t&&"object"==_typeof(t)?t[e[n]]:null));n++);return null==t&&i&&(t=i.get(e)),t}function An(t,e){var i=Lp(t).getParent;return i?i.call(t,e):t.parentModel}function kn(t){return[t||"",Ep++,Math.random().toFixed(5)].join("_")}function Pn(t,e,i,n){var r=e[1]-e[0],o=i[1]-i[0];if(0===r)return 0===o?i[0]:(i[0]+i[1])/2;if(n)if(0<r){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/r*o+i[0]}function Ln(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(i=t,i.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var i}function On(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function zn(t){return t.sort(function(t,e){return t-e}),t}function En(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function Nn(t){var e=t.toString(),i=e.indexOf("e");if(0<i){var n=+e.slice(i+1);return n<0?-n:0}var r=e.indexOf(".");return r<0?0:e.length-1-r}function Rn(t,e){var i=Math.log,n=Math.LN10,r=Math.floor(i(t[1]-t[0])/n),o=Math.round(i(Math.abs(e[1]-e[0]))/n),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function Bn(t,e,i){if(!t[e])return 0;var n=g(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var r=Math.pow(10,i),o=A(t,function(t){return(isNaN(t)?0:t)/n*r*100}),a=100*r,s=A(o,function(t){return Math.floor(t)}),l=g(s,function(t,e){return t+e},0),h=A(o,function(t,e){return t-s[e]});l<a;){for(var u=Number.NEGATIVE_INFINITY,c=null,d=0,f=h.length;d<f;++d)h[d]>u&&(u=h[d],c=d);++s[c],h[c]=0,++l}return s[e]/r}function Vn(t){var e=2*Math.PI;return(t%e+e)%e}function Fn(t){return-Np<t&&t<Np}function Hn(t){if(t instanceof Date)return t;if("string"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=Rp.exec(t);if(!e)return new Date(NaN);if(e[8]){var i=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(i-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,i,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}function Gn(t){return Math.pow(10,Wn(t))}function Wn(t){return Math.floor(Math.log(t)/Math.LN10)}function Zn(t,e){var i=Wn(t),n=Math.pow(10,i),r=t/n;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*n,-20<=i?+t.toFixed(i<0?-i:0):t}function Un(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}function Xn(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function jn(t){return null==t?"":(t+"").replace(Fp,function(t,e){return Hp[e]})}function Yn(t,e,i){O(e)||(e=[e]);var n=e.length;if(!n)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=Gp[o];t=t.replace(Wp(a),Wp(a,0))}for(var s=0;s<n;s++)for(var l=0;l<r.length;l++){var h=e[s][r[l]];t=t.replace(Wp(Gp[l],s),i?jn(h):h)}return t}function qn(t,e){var i=(t=S(t)?{color:t,extraCssText:e}:t||{}).color,n=t.type;e=t.extraCssText;return i?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+jn(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+jn(i)+";"+(e||"")+'"></span>':""}function $n(t,e){return"0000".substr(0,e-(t+="").length)+t}function Kn(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var n=Hn(e),r=i?"UTC":"",o=n["get"+r+"FullYear"](),a=n["get"+r+"Month"]()+1,s=n["get"+r+"Date"](),l=n["get"+r+"Hours"](),h=n["get"+r+"Minutes"](),u=n["get"+r+"Seconds"](),c=n["get"+r+"Milliseconds"]();return t.replace("MM",$n(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",$n(s,2)).replace("d",s).replace("hh",$n(l,2)).replace("h",l).replace("mm",$n(h,2)).replace("m",h).replace("ss",$n(u,2)).replace("s",u).replace("SSS",$n(c,3))}function Qn(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function Jn(u,c,d,f,p){var g=0,m=0;null==f&&(f=1/0),null==p&&(p=1/0);var v=0;c.eachChild(function(t,e){var i,n,r=t.position,o=t.getBoundingRect(),a=c.childAt(e+1),s=a&&a.getBoundingRect();if("horizontal"===u){var l=o.width+(s?-s.x+o.x:0);v=(i=g+l)>f||t.newline?(g=0,i=l,m+=v+d,o.height):Math.max(v,o.height)}else{var h=o.height+(s?-s.y+o.y:0);v=(n=m+h)>p||t.newline?(g+=v+d,m=0,n=h,o.width):Math.max(v,o.width)}t.newline||(r[0]=g,r[1]=m,"horizontal"===u?g=i+d:m=n+d)})}function tr(t,e,i){i=Vp(i||0);var n=e.width,r=e.height,o=Ln(t.left,n),a=Ln(t.top,r),s=Ln(t.right,n),l=Ln(t.bottom,r),h=Ln(t.width,n),u=Ln(t.height,r),c=i[2]+i[0],d=i[1]+i[3],f=t.aspect;switch(isNaN(h)&&(h=n-s-d-o),isNaN(u)&&(u=r-l-c-a),null!=f&&(isNaN(h)&&isNaN(u)&&(n/r<f?h=.8*n:u=.8*r),isNaN(h)&&(h=f*u),isNaN(u)&&(u=h/f)),isNaN(o)&&(o=n-s-h-d),isNaN(a)&&(a=r-l-u-c),t.left||t.right){case"center":o=n/2-h/2-i[3];break;case"right":o=n-h-d}switch(t.top||t.bottom){case"middle":case"center":a=r/2-u/2-i[0];break;case"bottom":a=r-u-c}o=o||0,a=a||0,isNaN(h)&&(h=n-d-o-(s||0)),isNaN(u)&&(u=r-c-a-(l||0));var p=new Gt(o+i[3],a+i[0],h,u);return p.margin=i,p}function er(t,e,i,n,r){var o=!r||!r.hv||r.hv[0],a=!r||!r.hv||r.hv[1],s=r&&r.boundingMode||"all";if(o||a){var l;if("raw"===s)l="group"===t.type?new Gt(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var h=t.getLocalTransform();(l=l.clone()).applyTransform(h)}e=tr(T({width:l.width,height:l.height},e),i,n);var u=t.position,c=o?e.x-l.x:0,d=a?e.y-l.y:0;t.attr("position","raw"===s?[c,d]:[u[0]+c,u[1]+d])}}function ir(l,h,t){function e(t,e){var i={},n=0,r={},o=0;if(jp(t,function(t){r[t]=l[t]}),jp(t,function(t){u(h,t)&&(i[t]=r[t]=h[t]),c(i,t)&&n++,c(r,t)&&o++}),d[e])return c(h,t[1])?r[t[2]]=null:c(h,t[2])&&(r[t[1]]=null),r;if(2!==o&&n){if(2<=n)return i;for(var a=0;a<t.length;a++){var s=t[a];if(!u(i,s)&&u(l,s)){i[s]=l[s];break}}return i}return r}function u(t,e){return t.hasOwnProperty(e)}function c(t,e){return null!=t[e]&&"auto"!==t[e]}function i(t,e,i){jp(t,function(t){e[t]=i[t]})}!E(t)&&(t={});var d=t.ignoreSize;!O(d)&&(d=[d,d]);var n=e(qp[0],0),r=e(qp[1],1);i(qp[0],l,n),i(qp[1],l,r)}function nr(t){return rr({},t)}function rr(e,i){return i&&e&&jp(Yp,function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e}function or(t){var e=t.get("coordinateSystem"),i={coordSysName:e,coordSysDims:[],axisMap:N(),categoryAxisMap:N()},n=rg[e];if(n)return n(t,i,i.axisMap,i.categoryAxisMap),i}function ar(t){return"category"===t.get("type")}function sr(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===lg?{}:[]),this.sourceFormat=t.sourceFormat||hg,this.seriesLayoutBy=t.seriesLayoutBy||cg,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&N(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function lr(t){var e=t.option,i=e.data,n=_(i)?ug:og,r=!1,o=e.seriesLayoutBy,a=e.sourceHeader,s=e.dimensions,l=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);if(l){var h=l.option;i=h.source,n=fg(l).sourceFormat,r=!0,o=o||h.seriesLayoutBy,null==a&&(a=h.sourceHeader),s=s||h.dimensions}var u=function(t,e,i,n,r){if(!t)return{dimensionsDefine:hr(r)};var o,a,s,l;if(e===ag)"auto"===n||null==n?ur(function(t){null!=t&&"-"!==t&&(S(t)?null==a&&(a=1):a=0)},i,t,10):a=n?1:0,r||1!==a||(r=[],ur(function(t,e){r[e]=null!=t?t:""},i,t)),o=r?r.length:i===dg?t.length:t[0]?t[0].length:null;else if(e===sg)r||(r=function(t){for(var e,i=0;i<t.length&&!(e=t[i++]););if(e){var n=[];return R(e,function(t,e){n.push(e)}),n}}(t),s=!0);else if(e===lg)r||(r=[],s=!0,R(t,function(t,e){r.push(e)}));else if(e===og){var h=$e(t[0]);o=O(h)&&h.length||1}return s&&R(r,function(t,e){"name"===(E(t)?t.name:t)&&(l=e)}),{startIndex:a,dimensionsDefine:hr(r),dimensionsDetectCount:o,potentialNameDimIndex:l}}(i,n,o,a,s),c=e.encode;!c&&l&&(c=function(t,e,i,n,r,o){var a=or(t),s={},l=[],h=[],u=t.subType,c=N(["pie","map","funnel"]),d=N(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=d.get(u)){var f=t.ecModel,p=fg(f).datasetMap,g=e.uid+"_"+r,m=p.get(g)||p.set(g,{categoryWayDim:1,valueWayDim:0});R(a.coordSysDims,function(t){if(null==a.firstCategoryDimIndex)e=m.valueWayDim++,s[t]=e,h.push(e);else if(a.categoryAxisMap.get(t))s[t]=0,l.push(0);else{var e=m.categoryWayDim++;s[t]=e,h.push(e)}})}else if(null!=c.get(u)){for(var v,y=0;y<5&&null==v;y++)cr(i,n,r,o.dimensionsDefine,o.startIndex,y)||(v=y);if(null!=v){s.value=v;var _=o.potentialNameDimIndex||Math.max(v-1,0);h.push(_),l.push(_)}}return l.length&&(s.itemName=l),h.length&&(s.seriesName=h),s}(t,l,i,n,o,u)),fg(t).source=new sr({data:i,fromDataset:r,seriesLayoutBy:o,sourceFormat:n,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:c})}function hr(t){if(t){var n=N();return A(t,function(t,e){if(null==(t=D({},E(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=n.get(t.name);return i?t.name+="-"+i.count++:n.set(t.name,{count:1}),t})}}function ur(t,e,i,n){if(null==n&&(n=1/0),e===dg)for(o=0;o<i.length&&o<n;o++)t(i[o]?i[o][0]:null,o);else for(var r=i[0]||[],o=0;o<r.length&&o<n;o++)t(r[o],o)}function cr(t,e,i,n,r,o){function a(t){return(null==t||!isFinite(t)||""===t)&&(!(!S(t)||"-"===t)||void 0)}var s,l;if(_(t))return!1;if(n&&(l=E(l=n[o])?l.name:l),e===ag)if(i===dg){for(var h=t[o],u=0;u<(h||[]).length&&u<5;u++)if(null!=(s=a(h[r+u])))return s}else for(u=0;u<t.length&&u<5;u++){var c=t[r+u];if(c&&null!=(s=a(c[o])))return s}else if(e===sg){if(!l)return;for(u=0;u<t.length&&u<5;u++)if((d=t[u])&&null!=(s=a(d[l])))return s}else if(e===lg){if(!l)return;if(!(h=t[l])||_(h))return!1;for(u=0;u<h.length&&u<5;u++)if(null!=(s=a(h[u])))return s}else if(e===og)for(u=0;u<t.length&&u<5;u++){var d=t[u],f=$e(d);if(!O(f))return!1;if(null!=(s=a(f[o])))return s}return!1}function dr(t){var i,e,n;t=t,this.option={},this.option[pg]=1,this._componentsMap=N({series:[]}),this._seriesIndices,this._seriesIndicesMap,i=t,e=this._theme.option,n=i.color&&!i.colorLayer,R(e,function(t,e){"colorLayer"===e&&n||Jp.hasClass(e)||("object"==_typeof(t)?i[e]=i[e]?p(i[e],t,!1):b(t):null==i[e]&&(i[e]=t))}),p(t,eg,!1),this.mergeOption(t)}function fr(t,e){t._seriesIndicesMap=N(t._seriesIndices=A(e,function(t){return t.componentIndex})||[])}function pr(t,e){return e.hasOwnProperty("subType")?m(t,function(t){return t.subType===e.subType}):t}function gr(e){R(mg,function(t){this[t]=x(e[t],e)},this)}function mr(){this._coordinateSystems=[]}function vr(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function yr(t,e,i){var l={width:e,height:i,aspectratio:e/i},h=!0;return R(t,function(t,e){var i,n,r,o=e.match(bg);if(o&&o[1]&&o[2]){var a=o[1],s=o[2].toLowerCase();i=l[s],n=t,("min"===(r=a)?n<=i:"max"===r?i<=n:i===n)||(h=!1)}}),h}function _r(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=Ig.length;i<n;i++){var r=Ig[i],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?p(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?p(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function xr(t,e,i){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var n=t[e].normal,r=t[e].emphasis;n&&(i?(t[e].normal=t[e].emphasis=null,T(t[e],n)):t[e]=n),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r)}}function wr(t){xr(t,"itemStyle"),xr(t,"lineStyle"),xr(t,"areaStyle"),xr(t,"label"),xr(t,"labelLine"),xr(t,"upperLabel"),xr(t,"edgeLabel")}function br(t,e){var i=Mg(t)&&t[e],n=Mg(i)&&i.textStyle;if(n)for(var r=0,o=Xd.length;r<o;r++){e=Xd[r];n.hasOwnProperty(e)&&(i[e]=n[e])}}function Sr(t){t&&(wr(t),br(t,"label"),t.emphasis&&br(t.emphasis,"label"))}function Mr(t){return O(t)?t:t?[t]:[]}function Ir(t){return(O(t)?t[0]:t)||{}}function Cr(e){R(Tg,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function Tr(m){R(m,function(u,c){var d=[],f=[NaN,NaN],t=[u.stackResultDimension,u.stackedOverDimension],p=u.data,g=u.isStackedByIndex,e=p.map(t,function(t,e,i){var n,r,o=p.get(u.stackedDimension,i);if(isNaN(o))return f;g?r=p.getRawIndex(i):n=p.get(u.stackedByDimension,i);for(var a=NaN,s=c-1;0<=s;s--){var l=m[s];if(g||(r=l.data.rawIndexOf(l.stackedByDimension,n)),0<=r){var h=l.data.getByRawIndex(l.stackResultDimension,r);if(0<=o&&0<h||o<=0&&h<0){o+=h,a=h;break}}}return d[0]=o,d[1]=a,d});p.hostModel.setData(e),u.data=e})}function Dr(t,e){sr.isInstance(t)||(t=sr.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===ug&&(this._offset=0,this._dimSize=e,this._data=i),D(this,Pg[n===ag?n+"_"+t.seriesLayoutBy:n])}function Ar(){return this._data.length}function kr(t){return this._data[t]}function Pr(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Lr(t,e,i,n){return null!=i?t[i]:t}function Or(t,e,i,n){return zr(t[n],this._dimensionInfos[e])}function zr(t,e){var i=e&&e.type;if("ordinal"!==i)return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Hn(t)),null==t||""===t?NaN:+t;var n=e&&e.ordinalMeta;return n?n.parseAndCollect(t):t}function Er(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var r,o,a=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(i);return s&&(r=s.name,o=s.index),Lg[a](n,e,o,r)}}}function Nr(t,e,i){if(t){var n=t.getProvider().getSource().sourceFormat;if(n===og||n===sg){var r=t.getRawDataItem(e);return n!==og||E(r)||(r=null),r?r[i]:void 0}}}function Rr(t){return new Br(t)}function Br(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function Vr(t,e,i,n,r,o){Rg.reset(i,n,r,o),t._callingProgress=e,t._callingProgress({start:i,end:n,count:n-i,next:Rg.next},t.context)}function Fr(t){var i,n,e=t.name;Je(t)||(t.name=(i=t.getRawData(),n=[],R(i.mapDimension("seriesName",!0),function(t){var e=i.getDimensionInfo(t);e.displayName&&n.push(e.displayName)}),n.join(" ")||e))}function Hr(t){return t.model.getRawData().count()}function Gr(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),Wr}function Wr(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function Zr(e,i){R(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,v(Ur,i))})}function Ur(t){var e=Xr(t);e&&e.setOutputEnd(this.count())}function Xr(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){var n=i.currentTask;if(n){var r=n.agentStubMap;r&&(n=r.get(t.uid))}return n}}function jr(){this.group=new Kc,this.uid=kn("viewChart"),this.renderTask=Rr({plan:$r,reset:Kr}),this.renderTask.context={view:this}}function Yr(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var i=0;i<t.childCount();i++)Yr(t.childAt(i),e)}function qr(e,t,i){var n=ei(e,t);null!=n?R(Ye(n),function(t){Yr(e.getItemGraphicEl(t),i)}):e.eachItemGraphicEl(function(t){Yr(t,i)})}function $r(t){return Zg(t.model)}function Kr(t){var e=t.model,i=t.ecModel,n=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&Wg(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,i,n,r),Xg[l]}function Qr(t,i,n){function r(){c=(new Date).getTime(),d=null,t.apply(s,l||[])}var o,a,s,l,h,u=0,c=0,d=null;i=i||0;var e=function(){o=(new Date).getTime(),s=this,l=arguments;var t=h||i,e=h||n;h=null,a=o-(e?u:c)-t,clearTimeout(d),e?d=setTimeout(r,t):0<=a?r():d=setTimeout(r,-a),u=o};return e.clear=function(){d&&(clearTimeout(d),d=null)},e.debounceNextCall=function(t){h=t},e}function Jr(t,e,i,n){var r=t[e];if(r){var o=r[jg]||r,a=r[qg];if(r[Yg]!==i||a!==n){if(null==i||!n)return t[e]=o;(r=t[e]=Qr(o,i,"debounce"===n))[jg]=o,r[qg]=n,r[Yg]=i}return r}}function to(t,e){var i=t[e];i&&i[jg]&&(t[e]=i[jg])}function eo(t,e,i,n){this.ecInstance=t,this.api=e,this.unfinished;i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=N()}function io(l,t,h,u,c){function d(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var f;c=c||{},R(t,function(n,t){if(!c.visualType||c.visualType===n.visualType){var e=l._stageTaskMap.get(n.uid),i=e.seriesTaskMap,r=e.overallTask;if(r){var o,a=r.agentStubMap;a.each(function(t){d(c,t)&&(t.dirty(),o=!0)}),o&&r.dirty(),em(r,u);var s=l.getPerformArgs(r,c.block);a.each(function(t){t.perform(s)}),f|=r.perform(s)}else i&&i.each(function(t,e){d(c,t)&&t.dirty();var i=l.getPerformArgs(t,c.block);i.skip=!n.performRawSeries&&h.isSeriesFiltered(t.context.model),em(t,u),f|=t.perform(i)})}}),l.unfinished|=f}function no(t){t.overallReset(t.ecModel,t.api,t.payload)}function ro(t,e){return t.overallProgress&&oo}function oo(){this.agent.dirty(),this.getDownstream().dirty()}function ao(){this.agent&&this.agent.dirty()}function so(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function lo(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=Ye(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<e.length?A(e,function(t,e){return ho(e)}):im}function ho(o){return function(t,e){var i=e.data,n=e.resetDefines[o];if(n&&n.dataEach)for(var r=t.start;r<t.end;r++)n.dataEach(i,r);else n&&n.progress&&n.progress(t,i)}}function uo(t){return t.data.count()}function co(t,e,i){var n=e.uid,r=t._pipelineMap.get(n);!r.head&&(r.head=i),r.tail&&r.tail.pipe(i),(r.tail=i).__idxInPipeline=r.count++,i.__pipeline=r}function fo(t,e){for(var i in e.prototype)t[i]=B}function po(n){return function(t,e,i){t=t&&t.toLowerCase(),gc.prototype[n].call(this,t,e,i)}}function go(){gc.call(this)}function mo(t,e,i){function n(t,e){return t.__prio-e.__prio}i=i||{},"string"==typeof e&&(e=Dm[e]),this.id,this.group,this._dom=t;var r=this._zr=Xe(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=Qr(x(r.flush,r),17),(e=b(e))&&Ag(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new mr;var o,a,s,l,h=this._api=(a=(o=this)._coordSysMgr,D(new gr(o),{getCoordinateSystems:x(a.getCoordinateSystems,a),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return o._model.getComponent(e.mainType,e.index);t=t.parent}}}));Yt(Tm,n),Yt(Mm,n),this._scheduler=new eo(this,h,Mm,Tm),gc.call(this),this._messageCenter=new go,this._initEvents(),this.resize=x(this.resize,this),this._pendingActions=[],r.animation.on("frame",this._onframe,this),l=this,(s=r).on("rendered",function(){l.trigger("rendered"),!s.animation.isFinished()||l[vm]||l._scheduler.unfinished||l._pendingActions.length||l.trigger("finished")}),d(this)}function vo(t,e,i){var n,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=ni(r,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(n=s[t](r,e,i)))return n}}function yo(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),Mo(t,"component",e,i),Mo(t,"chart",e,i),i.plan()}function _o(e,i,n,r,t){function o(t){t&&t.__alive&&t[i]&&t[i](t.__model,a,e._api,n)}var a=e._model;if(r){var s={};s[r+"Id"]=n[r+"Id"],s[r+"Index"]=n[r+"Index"],s[r+"Name"]=n[r+"Name"];var l={mainType:r,query:s};t&&(l.subType=t);var h=n.excludeSeriesId;null!=h&&(h=N(Ye(h))),a&&a.eachComponent(l,function(t){h&&null!=h.get(t.id)||o(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)}else cm(e._componentsViews.concat(e._chartsViews),o)}function xo(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries(function(t){n.updateStreamModes(t,i[t.__viewId])})}function wo(e,t){var i=e.type,n=e.escapeConnect,r=bm[i],o=r.actionInfo,a=(o.update||"update").split(":"),s=a.pop();a=null!=a[0]&&pm(a[0]),this[mm]=!0;var l=[e],h=!1;e.batch&&(h=!0,l=A(e.batch,function(t){return(t=T(D({},t),e)).batch=null,t}));var u,c=[],d="highlight"===i||"downplay"===i;cm(l,function(t){(u=(u=r.action(t,this._model,this._api))||D({},t)).type=o.event||u.type,c.push(u),d?_o(this,s,t,"series"):a&&_o(this,s,t,a.main,a.sub)},this),"none"===s||d||a||(this[vm]?(yo(this),xm.update.call(this,e),this[vm]=!1):xm[s].call(this,e)),u=h?{type:o.event||i,escapeConnect:n,batch:c}:c[0],this[mm]=!1,!t&&this._messageCenter.trigger(u.type,u)}function bo(t){for(var e=this._pendingActions;e.length;){var i=e.shift();wo.call(this,i,t)}}function So(t){!t&&this.trigger("updated")}function Mo(t,e,r,o){function i(t){var e="_ec_"+t.id+"_"+t.type,i=l[e];if(!i){var n=pm(t.type);(i=new(a?Fg.getClass(n.main,n.sub):jr.getClass(n.sub))).init(r,u),l[e]=i,s.push(i),h.add(i.group)}t.__viewId=i.__id=e,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!a&&o.prepareView(i,t,r,u)}for(var a="component"===e,s=a?t._componentsViews:t._chartsViews,l=a?t._componentsMap:t._chartsMap,h=t._zr,u=t._api,n=0;n<s.length;n++)s[n].__alive=!1;for(a?r.eachComponent(function(t,e){"series"!==t&&i(e)}):r.eachSeries(i),n=0;n<s.length;){var c=s[n];c.__alive?n++:(!a&&c.renderTask.dispose(),h.remove(c.group),c.dispose(r,u),s.splice(n,1),delete l[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function Io(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function Co(t,e,i,n){var r,o,a,s,l;r=t,o=e,a=i,s=n,cm(l||r._componentsViews,function(t){var e=t.__model;t.render(e,o,a,s),Ao(e,t)}),cm(t._chartsViews,function(t){t.__alive=!1}),To(t,e,i,n),cm(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function To(o,t,e,a,s){var l,i,n,r,h,u=o._scheduler;t.eachSeries(function(t){var e=o._chartsMap[t.__viewId];e.__alive=!0;var i,n,r=e.renderTask;u.updatePayload(r,a),s&&s.get(t.uid)&&r.dirty(),l|=r.perform(u.getPerformArgs(r)),e.group.silent=!!t.get("silent"),Ao(t,e),i=e,n=t.get("blendMode")||null,i.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}),u.unfinished|=l,i=o._zr,n=t,r=i.storage,h=0,r.traverse(function(t){t.isGroup||h++}),h>n.get("hoverLayerThreshold")&&!ju.node&&r.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)}),Qg(o._zr.dom,t)}function Do(e,i){cm(Cm,function(t){t(e,i)})}function Ao(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))})}function ko(t){Pm[t]=!1}function Po(t){return km[(e=t,i=zm,e.getAttribute?e.getAttribute(i):e[i])];var e,i}function Lo(t,e){Dm[t]=e}function Oo(t){Im.push(t)}function zo(t,e){Bo(Mm,t,e,1e3)}function Eo(t,e,i){"function"==typeof e&&(i=e,e="");var n=fm(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,um(ym.test(n)&&ym.test(e)),bm[n]||(bm[n]={action:i,actionInfo:t}),Sm[e]=n}function No(t,e){Bo(Tm,t,e,1e3,"layout")}function Ro(t,e){Bo(Tm,t,e,3e3,"visual")}function Bo(t,e,i,n,r){(dm(e)||fm(e))&&(i=e,e=n);var o=eo.wrapStageHandler(i,r);return o.__prio=e,o.__raw=i,t.push(o),o}function Vo(t,e){Am[t]=e}function Fo(t){return Jp.extend(t)}function Ho(t){return Fg.extend(t)}function Go(t){return Vg.extend(t)}function Wo(t){return jr.extend(t)}function Zo(t){return t}function Uo(t,e,i,n,r){this._old=t,this._new=e,this._oldKeyGetter=i||Zo,this._newKeyGetter=n||Zo,this.context=r}function Xo(t,e,i,n,r){for(var o=0;o<t.length;o++){var a="_ec_"+r[n](t[o],o),s=e[a];null==s?(i.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}function jo(t){return 65535<t._rawCount?Fm:Hm}function Yo(e,i){R(Gm.concat(i.__wrappedMethods||[]),function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e.__wrappedMethods=i.__wrappedMethods,R(Wm,function(t){e[t]=b(i[t])}),e._calculationInfo=D(i._calculationInfo)}function qo(t,e,i){var n;if(null!=e){var r=t._chunkSize,o=Math.floor(i/r),a=i%r,s=t.dimensions[e],l=t._storage[s][o];if(l){n=l[a];var h=t._dimensionInfos[s].ordinalMeta;h&&h.categories.length&&(n=h.categories[n])}}return n}function $o(t){return t}function Ko(t){return t<this._count&&0<=t?this._indices[t]:-1}function Qo(t,e){var i=t._idList[e];return null==i&&(i=qo(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i}function Jo(t){return O(t)||(t=[t]),t}function ta(t,e){var i=t.dimensions,n=new Zm(A(i,t.getDimensionInfo,t),t.hostModel);Yo(n,t);for(var r=n._storage={},o=t._storage,a=0;a<i.length;a++){var s=i[a];o[s]&&(0<=f(e,s)?(r[s]=ea(o[s]),n._rawExtent[s]=[1/0,-1/0],n._extent[s]=null):r[s]=o[s])}return n}function ea(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=(n=t[i],r=void 0,(r=n.constructor)===Array?n.slice():new r(n));var n,r;return e}function ia(t,e,i){function l(t,e,i){null!=Rm.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,o.set(e,!0))}sr.isInstance(e)||(e=sr.seriesDataToSource(e)),i=i||{},t=(t||[]).slice();for(var n=(i.dimsDef||[]).slice(),h=N(i.encodeDef),r=N(),o=N(),u=[],a=function(t,e,i,n){var r=Math.max(t.dimensionsDetectCount||1,e.length,i.length,n||0);return R(e,function(t){var e=t.dimsDef;e&&(r=Math.max(r,e.length))}),r}(e,t,n,i.dimCount),s=0;s<a;s++){var c=n[s]=D({},E(n[s])?n[s]:{name:n[s]}),d=c.name,f=u[s]={otherDims:{}};null!=d&&null==r.get(d)&&(f.name=f.displayName=d,r.set(d,s)),null!=c.type&&(f.type=c.type),null!=c.displayName&&(f.displayName=c.displayName)}h.each(function(t,i){t=Ye(t).slice();var n=h.set(i,[]);R(t,function(t,e){S(t)&&(t=r.get(t)),null!=t&&t<a&&(n[e]=t,l(u[t],i,e))})});var p=0;R(t,function(r,t){var o,a,s;if(S(r))o=r,r={};else{o=r.name;var e=r.ordinalMeta;r.ordinalMeta=null,(r=b(r)).ordinalMeta=e,a=r.dimsDef,s=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var i=Ye(h.get(o));if(!i.length)for(var n=0;n<(a&&a.length||1);n++){for(;p<u.length&&null!=u[p].coordDim;)p++;p<u.length&&i.push(p++)}R(i,function(t,e){var i=u[t];if(l(T(i,r),o,e),null==i.name&&a){var n=a[e];!E(n)&&(n={name:n}),i.name=i.displayName=n.name,i.defaultTooltip=n.defaultTooltip}s&&T(i.otherDims,s)})});var g,m,v=i.generateCoord,y=i.generateCoordCount,_=null!=y;y=v?y||1:0;for(var x=v||"value",w=0;w<a;w++)null==(f=u[w]=u[w]||{}).coordDim&&(f.coordDim=na(x,o,_),f.coordDimIndex=0,(!v||y<=0)&&(f.isExtraCoord=!0),y--),null==f.name&&(f.name=na(f.coordDim,r)),null==f.type&&(g=e,m=w,f.name,cr(g.data,g.sourceFormat,g.seriesLayoutBy,g.dimensionsDefine,g.startIndex,m))&&(f.type="ordinal");return u}function na(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}function ra(t,i,e){var n,r,o,a,s=(e=e||{}).byIndex,l=e.stackedCoordDimension,h=!(!t||!t.get("stack"));if(R(i,function(t,e){S(t)&&(i[e]=t={name:t}),h&&!t.isExtraCoord&&(s||n||!t.ordinalMeta||(n=t),r||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(r=t))}),!r||s||n||(s=!0),r){o="__\0ecstackresult",a="__\0ecstackedover",n&&(n.createInvertedIndices=!0);var u=r.coordDim,c=r.type,d=0;R(i,function(t){t.coordDim===u&&d++}),i.push({name:o,coordDim:u,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0}),d++,i.push({name:a,coordDim:a,coordDimIndex:d,type:c,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:r&&r.name,stackedByDimension:n&&n.name,isStackedByIndex:s,stackedOverDimension:a,stackResultDimension:o}}function oa(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function aa(t,e){return oa(t,e)?t.getCalculationInfo("stackResultDimension"):e}function sa(t,e,i){i=i||{},sr.isInstance(t)||(t=sr.seriesDataToSource(t));var n,r=e.get("coordinateSystem"),o=mr.get(r),a=or(e);a&&(n=A(a.coordSysDims,function(t){var e,i={name:t},n=a.axisMap.get(t);if(n){var r=n.get("type");i.type="category"===(e=r)?"ordinal":"time"===e?"time":"float"}return i})),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]);var s,l,h=jm(t,{coordDimensions:n,generateCoord:i.generateCoord});a&&R(h,function(t,e){var i=t.coordDim,n=a.categoryAxisMap.get(i);n&&(null==s&&(s=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)}),l||null==s||(h[s].otherDims.itemName=0);var u=ra(e,h),c=new Zm(h,e);c.setCalculationInfo(u);var d=null!=s&&function(t){if(t.sourceFormat===og){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=e&&!O($e(e))}}(t)?function(t,e,i,n){return n===s?i:this.defaultDimValueGetter(t,e,i,n)}:null;return c.hasItemOption=!1,c.initData(t,null,d),c}function la(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function ha(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function ua(t){return t._map||(t._map=N(t.categories))}function ca(t){return E(t)&&null!=t.value?t.value:t+""}function da(t){return Nn(t)+2}function fa(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function pa(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),fa(t,0,e),fa(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function ga(t){return t.get("stack")||tv+t.seriesIndex}function ma(t){return t.dim+t.index}function va(t,e){var i=[];return e.eachSeriesByType(t,function(t){xa(t)&&!wa(t)&&i.push(t)}),i}function ya(t){var h=[];return R(t,function(t){var e=t.getData(),i=t.coordinateSystem.getBaseAxis(),n=i.getExtent(),r="category"===i.type?i.getBandWidth():Math.abs(n[1]-n[0])/e.count(),o=Ln(t.get("barWidth"),r),a=Ln(t.get("barMaxWidth"),r),s=t.get("barGap"),l=t.get("barCategoryGap");h.push({bandWidth:r,barWidth:o,barMaxWidth:a,barGap:s,barCategoryGap:l,axisKey:ma(i),stackId:ga(t)})}),function(t){var c={};R(t,function(t,e){var i=t.axisKey,n=t.bandWidth,r=c[i]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=r.stacks;c[i]=r;var a=t.stackId;o[a]||r.autoWidthCount++,o[a]=o[a]||{width:0,maxWidth:0};var s=t.barWidth;s&&!o[a].width&&(o[a].width=s,s=Math.min(r.remainedWidth,s),r.remainedWidth-=s);var l=t.barMaxWidth;l&&(o[a].maxWidth=l);var h=t.barGap;null!=h&&(r.gap=h);var u=t.barCategoryGap;null!=u&&(r.categoryGap=u)});var d={};return R(c,function(t,i){d[i]={};var e=t.stacks,n=t.bandWidth,r=Ln(t.categoryGap,n),o=Ln(t.gap,1),a=t.remainedWidth,s=t.autoWidthCount,l=(a-r)/(s+(s-1)*o);l=Math.max(l,0),R(e,function(t,e){var i=t.maxWidth;i&&i<l&&(i=Math.min(i,a),t.width&&(i=Math.min(i,t.width)),a-=i,t.width=i,s--)}),l=(a-r)/(s+(s-1)*o),l=Math.max(l,0);var h,u=0;R(e,function(t,e){t.width||(t.width=l),u+=(h=t).width*(1+o)}),h&&(u-=h.width*o);var c=-u/2;R(e,function(t,e){d[i][e]=d[i][e]||{offset:c,width:t.width},c+=t.width*(1+o)})}),d}(h)}function _a(t,e,i){if(t&&e){var n=t[ma(e)];return null!=n&&null!=i&&(n=n[ga(i)]),n}}function xa(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function wa(t){return t.pipelineContext&&t.pipelineContext.large}function ba(t,e,i){return 0<=f(t.getAxesOnZeroOf(),e)||i?e.toGlobalCoord(e.dataToCoord(0)):e.getGlobalExtent()[0]}function Sa(t,e){return cv(t,uv(e))}function Ma(t,e){var i,n,r,o=t.type,a=e.getMin(),s=e.getMax(),l=null!=a,h=null!=s,u=t.getExtent();"ordinal"===o?i=e.getCategories().length:(O(n=e.get("boundaryGap"))||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(n=[0,0]),n[0]=Ln(n[0],1),n[1]=Ln(n[1],1),r=u[1]-u[0]||Math.abs(u[0])),null==a&&(a="ordinal"===o?i?0:NaN:u[0]-n[0]*r),null==s&&(s="ordinal"===o?i?i-1:NaN:u[1]+n[1]*r),"dataMin"===a?a=u[0]:"function"==typeof a&&(a=a({min:u[0],max:u[1]})),"dataMax"===s?s=u[1]:"function"==typeof s&&(s=s({min:u[0],max:u[1]})),(null==a||!isFinite(a))&&(a=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(M(a)||M(s)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(0<a&&0<s&&!l&&(a=0),a<0&&s<0&&!h&&(s=0));var c=e.ecModel;if(c&&"time"===o){var d,f=va("bar",c);if(R(f,function(t){d|=t.getBaseAxis()===e.axis}),d){var p=ya(f),g=function(t,e,i,n){var r=i.axis.getExtent(),o=r[1]-r[0],a=_a(n,i.axis);if(void 0===a)return{min:t,max:e};var s=1/0;R(a,function(t){s=Math.min(t.offset,s)});var l=-1/0;R(a,function(t){l=Math.max(t.offset+t.width,l)}),s=Math.abs(s),l=Math.abs(l);var h=s+l,u=e-t,c=u/(1-(s+l)/o)-u;return{min:t-=c*(s/h),max:e+=c*(l/h)}}(a,s,e,p);a=g.min,s=g.max}}return[a,s]}function Ia(t,e){var i=Ma(t,e),n=null!=e.getMin(),r=null!=e.getMax(),o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:o,fixMin:n,fixMax:r,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function Ca(t,e){if(e=e||t.get("type"))switch(e){case"category":return new $m(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new Jm;default:return(la.getClass(e)||Jm).create(t)}}function Ta(i){var e,n=i.getLabelModel().get("formatter"),r="category"===i.type?i.scale.getExtent()[0]:null;return"string"==typeof n?(e=n,n=function(t){return e.replace("{value}",null!=t?t:"")}):"function"==typeof n?function(t,e){return null!=r&&(e=t-r),n(Da(i,t),e)}:function(t){return i.scale.getLabel(t)}}function Da(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Aa(t,e){if("image"!==this.type){var i=this.style,n=this.shape;n&&"line"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1)}}function ka(t,e,i,n,r,o,a){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?Ui(t.slice(8),new Gt(e,i,n,r),a?"center":"cover"):0===t.indexOf("path://")?Zi(t.slice(7),{},new Gt(e,i,n,r),a?"center":"cover"):new Mv({shape:{symbolType:t,x:e,y:i,width:n,height:r}})).__isEmptyBrush=l,s.setColor=Aa,s.setColor(o),s}function Pa(t,e){return Math.abs(t-e)<Tv}function La(t,e,i){var n=0,r=t[0];if(!r)return!1;for(var o=1;o<t.length;o++){var a=t[o];n+=Pi(r[0],r[1],a[0],a[1],e,i),r=a}var s=t[0];return Pa(r[0],s[0])&&Pa(r[1],s[1])||(n+=Pi(r[0],r[1],s[0],s[1],e,i)),0!==n}function Oa(t,e,i){if(this.name=t,this.geometries=e,i)i=[i[0],i[1]];else{var n=this.getBoundingRect();i=[n.x+n.width/2,n.y+n.height/2]}this.center=i}function za(t,e,i){for(var n=[],r=e[0],o=e[1],a=0;a<t.length;a+=2){var s=t.charCodeAt(a)-64,l=t.charCodeAt(a+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),r=s+=r,o=l+=o,n.push([s/i,l/i])}return n}function Ea(t){return"category"===t.type?(o=(r=t).getLabelModel(),a=Ra(r,o),!o.get("show")||r.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a):(e=(i=t).scale.getTicks(),n=Ta(i),{labels:A(e,function(t,e){return{formattedLabel:n(t,e),rawLabel:i.scale.getLabel(t),tickValue:t}})});var i,e,n,r,o,a}function Na(t,e){return"category"===t.type?function(t,e){var i,n,r=Ba(t,"ticks"),o=Wa(e),a=Va(r,o);if(a)return a;if(e.get("show")&&!t.scale.isBlank()||(i=[]),y(o))i=Ga(t,o,!0);else if("auto"===o){var s=Ra(t,t.getLabelModel());n=s.labelCategoryInterval,i=A(s.labels,function(t){return t.tickValue})}else i=Ha(t,n=o,!0);return Fa(r,o,{ticks:i,tickCategoryInterval:n})}(t,e):{ticks:t.scale.getTicks()}}function Ra(t,e){var i,n,r,o=Ba(t,"labels"),a=Wa(e),s=Va(o,a);return s||Fa(o,a,{labels:y(a)?Ga(t,a):Ha(t,i="auto"===a?null!=(r=Av(n=t).autoInterval)?r:Av(n).autoInterval=n.calculateCategoryInterval():a),labelCategoryInterval:i})}function Ba(t,e){return Av(t)[e]||(Av(t)[e]=[])}function Va(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function Fa(t,e,i){return t.push({key:e,value:i}),i}function Ha(t,e,i){function n(t){l.push(i?t:{formattedLabel:r(t),rawLabel:o.getLabel(t),tickValue:t})}var r=Ta(t),o=t.scale,a=o.getExtent(),s=t.getLabelModel(),l=[],h=Math.max((e||0)+1,1),u=a[0],c=o.count();0!==u&&1<h&&2<c/h&&(u=Math.round(Math.ceil(u/h)*h));var d=s.get("showMinLabel"),f=s.get("showMaxLabel");d&&u!==a[0]&&n(a[0]);for(var p=u;p<=a[1];p+=h)n(p);return f&&p!==a[1]&&n(a[1]),l}function Ga(t,i,n){var r=t.scale,o=Ta(t),a=[];return R(r.getTicks(),function(t){var e=r.getLabel(t);i(t,e)&&a.push(n?t:{formattedLabel:o(t),rawLabel:e,tickValue:t})}),a}function Wa(t){var e=t.get("interval");return null==e?"auto":e}function Za(t,e){var i=(t[1]-t[0])/e/2;t[0]+=i,t[1]-=i}function Ua(t,e){var i=t.mapDimension("defaultedLabel",!0),n=i.length;if(1===n)return Er(t,e,i[0]);if(n){for(var r=[],o=0;o<i.length;o++){var a=Er(t,e,i[o]);r.push(a)}return r.join(" ")}}function Xa(t,e,i){Kc.call(this),this.updateData(t,e,i)}function ja(t){return[t[0]/2,t[1]/2]}function Ya(t,e){this.parent.drift(t,e)}function qa(t){this.group=new Kc,this._symbolCtor=t||Xa}function $a(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&!(n.isIgnore&&n.isIgnore(i))&&!(n.clipShape&&!n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function Ka(t){return null==t||E(t)||(t={isIgnore:t}),t||{}}function Qa(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function Ja(t,e,i){var n,r,o,a,s=t.getBaseAxis(),l=t.getOtherAxis(s),h=(r=i,o=0,a=l.scale.getExtent(),"start"===r?o=a[0]:"end"===r?o=a[1]:0<a[0]?o=a[0]:a[1]<0&&(o=a[1]),o),u=s.dim,c=l.dim,d=e.mapDimension(c),f=e.mapDimension(u),p="x"===c||"radius"===c?1:0,g=A(t.dimensions,function(t){return e.mapDimension(t)}),m=e.getCalculationInfo("stackResultDimension");return(n|=oa(e,g[0]))&&(g[0]=m),(n|=oa(e,g[1]))&&(g[1]=m),{dataDimsForPoint:g,valueStart:h,valueAxisDim:c,baseAxisDim:u,stacked:!!n,valueDim:d,baseDim:f,baseDataOffset:p,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function ts(t,e,i,n){var r=NaN;t.stacked&&(r=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=i.get(t.baseDim,n),a[1-o]=r,e.dataToPoint(a)}function es(t){return isNaN(t[0])||isNaN(t[1])}function is(t,e,i,n,r,o,a,s,l,h,u){return"none"!==h&&h?function(t,e,i,n,r,o,a,s,l,h,u){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(r<=d||d<0)break;if(es(p)){if(u){d+=o;continue}break}if(d===i)t[0<o?"moveTo":"lineTo"](p[0],p[1]);else if(0<l){var g=e[c],m="y"===h?1:0,v=(p[m]-g[m])*l;Zv(Xv,g),Xv[m]=g[m]+v,Zv(jv,p),jv[m]=p[m]-v,t.bezierCurveTo(Xv[0],Xv[1],jv[0],jv[1],p[0],p[1])}else t.lineTo(p[0],p[1]);c=d,d+=o}return f}.apply(this,arguments):function(t,e,i,n,r,o,a,s,l,h,u){for(var c=0,d=i,f=0;f<n;f++){var p=e[d];if(r<=d||d<0)break;if(es(p)){if(u){d+=o;continue}break}if(d===i)t[0<o?"moveTo":"lineTo"](p[0],p[1]),Zv(Xv,p);else if(0<l){var g=d+o,m=e[g];if(u)for(;m&&es(e[g]);)m=e[g+=o];var v=.5,y=e[c];if(!(m=e[g])||es(m))Zv(jv,p);else{var _,x;if(es(m)&&!u&&(m=p),W(Uv,m,y),"x"===h||"y"===h){var w="x"===h?0:1;_=Math.abs(p[w]-y[w]),x=Math.abs(p[w]-m[w])}else _=cc(p,y),x=cc(p,m);Wv(jv,p,Uv,-l*(1-(v=x/(x+_))))}Hv(Xv,Xv,s),Gv(Xv,Xv,a),Hv(jv,jv,s),Gv(jv,jv,a),t.bezierCurveTo(Xv[0],Xv[1],jv[0],jv[1],p[0],p[1]),Wv(Xv,p,Uv,l*v)}else t.lineTo(p[0],p[1]);c=d,d+=o}return f}.apply(this,arguments)}function ns(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<i[0]&&(i[0]=o[0]),o[1]<i[1]&&(i[1]=o[1]),o[0]>n[0]&&(n[0]=o[0]),o[1]>n[1]&&(n[1]=o[1])}return{min:e?i:n,max:e?n:i}}function rs(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],r=e[i];if(n[0]!==r[0]||n[1]!==r[1])return}return!0}}function os(t){return"number"==typeof t?t:t?.5:0}function as(t){var e=t.getGlobalExtent();if(t.onBand){var i=t.getBandWidth()/2-1,n=e[1]>e[0]?1:-1;e[0]+=n*i,e[1]-=n*i}return e}function ss(t,e,i,n){return"polar"===t.type?function(t,e,i,n){var r=t.getAngleAxis(),o=t.getRadiusAxis().getExtent().slice();o[0]>o[1]&&o.reverse();var a=r.getExtent(),s=Math.PI/180;i&&(o[0]-=.5,o[1]+=.5);var l=new lp({shape:{cx:On(t.cx,1),cy:On(t.cy,1),r0:On(o[0],1),r:On(o[1],1),startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:r.inverse}});return e&&(l.shape.endAngle=-a[0]*s,xn(l,{shape:{endAngle:-a[1]*s}},n)),l}(t,e,i,n):function(t,e,i,n){var r=as(t.getAxis("x")),o=as(t.getAxis("y")),a=t.getBaseAxis().isHorizontal(),s=Math.min(r[0],r[1]),l=Math.min(o[0],o[1]),h=Math.max(r[0],r[1])-s,u=Math.max(o[0],o[1])-l;if(i)s-=.5,h+=.5,l-=.5,u+=.5;else{var c=n.get("lineStyle.width")||2,d=n.get("clipOverflow")?c/2:Math.max(h,u);a?(l-=d,u+=2*d):(s-=d,h+=2*d)}var f=new dp({shape:{x:s,y:l,width:h,height:u}});return e&&(f.shape[a?"width":"height"]=0,xn(f,{shape:{width:h,height:u}},n)),f}(t,e,i,n)}function ls(t,e,i){for(var n=e.getBaseAxis(),r="x"===n.dim||"radius"===n.dim?0:1,o=[],a=0;a<t.length-1;a++){var s=t[a+1],l=t[a];o.push(l);var h=[];switch(i){case"end":h[r]=s[r],h[1-r]=l[1-r],o.push(h);break;case"middle":var u=(l[r]+s[r])/2,c=[];h[r]=c[r]=u,h[1-r]=l[1-r],c[1-r]=s[1-r],o.push(h),o.push(c);break;default:h[r]=l[r],h[1-r]=s[1-r],o.push(h)}}return t[a]&&o.push(t[a]),o}function hs(t,e,i){var n=t.get("showAllSymbol"),r="auto"===n;if(!n||r){var o=i.getAxesByScale("ordinal")[0];if(o&&(!r||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*Xa.getSymbolSize(e,a)[t.isHorizontal()?1:0]>n)return!1;return!0}(o,e))){var a=e.mapDimension(o.dim),s={};return R(o.getViewLabels(),function(t){s[t.tickValue]=1}),function(t){return!s.hasOwnProperty(e.get(a,t))}}}}function us(t){return this._axes[t]}function cs(t){ty.call(this,t)}function ds(t,e){return e.type||(e.data?"category":"value")}function fs(t,e,i){return t.getCoordSysModel()===e}function ps(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}function gs(t,e,i){i.getAxesOnZeroOf=function(){return n?[n]:[]};var n,r=t[e],o=i.model,a=o.get("axisLine.onZero"),s=o.get("axisLine.onZeroAxisIndex");if(a)if(null==s){for(var l in r)if(r.hasOwnProperty(l)&&ms(r[l])){n=r[l];break}}else ms(r[s])&&(n=r[s])}function ms(t){return t&&"category"!==t.type&&"time"!==t.type&&(e=t.scale.getExtent(),i=e[0],n=e[1],!(0<i&&0<n||i<0&&n<0));var e,i,n}function vs(e,t){return A(hy,function(t){return e.getReferringComponents(t)[0]})}function ys(t){return"cartesian2d"===t.get("coordinateSystem")}function _s(t){var e={componentType:t.mainType};return e[t.mainType+"Index"]=t.componentIndex,e}function xs(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function ws(t){t&&(t.ignore=!0)}function bs(t,e,i){var n=t&&t.getBoundingRect().clone(),r=e&&e.getBoundingRect().clone();if(n&&r){var o=rt([]);return lt(o,o,-t.rotation),n.applyTransform(at([],o,t.getLocalTransform())),r.applyTransform(at([],o,e.getLocalTransform())),n.intersect(r)}}function Ss(t){return"middle"===t||"center"===t}function Ms(t,e){var p,g,i,o,m,v,y,n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return p=n,i=e,o=(g=t).getComponent("tooltip"),m=g.getComponent("axisPointer"),v=m.get("link",!0)||[],y=[],py(i.getCoordinateSystems(),function(c){function t(t,e,i){var n=i.model.getModel("axisPointer",m),r=n.get("show");if(r&&("auto"!==r||t||Ts(n))){null==e&&(e=n.get("triggerTooltip"));var o=(n=t?function(t,e,i,n,r,o){var a=e.getModel("axisPointer"),s={};py(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=b(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");var l=s.label||(s.label={});if(null==l.show&&(l.show=!1),"cross"===r){var h=a.get("label.show");if(l.show=null==h||h,!o){var u=s.lineStyle=a.get("crossStyle");u&&T(l,u.textStyle)}}return t.model.getModel("axisPointer",new Tn(s,i,n))}(i,f,m,g,t,e):n).get("snap"),a=Ds(i.model),s=e||o||"category"===i.type,l=p.axesInfo[a]={key:a,axis:i,coordSys:c,axisPointerModel:n,triggerTooltip:e,involveSeries:s,snap:o,useHandle:Ts(n),seriesModels:[]};d[a]=l,p.seriesInvolved|=s;var h=function(t,e){for(var i=e.model,n=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(Is(o[n+"AxisId"],i.id)||Is(o[n+"AxisIndex"],i.componentIndex)||Is(o[n+"AxisName"],i.name))return r}}(v,i);if(null!=h){var u=y[h]||(y[h]={axesInfo:{}});u.axesInfo[a]=l,u.mapper=v[h].mapper,l.linkGroup=u}}}if(c.axisPointerEnabled){var e=Ds(c.model),d=p.coordSysAxesInfo[e]={},f=(p.coordSysMap[e]=c).model.getModel("tooltip",o);if(py(c.getAxes(),gy(t,!1,null)),c.getTooltipAxes&&o&&f.get("show")){var i="axis"===f.get("trigger"),n="cross"===f.get("axisPointer.type"),r=c.getTooltipAxes(f.get("axisPointer.axis"));(i||n)&&py(r.baseAxes,gy(t,!n||"cross",i)),n&&py(r.otherAxes,gy(t,"cross",!1))}}}),n.seriesInvolved&&function(r,t){t.eachSeries(function(i){var n=i.coordinateSystem,t=i.get("tooltip.trigger",!0),e=i.get("tooltip.show",!0);n&&"none"!==t&&!1!==t&&"item"!==t&&!1!==e&&!1!==i.get("axisPointer.show",!0)&&py(r.coordSysAxesInfo[Ds(n.model)],function(t){var e=t.axis;n.getAxis(e.dim)===e&&(t.seriesModels.push(i),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=i.getData().count())})},this)}(n,t),n}function Is(t,e){return"all"===t||O(t)&&0<=f(t,e)||t===e}function Cs(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Ds(t)]}function Ts(t){return!!t.get("handle.show")}function Ds(t){return t.type+"||"+t.id}function As(t,e,i,n,r,o){var a,s=my.getAxisPointerClass(t.axisPointerClass);if(s){var l=(a=Cs(e))&&a.axisPointerModel;l?(t._axisPointer||(t._axisPointer=new s)).render(e,l,n,o):ks(t,n)}}function ks(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}function Ps(t,e,i){i=i||{};var n=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,h=r.dim,u=n.getRect(),c=[u.x,u.x+u.width,u.y,u.y+u.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===h?[c[2]-f,c[3]+f]:[c[0]-f,c[1]+f];if(a){var g=a.toGlobalCoord(a.dataToCoord(0));p[d.onZero]=Math.max(Math.min(g,p[1]),p[0])}o.position=["y"===h?p[d[l]]:c[0],"x"===h?p[d[l]]:c[3]],o.rotation=Math.PI/2*("x"===h?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?p[d[s]]-p[d.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),k(i.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);var m=e.get("axisLabel.rotate");return o.labelRotate="top"===l?-m:m,o.z2=1,o}function Ls(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Os(t,e,i){i.style.text=null,_n(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i)})}function zs(t,e,i){i.style.text=null,_n(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&&i.parent.remove(i)})}function Es(t,e,i,n,r,o,a,s){var l=e.getItemVisual(i,"color"),h=e.getItemVisual(i,"opacity"),u=n.getModel("itemStyle"),c=n.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",u.get("barBorderRadius")||0),t.useStyle(T({fill:l,opacity:h},u.getBarItemStyle()));var d=n.getShallow("cursor");d&&t.attr("cursor",d);var f,p,g,m,v,y;a?r.height:r.width;s||(f=t.style,m=l,v=o,y=i,cn(f,p=c,(g=n).getModel("label"),g.getModel("emphasis.label"),{labelFetcher:v,labelDataIndex:y,defaultText:Ua(v.getData(),y),isRectText:!0,autoColor:m}),Ls(f),Ls(p)),un(t,c)}function Ns(t,e,i){var n=t.getData(),r=[],o=n.getLayout("valueAxisHorizontal")?1:0;r[1-o]=n.getLayout("valueAxisStart");var a,s,l,h,u,c=new Iy({shape:{points:n.getLayout("largePoints")},incremental:!!i,__startPoint:r,__valueIdx:o});e.add(c),a=c,s=t,h=(l=n).getVisual("borderColor")||l.getVisual("color"),u=s.getModel("itemStyle").getItemStyle(["color","borderColor"]),a.useStyle(u),a.style.fill=null,a.style.stroke=h,a.style.lineWidth=l.getLayout("barWidth")}function Rs(t,e,i,n){var r=e.getData(),o=this.dataIndex,a=r.getName(o),s=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),r.each(function(t){Bs(r.getItemGraphicEl(t),r.getItemLayout(t),e.isSelected(r.getName(t)),s,i)})}function Bs(t,e,i,n,r){var o=(e.startAngle+e.endAngle)/2,a=i?n:0,s=[Math.cos(o)*a,Math.sin(o)*a];r?t.animate().when(200,{position:s}).start("bounceOut"):t.attr("position",s)}function Vs(t,e){function i(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function n(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}Kc.call(this);var r=new lp({z2:2}),o=new cp,a=new rp;this.add(r),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",i).on("normal",n).on("mouseover",i).on("mouseout",n)}function Fs(o,t,e,i,n,r,a){function s(t,e){for(var i=t;0<=i&&(o[i].y-=e,!(0<i&&o[i].y>o[i-1].y+o[i-1].height));i--);}function l(t,e,i,n,r,o){for(var a=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("center"!==t[s].position){var h=Math.abs(t[s].y-n),u=t[s].len,c=t[s].len2,d=h<r+u?Math.sqrt((r+u+c)*(r+u+c)-h*h):Math.abs(t[s].x-i);e&&a<=d&&(d=a-10),!e&&d<=a&&(d=a+10),t[s].x=i+d*o,a=d}}o.sort(function(t,e){return t.y-e.y});for(var h,u=0,c=o.length,d=[],f=[],p=0;p<c;p++)(h=o[p].y-u)<0&&function(t,e,i,n){for(var r=t;r<e;r++)if(o[r].y+=i,t<r&&r+1<e&&o[r+1].y>o[r].y+o[r].height)return s(r,i/2);s(e-1,i/2)}(p,c,-h),u=o[p].y+o[p].height;for(a-u<0&&s(c-1,u-a),p=0;p<c;p++)o[p].y>=e?f.push(o[p]):d.push(o[p]);l(d,!1,t,e,i,n),l(f,!0,t,e,i,n)}function Hs(){this.group=new Kc}function Gs(t,e,i,n){var r=i.type,o=new(Cp[r.charAt(0).toUpperCase()+r.slice(1)])(i);e.add(o),n.set(t,o),o.__ecGraphicId=t}function Ws(t,e){var i=t&&t.parent;i&&("group"===t.type&&t.traverse(function(t){Ws(t,e)}),e.removeKey(t.__ecGraphicId),i.remove(t))}function Zs(e,t){var i;return R(t,function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)}),i}function Us(t,e,i,n,r){var l,o,h,u,c,d,f,p,a=t.axis;if(!a.scale.isBlank()&&a.containData(e))if(t.involveSeries){var s=(l=e,h=(o=t).axis,u=h.dim,c=l,d=[],f=Number.MAX_VALUE,p=-1,Ny(o.seriesModels,function(e,t){var i,n,r=e.getData().mapDimension(u,!0);if(e.getAxisTooltipData){var o=e.getAxisTooltipData(r,l,h);n=o.dataIndices,i=o.nestestValue}else{if(!(n=e.getData().indicesOfNearest(r[0],l,"category"===h.type?.5:null)).length)return;i=e.getData().get(r[0],n[0])}if(null!=i&&isFinite(i)){var a=l-i,s=Math.abs(a);s<=f&&((s<f||0<=a&&p<0)&&(f=s,p=a,c=i,d.length=0),Ny(n,function(t){d.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})}))}}),{payloadBatch:d,snapToValue:c}),g=s.payloadBatch,m=s.snapToValue;g[0]&&null==r.seriesIndex&&D(r,g[0]),!n&&t.snap&&a.containData(m)&&null!=m&&(e=m),i.showPointer(t,e,g,r),i.showTooltip(t,s,m)}else i.showPointer(t,e)}function Xs(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function js(t,e,i,n){var r=i.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,h=Ds(l),u=t.map[h];u||(u=t.map[h]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:n,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:r.slice()})}}function Ys(t){var e=t.axis.model,i={},n=i.axisDim=t.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=e.componentIndex,i.axisName=i[n+"AxisName"]=e.name,i.axisId=i[n+"AxisId"]=e.id,i}function qs(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function $s(t,e,i){if(!ju.node){var n=e.getZr();Vy(n).records||(Vy(n).records={}),function(u,c){function t(t,h){u.on(t,function(e){var n,r,t,i,o,a,s,l=(n=c,{dispatchAction:function t(e){var i=r[e.type];i?i.push(e):(e.dispatchAction=t,n.dispatchAction(e))},pendings:r={showTip:[],hideTip:[]}});Fy(Vy(u).records,function(t){t&&h(t,e,l.dispatchAction)}),t=l.pendings,i=c,a=t.showTip.length,s=t.hideTip.length,a?o=t.showTip[a-1]:s&&(o=t.hideTip[s-1]),o&&(o.dispatchAction=null,i.dispatchAction(o))})}Vy(u).initialized||(Vy(u).initialized=!0,t("click",v(Qs,"click")),t("mousemove",v(Qs,"mousemove")),t("globalout",Ks))}(n,e),(Vy(n).records[t]||(Vy(n).records[t]={})).handler=i}}function Ks(t,e,i){t.handler("leave",null,i)}function Qs(t,e,i,n){e.handler(t,i,n)}function Js(t,e){if(!ju.node){var i=e.getZr();(Vy(i).records||{})[t]&&(Vy(i).records[t]=null)}}function tl(){}function el(t,e,i,n){(function i(n,t){if(E(n)&&E(t)){var r=!0;return R(t,function(t,e){r=r&&i(n[e],t)}),!!r}return n===t})(Gy(i).lastProp,n)||(Gy(i).lastProp=n,e?_n(i,n,t):(i.stopAnimation(),i.attr(n)))}function il(t,e){t[e.get("label.show")?"show":"hide"]()}function nl(t){return{position:t.position.slice(),rotation:t.rotation||0}}function rl(t,e,i){var n=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=r&&(t.zlevel=r),t.silent=i)})}function ol(t,e,i,n,r){var o=al(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),a=i.getModel("label"),s=Vp(a.get("padding")||0),l=a.getFont(),h=ne(o,l),u=r.position,c=h.width+s[1]+s[3],d=h.height+s[0]+s[2],f=r.align;"right"===f&&(u[0]-=c),"center"===f&&(u[0]-=c/2);var p,g,m,v,y,_,x=r.verticalAlign;"bottom"===x&&(u[1]-=d),"middle"===x&&(u[1]-=d/2),p=u,g=c,m=d,y=(v=n).getWidth(),_=v.getHeight(),p[0]=Math.min(p[0]+g,y)-g,p[1]=Math.min(p[1]+m,_)-m,p[0]=Math.max(p[0],0),p[1]=Math.max(p[1],0);var w=a.get("backgroundColor");w&&"auto"!==w||(w=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:c,height:d,r:a.get("borderRadius")},position:u.slice(),style:{text:o,textFont:l,textFill:a.getTextColor(),textPosition:"inside",fill:w,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function al(t,e,r,i,n){t=e.scale.parse(t);var o=e.scale.getLabel(t,{precision:n.precision}),a=n.formatter;if(a){var s={value:Da(e,t),seriesData:[]};R(i,function(t){var e=r.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);n&&s.seriesData.push(n)}),S(a)?o=a.replace("{value}",o):y(a)&&(o=a(s))}return o}function sl(t,e,i){var n=nt();return lt(n,n,i.rotation),st(n,n,i.position),bn([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function ll(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}function hl(t){return"x"===t.dim?0:1}function ul(r){var i,n,t,e,o,a,s=[],l=r.get("transitionDuration"),h=r.get("backgroundColor"),u=r.getModel("textStyle"),c=r.get("padding");return l&&s.push((a="left "+(o=l)+"s cubic-bezier(0.23, 1, 0.32, 1),top "+o+"s cubic-bezier(0.23, 1, 0.32, 1)",A(qy,function(t){return t+"transition:"+a}).join(";"))),h&&(ju.canvasSupported?s.push("background-Color:"+h):(s.push("background-Color:#"+It(h)),s.push("filter:alpha(opacity=70)"))),jy(["width","color","radius"],function(t){var e="border-"+t,i=Yy(e),n=r.get(i);null!=n&&s.push(e+":"+n+("color"===t?"":"px"))}),s.push((n=[],t=(i=u).get("fontSize"),(e=i.getTextColor())&&n.push("color:"+e),n.push("font:"+i.getFont()),t&&n.push("line-height:"+Math.round(3*t/2)+"px"),jy(["decoration","align"],function(t){var e=i.get(t);e&&n.push("text-"+t+":"+e)}),n.join(";"))),null!=c&&s.push("padding:"+Vp(c).join("px ")+"px"),s.join(";")+";"}function cl(i,t){if(ju.wxa)return null;var e=document.createElement("div"),n=this._zr=t.getZr();this.el=e,this._x=t.getWidth()/2,this._y=t.getHeight()/2,i.appendChild(e),this._container=i,this._show=!1,this._hideTimeout;var r=this;e.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},e.onmousemove=function(t){if(t=t||window.event,!r._enterable){var e=n.handler;Re(i,t,!0),e.dispatch("mousemove",t)}},e.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}function dl(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(Tn.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new Tn(i,e,e.ecModel))}return e}function fl(t,e){return t.dispatchAction||x(e.dispatchAction,e)}function pl(t){var e=t.clientWidth,i=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(t);n&&(e+=parseInt(n.paddingLeft,10)+parseInt(n.paddingRight,10)+parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),i+=parseInt(n.paddingTop,10)+parseInt(n.paddingBottom,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:e,height:i}}function gl(t){return"center"===t||"middle"===t}function ml(t,e,i){var r,o={},a="toggleSelected"===t;return i.eachComponent("legend",function(n){a&&null!=r?n[r?"select":"unSelect"](e.name):(n[t](e.name),r=n.isSelected(e.name)),R(n.getData(),function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);o.hasOwnProperty(e)?o[e]=o[e]&&i:o[e]=i}})}),{name:e.name,selected:o}}function vl(t,e){var i=Vp(e.get("padding")),n=e.getItemStyle(["color","opacity"]);return n.fill=e.get("backgroundColor"),new dp({shape:{x:t.x-i[3],y:t.y-i[0],width:t.width+i[1]+i[3],height:t.height+i[0]+i[2],r:e.get("borderRadius")},style:n,silent:!0,z2:-1})}function yl(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function _l(t,e,i,n){var r=i.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t.name,name:e,excludeSeriesId:n})}function xl(t,e,i,n){var r=i.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t.name,name:e,excludeSeriesId:n})}function wl(t,e,i){var n=[1,1];n[t.getOrient().index]=0,ir(e,i,{type:"box",ignoreSize:n})}function bl(t){qe(t,"label",["show"])}function Sl(t,e,i,n,r,o){var a=[],s=oa(e,n)?e.getCalculationInfo("stackResultDimension"):n,l=Dl(e,s,t),h=e.indicesOfNearest(s,l)[0];a[r]=e.get(i,h),a[o]=e.get(n,h);var u=En(e.get(n,h));return 0<=(u=Math.min(u,20))&&(a[o]=+a[o].toFixed(u)),a}function Ml(t,e){var i,n=t.getData(),r=t.coordinateSystem;if(e&&(i=e,isNaN(parseFloat(i.x))||isNaN(parseFloat(i.y)))&&!O(e.coord)&&r){var o=r.dimensions,a=Il(e,n,r,t);if((e=b(e)).type&&g_[e.type]&&a.baseAxis&&a.valueAxis){var s=f_(o,a.baseAxis.dim),l=f_(o,a.valueAxis.dim);e.coord=g_[e.type](n,a.baseDataDim,a.valueDataDim,s,l),e.value=e.coord[l]}else{for(var h=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],u=0;u<2;u++)g_[h[u]]&&(h[u]=Dl(n,n.mapDimension(o[u]),h[u]));e.coord=h}}return e}function Il(t,e,i,n){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=i.getAxis(function(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var r=0;r<n.length;r++){var o=i.getDimensionInfo(n[r]);if(o.name===e)return o.coordDim}}(n,r.valueDataDim)),r.baseAxis=i.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=n.getBaseAxis(),r.valueAxis=i.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function Cl(t,e){return!(t&&t.containData&&e.coord&&(i=e,isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y))))||t.containData(e.coord);var i}function Tl(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value}function Dl(t,e,i){if("average"!==i)return"median"===i?t.getMedian(e):t.getDataExtent(e,!0)["max"===i?1:0];var n=0,r=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,r++)}),n/r}function Al(s,l,h){var u=l.coordinateSystem;s.each(function(t){var e,i=s.getItemModel(t),n=Ln(i.get("x"),h.getWidth()),r=Ln(i.get("y"),h.getHeight());if(isNaN(n)||isNaN(r)){if(l.getMarkerPosition)e=l.getMarkerPosition(s.getValues(s.dimensions,t));else if(u){var o=s.get(u.dimensions[0],t),a=s.get(u.dimensions[1],t);e=u.dataToPoint([o,a])}}else e=[n,r];isNaN(n)||(e[0]=n),isNaN(r)||(e[1]=r),s.setItemLayout(t,e)})}function kl(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Pl(t){return"_"+t+"Type"}function Ll(t,e,i){var n=e.getItemVisual(i,"color"),r=e.getItemVisual(i,t),o=e.getItemVisual(i,t+"Size");if(r&&"none"!==r){O(o)||(o=[o,o]);var a=ka(r,-o[0]/2,-o[1]/2,o[0],o[1],n);return a.name=t,a}}function Ol(t,e){var i=e[0],n=e[1],r=e[2];t.x1=i[0],t.y1=i[1],t.x2=n[0],t.y2=n[1],t.percent=1,t.cpy1=r?(t.cpx1=r[0],r[1]):t.cpx1=NaN}function zl(t,e,i){Kc.call(this),this._createLine(t,e,i)}function El(t){this._ctor=t||zl,this.group=new Kc}function Nl(t){var e=t.hostModel;return{lineStyle:e.getModel("lineStyle").getLineStyle(),hoverLineStyle:e.getModel("emphasis.lineStyle").getLineStyle(),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label")}}function Rl(t){return isNaN(t[0])||isNaN(t[1])}function Bl(t){return!Rl(t[0])&&!Rl(t[1])}function Vl(t){return!isNaN(t)&&!isFinite(t)}function Fl(t,e,i,n){var r=1-t,o=n.dimensions[t];return Vl(e[r])&&Vl(i[r])&&e[t]===i[t]&&n.getAxis(o).containData(e[t])}function Hl(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(Fl(1,i,n,t)||Fl(0,i,n,t)))return!0}return Cl(t,e[0])&&Cl(t,e[1])}function Gl(t,e,i,n,r){var o,a=n.coordinateSystem,s=t.getItemModel(e),l=Ln(s.get("x"),r.getWidth()),h=Ln(s.get("y"),r.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)o=n.getMarkerPosition(t.getValues(t.dimensions,e));else{var u=a.dimensions,c=t.get(u[0],e),d=t.get(u[1],e);o=a.dataToPoint([c,d])}if("cartesian2d"===a.type){var f=a.getAxis("x"),p=a.getAxis("y");u=a.dimensions;Vl(t.get(u[0],e))?o[0]=f.toGlobalCoord(f.getExtent()[i?0:1]):Vl(t.get(u[1],e))&&(o[1]=p.toGlobalCoord(p.getExtent()[i?0:1]))}isNaN(l)||(o[0]=l),isNaN(h)||(o[1]=h)}else o=[l,h];t.setItemLayout(e,o)}function Wl(t){return!isNaN(t)&&!isFinite(t)}function Zl(t,e,i,n){var r=1-t;return Wl(e[r])&&Wl(i[r])}function Ul(t,e){var i=e.coord[0],n=e.coord[1];return!("cartesian2d"!==t.type||!i||!n||!Zl(1,i,n)&&!Zl(0,i,n))||Cl(t,{coord:i,x:e.x0,y:e.y0})||Cl(t,{coord:n,x:e.x1,y:e.y1})}function Xl(t,e,i,n,r){var o,a=n.coordinateSystem,s=t.getItemModel(e),l=Ln(s.get(i[0]),r.getWidth()),h=Ln(s.get(i[1]),r.getHeight());if(isNaN(l)||isNaN(h)){if(n.getMarkerPosition)o=n.getMarkerPosition(t.getValues(i,e));else{var u=[f=t.get(i[0],e),p=t.get(i[1],e)];a.clampData&&a.clampData(u,u),o=a.dataToPoint(u,!0)}if("cartesian2d"===a.type){var c=a.getAxis("x"),d=a.getAxis("y"),f=t.get(i[0],e),p=t.get(i[1],e);Wl(f)?o[0]=c.toGlobalCoord(c.getExtent()["x0"===i[0]?0:1]):Wl(p)&&(o[1]=d.toGlobalCoord(d.getExtent()["y0"===i[1]?0:1]))}isNaN(l)||(o[0]=l),isNaN(h)||(o[1]=h)}else o=[l,h];return o}function jl(t,e,i){var n=[1/0,-1/0];return L_(i,function(t){var i=t.getData();i&&L_(i.mapDimension(e,!0),function(t){var e=i.getApproximateExtent(t);e[0]<n[0]&&(n[0]=e[0]),e[1]>n[1]&&(n[1]=e[1])})}),n[1]<n[0]&&(n=[NaN,NaN]),function(t,e){var i=t.getAxisModel(),n=i.getMin(!0),r="category"===i.get("type"),o=r&&i.getCategories().length;null!=n&&"dataMin"!==n&&"function"!=typeof n?e[0]=n:r&&(e[0]=0<o?0:NaN);var a=i.getMax(!0);null!=a&&"dataMax"!==a&&"function"!=typeof a?e[1]=a:r&&(e[1]=0<o?o-1:NaN),i.get("scale",!0)||(0<e[0]&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,n),n}function Yl(t,e){var i=t.getAxisModel(),n=t._percentWindow,r=t._valueWindow;if(n){var o=Rn(r,[0,500]);o=Math.min(o,20);var a=e||0===n[0]&&100===n[1];i.setRange(a?null:+r[0].toFixed(o),a?null:+r[1].toFixed(o))}}function ql(e){var i={};return E_(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(i[t]=e[t])}),i}function $l(t,r){var o=t._rangePropMode,a=t.get("rangeMode");E_([["start","startValue"],["end","endValue"]],function(t,e){var i=null!=r[t[0]],n=null!=r[t[1]];i&&!n?o[e]="percent":!i&&n?o[e]="value":a?o[e]=a[e]:i&&(o[e]="percent")})}function Kl(t,e){var i=t[e]-t[1-e];return{span:Math.abs(i),sign:0<i?-1:i<0?1:e?-1:1}}function Ql(t,e){return Math.min(e[1],Math.max(e[0],t))}function Jl(t){return"vertical"===t?"ns-resize":"ew-resize"}function th(t,e){return!!eh(t)[e]}function eh(t){return t[Y_]||(t[Y_]={})}function ih(i){this.pointerChecker,this._zr=i,this._opt={};var t=x,n=t(nh,this),r=t(rh,this),o=t(oh,this),a=t(ah,this),s=t(sh,this);gc.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(t,e){this.disable(),this._opt=T(b(e)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(i.on("mousedown",n),i.on("mousemove",r),i.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(i.on("mousewheel",a),i.on("pinch",s))},this.disable=function(){i.off("mousedown",n),i.off("mousemove",r),i.off("mouseup",o),i.off("mousewheel",a),i.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function nh(t){if(!(Ve(t)||t.target&&t.target.draggable)){var e=t.offsetX,i=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0)}}function rh(t){if(!Ve(t)&&hh(this,"moveOnMouseMove",t)&&this._dragging&&"pinch"!==t.gestureEvent&&!th(this._zr,"globalPan")){var e=t.offsetX,i=t.offsetY,n=this._x,r=this._y,o=e-n,a=i-r;this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&Td(t.event),this.trigger("pan",o,a,n,r,e,i)}}function oh(t){Ve(t)||(this._dragging=!1)}function ah(t){if(hh(this,"zoomOnMouseWheel",t)&&0!==t.wheelDelta){var e=0<t.wheelDelta?1.1:1/1.1;lh.call(this,t,e,t.offsetX,t.offsetY)}}function sh(t){if(!th(this._zr,"globalPan")){var e=1<t.pinchScale?1.1:1/1.1;lh.call(this,t,e,t.pinchX,t.pinchY)}}function lh(t,e,i,n){this.pointerChecker&&this.pointerChecker(t,i,n)&&(Td(t.event),this.trigger("zoom",e,i,n))}function hh(t,e,i){var n=t._opt[e];return n&&(!S(n)||i.event[n+"Key"])}function uh(t,n){var e=dh(t),r=n.dataZoomId,o=n.coordId;R(e,function(t,e){var i=t.dataZoomInfos;i[r]&&f(n.allCoordIds,o)<0&&(delete i[r],t.count--)}),fh(e);var i,a,s=e[o];s||((s=e[o]={coordId:o,dataZoomInfos:{},count:0}).controller=(i=s,(a=new ih(t.getZr())).on("pan",q_(ph,i)),a.on("zoom",q_(gh,i)),a),s.dispatchAction=v(vh,t)),!s.dataZoomInfos[r]&&s.count++,s.dataZoomInfos[r]=n;var l,h,u,c,d=(l=s.dataZoomInfos,u={},c={type_true:2,type_move:1,type_false:0,type_undefined:-1},R(l,function(t){var e=!t.disabled&&(!t.zoomLock||"move");c["type_"+h]<c["type_"+e]&&(h=e),D(u,t.roamControllerOpt)}),{controlType:h,opt:u});s.controller.enable(d.controlType,d.opt),s.controller.setPointerChecker(n.containsPoint),Jr(s,"dispatchAction",n.throttleRate,"fixRate")}function ch(t){return t.type+"\0_"+t.id}function dh(t){var e=t.getZr();return e[$_]||(e[$_]={})}function fh(i){R(i,function(t,e){t.count||(t.controller.dispose(),delete i[e])})}function ph(e,i,n,r,o,a,s){mh(e,function(t){return t.panGetRange(e.controller,i,n,r,o,a,s)})}function gh(e,i,n,r){mh(e,function(t){return t.zoomGetRange(e.controller,i,n,r)})}function mh(t,i){var n=[];R(t.dataZoomInfos,function(t){var e=i(t);!t.disabled&&e&&n.push({dataZoomId:t.dataZoomId,start:e[0],end:e[1]})}),n.length&&t.dispatchAction(n)}function vh(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function yh(t,e){tx[t]=e}function _h(t){return tx[t]}function xh(t){this.model=t}function wh(t){this.model=t}function bh(t){var r,o,a,e,i,u,n=(r={},o=[],a=[],t.eachRawSeries(function(t){var e=t.coordinateSystem;if(!e||"cartesian2d"!==e.type&&"polar"!==e.type)o.push(t);else{var i=e.getBaseAxis();if("category"===i.type){var n=i.dim+"_"+i.index;r[n]||(r[n]={categoryAxis:i,valueAxis:e.getOtherAxis(i),series:[]},a.push({axisDim:i.dim,axisIndex:i.index})),r[n].series.push(t)}else o.push(t)}}),{seriesGroupByCategoryAxis:r,other:o,meta:a});return{value:m([(i=n.seriesGroupByCategoryAxis,u=[],R(i,function(t,e){var i=t.categoryAxis,n=t.valueAxis.dim,r=[" "].concat(A(t.series,function(t){return t.name})),o=[i.model.getCategories()];R(t.series,function(t){o.push(t.getRawData().mapArray(n,function(t){return t}))});for(var a=[r.join(hx)],s=0;s<o[0].length;s++){for(var l=[],h=0;h<o.length;h++)l.push(o[h][s]);a.push(l.join(hx))}u.push(a.join("\n"))}),u.join("\n\n"+lx+"\n\n")),(e=n.other,A(e,function(t){var r=t.getRawData(),o=[t.name],a=[];return r.each(r.dimensions,function(){for(var t=arguments.length,e=arguments[t-1],i=r.getName(e),n=0;n<t-1;n++)a[n]=arguments[n];o.push((i?i+hx:"")+a.join(hx))}),o.join("\n")}).join("\n\n"+lx+"\n\n"))],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+lx+"\n\n"),meta:n.meta}}function Sh(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mh(t,o){var a={series:[]};return R(t.split(new RegExp("\n*"+lx+"\n*","g")),function(t,e){if(function(t){if(0<=t.slice(0,t.indexOf("\n")).indexOf(hx))return!0}(t)){var i=function(t){for(var e=t.split(/\n+/g),i=[],n=A(Sh(e.shift()).split(ux),function(t){return{name:t,data:[]}}),r=0;r<e.length;r++){var o=Sh(e[r]).split(ux);i.push(o.shift());for(var a=0;a<o.length;a++)n[a]&&(n[a].data[r]=o[a])}return{series:n,categories:i}}(t),n=o[e],r=n.axisDim+"Axis";n&&(a[r]=a[r]||[],a[r][n.axisIndex]={data:i.categories},a.series=a.series.concat(i.series))}else i=function(t){for(var e=t.split(/\n+/g),i=Sh(e.shift()),n=[],r=0;r<e.length;r++){var o,a=Sh(e[r]).split(ux),s="",l=!1;o=isNaN(a[0])?(l=!0,s=a[0],a=a.slice(1),n[r]={name:s,value:[]},n[r].value):n[r]=[];for(var h=0;h<a.length;h++)o.push(+a[h]);1===o.length&&(l?n[r].value=o[0]:n[r]=o[0])}return{name:i,data:n}}(t),a.series.push(i)}),a}function Ih(t){this._dom=null,this.model=t}function Ch(t){gc.call(this),this._zr=t,this.group=new Kc,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+Ix++,this._handlers={},dx(Cx,function(t,e){this._handlers[e]=x(t,this)},this)}function Th(t,e){var i,n,r,o=t._zr;t._enableGlobalPan||(i=o,n=xx,r=t._uid,eh(i)[n]=r),dx(t._handlers,function(t,e){o.on(e,t)}),t._brushType=e.brushType,t._brushOption=p(b(Mx),e,!0)}function Dh(t){var e,i,n,r,o=t._zr;e=o,i=xx,n=t._uid,(r=eh(e))[i]===n&&(r[i]=null),dx(t._handlers,function(t,e){o.off(e,t)}),t._brushType=t._brushOption=null}function Ah(t,e){var i=Tx[e.brushType].createCover(t,e);return i.__brushOption=e,Lh(i,e),t.group.add(i),i}function kh(t,e){var i=zh(e);return i.endCreating&&(i.endCreating(t,e),Lh(e,e.__brushOption)),e}function Ph(t,e){var i=e.__brushOption;zh(e).updateCoverShape(t,e,i.range,i)}function Lh(t,e){var i=e.z;null==i&&(i=vx),t.traverse(function(t){t.z=i,t.z2=i})}function Oh(t,e){zh(e).updateCommon(t,e),Ph(t,e)}function zh(t){return Tx[t.__brushOption.brushType]}function Eh(t,e,i){var n=t._panels;if(!n)return!0;var r,o=t._transform;return dx(n,function(t){t.isTargetByCursor(e,i,o)&&(r=t)}),r}function Nh(t,e){var i=t._panels;if(!i)return!0;var n=e.__brushOption.panelId;return null==n||i[n]}function Rh(e){var t=e._covers,i=t.length;return dx(t,function(t){e.group.remove(t)},e),t.length=0,!!i}function Bh(t,e){var i=fx(t._covers,function(t){var e=t.__brushOption,i=b(e.range);return{brushType:e.brushType,panelId:e.panelId,range:i}});t.trigger("brush",i,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function Vh(t){var e=t.length-1;return e<0&&(e=0),[t[0],t[e]]}function Fh(e,i,t,n){var r=new Kc;return r.add(new dp({name:"main",style:Zh(t),silent:!0,draggable:!0,cursor:"move",drift:cx(e,i,r,"nswe"),ondragend:cx(Bh,i,{isEnd:!0})})),dx(n,function(t){r.add(new dp({name:t,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:cx(e,i,r,t),ondragend:cx(Bh,i,{isEnd:!0})}))}),r}function Hh(t,e,i,n){var r=n.brushStyle.lineWidth||0,o=gx(r,_x),a=i[0][0],s=i[1][0],l=a-r/2,h=s-r/2,u=i[0][1],c=i[1][1],d=u-o+r/2,f=c-o+r/2,p=u-a,g=c-s,m=p+r,v=g+r;Wh(t,e,"main",a,s,p,g),n.transformable&&(Wh(t,e,"w",l,h,o,v),Wh(t,e,"e",d,h,o,v),Wh(t,e,"n",l,h,m,o),Wh(t,e,"s",l,f,m,o),Wh(t,e,"nw",l,h,o,o),Wh(t,e,"ne",d,h,o,o),Wh(t,e,"sw",l,f,o,o),Wh(t,e,"se",d,f,o,o))}function Gh(n,r){var t=r.__brushOption,o=t.transformable,e=r.childAt(0);e.useStyle(Zh(t)),e.attr({silent:!o,cursor:o?"move":"default"}),dx(["w","e","n","s","se","sw","ne","nw"],function(t){var e=r.childOfName(t),i=function t(e,i){if(1<i.length)return("e"===(r=[t(e,(i=i.split(""))[0]),t(e,i[1])])[0]||"w"===r[0])&&r.reverse(),r.join("");var n={left:"w",right:"e",top:"n",bottom:"s"},r=Sn({w:"left",e:"right",n:"top",s:"bottom"}[i],(o=e,wn(o.group)));var o;return n[r]}(n,t);e&&e.attr({silent:!o,invisible:!o,cursor:o?Sx[i]+"-resize":null})})}function Wh(t,e,i,n,r,o,a){var s,l,h,u=e.childOfName(i);u&&u.setShape((s=qh(t,e,[[n,r],[n+o,r+a]]),l=px(s[0][0],s[1][0]),h=px(s[0][1],s[1][1]),{x:l,y:h,width:gx(s[0][0],s[1][0])-l,height:gx(s[0][1],s[1][1])-h}))}function Zh(t){return T({strokeNoScale:!0},t.brushStyle)}function Uh(t,e,i,n){var r=[px(t,i),px(e,n)],o=[gx(t,i),gx(e,n)];return[[r[0],o[0]],[r[1],o[1]]]}function Xh(t,e,i,n,r,o,a,s){var l=n.__brushOption,h=t(l.range),u=Yh(i,o,a);dx(r.split(""),function(t){var e=bx[t];h[e[0]][e[1]]+=u[e[0]]}),l.range=e(Uh(h[0][0],h[1][0],h[0][1],h[1][1])),Oh(i,n),Bh(i,{isEnd:!1})}function jh(t,e,i,n,r){var o=e.__brushOption.range,a=Yh(t,i,n);dx(o,function(t){t[0]+=a[0],t[1]+=a[1]}),Oh(t,e),Bh(t,{isEnd:!1})}function Yh(t,e,i){var n=t.group,r=n.transformCoordToLocal(e,i),o=n.transformCoordToLocal(0,0);return[r[0]-o[0],r[1]-o[1]]}function qh(t,e,i){var n=Nh(t,e);return n&&!0!==n?n.clipPath(i,t._transform):b(i)}function $h(t){var e=t.event;e.preventDefault&&e.preventDefault()}function Kh(t,e,i){return t.childOfName("main").contain(e,i)}function Qh(t,e,i,n){var r,o=t._creatingCover,a=t._creatingPanel,s=t._brushOption;if(t._track.push(i.slice()),function(t){var e=t._track;if(!e.length)return!1;var i=e[e.length-1],n=e[0],r=i[0]-n[0],o=i[1]-n[1];return mx(r*r+o*o,.5)>yx}(t)||o){if(a&&!o){"single"===s.brushMode&&Rh(t);var l=b(s);l.brushType=Jh(l.brushType,a),l.panelId=!0===a?null:a.panelId,o=t._creatingCover=Ah(t,l),t._covers.push(o)}if(o){var h=Tx[Jh(t._brushType,a)];o.__brushOption.range=h.getCreatingRange(qh(t,o,t._track)),n&&(kh(t,o),h.updateCommon(t,o)),Ph(t,o),r={isEnd:n}}}else n&&"single"===s.brushMode&&s.removeOnClick&&Eh(t,e,i)&&Rh(t)&&(r={isEnd:n,removeOnClick:!0});return r}function Jh(t,e){return"auto"===t?e.defaultBrushType:t}function tu(t){if(this._dragging){$h(t);var e=Qh(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0);this._dragging=!1,this._track=[],this._creatingCover=null,e&&Bh(this,e)}}function eu(l){return{createCover:function(t,e){return Fh(cx(Xh,function(t){var e=[t,[0,100]];return l&&e.reverse(),e},function(t){return t[l]}),t,e,[["w","e"],["n","s"]][l])},getCreatingRange:function(t){var e=Vh(t);return[px(e[0][l],e[1][l]),gx(e[0][l],e[1][l])]},updateCoverShape:function(t,e,i,n){var r,o=Nh(t,e);if(!0!==o&&o.getLinearBrushOtherExtent)r=o.getLinearBrushOtherExtent(l,t._transform);else{var a=t._zr;r=[0,[a.getWidth(),a.getHeight()][1-l]]}var s=[i,r];l&&s.reverse(),Hh(t,e,s,n)},updateCommon:Gh,contain:Kh}}function iu(s,l,h){return s=nu(s),function(t,e,i){return s.contain(e[0],e[1])&&(n=t,r=h,o=l.getComponentByElement(n.topTarget),a=o&&o.coordinateSystem,!(o&&o!==r&&!Dx[o.mainType]&&a&&a.model!==r));var n,r,o,a}}function nu(t){return Gt.create(t)}function ru(t,e,i){var n=this._targetInfoList=[],r={},o=au(e,t);Ax(Ex,function(t,e){(!i||!i.include||0<=kx(i.include,e))&&t(o,n,r)})}function ou(t){return t[0]>t[1]&&t.reverse(),t}function au(t,e){return ni(t,e,{includeMainTypes:Ox})}function su(t,e,i,n){var r=i.getAxis(["x","y"][t]),o=ou(A([0,1],function(t){return e?r.coordToData(r.toLocalCoord(n[t])):r.toGlobalCoord(r.dataToCoord(n[t]))})),a=[];return a[t]=o,a[1-t]=[NaN,NaN],{values:o,xyMinMax:a}}function lu(t,e,i,n){return[e[0]-n[t]*i[0],e[1]-n[t]*i[1]]}function hu(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function uu(t){var e=t[Hx];return e||(e=t[Hx]=[{}]),e}function cu(t,e,i){(this._brushController=new Ch(i.getZr())).on("brush",x(this._onBrush,this)).mount(),this._isZoomActive}function du(e){var i={};return R(["xAxisIndex","yAxisIndex"],function(t){i[t]=e[t],null==i[t]&&(i[t]="all"),(!1===i[t]||"none"===i[t])&&(i[t]=[])}),i}function fu(t,e){t.setIconStatus("back",1<uu(e).length?"emphasis":"normal")}function pu(t){this.model=t}function gu(t){return jx(t)}function mu(t){return parseInt(t,10)}function vu(t,e){(function(){if(!$x&&Kx){$x=!0;var t=Kx.styleSheets;t.length<31?Kx.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):t[0].addRule(".zrvml","behavior:url(#default#VML)")}})(),this.root=t,this.storage=e;var i=document.createElement("div"),n=document.createElement("div");i.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",n.style.cssText="position:absolute;left:0;top:0;",t.appendChild(i),this._vmlRoot=n,this._vmlViewport=i,this.resize();var r=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(n)},e.addToStorage=function(t){t.onAdd&&t.onAdd(n),o.call(e,t)},this._firstPaint=!0}function yu(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _u(t){return Dw(1e4*t)/1e4}function xu(t){return t<zw&&-zw<t}function wu(t,e){e&&bu(t,"transform","matrix("+Cw.call(e,",")+")")}function bu(t,e,i){(!i||"linear"!==i.type&&"radial"!==i.type)&&("string"==typeof i&&-1<i.indexOf("NaN")&&console.log(i),t.setAttribute(e,i))}function Su(t,e,i){if(r=e,null!=(o=i?r.textFill:r.fill)&&o!==Tw){var n=i?e.textFill:e.fill;n="transparent"===n?Tw:n,"none"!==t.getAttribute("clip-path")&&n===Tw&&(n="rgba(0, 0, 0, 0.002)"),bu(t,"fill",n),bu(t,"fill-opacity",e.opacity)}else bu(t,"fill",Tw);var r,o,a,s;if(a=e,null!=(s=i?a.textStroke:a.stroke)&&s!==Tw){var l=i?e.textStroke:e.stroke;bu(t,"stroke",l="transparent"===l?Tw:l),bu(t,"stroke-width",(i?e.textStrokeWidth:e.lineWidth)/(!i&&e.strokeNoScale?e.host.getLineScale():1)),bu(t,"paint-order",i?"stroke":"fill"),bu(t,"stroke-opacity",e.opacity),e.lineDash?(bu(t,"stroke-dasharray",e.lineDash.join(",")),bu(t,"stroke-dashoffset",Dw(e.lineDashOffset||0))):bu(t,"stroke-dasharray",""),e.lineCap&&bu(t,"stroke-linecap",e.lineCap),e.lineJoin&&bu(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&bu(t,"stroke-miterlimit",e.miterLimit)}else bu(t,"stroke",Tw)}function Mu(t){return"middle"===t?"middle":"bottom"===t?"baseline":"hanging"}function Iu(){}function Cu(t,e,i,n){for(var r=0,o=e.length,a=0,s=0;r<o;r++){var l=e[r];if(l.removed){for(var h=[],u=s;u<s+l.count;u++)h.push(u);l.indices=h,s+=l.count}else{for(h=[],u=a;u<a+l.count;u++)h.push(u);l.indices=h,a+=l.count,l.added||(s+=l.count)}}return e}function Tu(t,e,i,n,r){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof i?[i]:i,this._markLabel=n,this._domName=r||"_dom",this.nextId=0}function Du(t,e){Tu.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function Au(t,e){Tu.call(this,t,e,"clipPath","__clippath_in_use__")}function ku(t,e){Tu.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function Pu(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function Lu(t){return parseInt(t,10)}function Ou(t,e){return e&&t&&e.parentNode!==t}function zu(t,e,i){if(Ou(t,e)&&i){var n=i.nextSibling;n?t.insertBefore(e,n):t.appendChild(e)}}function Eu(t,e){if(Ou(t,e)){var i=t.firstChild;i?t.insertBefore(e,i):t.appendChild(e)}}function Nu(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function Ru(t){return t.__textSvgEl}function Bu(t){return t.__svgEl}var Vu,Fu,Hu,Gu,Wu,Zu,Uu=2311,Xu=function(){return Uu++},ju="object"==("undefined"==typeof wx?"undefined":_typeof(wx))&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0}:(Vu=navigator.userAgent,Fu={},Hu=Vu.match(/Firefox\/([\d.]+)/),Gu=Vu.match(/MSIE\s([\d.]+)/)||Vu.match(/Trident\/.+?rv:(([\d.]+))/),Wu=Vu.match(/Edge\/([\d.]+)/),Zu=/micromessenger/i.test(Vu),Hu&&(Fu.firefox=!0,Fu.version=Hu[1]),Gu&&(Fu.ie=!0,Fu.version=Gu[1]),Wu&&(Fu.edge=!0,Fu.version=Wu[1]),Zu&&(Fu.weChat=!0),{browser:Fu,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!Fu.ie&&!Fu.edge,pointerEventsSupported:"onpointerdown"in window&&(Fu.edge||Fu.ie&&11<=Fu.version)}),Yu={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},qu={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},$u=Object.prototype.toString,Ku=Array.prototype,Qu=Ku.forEach,Ju=Ku.filter,tc=Ku.slice,ec=Ku.map,ic=Ku.reduce,nc={},rc=function(){return nc.createCanvas()};nc.createCanvas=function(){return document.createElement("canvas")};var oc,ac="__ec_primitive__";C.prototype={constructor:C,get:function(t){return this.hasOwnProperty(t)?this[t]:null},set:function(t,e){return this[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=x(t,e)),this)this.hasOwnProperty(i)&&t(this[i],i)},removeKey:function(t){delete this[t]}};var sc=(Object.freeze||Object)({$override:e,clone:b,merge:p,mergeAll:u,extend:D,defaults:T,createCanvas:rc,getContext:n,indexOf:f,inherits:o,mixin:r,isArrayLike:z,each:R,map:A,reduce:g,filter:m,find:function(t,e,i){if(t&&e)for(var n=0,r=t.length;n<r;n++)if(e.call(i,t[n],n,t))return t[n]},bind:x,curry:v,isArray:O,isFunction:y,isString:S,isObject:E,isBuiltInObject:a,isTypedArray:_,isDom:w,eqNaN:M,retrieve:k,retrieve2:P,retrieve3:L,slice:s,normalizeCssArray:l,assert:c,trim:h,setAsPrimitive:d,isPrimitive:I,createHashMap:N,concatArray:function(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];var r=t.length;for(n=0;n<e.length;n++)i[n+r]=e[n];return i},noop:B}),lc="undefined"==typeof Float32Array?Array:Float32Array,hc=Z,uc=U,cc=Y,dc=q,fc=(Object.freeze||Object)({create:i,copy:V,clone:F,set:function(t,e,i){return t[0]=e,t[1]=i,t},add:H,scaleAndAdd:G,sub:W,len:Z,length:hc,lenSquare:U,lengthSquare:uc,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:X,normalize:j,distance:Y,dist:cc,distanceSquare:q,distSquare:dc,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:function(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t},applyTransform:$,min:K,max:Q});J.prototype={constructor:J,_dragStart:function(t){var e=t.target;e&&e.draggable&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(tt(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var i=t.offsetX,n=t.offsetY,r=i-this._x,o=n-this._y;this._x=i,this._y=n,e.drift(r,o,t),this.dispatchToElement(tt(e,t),"drag",t.event);var a=this.findHover(i,n,e).target,s=this._dropTarget;e!==(this._dropTarget=a)&&(s&&a!==s&&this.dispatchToElement(tt(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(tt(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(tt(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(tt(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var pc=Array.prototype.slice,gc=function(){this._$handlers={}};gc.prototype={constructor:gc,one:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var r=0;r<n[t].length;r++)if(n[t][r].h===e)return this;return n[t].push({h:e,one:!0,ctx:i||this}),this},on:function(t,e,i){var n=this._$handlers;if(!e||!t)return this;n[t]||(n[t]=[]);for(var r=0;r<n[t].length;r++)if(n[t][r].h===e)return this;return n[t].push({h:e,one:!1,ctx:i||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],r=0,o=i[t].length;r<o;r++)i[t][r].h!=e&&n.push(i[t][r]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;3<i&&(e=pc.call(e,1));for(var n=this._$handlers[t],r=n.length,o=0;o<r;){switch(i){case 1:n[o].h.call(n[o].ctx);break;case 2:n[o].h.call(n[o].ctx,e[1]);break;case 3:n[o].h.call(n[o].ctx,e[1],e[2]);break;default:n[o].h.apply(n[o].ctx,e)}n[o].one?(n.splice(o,1),r--):o++}}return this},triggerWithContext:function(t){if(this._$handlers[t]){var e=arguments,i=e.length;4<i&&(e=pc.call(e,1,e.length-1));for(var n=e[e.length-1],r=this._$handlers[t],o=r.length,a=0;a<o;){switch(i){case 1:r[a].h.call(n);break;case 2:r[a].h.call(n,e[1]);break;case 3:r[a].h.call(n,e[1],e[2]);break;default:r[a].h.apply(n,e)}r[a].one?(r.splice(a,1),o--):a++}}return this}};var mc="silent";et.prototype.dispose=function(){};var vc=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],yc=function(t,e,i,n){gc.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new et,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,J.call(this),this.setHandlerProxy(i)};yc.prototype={constructor:yc,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(R(vc,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,i=t.zrY,n=this._hovered,r=n.target;r&&!r.__zr&&(r=(n=this.findHover(n.x,n.y)).target);var o=this._hovered=this.findHover(e,i),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),r&&a!==r&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==r&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);for(var e,i=t.toElement||t.relatedTarget;(i=i&&i.parentNode)&&9!=i.nodeType&&!(e=i===this.painterRoot););!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var i=this[t];i&&i.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var n,r,o=(t=t||{}).target;if(!o||!o.silent){for(var a="on"+e,s={type:e,event:r=i,target:(n=t).target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which};o&&(o[a]&&(s.cancelBubble=o[a].call(o,s)),o.trigger(e,s),o=o.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(e,s),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[a]&&t[a].call(t,s),t.trigger&&t.trigger(e,s)}))}},findHover:function(t,e,i){for(var n=this.storage.getDisplayList(),r={x:t,y:e},o=n.length-1;0<=o;o--){var a;if(n[o]!==i&&!n[o].ignore&&(a=it(n[o],t,e))&&(!r.topTarget&&(r.topTarget=n[o]),a!==mc)){r.target=n[o];break}}return r}},R(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){yc.prototype[n]=function(t){var e=this.findHover(t.zrX,t.zrY),i=e.target;if("mousedown"===n)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===n)this._upEl=i;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||4<cc(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,n,t)}}),r(yc,gc),r(yc,J);var _c="undefined"==typeof Float32Array?Array:Float32Array,xc=(Object.freeze||Object)({create:nt,identity:rt,copy:ot,mul:at,translate:st,rotate:lt,scale:ht,invert:ut,clone:function(t){var e=nt();return ot(e,t),e}}),wc=rt,bc=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},Sc=bc.prototype;Sc.transform=null,Sc.needLocalTransform=function(){return ct(this.rotation)||ct(this.position[0])||ct(this.position[1])||ct(this.scale[0]-1)||ct(this.scale[1]-1)},Sc.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||nt(),i?this.getLocalTransform(n):wc(n),e&&(i?at(n,t.transform,n):ot(n,t.transform)),this.transform=n,this.invTransform=this.invTransform||nt(),ut(this.invTransform,n)):n&&wc(n)},Sc.getLocalTransform=function(t){return bc.getLocalTransform(this,t)},Sc.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},Sc.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Mc=[];Sc.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(at(Mc,t.invTransform,e),e=Mc);var i=e[0]*e[0]+e[1]*e[1],n=e[2]*e[2]+e[3]*e[3],r=this.position,o=this.scale;ct(i-1)&&(i=Math.sqrt(i)),ct(n-1)&&(n=Math.sqrt(n)),e[0]<0&&(i=-i),e[3]<0&&(n=-n),r[0]=e[4],r[1]=e[5],o[0]=i,o[1]=n,this.rotation=Math.atan2(-e[1]/n,e[0]/i)}},Sc.getGlobalScale=function(){var t=this.transform;if(!t)return[1,1];var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]),i=Math.sqrt(t[2]*t[2]+t[3]*t[3]);return t[0]<0&&(e=-e),t[3]<0&&(i=-i),[e,i]},Sc.transformCoordToLocal=function(t,e){var i=[t,e],n=this.invTransform;return n&&$(i,i,n),i},Sc.transformCoordToGlobal=function(t,e){var i=[t,e],n=this.transform;return n&&$(i,i,n),i},bc.getLocalTransform=function(t,e){wc(e=e||[]);var i=t.origin,n=t.scale||[1,1],r=t.rotation||0,o=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),ht(e,e,n),r&&lt(e,e,r),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=o[0],e[5]+=o[1],e};var Ic={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Ic.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Ic.bounceIn(2*t):.5*Ic.bounceOut(2*t-1)+.5}};dt.prototype={constructor:dt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);var n=this.easing,r="string"==typeof n?Ic[n]:n,o="function"==typeof r?r(i):i;return this.fire("frame",o),1==i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Cc=function(){this.head=null,this.tail=null,this._len=0},Tc=Cc.prototype;Tc.insert=function(t){var e=new Dc(t);return this.insertEntry(e),e},Tc.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Tc.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Tc.len=function(){return this._len},Tc.clear=function(){this.head=this.tail=null,this._len=0};var Dc=function(t){this.value=t,this.next,this.prev},Ac=function(t){this._list=new Cc,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},kc=Ac.prototype;kc.put=function(t,e){var i=this._list,n=this._map,r=null;if(null==n[t]){var o=i.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&0<o){var s=i.head;i.remove(s),delete n[s.key],r=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new Dc(e),a.key=t,i.insertEntry(a),n[t]=a}return r},kc.get=function(t){var e=this._map[t],i=this._list;if(null!=e)return e!==i.tail&&(i.remove(e),i.insertEntry(e)),e.value},kc.clear=function(){this._list.clear(),this._map={}};var Pc={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Lc=new Ac(20),Oc=null,zc=Ct,Ec=Tt,Nc=(Object.freeze||Object)({parse:bt,lift:Mt,toHex:It,fastLerp:Ct,fastMapToColor:zc,lerp:Tt,mapToColor:Ec,modifyHSL:function(t,e,i,n){if(t=bt(t))return t=function(t){if(t){var e,i,n=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(n,r,o),s=Math.max(n,r,o),l=s-a,h=(s+a)/2;if(0===l)i=e=0;else{i=h<.5?l/(s+a):l/(2-s-a);var u=((s-n)/6+l/2)/l,c=((s-r)/6+l/2)/l,d=((s-o)/6+l/2)/l;n===s?e=d-c:r===s?e=1/3+u-d:o===s&&(e=2/3+c-u),e<0&&(e+=1),1<e&&(e-=1)}var f=[360*e,i,h];return null!=t[3]&&f.push(t[3]),f}}(t),null!=e&&(t[0]=(r=e,(r=Math.round(r))<0?0:360<r?360:r)),null!=i&&(t[1]=mt(i)),null!=n&&(t[2]=mt(n)),At(St(t),"rgba");var r},modifyAlpha:Dt,stringify:At}),Rc=Array.prototype.slice,Bc=function(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||kt,this._setter=n||Pt,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Bc.prototype={when:function(t,e){var i=this._tracks;for(var n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var r=this._getter(this._target,n);if(null==r)continue;0!==t&&i[n].push({time:0,value:Vt(r)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){var i,n=this,r=0;for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var a=Ht(this,t,function(){--r||n._doneCallback()},this._tracks[o],o,e);a&&(this._clipList.push(a),r++,this.animation&&this.animation.addClip(a),i=a)}if(i){var s=i.onframe;i.onframe=function(t,e){s(t,e);for(var i=0;i<n._onframeList.length;i++)n._onframeList[i](t,e)}}return r||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var r=e[n];t&&r.onframe(this._target,1),i&&i.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Vc=1;"undefined"!=typeof window&&(Vc=Math.max(window.devicePixelRatio||1,1));var Fc=Vc,Hc=function(){},Gc=function(){this.animators=[]};Gc.prototype={constructor:Gc,animate:function(t,e){var i,n=!1,r=this,o=this.__zr;if(t){var a=t.split("."),s=r;n="shape"===a[0];for(var l=0,h=a.length;l<h;l++)s&&(s=s[a[l]]);s&&(i=s)}else i=r;if(i){var u=r.animators,c=new Bc(i,e);return c.during(function(t){r.dirty(n)}).done(function(){u.splice(f(u,c),1)}),u.push(c),o&&o.animation.addAnimator(c),c}Hc('Property "'+t+'" is not existed in element '+r.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,r,o){S(i)?(r=n,n=i,i=0):y(n)?(r=n,n="linear",i=0):y(i)?(r=i,i=0):y(e)?(r=e,e=500):e||(e=500),this.stopAnimation(),this._animateToShallow("",this,t,e,i);var a=this.animators.slice(),s=a.length;s||r&&r();for(var l=0;l<a.length;l++)a[l].done(function(){--s||r&&r()}).start(n,o)},_animateToShallow:function(t,e,i,n,r){var o={},a=0;for(var s in i)if(i.hasOwnProperty(s))if(null!=e[s])E(i[s])&&!z(i[s])?this._animateToShallow(t?t+"."+s:s,e[s],i[s],n,r):(o[s]=i[s],a++);else if(null!=i[s])if(t){var l={};l[t]={},l[t][s]=i[s],this.attr(l)}else this.attr(s,i[s]);return 0<a&&this.animate(t,!1).when(null==n?500:n,o).delay(r||0),this}};var Wc=function(t){bc.call(this,t),gc.call(this,t),Gc.call(this,t),this.id=t.id||Xu()};Wc.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var i=this[t];i||(i=this[t]=[]),i[0]=e[0],i[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(E(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},r(Wc,Gc),r(Wc,bc),r(Wc,gc);var Zc,Uc,Xc,jc,Yc=$,qc=Math.min,$c=Math.max;Gt.prototype={constructor:Gt,union:function(t){var e=qc(t.x,this.x),i=qc(t.y,this.y);this.width=$c(t.x+t.width,this.x+this.width)-e,this.height=$c(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(Zc=[],Uc=[],Xc=[],jc=[],function(t){if(t){Zc[0]=Xc[0]=this.x,Zc[1]=jc[1]=this.y,Uc[0]=jc[0]=this.x+this.width,Uc[1]=Xc[1]=this.y+this.height,Yc(Zc,Zc,t),Yc(Uc,Uc,t),Yc(Xc,Xc,t),Yc(jc,jc,t),this.x=qc(Zc[0],Uc[0],Xc[0],jc[0]),this.y=qc(Zc[1],Uc[1],Xc[1],jc[1]);var e=$c(Zc[0],Uc[0],Xc[0],jc[0]),i=$c(Zc[1],Uc[1],Xc[1],jc[1]);this.width=e-this.x,this.height=i-this.y}}),calculateTransform:function(t){var e=t.width/this.width,i=t.height/this.height,n=nt();return st(n,n,[-this.x,-this.y]),ht(n,n,[e,i]),st(n,n,[t.x,t.y]),n},intersect:function(t){if(!t)return!1;t instanceof Gt||(t=Gt.create(t));var e=this.x,i=this.x+this.width,n=this.y,r=this.y+this.height,o=t.x,a=t.x+t.width,s=t.y,l=t.y+t.height;return!(i<o||a<e||r<s||l<n)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new Gt(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Gt.create=function(t){return new Gt(t.x,t.y,t.width,t.height)};var Kc=function(t){for(var e in t=t||{},Wc.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Kc.prototype={constructor:Kc,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var i=this._children,n=i.indexOf(e);0<=n&&(i.splice(n,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Kc&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,r=f(n,t);return r<0||(n.splice(r,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof Kc&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){var t,e,i=this._children,n=this.__storage;for(e=0;e<i.length;e++)t=i[e],n&&(n.delFromStorage(t),t instanceof Kc&&t.delChildrenFromStorage(n)),t.parent=null;return i.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var r=i[n];t.call(e,r,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof Kc&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof Kc&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new Gt(0,0,0,0),n=t||this._children,r=[],o=0;o<n.length;o++){var a=n[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(r);l?(i.copy(s),i.applyTransform(l),(e=e||i.clone()).union(i)):(e=e||s.clone()).union(s)}}return e||i}},o(Kc,Wc);var Qc=32,Jc=7,td=function(){this._roots=[],this._displayList=[],this._displayListLen=0};td.prototype={constructor:td,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,r=e.length;n<r;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,ju.canvasSupported&&Yt(i,qt)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var r=n,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),r=(o=r).clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Kc&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(i=0;i<this._roots.length;i++){var e=this._roots[i];e instanceof Kc&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var i=0,n=t.length;i<n;i++)this.delRoot(t[i]);else{var r=f(this._roots,t);0<=r&&(this.delFromStorage(t),this._roots.splice(r,1),t instanceof Kc&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:qt};var ed={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},id=function(t,e,i){return ed.hasOwnProperty(e)?i*=t.dpr:i},nd=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],rd=function(t,e){this.extendFrom(t,!1),this.host=e};rd.prototype={constructor:rd,host:null,fill:"#000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){for(var n=this,r=i&&i.style,o=!r,a=0;a<nd.length;a++){var s=nd[a],l=s[0];(o||n[l]!==r[l])&&(t[l]=id(t,l,n[l]||s[1]))}if((o||n.fill!==r.fill)&&(t.fillStyle=n.fill),(o||n.stroke!==r.stroke)&&(t.strokeStyle=n.stroke),(o||n.opacity!==r.opacity)&&(t.globalAlpha=null==n.opacity?1:n.opacity),(o||n.blend!==r.blend)&&(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()){var h=n.lineWidth;t.lineWidth=h/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=("radial"===e.type?function(t,e,i){var n=i.width,r=i.height,o=Math.min(n,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*n+i.x,s=s*r+i.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}:function(t,e,i){var n=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,r=r*i.width+i.x,o=o*i.height+i.y,a=a*i.height+i.y),n=isNaN(n)?0:n,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(n,o,r,a)})(t,e,i),r=e.colorStops,o=0;o<r.length;o++)n.addColorStop(r[o].offset,r[o].color);return n}};for(var od=rd.prototype,ad=0;ad<nd.length;ad++){var sd=nd[ad];sd[0]in od||(od[sd[0]]=sd[1])}rd.getGradient=od.getGradient;var ld=function(t,e){this.image=t,this.repeat=e,this.type="pattern"},hd=function(t,e,i){var n;i=i||Fc,"string"==typeof t?n=Kt(t,e,i):E(t)&&(t=(n=t).id),this.id=t;var r=(this.dom=n).style;r&&(n.onselectstart=$t,r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",r["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",r.padding=0,r.margin=0,r["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};hd.prototype={constructor:hd,__dirty:!0,__used:!(ld.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Kt("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,r=n.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),n.width=t*i,n.height=e*i,o&&(o.width=t*i,o.height=e*i,1!=i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,n=this.dom,r=this.ctx,o=n.width,a=n.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,h=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,o/h,a/h)),r.clearRect(0,0,o,a),e&&"transparent"!==e)&&(e.colorStops?(i=e.__canvasGradient||rd.getGradient(r,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=i):e.image&&(i=ld.prototype.getCanvasPattern.call(e,r)),r.save(),r.fillStyle=i||e,r.fillRect(0,0,o,a),r.restore());if(s){var u=this.domBack;r.save(),r.globalAlpha=l,r.drawImage(u,0,0,o,a),r.restore()}}};var ud="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},cd=new Ac(50),dd={},fd=0,pd=5e3,gd=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,md="12px sans-serif",vd={measureText:function(t,e){var i=n();return i.font=e||md,i.measureText(t)}},yd={left:1,right:1,center:1},_d={top:1,bottom:1,middle:1},xd=new Gt,wd=function(){};Le.prototype={constructor:Le,type:"displayable",__dirty:!0,invisible:!(wd.prototype={constructor:wd,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&ve(i);var n=i.text;if(null!=n&&(n+=""),Pe(n,i)){t.save();var r=this.transform;i.transformText?this.setTransform(t):r&&(xd.copy(e),xd.applyTransform(r),e=xd),_e(this,t,n,i,e),t.restore()}}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,inplace:!1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var i=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Wc.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new rd(t,this),this.dirty(!1),this}},o(Le,Wc),r(Le,wd),Oe.prototype={constructor:Oe,type:"image",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var r=this._image=Jt(n,this._image,this,this.onload);if(r&&ee(r)){var o=i.x||0,a=i.y||0,s=i.width,l=i.height,h=r.width/r.height;if(null==s&&null!=l?s=l*h:null==l&&null!=s?l=s/h:null==s&&null==l&&(s=r.width,l=r.height),this.setTransform(t),i.sWidth&&i.sHeight){var u=i.sx||0,c=i.sy||0;t.drawImage(r,u,c,i.sWidth,i.sHeight,o,a,s,l)}else if(i.sx&&i.sy){var d=s-(u=i.sx),f=l-(c=i.sy);t.drawImage(r,u,c,d,f,o,a,s,l)}else t.drawImage(r,o,a,s,l);null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Gt(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o(Oe,Le);var bd=new Gt(0,0,0,0),Sd=new Gt(0,0,0,0),Md=function(t,e,i){this.type="canvas";var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=D({},i||{}),this.dpr=i.devicePixelRatio||Fc,this._singleCanvas=n;var r=(this.root=t).style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o,a,s,l=this._zlevelList=[],h=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,n){var u=t.width,c=t.height;null!=i.width&&(u=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,t.width=u*this.dpr,t.height=c*this.dpr,this._width=u,this._height=c;var d=new hd(t,this,this.dpr);d.__builtin__=!0,d.initContext(),(h[314159]=d).zlevel=314159,l.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=(o=this._width,a=this._height,(s=document.createElement("div")).style.cssText=["position:relative","overflow:hidden","width:"+o+"px","height:"+a+"px","padding:0","margin:0","border-width:0"].join(";")+";",s);t.appendChild(f)}this._hoverlayer=null,this._hoverElements=[]};Md.prototype={constructor:Md,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var r=i[n],o=this._layers[r];if(!o.__builtin__&&o.refresh){var a=0===n?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape});((i.__from=t).__hoverMir=i).setStyle(e),this._hoverElements.push(i)}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,n=f(i,e);0<=n&&i.splice(n,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){Yt(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(1e5));var n={};i.ctx.save();for(var r=0;r<e;){var o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,i,!0,n))):(t.splice(r,1),a.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var n=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!n){var r=this;ud(function(){r._paintList(t,e,i)})}}},_compositeManually:function(){var e=this.getLayer(314159).ctx,i=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,i,n),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,i,n)})},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];(s=this._layers[r]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&i.push(s)}for(var o=!0,a=0;a<i.length;a++){var s=i[a],l=s.ctx,h={};l.save();var u=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,d=c&&Date.now(),f=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,f);else if(u===s.__startIndex){var p=t[u];p.incremental&&p.notClear&&!e||s.clear(!1,f)}-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=s.__startIndex);for(var g=u;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,h),m.__dirty=!1,c&&15<Date.now()-d)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),h.prevElClipPaths&&l.restore(),l.restore()}return ju.wxa&&R(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,i,n){var r,o,a,s=e.ctx,l=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!l||l[0]||l[3])&&(!t.culling||(r=t,o=this._width,a=this._height,bd.copy(r.getBoundingRect()),r.transform&&bd.applyTransform(r.transform),Sd.width=o,Sd.height=a,bd.intersect(Sd)))){var h=t.__clipPaths;n.prevElClipPaths&&!function(t,e){if(t==e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0}(h,n.prevElClipPaths)||(n.prevElClipPaths&&(e.ctx.restore(),n.prevElClipPaths=null,n.prevEl=null),h&&(s.save(),function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(h,s),n.prevElClipPaths=h)),t.beforeBrush&&t.beforeBrush(s),t.brush(s,n.prevEl||null),(n.prevEl=t).afterBrush&&t.afterBrush(s)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var i=this._layers[t];return i||((i=new hd("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]&&p(i,this._layerConfig[t],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i,n=this._layers,r=this._zlevelList,o=r.length,a=null,s=-1,l=this._domRoot;if(n[t])Hc("ZLevel "+t+" has been used already");else if((i=e)&&(i.__builtin__||"function"==typeof i.resize&&"function"==typeof i.refresh)){if(0<o&&t>r[0]){for(s=0;s<o-1&&!(r[s]<t&&r[s+1]>t);s++);a=n[r[s]]}if(r.splice(s+1,0,t),!(n[t]=e).virtual)if(a){var h=a.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else Hc("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,n,r=this._zlevelList;for(n=0;n<r.length;n++)i=r[n],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,n,r,o=this._zlevelList;for(r=0;r<o.length;r++)n=o[r],(i=this._layers[n]).__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){var i,n,r,o=this._zlevelList;for(r=0;r<o.length;r++)n=o[r],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(r=1;r<t.length;r++)if((a=t[r]).zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}for(var i=null,n=0,r=0;r<t.length;r++){var o,a=t[r],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,n=1):o=this.getLayer(s+(0<n?.01:0),this._needsManuallyCompositing),o.__builtin__||Hc("ZLevel "+s+" has been used by unkown layer "+o.id),o!==i&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.incremental?o.__drawIndex=-1:o.__drawIndex=r,e(r),i=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?p(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var r=this._zlevelList[n];r!==t&&r!==t+.01||p(this._layers[r],i[t],!0)}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(f(i,t),1))},resize:function(e,i){if(this._domRoot.style){var t=this._domRoot;t.style.display="none";var n=this._opts;if(null!=e&&(n.width=e),null!=i&&(n.height=i),e=this._getSize(0),i=this._getSize(1),t.style.display="",this._width!=e||i!=this._height){for(var r in t.style.width=e+"px",t.style.height=i+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,i);R(this._progressiveLayers,function(t){t.resize(e,i)}),this.refresh(!0)}this._width=e,this._height=i}else{if(null==e||null==i)return;this._width=e,this._height=i,this.getLayer(314159).resize(e,i)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new hd("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,r=e.ctx;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||ze(s[i])||ze(a.style[i]))-(ze(s[r])||0)-(ze(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,h=o.hasStroke()?o.lineWidth:0,u=Math.max(h/2,-s+a),c=Math.max(h/2,s+a),d=Math.max(h/2,-l+a),f=Math.max(h/2,l+a),p=r.width+u+c,g=r.height+d+f;i.width=p*e,i.height=g*e,n.scale(e,e),n.clearRect(0,0,p,g),n.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-r.x,d-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);var v=new Oe({style:{x:0,y:0,image:i}});return null!=m.position&&(v.position=t.position=m.position),null!=m.rotation&&(v.rotation=t.rotation=m.rotation),null!=m.scale&&(v.scale=t.scale=m.scale),v}};var Id="undefined"!=typeof window&&!!window.addEventListener,Cd=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Td=Id?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Dd=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,gc.call(this)};Dd.prototype={constructor:Dd,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){var e=f(this._clips,t);0<=e&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,r=[],o=[],a=0;a<n;a++){var s=i[a],l=s.step(t,e);l&&(r.push(l),o.push(s))}for(a=0;a<n;)i[a]._needsRemove?(i[a]=i[n-1],i.pop(),n--):a++;for(n=r.length,a=0;a<n;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,ud(function t(){e._running&&(ud(t),!e._paused&&e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var i=new Bc(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(i),i}},r(Dd,gc);var Ad=function(){this._track=[]};Ad.prototype={constructor:Ad,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var r={points:[],touches:[],target:e,event:t},o=0,a=n.length;o<a;o++){var s=n[o],l=Ee(i,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(t){for(var e in kd)if(kd.hasOwnProperty(e)){var i=kd[e](this._track,t);if(i)return i}}};var kd={pinch:function(t,e){var i,n=t.length;if(n){var r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&1<o.length&&r&&1<r.length){var a=Fe(r)/Fe(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},Pd=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Ld=["touchstart","touchend","touchmove"],Od={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},zd=A(Pd,function(t){var e=t.replace("mouse","pointer");return Od[e]?e:t}),Ed={mousemove:function(t){t=Re(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=Re(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=Re(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,Ge(this,t,"start"),Ed.mousemove.call(this,t),Ed.mousedown.call(this,t),We(this)},touchmove:function(t){(t=Re(this.dom,t)).zrByTouch=!0,Ge(this,t,"change"),Ed.mousemove.call(this,t),We(this)},touchend:function(t){(t=Re(this.dom,t)).zrByTouch=!0,Ge(this,t,"end"),Ed.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&Ed.click.call(this,t),We(this)},pointerdown:function(t){Ed.mousedown.call(this,t)},pointermove:function(t){Ze(t)||Ed.mousemove.call(this,t)},pointerup:function(t){Ed.mouseup.call(this,t)},pointerout:function(t){Ze(t)||Ed.mouseout.call(this,t)}};R(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){Ed[e]=function(t){t=Re(this.dom,t),this.trigger(e,t)}});var Nd=Ue.prototype;Nd.dispose=function(){for(var t=Pd.concat(Ld),e=0;e<t.length;e++){var i=t[e];n=this.dom,r=He(i),o=this._handlers[i],Id?n.removeEventListener(r,o):n.detachEvent("on"+r,o)}var n,r,o},Nd.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},r(Ue,gc);var Rd=!ju.canvasSupported,Bd={canvas:Md},Vd={},Fd=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,r=new td,o=i.renderer;if(Rd){if(!Bd.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&Bd[o]||(o="canvas");var a=new Bd[o](e,r,i,t);this.storage=r,this.painter=a;var s=ju.node||ju.worker?null:new Ue(a.getViewportRoot());this.handler=new yc(r,a,s,a.root),this.animation=new Dd({stage:{update:x(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=r.delFromStorage,h=r.addToStorage;r.delFromStorage=function(t){l.call(r,t),t&&t.removeSelfFromZr(n)},r.addToStorage=function(t){h.call(r,t),t.addSelfToZr(n)}};Fd.prototype={constructor:Fd,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){this.painter.addHover&&(this.painter.addHover(t,e),this.refreshHover())},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Vd[t]}};var Hd=(Object.freeze||Object)({version:"4.0.4",init:Xe,dispose:function(t){if(t)t.dispose();else{for(var e in Vd)Vd.hasOwnProperty(e)&&Vd[e].dispose();Vd={}}return this},getInstance:function(t){return Vd[t]},registerPainter:je}),Gd=R,Wd=E,Zd=O,Ud="series\0",Xd=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],jd=0,Yd=".",qd="___EC__COMPONENT__CONTAINER___",$d=0,Kd=function(s){for(var t=0;t<s.length;t++)s[t][1]||(s[t][1]=s[t][0]);return function(t,e,i){for(var n={},r=0;r<s.length;r++){var o=s[r][1];if(!(e&&0<=f(e,o)||i&&f(i,o)<0)){var a=t.getShallow(o);null!=a&&(n[s[r][0]]=a)}}return n}},Qd=Kd([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Jd={getLineStyle:function(t){var e=Qd(this,t),i=this.getLineDash(e.lineWidth);return i&&(e.lineDash=i),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),n=4*t;return"solid"===e||null==e?null:"dashed"===e?[n,n]:[i,i]}},tf=Kd([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),ef={getAreaStyle:function(t,e){return tf(this,t,e)}},nf=Math.pow,rf=Math.sqrt,of=1e-8,af=1e-4,sf=rf(3),lf=1/3,hf=i(),uf=i(),cf=i(),df=Math.min,ff=Math.max,pf=Math.sin,gf=Math.cos,mf=2*Math.PI,vf=i(),yf=i(),_f=i(),xf=[],wf=[],bf={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Sf=[],Mf=[],If=[],Cf=[],Tf=Math.min,Df=Math.max,Af=Math.cos,kf=Math.sin,Pf=Math.sqrt,Lf=Math.abs,Of="undefined"!=typeof Float32Array,zf=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};zf.prototype={constructor:zf,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=Lf(1/Fc/t)||0,this._uy=Lf(1/Fc/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(bf.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=Lf(t-this._xi)>this._ux||Lf(e-this._yi)>this._uy||this._len<5;return this.addData(bf.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,r,o){return this.addData(bf.C,t,e,i,n,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,r,o):this._ctx.bezierCurveTo(t,e,i,n,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,i,n){return this.addData(bf.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,r,o){return this.addData(bf.A,t,e,i,i,n,r-n,0,o?0:1),this._ctx&&this._ctx.arc(t,e,i,n,r,o),this._xi=Af(r)*i+t,this._yi=kf(r)*i+t,this},arcTo:function(t,e,i,n,r){return this._ctx&&this._ctx.arcTo(t,e,i,n,r),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(bf.R,t,e,i,n),this},closePath:function(){this.addData(bf.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!Of||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,r=0;r<e;r++)i+=t[r].len();for(Of&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i)),r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[n++]=o[a];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=Pf(u*u+c*c),f=l,p=h,g=a.length;for(o<0&&(o=r+o),f-=(o%=r)*(u/=d),p-=o*(c/=d);0<u&&f<=t||u<0&&t<=f||0==u&&(0<c&&p<=e||c<0&&e<=p);)f+=u*(i=a[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%g,0<u&&f<l||u<0&&l<f||0<c&&p<h||c<0&&h<p||s[n%2?"moveTo":"lineTo"](0<=u?Tf(f,t):Df(f,t),0<=c?Tf(p,e):Df(p,e));u=f-t,c=p-e,this._dashOffset=-Pf(u*u+c*c)},_dashedBezierTo:function(t,e,i,n,r,o){var a,s,l,h,u,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=pi,y=0,_=this._dashIdx,x=f.length,w=0;for(d<0&&(d=c+d),d%=c,a=0;a<1;a+=.1)s=v(g,t,i,r,a+.1)-v(g,t,i,r,a),l=v(m,e,n,o,a+.1)-v(m,e,n,o,a),y+=Pf(s*s+l*l);for(;_<x&&!((w+=f[_])>d);_++);for(a=(w-d)/y;a<=1;)h=v(g,t,i,r,a),u=v(m,e,n,o,a),_%2?p.moveTo(h,u):p.lineTo(h,u),a+=f[_]/y,_=(_+1)%x;_%2!=0&&p.lineTo(r,o),s=r-h,l=o-u,this._dashOffset=-Pf(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var r=i,o=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Of&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Sf[0]=Sf[1]=If[0]=If[1]=Number.MAX_VALUE,Mf[0]=Mf[1]=Cf[0]=Cf[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,i=0,n=0,r=0,o=0;o<t.length;){var a=t[o++];switch(1==o&&(n=e=t[o],r=i=t[o+1]),a){case bf.M:e=n=t[o++],i=r=t[o++],If[0]=n,If[1]=r,Cf[0]=n,Cf[1]=r;break;case bf.L:Si(e,i,t[o],t[o+1],If,Cf),e=t[o++],i=t[o++];break;case bf.C:Mi(e,i,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],If,Cf),e=t[o++],i=t[o++];break;case bf.Q:p=e,g=i,m=t[o++],v=t[o++],y=t[o],_=t[o+1],x=If,w=Cf,S=b=void 0,S=yi,M=ff(df((b=xi)(p,m,y),1),0),I=ff(df(b(g,v,_),1),0),C=S(p,m,y,M),T=S(g,v,_,I),x[0]=df(p,y,C),x[1]=df(g,_,T),w[0]=ff(p,y,C),w[1]=ff(g,_,T),e=t[o++],i=t[o++];break;case bf.A:var s=t[o++],l=t[o++],h=t[o++],u=t[o++],c=t[o++],d=t[o++]+c,f=(t[o++],1-t[o++]);1==o&&(n=Af(c)*h+s,r=kf(c)*u+l),Ii(s,l,h,u,c,d,f,If,Cf),e=Af(d)*h+s,i=kf(d)*u+l;break;case bf.R:Si(n=e=t[o++],r=i=t[o++],n+t[o++],r+t[o++],If,Cf);break;case bf.Z:e=n,i=r}K(Sf,Sf,If),Q(Mf,Mf,Cf)}var p,g,m,v,y,_,x,w,b,S,M,I,C,T;return 0===o&&(Sf[0]=Sf[1]=Mf[0]=Mf[1]=0),new Gt(Sf[0],Sf[1],Mf[0]-Sf[0],Mf[1]-Sf[1])},rebuildPath:function(t){for(var e,i,n,r,o,a,s=this.data,l=this._ux,h=this._uy,u=this._len,c=0;c<u;){var d=s[c++];switch(1==c&&(e=n=s[c],i=r=s[c+1]),d){case bf.M:e=n=s[c++],i=r=s[c++],t.moveTo(n,r);break;case bf.L:o=s[c++],a=s[c++],(Lf(o-n)>l||Lf(a-r)>h||c===u-1)&&(t.lineTo(o,a),n=o,r=a);break;case bf.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),n=s[c-2],r=s[c-1];break;case bf.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),n=s[c-2],r=s[c-1];break;case bf.A:var f=s[c++],p=s[c++],g=s[c++],m=s[c++],v=s[c++],y=s[c++],_=s[c++],x=s[c++],w=m<g?g:m,b=m<g?1:g/m,S=m<g?m/g:1,M=v+y;.001<Math.abs(g-m)?(t.translate(f,p),t.rotate(_),t.scale(b,S),t.arc(0,0,w,v,M,1-x),t.scale(1/b,1/S),t.rotate(-_),t.translate(-f,-p)):t.arc(f,p,w,v,M,1-x),1==c&&(e=Af(v)*g+f,i=kf(v)*m+p),n=Af(M)*g+f,r=kf(M)*m+p;break;case bf.R:e=n=s[c],i=r=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case bf.Z:t.closePath(),n=e,r=i}}}},zf.CMD=bf;var Ef=2*Math.PI,Nf=2*Math.PI,Rf=zf.CMD,Bf=2*Math.PI,Vf=1e-4,Ff=[-1,-1,-1],Hf=[-1,-1],Gf=ld.prototype.getCanvasPattern,Wf=Math.abs,Zf=new zf(!0);Ni.prototype={constructor:Ni,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var i,n=this.style,r=this.path||Zf,o=n.hasStroke(),a=n.hasFill(),s=n.fill,l=n.stroke,h=a&&!!s.colorStops,u=o&&!!l.colorStops,c=a&&!!s.image,d=o&&!!l.image;(n.bind(t,this,e),this.setTransform(t),this.__dirty)&&(h&&(i=i||this.getBoundingRect(),this._fillGradient=n.getGradient(t,s,i)),u&&(i=i||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,l,i)));h?t.fillStyle=this._fillGradient:c&&(t.fillStyle=Gf.call(s,t)),u?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=Gf.call(l,t));var f=n.lineDash,p=n.lineDashOffset,g=!!t.setLineDash,m=this.getGlobalScale();r.setScale(m[0],m[1]),this.__dirtyPath||f&&!g&&o?(r.beginPath(t),f&&!g&&(r.setLineDash(f),r.setLineDashOffset(p)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&r.fill(t),f&&g&&(t.setLineDash(f),t.lineDashOffset=p),o&&r.stroke(t),f&&g&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new zf},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i){var n=this.path;n||(n=this.path=new zf),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()}if(this._rect=t,e.hasStroke()){var r=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||i){r.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),1e-10<a&&(r.width+=o/a,r.height+=o/a,r.x-=o/a/2,r.y-=o/a/2)}return r}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),r=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var o=this.path.data;if(r.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(1e-10<s&&(r.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),Ei(o,a/s,!0,t,e)))return!0}if(r.hasFill())return Ei(o,0,!1,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Le.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(E(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<Wf(t[0]-1)&&1e-10<Wf(t[3]-1)?Math.sqrt(Wf(t[0]*t[3]-t[2]*t[1])):1}},Ni.extend=function(r){var t=function(t){Ni.call(this,t),r.style&&this.style.extendFrom(r.style,!1);var e=r.shape;if(e){this.shape=this.shape||{};var i=this.shape;for(var n in e)!i.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(i[n]=e[n])}r.init&&r.init.call(this,t)};for(var e in o(t,Ni),r)"style"!==e&&"shape"!==e&&(t.prototype[e]=r[e]);return t},o(Ni,Le);var Uf=zf.CMD,Xf=[[],[],[]],jf=Math.sqrt,Yf=Math.atan2,qf=function(t,e){var i,n,r,o,a,s,l=t.data,h=Uf.M,u=Uf.C,c=Uf.L,d=Uf.R,f=Uf.A,p=Uf.Q;for(o=r=0;r<l.length;){switch(i=l[r++],o=r,n=0,i){case h:case c:n=1;break;case u:n=3;break;case p:n=2;break;case f:var g=e[4],m=e[5],v=jf(e[0]*e[0]+e[1]*e[1]),y=jf(e[2]*e[2]+e[3]*e[3]),_=Yf(-e[1]/y,e[0]/v);l[r]*=v,l[r++]+=g,l[r]*=y,l[r++]+=m,l[r++]*=v,l[r++]*=y,l[r++]+=_,l[r++]+=_,o=r+=2;break;case d:s[0]=l[r++],s[1]=l[r++],$(s,s,e),l[o++]=s[0],l[o++]=s[1],s[0]+=l[r++],s[1]+=l[r++],$(s,s,e),l[o++]=s[0],l[o++]=s[1]}for(a=0;a<n;a++)(s=Xf[a])[0]=l[r++],s[1]=l[r++],$(s,s,e),l[o++]=s[0],l[o++]=s[1]}},$f=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],Kf=Math.sqrt,Qf=Math.sin,Jf=Math.cos,tp=Math.PI,ep=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},ip=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(ep(t)*ep(e))},np=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ip(t,e))},rp=function(t){Le.call(this,t)};rp.prototype={constructor:rp,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&ve(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=""),i.bind(t,this,e),Pe(n,i)&&(this.setTransform(t),_e(this,t,n,i),this.restoreTransform(t))},getBoundingRect:function(){var t=this.style;if(this.__dirty&&ve(t),!this._rect){var e=t.text;null!=e?e+="":e="";var i=ne(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.rich);if(i.x+=t.x||0,i.y+=t.y||0,Te(t.textStroke,t.textStrokeWidth)){var n=t.textStrokeWidth;i.x-=n/2,i.y-=n/2,i.width+=n,i.height+=n}this._rect=i}return this._rect}},o(rp,Le);var op=Ni.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),ap=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],sp=function(l){return ju.browser.ie&&11<=ju.browser.version?function(){var t,e=this.__clipPaths,i=this.style;if(e)for(var n=0;n<e.length;n++){var r=e[n],o=r&&r.shape,a=r&&r.type;if(o&&("sector"===a&&o.startAngle===o.endAngle||"rect"===a&&(!o.width||!o.height))){for(s=0;s<ap.length;s++)ap[s][2]=i[ap[s][0]],i[ap[s][0]]=ap[s][1];t=!0;break}}if(l.apply(this,arguments),t)for(var s=0;s<ap.length;s++)i[ap[s][0]]=ap[s][2]}:l},lp=Ni.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:sp(Ni.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(a),u=Math.sin(a);t.moveTo(h*r+i,u*r+n),t.lineTo(h*o+i,u*o+n),t.arc(i,n,o,a,s,!l),t.lineTo(Math.cos(s)*r+i,Math.sin(s)*r+n),0!==r&&t.arc(i,n,r,s,a,l),t.closePath()}}),hp=Ni.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,r,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,r,!0)}}),up=Ni.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Fi(t,e,!0)}}),cp=Ni.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Fi(t,e,!1)}}),dp=Ni.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,r=e.width,o=e.height;e.r?me(t,e):t.rect(i,n,r,o),t.closePath()}}),fp=Ni.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.percent;0!==a&&(t.moveTo(i,n),a<1&&(r=i*(1-a)+r*a,o=n*(1-a)+o*a),t.lineTo(r,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),pp=[],gp=Ni.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,u=e.percent;0!==u&&(t.moveTo(i,n),null==l||null==h?(u<1&&(wi(i,a,r,u,pp),a=pp[1],r=pp[2],wi(n,s,o,u,pp),s=pp[1],o=pp[2]),t.quadraticCurveTo(a,s,r,o)):(u<1&&(vi(i,a,l,r,u,pp),a=pp[1],l=pp[2],r=pp[3],vi(n,s,h,o,u,pp),s=pp[1],h=pp[2],o=pp[3]),t.bezierCurveTo(a,s,l,h,r,o)))},pointAt:function(t){return Hi(this.shape,t,!1)},tangentAt:function(t){var e=Hi(this.shape,t,!0);return j(e,e)}}),mp=Ni.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),h=Math.sin(o);t.moveTo(l*r+i,h*r+n),t.arc(i,n,r,o,a,!s)}}),vp=Ni.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Ni.prototype.getBoundingRect.call(this)}}),yp=function(t){this.colorStops=t||[]};yp.prototype={constructor:yp,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var _p=function(t,e,i,n,r,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=o||!1,yp.call(this,r)};_p.prototype={constructor:_p},o(_p,yp);var xp=function(t,e,i,n,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=r||!1,yp.call(this,n)};xp.prototype={constructor:xp},o(xp,yp),Gi.prototype.incremental=!0,Gi.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Gi.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},Gi.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},Gi.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Gi.prototype.update=function(){for(this.updateTransform(),t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Gi.prototype.brush=function(t,e){for(i=this._cursor;i<this._displayables.length;i++)(n=this._displayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t);this._cursor=i;for(var i=0;i<this._temporaryDisplayables.length;i++){var n=this._temporaryDisplayables[i];n.beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var wp=[];Gi.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Gt(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(wp)),t.union(n)}this._rect=t}return this._rect},Gi.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++)if(this._displayables[n].contain(t,e))return!0;return!1},o(Gi,Le);var bp=Math.round,Sp=Math.max,Mp=Math.min,Ip={},Cp=(Object.freeze||Object)({extendShape:Wi,extendPath:function(t,e){return Ni.extend(Bi(t,e))},makePath:Zi,makeImage:Ui,mergePath:function(t,e){for(var i=[],n=t.length,r=0;r<n;r++){var o=t[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),i.push(o.path)}var a=new Ni(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},a},resizePath:ji,subPixelOptimizeLine:Yi,subPixelOptimizeRect:qi,subPixelOptimize:$i,setHoverStyle:un,setLabelStyle:cn,setTextStyle:dn,setText:function(t,e,i){var n,r={isRectText:!0};!1===i?n=!0:r.autoColor=i,fn(t,e,r,n),t.host&&t.host.dirty&&t.host.dirty(!1)},getFont:vn,updateProps:_n,initProps:xn,getTransform:wn,applyTransform:bn,transformDirection:Sn,groupTransition:Mn,clipPointsByRect:In,clipRectByRect:function(t,e){var i=Sp(t.x,e.x),n=Mp(t.x+t.width,e.x+e.width),r=Sp(t.y,e.y),o=Mp(t.y+t.height,e.y+e.height);if(i<=n&&r<=o)return{x:i,y:r,width:n-i,height:o-r}},createIcon:Cn,Group:Kc,Image:Oe,Text:rp,Circle:op,Sector:lp,Ring:hp,Polygon:up,Polyline:cp,Rect:dp,Line:fp,BezierCurve:gp,Arc:mp,IncrementalDisplayable:Gi,CompoundPath:vp,LinearGradient:_p,RadialGradient:xp,BoundingRect:Gt}),Tp=["textStyle","color"],Dp={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Tp):null)},getFont:function(){return vn({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return ne(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},Ap=Kd([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),kp={getItemStyle:function(t,e){var i=Ap(this,t,e),n=this.getBorderLineDash();return n&&(i.lineDash=n),i},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Pp=r,Lp=ii();Tn.prototype={constructor:Tn,init:null,mergeOption:function(t){p(this.option,t,!0)},get:function(t,e){return null==t?this.option:Dn(this.option,this.parsePath(t),!e&&An(this,t))},getShallow:function(t,e){var i=this.option,n=null==i?i:i[t],r=!e&&An(this,t);return null==n&&r&&(n=r.getShallow(t)),n},getModel:function(t,e){var i;return new Tn(null==t?this.option:Dn(this.option,t=this.parsePath(t)),e=e||(i=An(this,t))&&i.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(b(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Lp(this).getParent=t},isAnimationEnabled:function(){if(!ju.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},si(Tn),li(Tn),Pp(Tn,Jd),Pp(Tn,ef),Pp(Tn,Dp),Pp(Tn,kp);var Op,zp,Ep=0,Np=1e-4,Rp=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,Bp=(Object.freeze||Object)({linearMap:Pn,parsePercent:Ln,round:On,asc:zn,getPrecision:En,getPrecisionSafe:Nn,getPixelPrecision:Rn,getPercentWithPrecision:Bn,MAX_SAFE_INTEGER:9007199254740991,remRadian:Vn,isRadianAroundZero:Fn,parseDate:Hn,quantity:Gn,nice:Zn,reformIntervals:function(t){t.sort(function(t,e){return function t(e,i,n){return e.interval[n]<i.interval[n]||e.interval[n]===i.interval[n]&&(e.close[n]-i.close[n]==(n?-1:1)||!n&&t(e,i,1))}(t,e,0)?-1:1});for(var e=-1/0,i=1,n=0;n<t.length;){for(var r=t[n].interval,o=t[n].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-i),e=r[a],i=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(n,1):n++}return t},isNumeric:function(t){return 0<=t-parseFloat(t)}}),Vp=l,Fp=/([&<>"'])/g,Hp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gp=["a","b","c","d","e","f","g"],Wp=function(t,e){return"{"+t+(null==e?"":e)+"}"},Zp=se,Up=ne,Xp=(Object.freeze||Object)({addCommas:Un,toCamelCase:Xn,normalizeCssArray:Vp,encodeHTML:jn,formatTpl:Yn,formatTplSimple:function(i,t,n){return R(t,function(t,e){i=i.replace("{"+e+"}",n?jn(t):t)}),i},getTooltipMarker:qn,formatTime:Kn,capitalFirst:Qn,truncateText:Zp,getTextRect:Up}),jp=R,Yp=["left","right","top","bottom","width","height"],qp=[["width","left","right"],["height","top","bottom"]],$p=Jn,Kp=(v(Jn,"vertical"),v(Jn,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Qp=ii(),Jp=Tn.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){Tn.call(this,t,e,i,n),this.uid=kn("ec_cpt_model")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?nr(t):{};p(t,e.getTheme().get(this.mainType)),p(t,this.getDefaultOption()),i&&ir(t,n,i)},mergeOption:function(t,e){p(this.option,t,!0);var i=this.layoutMode;i&&ir(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Qp(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var n=i.prototype.defaultOption;n&&e.push(n),i=i.superClass}for(var r={},o=e.length-1;0<=o;o--)r=p(r,e[o],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});ci(Jp,{registerWhenExtend:!0}),zp={},(Op=Jp).registerSubTypeDefaulter=function(t,e){t=ai(t),zp[t.main]=e},Op.determineSubType=function(t,e){var i=e.type;if(!i){var n=ai(t).main;Op.hasSubTypes(t)&&zp[n]&&(i=zp[n](e))}return i},function(t,e){function d(l){var h={},u=[];return R(l,function(i){var t,e,n,r,o,a=c(h,i),s=(t=a.originalDeps=(r=i,o=[],R(Jp.getClassesByMainType(r),function(t){o=o.concat(t.prototype.dependencies||[])}),o=A(o,function(t){return ai(t).main}),"dataset"!==r&&f(o,"dataset")<=0&&o.unshift("dataset"),o),e=l,n=[],R(t,function(t){0<=f(e,t)&&n.push(t)}),n);a.entryCount=s.length,0===a.entryCount&&u.push(i),R(s,function(t){f(a.predecessor,t)<0&&a.predecessor.push(t);var e=c(h,t);f(e.successor,t)<0&&e.successor.push(i)})}),{graph:h,noEntryList:u}}function c(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}Jp.topologicalTravel=function(t,e,i,n){function r(t){a[t].entryCount--,0===a[t].entryCount&&s.push(t)}if(t.length){var o=d(e),a=o.graph,s=o.noEntryList,l={};for(R(t,function(t){l[t]=!0});s.length;){var h=s.pop(),u=a[h],c=!!l[h];c&&(i.call(n,h,u.originalDeps.slice()),delete l[h]),R(u.successor,c?function(t){l[t]=!0,r(t)}:r)}R(l,function(){throw new Error("Circle dependency may exists")})}}}(),r(Jp,Kp);var tg="";"undefined"!=typeof navigator&&(tg=navigator.platform||"");var eg={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:tg.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},ig=ii(),ng={clearColorPalette:function(){ig(this).colorIdx=0,ig(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var n=ig(e=e||this),r=n.colorIdx||0,o=n.colorNameMap=n.colorNameMap||{};if(o.hasOwnProperty(t))return o[t];var a=Ye(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=i&&s?function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}(s,i):a;if((l=l||a)&&l.length){var h=l[r];return t&&(o[t]=h),n.colorIdx=(r+1)%l.length,h}}},rg={cartesian2d:function(t,e,i,n){var r=t.getReferringComponents("xAxis")[0],o=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],i.set("x",r),i.set("y",o),ar(r)&&(n.set("x",r),e.firstCategoryDimIndex=0),ar(o)&&(n.set("y",o),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){var r=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],i.set("single",r),ar(r)&&(n.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var r=t.getReferringComponents("polar")[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",o),i.set("angle",a),ar(o)&&(n.set("radius",o),e.firstCategoryDimIndex=0),ar(a)&&(n.set("angle",a),e.firstCategoryDimIndex=1)},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,r,o,a){var s=t.ecModel,e=s.getComponent("parallel",t.get("parallelIndex")),l=r.coordSysDims=e.dimensions.slice();R(e.parallelAxisIndex,function(t,e){var i=s.getComponent("parallelAxis",t),n=l[e];o.set(n,i),ar(i)&&null==r.firstCategoryDimIndex&&(a.set(n,i),r.firstCategoryDimIndex=e)})}},og="original",ag="arrayRows",sg="objectRows",lg="keyedColumns",hg="unknown",ug="typedArray",cg="column",dg="row";sr.seriesDataToSource=function(t){return new sr({data:t,sourceFormat:_(t)?ug:og,fromDataset:!1})},li(sr);var fg=ii(),pg="\0_ec_inner",gg=Tn.extend({init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new Tn(i),this._optionManager=n},setOption:function(t,e){c(!(pg in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,i=this._optionManager;if(!t||"recreate"===t){var n=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(n)):dr.call(this,n),e=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var r=i.getTimelineOption(this);r&&(this.mergeOption(r),e=!0)}if(!t||"recreate"===t||"media"===t){var o=i.getMediaOption(this,this._api);o.length&&R(o,function(t){this.mergeOption(t,e=!0)},this)}return e},mergeOption:function(n){var l=this.option,h=this._componentsMap,i=[];fg(this).datasetMap=N(),R(n,function(t,e){null!=t&&(Jp.hasClass(e)?e&&i.push(e):l[e]=null==l[e]?b(t):p(l[e],t,!0))}),Jp.topologicalTravel(i,Jp.getAllClassMainTypes(),function(a,t){var e=Ye(n[a]),i=Ke(h.get(a),e);Qe(i),R(i,function(t,e){var i,n,r,o=t.option;E(o)&&(t.keyInfo.mainType=a,t.keyInfo.subType=(i=a,n=o,r=t.exist,n.type?n.type:r?r.subType:Jp.determineSubType(i,n)))});var s=function(e,t){O(t)||(t=t?[t]:[]);var i={};return R(t,function(t){i[t]=(e.get(t)||[]).slice()}),i}(h,t);l[a]=[],h.set(a,[]),R(i,function(t,e){var i=t.exist,n=t.option;if(c(E(n)||i,"Empty component definition"),n){var r=Jp.getClass(a,t.keyInfo.subType,!0);if(i&&i instanceof r)i.name=t.keyInfo.name,i.mergeOption(n,this),i.optionUpdated(n,!1);else{var o=D({dependentModels:s,componentIndex:e},t.keyInfo);D(i=new r(n,this,this,o),o),i.init(n,this,this,o),i.optionUpdated(null,!0)}}else i.mergeOption({},this),i.optionUpdated({},!1);h.get(a)[e]=i,l[a][e]=i.option},this),"series"===a&&fr(this,h.get("series"))},this),this._seriesIndicesMap=N(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var n=b(this.option);return R(n,function(t,e){if(Jp.hasClass(e)){for(var i=(t=Ye(t)).length-1;0<=i;i--)ti(t[i])&&t.splice(i,1);n[e]=t}}),delete n[pg],n},getTheme:function(){return this._theme},getComponent:function(t,e){var i=this._componentsMap.get(t);if(i)return i[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,n=t.index,r=t.id,o=t.name,a=this._componentsMap.get(e);if(!a||!a.length)return[];if(null!=n)O(n)||(n=[n]),i=m(A(n,function(t){return a[t]}),function(t){return!!t});else if(null!=r){var s=O(r);i=m(a,function(t){return s&&0<=f(r,t.id)||!s&&t.id===r})}else if(null!=o){var l=O(o);i=m(a,function(t){return l&&0<=f(o,t.name)||!l&&t.name===o})}else i=a.slice();return pr(i,t)},findComponents:function(t){var e,i,n,r,o,a=t.query,s=t.mainType,l=(i=s+"Index",n=s+"Id",r=s+"Name",!(e=a)||null==e[i]&&null==e[n]&&null==e[r]?null:{mainType:s,index:e[i],id:e[n],name:e[r]});return o=pr(l?this.queryComponents(l):this._componentsMap.get(s),t),t.filter?m(o,t.filter):o},eachComponent:function(t,n,r){var e=this._componentsMap;"function"==typeof t?(r=n,n=t,e.each(function(t,i){R(t,function(t,e){n.call(r,i,t,e)})})):S(t)?R(e.get(t),n,r):E(t)&&R(this.findComponents(t),n,r)},getSeriesByName:function(e){return m(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(e){return m(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(i,n){R(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];i.call(n,e,t)},this)},eachRawSeries:function(t,e){R(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(i,n,r){R(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];e.subType===i&&n.call(r,e,t)},this)},eachRawSeriesByType:function(t,e,i){return R(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){fr(this,m(this._componentsMap.get("series"),t,e))},restoreData:function(i){var n=this._componentsMap;fr(this,n.get("series"));var r=[];n.each(function(t,e){r.push(e)}),Jp.topologicalTravel(r,Jp.getAllClassMainTypes(),function(e,t){R(n.get(e),function(t){("series"!==e||!function(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,r=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=r&&t.name!==r}}(t,i))&&t.restoreData()})})}});r(gg,ng);var mg=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],vg={};mr.prototype={constructor:mr,create:function(n,r){var o=[];R(vg,function(t,e){var i=t.create(n,r);o=o.concat(i||[])}),this._coordinateSystems=o},update:function(e,i){R(this._coordinateSystems,function(t){t.update&&t.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},mr.register=function(t,e){vg[t]=e},mr.get=function(t){return vg[t]};var yg=R,_g=b,xg=A,wg=p,bg=/^(min|max)?(.+)$/;vr.prototype={constructor:vr,setOption:function(t,e){t&&R(Ye(t.series),function(t){t&&t.data&&_(t.data)&&d(t.data)}),t=_g(t,!0);var r,i,n=this._optionBackup,o=function(t,i,n){var e,r,o=[],a=[],s=t.timeline;if(t.baseOption&&(r=t.baseOption),(s||t.options)&&(r=r||{},o=(t.options||[]).slice()),t.media){r=r||{};var l=t.media;yg(l,function(t){t&&t.option&&(t.query?a.push(t):e||(e=t))})}return r||(r=t),r.timeline||(r.timeline=s),yg([r].concat(o).concat(A(a,function(t){return t.option})),function(e){yg(i,function(t){t(e,n)})}),{baseOption:r,timelineOptions:o,mediaDefault:e,mediaList:a}}.call(this,t,e,!n);this._newBaseOption=o.baseOption,n?(r=n.baseOption,i=o.baseOption,yg(i=i||{},function(t,e){if(null!=t){var i=r[e];if(Jp.hasClass(e)){t=Ye(t);var n=Ke(i=Ye(i),t);r[e]=xg(n,function(t){return t.option&&t.exist?wg(t.exist,t.option,!0):t.exist||t.option})}else r[e]=wg(i,t,!0)}}),o.timelineOptions.length&&(n.timelineOptions=o.timelineOptions),o.mediaList.length&&(n.mediaList=o.mediaList),o.mediaDefault&&(n.mediaDefault=o.mediaDefault)):this._optionBackup=o},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=xg(e.timelineOptions,_g),this._mediaList=xg(e.mediaList,_g),this._mediaDefault=_g(e.mediaDefault),this._currentMediaIndices=[],_g(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;if(i.length){var n=t.getComponent("timeline");n&&(e=_g(i[n.getCurrentIndex()],!0))}return e},getMediaOption:function(t){var e,i,n=this._api.getWidth(),r=this._api.getHeight(),o=this._mediaList,a=this._mediaDefault,s=[],l=[];if(!o.length&&!a)return l;for(var h=0,u=o.length;h<u;h++)yr(o[h].query,n,r)&&s.push(h);return!s.length&&a&&(s=[-1]),s.length&&(e=s,i=this._currentMediaIndices,!(e.join(",")===i.join(",")))&&(l=xg(s,function(t){return _g(-1===t?a.option:o[t].option)})),this._currentMediaIndices=s,l}};var Sg=R,Mg=E,Ig=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],Cg=function(e,t){Sg(Mr(e.series),function(t){Mg(t)&&function(t){if(Mg(t)){_r(t),wr(t),br(t,"label"),br(t,"upperLabel"),br(t,"edgeLabel"),t.emphasis&&(br(t.emphasis,"label"),br(t.emphasis,"upperLabel"),br(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(_r(e),Sr(e));var i=t.markLine;i&&(_r(i),Sr(i));var n=t.markArea;n&&Sr(n);var r=t.data;if("graph"===t.type){r=r||t.nodes;var o=t.links||t.edges;if(o&&!_(o))for(s=0;s<o.length;s++)Sr(o[s]);R(t.categories,function(t){wr(t)})}if(r&&!_(r))for(s=0;s<r.length;s++)Sr(r[s]);if((e=t.markPoint)&&e.data)for(var a=e.data,s=0;s<a.length;s++)Sr(a[s]);if((i=t.markLine)&&i.data){var l=i.data;for(s=0;s<l.length;s++)O(l[s])?(Sr(l[s][0]),Sr(l[s][1])):Sr(l[s])}"gauge"===t.type?(br(t,"axisLabel"),br(t,"title"),br(t,"detail")):"treemap"===t.type?(xr(t.breadcrumb,"itemStyle"),R(t.levels,function(t){wr(t)})):"tree"===t.type&&wr(t.leaves)}}(t)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),Sg(i,function(t){Sg(Mr(e[t]),function(t){t&&(br(t,"axisLabel"),br(t.axisPointer,"label"))})}),Sg(Mr(e.parallel),function(t){var e=t&&t.parallelAxisDefault;br(e,"axisLabel"),br(e&&e.axisPointer,"label")}),Sg(Mr(e.calendar),function(t){xr(t,"itemStyle"),br(t,"dayLabel"),br(t,"monthLabel"),br(t,"yearLabel")}),Sg(Mr(e.radar),function(t){br(t,"name")}),Sg(Mr(e.geo),function(t){Mg(t)&&(Sr(t),Sg(Mr(t.regions),function(t){Sr(t)}))}),Sg(Mr(e.timeline),function(t){Sr(t),xr(t,"label"),xr(t,"itemStyle"),xr(t,"controlStyle",!0);var e=t.data;O(e)&&R(e,function(t){E(t)&&(xr(t,"label"),xr(t,"itemStyle"))})}),Sg(Mr(e.toolbox),function(t){xr(t,"iconStyle"),Sg(t.feature,function(t){xr(t,"iconStyle")})}),br(Ir(e.axisPointer),"label"),br(Ir(e.tooltip).axisPointer,"label")},Tg=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Dg=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Ag=function(i,t){Cg(i,t),i.series=Ye(i.series),R(i.series,function(t){if(E(t)){var e=t.type;if("pie"!==e&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e){var i=function(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}(t,"pointer.color");null!=i&&function(t,e,i,n){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)null==o[r=e[a]]&&(o[r]={}),o=o[r];(n||null==o[e[a]])&&(o[e[a]]=i)}(t,"itemStyle.normal.color",i)}Cr(t)}}),i.dataRange&&(i.visualMap=i.dataRange),R(Dg,function(t){var e=i[t];e&&(O(e)||(e=[e]),R(e,function(t){Cr(t)}))})},kg=Dr.prototype;kg.pure=!1;var Pg={arrayRows_column:{pure:kg.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Pr},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var r=i[n];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Ar,getItem:kr,appendData:Pr},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var r=this._data[i[n].name];e.push(r?r[t]:null)}return e},appendData:function(t){var r=this._data;R(t,function(t,e){for(var i=r[e]||(r[e]=[]),n=0;n<(t||[]).length;n++)i.push(t[n])})}},original:{count:Ar,getItem:kr,appendData:Pr},typedArray:{persistent:!(kg.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},Lg={arrayRows:Lr,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:Lr,original:function(t,e,i,n){var r=$e(t);return null!=i&&r instanceof Array?r[i]:r},typedArray:Lr},Og={arrayRows:Or,objectRows:function(t,e,i,n){return zr(t[e],this._dimensionInfos[e])},keyedColumns:Or,original:function(t,e,i,n){var r,o=t&&(null==t.value?t:t.value);return!this._rawData.pure&&(Wd(r=t)&&!(r instanceof Array))&&(this.hasItemOption=!0),zr(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}},zg=/\{@(.+?)\}/g,Eg={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),r=i.getRawIndex(t),o=i.getName(t),a=i.getRawDataItem(t),s=i.getItemVisual(t,"color");return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:this.seriesIndex,seriesId:this.id,seriesName:this.name,name:o,dataIndex:r,data:a,dataType:e,value:n,color:s,marker:qn(s),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,e,i,r){t=t||"normal";var o=this.getData(e),a=o.getItemModel(n),s=this.getDataParams(n,e);null!=i&&s.value instanceof Array&&(s.value=s.value[i]);var l=a.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);return"function"==typeof l?(s.status=t,l(s)):"string"==typeof l?Yn(l,s).replace(zg,function(t,e){var i=e.length;return"["===e.charAt(0)&&"]"===e.charAt(i-1)&&(e=+e.slice(1,i-1)),Er(o,n,e)}):void 0},getRawValue:function(t,e){return Er(this.getData(e),t)},formatTooltip:function(){}},Ng=Br.prototype;Ng.perform=function(t){function e(t){return!(1<=t)&&(t=1),t}var i,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(i=this._plan(this.context));var a,s=e(this._modBy),l=this._modDataCount||0,h=e(t&&t.modBy),u=t&&t.modDataCount||0;s===h&&l===u||(i="reset"),(this._dirty||"reset"===i)&&(this._dirty=!1,a=function(t,e){var i,n;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((i=t._reset(t.context))&&i.progress&&(n=i.forceFirstProgress,i=i.progress),O(i)&&!i.length&&(i=null)),t._progress=i,t._modBy=t._modDataCount=null;var r=t._downstream;return r&&r.dirty(),n}(this,r)),this._modBy=h,this._modDataCount=u;var c=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=c?this._dueIndex+c:1/0,this._dueEnd);if(!r&&(a||d<f)){var p=this._progress;if(O(p))for(var g=0;g<p.length;g++)Vr(this,p[g],d,f,h,u);else Vr(this,p,d,f,h,u)}this._dueIndex=f;var m=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var Rg=function(){function r(){return s<a?s++:null}function o(){var t=s%u*l+Math.ceil(s/u),e=a<=s?null:t<h?t:s;return s++,e}var a,s,l,h,u,c={reset:function(t,e,i,n){s=t,a=e,l=i,h=n,u=Math.ceil(h/l),c.next=1<l&&0<h?o:r}};return c}();Ng.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},Ng.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},Ng.pipe=function(t){(this._downstream!==t||this._dirty)&&((this._downstream=t)._upstream=this,t.dirty())},Ng.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},Ng.getUpstream=function(){return this._upstream},Ng.getDownstream=function(){return this._downstream},Ng.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var Bg=ii(),Vg=Jp.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=Rr({count:Hr,reset:Gr}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),lr(this);var r=this.getInitialData(t,i);Zr(r,this),this.dataTask.context.data=r,Bg(this).dataBeforeProcessed=r,Fr(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?nr(t):{},r=this.subType;Jp.hasClass(r)&&(r+="Series"),p(t,e.getTheme().get(this.subType)),p(t,this.getDefaultOption()),qe(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&ir(t,n,i)},mergeOption:function(t,e){t=p(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&ir(this.option,t,i),lr(this);var n=this.getInitialData(t,e);Zr(n,this),this.dataTask.dirty(),this.dataTask.context.data=n,Bg(this).dataBeforeProcessed=n,Fr(this)},fillDataTextStyle:function(t){if(t&&!_(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&qe(t[i],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=Xr(this);if(e){var i=e.context.data;return null==t?i:i.getLinkedData(t)}return Bg(this).data},setData:function(t){var e=Xr(this);if(e){var i=e.context;i.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),i.outputData=t,e!==this.dataTask&&(i.data=t)}Bg(this).data=t},getSource:function(){return fg(this).source},getRawData:function(){return Bg(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(i,l,t){var h=this.getData(),n=h.mapDimension("defaultedTooltip",!0),e=n.length,r=this.getRawValue(i),o=O(r),u=h.getItemVisual(i,"color");E(u)&&u.colorStops&&(u=(u.colorStops[0]||{}).color),u=u||"transparent";var a=1<e||o&&!e?function(t){function e(t,e){var i=h.getDimensionInfo(e);if(i&&!1!==i.otherDims.tooltip){var n=i.type,r=qn({color:u,type:"subItem"}),o=(a?r+jn(i.displayName||"-")+": ":"")+jn("ordinal"===n?t+"":"time"===n?l?"":Kn("yyyy/MM/dd hh:mm:ss",t):Un(t));o&&s.push(o)}}var a=g(t,function(t,e,i){var n=h.getDimensionInfo(i);return t|(n&&!1!==n.tooltip&&null!=n.displayName)},0),s=[];return n.length?R(n,function(t){e(Er(h,i,t),t)}):R(t,e),(a?"<br/>":"")+s.join(a?"<br/>":", ")}(r):jn(Un(e?Er(h,i,n[0]):o?r[0]:r)),s=qn(u),c=h.getName(i),d=this.name;return Je(this)||(d=""),d=d?jn(d)+(l?": ":"<br/>"):"",l?s+d+a:d+s+(c?jn(c)+": "+a:a)},isAnimationEnabled:function(){if(ju.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel,r=ng.getColorFromPalette.call(this,t,e,i);return r||(r=n.getColorFromPalette(t,e,i)),r},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});r(Vg,Eg),r(Vg,ng);var Fg=function(){this.group=new Kc,this.uid=kn("viewComponent")};Fg.prototype={constructor:Fg,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){}};var Hg=Fg.prototype;Hg.updateView=Hg.updateLayout=Hg.updateVisual=function(t,e,i,n){},si(Fg),ci(Fg,{registerWhenExtend:!0});var Gg=function(){var s=ii();return function(t){var e=s(t),i=t.pipelineContext,n=e.large,r=e.progressiveRender,o=e.large=i.large,a=e.progressiveRender=i.progressiveRender;return!!(n^o||r^a)&&"reset"}},Wg=ii(),Zg=Gg(),Ug=jr.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){qr(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){qr(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null};Ug.updateView=Ug.updateLayout=Ug.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},si(jr),ci(jr,{registerWhenExtend:!0}),jr.markUpdateMethod=function(t,e){Wg(t).updateMethod=e};var Xg={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},jg="\0__throttleOriginMethod",Yg="\0__throttleRate",qg="\0__throttleType",$g={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData(),n=(e.visualColorAccessPath||"itemStyle.color").split("."),r=e.get(n)||e.getColorFromPalette(e.name,null,t.getSeriesCount());if(i.setVisual("color",r),!t.isSeriesFiltered(e))return"function"!=typeof r||r instanceof yp||i.each(function(t){i.setItemVisual(t,"color",r(e.getDataParams(t)))}),{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e).get(n,!0);null!=i&&t.setItemVisual(e,"color",i)}:null}}},Kg={toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},Qg=function(t,e){function c(t,e){if("string"!=typeof t)return t;var i=t;return R(e,function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),i}function d(t){var e=o.get(t);if(null!=e)return e;for(var i=t.split("."),n=Kg.aria,r=0;r<i.length;++r)n=n[i[r]];return n}var i,o=e.getModel("aria");if(o.get("show"))if(o.get("description"))t.setAttribute("aria-label",o.get("description"));else{var f=0;e.eachSeries(function(t,e){++f},this);var n,p=o.get("data.maxCount")||10,r=o.get("series.maxCount")||10,g=Math.min(f,r);if(!(f<1)){var a=((i=e.getModel("title").option)&&i.length&&(i=i[0]),i&&i.text);n=a?c(d("general.withTitle"),{title:a}):d("general.withoutTitle");var m=[];n+=c(d(1<f?"series.multiple.prefix":"series.single.prefix"),{seriesCount:f}),e.eachSeries(function(t,e){if(e<g){var i,n=t.get("name"),r="series."+(1<f?"multiple":"single")+".";i=c(i=d(n?r+"withName":r+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(u=t.subType,Kg.series.typeNames[u]||"自定义图")});var o=t.getData();(window.data=o).count()>p?i+=c(d("data.partialData"),{displayCnt:p}):i+=d("data.allData");for(var a=[],s=0;s<o.count();s++)if(s<p){var l=o.getName(s),h=Er(o,s);a.push(c(d(l?"data.withName":"data.withoutName"),{name:l,value:h}))}i+=a.join(d("data.separator.middle"))+d("data.separator.end"),m.push(i)}var u}),n+=m.join(d("series.multiple.separator.middle"))+d("series.multiple.separator.end"),t.setAttribute("aria-label",n)}}},Jg=Math.PI,tm=eo.prototype;tm.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){var e=t.overallTask;e&&e.dirty()})},tm.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,r=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,o=n&&n.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},tm.getPipeline=function(t){return this._pipelineMap.get(t)},tm.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),r=i.progressiveEnabled&&e.incrementalPrepareRender&&n>=i.threshold,o=t.get("large")&&n>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?n:null;t.pipelineContext=i.context={progressiveRender:r,modDataCount:a,large:o}},tm.restorePipelines=function(t){var n=this,r=n._pipelineMap=N();t.eachSeries(function(t){var e=t.getProgressive(),i=t.uid;r.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),co(n,t,t.dataTask)})},tm.prepareStageTasks=function(){var i=this._stageTaskMap,n=this.ecInstance.getModel(),r=this.api;R(this._allHandlers,function(t){var e=i.get(t.uid)||i.set(t.uid,[]);t.reset&&function(n,r,t,o,a){function e(t){var e=t.uid,i=s.get(e)||s.set(e,Rr({plan:so,reset:lo,count:uo}));i.context={model:t,ecModel:o,api:a,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:n},co(n,t,i)}var s=t.seriesTaskMap||(t.seriesTaskMap=N()),i=r.seriesType,l=r.getTargetSeries;r.createOnAllSeries?o.eachRawSeries(e):i?o.eachRawSeriesByType(i,e):l&&l(o,a).each(e);var h=n._pipelineMap;s.each(function(t,e){h.get(e)||(t.dispose(),s.removeKey(e))})}(this,t,e,n,r),t.overallReset&&function(n,t,e,i,r){function o(t){var e=t.uid,i=s.get(e);i||(i=s.set(e,Rr({reset:ro,onDirty:ao})),a.dirty()),i.context={model:t,overallProgress:u,modifyOutputEnd:c},i.agent=a,i.__block=u,co(n,t,i)}var a=e.overallTask=e.overallTask||Rr({reset:no});a.context={ecModel:i,api:r,overallReset:t.overallReset,scheduler:n};var s=a.agentStubMap=a.agentStubMap||N(),l=t.seriesType,h=t.getTargetSeries,u=!0,c=t.modifyOutputEnd;l?i.eachRawSeriesByType(l,o):h?h(i,r).each(o):(u=!1,R(i.getSeries(),o));var d=n._pipelineMap;s.each(function(t,e){d.get(e)||(t.dispose(),a.dirty(),s.removeKey(e))})}(this,t,e,n,r)},this)},tm.prepareView=function(t,e,i,n){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=i,o.api=n,r.__block=!t.incrementalPrepareRender,co(this,e,r)},tm.performDataProcessorTasks=function(t,e){io(this,this._dataProcessorHandlers,t,e,{block:!0})},tm.performVisualTasks=function(t,e,i){io(this,this._visualHandlers,t,e,i)},tm.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},tm.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})};var em=tm.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},im=ho(0);eo.wrapStageHandler=function(t,e){return y(t)&&(t={overallReset:t,seriesType:function(t){nm=null;try{t(rm,om)}catch(t){}return nm}(t)}),t.uid=kn("stageHandler"),e&&(t.visualType=e),t};var nm,rm={},om={};fo(rm,gg),fo(om,gr),rm.eachSeriesByType=rm.eachRawSeriesByType=function(t){nm=t},rm.eachComponent=function(t){"series"===t.mainType&&t.subType&&(nm=t.subType)};var am=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],sm={color:am,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],am]},lm=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],hm={color:lm,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:lm[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:lm},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};hm.categoryAxis.splitLine.show=!1,Jp.extend({type:"dataset",defaultOption:{seriesLayoutBy:cg,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,i=hg;if(_(e))i=ug;else if(O(e))for(var n=0,r=e.length;n<r;n++){var o=e[n];if(null!=o){if(O(o)){i=ag;break}if(E(o)){i=sg;break}}}else if(E(e)){for(var a in e)if(e.hasOwnProperty(a)&&z(e[a])){i=lg;break}}else if(null!=e)throw new Error("Invalid data");fg(t).sourceFormat=i}(this)}}),Fg.extend({type:"dataset"});var um=c,cm=R,dm=y,fm=E,pm=Jp.parseClassType,gm={PROCESSOR:{FILTER:1e3,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,GLOBAL:2e3,CHART:3e3,COMPONENT:4e3,BRUSH:5e3}},mm="__flagInMainProcess",vm="__optionUpdated",ym=/^[a-zA-Z0-9_]+$/;go.prototype.on=po("on"),go.prototype.off=po("off"),go.prototype.one=po("one"),r(go,gc);var _m=mo.prototype;_m._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[vm]){var e=this[vm].silent;this[mm]=!0,yo(this),xm.update.call(this),this[mm]=!1,this[vm]=!1,bo.call(this,e),So.call(this,e)}else if(t.unfinished){var i=1,n=this._model;this._api,t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(n),t.performDataProcessorTasks(n),xo(this,n),t.performVisualTasks(n),To(this,this._model,0,"remain"),i-=+new Date-r}while(0<i&&t.unfinished);t.unfinished||this._zr.flush()}}},_m.getDom=function(){return this._dom},_m.getZr=function(){return this._zr},_m.setOption=function(t,e,i){var n;if(fm(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[mm]=!0,!this._model||e){var r=new vr(this._api),o=this._theme,a=this._model=new gg(null,null,o,r);a.scheduler=this._scheduler,a.init(null,null,o,r)}this._model.setOption(t,Im),i?(this[vm]={silent:n},this[mm]=!1):(yo(this),xm.update.call(this),this._zr.flush(),this[vm]=!1,this[mm]=!1,bo.call(this,n),So.call(this,n))},_m.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},_m.getModel=function(){return this._model},_m.getOption=function(){return this._model&&this._model.getOption()},_m.getWidth=function(){return this._zr.getWidth()},_m.getHeight=function(){return this._zr.getHeight()},_m.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},_m.getRenderedCanvas=function(t){if(ju.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},_m.getSvgDataUrl=function(){if(ju.svgSupported){var t=this._zr;return R(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},_m.getDataURL=function(t){var e=(t=t||{}).excludeComponents,i=this._model,n=[],r=this;cm(e,function(t){i.eachComponent({mainType:t},function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(n.push(e),e.group.ignore=!0)})});var o="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return cm(n,function(t){t.group.ignore=!1}),o},_m.getConnectedDataURL=function(r){if(ju.canvasSupported){var o=this.group,a=Math.min,s=Math.max;if(Pm[o]){var l=1/0,h=1/0,u=-1/0,c=-1/0,d=[],i=r&&r.pixelRatio||1;R(km,function(t,e){if(t.group===o){var i=t.getRenderedCanvas(b(r)),n=t.getDom().getBoundingClientRect();l=a(n.left,l),h=a(n.top,h),u=s(n.right,u),c=s(n.bottom,c),d.push({dom:i,left:n.left,top:n.top})}});var t=(u*=i)-(l*=i),e=(c*=i)-(h*=i),n=rc();n.width=t,n.height=e;var f=Xe(n);return cm(d,function(t){var e=new Oe({style:{x:t.left*i-l,y:t.top*i-h,image:t.dom}});f.add(e)}),f.refreshImmediately(),n.toDataURL("image/"+(r&&r.type||"png"))}return this.getDataURL(r)}},_m.convertToPixel=v(vo,"convertToPixel"),_m.convertFromPixel=v(vo,"convertFromPixel"),_m.containPixel=function(t,r){var o;return R(t=ni(this._model,t),function(t,n){0<=n.indexOf("Models")&&R(t,function(t){var e=t.coordinateSystem;if(e&&e.containPoint)o|=!!e.containPoint(r);else if("seriesModels"===n){var i=this._chartsMap[t.__viewId];i&&i.containPoint&&(o|=i.containPoint(r,t))}},this)},this),!!o},_m.getVisual=function(t,e){var i=(t=ni(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),n=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=n?i.getItemVisual(n,e):i.getVisual(e)},_m.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},_m.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var xm={prepareAndUpdate:function(t){yo(this),xm.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,r=this._coordSysMgr,o=this._scheduler;if(e){o.restoreData(e,t),o.performSeriesTasks(e),r.create(e,i),o.performDataProcessorTasks(e,t),xo(this,e),r.update(e,i),Io(e),o.performVisualTasks(e,t),Co(this,e,i,t);var a=e.get("backgroundColor")||"transparent";if(ju.canvasSupported)n.setBackgroundColor(a);else{var s=bt(a);a=At(s,"rgb"),0===s[3]&&(a="transparent")}Do(e,i)}},updateTransform:function(r){var o=this._model,a=this,s=this._api;if(o){var l=[];o.eachComponent(function(t,e){var i=a.getViewOfComponentModel(e);if(i&&i.__alive)if(i.updateTransform){var n=i.updateTransform(e,o,s,r);n&&n.update&&l.push(i)}else l.push(i)});var n=N();o.eachSeries(function(t){var e=a._chartsMap[t.__viewId];if(e.updateTransform){var i=e.updateTransform(t,o,s,r);i&&i.update&&n.set(t.uid,1)}else n.set(t.uid,1)}),Io(o),this._scheduler.performVisualTasks(o,r,{setDirty:!0,dirtyMap:n}),To(a,o,0,r,n),Do(o,this._api)}},updateView:function(t){var e=this._model;e&&(jr.markUpdateMethod(t,"updateView"),Io(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Co(this,this._model,this._api,t),Do(e,this._api))},updateVisual:function(t){xm.update.call(this,t)},updateLayout:function(t){xm.update.call(this,t)}};_m.resize=function(t){this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var i=e.resetOption("media"),n=t&&t.silent;this[mm]=!0,i&&yo(this),xm.update.call(this),this[mm]=!1,bo.call(this,n),So.call(this,n)}},_m.showLoading=function(t,e){if(fm(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Am[t]){var i=Am[t](this._api,e),n=this._zr;this._loadingFX=i,n.add(i)}},_m.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},_m.makeActionFromEvent=function(t){var e=D({},t);return e.type=Sm[t.type],e},_m.dispatchAction=function(t,e){fm(e)||(e={silent:!!e}),bm[t.type]&&this._model&&(this[mm]?this._pendingActions.push(t):(wo.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&ju.browser.weChat&&this._throttledZrFlush(),bo.call(this,e.silent),So.call(this,e.silent)))},_m.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},_m.on=po("on"),_m.off=po("off"),_m.one=po("one");var wm=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];_m._initEvents=function(){cm(wm,function(o){this._zr.on(o,function(t){var e,i=this.getModel(),n=t.target;if("globalout"===o)e={};else if(n&&null!=n.dataIndex){var r=n.dataModel||i.getSeriesByIndex(n.seriesIndex);e=r&&r.getDataParams(n.dataIndex,n.dataType)||{}}else n&&n.eventData&&(e=D({},n.eventData));e&&(e.event=t,e.type=o,this.trigger(o,e))},this)},this),cm(Sm,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},_m.isDisposed=function(){return this._disposed},_m.clear=function(){this.setOption({series:[]},!0)},_m.dispose=function(){if(!this._disposed){this._disposed=!0,oi(this.getDom(),zm,"");var e=this._api,i=this._model;cm(this._componentsViews,function(t){t.dispose(i,e)}),cm(this._chartsViews,function(t){t.dispose(i,e)}),this._zr.dispose(),delete km[this.id]}},r(mo,gc);var bm={},Sm={},Mm=[],Im=[],Cm=[],Tm=[],Dm={},Am={},km={},Pm={},Lm=new Date-0,Om=new Date-0,zm="_echarts_instance_",Em={},Nm=ko;Ro(2e3,$g),Oo(Ag),zo(5e3,function(t){var o=N();t.eachSeries(function(t){var e=t.get("stack");if(e){var i=o.get(e)||o.set(e,[]),n=t.getData(),r={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(r)}}),o.each(Tr)}),Vo("default",function(n,t){T(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new dp({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),o=new mp({shape:{startAngle:-Jg/2,endAngle:-Jg/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),a=new dp({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*Jg/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Jg/2}).delay(300).start("circularInOut");var e=new Kc;return e.add(o),e.add(a),e.add(r),e.resize=function(){var t=n.getWidth()/2,e=n.getHeight()/2;o.setShape({cx:t,cy:e});var i=o.shape.r;a.setShape({x:t-i,y:e-i,width:2*i,height:2*i}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),Eo({type:"highlight",event:"highlight",update:"highlight"},B),Eo({type:"downplay",event:"downplay",update:"downplay"},B),Lo("light",sm),Lo("dark",hm);Uo.prototype={constructor:Uo,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],r=[];for(Xo(t,{},n,"_oldKeyGetter",this),Xo(e,i,r,"_newKeyGetter",this),o=0;o<t.length;o++)null!=(s=i[a=n[o]])?((h=s.length)?(1===h&&(i[a]=null),s=s.unshift()):i[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o);for(var o=0;o<r.length;o++){var a=r[o];if(i.hasOwnProperty(a)){var s=i[a];if(null==s)continue;if(s.length)for(var l=0,h=s.length;l<h;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var Rm=N(["tooltip","label","itemName","itemId","seriesName"]),Bm=E,Vm={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},Fm="undefined"==typeof Uint32Array?Array:Uint32Array,Hm="undefined"==typeof Uint16Array?Array:Uint16Array,Gm=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Wm=["_extent","_approximateExtent","_rawExtent"],Zm=function(t,e){t=t||["x","y"];for(var i={},n=[],r={},o=0;o<t.length;o++){var a=t[o];S(a)&&(a={name:a});var s=a.name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},n.push(s),(i[s]=a).index=o,a.createInvertedIndices&&(r[s]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=function(o){var t={},a=t.encode={},s=N(),l=[],h=[];R(o.dimensions,function(t){var e,r=o.getDimensionInfo(t),i=r.coordDim;if(i){var n=a[i];a.hasOwnProperty(i)||(n=a[i]=[]),n[r.coordDimIndex]=t,r.isExtraCoord||(s.set(i,1),!("ordinal"===(e=r.type)||"time"===e)&&(l[0]=t)),r.defaultTooltip&&h.push(t)}Rm.each(function(t,e){var i=a[e];a.hasOwnProperty(e)||(i=a[e]=[]);var n=r.otherDims[e];null!=n&&!1!==n&&(i[n]=r.name)})});var n=[],r={};s.each(function(t,e){var i=a[e];r[e]=i[0],n=n.concat(i)}),t.dataDimsOnCoord=n,t.encodeFirstDimNotExtra=r;var e=a.label;e&&e.length&&(l=e.slice());var i=a.tooltip;return i&&i.length?h=i.slice():h.length||(h=l.slice()),a.defaultedLabel=l,a.defaultedTooltip=h,t}(this),this._invertedIndicesMap=r,this._calculationInfo={}},Um=Zm.prototype;Um.type="list",Um.hasItemOption=!0,Um.getDimension=function(t){return isNaN(t)||(t=this.dimensions[t]||t),t},Um.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Um.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Um.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];var n=i.encode[t];return!0===e?(n||[]).slice():n&&n[e]},Um.initData=function(t,e,i){(sr.isInstance(t)||z(t))&&(t=new Dr(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=Og[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Um.getProvider=function(){return this._rawData},Um.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);var n=e.count();e.persistent||(n+=i),this._initDataFromProvider(i,n)},Um._initDataFromProvider=function(t,e){if(!(e<=t)){for(var i,n=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,h=this._nameList,u=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=f-1,g=0;g<s;g++){c[C=a[g]]||(c[C]=[1/0,-1/0]);var m=l[C];0===m.otherDims.itemName&&(i=this._nameDimIdx=g),0===m.otherDims.itemId&&(this._idDimIdx=g);var v=Vm[m.type];o[C]||(o[C]=[]);var y=o[C][p];if(y&&y.length<n){for(var _=new v(Math.min(e-p*n,n)),x=0;x<y.length;x++)_[x]=y[x];o[C][p]=_}for(I=f*n;I<e;I+=n)o[C].push(new v(Math.min(e-I,n)));this._chunkCount=o[C].length}for(var w=new Array(s),b=t;b<e;b++){w=r.getItem(b,w);for(var S=Math.floor(b/n),M=b%n,I=0;I<s;I++){var C=a[I],T=o[C][S],D=this._dimValueGetter(w,C,b,I);T[M]=D;var A=c[C];D<A[0]&&(A[0]=D),D>A[1]&&(A[1]=D)}if(!r.pure){var k=h[b];if(w&&null==k)if(null!=w.name)h[b]=k=w.name;else if(null!=i){var P=a[i],L=o[P][S];if(L){k=L[M];var O=l[P].ordinalMeta;O&&O.categories.length&&(k=O.categories[k])}}var z=null==w?null:w.id;null==z&&null!=k&&(d[k]=d[k]||0,0<d[z=k]&&(z+="__ec__"+d[k]),d[k]++),null!=z&&(u[b]=z)}}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},R(N=(E=this)._invertedIndicesMap,function(t,e){var i=E._dimensionInfos[e].ordinalMeta;if(i){for(t=N[e]=new Fm(i.categories.length),n=0;n<t.length;n++)t[n]=NaN;for(var n=0;n<E._count;n++)t[E.get(e,n)]=n}})}var E,N},Um.count=function(){return this._count},Um.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,i=this._count;if(e===Array)for(n=new e(i),r=0;r<i;r++)n[r]=t[r];else n=new e(t.buffer,0,i)}else for(var n=new(e=jo(this))(this.count()),r=0;r<n.length;r++)n[r]=r;return n},Um.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var n=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return i[t][n][r]},Um.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;var n=Math.floor(e/this._chunkSize),r=e%this._chunkSize;return i[n][r]},Um._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return this._storage[t][i][n]},Um.getValues=function(t,e){var i=[];O(t)||(e=t,t=this.dimensions);for(var n=0,r=t.length;n<r;n++)i.push(this.get(t[n],e));return i},Um.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=this._dimensionInfos,n=0,r=e.length;n<r;n++)if("ordinal"!==i[e[n]].type&&isNaN(this.get(e[n],t)))return!1;return!0},Um.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var i,n=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var r=(i=e)[0],o=i[1],a=0;a<n;a++){var s=this._getFast(t,this.getRawIndex(a));s<r&&(r=s),o<s&&(o=s)}return i=[r,o],this._extent[t]=i},Um.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Um.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Um.getCalculationInfo=function(t){return this._calculationInfo[t]},Um.setCalculationInfo=function(t,e){Bm(t)?D(this._calculationInfo,t):this._calculationInfo[t]=e},Um.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,n=this.count();i<n;i++){var r=this.get(t,i);isNaN(r)||(e+=r)}return e},Um.getMedian=function(t){var i=[];this.each(t,function(t,e){isNaN(t)||i.push(t)});var e=[].concat(i).sort(function(t,e){return t-e}),n=this.count();return 0===n?0:n%2==1?e[(n-1)/2]:(e[n/2]+e[n/2-1])/2},Um.rawIndexOf=function(t,e){var i=(t&&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?-1:i},Um.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},Um.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,r=this._count-1;n<=r;){var o=(n+r)/2|0;if(e[o]<t)n=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},Um.indicesOfNearest=function(t,e,i){var n=[];if(!this._storage[t])return n;null==i&&(i=1/0);for(var r=Number.MAX_VALUE,o=-1,a=0,s=this.count();a<s;a++){var l=e-this.get(t,a),h=Math.abs(l);l<=i&&h<=r&&((h<r||0<=l&&o<0)&&(r=h,o=l,n.length=0),n.push(a))}return n},Um.getRawIndex=$o,Um.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},Um.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||qo(this,this._nameDimIdx,e)||""},Um.getId=function(t){return Qo(this,this.getRawIndex(t))},Um.each=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;for(var r=(t=A(Jo(t),this.getDimension,this)).length,o=0;o<this.count();o++)switch(r){case 0:e.call(i,o);break;case 1:e.call(i,this.get(t[0],o),o);break;case 2:e.call(i,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var a=0,s=[];a<r;a++)s[a]=this.get(t[a],o);s[a]=o,e.apply(i,s)}}},Um.filterSelf=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=A(Jo(t),this.getDimension,this);for(var r=this.count(),o=new(jo(this))(r),a=[],s=t.length,l=0,h=t[0],u=0;u<r;u++){var c,d=this.getRawIndex(u);if(0===s)c=e.call(i,u);else if(1===s){var f=this._getFast(h,d);c=e.call(i,f,u)}else{for(var p=0;p<s;p++)a[p]=this._getFast(h,d);a[p]=u,c=e.apply(i,a)}c&&(o[l++]=d)}return l<r&&(this._indices=o),this._count=l,this._extent={},this.getRawIndex=this._indices?Ko:$o,this}},Um.selectRange=function(t){if(this._count){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);var n=e.length;if(n){var r=this.count(),o=new(jo(this))(r),a=0,s=e[0],l=t[s][0],h=t[s][1],u=!1;if(!this._indices){var c=0;if(1===n){for(var d=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++)((w=p[m])>=l&&w<=h||isNaN(w))&&(o[a++]=c),c++;u=!0}else if(2===n){d=this._storage[s];var v=this._storage[e[1]],y=t[e[1]][0],_=t[e[1]][1];for(f=0;f<this._chunkCount;f++){p=d[f];var x=v[f];for(g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var w=p[m],b=x[m];(l<=w&&w<=h||isNaN(w))&&(y<=b&&b<=_||isNaN(b))&&(o[a++]=c),c++}}u=!0}}if(!u)if(1===n)for(m=0;m<r;m++)M=this.getRawIndex(m),((w=this._getFast(s,M))>=l&&w<=h||isNaN(w))&&(o[a++]=M);else for(m=0;m<r;m++){var S=!0,M=this.getRawIndex(m);for(f=0;f<n;f++){var I=e[f];((w=this._getFast(i,M))<t[I][0]||w>t[I][1])&&(S=!1)}S&&(o[a++]=this.getRawIndex(m))}return a<r&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?Ko:$o,this}}},Um.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},i),r},Um.map=function(t,e,i,n){i=i||n||this;var r=ta(this,t=A(Jo(t),this.getDimension,this));r._indices=this._indices,r.getRawIndex=r._indices?Ko:$o;for(var o=r._storage,a=[],s=this._chunkSize,l=t.length,h=this.count(),u=[],c=r._rawExtent,d=0;d<h;d++){for(var f=0;f<l;f++)u[f]=this.get(t[f],d);u[l]=d;var p=e&&e.apply(i,u);if(null!=p){"object"!=_typeof(p)&&(a[0]=p,p=a);for(var g=this.getRawIndex(d),m=Math.floor(g/s),v=g%s,y=0;y<p.length;y++){var _=t[y],x=p[y],w=c[_],b=o[_];b&&(b[m][v]=x),x<w[0]&&(w[0]=x),x>w[1]&&(w[1]=x)}}}return r},Um.downSample=function(t,e,i,n){for(var r=ta(this,[t]),o=r._storage,a=[],s=Math.floor(1/e),l=o[t],h=this.count(),u=this._chunkSize,c=r._rawExtent[t],d=new(jo(this))(h),f=0,p=0;p<h;p+=s){h-p<s&&(s=h-p,a.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/u),y=m%u;a[g]=l[v][y]}var _=i(a),x=this.getRawIndex(Math.min(p+n(a,_)||0,h-1)),w=x%u;(l[Math.floor(x/u)][w]=_)<c[0]&&(c[0]=_),_>c[1]&&(c[1]=_),d[f++]=x}return r._count=f,r._indices=d,r.getRawIndex=Ko,r},Um.getItemModel=function(t){var e=this.hostModel;return new Tn(this.getRawDataItem(t),e,e&&e.ecModel)},Um.diff=function(e){var i=this;return new Uo(e?e.getIndices():[],this.getIndices(),function(t){return Qo(e,t)},function(t){return Qo(i,t)})},Um.getVisual=function(t){var e=this._visual;return e&&e[t]},Um.setVisual=function(t,e){if(Bm(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},Um.setLayout=function(t,e){if(Bm(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},Um.getLayout=function(t){return this._layout[t]},Um.getItemLayout=function(t){return this._itemLayouts[t]},Um.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?D(this._itemLayouts[t]||{},e):e},Um.clearItemLayouts=function(){this._itemLayouts.length=0},Um.getItemVisual=function(t,e,i){var n=this._itemVisuals[t],r=n&&n[e];return null!=r||i?r:this.getVisual(e)},Um.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=n,Bm(e))for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o],r[o]=!0);else n[e]=i,r[e]=!0},Um.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Xm=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};Um.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(Xm,e)),this._graphicEls[t]=e},Um.getItemGraphicEl=function(t){return this._graphicEls[t]},Um.eachItemGraphicEl=function(i,n){R(this._graphicEls,function(t,e){t&&i&&i.call(n,t,e)})},Um.cloneShallow=function(t){if(!t){var e=A(this.dimensions,this.getDimensionInfo,this);t=new Zm(e,this.hostModel)}if(t._storage=this._storage,Yo(t,this),this._indices){var i=this._indices.constructor;t._indices=new i(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?Ko:$o,t},Um.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(s(arguments)))})},Um.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Um.CHANGABLE_METHODS=["filterSelf","selectRange"];var jm=function(t,e){return ia((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};la.prototype.parse=function(t){return t},la.prototype.getSetting=function(t){return this._setting[t]},la.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},la.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},la.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},la.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},la.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},la.prototype.getExtent=function(){return this._extent.slice()},la.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},la.prototype.isBlank=function(){return this._isBlank},la.prototype.setBlank=function(t){this._isBlank=t},la.prototype.getLabel=null,si(la),ci(la,{registerWhenExtend:!0}),ha.createByAxisModel=function(t){var e=t.option,i=e.data,n=i&&A(i,ca);return new ha({categories:n,needCollect:!n,deduplication:!1!==e.dedplication})};var Ym=ha.prototype;Ym.getOrdinal=function(t){return ua(this).get(t)},Ym.parseAndCollect=function(t){var e,i=this._needCollect;if("string"!=typeof t&&!i)return t;if(i&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var n=ua(this);return null==(e=n.get(t))&&(i?(e=this.categories.length,this.categories[e]=t,n.set(t,e)):e=NaN),e};var qm=la.prototype,$m=la.extend({type:"ordinal",init:function(t,e){t&&!O(t)||(t=new ha({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),qm.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return qm.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(qm.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:B,niceExtent:B});$m.create=function(){return new $m};var Km=On,Qm=On,Jm=la.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),Jm.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=da(t)},getTicks:function(){return function(t,e,i,n){var r=[];if(!t)return r;e[0]<i[0]&&r.push(e[0]);for(var o=i[0];o<=i[1]&&(r.push(o),(o=Km(o+t,n))!==r[r.length-1]);)if(1e4<r.length)return[];return e[1]>(r.length?r[r.length-1]:i[1])&&r.push(e[1]),r}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";var i=e&&e.precision;return null==i?i=Nn(t)||0:"auto"===i&&(i=this._intervalPrecision),Un(t=Qm(t,i,!0))},niceTicks:function(t,e,i){t=t||5;var n=this._extent,r=n[1]-n[0];if(isFinite(r)){r<0&&(r=-r,n.reverse());var o=function(t,e,i,n){var r={},o=t[1]-t[0],a=r.interval=Zn(o/e,!0);null!=i&&a<i&&(a=r.interval=i),null!=n&&n<a&&(a=r.interval=n);var s=r.intervalPrecision=da(a);return pa(r.niceTickExtent=[Km(Math.ceil(t[0]/a)*a,s),Km(Math.floor(t[1]/a)*a,s)],t),r}(n,t,e,i);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var i=e[0];t.fixMax||(e[1]+=i/2),e[0]-=i/2}else e[1]=1;var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=Qm(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=Qm(Math.ceil(e[1]/r)*r))}});Jm.create=function(){return new Jm};var tv="__ec_stack_",ev="undefined"!=typeof Float32Array?Float32Array:Array,iv={seriesType:"bar",plan:Gg(),reset:function(t){if(xa(t)&&wa(t)){var e=t.getData(),s=t.coordinateSystem,l=s.getBaseAxis(),h=s.getOtherAxis(l),u=e.mapDimension(h.dim),c=e.mapDimension(l.dim),d=h.isHorizontal(),f=d?0:1,p=_a(ya([t]),l,t).width;return.5<p||(p=.5),{progress:function(t,e){for(var i,n=new ev(2*t.count),r=[],o=[],a=0;null!=(i=t.next());)o[f]=e.get(u,i),o[1-f]=e.get(c,i),r=s.dataToPoint(o,null,r),n[a++]=r[0],n[a++]=r[1];e.setLayout({largePoints:n,barWidth:p,valueAxisStart:ba(l,h,!1),valueAxisHorizontal:d})}}}}},nv=Jm.prototype,rv=Math.ceil,ov=Math.floor,av=Jm.extend({type:"time",getLabel:function(t){var e=this._stepLvl,i=new Date(t);return Kn(e[0],i,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0){var i=new Date;e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-864e5}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=On(ov(e[0]/n)*n)),t.fixMax||(e[1]=On(rv(e[1]/n)*n))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,r=n[1]-n[0],o=r/t;null!=e&&o<e&&(o=e),null!=i&&i<o&&(o=i);var a=sv.length,s=function(t,e,i,n){for(;i<n;){var r=i+n>>>1;t[r][1]<e?i=r+1:n=r}return i}(sv,o,0,a),l=sv[Math.min(s,a-1)],h=l[1];"year"===l[0]&&(h*=Zn(r/h/t,!0));var u=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,c=[Math.round(rv((n[0]-u)/h)*h+u),Math.round(ov((n[1]-u)/h)*h+u)];pa(c,n),this._stepLvl=l,this._interval=h,this._niceExtent=c},parse:function(t){return+Hn(t)}});R(["contain","normalize"],function(e){av.prototype[e]=function(t){return nv[e].call(this,this.parse(t))}});var sv=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",36288e5],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];av.create=function(t){return new av({useUTC:t.ecModel.get("useUTC")})};var lv=la.prototype,hv=Jm.prototype,uv=Nn,cv=On,dv=Math.floor,fv=Math.ceil,pv=Math.pow,gv=Math.log,mv=la.extend({type:"log",base:10,$constructor:function(){la.apply(this,arguments),this._originalScale=new Jm},getTicks:function(){var i=this._originalScale,n=this._extent,r=i.getExtent();return A(hv.getTicks.call(this),function(t){var e=On(pv(this.base,t));return e=t===n[0]&&i.__fixMin?Sa(e,r[0]):e,t===n[1]&&i.__fixMax?Sa(e,r[1]):e},this)},getLabel:hv.getLabel,scale:function(t){return t=lv.scale.call(this,t),pv(this.base,t)},setExtent:function(t,e){var i=this.base;t=gv(t)/gv(i),e=gv(e)/gv(i),hv.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=lv.getExtent.call(this);e[0]=pv(t,e[0]),e[1]=pv(t,e[1]);var i=this._originalScale,n=i.getExtent();return i.__fixMin&&(e[0]=Sa(e[0],n[0])),i.__fixMax&&(e[1]=Sa(e[1],n[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=gv(t[0])/gv(e),t[1]=gv(t[1])/gv(e),lv.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i===1/0||i<=0)){var n=Gn(i);for(t/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&0<Math.abs(n);)n*=10;var r=[On(fv(e[0]/n)*n),On(dv(e[1]/n)*n)];this._interval=n,this._niceExtent=r}},niceExtent:function(t){hv.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});R(["contain","normalize"],function(e){mv.prototype[e]=function(t){return t=gv(t)/gv(this.base),lv[e].call(this,t)}}),mv.create=function(){return new mv};var vv={getMin:function(t){var e=this.option,i=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!M(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(t){var e=this.option,i=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!M(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:B,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},yv=Wi({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n+o),t.lineTo(i-r,n+o),t.closePath()}}),_v=Wi({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,r=e.width/2,o=e.height/2;t.moveTo(i,n-o),t.lineTo(i+r,n),t.lineTo(i,n+o),t.lineTo(i-r,n),t.closePath()}}),xv=Wi({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=n-o+a+s,h=Math.asin(s/a),u=Math.cos(h)*a,c=Math.sin(h),d=Math.cos(h),f=.6*a,p=.7*a;t.moveTo(i-u,l+s),t.arc(i,l,a,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+u-c*f,l+s+d*f,i,n-p,i,n),t.bezierCurveTo(i,n-p,i-u+c*f,l+s+d*f,i-u,l+s),t.closePath()}}),wv=Wi({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,r=e.x,o=e.y,a=n/3*2;t.moveTo(r,o),t.lineTo(r+a,o+i),t.lineTo(r,o+i/4*3),t.lineTo(r-a,o+i),t.lineTo(r,o),t.closePath()}}),bv={line:function(t,e,i,n,r){r.x1=t,r.y1=e+n/2,r.x2=t+i,r.y2=e+n/2},rect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n},roundRect:function(t,e,i,n,r){r.x=t,r.y=e,r.width=i,r.height=n,r.r=Math.min(i,n)/4},square:function(t,e,i,n,r){var o=Math.min(i,n);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.r=Math.min(i,n)/2},diamond:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n},pin:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},arrow:function(t,e,i,n,r){r.x=t+i/2,r.y=e+n/2,r.width=i,r.height=n},triangle:function(t,e,i,n,r){r.cx=t+i/2,r.cy=e+n/2,r.width=i,r.height=n}},Sv={};R({line:fp,rect:dp,roundRect:dp,square:dp,circle:op,diamond:_v,pin:xv,arrow:wv,triangle:yv},function(t,e){Sv[e]=new t});var Mv=Wi({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,i){var n=e.symbolType,r=Sv[n];"none"!==e.symbolType&&(r||(r=Sv[n="rect"]),bv[n](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,i))}}),Iv={isDimensionStacked:oa,enableDataStack:ra,getStackedDimension:aa},Cv=(Object.freeze||Object)({createList:function(t){return sa(t.getSource(),t)},getLayoutRect:tr,dataStack:Iv,createScale:function(t,e){var i=e;Tn.isInstance(e)||r(i=new Tn(e),vv);var n=Ca(i);return n.setExtent(t[0],t[1]),Ia(n,i),n},mixinAxisModelCommonMethods:function(t){r(t,vv)},completeDimensions:ia,createDimensions:jm,createSymbol:ka}),Tv=1e-8;Oa.prototype={constructor:Oa,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,i=[e,e],n=[-e,-e],r=[],o=[],a=this.geometries,s=0;s<a.length;s++)"polygon"===a[s].type&&(bi(a[s].exterior,r,o),K(i,i,r),Q(n,n,o));return 0===s&&(i[0]=i[1]=n[0]=n[1]=0),this._rect=new Gt(i[0],i[1],n[0]-i[0],n[1]-i[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,r=i.length;n<r;n++)if("polygon"===i[n].type){var o=i[n].exterior,a=i[n].interiors;if(La(o,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(La(a[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var r=this.getBoundingRect(),o=r.width/r.height;i?n||(n=i/o):i=o*n;for(var a=new Gt(t,e,i,n),s=r.calculateTransform(a),l=this.geometries,h=0;h<l.length;h++)if("polygon"===l[h].type){for(var u=l[h].exterior,c=l[h].interiors,d=0;d<u.length;d++)$(u[d],u[d],s);for(var f=0;f<(c?c.length:0);f++)for(d=0;d<c[f].length;d++)$(c[f][d],c[f][d],s)}(r=this._rect).copy(a),this.center=[r.x+r.width/2,r.y+r.height/2]}};var Dv=function(t){return function(t){if(!t.UTF8Encoding)return;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var r=i[n].geometry,o=r.coordinates,a=r.encodeOffsets,s=0;s<o.length;s++){var l=o[s];if("Polygon"===r.type)o[s]=za(l,a[s],e);else if("MultiPolygon"===r.type)for(var h=0;h<l.length;h++){var u=l[h];l[h]=za(u,a[s][h],e)}}t.UTF8Encoding=!1}(t),A(m(t.features,function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length}),function(t){var e=t.properties,i=t.geometry,n=i.coordinates,r=[];"Polygon"===i.type&&r.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===i.type&&R(n,function(t){t[0]&&r.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});var o=new Oa(e.name,r,e.cp);return o.properties=e,o})},Av=ii(),kv=[0,1],Pv=function(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};Pv.prototype={constructor:Pv,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),n=Math.max(e[0],e[1]);return i<=t&&t<=n},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Rn(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&Za(i=i.slice(),n.count()),Pn(t,kv,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&Za(i=i.slice(),n.count());var r=Pn(t,i,kv,e);return this.scale.scale(r)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=Na(this,e),n=A(i.ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),r=e.get("alignWithLabel");return function(t,e,i,n,r){function o(t,e){return u?e<t:t<e}var a=e.length;if(t.onBand&&!n&&a){var s,l=t.getExtent();if(1===a)e[0].coord=l[0],s=e[1]={coord:l[0]};else{var h=e[1].coord-e[0].coord;R(e,function(t){t.coord-=h/2;var e=e||0;0<e%2&&(t.coord-=h/(2*(e+1)))}),s={coord:e[a-1].coord+h},e.push(s)}var u=l[0]>l[1];o(e[0].coord,l[0])&&(r?e[0].coord=l[0]:e.shift()),r&&o(l[0],e[0].coord)&&e.unshift({coord:l[0]}),o(l[1],s.coord)&&(r?s.coord=l[1]:e.pop()),r&&o(s.coord,l[1])&&e.push({coord:l[1]})}}(this,n,i.tickCategoryInterval,r,t.clamp),n},getViewLabels:function(){return Ea(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),i=e[1]-e[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(t[1]-t[0]);return Math.abs(n)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e,i,n=(i=(e=t).getLabelModel(),{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:i.get("rotate")||0,font:i.getFont()}),r=Ta(t),o=(n.axisRotate-n.labelRotate)/180*Math.PI,a=t.scale,s=a.getExtent(),l=a.count();if(s[1]-s[0]<1)return 0;var h=1;40<l&&(h=Math.max(1,Math.floor(l/40)));for(var u=s[0],c=t.dataToCoord(u+1)-t.dataToCoord(u),d=Math.abs(c*Math.cos(o)),f=Math.abs(c*Math.sin(o)),p=0,g=0;u<=s[1];u+=h){var m,v,y=ne(r(u),n.font,"center","top");m=1.3*y.width,v=1.3*y.height,p=Math.max(p,m,7),g=Math.max(g,v,7)}var _=p/d,x=g/f;isNaN(_)&&(_=1/0),isNaN(x)&&(x=1/0);var w=Math.max(0,Math.floor(Math.min(_,x))),b=Av(t.model),S=b.lastAutoInterval,M=b.lastTickCount;return null!=S&&null!=M&&Math.abs(S-w)<=1&&Math.abs(M-l)<=1&&w<S?w=S:(b.lastTickCount=l,b.lastAutoInterval=w),w}(this)}};var Lv=Dv,Ov={};R(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){Ov[t]=sc[t]}),Vg.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return sa(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var zv=Xa.prototype,Ev=Xa.getSymbolSize=function(t,e){var i=t.getItemVisual(e,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};zv._createSymbol=function(t,e,i,n,r){this.removeAll();var o=ka(t,-1,-1,2,2,e.getItemVisual(i,"color"),r);o.attr({z2:100,culling:!0,scale:ja(n)}),o.drift=Ya,this._symbolType=t,this.add(o)},zv.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},zv.getSymbolPath=function(){return this.childAt(0)},zv.getScale=function(){return this.childAt(0).scale},zv.highlight=function(){this.childAt(0).trigger("emphasis")},zv.downplay=function(){this.childAt(0).trigger("normal")},zv.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},zv.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},zv.updateData=function(t,e,i){this.silent=!1;var n=t.getItemVisual(e,"symbol")||"circle",r=t.hostModel,o=Ev(t,e),a=n!==this._symbolType;if(a){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(n,t,e,o,s)}else(l=this.childAt(0)).silent=!1,_n(l,{scale:ja(o)},r,e);if(this._updateCommon(t,e,o,i),a){var l=this.childAt(0),h=i&&i.fadeIn,u={scale:l.scale.slice()};h&&(u.style={opacity:l.style.opacity}),l.scale=[0,0],h&&(l.style.opacity=0),xn(l,u,r,e)}this._seriesModel=r};var Nv=["itemStyle"],Rv=["emphasis","itemStyle"],Bv=["label"],Vv=["emphasis","label"];zv._updateCommon=function(i,t,e,n){var r=this.childAt(0),o=i.hostModel,a=i.getItemVisual(t,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var s=n&&n.itemStyle,l=n&&n.hoverItemStyle,h=n&&n.symbolRotate,u=n&&n.symbolOffset,c=n&&n.labelModel,d=n&&n.hoverLabelModel,f=n&&n.hoverAnimation,p=n&&n.cursorStyle;if(!n||i.hasItemOption){var g=n&&n.itemModel?n.itemModel:i.getItemModel(t);s=g.getModel(Nv).getItemStyle(["color"]),l=g.getModel(Rv).getItemStyle(),h=g.getShallow("symbolRotate"),u=g.getShallow("symbolOffset"),c=g.getModel(Bv),d=g.getModel(Vv),f=g.getShallow("hoverAnimation"),p=g.getShallow("cursor")}else l=D({},l);var m=r.style;r.attr("rotation",(h||0)*Math.PI/180||0),u&&r.attr("position",[Ln(u[0],e[0]),Ln(u[1],e[1])]),p&&r.attr("cursor",p),r.setColor(a,n&&n.symbolInnerColor),r.setStyle(s);var v=i.getItemVisual(t,"opacity");null!=v&&(m.opacity=v);var y=i.getItemVisual(t,"liftZ"),_=r.__z2Origin;null!=y?null==_&&(r.__z2Origin=r.z2,r.z2+=y):null!=_&&(r.z2=_,r.__z2Origin=null);var x=n&&n.useNameLabel;cn(m,l,c,d,{labelFetcher:o,labelDataIndex:t,defaultText:function(t,e){return x?i.getName(t):Ua(i,t)},isRectText:!0,autoColor:a}),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=l,un(r);var w=ja(e);if(f&&o.isAnimationEnabled()){var b=function(){if(!this.incremental){var t=w[1]/w[0];this.animateTo({scale:[Math.max(1.1*w[0],w[0]+3),Math.max(1.1*w[1],w[1]+3*t)]},400,"elasticOut")}},S=function(){this.incremental||this.animateTo({scale:w},400,"elasticOut")};r.on("mouseover",b).on("mouseout",S).on("emphasis",b).on("normal",S)}},zv.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,!(e&&e.keepLabel)&&(i.style.text=null),_n(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},o(Xa,Kc);var Fv=qa.prototype;Fv.updateData=function(r,o){o=Ka(o);var a=this.group,s=r.hostModel,l=this._data,h=this._symbolCtor,u=Qa(r);l||a.removeAll(),r.diff(l).add(function(t){var e=r.getItemLayout(t);if($a(r,e,t,o)){var i=new h(r,t,u);i.attr("position",e),r.setItemGraphicEl(t,i),a.add(i)}}).update(function(t,e){var i=l.getItemGraphicEl(e),n=r.getItemLayout(t);$a(r,n,t,o)?(i?(i.updateData(r,t,u),_n(i,{position:n},s)):(i=new h(r,t)).attr("position",n),a.add(i),r.setItemGraphicEl(t,i)):a.remove(i)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&e.fadeOut(function(){a.remove(e)})}).execute(),this._data=r},Fv.isPersistent=function(){return!0},Fv.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,e){var i=n.getItemLayout(e);t.attr("position",i)})},Fv.incrementalPrepareUpdate=function(t){this._seriesScope=Qa(t),this._data=null,this.group.removeAll()},Fv.incrementalUpdate=function(t,e,i){i=Ka(i);for(var n=t.start;n<t.end;n++){var r=e.getItemLayout(n);if($a(e,r,n,i)){var o=new this._symbolCtor(e,n,this._seriesScope);o.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),o.attr("position",r),this.group.add(o),e.setItemGraphicEl(n,o)}}},Fv.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var Hv=K,Gv=Q,Wv=G,Zv=V,Uv=[],Xv=[],jv=[],Yv=Ni.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:sp(Ni.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,r=i.length,o=ns(i,e.smoothConstraint);if(e.connectNulls){for(;0<r&&es(i[r-1]);r--);for(;n<r&&es(i[n]);n++);}for(;n<r;)n+=is(t,i,n,r,r,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),qv=Ni.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:sp(Ni.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,r=0,o=i.length,a=e.smoothMonotone,s=ns(i,e.smoothConstraint),l=ns(n,e.smoothConstraint);if(e.connectNulls){for(;0<o&&es(i[o-1]);o--);for(;r<o&&es(i[r]);r++);}for(;r<o;){var h=is(t,i,r,o,o,1,s.min,s.max,e.smooth,a,e.connectNulls);is(t,n,r+h-1,h,o,-1,l.min,l.max,e.stackedOnSmooth,a,e.connectNulls),r+=h+1,t.closePath()}}});jr.extend({type:"line",init:function(){var t=new Kc,e=new qa;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,r=this.group,o=t.getData(),a=t.getModel("lineStyle"),s=t.getModel("areaStyle"),l=o.mapArray(o.getItemLayout),h="polar"===n.type,u=this._coordSys,c=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=t.get("animation"),m=!s.isEmpty(),v=s.get("origin"),y=function(t,e,i){if(!i.valueDim)return[];for(var n=[],r=0,o=e.count();r<o;r++)n.push(ts(i,t,e,r));return n}(n,o,Ja(n,o,v)),_=t.get("showSymbol"),x=_&&!h&&hs(t,o,n),w=this._data;w&&w.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),w.setItemGraphicEl(e,null))}),_||c.remove(),r.add(p);var b=!h&&t.get("step");d&&u.type===n.type&&b===this._step?(m&&!f?f=this._newPolygon(l,y,n,g):f&&!m&&(p.remove(f),f=this._polygon=null),p.setClipPath(ss(n,!1,!1,t)),_&&c.updateData(o,{isIgnore:x,clipShape:ss(n,!1,!0,t)}),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),rs(this._stackedOnPoints,y)&&rs(this._points,l)||(g?this._updateAnimation(o,y,n,i,b,v):(b&&(l=ls(l,n,b),y=ls(y,n,b)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:y})))):(_&&c.updateData(o,{isIgnore:x,clipShape:ss(n,!1,!0,t)}),b&&(l=ls(l,n,b),y=ls(y,n,b)),d=this._newPolyline(l,n,g),m&&(f=this._newPolygon(l,y,n,g)),p.setClipPath(ss(n,!0,!1,t)));var S=function(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var n,r,o=i.length-1;0<=o;o--){var a=i[o].dimension,s=t.dimensions[a],l=t.getDimensionInfo(s);if("x"===(n=l&&l.coordDim)||"y"===n){r=i[o];break}}if(r){var h=e.getAxis(n),u=A(r.stops,function(t){return{coord:h.toGlobalCoord(h.dataToCoord(t.value)),color:t.color}}),c=u.length,d=r.outerColors.slice();c&&u[0].coord>u[c-1].coord&&(u.reverse(),d.reverse());var f=u[0].coord-10,p=u[c-1].coord+10,g=p-f;if(g<.001)return"transparent";R(u,function(t){t.offset=(t.coord-f)/g}),u.push({offset:c?u[c-1].offset:.5,color:d[1]||"transparent"}),u.unshift({offset:c?u[0].offset:.5,color:d[0]||"transparent"});var m=new _p(0,0,0,0,u,!0);return m[n]=f,m[n+"2"]=p,m}}}(o,n)||o.getVisual("color");d.useStyle(T(a.getLineStyle(),{fill:"none",stroke:S,lineJoin:"bevel"}));var M=t.get("smooth");if(M=os(t.get("smooth")),d.setShape({smooth:M,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),f){var I=o.getCalculationInfo("stackedOnSeries"),C=0;f.useStyle(T(s.getAreaStyle(),{fill:S,opacity:.7,lineJoin:"bevel"})),I&&(C=os(I.get("smooth"))),f.setShape({smooth:M,stackedOnSmooth:C,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=o,this._coordSys=n,this._stackedOnPoints=y,this._points=l,this._step=b,this._valueOrigin=v},dispose:function(){},highlight:function(t,e,i,n){var r=t.getData(),o=ei(r,n);if(!(o instanceof Array)&&null!=o&&0<=o){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);if(!s)return;(a=new Xa(r,o)).position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else jr.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var r=t.getData(),o=ei(r,n);if(null!=o&&0<=o){var a=r.getItemGraphicEl(o);a&&(a.__temp?(r.setItemGraphicEl(o,null),this.group.remove(a)):a.downplay())}else jr.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Yv({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new qv({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i},_updateAnimation:function(t,e,i,n,r,o){var a=this._polyline,s=this._polygon,l=t.hostModel,h=function(t,e,i,n,r,o,a,s){for(var l=function(t,e){var i=[];return e.diff(t).add(function(t){i.push({cmd:"+",idx:t})}).update(function(t,e){i.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){i.push({cmd:"-",idx:t})}).execute(),i}(t,e),h=[],u=[],c=[],d=[],f=[],p=[],g=[],m=Ja(r,e,a),v=Ja(o,t,s),y=0;y<l.length;y++){var _=l[y],x=!0;switch(_.cmd){case"=":var w=t.getItemLayout(_.idx),b=e.getItemLayout(_.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=b.slice()),h.push(w),u.push(b),c.push(i[_.idx]),d.push(n[_.idx1]),g.push(e.getRawIndex(_.idx1));break;case"+":S=_.idx,h.push(r.dataToPoint([e.get(m.dataDimsForPoint[0],S),e.get(m.dataDimsForPoint[1],S)])),u.push(e.getItemLayout(S).slice()),c.push(ts(m,r,e,S)),d.push(n[S]),g.push(e.getRawIndex(S));break;case"-":var S=_.idx,M=t.getRawIndex(S);M!==S?(h.push(t.getItemLayout(S)),u.push(o.dataToPoint([t.get(v.dataDimsForPoint[0],S),t.get(v.dataDimsForPoint[1],S)])),c.push(i[S]),d.push(ts(v,o,t,S)),g.push(M)):x=!1}x&&(f.push(_),p.push(p.length))}p.sort(function(t,e){return g[t]-g[e]});var I=[],C=[],T=[],D=[],A=[];for(y=0;y<p.length;y++)S=p[y],I[y]=h[S],C[y]=u[S],T[y]=c[S],D[y]=d[S],A[y]=f[S];return{current:I,next:C,stackedOnCurrent:T,stackedOnNext:D,status:A}}(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,o),u=h.current,c=h.stackedOnCurrent,d=h.next,f=h.stackedOnNext;r&&(u=ls(h.current,i,r),c=ls(h.stackedOnCurrent,i,r),d=ls(h.next,i,r),f=ls(h.stackedOnNext,i,r)),a.shape.__points=h.current,a.shape.points=u,_n(a,{shape:{points:d}},l),s&&(s.setShape({points:u,stackedOnPoints:c}),_n(s,{shape:{points:d,stackedOnPoints:f}},l));for(var p=[],g=h.status,m=0;m<g.length;m++)if("="===g[m].cmd){var v=t.getItemGraphicEl(g[m].idx1);v&&p.push({el:v,ptIdx:m})}a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<p.length;t++)p[t].el.attr("position",a.shape.__points[p[t].ptIdx])})},remove:function(t){var i=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),n.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var $v=function(t,a,s){return{seriesType:t,performRawSeries:!0,reset:function(l,t,e){var i=l.getData(),n=l.get("symbol")||a,h=l.get("symbolSize"),r=l.get("symbolKeepAspect");if(i.setVisual({legendSymbol:s||n,symbol:n,symbolSize:h,symbolKeepAspect:r}),!t.isSeriesFiltered(l)){var o="function"==typeof h;return{dataEach:i.hasItemOption||o?function(t,e){if("function"==typeof h){var i=l.getRawValue(e),n=l.getDataParams(e);t.setItemVisual(e,"symbolSize",h(i,n))}if(t.hasItemOption){var r=t.getItemModel(e),o=r.getShallow("symbol",!0),a=r.getShallow("symbolSize",!0),s=r.getShallow("symbolKeepAspect",!0);null!=o&&t.setItemVisual(e,"symbol",o),null!=a&&t.setItemVisual(e,"symbolSize",a),null!=s&&t.setItemVisual(e,"symbolKeepAspect",s)}}:null}}}}},Kv=function(t){return{seriesType:t,plan:Gg(),reset:function(t){var e=t.getData(),c=t.coordinateSystem,d=t.pipelineContext.large;if(c){var f=A(c.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),p=f.length,i=e.getCalculationInfo("stackResultDimension");return oa(e,f[0])&&(f[0]=i),oa(e,f[1])&&(f[1]=i),p&&{progress:function(t,e){for(var i=t.end-t.start,n=d&&new Float32Array(i*p),r=t.start,o=0,a=[],s=[];r<t.end;r++){var l;if(1===p)h=e.get(f[0],r),l=!isNaN(h)&&c.dataToPoint(h,null,s);else{var h=a[0]=e.get(f[0],r),u=a[1]=e.get(f[1],r);l=!isNaN(h)&&!isNaN(u)&&c.dataToPoint(a,null,s)}d?(n[o++]=l?l[0]:NaN,n[o++]=l?l[1]:NaN):e.setItemLayout(r,l&&l.slice()||[NaN,NaN])}d&&e.setLayout("symbolPoints",n)}}}}}},Qv={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Jv=function(t,e){return Math.round(t.length/2)},ty=function(t){this._axes={},this._dimList=[],this.name=t||""};ty.prototype={constructor:ty,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return A(this._dimList,us,this)},getAxesByScale:function(e){return e=e.toLowerCase(),m(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},r=0;r<i.length;r++){var o=i[r],a=this._axes[o];n[o]=a[e](t[o])}return n}},cs.prototype={constructor:cs,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis("x"),r=this.getAxis("y");return(i=i||[])[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=r.toGlobalCoord(r.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,r=i.getExtent(),o=n.getExtent(),a=i.parse(t[0]),s=n.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return(e=e||[])[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},o(cs,ty);var ey=function(t,e,i,n,r){Pv.call(this,t,e,i),this.type=n||"value",this.position=r||"bottom"};ey.prototype={constructor:ey,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},o(ey,Pv);var iy={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},ny={};ny.categoryAxis=p({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},iy),ny.valueAxis=p({boundaryGap:[0,0],splitNumber:5},iy),ny.timeAxis=T({scale:!0,min:"dataMin",max:"dataMax"},ny.valueAxis),ny.logAxis=T({scale:!0,logBase:10},ny.valueAxis);var ry=["value","category","time","log"],oy=function(o,t,a,e){R(ry,function(r){t.extend({type:o+"Axis."+r,mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?nr(t):{};p(t,e.getTheme().get(r+"Axis")),p(t,this.getDefaultOption()),t.type=a(o,t),i&&ir(t,n,i)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=ha.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:u([{},ny[r+"Axis"],e],!0)})}),Jp.registerSubTypeDefaulter(o+"Axis",v(a,o))},ay=Jp.extend({type:"cartesian2dAxis",axis:null,init:function(){ay.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){ay.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){ay.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});p(ay.prototype,vv);var sy={offset:0};oy("x",ay,ds,sy),oy("y",ay,ds,sy),Jp.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ly=ps.prototype;ly.type="grid",ly.axisPointerEnabled=!0,ly.getRect=function(){return this._rect},ly.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),R(i.x,function(t){Ia(t.scale,t.model)}),R(i.y,function(t){Ia(t.scale,t.model)}),R(i.x,function(t){gs(i,"y",t)}),R(i.y,function(t){gs(i,"x",t)}),this.resize(this.model,e)},ly.resize=function(t,e,i){function n(){R(r,function(t){var e,i,n,r,o=t.isHorizontal(),a=o?[0,l.width]:[0,l.height],s=t.inverse?1:0;t.setExtent(a[s],a[1-s]),e=t,i=o?l.x:l.y,n=e.getExtent(),r=n[0]+n[1],e.toGlobalCoord="x"===e.dim?function(t){return t+i}:function(t){return r-t+i},e.toLocalCoord="x"===e.dim?function(t){return t-i}:function(t){return r-t+i}})}var l=tr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=l;var r=this._axesList;n(),!i&&t.get("containLabel")&&(R(r,function(t){if(!t.model.get("axisLabel.inside")){var e=function(t){var e,i,n,r,o,a,s,l,h=t.model,u=t.scale;if(h.get("axisLabel.show")&&!u.isBlank()){var c,d,f="category"===t.type,p=u.getExtent();d=f?u.count():(c=u.getTicks()).length;var g,m=t.getLabelModel(),v=Ta(t),y=1;40<d&&(y=Math.ceil(d/40));for(var _=0;_<d;_+=y){var x=v(c?c[_]:p[0]+_),w=(e=m.getTextRect(x),i=m.get("rotate")||0,n=i*Math.PI/180,r=e.plain(),o=r.width,a=r.height,s=o*Math.cos(n)+a*Math.sin(n),l=o*Math.sin(n)+a*Math.cos(n),new Gt(r.x,r.y,s,l));g?g.union(w):g=w}return g}}(t);if(e){var i=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin");l[i]-=e[i]+n,"top"===t.position?l.y+=e.height+n:"left"===t.position&&(l.x+=e.width+n)}}}),n())},ly.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},ly.getAxes=function(){return this._axesList.slice()},ly.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}E(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,r=this._coordsList;n<r.length;n++)if(r[n].getAxis("x").index===t||r[n].getAxis("y").index===e)return r[n]},ly.getCartesians=function(){return this._coordsList.slice()},ly.convertToPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},ly.convertFromPixel=function(t,e,i){var n=this._findConvertTarget(t,e);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},ly._findConvertTarget=function(t,e){var i,n,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;return r?f(l,i=r.coordinateSystem)<0&&(i=null):o&&a?i=this.getCartesian(o.componentIndex,a.componentIndex):o?n=this.getAxis("x",o.componentIndex):a?n=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(i=this._coordsList[0]),{cartesian:i,axis:n}},ly.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},ly._initCartesian=function(a,t,e){function i(o){return function(t,e){if(fs(t,a)){var i=t.get("position");"x"===o?"top"!==i&&"bottom"!==i&&s[i="bottom"]&&(i="top"===i?"bottom":"top"):"left"!==i&&"right"!==i&&s[i="left"]&&(i="left"===i?"right":"left"),s[i]=!0;var n=new ey(o,Ca(t),[0,0],t.get("type"),i),r="category"===n.type;n.onBand=r&&t.get("boundaryGap"),n.inverse=t.get("inverse"),(t.axis=n).model=t,n.grid=this,n.index=e,this._axesList.push(n),l[o][e]=n,h[o]++}}}var s={left:!1,right:!1,top:!1,bottom:!1},l={x:{},y:{}},h={x:0,y:0};if(t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),!h.x||!h.y)return this._axesMap={},void(this._axesList=[]);R((this._axesMap=l).x,function(r,o){R(l.y,function(t,e){var i="x"+o+"y"+e,n=new cs(i);n.grid=this,n.model=a,this._coordsMap[i]=n,this._coordsList.push(n),n.addAxis(r),n.addAxis(t)},this)},this)},ly._updateScale=function(t,l){function h(e,i,t){R(e.mapDimension(i.dim,!0),function(t){i.scale.unionExtentFromData(e,aa(e,t))})}R(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){if(ys(t)){var e=vs(t),i=e[0],n=e[1];if(!fs(i,l)||!fs(n,l))return;var r=this.getCartesian(i.componentIndex,n.componentIndex),o=t.getData(),a=r.getAxis("x"),s=r.getAxis("y");"list"===o.type&&(h(o,a),h(o,s))}},this)},ly.getTooltipAxes=function(n){var r=[],o=[];return R(this.getCartesians(),function(t){var e=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),i=t.getOtherAxis(e);f(r,e)<0&&r.push(e),f(o,i)<0&&o.push(i)}),{baseAxes:r,otherAxes:o}};var hy=["xAxis","yAxis"];ps.create=function(n,r){var o=[];return n.eachComponent("grid",function(t,e){var i=new ps(t,n,r);i.name="grid_"+e,i.resize(t,r,!0),t.coordinateSystem=i,o.push(i)}),n.eachSeries(function(t){if(ys(t)){var e=vs(t),i=e[0],n=e[1],r=i.getCoordSysModel().coordinateSystem;t.coordinateSystem=r.getCartesian(i.componentIndex,n.componentIndex)}}),o},ps.dimensions=ps.prototype.dimensions=cs.prototype.dimensions,mr.register("cartesian2d",ps);var uy=Math.PI,cy=function(t,e){this.opt=e,this.axisModel=t,T(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new Kc;var i=new Kc({position:e.position.slice(),rotation:e.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};cy.prototype={constructor:cy,hasBuilder:function(t){return!!dy[t]},add:function(t){dy[t].call(this)},getGroup:function(){return this.group}};var dy={axisLine:function(){var o=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var e=this.axisModel.axis.getExtent(),i=this._transform,a=[e[0],0],n=[e[1],0];i&&($(a,a,i),$(n,n,i));var s=D({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new fp(Yi({anid:"line",shape:{x1:a[0],y1:a[1],x2:n[0],y2:n[1]},style:s,strokeContainThreshold:o.strokeContainThreshold||5,silent:!0,z2:1})));var l=t.get("axisLine.symbol"),r=t.get("axisLine.symbolSize"),h=t.get("axisLine.symbolOffset")||0;if("number"==typeof h&&(h=[h,h]),null!=l){"string"==typeof l&&(l=[l,l]),"string"!=typeof r&&"number"!=typeof r||(r=[r,r]);var u=r[0],c=r[1];R([{rotate:o.rotation+Math.PI/2,offset:h[0],r:0},{rotate:o.rotation-Math.PI/2,offset:h[1],r:Math.sqrt((a[0]-n[0])*(a[0]-n[0])+(a[1]-n[1])*(a[1]-n[1]))}],function(t,e){if("none"!==l[e]&&null!=l[e]){var i=ka(l[e],-u/2,-c/2,u,c,s.stroke,!0),n=t.r+t.offset,r=[a[0]+n*Math.cos(o.rotation),a[1]-n*Math.sin(o.rotation)];i.attr({rotation:t.rotate,position:r,silent:!0}),this.group.add(i)}},this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=function(t,e,i){var n=e.axis;if(e.get("axisTick.show")&&!n.scale.isBlank()){for(var r=e.getModel("axisTick"),o=r.getModel("lineStyle"),a=r.get("length"),s=n.getTicksCoords(),l=[],h=[],u=t._transform,c=[],d=0;d<s.length;d++){var f=s[d].coord;l[0]=f,h[l[1]=0]=f,h[1]=i.tickDirection*a,u&&($(l,l,u),$(h,h,u));var p=new fp(Yi({anid:"tick_"+s[d].tickValue,shape:{x1:l[0],y1:l[1],x2:h[0],y2:h[1]},style:T(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(p),c.push(p)}return c}}(this,t,e);!function(t,e,i){var n=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel");i=i||[];var o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],u=i[1],c=i[i.length-1],d=i[i.length-2];!1===n?(ws(o),ws(h)):bs(o,a)&&(n?(ws(a),ws(u)):(ws(o),ws(h))),!1===r?(ws(s),ws(c)):bs(l,s)&&(r?(ws(l),ws(d)):(ws(s),ws(c)))}(t,function(h,u,c){var d=u.axis;if(k(c.axisLabelShow,u.get("axisLabel.show"))&&!d.scale.isBlank()){var f=u.getModel("axisLabel"),p=f.get("margin"),t=d.getViewLabels(),e=(k(c.labelRotate,f.get("rotate"))||0)*uy/180,g=fy(c.rotation,e,c.labelDirection),m=u.getCategories(!0),v=[],y=xs(u),_=u.get("triggerEvent");return R(t,function(t,e){var i=t.tickValue,n=t.formattedLabel,r=t.rawLabel,o=f;m&&m[i]&&m[i].textStyle&&(o=new Tn(m[i].textStyle,f,u.ecModel));var a=o.getTextColor()||u.get("axisLine.lineStyle.color"),s=[d.dataToCoord(i),c.labelOffset+c.labelDirection*p],l=new rp({anid:"label_"+i,position:s,rotation:g.rotation,silent:y,z2:10});dn(l.style,o,{text:n,textAlign:o.getShallow("align",!0)||g.textAlign,textVerticalAlign:o.getShallow("verticalAlign",!0)||o.getShallow("baseline",!0)||g.textVerticalAlign,textFill:"function"==typeof a?a("category"===d.type?r:"value"===d.type?i+"":i,e):a}),_&&(l.eventData=_s(u),l.eventData.targetType="axisLabel",l.eventData.value=r),h._dumbGroup.add(l),l.updateTransform(),v.push(l),h.group.add(l),l.decomposeTransform()}),v}}(this,t,e),i)},axisName:function(){var t,e,i,n,r,o,a=this.opt,s=this.axisModel,l=k(a.axisName,s.get("name"));if(l){var h,u,c=s.get("nameLocation"),d=a.nameDirection,f=s.getModel("nameTextStyle"),p=s.get("nameGap")||0,g=this.axisModel.axis.getExtent(),m=g[0]>g[1]?-1:1,v=["start"===c?g[0]-m*p:"end"===c?g[1]+m*p:(g[0]+g[1])/2,Ss(c)?a.labelOffset+d*p:0],y=s.get("nameRotate");null!=y&&(y=y*uy/180),Ss(c)?h=fy(a.rotation,null!=y?y:a.rotation,d):(t=c,e=g,n=Vn((y||0)-a.rotation),r=e[0]>e[1],o="start"===t&&!r||"start"!==t&&r,h={rotation:n,textAlign:Fn(n-uy/2)?(i=o?"bottom":"top","center"):Fn(n-1.5*uy)?(i=o?"top":"bottom","center"):(i="middle",n<1.5*uy&&uy/2<n?o?"left":"right":o?"right":"left"),textVerticalAlign:i},null!=(u=a.axisNameAvailableWidth)&&(u=Math.abs(u/Math.sin(h.rotation)),!isFinite(u)&&(u=null)));var _=f.getFont(),x=s.get("nameTruncate",!0)||{},w=x.ellipsis,b=k(a.nameTruncateMaxWidth,x.maxWidth,u),S=null!=w&&null!=b?Zp(l,b,_,w,{minChar:2,placeholder:x.placeholder}):l,M=s.get("tooltip",!0),I=s.mainType,C={componentType:I,name:l,$vars:["name"]};C[I+"Index"]=s.componentIndex;var T=new rp({anid:"name",__fullText:l,__truncatedText:S,position:v,rotation:h.rotation,silent:xs(s),z2:1,tooltip:M&&M.show?D({content:l,formatter:function(){return l},formatterParams:C},M):null});dn(T.style,f,{text:S,textFont:_,textFill:f.getTextColor()||s.get("axisLine.lineStyle.color"),textAlign:h.textAlign,textVerticalAlign:h.textVerticalAlign}),s.get("triggerEvent")&&(T.eventData=_s(s),T.eventData.targetType="axisName",T.eventData.name=l),this._dumbGroup.add(T),T.updateTransform(),this.group.add(T),T.decomposeTransform()}}},fy=cy.innerTextLayout=function(t,e,i){var n,r=Vn(e-t);return{rotation:r,textAlign:Fn(r)?(n=0<i?"top":"bottom","center"):Fn(r-uy)?(n=0<i?"bottom":"top","center"):(n="middle",0<r&&r<uy?0<i?"right":"left":0<i?"left":"right"),textVerticalAlign:n}},py=R,gy=v,my=Ho({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){this.axisPointerClass&&function(t){var e=Cs(t);if(e){var i=e.axisPointerModel,n=e.axis.scale,r=i.option,o=i.get("status"),a=i.get("value");null!=a&&(a=n.parse(a));var s=Ts(i);null==o&&(r.status=s?"show":"hide");var l=n.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==a||a>l[1])&&(a=l[1]),a<l[0]&&(a=l[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}(t),my.superApply(this,"render",arguments),As(this,t,0,i,0,!0)},updateAxisPointer:function(t,e,i,n,r){As(this,t,0,i,0,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),my.superApply(this,"remove",arguments)},dispose:function(t,e){ks(this,e),my.superApply(this,"dispose",arguments)}}),vy=[];my.registerAxisPointerClass=function(t,e){vy[t]=e},my.getAxisPointerClass=function(t){return t&&vy[t]};var yy=["axisLine","axisTickLabel","axisName"],_y=["splitArea","splitLine"],xy=my.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,i,n){this.group.removeAll();var r=this._axisGroup;if(this._axisGroup=new Kc,this.group.add(this._axisGroup),e.get("show")){var o=e.getCoordSysModel(),a=Ps(o,e),s=new cy(e,a);R(yy,s.add,s),this._axisGroup.add(s.getGroup()),R(_y,function(t){e.get(t+".show")&&this["_"+t](e,o)},this),Mn(r,this._axisGroup,e),xy.superCall(this,"render",e,t,i,n)}},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitLine"),r=n.getModel("lineStyle"),o=r.get("color");o=O(o)?o:[o];for(var a=e.coordinateSystem.getRect(),s=i.isHorizontal(),l=0,h=i.getTicksCoords({tickModel:n}),u=[],c=[],d=r.getLineStyle(),f=0;f<h.length;f++){var p=i.toGlobalCoord(h[f].coord);c[1]=s?(u[0]=p,u[1]=a.y,c[0]=p,a.y+a.height):(u[0]=a.x,u[1]=p,c[0]=a.x+a.width,p);var g=l++%o.length,m=h[f].tickValue;this._axisGroup.add(new fp(Yi({anid:null!=m?"line_"+h[f].tickValue:null,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:T({stroke:o[g]},d),silent:!0})))}}},_splitArea:function(t,e){var i=t.axis;if(!i.scale.isBlank()){var n=t.getModel("splitArea"),r=n.getModel("areaStyle"),o=r.get("color"),a=e.coordinateSystem.getRect(),s=i.getTicksCoords({tickModel:n,clamp:!0});if(s.length){var l=o.length,h=this._splitAreaColors,u=N(),c=0;if(h)for(g=0;g<s.length;g++){var d=h.get(s[g].tickValue);if(null!=d){c=(d+(l-1)*g)%l;break}}var f=i.toGlobalCoord(s[0].coord),p=r.getAreaStyle();o=O(o)?o:[o];for(var g=1;g<s.length;g++){var m,v,y,_,x=i.toGlobalCoord(s[g].coord);f=i.isHorizontal()?(m=f,v=a.y,y=x-m,_=a.height,m+y):(m=a.x,v=f,y=a.width,v+(_=x-v));var w=s[g-1].tickValue;null!=w&&u.set(w,c),this._axisGroup.add(new dp({anid:null!=w?"area_"+w:null,shape:{x:m,y:v,width:y,height:_},style:T({fill:o[c]},p),silent:!0})),c=(c+1)%l}this._splitAreaColors=u}}}});xy.extend({type:"xAxis"}),xy.extend({type:"yAxis"}),Ho({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new dp({shape:t.coordinateSystem.getRect(),style:T({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Oo(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),Ro($v("line","circle","line")),No(Kv("line")),zo(gm.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(t,e,i){var n=t.getData(),r=t.get("sampling"),o=t.coordinateSystem;if("cartesian2d"===o.type&&r){var a,s=o.getBaseAxis(),l=o.getOtherAxis(s),h=s.getExtent(),u=h[1]-h[0],c=Math.round(n.count()/u);1<c&&("string"==typeof r?a=Qv[r]:"function"==typeof r&&(a=r),a&&t.setData(n.downSample(n.mapDimension(l.dim),1/c,a,Jv)))}}}),Vg.extend({type:"series.__base_bar__",getInitialData:function(t,e){return sa(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),r=n.getLayout("offset"),o=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=r+o/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return t<e&&(t=e),t}});var wy=Kd([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),by=["itemStyle","barBorderWidth"];D(Tn.prototype,{getBarItemStyle:function(t){var e=wy(this,t);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(e.lineDash=i)}return e}}),Wo({type:"bar",render:function(t,e,i){this._updateDrawMode(t);var n=t.get("coordinateSystem");return"cartesian2d"!==n&&"polar"!==n||(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i)),this.group},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(o,t,e){var a,s=this.group,l=o.getData(),h=this._data,u=o.coordinateSystem,i=u.getBaseAxis();"cartesian2d"===u.type?a=i.isHorizontal():"polar"===u.type&&(a="angle"===i.dim);var c=o.isAnimationEnabled()?o:null;l.diff(h).add(function(t){if(l.hasValue(t)){var e=l.getItemModel(t),i=My[u.type](l,t,e),n=Sy[u.type](l,t,e,i,a,c);l.setItemGraphicEl(t,n),s.add(n),Es(n,l,t,e,i,o,a,"polar"===u.type)}}).update(function(t,e){var i=h.getItemGraphicEl(e);if(l.hasValue(t)){var n=l.getItemModel(t),r=My[u.type](l,t,n);i?_n(i,{shape:r},c,t):i=Sy[u.type](l,t,n,r,a,c,!0),l.setItemGraphicEl(t,i),s.add(i),Es(i,l,t,n,r,o,a,"polar"===u.type)}else s.remove(i)}).remove(function(t){var e=h.getItemGraphicEl(t);"cartesian2d"===u.type?e&&Os(t,c,e):e&&zs(t,c,e)}).execute(),this._data=l},_renderLarge:function(t,e,i){this._clear(),Ns(t,this.group)},_incrementalRenderLarge:function(t,e){Ns(e,this.group,!0)},dispose:B,remove:function(t){this._clear(t)},_clear:function(e){var t=this.group,i=this._data;e&&e.get("animation")&&i&&!this._isLargeDraw?i.eachItemGraphicEl(function(t){"sector"===t.type?zs(t.dataIndex,e,t):Os(t.dataIndex,e,t)}):t.removeAll(),this._data=null}});var Sy={cartesian2d:function(t,e,i,n,r,o,a){var s=new dp({shape:D({},n)});if(o){var l=r?"height":"width",h={};s.shape[l]=0,h[l]=n[l],Cp[a?"updateProps":"initProps"](s,{shape:h},o,e)}return s},polar:function(t,e,i,n,r,o,a){var s=n.startAngle<n.endAngle,l=new lp({shape:T({clockwise:s},n)});if(o){var h=r?"r":"endAngle",u={};l.shape[h]=r?0:n.startAngle,u[h]=n[h],Cp[a?"updateProps":"initProps"](l,{shape:u},o,e)}return l}},My={cartesian2d:function(t,e,i){var n,r,o=t.getItemLayout(e),a=(n=o,r=i.get(by)||0,Math.min(r,Math.abs(n.width),Math.abs(n.height))),s=0<o.width?1:-1,l=0<o.height?1:-1;return{x:o.x+s*a/2,y:o.y+l*a/2,width:o.width-s*a,height:o.height-l*a}},polar:function(t,e,i){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}},Iy=Ni.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,n=this.__startPoint,r=this.__valueIdx,o=0;o<i.length;o+=2)n[this.__valueIdx]=i[o+r],t.moveTo(n[0],n[1]),t.lineTo(i[o],i[o+1])}});No(v(function(t,e){var i=va(t,e),C=ya(i),T={};R(i,function(t){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),r=ga(t),o=C[ma(n)][r],a=o.offset,s=o.width,l=i.getOtherAxis(n),h=t.get("barMinHeight")||0;T[r]=T[r]||[],e.setLayout({offset:a,size:s});for(var u=e.mapDimension(l.dim),c=e.mapDimension(n.dim),d=oa(e,u),f=l.isHorizontal(),p=ba(n,l,d),g=0,m=e.count();g<m;g++){var v=e.get(u,g),y=e.get(c,g);if(!isNaN(v)){var _,x,w,b,S=0<=v?"p":"n",M=p;if(d&&(T[r][y]||(T[r][y]={p:p,n:p}),M=T[r][y][S]),f)_=M,x=(I=i.dataToPoint([v,y]))[1]+a,w=I[0]-p,b=s,Math.abs(w)<h&&(w=(w<0?-1:1)*h),d&&(T[r][y][S]+=w);else{var I=i.dataToPoint([y,v]);_=I[0]+a,x=M,w=s,b=I[1]-p,Math.abs(b)<h&&(b=(b<=0?-1:1)*h),d&&(T[r][y][S]+=b)}e.setItemLayout(g,{x:_,y:x,width:w,height:b})}}},this)},"bar")),No(iv),Ro({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});var Cy={updateSelectedMap:function(t){this._targetList=O(t)?t.slice():[],this._selectTargetMap=g(t||[],function(t,e){return t.set(e.name,e),t},N())},select:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),i&&(i.selected=!0)},unSelect:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);i&&(i.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return i&&i.selected}},Ty=Go({type:"series.pie",init:function(t){Ty.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){Ty.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return function(t,e,i){e=O(e)&&{coordDimensions:e}||D({},e);var n=t.getSource(),r=jm(n,e),o=new Zm(r,t);return o.initData(n,i),o}(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],n=0,r=t.count();n<r;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:Nr(t,n,"selected")});return i},getDataParams:function(t){var e=this.getData(),i=Ty.superCall(this,"getDataParams",t),n=[];return e.each(e.mapDimension("value"),function(t){n.push(t)}),i.percent=Bn(n,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){qe(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});r(Ty,Cy);var Dy=Vs.prototype;Dy.updateData=function(t,e,i){function n(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r+a.get("hoverOffset")}},300,"elasticOut")}function r(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r}},300,"elasticOut")}var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),h=D({},l);h.label=null,i?(o.setShape(h),"scale"===a.getShallow("animationType")?(o.shape.r=l.r0,xn(o,{shape:{r:l.r}},a,e)):(o.shape.endAngle=l.startAngle,_n(o,{shape:{endAngle:l.endAngle}},a,e))):_n(o,{shape:h},a,e);var u=t.getItemVisual(e,"color");o.useStyle(T({lineJoin:"bevel",fill:u},s.getModel("itemStyle").getItemStyle())),o.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();var c=s.getShallow("cursor");c&&o.attr("cursor",c),Bs(this,t.getItemLayout(e),a.isSelected(null,e),a.get("selectedOffset"),a.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&a.isAnimationEnabled()&&o.on("mouseover",n).on("mouseout",r).on("emphasis",n).on("normal",r),this._updateLabel(t,e),un(this)},Dy._updateLabel=function(t,e){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label,s=t.getItemVisual(e,"color");_n(i,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},r,e),_n(n,{style:{x:a.x,y:a.y}},r,e),n.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var l=o.getModel("label"),h=o.getModel("emphasis.label"),u=o.getModel("labelLine"),c=o.getModel("emphasis.labelLine");s=t.getItemVisual(e,"color");cn(n.style,n.hoverStyle={},l,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:s,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),n.ignore=n.normalIgnore=!l.get("show"),n.hoverIgnore=!h.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!c.get("show"),i.setStyle({stroke:s,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=c.getModel("lineStyle").getLineStyle();var d=u.get("smooth");d&&!0===d&&(d=.4),i.setShape({smooth:d})},o(Vs,Kc),jr.extend({type:"pie",init:function(){var t=new Kc;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var r=t.getData(),o=this._data,a=this.group,s=e.get("animation"),l=!o,h=t.get("animationType"),u=v(Rs,this.uid,t,s,i),c=t.get("selectedMode");if(r.diff(o).add(function(t){var e=new Vs(r,t);l&&"scale"!==h&&e.eachChild(function(t){t.stopAnimation(!0)}),c&&e.on("click",u),r.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){var i=o.getItemGraphicEl(e);i.updateData(r,t),i.off("click"),c&&i.on("click",u),a.add(i),r.setItemGraphicEl(t,i)}).remove(function(t){var e=o.getItemGraphicEl(t);a.remove(e)}).execute(),s&&l&&0<r.count()&&"scale"!==h){var d=r.getItemLayout(0),f=Math.max(i.getWidth(),i.getHeight())/2,p=x(a.removeClipPath,a);a.setClipPath(this._createClipPath(d.cx,d.cy,f,d.startAngle,d.clockwise,p,t))}this._data=r}},dispose:function(){},_createClipPath:function(t,e,i,n,r,o,a){var s=new lp({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:r}});return xn(s,{shape:{endAngle:n+(r?1:-1)*Math.PI*2}},a,o),s},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){var n=t[0]-i.cx,r=t[1]-i.cy,o=Math.sqrt(n*n+r*r);return o<=i.r&&o>=i.r0}}});var Ay=function(M,I,t,e){var C,T,D=M.getData(),A=[],k=!1;D.each(function(t){var e,i,n,r,o=D.getItemLayout(t),a=D.getItemModel(t),s=a.getModel("label"),l=s.get("position")||a.get("emphasis.label.position"),h=a.getModel("labelLine"),u=h.get("length"),c=h.get("length2"),d=(o.startAngle+o.endAngle)/2,f=Math.cos(d),p=Math.sin(d);C=o.cx,T=o.cy;var g="inside"===l||"inner"===l;if("center"===l)e=o.cx,i=o.cy,r="center";else{var m=(g?(o.r+o.r0)/2*f:o.r*f)+C,v=(g?(o.r+o.r0)/2*p:o.r*p)+T;if(e=m+3*f,i=v+3*p,!g){var y=m+f*(u+I-o.r),_=v+p*(u+I-o.r),x=y+(f<0?-1:1)*c;e=x+(f<0?-5:5),n=[[m,v],[y,_],[x,i=_]]}r=g?"center":0<f?"left":"right"}var w=s.getFont(),b=s.get("rotate")?f<0?-d+Math.PI:-d:0,S=ne(M.getFormattedLabel(t,"normal")||D.getName(t),w,r,"top");k=!!b,o.label={x:e,y:i,position:l,height:S.height,len:u,len2:c,linePoints:n,textAlign:r,verticalAlign:"middle",rotation:b,inside:g},g||A.push(o.label)}),!k&&M.get("avoidLabelOverlap")&&function(t,e,i,n,r,o){for(var a=[],s=[],l=0;l<t.length;l++)t[l].x<e?a.push(t[l]):s.push(t[l]);for(Fs(s,e,i,n,1,0,o),Fs(a,e,i,n,-1,0,o),l=0;l<t.length;l++){var h=t[l].linePoints;if(h){var u=h[1][0]-h[2][0];t[l].x<e?h[2][0]=t[l].x+3:h[2][0]=t[l].x-3,h[1][1]=h[2][1]=t[l].y,h[1][0]=h[2][0]+u}}}(A,C,T,I,0,e)},ky=2*Math.PI,Py=Math.PI/180;R([{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}],function(o){o.update="updateView",Eo(o,function(t,e){var r={};return e.eachComponent({mainType:"series",subType:"pie",query:t},function(i){i[o.method]&&i[o.method](t.name,t.dataIndex);var n=i.getData();n.each(function(t){var e=n.getName(t);r[e]=i.isSelected(e)||!1})}),{name:t.name,selected:r}})}),Ro({getTargetSeries:function(t){var e={},i=N();return t.eachSeriesByType("pie",function(t){t.__paletteScope=e,i.set(t.uid,t)}),i},reset:function(r,t){var o=r.getRawData(),a={},s=r.getData();s.each(function(t){var e=s.getRawIndex(t);a[e]=t}),o.each(function(t){var e=a[t],i=null!=e&&s.getItemVisual(e,"color",!0);if(i)o.setItemVisual(t,"color",i);else{var n=o.getItemModel(t).get("itemStyle.color")||r.getColorFromPalette(o.getName(t)||t+"",r.__paletteScope,o.count());o.setItemVisual(t,"color",n),null!=e&&s.setItemVisual(e,"color",n)}})}}),No(v(function(t,e,C,i){e.eachSeriesByType(t,function(t){var r=t.getData(),e=r.mapDimension("value"),i=t.get("center"),n=t.get("radius");O(n)||(n=[0,n]),O(i)||(i=[i,i]);var o=C.getWidth(),a=C.getHeight(),s=Math.min(o,a),l=Ln(i[0],o),h=Ln(i[1],a),u=Ln(n[0],s/2),c=Ln(n[1],s/2),d=-t.get("startAngle")*Py,f=t.get("minAngle")*Py,p=0;r.each(e,function(t){!isNaN(t)&&p++});var g=r.getSum(e),m=Math.PI/(g||p)*2,v=t.get("clockwise"),y=t.get("roseType"),_=t.get("stillShowZeroSum"),x=r.getDataExtent(e);x[0]=0;var w=ky,b=0,S=d,M=v?1:-1;if(r.each(e,function(t,e){var i;if(isNaN(t))r.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:v,cx:l,cy:h,r0:u,r:y?NaN:c});else{(i="area"!==y?0===g&&_?m:t*m:ky/p)<f?w-=i=f:b+=t;var n=S+M*i;r.setItemLayout(e,{angle:i,startAngle:S,endAngle:n,clockwise:v,cx:l,cy:h,r0:u,r:y?Pn(t,x,[u,c]):c}),S=n}}),w<ky&&p)if(w<=.001){var I=ky/p;r.each(e,function(t,e){if(!isNaN(t)){var i=r.getItemLayout(e);i.angle=I,i.startAngle=d+M*e*I,i.endAngle=d+M*(e+1)*I}})}else m=w/b,S=d,r.each(e,function(t,e){if(!isNaN(t)){var i=r.getItemLayout(e),n=i.angle===f?f:t*m;i.startAngle=S,i.endAngle=S+M*n,S+=M*n}});Ay(t,c,0,a)})},"pie")),zo({seriesType:"pie",reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var r=t.getData();r.filterSelf(function(t){for(var e=r.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0})}}}),Vg.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return sa(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var Ly=Wi({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var i=e.points,n=e.size,r=this.symbolProxy,o=r.shape;if(!((t.getContext?t.getContext():t)&&n[0]<4))for(var a=0;a<i.length;){var s=i[a++],l=i[a++];isNaN(s)||isNaN(l)||(o.x=s-n[0]/2,o.y=l-n[1]/2,o.width=n[0],o.height=n[1],r.buildPath(t,o,!0))}},afterBrush:function(t){var e=this.shape,i=e.points,n=e.size;if(n[0]<4){this.setTransform(t);for(var r=0;r<i.length;){var o=i[r++],a=i[r++];isNaN(o)||isNaN(a)||t.fillRect(o-n[0]/2,a-n[1]/2,n[0],n[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var i=this.shape,n=i.points,r=i.size,o=Math.max(r[0],4),a=Math.max(r[1],4),s=n.length/2-1;0<=s;s--){var l=2*s,h=n[l]-o/2,u=n[l+1]-a/2;if(h<=t&&u<=e&&t<=h+o&&e<=u+a)return s}return-1}}),Oy=Hs.prototype;Oy.isPersistent=function(){return!this._incremental},Oy.updateData=function(t){this.group.removeAll();var e=new Ly({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},Oy.updateLayout=function(t){if(!this._incremental){var n=t.getLayout("symbolPoints");this.group.eachChild(function(t){if(null!=t.startIndex){var e=2*(t.endIndex-t.startIndex),i=4*t.startIndex*2;n=new Float32Array(n.buffer,i,e)}t.setShape("points",n)})}},Oy.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),2e6<t.count()?(this._incremental||(this._incremental=new Gi({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Oy.incrementalUpdate=function(t,e){var i;this._incremental?(i=new Ly,this._incremental.addDisplayable(i,!0)):((i=new Ly({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(i)),i.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(i,e,!!this._incremental)},Oy._setCommon=function(i,t,e){var n=t.hostModel,r=t.getVisual("symbolSize");i.setShape("size",r instanceof Array?r:[r,r]),i.symbolProxy=ka(t.getVisual("symbol"),0,0,0,0),i.setColor=i.symbolProxy.setColor;var o=i.shape.size[0]<4;i.useStyle(n.getModel("itemStyle").getItemStyle(o?["color","shadowBlur","shadowColor"]:["color"]));var a=t.getVisual("color");a&&i.setColor(a),e||(i.seriesIndex=n.seriesIndex,i.on("mousemove",function(t){i.dataIndex=null;var e=i.findDataIndex(t.offsetX,t.offsetY);0<=e&&(i.dataIndex=e+(i.startIndex||0))}))},Oy.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Oy._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},Wo({type:"scatter",render:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).updateData(n),this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateSymbolDraw(n,t).incrementalPrepareUpdate(n),this._finished=!1},incrementalRender:function(t,e,i){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData();if(this.group.dirty(),!this._finished||1e4<n.count()||!this._symbolDraw.isPersistent())return{update:!0};var r=Kv().reset(t);r.progress&&r.progress({start:0,end:n.count()},n),this._symbolDraw.updateLayout(n)},_updateSymbolDraw:function(t,e){var i=this._symbolDraw,n=e.pipelineContext.large;return i&&n===this._isLargeDraw||(i&&i.remove(),i=this._symbolDraw=n?new Hs:new qa,this._isLargeDraw=n,this.group.removeAll()),this.group.add(i.group),i},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Ro($v("scatter","circle")),No(Kv("scatter")),Oo(function(t){var e=t.graphic;O(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var zy=Fo({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,zy.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var i=this.option,n=(e?i:t).elements,c=i.elements=e?[]:i.elements,r=[];this._flatten(n,r);var o=Ke(c,r);Qe(o);var d=this._elOptionsToUpdate=[];R(o,function(t,e){var i,n,r,o,a,s,l,h,u=t.option;u&&(d.push(u),function(t,e){var i=t.exist;if(e.id=t.keyInfo.id,!e.type&&i&&(e.type=i.type),null==e.parentId){var n=e.parentOption;n?e.parentId=n.id:i&&(e.parentId=i.parentId)}e.parentOption=null}(t,u),r=c,o=e,s=D({},a=u),l=r[o],"merge"===(h=a.$action||"merge")?l?(p(l,s,!0),ir(l,s,{ignoreSize:!0}),rr(a,l)):r[o]=s:"replace"===h?r[o]=s:"remove"===h&&l&&(r[o]=null),i=c[e],n=u,i&&(i.hv=n.hv=[Zs(n,["left","right"]),Zs(n,["top","bottom"])],"group"===i.type&&(null==i.width&&(i.width=n.width=0),null==i.height&&(i.height=n.height=0))))},this);for(var a=c.length-1;0<=a;a--)null==c[a]?c.splice(a,1):delete c[a].$action},_flatten:function(t,i,n){R(t,function(t){if(t){n&&(t.parentOption=n),i.push(t);var e=t.children;"group"===t.type&&e&&this._flatten(e,i,t),delete t.children}},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});Ho({type:"graphic",init:function(t,e){this._elMap=N(),this._lastGraphicModel},render:function(t,e,i){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t,i),this._relocate(t,i)},_updateElements:function(t,e){var i=t.useElOptionsToUpdate();if(i){var u=this._elMap,c=this.group;R(i,function(t){var e=t.$action,i=t.id,n=u.get(i),r=t.parentId,o=null!=r?u.get(r):c;if("text"===t.type){var a=t.style;t.hv&&t.hv[1]&&(a.textVerticalAlign=a.textBaseline=null),!a.hasOwnProperty("textFill")&&a.fill&&(a.textFill=a.fill),!a.hasOwnProperty("textStroke")&&a.stroke&&(a.textStroke=a.stroke)}var s,l=(s=D({},s=t),R(["id","parentId","$action","hv","bounding"].concat(Yp),function(t){delete s[t]}),s);e&&"merge"!==e?"replace"===e?(Ws(n,u),Gs(i,o,l,u)):"remove"===e&&Ws(n,u):n?n.attr(l):Gs(i,o,l,u);var h=u.get(i);h&&(h.__ecGraphicWidth=t.width,h.__ecGraphicHeight=t.height)})}},_relocate:function(t,e){for(var i=t.option.elements,n=this.group,r=this._elMap,o=i.length-1;0<=o;o--){var a=i[o],s=r.get(a.id);if(s){var l=s.parent;er(s,a,l===n?{width:e.getWidth(),height:e.getHeight()}:{width:l.__ecGraphicWidth||0,height:l.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding})}}},_clear:function(){var e=this._elMap;e.each(function(t){Ws(t,e)}),this._elMap=N()},dispose:function(){this._clear()}});var Ey=function(t,e){var i,n=[],r=t.seriesIndex;if(null==r||!(i=e.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),a=ei(o,t);if(null==a||a<0||O(a))return{point:[]};var s=o.getItemGraphicEl(a),l=i.coordinateSystem;if(i.getTooltipPosition)n=i.getTooltipPosition(a)||[];else if(l&&l.dataToPoint)n=l.dataToPoint(o.getValues(A(l.dimensions,function(t){return o.mapDimension(t)}),a,!0))||[];else if(s){var h=s.getBoundingRect().clone();h.applyTransform(s.transform),n=[h.x+h.width/2,h.y+h.height/2]}return{point:n,el:s}},Ny=R,Ry=v,By=ii(),Vy=(Fo({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),ii()),Fy=R,Hy=Ho({type:"axisPointer",render:function(t,e,i){var n=e.getComponent("tooltip"),r=t.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";$s("axisPointer",i,function(t,e,i){"none"!==r&&("leave"===t||0<=r.indexOf(t))&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){Js(e.getZr(),"axisPointer"),Hy.superApply(this._model,"remove",arguments)},dispose:function(t,e){Js("axisPointer",e),Hy.superApply(this._model,"dispose",arguments)}}),Gy=ii(),Wy=b,Zy=x;si((tl.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,s=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(s&&s.hide());a&&a.show(),s&&s.show();var l={};this.makeElOption(l,r,t,e,i);var h=l.graphicKey;h!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=h;var u=this._moveAnimation=this.determineAnimation(t,e);if(a){var c=v(el,e,u);this.updatePointerEl(a,l,c,e),this.updateLabelEl(a,l,c,e)}else a=this._group=new Kc,this.createPointerEl(a,l,t,e),this.createLabelEl(a,l,t,e),i.getZr().add(a);rl(a,e,!0),this._renderHandle(r)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),n=t.axis,r="category"===n.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"!==i&&null!=i)return!0===i;var a=this.animationThreshold;if(r&&n.getBandWidth()>a)return!0;if(o){var s=Cs(t).seriesDataCount,l=n.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1},makeElOption:function(t,e,i,n,r){},createPointerEl:function(t,e,i,n){var r=e.pointer;if(r){var o=Gy(t).pointerEl=new Cp[r.type](Wy(e.pointer));t.add(o)}},createLabelEl:function(t,e,i,n){if(e.label){var r=Gy(t).labelEl=new dp(Wy(e.label));t.add(r),il(r,n)}},updatePointerEl:function(t,e,i){var n=Gy(t).pointerEl;n&&(n.setStyle(e.pointer.style),i(n,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){var r=Gy(t).labelEl;r&&(r.setStyle(e.label.style),i(r,{shape:e.label.shape,position:e.label.position}),il(r,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),r=this._handle,o=i.getModel("handle"),a=i.get("status");if(!o.get("show")||!a||"hide"===a)return r&&n.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Cn(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Td(t.event)},onmousedown:Zy(this._onHandleDragMove,this,0,0),drift:Zy(this._onHandleDragMove,this),ondragend:Zy(this._onHandleDragEnd,this)}),n.add(r)),rl(r,i,!1);r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var s=o.get("size");O(s)||(s=[s,s]),r.attr("scale",[s[0]/2,s[1]/2]),Jr(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){el(this._axisPointerModel,!e&&this._moveAnimation,this._handle,nl(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(nl(i),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(nl(n)),Gy(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(t){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,n=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),n&&e.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=tl);var Uy=tl.extend({makeElOption:function(t,e,i,n,r){var o,a,s,l,h,u,c,d,f,p,g,m=i.axis,v=m.grid,y=n.get("type"),_=ll(v,m).getOtherAxis(m).getGlobalExtent(),x=m.toGlobalCoord(m.dataToCoord(e,!0));if(y&&"none"!==y){var w=(s=(o=n).get("type"),l=o.getModel(s+"Style"),"line"===s?(a=l.getLineStyle()).fill=null:"shadow"===s&&((a=l.getAreaStyle()).stroke=null),a),b=Xy[y](m,x,_,w);b.style=w,t.graphicKey=b.type,t.pointer=b}h=e,u=t,c=Ps(v.model,i),d=i,f=n,p=r,g=cy.innerTextLayout(c.rotation,0,c.labelDirection),c.labelMargin=f.get("label.margin"),ol(u,d,f,p,{position:sl(d.axis,h,c),align:g.textAlign,verticalAlign:g.textVerticalAlign})},getHandleTransform:function(t,e,i){var n=Ps(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:sl(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var r=i.axis,o=r.grid,a=r.getGlobalExtent(!0),s=ll(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,h=t.position;h[l]+=e[l],h[l]=Math.min(a[1],h[l]),h[l]=Math.max(a[0],h[l]);var u=(s[1]+s[0])/2,c=[u,u];c[l]=h[l];return{position:h,rotation:t.rotation,cursorPoint:c,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}}}),Xy={line:function(t,e,i,n){var r,o,a,s=(r=[e,i[0]],o=[e,i[1]],a=hl(t),{x1:r[a=a||0],y1:r[1-a],x2:o[a],y2:o[1-a]});return Yi({shape:s,style:n}),{type:"Line",shape:s}},shadow:function(t,e,i,n){var r,o,a,s=Math.max(1,t.getBandWidth()),l=i[1]-i[0];return{type:"Rect",shape:(r=[e-s/2,i[0]],o=[s,l],a=hl(t),{x:r[a=a||0],y:r[1-a],width:o[a],height:o[1-a]})}}};my.registerAxisPointerClass("CartesianAxisPointer",Uy),Oo(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!O(e)&&(t.axisPointer.link=[e])}}),zo(gm.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Ms(t,e)}),Eo({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,i){var r,n,o,a=t.currTrigger,s=[t.x,t.y],l=t,h=t.dispatchAction||x(i.dispatchAction,i),u=e.getComponent("axisPointer").coordSysAxesInfo;if(u){qs(s)&&(s=Ey({seriesIndex:l.seriesIndex,dataIndex:l.dataIndex},e).point);var c=qs(s),d=l.axesInfo,f=u.axesInfo,p="leave"===a||qs(s),g={},m={},v={list:[],map:{}},y={showPointer:Ry(Xs,m),showTooltip:Ry(js,v)};Ny(u.coordSysMap,function(t,e){var o=c||t.containPoint(s);Ny(u.coordSysAxesInfo[e],function(t,e){var i=t.axis,n=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(d,t);if(!p&&o&&(!d||n)){var r=n&&n.value;null!=r||c||(r=i.pointToData(s)),null!=r&&Us(t,r,y,!1,g)}})});var _={};return Ny(f,function(r,t){var o=r.linkGroup;o&&!m[t]&&Ny(o.axesInfo,function(t,e){var i=m[e];if(t!==r&&i){var n=i.value;o.mapper&&(n=r.axis.scale.parse(o.mapper(n,Ys(t),Ys(r)))),_[r.key]=n}})}),Ny(_,function(t,e){Us(f[e],t,y,!0,g)}),r=m,n=f,o=g.axesInfo=[],Ny(n,function(t,e){var i=t.axisPointerModel.option,n=r[e];n?(!t.useHandle&&(i.status="show"),i.value=n.value,i.seriesDataIndices=(n.payloadBatch||[]).slice()):!t.useHandle&&(i.status="hide"),"show"===i.status&&o.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}),function(t,e,i,n){if(!qs(e)&&t.list.length){var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}else n({type:"hideTip"})}(v,s,t,h),function(t,e,i){var n=i.getZr(),r=By(n).axisPointerLastHighlights||{},o=By(n).axisPointerLastHighlights={};Ny(t,function(t,e){var i=t.axisPointerModel.option;"show"===i.status&&Ny(i.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t})});var a=[],s=[];R(r,function(t,e){!o[e]&&s.push(t)}),R(o,function(t,e){!r[e]&&a.push(t)}),s.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),a.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:a})}(f,0,i),g}}),Fo({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var jy=R,Yy=Xn,qy=["","-webkit-","-moz-","-o-"];cl.prototype={constructor:cl,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),i=t.style;"absolute"!==i.position&&"absolute"!==e.position&&(i.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+ul(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i,n=this._zr;n&&n.painter&&(i=n.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var r=this.el.style;r.left=t+"px",r.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(x(this.hide,this),t)):this.hide())},isShow:function(){return this._show}};var $y=x,Ky=R,Qy=Ln,Jy=new dp({shape:{x:-1,y:-1,width:2,height:2}});Ho({type:"tooltip",init:function(t,e){if(!ju.node){var i=new cl(e.getDom(),e);this._tooltipContent=i}},render:function(t,e,i){if(!ju.node&&!ju.wxa){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var n=this._tooltipContent;n.update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var n=this._tooltipModel.get("triggerOn");$s("itemTooltip",this._api,$y(function(t,e,i){"none"!==n&&(0<=n.indexOf(t)?this._tryShow(e,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.manuallyShowTip(t,e,i,{x:n._lastX,y:n._lastY})})}},manuallyShowTip:function(t,e,i,n){if(n.from!==this.uid&&!ju.node){var r=fl(n,i);this._ticket="";var o=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var a=Jy;a.position=[n.x,n.y],a.update(),a.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:a},r)}else if(o)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,event:{},dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},r);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(t,e,i,n))return;var s=Ey(n,e),l=s.point[0],h=s.point[1];null!=l&&null!=h&&this._tryShow({offsetX:l,offsetY:h,position:n.position,target:s.el,event:{}},r)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target,event:{}},r))}},manuallyHideTip:function(t,e,i,n){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(fl(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var r=n.seriesIndex,o=n.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s&&"axis"===(t=dl([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:n.position}),!0}},_tryShow:function(t,e){var i=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var n=t.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var i=t.get("showDelay");e=x(e,this),clearTimeout(this._showTimout),0<i?this._showTimout=setTimeout(e,i):e()},_showAxisTooltip:function(t,e){var h=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],u=[],c=[],r=dl([e.tooltipOption,i]);Ky(t,function(t){Ky(t.dataByAxis,function(r){var o=h.getComponent(r.axisDim+"Axis",r.axisIndex),a=r.value,s=[];if(o&&null!=a){var l=al(a,o.axis,h,r.seriesDataIndices,r.valueLabelOpt);R(r.seriesDataIndices,function(t){var e=h.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);n.axisDim=r.axisDim,n.axisIndex=r.axisIndex,n.axisType=r.axisType,n.axisId=r.axisId,n.axisValue=Da(o.axis,a),n.axisValueLabel=l,n&&(c.push(n),s.push(e.formatTooltip(i,!0)))});var t=l;u.push((t?jn(t)+"<br />":"")+s.join("<br />"))}})},this),u.reverse(),u=u.join("<br /><br />");var o=e.position;this._showOrMove(r,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(r,o,n[0],n[1],this._tooltipContent,c):this._showTooltipContent(r,u,c,Math.random(),n[0],n[1],o)})},_showSeriesItemTooltip:function(t,e,i){var n=this._ecModel,r=e.seriesIndex,o=n.getSeriesByIndex(r),a=e.dataModel||o,s=e.dataIndex,l=e.dataType,h=a.getData(),u=dl([h.getItemModel(s),a,o&&(o.coordinateSystem||{}).model,this._tooltipModel]),c=u.get("trigger");if(null==c||"item"===c){var d=a.getDataParams(s,l),f=a.formatTooltip(s,!1,l),p="item_"+a.name+"_"+s;this._showOrMove(u,function(){this._showTooltipContent(u,f,d,p,t.offsetX,t.offsetY,t.position,t.target)}),i({type:"showTip",dataIndexInside:s,dataIndex:h.getRawIndex(s),seriesIndex:r,from:this.uid})}},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;if("string"==typeof n){n={content:n,formatter:n}}var r=new Tn(n,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(i,t,n,e,r,o,a,s){if(this._ticket="",i.get("showContent")&&i.get("show")){var l=this._tooltipContent,h=i.get("formatter");a=a||i.get("position");var u=t;if(h&&"string"==typeof h)u=Yn(h,n,!0);else if("function"==typeof h){var c=$y(function(t,e){t===this._ticket&&(l.setContent(e),this._updatePosition(i,a,r,o,l,n,s))},this);this._ticket=e,u=h(n,e,c)}l.setContent(u),l.show(i),this._updatePosition(i,a,r,o,l,n,s)}},_updatePosition:function(t,e,i,n,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var h,u,c,d,f,p,g,m,v,y,_,x,w,b,S,M,I,C,T=r.getSize(),D=t.get("align"),A=t.get("verticalAlign"),k=a&&a.getBoundingRect().clone();if(a&&k.applyTransform(a.transform),"function"==typeof e&&(e=e([i,n],o,r.el,k,{viewSize:[s,l],contentSize:T.slice()})),O(e))i=Qy(e[0],s),n=Qy(e[1],l);else if(E(e)){e.width=T[0],e.height=T[1];var P=tr(e,{width:s,height:l});i=P.x,n=P.y,A=D=null}else n=(i="string"==typeof e&&a?(L=function(t,e,i){var n=i[0],r=i[1],o=0,a=0,s=e.width,l=e.height;switch(t){case"inside":o=e.x+s/2-n/2,a=e.y+l/2-r/2;break;case"top":o=e.x+s/2-n/2,a=e.y-r-5;break;case"bottom":o=e.x+s/2-n/2,a=e.y+l+5;break;case"left":o=e.x-n-5,a=e.y+l/2-r/2;break;case"right":o=e.x+s+5,a=e.y+l/2-r/2}return[o,a]}(e,k,T))[0]:(h=i,u=n,c=r.el,d=s,f=l,p=D?null:20,g=A?null:20,m=pl(c),v=m.width,y=m.height,null!=p&&(d<h+v+p?h-=v+p:h+=p),null!=g&&(f<u+y+g?u-=y+g:u+=g),L=[h,u])[0],L[1]);if(D&&(i-=gl(D)?T[0]/2:"right"===D?T[0]:0),A&&(n-=gl(A)?T[1]/2:"bottom"===A?T[1]:0),t.get("confine")){var L=(_=i,x=n,w=r.el,b=s,S=l,M=pl(w),I=M.width,C=M.height,_=Math.min(_+I,b)-I,x=Math.min(x+C,S)-C,[_=Math.max(_,0),x=Math.max(x,0)]);i=L[0],n=L[1]}r.moveTo(i,n)},_updateContentNotChangedOnAxis:function(n){var t=this._lastDataByCoordSys,a=!!t&&t.length===n.length;return a&&Ky(t,function(t,e){var i=t.dataByAxis||{},o=(n[e]||{}).dataByAxis||[];(a&=i.length===o.length)&&Ky(i,function(t,e){var i=o[e]||{},n=t.seriesDataIndices||[],r=i.seriesDataIndices||[];(a&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&n.length===r.length)&&Ky(n,function(t,e){var i=r[e];a&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex})})}),this._lastDataByCoordSys=n,!!a},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){ju.node||ju.wxa||(this._tooltipContent.hide(),Js("itemTooltip",e))}}),Eo({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Eo({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){});var t_=Fo({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{}},mergeOption:function(t){t_.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(o){var a=[],s=[];o.eachRawSeries(function(t){var e,i=t.name;if(s.push(i),t.legendDataProvider){var n=t.legendDataProvider(),r=n.mapArray(n.getName);o.isSeriesFiltered(t)||(s=s.concat(r)),r.length?a=a.concat(r):e=!0}else e=!0;e&&Je(t)&&a.push(t.name)}),this._availableNames=s;var t=A(this.get("data")||a,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Tn(t,this,this.ecModel)},this);this._data=t},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&R(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=f(this._availableNames,t)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});Eo("legendToggleSelect","legendselectchanged",v(ml,"toggleSelected")),Eo("legendSelect","legendselected",v(ml,"select")),Eo("legendUnSelect","legendunselected",v(ml,"unSelect"));var e_=v,i_=R,n_=Kc,r_=Ho({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new n_),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,i){if(this.resetInner(),t.get("show",!0)){var n=t.get("align");n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(n,t,e,i);var r=t.getBoxLayoutParams(),o={width:i.getWidth(),height:i.getHeight()},a=t.get("padding"),s=tr(r,o,a),l=this.layoutInner(t,n,s),h=tr(T({width:l.width,height:l.height},r),o,a);this.group.attr("position",[h.x-l.x,h.y-l.y]),this.group.add(this._backgroundEl=vl(l,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(l,h,u,c){var d=this.getContentGroup(),f=N(),p=h.get("selectedMode"),g=[];u.eachRawSeries(function(t){!t.get("legendHoverLink")&&g.push(t.id)}),i_(h.getData(),function(r,o){var a=r.get("name");if(this.newlineDisabled||""!==a&&"\n"!==a){var t=u.getSeriesByName(a)[0];if(!f.get(a))if(t){var e=t.getData(),i=e.getVisual("color");"function"==typeof i&&(i=i(t.getDataParams(0)));var n=e.getVisual("legendSymbol")||"roundRect",s=e.getVisual("symbol");this._createItem(a,o,r,h,n,s,l,i,p).on("click",e_(yl,a,c)).on("mouseover",e_(_l,t,null,c,g)).on("mouseout",e_(xl,t,null,c,g)),f.set(a,!0)}else u.eachRawSeries(function(t){if(!f.get(a)&&t.legendDataProvider){var e=t.legendDataProvider(),i=e.indexOfName(a);if(i<0)return;var n=e.getItemVisual(i,"color");this._createItem(a,o,r,h,"roundRect",null,l,n,p).on("click",e_(yl,a,c)).on("mouseover",e_(_l,t,a,c,g)).on("mouseout",e_(xl,t,a,c,g)),f.set(a,!0)}},this)}else d.add(new n_({newline:!0}))},this)},_createItem:function(t,e,i,n,r,o,a,s,l){var h=n.get("itemWidth"),u=n.get("itemHeight"),c=n.get("inactiveColor"),d=n.get("symbolKeepAspect"),f=n.isSelected(t),p=new n_,g=i.getModel("textStyle"),m=i.get("icon"),v=i.getModel("tooltip"),y=v.parentModel;if(r=m||r,p.add(ka(r,0,0,h,u,f?s:c,null==d||d)),!m&&o&&(o!==r||"none"==o)){var _=.8*u;"none"===o&&(o="circle"),p.add(ka(o,(h-_)/2,(u-_)/2,_,_,f?s:c,null==d||d))}var x="left"===a?h+5:-5,w=a,b=n.get("formatter"),S=t;"string"==typeof b&&b?S=b.replace("{name}",null!=t?t:""):"function"==typeof b&&(S=b(t)),p.add(new rp({style:dn({},g,{text:S,x:x,y:u/2,textFill:f?g.getTextColor():c,textAlign:w,textVerticalAlign:"middle"})}));var M=new dp({shape:p.getBoundingRect(),invisible:!0,tooltip:v.get("show")?D({content:t,formatter:y.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},v.option):null});return p.add(M),p.eachChild(function(t){t.silent=!0}),M.silent=!l,this.getContentGroup().add(p),un(p),p.__legendDataIndex=e,p},layoutInner:function(t,e,i){var n=this.getContentGroup();$p(t.get("orient"),n,t.get("itemGap"),i.width,i.height);var r=n.getBoundingRect();return n.attr("position",[-r.x,-r.y]),this.group.getBoundingRect()}});zo(function(t){var i=t.findComponents({mainType:"legend"});i&&i.length&&t.filterSeries(function(t){for(var e=0;e<i.length;e++)if(!i[e].isSelected(t.name))return!1;return!0})}),Jp.registerSubTypeDefaulter("legend",function(){return"plain"});var o_=t_.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var r=nr(t);o_.superCall(this,"init",t,e,i,n),wl(this,t,r)},mergeOption:function(t,e){o_.superCall(this,"mergeOption",t,e),wl(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),a_=Kc,s_=["width","height"],l_=["x","y"],h_=r_.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){h_.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new a_),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new a_),this._showController},resetInner:function(){h_.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,r,e,o){function i(t,e){var i=t+"DataIndex",n=Cn(r.get("pageIcons",!0)[r.getOrient().name][e],{onclick:x(a._pageGo,a,i,r,o)},{x:-l[0]/2,y:-l[1]/2,width:l[0],height:l[1]});n.name=t,s.add(n)}var a=this;h_.superCall(this,"renderInner",t,r,e,o);var s=this._controllerGroup,l=r.get("pageIconSize",!0);O(l)||(l=[l,l]),i("pagePrev",0);var n=r.getModel("pageTextStyle");s.add(new rp({name:"pageText",style:{textFill:n.getTextColor(),font:n.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),i("pageNext",1)},layoutInner:function(t,e,i){var n=this.getContentGroup(),r=this._containerGroup,o=this._controllerGroup,a=t.getOrient().index,s=s_[a],l=s_[1-a],h=l_[1-a];$p(t.get("orient"),n,t.get("itemGap"),a?i.width:null,a?null:i.height),$p("horizontal",o,t.get("pageButtonItemGap",!0));var u=n.getBoundingRect(),c=o.getBoundingRect(),d=this._showController=u[s]>i[s],f=[-u.x,-u.y];f[a]=n.position[a];var p=[0,0],g=[-c.x,-c.y],m=P(t.get("pageButtonGap",!0),t.get("itemGap",!0));d&&("end"===t.get("pageButtonPosition",!0)?g[a]+=i[s]-c[s]:p[a]+=c[s]+m),g[1-a]+=u[l]/2-c[l]/2,n.attr("position",f),r.attr("position",p),o.attr("position",g);var v=this.group.getBoundingRect();if((v={x:0,y:0})[s]=d?i[s]:u[s],v[l]=Math.max(u[l],c[l]),v[h]=Math.min(0,c[h]+g[1-a]),r.__rectSize=i[s],d){var y={x:0,y:0};y[s]=Math.max(i[s]-c[s]-m,0),y[l]=v[l],r.setClipPath(new dp({shape:y})),r.__rectSize=y[s]}else o.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var _=this._getPageInfo(t);return null!=_.pageIndex&&_n(n,{position:_.contentPosition},!!d&&t),this._updatePageInfoView(t,_),v},_pageGo:function(t,e,i){var n=this._getPageInfo(e)[t];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:e.id})},_updatePageInfoView:function(n,r){var o=this._controllerGroup;R(["pagePrev","pageNext"],function(t){var e=null!=r[t+"DataIndex"],i=o.childOfName(t);i&&(i.setStyle("fill",e?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),i.cursor=e?"pointer":"default")});var t=o.childOfName("pageText"),e=n.get("pageFormatter"),i=r.pageIndex,a=null!=i?i+1:0,s=r.pageCount;t&&e&&t.setStyle("text",S(e)?e.replace("{current}",a).replace("{total}",s):e({current:a,total:s}))},_getPageInfo:function(t){function n(t){var e=t.getBoundingRect().clone();return e[f]+=t.position[u],e}var e,i,r,o,a=t.get("scrollDataIndex",!0),s=this.getContentGroup(),l=s.getBoundingRect(),h=this._containerGroup.__rectSize,u=t.getOrient().index,c=s_[u],d=s_[1-u],f=l_[u],p=s.position.slice();this._showController?s.eachChild(function(t){t.__legendDataIndex===a&&(o=t)}):o=s.childAt(0);var g=h?Math.ceil(l[c]/h):0;if(o){var m=o.getBoundingRect(),v=o.position[u]+m[f];p[u]=-v-l[f],e=Math.floor(g*(v+m[f]+h/2)/l[c]),e=l[c]&&g?Math.max(0,Math.min(g-1,e)):-1;var y={x:0,y:0};y[c]=h,y[d]=l[d],y[f]=-p[u]-l[f];var _,x=s.children();if(s.eachChild(function(t,e){var i=n(t);i.intersect(y)&&(null==_&&(_=e),r=t.__legendDataIndex),e===x.length-1&&i[f]+i[c]<=y[f]+y[c]&&(r=null)}),null!=_){var w=n(x[_]);if(y[f]=w[f]+w[c]-y[c],_<=0&&w[f]>=y[f])i=null;else{for(;0<_&&n(x[_-1]).intersect(y);)_--;i=x[_].__legendDataIndex}}}return{contentPosition:p,pageIndex:e,pageCount:g,pagePrevDataIndex:i,pageNextDataIndex:r}}});Eo("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})}),Fo({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),Ho({type:"title",render:function(t,e,i){if(this.group.removeAll(),t.get("show")){var n=this.group,r=t.getModel("textStyle"),o=t.getModel("subtextStyle"),a=t.get("textAlign"),s=t.get("textBaseline"),l=new rp({style:dn({},r,{text:t.get("text"),textFill:r.getTextColor()},{disableBox:!0}),z2:10}),h=l.getBoundingRect(),u=t.get("subtext"),c=new rp({style:dn({},o,{text:u,textFill:o.getTextColor(),y:h.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),d=t.get("link"),f=t.get("sublink");l.silent=!d,c.silent=!f,d&&l.on("click",function(){window.open(d,"_"+t.get("target"))}),f&&c.on("click",function(){window.open(f,"_"+t.get("subtarget"))}),n.add(l),u&&n.add(c);var p=n.getBoundingRect(),g=t.getBoxLayoutParams();g.width=p.width,g.height=p.height;var m=tr(g,{width:i.getWidth(),height:i.getHeight()},t.get("padding"));a||("middle"===(a=t.get("left")||t.get("right"))&&(a="center"),"right"===a?m.x+=m.width:"center"===a&&(m.x+=m.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),n.attr("position",[m.x,m.y]);var v={textAlign:a,textVerticalAlign:s};l.setStyle(v),c.setStyle(v),p=n.getBoundingRect();var y=m.margin,_=t.getItemStyle(["color","opacity"]);_.fill=t.get("backgroundColor");var x=new dp({shape:{x:p.x-y[3],y:p.y-y[0],width:p.width+y[1]+y[3],height:p.height+y[0]+y[2],r:t.get("borderRadius")},style:_,silent:!0});qi(x),n.add(x)}}});var u_=Un,c_=jn,d_=Fo({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i),this.mergeOption(t,i,n.createdBySelf,!0)},isAnimationEnabled:function(){if(ju.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,n,e,r){var o=this.constructor,a=this.mainType+"Model";e||n.eachSeries(function(t){var e=t.get(this.mainType,!0),i=t[a];e&&e.data?(i?i.mergeOption(e,n,!0):(r&&bl(e),R(e.data,function(t){t instanceof Array?(bl(t[0]),bl(t[1])):bl(t)}),D(i=new o(e,this,n),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),i.__hostSeries=t),t[a]=i):t[a]=null},this)},formatTooltip:function(t){var e=this.getData(),i=this.getRawValue(t),n=O(i)?A(i,u_).join(", "):u_(i),r=e.getName(t),o=c_(this.name);return(null!=i||r)&&(o+="<br />"),r&&(o+=c_(r),null!=i&&(o+=" : ")),null!=i&&(o+=c_(n)),o},getData:function(){return this._data},setData:function(t){this._data=t}});r(d_,Eg),d_.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var f_=f,p_=v,g_={min:p_(Sl,"min"),max:p_(Sl,"max"),average:p_(Sl,"average")},m_=Ho({type:"marker",init:function(){this.markerGroupMap=N()},render:function(t,i,n){var e=this.markerGroupMap;e.each(function(t){t.__keep=!1});var r=this.type+"Model";i.eachSeries(function(t){var e=t[r];e&&this.renderSeries(t,e,i,n)},this),e.each(function(t){!t.__keep&&this.group.remove(t.group)},this)},renderSeries:function(){}});m_.extend({type:"markPoint",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(Al(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,n,e,i){var r=t.coordinateSystem,o=t.id,a=t.getData(),s=this.markerGroupMap,l=s.get(o)||s.set(o,new qa),h=function(t,e,i){var n;n=t?A(t&&t.dimensions,function(t){return T({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var r=new Zm(n,i),o=A(i.get("data"),v(Ml,e));return t&&(o=m(o,v(Cl,t))),r.initData(o,null,t?Tl:function(t){return t.value}),r}(r,t,n);n.setData(h),Al(n.getData(),t,i),h.each(function(t){var e=h.getItemModel(t),i=e.getShallow("symbolSize");"function"==typeof i&&(i=i(n.getRawValue(t),n.getDataParams(t))),h.setItemVisual(t,{symbolSize:i,color:e.get("itemStyle.color")||a.getVisual("color"),symbol:e.getShallow("symbol")})}),l.updateData(h),this.group.add(l.group),h.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=n})}),l.__keep=!0,l.group.silent=n.get("silent")||t.get("silent")}}),Oo(function(t){t.markPoint=t.markPoint||{}}),d_.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});var v_=fp.prototype,y_=gp.prototype,__=Wi({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(kl(e)?v_:y_).buildPath(t,e)},pointAt:function(t){return kl(this.shape)?v_.pointAt.call(this,t):y_.pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,i=kl(e)?[e.x2-e.x1,e.y2-e.y1]:y_.tangentAt.call(this,t);return j(i,i)}}),x_=["fromSymbol","toSymbol"],w_=zl.prototype;w_.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.childOfName("label");if(t||e||!i.ignore){for(var n=1,r=this.parent;r;)r.scale&&(n/=r.scale[0]),r=r.parent;var o=this.childOfName("line");if(this.__dirty||o.__dirty){var a=o.shape.percent,s=o.pointAt(0),l=o.pointAt(a),h=W([],l,s);if(j(h,h),t&&(t.attr("position",s),u=o.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(u[1],u[0])),t.attr("scale",[n*a,n*a])),e){e.attr("position",l);var u=o.tangentAt(1);e.attr("rotation",-Math.PI/2-Math.atan2(u[1],u[0])),e.attr("scale",[n*a,n*a])}if(!i.ignore){i.attr("position",l);var c,d,f,p=5*n;if("end"===i.__position)c=[h[0]*p+l[0],h[1]*p+l[1]],d=.8<h[0]?"left":h[0]<-.8?"right":"center",f=.8<h[1]?"top":h[1]<-.8?"bottom":"middle";else if("middle"===i.__position){var g=a/2,m=[(u=o.tangentAt(g))[1],-u[0]],v=o.pointAt(g);0<m[1]&&(m[0]=-m[0],m[1]=-m[1]),c=[v[0]+m[0]*p,v[1]+m[1]*p],d="center",f="bottom";var y=-Math.atan2(u[1],u[0]);l[0]<s[0]&&(y=Math.PI+y),i.attr("rotation",y)}else c=[-h[0]*p+s[0],-h[1]*p+s[1]],d=.8<h[0]?"right":h[0]<-.8?"left":"center",f=.8<h[1]?"bottom":h[1]<-.8?"top":"middle";i.attr({style:{textVerticalAlign:i.__verticalAlign||f,textAlign:i.__textAlign||d},position:c,scale:[n,n]})}}}},w_._createLine=function(i,n,t){var e,r,o=i.hostModel,a=(e=i.getItemLayout(n),Ol((r=new __({name:"line"})).shape,e),r);a.shape.percent=0,xn(a,{shape:{percent:1}},o,n),this.add(a);var s=new rp({name:"label"});this.add(s),R(x_,function(t){var e=Ll(t,i,n);this.add(e),this[Pl(t)]=i.getItemVisual(n,t)},this),this._updateCommonStl(i,n,t)},w_.updateData=function(r,o,t){var e=r.hostModel,i=this.childOfName("line"),n=r.getItemLayout(o),a={shape:{}};Ol(a.shape,n),_n(i,a,e,o),R(x_,function(t){var e=r.getItemVisual(o,t),i=Pl(t);if(this[i]!==e){this.remove(this.childOfName(t));var n=Ll(t,r,o);this.add(n)}this[i]=e},this),this._updateCommonStl(r,o,t)},w_._updateCommonStl=function(t,e,i){var n=t.hostModel,r=this.childOfName("line"),o=i&&i.lineStyle,a=i&&i.hoverLineStyle,s=i&&i.labelModel,l=i&&i.hoverLabelModel;if(!i||t.hasItemOption){var h=t.getItemModel(e);o=h.getModel("lineStyle").getLineStyle(),a=h.getModel("emphasis.lineStyle").getLineStyle(),s=h.getModel("label"),l=h.getModel("emphasis.label")}var u=t.getItemVisual(e,"color"),c=L(t.getItemVisual(e,"opacity"),o.opacity,1);r.useStyle(T({strokeNoScale:!0,fill:"none",stroke:u,opacity:c},o)),r.hoverStyle=a,R(x_,function(t){var e=this.childOfName(t);e&&(e.setColor(u),e.setStyle({opacity:c}))},this);var d,f,p=s.getShallow("show"),g=l.getShallow("show"),m=this.childOfName("label");if((p||g)&&(d=u||"#000",null==(f=n.getFormattedLabel(e,"normal",t.dataType)))){var v=n.getRawValue(e);f=null==v?t.getName(e):isFinite(v)?On(v):v}var y=p?f:null,_=g?P(n.getFormattedLabel(e,"emphasis",t.dataType),f):null,x=m.style;null==y&&null==_||(dn(m.style,s,{text:y},{autoColor:d}),m.__textAlign=x.textAlign,m.__verticalAlign=x.textVerticalAlign,m.__position=s.get("position")||"middle"),m.hoverStyle=null!=_?{text:_,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},m.ignore=!p&&!g,un(this)},w_.highlight=function(){this.trigger("emphasis")},w_.downplay=function(){this.trigger("normal")},w_.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},w_.setLinePoints=function(t){var e=this.childOfName("line");Ol(e.shape,t),e.dirty()},o(zl,Kc);var b_=El.prototype;b_.isPersistent=function(){return!0},b_.updateData=function(l){var h=this,e=h.group,u=h._lineData;h._lineData=l,u||e.removeAll();var c=Nl(l);l.diff(u).add(function(t){!function(t,e,i,n){if(Bl(e.getItemLayout(i))){var r=new t._ctor(e,i,n);e.setItemGraphicEl(i,r),t.group.add(r)}}(h,l,t,c)}).update(function(t,e){var i,n,r,o,a,s;i=h,n=l,r=e,o=t,a=c,s=u.getItemGraphicEl(r),Bl(n.getItemLayout(o))?(s?s.updateData(n,o,a):s=new i._ctor(n,o,a),n.setItemGraphicEl(o,s),i.group.add(s)):i.group.remove(s)}).remove(function(t){e.remove(u.getItemGraphicEl(t))}).execute()},b_.updateLayout=function(){var i=this._lineData;i&&i.eachItemGraphicEl(function(t,e){t.updateLayout(i,e)},this)},b_.incrementalPrepareUpdate=function(t){this._seriesScope=Nl(t),this._lineData=null,this.group.removeAll()},b_.incrementalUpdate=function(t,e){for(var i=t.start;i<t.end;i++)if(Bl(e.getItemLayout(i))){var n=new this._ctor(e,i,this._seriesScope);n.traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(n),e.setItemGraphicEl(i,n)}},b_.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},b_._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var S_=function(t,e,i,n){var r=t.getData(),o=n.type;if(!O(n)&&("min"===o||"max"===o||"average"===o||"median"===o||null!=n.xAxis||null!=n.yAxis)){var a,s;if(null!=n.yAxis||null!=n.xAxis)a=null!=n.yAxis?"y":"x",e.getAxis(a),s=k(n.yAxis,n.xAxis);else{var l=Il(n,r,e,t);a=l.valueDataDim,l.valueAxis,s=Dl(r,a,o)}var h="x"===a?0:1,u=1-h,c=b(n),d={};c.type=null,c.coord=[],d.coord=[],c.coord[u]=-1/0,d.coord[u]=1/0;var f=i.get("precision");0<=f&&"number"==typeof s&&(s=+s.toFixed(Math.min(f,20))),c.coord[h]=d.coord[h]=s,n=[c,d,{type:o,valueIndex:n.valueIndex,value:s}]}return(n=[Ml(t,n[0]),Ml(t,n[1]),D({},n[2])])[2].type=n[2].type||"",p(n[2],n[0]),p(n[2],n[1]),n};m_.extend({type:"markLine",updateTransform:function(t,e,o){e.eachSeries(function(e){var t=e.markLineModel;if(t){var i=t.getData(),n=t.__from,r=t.__to;n.each(function(t){Gl(n,t,!0,e,o),Gl(r,t,!1,e,o)}),i.each(function(t){i.setItemLayout(t,[n.getItemLayout(t),r.getItemLayout(t)])}),this.markerGroupMap.get(e.id).updateLayout()}},this)},renderSeries:function(r,i,t,o){function e(t,e,i){var n=t.getItemModel(e);Gl(t,e,i,r,o),t.setItemVisual(e,{symbolSize:n.get("symbolSize")||g[i?0:1],symbol:n.get("symbol",!0)||p[i?0:1],color:n.get("itemStyle.color")||s.getVisual("color")})}var n=r.coordinateSystem,a=r.id,s=r.getData(),l=this.markerGroupMap,h=l.get(a)||l.set(a,new El);this.group.add(h.group);var u=function(t,e,i){var n;n=t?A(t&&t.dimensions,function(t){return T({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var r=new Zm(n,i),o=new Zm(n,i),a=new Zm([],i),s=A(i.get("data"),v(S_,e,t,i));t&&(s=m(s,v(Hl,t)));var l=t?Tl:function(t){return t.value};return r.initData(A(s,function(t){return t[0]}),null,l),o.initData(A(s,function(t){return t[1]}),null,l),a.initData(A(s,function(t){return t[2]})),a.hasItemOption=!0,{from:r,to:o,line:a}}(n,r,i),c=u.from,d=u.to,f=u.line;i.__from=c,i.__to=d,i.setData(f);var p=i.get("symbol"),g=i.get("symbolSize");O(p)||(p=[p,p]),"number"==typeof g&&(g=[g,g]),u.from.each(function(t){e(c,t,!0),e(d,t,!1)}),f.each(function(t){var e=f.getItemModel(t).get("lineStyle.color");f.setItemVisual(t,{color:e||c.getItemVisual(t,"color")}),f.setItemLayout(t,[c.getItemLayout(t),d.getItemLayout(t)]),f.setItemVisual(t,{fromSymbolSize:c.getItemVisual(t,"symbolSize"),fromSymbol:c.getItemVisual(t,"symbol"),toSymbolSize:d.getItemVisual(t,"symbolSize"),toSymbol:d.getItemVisual(t,"symbol")})}),h.updateData(f),u.line.eachItemGraphicEl(function(t,e){t.traverse(function(t){t.dataModel=i})}),h.__keep=!0,h.group.silent=i.get("silent")||r.get("silent")}}),Oo(function(t){t.markLine=t.markLine||{}}),d_.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});var M_=function(t,e,i,n){var r=Ml(t,n[0]),o=Ml(t,n[1]),a=k,s=r.coord,l=o.coord;s[0]=a(s[0],-1/0),s[1]=a(s[1],-1/0),l[0]=a(l[0],1/0),l[1]=a(l[1],1/0);var h=u([{},r,o]);return h.coord=[r.coord,o.coord],h.x0=r.x,h.y0=r.y,h.x1=o.x,h.y1=o.y,h},I_=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];m_.extend({type:"markArea",updateTransform:function(t,e,r){e.eachSeries(function(i){var t=i.markAreaModel;if(t){var n=t.getData();n.each(function(e){var t=A(I_,function(t){return Xl(n,e,t,i,r)});n.setItemLayout(e,t),n.getItemGraphicEl(e).setShape("points",t)})}},this)},renderSeries:function(i,a,t,n){var e=i.coordinateSystem,r=i.id,o=i.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new Kc});this.group.add(l.group),l.__keep=!0;var h=function(t,i,e){var n,r;r=t?(n=A(t&&t.dimensions,function(t){var e=i.getData();return T({name:t},e.getDimensionInfo(e.mapDimension(t))||{})}),new Zm(A(["x0","y0","x1","y1"],function(t,e){return{name:t,type:n[e%2].type}}),e)):new Zm(n=[{name:"value",type:"float"}],e);var o=A(e.get("data"),v(M_,i,t,e));t&&(o=m(o,v(Ul,t)));var a=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return r.initData(o,null,a),r.hasItemOption=!0,r}(e,i,a);a.setData(h),h.each(function(e){h.setItemLayout(e,A(I_,function(t){return Xl(h,e,t,i,n)})),h.setItemVisual(e,{color:o.getVisual("color")})}),h.diff(l.__data).add(function(t){var e=new up({shape:{points:h.getItemLayout(t)}});h.setItemGraphicEl(t,e),l.group.add(e)}).update(function(t,e){var i=l.__data.getItemGraphicEl(e);_n(i,{shape:{points:h.getItemLayout(t)}},a,t),l.group.add(i),h.setItemGraphicEl(t,i)}).remove(function(t){var e=l.__data.getItemGraphicEl(t);l.group.remove(e)}).execute(),h.eachItemGraphicEl(function(t,e){var i=h.getItemModel(e),n=i.getModel("label"),r=i.getModel("emphasis.label"),o=h.getItemVisual(e,"color");t.useStyle(T(i.getModel("itemStyle").getItemStyle(),{fill:Dt(o,.4),stroke:o})),t.hoverStyle=i.getModel("emphasis.itemStyle").getItemStyle(),cn(t.style,t.hoverStyle,n,r,{labelFetcher:a,labelDataIndex:e,defaultText:h.getName(e)||"",isRectText:!0,autoColor:o}),un(t,{}),t.dataModel=a}),l.__data=h,l.group.silent=a.get("silent")||i.get("silent")}}),Oo(function(t){t.markArea=t.markArea||{}}),Jp.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var C_,T_,D_,A_,k_=["cartesian2d","polar","singleAxis"],P_=(T_=["axisIndex","axis","index","id"],D_=A(C_=(C_=["x","y","z","radius","angle","single"]).slice(),Qn),A_=A(T_=(T_||[]).slice(),Qn),function(r,o){R(C_,function(t,e){for(var i={name:t,capital:D_[e]},n=0;n<T_.length;n++)i[T_[n]]=t+A_[n];r.call(o,i)})}),L_=R,O_=zn,z_=function(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i};z_.prototype={constructor:z_,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var r=[],o=this.ecModel;return o.eachSeries(function(t){if(n=t.get("coordinateSystem"),0<=f(k_,n)){var e=this._dimName,i=o.queryComponents({mainType:e+"Axis",index:t.get(e+"AxisIndex"),id:t.get(e+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&r.push(t)}var n},this),r},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,i,n=this._dimName,r=this.ecModel,o=this.getAxisModel();return t="x"===n||"y"===n?(e="gridIndex","x"===n?"y":"x"):(e="polarIndex","angle"===n?"radius":"angle"),r.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(i=t)}),i},getMinMaxSpan:function(){return b(this._minMaxSpan)},calculateDataWindow:function(e){var n=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[e.start,e.end],l=[];return L_(["startValue","endValue"],function(t){l.push(null!=e[t]?r.parse(e[t]):null)}),L_([0,1],function(t){var e=l[t],i=s[t];"percent"===o[t]?(null==i&&(i=a[t]),e=r.parse(Pn(i,a,n,!0))):i=Pn(e,n,a,!0),l[t]=e,s[t]=i}),{valueWindow:O_(l),percentWindow:O_(s)}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=jl(this,this._dimName,e);var i=this.calculateDataWindow(t.option);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,r=(n=this)._minMaxSpan={},o=n._dataZoomModel,L_(["min","max"],function(t){r[t+"Span"]=o.get(t+"Span");var e=o.get(t+"ValueSpan");if(null!=e&&(r[t+"ValueSpan"]=e,null!=(e=n.getAxisModel().axis.scale.parse(e)))){var i=n._dataExtent;r[t+"Span"]=Pn(i[0]+e,i,[0,100],!0)}}),Yl(this)}var n,r,o},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Yl(this,!0))},filterData:function(t,e){if(t===this._dataZoomModel){var n=this._dimName,i=this.getTargetSeriesModels(),r=t.get("filterMode"),c=this._valueWindow;"none"!==r&&L_(i,function(i){var h=i.getData(),u=h.mapDimension(n,!0);"weakFilter"===r?h.filterSelf(function(t){for(var e,i,n,r=0;r<u.length;r++){var o=h.get(u[r],t),a=!isNaN(o),s=o<c[0],l=o>c[1];if(a&&!s&&!l)return!0;a&&(n=!0),s&&(e=!0),l&&(i=!0)}return n&&e&&i}):L_(u,function(t){if("empty"===r)i.setData(h.map(t,function(t){return(e=t)>=c[0]&&e<=c[1]?t:NaN;var e}));else{var e={};e[t]=c,h.selectRange(e)}}),L_(u,function(t){h.setApproximateExtent(c,t)})})}}};var E_=R,N_=P_,R_=Fo({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=ql(t);this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=ql(t);p(this.option,t,!0),this.doInit(e)},doInit:function(t){var i=this.option;ju.canvasSupported||(i.realtime=!1),this._setDefaultThrottle(t),$l(this,t),E_([["start","startValue"],["end","endValue"]],function(t,e){"value"===this._rangePropMode[e]&&(i[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(t,e,i,n){var r=this.dependentModels[t.axis][e],o=r.__dzAxisProxy||(r.__dzAxisProxy=new z_(t.name,e,this,n));a[t.name+"_"+e]=o},this)},_resetTarget:function(){var i=this.option,t=this._judgeAutoMode();N_(function(t){var e=t.axisIndex;i[e]=Ye(i[e])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,i=!1;N_(function(t){null!=e[t.axisIndex]&&(i=!0)},this);var t=e.orient;return null==t&&i?"orient":i?void 0:(null==t&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var o=!0,e=this.get("orient",!0),a=this.option,t=this.dependentModels;if(o){var i="vertical"===e?"y":"x";t[i+"Axis"].length?(a[i+"AxisIndex"]=[0],o=!1):E_(t.singleAxis,function(t){o&&t.get("orient",!0)===e&&(a.singleAxisIndex=[t.componentIndex],o=!1)})}o&&N_(function(t){if(o){var e=[],i=this.dependentModels[t.axis];if(i.length&&!e.length)for(var n=0,r=i.length;n<r;n++)"category"===i[n].get("type")&&e.push(n);(a[t.axisIndex]=e).length&&(o=!1)}},this),o&&this.ecModel.eachSeries(function(r){this._isSeriesHasAllAxesTypeOf(r,"value")&&N_(function(t){var e=a[t.axisIndex],i=r.get(t.axisIndex),n=r.get(t.axisId);f(e,i=r.ecModel.queryComponents({mainType:t.axis,index:i,id:n})[0].componentIndex)<0&&e.push(i)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,r){var o=!0;return N_(function(t){var e=n.get(t.axisIndex),i=this.dependentModels[t.axis][e];i&&i.get("type")===r||(o=!1)},this),o},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&0<e.animationDurationUpdate?100:20}},getFirstTargetAxisModel:function(){var i;return N_(function(t){if(null==i){var e=this.get(t.axisIndex);e.length&&(i=this.dependentModels[t.axis][e[0]])}},this),i},eachTargetAxis:function(i,n){var r=this.ecModel;N_(function(e){E_(this.get(e.axisIndex),function(t){i.call(n,e,t,this,r)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var i=this.getAxisProxy(t,e);return i&&i.getAxisModel()},setRawRange:function(e,t){var i=this.option;E_([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(i[t[0]]=e[t[0]],i[t[1]]=e[t[1]])},this),!t&&$l(this,e)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var i in e)if(e.hasOwnProperty(i)&&e[i].hostedBy(this))return e[i];for(var i in e)if(e.hasOwnProperty(i)&&!e[i].hostedBy(this))return e[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),B_=Fg.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){var t=this.dataZoomModel,r=this.ecModel,o={};return t.eachTargetAxis(function(t,e){var i=r.getComponent(t.axis,e);if(i){var n=i.getCoordSysModel();n&&function(t,e,i,n){for(var r,o=0;o<i.length;o++)if(i[o].model===t){r=i[o];break}r||i.push(r={model:t,axisModels:[],coordIndex:n}),r.axisModels.push(e)}(n,i,o[n.mainType]||(o[n.mainType]=[]),n.componentIndex)}},this),o}}),V_=(R_.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),function(t,e,i,n,r,o){e[0]=Ql(e[0],i),e[1]=Ql(e[1],i),t=t||0;var a=i[1]-i[0];null!=r&&(r=Ql(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===n&&(r=o=Math.abs(e[1]-e[0]),n=0);var s=Kl(e,n);e[n]+=t;var l=r||0,h=i.slice();s.sign<0?h[0]+=l:h[1]-=l,e[n]=Ql(e[n],h),u=Kl(e,n),null!=r&&(u.sign!==s.sign||u.span<r)&&(e[1-n]=e[n]+s.sign*r);var u=Kl(e,n);return null!=o&&u.span>o&&(e[1-n]=e[n]+u.sign*o),e}),F_=dp,H_=Pn,G_=zn,W_=x,Z_=R,U_="horizontal",X_=["line","bar","candlestick","scatter"],j_=B_.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){j_.superApply(this,"render",arguments),Jr(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){j_.superApply(this,"remove",arguments),to(this,"_dispatchZoomAction")},dispose:function(){j_.superApply(this,"dispose",arguments),to(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new Kc;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),n={width:e.getWidth(),height:e.getHeight()},r=this._orient===U_?{right:n.width-i.x-i.width,top:n.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},o=nr(t.option);R(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=r[t])});var a=tr(o,n,t.padding);this._location={x:a.x,y:a.y},this._size=[a.width,a.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),r=n&&n.get("inverse"),o=this._displayables.barGroup,a=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(i!==U_||r?i===U_&&r?{scale:a?[-1,1]:[-1,-1]}:"vertical"!==i||r?{scale:a?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:a?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:a?[1,1]:[1,-1]});var s=t.getBoundingRect([o]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new F_({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new F_({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:x(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,i=t.series,n=i.getRawData(),r=i.getShadowDim?i.getShadowDim():t.otherDim;if(null!=r){var o=n.getDataExtent(r),a=.3*(o[1]-o[0]);o=[o[0]-a,o[1]+a];var s,l=[0,e[1]],h=[0,e[0]],u=[[e[0],0],[0,0]],c=[],d=h[1]/(n.count()-1),f=0,p=Math.round(n.count()/e[0]);n.each([r],function(t,e){if(0<p&&e%p)f+=d;else{var i=null==t||isNaN(t)||""===t,n=i?0:H_(t,o,l,!0);i&&!s&&e?(u.push([u[u.length-1][0],0]),c.push([c[c.length-1][0],0])):!i&&s&&(u.push([f,0]),c.push([f,0])),u.push([f,n]),c.push([f,n]),f+=d,s=i}});var g=this.dataZoomModel;this._displayables.barGroup.add(new up({shape:{points:u},style:T({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new cp({shape:{points:c},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,s=t.get("showDataShadow");if(!1!==s){var l,h=this.ecModel;return t.eachTargetAxis(function(o,a){R(t.getAxisProxy(o.name,a).getTargetSeriesModels(),function(t){if(!(l||!0!==s&&f(X_,t.get("type"))<0)){var e,i=h.getComponent(o.axis,a).axis,n={x:"y",y:"x",radius:"angle",angle:"radius"}[o.name],r=t.coordinateSystem;null!=n&&r.getOtherAxis&&(e=r.getOtherAxis(i).inverse),n=t.getData().mapDimension(n),l={thisAxis:i,series:t,thisDim:o.name,otherDim:n,otherAxisInverse:e}}},this)},this),l}},_renderHandle:function(){var t=this._displayables,o=t.handles=[],a=t.handleLabels=[],s=this._displayables.barGroup,e=this._size,l=this.dataZoomModel;s.add(t.filler=new F_({draggable:!0,cursor:Jl(this._orient),drift:W_(this._onDragMove,this,"all"),onmousemove:function(t){Td(t.event)},ondragstart:W_(this._showDataInfo,this,!0),ondragend:W_(this._onDragEnd,this),onmouseover:W_(this._showDataInfo,this,!0),onmouseout:W_(this._showDataInfo,this,!1),style:{fill:l.get("fillerColor"),textPosition:"inside"}})),s.add(new F_(qi({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:l.get("dataBackgroundColor")||l.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),Z_([0,1],function(t){var e=Cn(l.get("handleIcon"),{cursor:Jl(this._orient),draggable:!0,drift:W_(this._onDragMove,this,t),onmousemove:function(t){Td(t.event)},ondragend:W_(this._onDragEnd,this),onmouseover:W_(this._showDataInfo,this,!0),onmouseout:W_(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),i=e.getBoundingRect();this._handleHeight=Ln(l.get("handleSize"),this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,e.setStyle(l.getModel("handleStyle").getItemStyle());var n=l.get("handleColor");null!=n&&(e.style.fill=n),s.add(o[t]=e);var r=l.textStyleModel;this.group.add(a[t]=new rp({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:r.getTextColor(),textFont:r.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[H_(t[0],[0,100],e,!0),H_(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,r=this._getViewExtent(),o=i.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];V_(e,n,r,i.get("zoomLock")?"all":t,null!=o.minSpan?H_(o.minSpan,a,r,!0):null,null!=o.maxSpan?H_(o.maxSpan,a,r,!0):null);var s=this._range,l=this._range=G_([H_(n[0],r,a,!0),H_(n[1],r,a,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var n=this._displayables,r=this._handleEnds,e=G_(r.slice()),o=this._size;Z_([0,1],function(t){var e=n.handles[t],i=this._handleHeight;e.attr({scale:[i/2,i/2],position:[r[t],o[1]/2-i/2]})},this),n.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=wn(o.handles[t].parent,this.group),i=Sn(0===t?"right":"left",e),n=this._handleWidth/2+5,r=bn([c[t]+(0===t?-n:n),this._size[1]/2],e);a[t].setStyle({x:r[0],y:r[1],textVerticalAlign:s===U_?"middle":i,textAlign:s===U_?i:"center",text:l[t]})}var i=this.dataZoomModel,o=this._displayables,a=o.handleLabels,s=this._orient,l=["",""];if(i.get("showDetail")){var n=i.findRepresentativeAxisProxy();if(n){var r=n.getAxisModel().axis,h=this._range,u=t?n.calculateDataWindow({start:h[0],end:h[1]}).valueWindow:n.getDataValueWindow();l=[this._formatLabel(u[0],r),this._formatLabel(u[1],r)]}}var c=G_(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),r=i.get("labelPrecision");null!=r&&"auto"!==r||(r=e.getPixelPrecision());var o=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(r,20));return y(n)?n(t,o):S(n)?n.replace("{value}",o):o},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i){this._dragging=!0;var n=bn([e,i],this._displayables.barGroup.getLocalTransform(),!0),r=this._updateInterval(t,n[0]),o=this.dataZoomModel.get("realtime");this._updateView(!o),r&&o&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,i=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(i[0]<0||i[0]>e[0]||i[1]<0||i[1]>e[1])){var n=this._handleEnds,r=(n[0]+n[1])/2,o=this._updateInterval("all",i[0]-r);this._updateView(),o&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var i;if(Z_(this.getTargetCoordInfo(),function(t){if(!i&&t.length){var e=t[0].model.coordinateSystem;i=e.getRect&&e.getRect()}}),!i){var t=this.api.getWidth(),e=this.api.getHeight();i={x:.2*t,y:.2*e,width:.6*t,height:.6*e}}return i}});R_.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!0}});var Y_="\0_ec_interaction_mutex";Eo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),r(ih,gc);var q_=v,$_="\0_ec_dataZoom_roams",K_=x,Q_=B_.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(o,t,a,e){Q_.superApply(this,"render",arguments),this._range=o.getPercentRange(),R(this.getTargetCoordInfo(),function(t,i){var r=A(t,function(t){return ch(t.model)});R(t,function(t){var n=t.model,e=o.option;uh(a,{coordId:ch(n),allCoordIds:r,containsPoint:function(t,e,i){return n.coordinateSystem.containPoint([e,i])},dataZoomId:o.id,throttleRate:o.get("throttle",!0),panGetRange:K_(this._onPan,this,t,i),zoomGetRange:K_(this._onZoom,this,t,i),zoomLock:e.zoomLock,disabled:e.disabled,roamControllerOpt:{zoomOnMouseWheel:e.zoomOnMouseWheel,moveOnMouseMove:e.moveOnMouseMove,preventDefaultMouseMove:e.preventDefaultMouseMove}})},this)},this)},dispose:function(){var t,i,e;t=this.api,i=this.dataZoomModel.id,R(e=dh(t),function(t){t.controller.dispose();var e=t.dataZoomInfos;e[i]&&(delete e[i],t.count--)}),fh(e),Q_.superApply(this,"dispose",arguments),this._range=null},_onPan:function(t,e,i,n,r,o,a,s,l){var h=this._range,u=h.slice(),c=t.axisModels[0];if(c){var d=J_[e]([o,a],[s,l],c,i,t),f=d.signal*(u[1]-u[0])*d.pixel/d.pixelLength;return V_(f,u,[0,100],"all"),this._range=u,h[0]!==u[0]||h[1]!==u[1]?u:void 0}},_onZoom:function(t,e,i,n,r,o){var a=this._range,s=a.slice(),l=t.axisModels[0];if(l){var h=J_[e](null,[r,o],l,i,t),u=(0<h.signal?h.pixelStart+h.pixelLength-h.pixel:h.pixel-h.pixelStart)/h.pixelLength*(s[1]-s[0])+s[0];n=Math.max(1/n,0),s[0]=(s[0]-u)*n+u,s[1]=(s[1]-u)*n+u;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return V_(0,s,[0,100],0,c.minSpan,c.maxSpan),this._range=s,a[0]!==s[0]||a[1]!==s[1]?s:void 0}}}),J_={grid:function(t,e,i,n,r){var o=i.axis,a={},s=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(a.pixel=e[0]-t[0],a.pixelLength=s.width,a.pixelStart=s.x,a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=s.height,a.pixelStart=s.y,a.signal=o.inverse?-1:1),a},polar:function(t,e,i,n,r){var o=i.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),h=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=h[1]-h[0],a.pixelStart=h[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,i,n,r){var o=i.axis,a=r.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===o.orient?(s.pixel=e[0]-t[0],s.pixelLength=a.width,s.pixelStart=a.x,s.signal=o.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=a.height,s.pixelStart=a.y,s.signal=o.inverse?-1:1),s}};zo({getTargetSeries:function(t){var n=N();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,i){R(i.getAxisProxy(t.name,e).getTargetSeriesModels(),function(t){n.set(t.uid,t)})})}),n},modifyOutputEnd:!0,overallReset:function(t,n){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).reset(i,n)}),t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).filterData(i,n)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),n=e.getDataValueWindow();t.setRawRange({start:i[0],end:i[1],startValue:n[0],endValue:n[1]},!0)})}}),Eo("dataZoom",function(i,t){var n=function(e,s,l){function h(t,i){i.nodes.push(t),s(function(e){R(l(t,e)||[],function(t){i.records[e.name][t]=!0})})}return function(t){var o,a={nodes:[],records:{}};if(s(function(t){a.records[t.name]={}}),!t)return a;for(h(t,a);o=!1,e(function(t){var i,n,r,e;e=t,!(0<=f(a.nodes,e))&&(i=t,n=a,r=!1,s(function(e){R(l(i,e)||[],function(t){n.records[e.name][t]&&(r=!0)})}),r)&&(h(t,a),o=!0)}),o;);return a}}(x(t.eachComponent,t,"dataZoom"),P_,function(t,e){return t.get(e.axisIndex)}),r=[];t.eachComponent({mainType:"dataZoom",query:i},function(t,e){r.push.apply(r,n(t).nodes)}),R(r,function(t,e){t.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})});var tx={},ex=Fo({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){ex.superApply(this,"optionUpdated",arguments),R(this.option.feature,function(t,e){var i=_h(e);i&&p(t,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});Ho({type:"toolbox",render:function(u,c,d,s){function t(t,e){var i,n=m[t],r=m[e],o=new Tn(h[n],u,u.ecModel);if(n&&!r){if(0===n.indexOf("my"))i={model:o,onclick:o.option.onclick,featureName:n};else{var a=_h(n);if(!a)return;i=new a(o,c,d)}g[n]=i}else{if(!(i=g[r]))return;i.model=o,i.ecModel=c,i.api=d}n||!r?o.get("show")&&!i.unusable?(function(n,r,t){var o=n.getModel("iconStyle"),a=n.getModel("emphasis.iconStyle"),e=r.getIcons?r.getIcons():n.get("icon"),s=n.get("title")||{};if("string"==typeof e){var i=e,l=s;s={},(e={})[t]=i,s[t]=l}var h=n.iconPaths={};R(e,function(t,e){var i=Cn(t,{},{x:-p/2,y:-p/2,width:p,height:p});i.setStyle(o.getItemStyle()),i.hoverStyle=a.getItemStyle(),un(i),u.get("showTitle")&&(i.__title=s[e],i.on("mouseover",function(){var t=a.getItemStyle();i.setStyle({text:s[e],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){i.setStyle({textFill:null})})),i.trigger(n.get("iconStatus."+e)||"normal"),f.add(i),i.on("click",x(r.onclick,r,c,d,e)),h[e]=i})}(o,i,n),o.setIconStatus=function(t,e){var i=this.option,n=this.iconPaths;i.iconStatus=i.iconStatus||{},i.iconStatus[t]=e,n[t]&&n[t].trigger(e)},i.render&&i.render(o,c,d,s)):i.remove&&i.remove(c,d):i.dispose&&i.dispose(c,d)}var e,i,n,r,o,a,l,f=this.group;if(f.removeAll(),u.get("show")){var p=+u.get("itemSize"),h=u.get("feature")||{},g=this._features||(this._features={}),m=[];R(h,function(t,e){m.push(e)}),new Uo(this._featureNames||[],m).add(t).update(t).remove(v(t,null)).execute(),this._featureNames=m,e=f,n=d,r=(i=u).getBoxLayoutParams(),o=i.get("padding"),a={width:n.getWidth(),height:n.getHeight()},l=tr(r,a,o),$p(i.get("orient"),e,i.get("itemGap"),l.width,l.height),er(e,r,a,o),f.add(vl(f.getBoundingRect(),u)),f.eachChild(function(t){var e=t.__title,i=t.hoverStyle;if(i&&e){var n=ne(e,ge(i)),r=t.position[0]+f.position[0],o=!1;t.position[1]+f.position[1]+p+n.height>d.getHeight()&&(i.textPosition="top",o=!0);var a=o?-5-n.height:p+8;r+n.width/2>d.getWidth()?(i.textPosition=["100%",a],i.textAlign="right"):r-n.width/2<0&&(i.textPosition=[0,a],i.textAlign="left")}})}},updateView:function(t,e,i,n){R(this._features,function(t){t.updateView&&t.updateView(t.model,e,i,n)})},remove:function(e,i){R(this._features,function(t){t.remove&&t.remove(e,i)}),this.group.removeAll()},dispose:function(e,i){R(this._features,function(t){t.dispose&&t.dispose(e,i)})}});var ix=Kg.toolbox.saveAsImage;xh.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:ix.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:ix.lang.slice()},xh.prototype.unusable=!ju.canvasSupported,xh.prototype.onclick=function(t,e){var i=this.model,n=i.get("name")||t.get("title.0.text")||"echarts",r=document.createElement("a"),o=i.get("type",!0)||"png";r.download=n+"."+o,r.target="_blank";var a=e.getConnectedDataURL({type:o,backgroundColor:i.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")});if(r.href=a,"function"!=typeof MouseEvent||ju.browser.ie||ju.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var s=atob(a.split(",")[1]),l=s.length,h=new Uint8Array(l);l--;)h[l]=s.charCodeAt(l);var u=new Blob([h]);window.navigator.msSaveOrOpenBlob(u,n+"."+o)}else{var c=i.get("lang"),d='<body style="margin:0;"><img src="'+a+'" style="max-width:100%;" title="'+(c&&c[0]||"")+'" /></body>';window.open().document.write(d)}else{var f=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(f)}},yh("saveAsImage",xh);var nx=Kg.toolbox.magicType;wh.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:b(nx.title),option:{},seriesIndex:{}};var rx=wh.prototype;rx.getIcons=function(){var t=this.model,e=t.get("icon"),i={};return R(t.get("type"),function(t){e[t]&&(i[t]=e[t])}),i};var ox={line:function(t,e,i,n){if("bar"===t)return p({id:e,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.line")||{},!0)},bar:function(t,e,i,n){if("line"===t)return p({id:e,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},n.get("option.bar")||{},!0)},stack:function(t,e,i,n){if("line"===t||"bar"===t)return p({id:e,stack:"__ec_magicType_stack__"},n.get("option.stack")||{},!0)},tiled:function(t,e,i,n){if("line"===t||"bar"===t)return p({id:e,stack:""},n.get("option.tiled")||{},!0)}},ax=[["line","bar"],["stack","tiled"]];rx.onclick=function(h,t,u){var c=this.model,e=c.get("seriesIndex."+u);if(ox[u]){var d={series:[]};R(ax,function(t){0<=f(t,u)&&R(t,function(t){c.setIconStatus(t,"normal")})}),c.setIconStatus(u,"emphasis"),h.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(t){var e=t.subType,i=t.id,n=ox[u](e,i,t,c);n&&(T(n,t.option),d.series.push(n));var r=t.coordinateSystem;if(r&&"cartesian2d"===r.type&&("line"===u||"bar"===u)){var o=r.getAxesByScale("ordinal")[0];if(o){var a=o.dim+"Axis",s=h.queryComponents({mainType:a,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;d[a]=d[a]||[];for(var l=0;l<=s;l++)d[a][s]=d[a][s]||{};d[a][s].boundaryGap="bar"===u}}}),t.dispatchAction({type:"changeMagicType",currentType:u,newOption:d})}},Eo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),yh("magicType",wh);var sx=Kg.toolbox.dataView,lx=new Array(60).join("-"),hx="\t",ux=new RegExp("["+hx+"]+","g");Ih.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:b(sx.title),lang:b(sx.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},Ih.prototype.onclick=function(t,e){function i(){n.removeChild(o),_._dom=null}var n=e.getDom(),r=this.model;this._dom&&n.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=r.get("lang")||[];a.innerHTML=s[0]||r.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=r.get("textColor");var l=document.createElement("div"),h=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var u=r.get("optionToContent"),c=r.get("contentToOption"),d=bh(t);if("function"==typeof u){var f=u(e.getOption());"string"==typeof f?l.innerHTML=f:w(f)&&l.appendChild(f)}else l.appendChild(h),h.readOnly=r.get("readOnly"),h.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",h.style.color=r.get("textColor"),h.style.borderColor=r.get("textareaBorderColor"),h.style.backgroundColor=r.get("textareaColor"),h.value=d.value;var p=d.meta,g=document.createElement("div");g.style.cssText="position:absolute;bottom:0;left:0;right:0;";var m="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",v=document.createElement("div"),y=document.createElement("div");m+=";background-color:"+r.get("buttonColor"),m+=";color:"+r.get("buttonTextColor");var _=this;Be(v,"click",i),Be(y,"click",function(){var t;try{t="function"==typeof c?c(l,e.getOption()):Mh(h.value,p)}catch(t){throw i(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),i()}),v.innerHTML=s[1],y.innerHTML=s[2],y.style.cssText=m,v.style.cssText=m,!r.get("readOnly")&&g.appendChild(y),g.appendChild(v),Be(h,"keydown",function(t){if(9===(t.keyCode||t.which)){var e=this.value,i=this.selectionStart,n=this.selectionEnd;this.value=e.substring(0,i)+hx+e.substring(n),this.selectionStart=this.selectionEnd=i+1,Td(t)}}),o.appendChild(a),o.appendChild(l),o.appendChild(g),l.style.height=n.clientHeight-80+"px",n.appendChild(o),this._dom=o},Ih.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},Ih.prototype.dispose=function(t,e){this.remove(t,e)},yh("dataView",Ih),Eo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,o){var a=[];R(t.newOption.series,function(t){var e,n,i=o.getSeriesByName(t.name)[0];if(i){var r=i.get("data");a.push({name:t.name,data:(e=t.data,n=r,A(e,function(t,e){var i=n&&n[e];return E(i)&&!O(i)?(E(t)&&!O(t)&&(t=t.value),T({value:t},i)):t}))})}else a.push(D({type:"scatter"},t))}),o.mergeOption(T({series:a},t.newOption))});var cx=v,dx=R,fx=A,px=Math.min,gx=Math.max,mx=Math.pow,vx=1e4,yx=6,_x=6,xx="globalPan",bx={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Sx={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},Mx={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},Ix=0;Ch.prototype={constructor:Ch,enableBrush:function(t){return this._brushType&&Dh(this),t.brushType&&Th(this,t),this},setPanels:function(t){if(t&&t.length){var e=this._panels={};R(t,function(t){e[t.panelId]=b(t)})}else this._panels=null;return this},mount:function(t){t=t||{},this._enableGlobalPan=t.enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){dx(this._covers,t,e)},updateCovers:function(r){function i(t,e){return(null!=t.id?t.id:n+e)+"-"+t.brushType}function t(t,e){var i=r[t];if(null!=e&&o[e]===l)a[t]=o[e];else{var n=a[t]=null!=e?(o[e].__brushOption=i,o[e]):kh(s,Ah(s,i));Oh(s,n)}}r=A(r,function(t){return p(b(Mx),t,!0)});var n="\0-brush-index-",o=this._covers,a=this._covers=[],s=this,l=this._creatingCover;return new Uo(o,r,function(t,e){return i(t.__brushOption,e)},i).add(t).update(t).remove(function(t){o[t]!==l&&s.group.remove(o[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),Rh(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},r(Ch,gc);var Cx={mousedown:function(t){if(this._dragging)tu.call(this,t);else if(!t.target||!t.target.draggable){$h(t);var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=Eh(this,t,e))&&(this._dragging=!0,this._track=[e.slice()])}},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);if(function(t,e,i){if(t._brushType){var n=t._zr,r=t._covers,o=Eh(t,e,i);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&Tx[s.brushType].contain(r[a],i[0],i[1]))return}o&&n.setCursorStyle("crosshair")}}(this,t,e),this._dragging){$h(t);var i=Qh(this,t,e,!1);i&&Bh(this,i)}},mouseup:tu},Tx={lineX:eu(0),lineY:eu(1),rect:{createCover:function(t,e){return Fh(cx(Xh,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){var e=Vh(t);return Uh(e[1][0],e[1][1],e[0][0],e[0][1])},updateCoverShape:function(t,e,i,n){Hh(t,e,i,n)},updateCommon:Gh,contain:Kh},polygon:{createCover:function(t,e){var i=new Kc;return i.add(new cp({name:"main",style:Zh(e),silent:!0})),i},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new up({name:"main",draggable:!0,drift:cx(jh,t,e),ondragend:cx(Bh,t,{isEnd:!0})}))},updateCoverShape:function(t,e,i,n){e.childAt(0).setShape({points:qh(t,e,i)})},updateCommon:Gh,contain:Kh}},Dx={axisPointer:1,tooltip:1,brush:1},Ax=R,kx=f,Px=v,Lx=["dataToPoint","pointToData"],Ox=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],zx=ru.prototype;zx.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,i){if((t.coordRanges||(t.coordRanges=[])).push(e),!t.coordRange){t.coordRange=e;var n=Bx[t.brushType](0,i,e);t.__rangeOffset={offset:Vx[t.brushType](n.values,t.range,[1,1]),xyMinMax:n.xyMinMax}}})},zx.matchOutputRanges=function(t,n,r){Ax(t,function(i){var t=this.findTargetInfo(i,n);t&&!0!==t&&R(t.coordSyses,function(t){var e=Bx[i.brushType](1,t,i.range);r(i,e.values,t,n)})},this)},zx.setInputRanges=function(t,h){Ax(t,function(t){var e,i,n,r,o,a=this.findTargetInfo(t,h);if(t.range=t.range||[],a&&!0!==a){t.panelId=a.panelId;var s=Bx[t.brushType](0,a.coordSys,t.coordRange),l=t.__rangeOffset;t.range=l?Vx[t.brushType](s.values,l.offset,(e=s.xyMinMax,i=l.xyMinMax,n=hu(e),r=hu(i),o=[n[0]/r[0],n[1]/r[1]],isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o)):s.values}},this)},zx.makePanelOpts=function(n,a){return A(this._targetInfoList,function(t){var r,o,i,e=t.getPanelRect();return{panelId:t.panelId,defaultBrushType:a&&a(t),clipPath:(i=e,i=nu(i),function(t,e){return In(t,i)}),isTargetByCursor:iu(e,n,t.coordSysModel),getLinearBrushOtherExtent:(r=e,r=nu(r),function(t){var e=null!=o?o:t,i=e?r.width:r.height,n=e?r.x:r.y;return[n,n+(i||0)]})}})},zx.controlSeries=function(t,e,i){var n=this.findTargetInfo(t,i);return!0===n||n&&0<=kx(n.coordSyses,e.coordinateSystem)},zx.findTargetInfo=function(t,e){for(var i=this._targetInfoList,n=au(e,t),r=0;r<i.length;r++){var o=i[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(r=0;r<Nx.length;r++)if(Nx[r](n,o))return o}return!0};var Ex={grid:function(t,n){var r=t.xAxisModels,o=t.yAxisModels,e=t.gridModels,i=N(),a={},s={};(r||o||e)&&(Ax(r,function(t){var e=t.axis.grid.model;i.set(e.id,e),a[e.id]=!0}),Ax(o,function(t){var e=t.axis.grid.model;i.set(e.id,e),s[e.id]=!0}),Ax(e,function(t){i.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),i.each(function(t){var e=t.coordinateSystem,i=[];Ax(e.getCartesians(),function(t,e){(0<=kx(r,t.getAxis("x").model)||0<=kx(o,t.getAxis("y").model))&&i.push(t)}),n.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:i[0],coordSyses:i,getPanelRect:Rx.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,i){Ax(t.geoModels,function(t){var e=t.coordinateSystem;i.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:e,coordSyses:[e],getPanelRect:Rx.geo})})}},Nx=[function(t,e){var i=t.xAxisModel,n=t.yAxisModel,r=t.gridModel;return!r&&i&&(r=i.axis.grid.model),!r&&n&&(r=n.axis.grid.model),r&&r===e.gridModel},function(t,e){var i=t.geoModel;return i&&i===e.geoModel}],Rx={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(wn(t)),e}},Bx={lineX:Px(su,0),lineY:Px(su,1),rect:function(t,e,i){var n=e[Lx[t]]([i[0][0],i[1][0]]),r=e[Lx[t]]([i[0][1],i[1][1]]),o=[ou([n[0],r[0]]),ou([n[1],r[1]])];return{values:o,xyMinMax:o}},polygon:function(i,n,t){var r=[[1/0,-1/0],[1/0,-1/0]];return{values:A(t,function(t){var e=n[Lx[i]](t);return r[0][0]=Math.min(r[0][0],e[0]),r[1][0]=Math.min(r[1][0],e[1]),r[0][1]=Math.max(r[0][1],e[0]),r[1][1]=Math.max(r[1][1],e[1]),e}),xyMinMax:r}}},Vx={lineX:Px(lu,0),lineY:Px(lu,1),rect:function(t,e,i){return[[t[0][0]-i[0]*e[0][0],t[0][1]-i[0]*e[0][1]],[t[1][0]-i[1]*e[1][0],t[1][1]-i[1]*e[1][1]]]},polygon:function(t,i,n){return A(t,function(t,e){return[t[0]-n[0]*i[e][0],t[1]-n[1]*i[e][1]]})}},Fx=R,Hx="\0_ec_hist_store";R_.extend({type:"dataZoom.select"}),B_.extend({type:"dataZoom.select"});var Gx=Kg.toolbox.dataZoom,Wx=R;cu.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:b(Gx.title)};var Zx=cu.prototype;Zx.render=function(t,e,i,n){this.model=t,this.ecModel=e,this.api=i,function(t,e,i,n,r){var o=i._isZoomActive;n&&"takeGlobalCursor"===n.type&&(o="dataZoomSelect"===n.key&&n.dataZoomSelectActive),i._isZoomActive=o,t.setIconStatus("zoom",o?"emphasis":"normal");var a=new ru(du(t.option),e,{include:["grid"]});i._brushController.setPanels(a.makePanelOpts(r,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!o&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}})}(t,e,this,n,i),fu(t,e)},Zx.onclick=function(t,e,i){Ux[i].call(this)},Zx.remove=function(t,e){this._brushController.unmount()},Zx.dispose=function(t,e){this._brushController.dispose()};var Ux={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var n=uu(t),e=n[n.length-1];1<n.length&&n.pop();var r={};return Fx(e,function(t,e){for(var i=n.length-1;0<=i;i--)if(t=n[i][e]){r[e]=t;break}}),r}(this.ecModel))}};Zx._onBrush=function(t,e){function r(t,e,i){var n,r,o,a=e.getAxis(t),s=a.model,l=(n=t,r=s,c.eachComponent({mainType:"dataZoom",subType:"select"},function(t){t.getAxisModel(n,r.componentIndex)&&(o=t)}),o),h=l.findRepresentativeAxisProxy(s).getMinMaxSpan();null==h.minValueSpan&&null==h.maxValueSpan||(i=V_(0,i.slice(),a.scale.getExtent(),0,h.minValueSpan,h.maxValueSpan)),l&&(u[l.id]={dataZoomId:l.id,startValue:i[0],endValue:i[1]})}if(e.isEnd&&t.length){var u={},c=this.ecModel;this._brushController.updateCovers([]),new ru(du(this.model.option),c,{include:["grid"]}).matchOutputRanges(t,c,function(t,e,i){if("cartesian2d"===i.type){var n=t.brushType;"rect"===n?(r("x",i,e[0]),r("y",i,e[1])):r({lineX:"x",lineY:"y"}[n],i,e)}}),i=u,a=uu(o=c),Fx(i,function(t,e){for(var i=a.length-1;0<=i&&!a[i][e];i--);if(i<0){var n=o.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0];if(n){var r=n.getPercentRange();a[0][e]={dataZoomId:e,start:r[0],end:r[1]}}}}),a.push(i),this._dispatchZoomAction(u)}var o,i,a},Zx._dispatchZoomAction=function(t){var i=[];Wx(t,function(t,e){i.push(b(t))}),i.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:i})},yh("dataZoom",cu),Oo(function(a){function t(n,t){if(t){var r=n+"Index",o=t[r];null==o||"all"==o||O(o)||(o=!1===o||"none"===o?[]:[o]),e=function(t,e){if(null==o||"all"==o||-1!==f(o,e)){var i={type:"select",$fromToolbox:!0,id:"\0_ec_\0toolbox-dataZoom_"+n+e};i[r]=e,s.push(i)}},O(i=a[n])||(i=i?[i]:[]),Wx(i,e)}var e,i}if(a){var s=a.dataZoom||(a.dataZoom=[]);O(s)||(a.dataZoom=s=[s]);var e=a.toolbox;if(e&&(O(e)&&(e=e[0]),e&&e.feature)){var i=e.feature.dataZoom;t("xAxis",i),t("yAxis",i)}}});var Xx=Kg.toolbox.restore;pu.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:Xx.title},pu.prototype.onclick=function(t,e,i){t[Hx]=null,e.dispatchAction({type:"restore",from:this.uid})},yh("restore",pu),Eo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var jx,Yx="urn:schemas-microsoft-com:vml",qx="undefined"==typeof window?null:window,$x=!1,Kx=qx&&qx.document;if(Kx&&!ju.canvasSupported)try{!Kx.namespaces.zrvml&&Kx.namespaces.add("zrvml",Yx),jx=function(t){return Kx.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){jx=function(t){return Kx.createElement("<"+t+' xmlns="'+Yx+'" class="zrvml">')}}var Qx=zf.CMD,Jx=Math.round,tw=Math.sqrt,ew=Math.abs,iw=Math.cos,nw=Math.sin,rw=Math.max;if(!ju.canvasSupported){var ow=21600,aw=ow/2,sw=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=ow+","+ow,t.coordorigin="0,0"},lw=function(t,e,i){return"rgb("+[t,e,i].join(",")+")"},hw=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},uw=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},cw=function(t,e,i){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+i},dw=function(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t},fw=function(t,e,i){var n=bt(e);i=+i,isNaN(i)&&(i=1),n&&(t.color=lw(n[0],n[1],n[2]),t.opacity=i*n[3])},pw=function(t,e,i,n){var r,o,a="fill"==e,s=t.getElementsByTagName(e)[0];null!=i[e]&&"none"!==i[e]&&(a||!a&&i.lineWidth)?(t[a?"filled":"stroked"]="true",i[e]instanceof yp&&uw(t,s),s||(s=gu(e)),a?function(t,e,i){var n,r,o=e.fill;if(null!=o)if(o instanceof yp){var a,s=0,l=[0,0],h=0,u=1,c=i.getBoundingRect(),d=c.width,f=c.height;if("linear"===o.type){a="gradient";var p=i.transform,g=[o.x*d,o.y*f],m=[o.x2*d,o.y2*f];p&&($(g,g,p),$(m,m,p));var v=m[0]-g[0],y=m[1]-g[1];(s=180*Math.atan2(v,y)/Math.PI)<0&&(s+=360),s<1e-6&&(s=0)}else{a="gradientradial",g=[o.x*d,o.y*f],p=i.transform;var _=i.scale,x=d,w=f;l=[(g[0]-c.x)/x,(g[1]-c.y)/w],p&&$(g,g,p),x/=_[0]*ow,w/=_[1]*ow;var b=rw(x,w);h=0/b,u=2*o.r/b-h}var S=o.colorStops.slice();S.sort(function(t,e){return t.offset-e.offset});for(var M=S.length,I=[],C=[],T=0;T<M;T++){var D=S[T],A=(n=D.color,r=bt(n),[lw(r[0],r[1],r[2]),r[3]]);C.push(D.offset*u+h+" "+A[0]),0!==T&&T!==M-1||I.push(A)}if(2<=M){var k=I[0][0],P=I[1][0],L=I[0][1]*e.opacity,O=I[1][1]*e.opacity;t.type=a,t.method="none",t.focus="100%",t.angle=s,t.color=k,t.color2=P,t.colors=C.join(","),t.opacity=O,t.opacity2=L}"radial"===a&&(t.focusposition=l.join(","))}else fw(t,o,e.opacity)}(s,i,n):(r=s,null!=(o=i).lineDash&&(r.dashstyle=o.lineDash.join(" ")),null==o.stroke||o.stroke instanceof yp||fw(r,o.stroke,o.opacity)),hw(t,s)):(t[a?"filled":"stroked"]="false",uw(t,s))},gw=[[],[],[]];Ni.prototype.brushVML=function(t){var e=this.style,i=this._vmlEl;i||(i=gu("shape"),sw(i),this._vmlEl=i),pw(i,"fill",e,this),pw(i,"stroke",e,this);var n=this.transform,r=null!=n,o=i.getElementsByTagName("stroke")[0];if(o){var a=e.lineWidth;if(r&&!e.strokeNoScale){var s=n[0]*n[3]-n[1]*n[2];a*=tw(ew(s))}o.weight=a+"px"}var l=this.path||(this.path=new zf);this.__dirtyPath&&(l.beginPath(),this.buildPath(l,this.shape),l.toStatic(),this.__dirtyPath=!1),i.path=function(t,e){var i,n,r,o,a,s,l=Qx.M,h=Qx.C,u=Qx.L,c=Qx.A,d=Qx.Q,f=[],p=t.data,g=t.len();for(o=0;o<g;){switch(n="",i=0,r=p[o++]){case l:n=" m ",i=1,a=p[o++],s=p[o++],gw[0][0]=a,gw[0][1]=s;break;case u:n=" l ",i=1,a=p[o++],s=p[o++],gw[0][0]=a,gw[0][1]=s;break;case d:case h:n=" c ",i=3;var m,v,y=p[o++],_=p[o++],x=p[o++],w=p[o++];r===d?(x=((m=x)+2*y)/3,w=((v=w)+2*_)/3,y=(a+2*y)/3,_=(s+2*_)/3):(m=p[o++],v=p[o++]),gw[0][0]=y,gw[0][1]=_,gw[1][0]=x,gw[1][1]=w,a=gw[2][0]=m,s=gw[2][1]=v;break;case c:var b=0,S=0,M=1,I=1,C=0;e&&(b=e[4],S=e[5],M=tw(e[0]*e[0]+e[1]*e[1]),I=tw(e[2]*e[2]+e[3]*e[3]),C=Math.atan2(-e[1]/I,e[0]/M));var T=p[o++],D=p[o++],A=p[o++],k=p[o++],P=p[o++]+C,L=p[o++]+P+C;o++;var O=p[o++],z=T+iw(P)*A,E=D+nw(P)*k,N=(y=T+iw(L)*A,_=D+nw(L)*k,O?" wa ":" at ");Math.abs(z-y)<1e-4&&(.01<Math.abs(L-P)?O&&(z+=.0125):Math.abs(E-D)<1e-4?O&&z<T||!O&&T<z?_-=.0125:_+=.0125:O&&E<D||!O&&D<E?y+=.0125:y-=.0125),f.push(N,Jx(((T-A)*M+b)*ow-aw),",",Jx(((D-k)*I+S)*ow-aw),",",Jx(((T+A)*M+b)*ow-aw),",",Jx(((D+k)*I+S)*ow-aw),",",Jx((z*M+b)*ow-aw),",",Jx((E*I+S)*ow-aw),",",Jx((y*M+b)*ow-aw),",",Jx((_*I+S)*ow-aw)),a=y,s=_;break;case Qx.R:var R=gw[0],B=gw[1];R[0]=p[o++],R[1]=p[o++],B[0]=R[0]+p[o++],B[1]=R[1]+p[o++],e&&($(R,R,e),$(B,B,e)),R[0]=Jx(R[0]*ow-aw),B[0]=Jx(B[0]*ow-aw),R[1]=Jx(R[1]*ow-aw),B[1]=Jx(B[1]*ow-aw),f.push(" m ",R[0],",",R[1]," l ",B[0],",",R[1]," l ",B[0],",",B[1]," l ",R[0],",",B[1]);break;case Qx.Z:f.push(" x ")}if(0<i){f.push(n);for(var V=0;V<i;V++){var F=gw[V];e&&$(F,F,e),f.push(Jx(F[0]*ow-aw),",",Jx(F[1]*ow-aw),V<i-1?",":"")}}}return f.join("")}(l,this.transform),i.style.zIndex=cw(this.zlevel,this.z,this.z2),hw(t,i),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Ni.prototype.onRemove=function(t){uw(t,this._vmlEl),this.removeRectText(t)},Ni.prototype.onAdd=function(t){hw(t,this._vmlEl),this.appendRectText(t)};Oe.prototype.brushVML=function(t){var e,i,n,r=this.style,o=r.image;if("object"==_typeof(n=o)&&n.tagName&&"IMG"===n.tagName.toUpperCase()){var a=o.src;if(a===this._imageSrc)e=this._imageWidth,i=this._imageHeight;else{var s=o.runtimeStyle,l=s.width,h=s.height;s.width="auto",s.height="auto",e=o.width,i=o.height,s.width=l,s.height=h,this._imageSrc=a,this._imageWidth=e,this._imageHeight=i}o=a}else o===this._imageSrc&&(e=this._imageWidth,i=this._imageHeight);if(o){var u=r.x||0,c=r.y||0,d=r.width,f=r.height,p=r.sWidth,g=r.sHeight,m=r.sx||0,v=r.sy||0,y=p&&g,_=this._vmlEl;_||(_=Kx.createElement("div"),sw(_),this._vmlEl=_);var x,w=_.style,b=!1,S=1,M=1;if(this.transform&&(x=this.transform,S=tw(x[0]*x[0]+x[1]*x[1]),M=tw(x[2]*x[2]+x[3]*x[3]),b=x[1]||x[2]),b){var I=[u,c],C=[u+d,c],T=[u,c+f],D=[u+d,c+f];$(I,I,x),$(C,C,x),$(T,T,x),$(D,D,x);var A=rw(I[0],C[0],T[0],D[0]),k=rw(I[1],C[1],T[1],D[1]),P=[];P.push("M11=",x[0]/S,",","M12=",x[2]/M,",","M21=",x[1]/S,",","M22=",x[3]/M,",","Dx=",Jx(u*S+x[4]),",","Dy=",Jx(c*M+x[5])),w.padding="0 "+Jx(A)+"px "+Jx(k)+"px 0",w.filter="progid:DXImageTransform.Microsoft.Matrix("+P.join("")+", SizingMethod=clip)"}else x&&(u=u*S+x[4],c=c*M+x[5]),w.filter="",w.left=Jx(u)+"px",w.top=Jx(c)+"px";var L=this._imageEl,O=this._cropEl;L||(L=Kx.createElement("div"),this._imageEl=L);var z=L.style;if(y){if(e&&i)z.width=Jx(S*e*d/p)+"px",z.height=Jx(M*i*f/g)+"px";else{var E=new Image,N=this;E.onload=function(){E.onload=null,e=E.width,i=E.height,z.width=Jx(S*e*d/p)+"px",z.height=Jx(M*i*f/g)+"px",N._imageWidth=e,N._imageHeight=i,N._imageSrc=o},E.src=o}O||((O=Kx.createElement("div")).style.overflow="hidden",this._cropEl=O);var R=O.style;R.width=Jx((d+m*d/p)*S),R.height=Jx((f+v*f/g)*M),R.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-m*d/p*S+",Dy="+-v*f/g*M+")",O.parentNode||_.appendChild(O),L.parentNode!=O&&O.appendChild(L)}else z.width=Jx(S*d)+"px",z.height=Jx(M*f)+"px",_.appendChild(L),O&&O.parentNode&&(_.removeChild(O),this._cropEl=null);var B="",V=r.opacity;V<1&&(B+=".Alpha(opacity="+Jx(100*V)+") "),B+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+o+", SizingMethod=scale)",z.filter=B,_.style.zIndex=cw(this.zlevel,this.z,this.z2),hw(t,_),null!=r.text&&this.drawRectText(t,this.getBoundingRect())}},Oe.prototype.onRemove=function(t){uw(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},Oe.prototype.onAdd=function(t){hw(t,this._vmlEl),this.appendRectText(t)};var mw,vw={},yw=0,_w=document.createElement("div"),xw=function(t){var e=vw[t];if(!e){100<yw&&(yw=0,vw={});var i,n=_w.style;try{n.font=t,i=n.fontFamily.split(",")[0]}catch(t){}e={style:n.fontStyle||"normal",variant:n.fontVariant||"normal",weight:n.fontWeight||"normal",size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"},vw[t]=e,yw++}return e};vd.measureText=function(t,e){var i=Kx;mw||((mw=i.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",Kx.body.appendChild(mw));try{mw.style.font=e}catch(t){}return mw.innerHTML="",mw.appendChild(i.createTextNode(t)),{width:mw.offsetWidth}};for(var ww=new Gt,bw=[wd,Le,Oe,Ni,rp],Sw=0;Sw<bw.length;Sw++){var Mw=bw[Sw].prototype;Mw.drawRectText=function(t,e,i,n){var r=this.style;this.__dirty&&ve(r);var o=r.text;if(null!=o&&(o+=""),o){if(r.rich){var a=fe(o,r);o=[];for(var s=0;s<a.lines.length;s++){for(var l=a.lines[s].tokens,h=[],u=0;u<l.length;u++)h.push(l[u].text);o.push(h.join(""))}o=o.join("\n")}var c,d,f=r.textAlign,p=r.textVerticalAlign,g=xw(r.font),m=g.style+" "+g.variant+" "+g.weight+" "+g.size+'px "'+g.family+'"';i=i||ne(o,m,f,p);var v=this.transform;if(v&&!n&&(ww.copy(e),ww.applyTransform(v),e=ww),n)c=e.x,d=e.y;else{var y=r.textPosition,_=r.textDistance;if(y instanceof Array)c=e.x+dw(y[0],e.width),d=e.y+dw(y[1],e.height),f=f||"left";else{var x=ae(y,e,_);c=x.x,d=x.y,f=f||x.textAlign,p=p||x.textVerticalAlign}}c=re(c,i.width,f),d=oe(d,i.height,p),d+=i.height/2;var w,b,S,M=gu,I=this._textVmlEl;I?b=(w=(S=I.firstChild).nextSibling).nextSibling:(I=M("line"),w=M("path"),b=M("textpath"),S=M("skew"),b.style["v-text-align"]="left",sw(I),w.textpathok=!0,b.on=!0,I.from="0 0",I.to="1000 0.05",hw(I,S),hw(I,w),hw(I,b),this._textVmlEl=I);var C=[c,d],T=I.style;T.top=v&&n?($(C,C,v),S.on=!0,S.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",S.offset=(Jx(C[0])||0)+","+(Jx(C[1])||0),S.origin="0 0",T.left="0px"):(S.on=!1,T.left=Jx(c)+"px",Jx(d)+"px"),b.string=String(o).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{b.style.font=m}catch(t){}pw(I,"fill",{fill:r.textFill,opacity:r.opacity},this),pw(I,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),I.style.zIndex=cw(this.zlevel,this.z,this.z2),hw(t,I)}},Mw.removeRectText=function(t){uw(t,this._textVmlEl),this._textVmlEl=null},Mw.appendRectText=function(t){hw(t,this._textVmlEl)}}rp.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},rp.prototype.onRemove=function(t){this.removeRectText(t)},rp.prototype.onAdd=function(t){this.appendRectText(t)}}vu.prototype={constructor:vu,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,i=0;i<t.length;i++){var n=t[i];n.invisible||n.ignore?(n.__alreadyNotVisible||n.onRemove(e),n.__alreadyNotVisible=!0):(n.__alreadyNotVisible&&n.onAdd(e),n.__alreadyNotVisible=!1,n.__dirty&&(n.beforeBrush&&n.beforeBrush(),(n.brushVML||n.brush).call(n,e),n.afterBrush&&n.afterBrush())),n.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;if(this._width!=t||this._height!=e){this._width=t,this._height=e;var i=this._vmlViewport.style;i.width=t+"px",i.height=e+"px"}},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||mu(e.width))-mu(e.paddingLeft)-mu(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||mu(e.height))-mu(e.paddingTop)-mu(e.paddingBottom)|0}},R(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;vu.prototype[t]=(e=t,function(){Hc('In IE8.0 VML mode painter not support method "'+e+'"')})}),je("vml",vu);var Iw=zf.CMD,Cw=Array.prototype.join,Tw="none",Dw=Math.round,Aw=Math.sin,kw=Math.cos,Pw=Math.PI,Lw=2*Math.PI,Ow=180/Pw,zw=1e-4,Ew={};Ew.brush=function(t){var e=t.style,i=t.__svgEl;i||(i=yu("path"),t.__svgEl=i),t.path||t.createPathProxy();var n=t.path;if(t.__dirtyPath){n.beginPath(),t.buildPath(n,t.shape),t.__dirtyPath=!1;var r=function(t){for(var e=[],i=t.data,n=t.len(),r=0;r<n;){var o="",a=0;switch(i[r++]){case Iw.M:o="M",a=2;break;case Iw.L:o="L",a=2;break;case Iw.Q:o="Q",a=4;break;case Iw.C:o="C",a=6;break;case Iw.A:var s=i[r++],l=i[r++],h=i[r++],u=i[r++],c=i[r++],d=i[r++],f=i[r++],p=i[r++],g=Math.abs(d),m=xu(g-Lw)&&!xu(g),v=!1;v=Lw<=g||!xu(g)&&(-Pw<d&&d<0||Pw<d)==!!p;var y=_u(s+h*kw(c)),_=_u(l+u*Aw(c));m&&(d=p?Lw-1e-4:1e-4-Lw,v=!0,9===r&&e.push("M",y,_));var x=_u(s+h*kw(c+d)),w=_u(l+u*Aw(c+d));e.push("A",_u(h),_u(u),Dw(f*Ow),+v,+p,x,w);break;case Iw.Z:o="Z";break;case Iw.R:x=_u(i[r++]),w=_u(i[r++]);var b=_u(i[r++]),S=_u(i[r++]);e.push("M",x,w,"L",x+b,w,"L",x+b,w+S,"L",x,w+S,"L",x,w)}o&&e.push(o);for(var M=0;M<a;M++)e.push(_u(i[r++]))}return e.join(" ")}(n);r.indexOf("NaN")<0&&bu(i,"d",r)}Su(i,e),wu(i,t.transform),null!=e.text&&Vw(t,t.getBoundingRect())};var Nw={brush:function(t){var e,i,n=t.style,r=n.image;if(r instanceof HTMLImageElement&&(r=r.src),r){var o=n.x||0,a=n.y||0,s=n.width,l=n.height,h=t.__svgEl;h||(h=yu("image"),t.__svgEl=h),r!==t.__imageSrc&&(e="href",i=r,h.setAttributeNS("http://www.w3.org/1999/xlink",e,i),t.__imageSrc=r),bu(h,"width",s),bu(h,"height",l),bu(h,"x",o),bu(h,"y",a),wu(h,t.transform),null!=n.text&&Vw(t,t.getBoundingRect())}}},Rw={},Bw=new Gt,Vw=function(t,e,i){var n=t.style;t.__dirty&&ve(n);var r=n.text;if(null!=r){r+="";var o=t.__textSvgEl;o||(o=yu("text"),t.__textSvgEl=o);var a,s,l=n.textPosition,h=n.textDistance,u=n.textAlign||"left";"number"==typeof n.fontSize&&(n.fontSize+="px");var c=n.font||[n.fontStyle||"",n.fontWeight||"",n.fontSize||"",n.fontFamily||""].join(" ")||md,d=Mu(n.textVerticalAlign),f=(i=ne(r,c,u,d)).lineHeight;if(l instanceof Array)a=e.x+l[0],s=e.y+l[1];else{var p=ae(l,e,h);a=p.x,s=p.y,d=Mu(p.textVerticalAlign),u=p.textAlign}bu(o,"alignment-baseline",d),c&&(o.style.font=c);var g=n.textPadding;if(bu(o,"x",a),bu(o,"y",s),Su(o,n,!0),t instanceof rp||t.style.transformText)wu(o,t.transform);else{if(t.transform)Bw.copy(e),Bw.applyTransform(t.transform),e=Bw;else{var m=t.transformCoordToGlobal(e.x,e.y);e.x=m[0],e.y=m[1]}var v=n.textOrigin;"center"===v?(a=i.width/2+a,s=i.height/2+s):v&&(a=v[0]+a,s=v[1]+s);var y=-n.textRotation||0,_=nt();lt(_,t.transform,y),wu(o,_)}var x=r.split("\n"),w=x.length,b=u;"left"===b?(b="start",g&&(a+=g[3])):"right"===b?(b="end",g&&(a-=g[1])):"center"===b&&(b="middle",g&&(a+=(g[3]-g[1])/2));var S=0;if("baseline"===d?(S=-i.height+f,g&&(S-=g[2])):"middle"===d?(S=(-i.height+f)/2,g&&(s+=(g[0]-g[2])/2)):g&&(S+=g[0]),t.__text!==r||t.__textFont!==c){var M=t.__tspanList||[];for(t.__tspanList=M,C=0;C<w;C++)(T=M[C])?T.innerHTML="":(T=M[C]=yu("tspan"),o.appendChild(T),bu(T,"alignment-baseline",d),bu(T,"text-anchor",b)),bu(T,"x",a),bu(T,"y",s+C*f+S),T.appendChild(document.createTextNode(x[C]));for(;C<M.length;C++)o.removeChild(M[C]);M.length=w,t.__text=r,t.__textFont=c}else if(t.__tspanList.length)for(var I=t.__tspanList.length,C=0;C<I;++C){var T=t.__tspanList[C];T&&(bu(T,"x",a),bu(T,"y",s+C*f+S))}}};Rw.drawRectText=Vw,Rw.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],Vw(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},Iu.prototype={diff:function(l,h,t){t||(t=function(t,e){return t===e}),this.equals=t;var u=this;l=l.slice();var c=(h=h.slice()).length,d=l.length,f=1,e=c+d,p=[{newPos:-1,components:[]}],i=this.extractCommon(p[0],h,l,0);if(p[0].newPos+1>=c&&d<=i+1){for(var n=[],r=0;r<h.length;r++)n.push(r);return[{indices:n,count:h.length}]}for(;f<=e;){var o=function(){for(var t=-1*f;t<=f;t+=2){var e,i=p[t-1],n=p[t+1],r=(n?n.newPos:0)-t;i&&(p[t-1]=void 0);var o=i&&i.newPos+1<c,a=n&&0<=r&&r<d;if(o||a){if(!o||a&&i.newPos<n.newPos?(e={newPos:(s=n).newPos,components:s.components.slice(0)},u.pushComponent(e.components,void 0,!0)):((e=i).newPos++,u.pushComponent(e.components,!0,void 0)),r=u.extractCommon(e,h,l,t),e.newPos+1>=c&&d<=r+1)return Cu(0,e.components);p[t]=e}else p[t]=void 0}var s;f++}();if(o)return o}},pushComponent:function(t,e,i){var n=t[t.length-1];n&&n.added===e&&n.removed===i?t[t.length-1]={count:n.count+1,added:e,removed:i}:t.push({count:1,added:e,removed:i})},extractCommon:function(t,e,i,n){for(var r=e.length,o=i.length,a=t.newPos,s=a-n,l=0;a+1<r&&s+1<o&&this.equals(e[a+1],i[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var Fw=new Iu;Tu.prototype.createElement=yu,Tu.prototype.getDefs=function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},Tu.prototype.update=function(t,e){if(t){var i=this.getDefs(!1);if(t[this._domName]&&i.contains(t[this._domName]))"function"==typeof e&&e(t);else{var n=this.add(t);n&&(t[this._domName]=n)}}},Tu.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},Tu.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},Tu.prototype.getDoms=function(){var i=this.getDefs(!1);if(!i)return[];var n=[];return R(this._tagNames,function(t){var e=i.getElementsByTagName(t);n=n.concat([].slice.call(e))}),n},Tu.prototype.markAllUnused=function(){var e=this;R(this.getDoms(),function(t){t[e._markLabel]="0"})},Tu.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},Tu.prototype.removeUnused=function(){var e=this.getDefs(!1);if(e){var i=this;R(this.getDoms(),function(t){"1"!==t[i._markLabel]&&e.removeChild(t)})}},Tu.prototype.getSvgProxy=function(t){return t instanceof Ni?Ew:t instanceof Oe?Nw:t instanceof rp?Rw:Ew},Tu.prototype.getTextSvgElement=function(t){return t.__textSvgEl},Tu.prototype.getSvgElement=function(t){return t.__svgEl},o(Du,Tu),Du.prototype.addWithoutUpdate=function(o,a){if(a&&a.style){var s=this;R(["fill","stroke"],function(t){if(a.style[t]&&("linear"===a.style[t].type||"radial"===a.style[t].type)){var e,i=a.style[t],n=s.getDefs(!0);i._dom?(e=i._dom,n.contains(i._dom)||s.addDom(e)):e=s.add(i),s.markUsed(a);var r=e.getAttribute("id");o.setAttribute(t,"url(#"+r+")")}})}},Du.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Hc("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},Du.prototype.update=function(i){var n=this;Tu.prototype.update.call(this,i,function(){var t=i.type,e=i._dom.tagName;"linear"===t&&"linearGradient"===e||"radial"===t&&"radialGradient"===e?n.updateDom(i,i._dom):(n.removeDom(i),n.add(i))})},Du.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Hc("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var i=t.colorStops,n=0,r=i.length;n<r;++n){var o=this.createElement("stop");o.setAttribute("offset",100*i[n].offset+"%"),o.setAttribute("stop-color",i[n].color),e.appendChild(o)}t._dom=e},Du.prototype.markUsed=function(t){if(t.style){var e=t.style.fill;e&&e._dom&&Tu.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&Tu.prototype.markUsed.call(this,e._dom)}},o(Au,Tu),Au.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);var i=this.getTextSvgElement(t);i&&this.updateDom(i,t.__clipPaths,!0),this.markUsed(t)},Au.prototype.updateDom=function(t,e,i){if(e&&0<e.length){var n,r,o=this.getDefs(!0),a=e[0],s=i?"_textDom":"_dom";a[s]?(r=a[s].getAttribute("id"),n=a[s],o.contains(n)||o.appendChild(n)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(n=this.createElement("clipPath")).setAttribute("id",r),o.appendChild(n),a[s]=n);var l=this.getSvgProxy(a);if(a.transform&&a.parent.invTransform&&!i){var h=Array.prototype.slice.call(a.transform);at(a.transform,a.parent.invTransform,a.transform),l.brush(a),a.transform=h}else l.brush(a);var u=this.getSvgElement(a);n.innerHTML="",n.appendChild(u.cloneNode()),t.setAttribute("clip-path","url(#"+r+")"),1<e.length&&this.updateDom(n,e.slice(1),i)}else t&&t.setAttribute("clip-path","none")},Au.prototype.markUsed=function(t){var e=this;t.__clipPaths&&0<t.__clipPaths.length&&R(t.__clipPaths,function(t){t._dom&&Tu.prototype.markUsed.call(e,t._dom),t._textDom&&Tu.prototype.markUsed.call(e,t._textDom)})},o(ku,Tu),ku.prototype.addWithoutUpdate=function(t,e){if(e&&Pu(e.style)){var i,n=e.style;n._shadowDom?(i=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(i)):i=this.add(e),this.markUsed(e);var r=i.getAttribute("id");t.style.filter="url(#"+r+")"}},ku.prototype.add=function(t){var e=this.createElement("filter"),i=t.style;return i._shadowDomId=i._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+i._shadowDomId),this.updateDom(t,e),this.addDom(e),e},ku.prototype.update=function(t,e){var i=e.style;if(Pu(i)){var n=this;Tu.prototype.update.call(this,e,function(t){n.updateDom(e,t._shadowDom)})}else this.remove(t,i)},ku.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},ku.prototype.updateDom=function(t,e){var i=e.getElementsByTagName("feDropShadow");i=0===i.length?this.createElement("feDropShadow"):i[0];var n,r,o,a,s=t.style,l=t.scale&&t.scale[0]||1,h=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,r=s.shadowOffsetY||0,o=s.shadowBlur,a=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,r=s.textShadowOffsetY||0,o=s.textShadowBlur,a=s.textShadowColor}i.setAttribute("dx",n/l),i.setAttribute("dy",r/h),i.setAttribute("flood-color",a);var u=o/2/l+" "+o/2/h;i.setAttribute("stdDeviation",u),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(o/2*200)+"%"),e.setAttribute("height",Math.ceil(o/2*200)+"%"),e.appendChild(i),s._shadowDom=e},ku.prototype.markUsed=function(t){var e=t.style;e&&e._shadowDom&&Tu.prototype.markUsed.call(this,e._shadowDom)};var Hw=function(t,e,i,n){this.root=t,this.storage=e,this._opts=i=D({},i||{});var r=yu("svg");r.setAttribute("xmlns","http://www.w3.org/2000/svg"),r.setAttribute("version","1.1"),r.setAttribute("baseProfile","full"),r.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new Du(n,r),this.clipPathManager=new Au(n,r),this.shadowManager=new ku(n,r);var o=document.createElement("div");o.style.cssText="overflow:hidden;position:relative",this._svgRoot=r,this._viewport=o,t.appendChild(o),o.appendChild(r),this.resize(i.width,i.height),this._visibleList=[]};Hw.prototype={constructor:Hw,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();var e,i,n=this._svgRoot,r=this._visibleList,o=t.length,a=[];for(e=0;e<o;e++){var s=(i=v=t[e])instanceof Ni?Ew:i instanceof Oe?Nw:i instanceof rp?Rw:Ew,l=Bu(v)||Ru(v);v.invisible||(v.__dirty&&(s&&s.brush(v),this.clipPathManager.update(v),v.style&&(this.gradientManager.update(v.style.fill),this.gradientManager.update(v.style.stroke),this.shadowManager.update(l,v)),v.__dirty=!1),a.push(v))}var h,u,c,d,f=(u=r,c=a,Fw.diff(u,c,d));for(e=0;e<f.length;e++)if((g=f[e]).removed)for(m=0;m<g.count;m++){l=Bu(v=r[g.indices[m]]);var p=Ru(v);Nu(n,l),Nu(n,p)}for(e=0;e<f.length;e++){var g=f[e];if(g.added)for(m=0;m<g.count;m++){l=Bu(v=a[g.indices[m]]),p=Ru(v);h?zu(n,l,h):Eu(n,l),l?zu(n,p,l):h?zu(n,p,h):Eu(n,p),zu(n,p,l),h=p||l||h,this.gradientManager.addWithoutUpdate(l,v),this.shadowManager.addWithoutUpdate(h,v),this.clipPathManager.markUsed(v)}else if(!g.removed)for(var m=0;m<g.count;m++){var v=a[g.indices[m]];h=l=Ru(v)||Bu(v)||h,this.gradientManager.markUsed(v),this.gradientManager.addWithoutUpdate(l,v),this.shadowManager.markUsed(v),this.shadowManager.addWithoutUpdate(l,v),this.clipPathManager.markUsed(v)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=a},_getDefs:function(t){var e=this._svgRoot,n=this._svgRoot.getElementsByTagName("defs");return 0===n.length?t?((n=e.insertBefore(yu("defs"),e.firstChild)).contains||(n.contains=function(t){var e=n.children;if(!e)return!1;for(var i=e.length-1;0<=i;--i)if(e[i]===t)return!0;return!1}),n):null:n[0]},resize:function(t,e){var i=this._viewport;i.style.display="none";var n=this._opts;if(null!=t&&(n.width=t),null!=e&&(n.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||this._height!==e){this._width=t,this._height=e;var r=i.style;r.width=t+"px",r.height=e+"px";var o=this._svgRoot;o.setAttribute("width",t),o.setAttribute("height",e)}},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[n]||Lu(s[i])||Lu(a.style[i]))-(Lu(s[r])||0)-(Lu(s[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},R(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;Hw.prototype[t]=(e=t,function(){Hc('In SVG mode painter not support method "'+e+'"')})}),je("svg",Hw),t.version="4.1.0",t.dependencies={zrender:"4.0.4"},t.PRIORITY=gm,t.init=function(t,e,i){var n=Po(t);if(n)return n;var r=new mo(t,e,i);return r.id="ec_"+Lm++,km[r.id]=r,oi(t,zm,r.id),function(n){function r(t,e){for(var i=0;i<t.length;i++)t[i][o]=e}var o="__connectUpdateStatus";cm(Sm,function(t,e){n._messageCenter.on(e,function(t){if(Pm[n.group]&&0!==n[o]){if(t&&t.escapeConnect)return;var e=n.makeActionFromEvent(t),i=[];cm(km,function(t){t!==n&&t.group===n.group&&i.push(t)}),r(i,0),cm(i,function(t){1!==t[o]&&t.dispatchAction(e)}),r(i,2)}})})}(r),r},t.connect=function(e){if(O(e)){var t=e;e=null,cm(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+Om++,cm(t,function(t){t.group=e})}return Pm[e]=!0,e},t.disConnect=ko,t.disconnect=Nm,t.dispose=function(t){"string"==typeof t?t=km[t]:t instanceof mo||(t=Po(t)),t instanceof mo&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=Po,t.getInstanceById=function(t){return km[t]},t.registerTheme=Lo,t.registerPreprocessor=Oo,t.registerProcessor=zo,t.registerPostUpdate=function(t){Cm.push(t)},t.registerAction=Eo,t.registerCoordinateSystem=function(t,e){mr.register(t,e)},t.getCoordinateSystemDimensions=function(t){var e=mr.get(t);if(e)return e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice()},t.registerLayout=No,t.registerVisual=Ro,t.registerLoading=Vo,t.extendComponentModel=Fo,t.extendComponentView=Ho,t.extendSeriesModel=Go,t.extendChartView=Wo,t.setCanvasCreator=function(t){e("createCanvas",t)},t.registerMap=function(t,e,i){e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),"string"==typeof e&&(e="undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")()),Em[t]={geoJson:e,specialAreas:i}},t.getMap=function(t){return Em[t]},t.dataTool={},t.zrender=Hd,t.graphic=Cp,t.number=Bp,t.format=Xp,t.throttle=Qr,t.helper=Cv,t.matrix=xc,t.vector=fc,t.color=Nc,t.parseGeoJSON=Dv,t.parseGeoJson=Lv,t.util=Ov,t.List=Zm,t.Model=Tn,t.Axis=Pv,t.env=ju});
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $jscomp=$jscomp||{};$jscomp.scope={};var COMPILED=!0,goog=goog||{};goog.global=this,goog.isDef=function(e){return void 0!==e},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.exportPath_=function(e,o,t){e=e.split("."),t=t||goog.global,e[0]in t||void 0===t.execScript||t.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(o)?t[n]=o:t=t[n]&&t[n]!==Object.prototype[n]?t[n]:t[n]={}},goog.define=function(e,o){var t=o;if(!COMPILED){var n=goog.global.CLOSURE_UNCOMPILED_DEFINES,r=goog.global.CLOSURE_DEFINES;n&&void 0===n.nodeType&&Object.prototype.hasOwnProperty.call(n,e)?t=n[e]:r&&void 0===r.nodeType&&Object.prototype.hasOwnProperty.call(r,e)&&(t=r[e])}goog.exportPath_(e,t)},goog.DEBUG=!1,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,o){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var t=e;(t=t.substring(0,t.lastIndexOf(".")))&&!goog.getObjectByName(t);)goog.implicitNamespaces_[t]=!0}goog.exportPath_(e,o)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){if(!COMPILED&&e in goog.loadedModules_){if(goog.loadedModules_[e].type!=goog.ModuleType.GOOG)throw Error("Can only goog.module.get for goog.modules.");if(goog.loadedModules_[e].moduleId!=e)throw Error("Cannot goog.module.get by path.")}return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_)return goog.loadedModules_[e].exports;if(!goog.implicitNamespaces_[e])return null!=(e=goog.getObjectByName(e))?e:null}return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6},goog.getModulePath_=function(){return goog.moduleLoaderState_&&goog.moduleLoaderState_.path},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInGoogModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,o){for(var t=e.split("."),n=o||goog.global,r=0;r<t.length;r++)if(n=n[t[r]],!goog.isDefAndNotNull(n))return null;return n},goog.globalize=function(e,o){var t,n=o||goog.global;for(t in e)n[t]=e[t]},goog.addDependency=function(e,o,t,n){!COMPILED&&goog.DEPENDENCIES_ENABLED&&goog.debugLoader_.addDependency(e,o,t,n)},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.isPath_=function(e){return 0==e.indexOf("./")||0==e.indexOf("../")},goog.require=function(e){if(goog.isPath_(e)){if(!goog.isInGoogModuleLoader_())throw Error("Cannot require by path outside of goog.modules.");if(!goog.getModulePath_())throw Error("Current module has no path information. Was it loaded via goog.loadModule without a path argument?");e=goog.normalizePath_(goog.getModulePath_()+"/../"+e)}if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.debugLoader_.requested(e),goog.isProvided_(e)){if(goog.isInModuleLoader_())return goog.module.getInternal_(e)}else if(goog.ENABLE_DEBUG_LOADER){var o=goog.moduleLoaderState_;goog.moduleLoaderState_=null;try{goog.debugLoader_.load_(e)}finally{goog.moduleLoaderState_=o}}return null}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.TRANSPILE="detect",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(null==goog.hasBadLetScoping){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n;})();\n"},goog.loadModule=function(e,o){var t=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG,path:o},goog.isFunction(e))var n=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),n=goog.loadModuleFromSource_.call(void 0,e)}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r)throw Error('Invalid module name "'+r+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(r,n):goog.SEAL_MODULE_EXPORTS&&Object.seal&&"object"==_typeof(n)&&null!=n&&Object.seal(n);var i={exports:n,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};goog.loadedModules_[r]=i,o&&(goog.loadedModules_[o]=i)}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var o=0;o<e.length;)"."==e[o]?e.splice(o,1):o&&".."==e[o]&&e[o-1]&&".."!=e[o-1]?e.splice(--o,2):o++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var o=new goog.global.XMLHttpRequest;return o.open("get",e,!1),o.send(),0==o.status||200==o.status?o.responseText:null}catch(e){return null}},goog.transpile_=function(a,b){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var e=goog.basePath+goog.TRANSPILER,f=goog.loadFileSync_(e);if(f){if(function(){eval(f+"\n//# sourceURL="+e)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,c=goog.global.$jscomp,d=c.transpile}}return d||(d=c.transpile=function(e,o){return goog.logToConsole_(o+" requires transpilation but no transpiler was found."),e}),d(a,b)},goog.typeOf=function(e){var o=_typeof(e);if("object"==o){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return o;var t=Object.prototype.toString.call(e);if("[object Window]"==t)return"object";if("[object Array]"==t||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==t||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==o&&void 0===e.call)return"object";return o},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var o=goog.typeOf(e);return"array"==o||"object"==o&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var o=_typeof(e);return"object"==o&&null!=e||"function"==o},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(e){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var o=goog.typeOf(e);if("object"!=o&&"array"!=o)return e;if("function"==typeof e.clone)return e.clone();for(var t in o="array"==o?[]:{},e)o[t]=goog.cloneObject(e[t]);return o},goog.bindNative_=function(e,o,t){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(o,t,e){if(!o)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,n),o.apply(t,e)}}return function(){return o.apply(t,arguments)}},goog.bind=function(e,o,t){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var e=t.slice();return e.push.apply(e,arguments),o.apply(this,e)}},goog.mixin=function(e,o){for(var t in o)e[t]=o[t]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_){try{goog.global.eval("var _evalTest_ = 1;")}catch(e){}if(void 0!==goog.global._evalTest_){try{delete goog.global._evalTest_}catch(e){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var o=goog.global.document,t=o.createElement("SCRIPT");t.type="text/javascript",t.defer=!1,t.appendChild(o.createTextNode(e)),o.head.appendChild(t),o.head.removeChild(t)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,o){if("."==String(e).charAt(0))throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var n=function(e){return goog.cssNameMapping_[e]||e},t=function(e){e=e.split("-");for(var o=[],t=0;t<e.length;t++)o.push(n(e[t]));return o.join("-")};return t=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?n:t:function(e){return e},t=o?e+"-"+t(o):t(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(t):t},goog.setCssNameMapping=function(e,o){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=o},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),e},goog.getMsgWithFallback=function(e,o){return e},goog.exportSymbol=function(e,o,t){goog.exportPath_(e,o,t)},goog.exportProperty=function(e,o,t){e[o]=t},goog.inherits=function(e,i){function o(){}o.prototype=i.prototype,e.superClass_=i.prototype,e.prototype=new o,(e.prototype.constructor=e).base=function(e,o,t){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return i.prototype[o].apply(e,n)}},goog.base=function(e,o,t){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(void 0!==n.superClass_){for(var r=Array(arguments.length-1),i=1;i<arguments.length;i++)r[i-1]=arguments[i];return n.superClass_.constructor.apply(e,r)}if("string"!=typeof o&&"symbol"!=_typeof(o))throw Error("method names provided to goog.base must be a string or a symbol");for(r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];i=!1;for(var s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[o]===n)i=!0;else if(i)return s.prototype[o].apply(e,r);if(e[o]===n)return e.constructor.prototype[o].apply(e,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,o){var t=o.constructor,n=o.statics;return t&&t!=Object.prototype.constructor||(t=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),t=goog.defineClass.createSealingConstructor_(t,e),e&&goog.inherits(t,e),delete o.constructor,delete o.statics,goog.defineClass.applyProperties_(t.prototype,o),null!=n&&(n instanceof Function?n(t):goog.defineClass.applyProperties_(t,n)),t},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(t,e){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return t;var n=!goog.defineClass.isUnsealable_(e);return function e(){var o=t.apply(this,arguments)||this;return o[goog.UID_PROPERTY_]=o[goog.UID_PROPERTY_],this.constructor===e&&n&&Object.seal instanceof Function&&Object.seal(o),o}},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)t=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",!COMPILED&&goog.DEPENDENCIES_ENABLED&&(goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.isDocumentLoading_=function(){var e=goog.global.document;return e.attachEvent?"complete"!=e.readyState:"loading"==e.readyState},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_()){var e=goog.global.document,o=e.currentScript;for(o=(e=o?[o]:e.getElementsByTagName("SCRIPT")).length-1;0<=o;--o){var t=e[o].src,n=t.lastIndexOf("?");if(n=-1==n?t.length:n,"base.js"==t.substr(n-7,7)){goog.basePath=t.substr(0,n-7);break}}}},goog.findBasePath_(),goog.Transpiler=function(){this.requiresTranspilation_=null},goog.Transpiler.prototype.createRequiresTranspilation_=function(){function a(e,o){d?c[e]=!0:o()?c[e]=!1:d=c[e]=!0}function b(a){try{return!!eval(a)}catch(e){return!1}}var c={es3:!1},d=!1,e=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";return a("es5",function(){return b("[1,].length==1")}),a("es6",function(){var o=e.match(/Edge\/(\d+)(\.\d)*/i);return!(o&&Number(o[1])<15)&&b('(()=>{"use strict";class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()')}),a("es6-impl",function(){return!0}),a("es7",function(){return b("2 ** 2 == 4")}),a("es8",function(){return b("async () => 1, true")}),a("es9",function(){return b("({...rest} = {}), true")}),a("es_next",function(){return b("({...rest} = {}), true")}),c},goog.Transpiler.prototype.needsTranspile=function(e,o){if("always"==goog.TRANSPILE)return!0;if("never"==goog.TRANSPILE)return!1;if(this.requiresTranspilation_||(this.requiresTranspilation_=this.createRequiresTranspilation_()),e in this.requiresTranspilation_)return this.requiresTranspilation_[e];throw Error("Unknown language mode: "+e)},goog.Transpiler.prototype.transpile=function(e,o){return goog.transpile_(e,o)},goog.transpiler_=new goog.Transpiler,goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")},goog.DebugLoader_=function(){this.dependencies_={},this.idToPath_={},this.written_={},this.loadingDeps_=[],this.depsToLoad_=[],this.paused_=!1,this.factory_=new goog.DependencyFactory(goog.transpiler_),this.deferredCallbacks_={},this.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=function(e,o){function t(){n&&(goog.global.setTimeout(n,0),n=null)}var n=o;if(e.length){for(var r=[],i=0;i<e.length;i++){var s=this.getPathFromDeps_(e[i]);if(!s)throw Error("Unregonized namespace: "+e[i]);r.push(this.dependencies_[s])}s=goog.require;var l=0;for(i=0;i<e.length;i++)s(e[i]),r[i].onLoad(function(){++l==e.length&&t()})}else t()},goog.DebugLoader_.prototype.loadClosureDeps=function(){this.depsToLoad_.push(this.factory_.createDependency(goog.normalizePath_(goog.basePath+"deps.js"),"deps.js",[],[],{},!1)),this.loadDeps_()},goog.DebugLoader_.prototype.requested=function(e,o){var t=this.getPathFromDeps_(e);if(t&&(o||this.areDepsLoaded_(this.dependencies_[t].requires))){var n=this.deferredCallbacks_[t];n&&(delete this.deferredCallbacks_[t],n())}},goog.DebugLoader_.prototype.setDependencyFactory=function(e){this.factory_=e},goog.DebugLoader_.prototype.load_=function(e){if(!this.getPathFromDeps_(e))throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e);var n=this,r=[];!function e(o){var t=n.getPathFromDeps_(o);if(!t)throw Error("Bad dependency path or symbol: "+o);if(!n.written_[t]){for(n.written_[t]=!0,o=n.dependencies_[t],t=0;t<o.requires.length;t++)goog.isProvided_(o.requires[t])||e(o.requires[t]);r.push(o)}}(e),e=!!this.depsToLoad_.length,this.depsToLoad_=this.depsToLoad_.concat(r),this.paused_||e||this.loadDeps_()},goog.DebugLoader_.prototype.loadDeps_=function(){for(var r=this,i=this.paused_;this.depsToLoad_.length&&!i;)!function(){var o=!1,t=r.depsToLoad_.shift(),e=!1;r.loading_(t);var n={pause:function(){if(o)throw Error("Cannot call pause after the call to load.");i=!0},resume:function(){o?r.resume_():i=!1},loaded:function(){if(e)throw Error("Double call to loaded.");e=!0,r.loaded_(t)},pending:function(){for(var e=[],o=0;o<r.loadingDeps_.length;o++)e.push(r.loadingDeps_[o]);return e},setModuleState:function(e,o){goog.moduleLoaderState_={path:e,type:o,moduleName:"",declareLegacyNamespace:!1}},registerEs6ModuleExports:function(e,o){goog.loadedModules_[e]={exports:o,type:goog.ModuleType.ES6,moduleId:""}},registerGoogModuleExports:function(e,o){goog.loadedModules_[e]={exports:o,type:goog.ModuleType.GOOG,moduleId:e}},clearModuleState:function(){goog.moduleLoaderState_=null},defer:function(e){if(o)throw Error("Cannot register with defer after the call to load.");r.defer_(t,e)},areDepsLoaded:function(){return r.areDepsLoaded_(t.requires)}};try{t.load(n)}finally{o=!0}}();i&&this.pause_()},goog.DebugLoader_.prototype.pause_=function(){this.paused_=!0},goog.DebugLoader_.prototype.resume_=function(){this.paused_&&(this.paused_=!1,this.loadDeps_())},goog.DebugLoader_.prototype.loading_=function(e){this.loadingDeps_.push(e)},goog.DebugLoader_.prototype.loaded_=function(e){for(var o=0;o<this.loadingDeps_.length;o++)if(this.loadingDeps_[o]==e){this.loadingDeps_.splice(o,1);break}for(o=0;o<this.deferredQueue_.length;o++)if(this.deferredQueue_[o]==e.path){this.deferredQueue_.splice(o,1);break}if(this.loadingDeps_.length==this.deferredQueue_.length&&!this.depsToLoad_.length)for(;this.deferredQueue_.length;)this.requested(this.deferredQueue_.shift(),!0);e.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=function(e){for(var o=0;o<e.length;o++){var t=this.getPathFromDeps_(e[o]);if(!t||!(t in this.deferredCallbacks_||goog.isProvided_(e[o])))return!1}return!0},goog.DebugLoader_.prototype.getPathFromDeps_=function(e){return e in this.idToPath_?this.idToPath_[e]:e in this.dependencies_?e:null},goog.DebugLoader_.prototype.defer_=function(e,o){this.deferredCallbacks_[e.path]=o,this.deferredQueue_.push(e.path)},goog.LoadController=function(){},goog.LoadController.prototype.pause=function(){},goog.LoadController.prototype.resume=function(){},goog.LoadController.prototype.loaded=function(){},goog.LoadController.prototype.pending=function(){},goog.LoadController.prototype.registerEs6ModuleExports=function(e,o){},goog.LoadController.prototype.setModuleState=function(e,o){},goog.LoadController.prototype.clearModuleState=function(){},goog.LoadController.prototype.defer=function(e){},goog.LoadController.prototype.areDepsLoaded=function(){},goog.Dependency=function(e,o,t,n,r){this.path=e,this.relativePath=o,this.provides=t,this.requires=n,this.loadFlags=r,this.loaded_=!1,this.loadCallbacks_=[]},goog.Dependency.prototype.onLoad=function(e){this.loaded_?e():this.loadCallbacks_.push(e)},goog.Dependency.prototype.loaded=function(){this.loaded_=!0;var e=this.loadCallbacks_;this.loadCallbacks_=[];for(var o=0;o<e.length;o++)e[o]()},goog.Dependency.defer_=!1,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=function(e){var o=Math.random().toString(32);return goog.Dependency.callbackMap_[o]=e,o},goog.Dependency.unregisterCallback_=function(e){delete goog.Dependency.callbackMap_[e]},goog.Dependency.callback_=function(e,o){if(!(e in goog.Dependency.callbackMap_))throw Error("Callback key "+e+" does not exist (was base.js loaded more than once?).");for(var t=goog.Dependency.callbackMap_[e],n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);t.apply(void 0,n)},goog.Dependency.prototype.load=function(o){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?o.loaded():o.pause();else if(goog.inHtmlDocument_()){var e=goog.global.document;if("complete"==e.readyState&&!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){if(/\bdeps.js$/.test(this.path))return void o.loaded();throw Error('Cannot write "'+this.path+'" after document load')}if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&goog.isDocumentLoading_()){var t=goog.Dependency.registerCallback_(function(e){goog.DebugLoader_.IS_OLD_IE_&&"complete"!=e.readyState||(goog.Dependency.unregisterCallback_(t),o.loaded())});e.write('<script src="'+this.path+'" '+(goog.DebugLoader_.IS_OLD_IE_?"onreadystatechange":"onload")+"=\"goog.Dependency.callback_('"+t+'\', this)" type="text/javascript" '+(goog.Dependency.defer_?"defer":"")+"><\/script>")}else{var n=e.createElement("script");n.defer=goog.Dependency.defer_,n.async=!1,n.type="text/javascript",goog.DebugLoader_.IS_OLD_IE_?(o.pause(),n.onreadystatechange=function(){"loaded"!=n.readyState&&"complete"!=n.readyState||(o.loaded(),o.resume())}):n.onload=function(){n.onload=null,o.loaded()},n.src=this.path,e.head.appendChild(n)}}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),"deps.js"==this.relativePath?(goog.logToConsole_("Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or seting CLOSURE_NO_DEPS to true."),o.loaded()):o.pause()},goog.Es6ModuleDependency=function(e,o,t,n){goog.Dependency.call(this,e,o,[],t,n)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=function(o){if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(this.path)?o.loaded():o.pause();else if(goog.inHtmlDocument_()){var n=goog.global.document,t=this;if(goog.isDocumentLoading_()){var e=function(e,o){o?n.write('<script type="module" crossorigin>'+o+"<\/script>"):n.write('<script type="module" crossorigin src="'+e+'"><\/script>')};goog.Dependency.defer_=!0}else e=function(e,o){var t=n.createElement("script");t.defer=!0,t.async=!1,t.type="module",t.setAttribute("crossorigin",!0),o?t.textContent=o:t.src=e,n.head.appendChild(t)};var r=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(r),o.setModuleState(t.path,goog.ModuleType.ES6)});e(void 0,'goog.Dependency.callback_("'+r+'")'),e(this.path,void 0);var i=goog.Dependency.registerCallback_(function(e){goog.Dependency.unregisterCallback_(i),o.registerEs6ModuleExports(t.path,e)});e(void 0,'import * as m from "'+this.path+'"; goog.Dependency.callback_("'+i+'", m)');var s=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(s),o.clearModuleState(),o.loaded()});e(void 0,'goog.Dependency.callback_("'+s+'")')}else goog.logToConsole_("Cannot use default debug loader outside of HTML documents."),o.pause()},goog.TransformedDependency=function(e,o,t,n,r){goog.Dependency.call(this,e,o,t,n,r),this.contents_=null},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=function(e){if(!goog.global.CLOSURE_IMPORT_SCRIPT&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()){var o=goog.global.document,t=this,n=goog.Dependency.registerCallback_(function(){goog.Dependency.unregisterCallback_(n),t.loadImpl_(e)});o.write('<script type="text/javascript">'+goog.protectScriptTag_('goog.Dependency.callback_("'+n+'");')+"<\/script>")}else this.loadImpl_(e)},goog.TransformedDependency.prototype.loadImpl_=function(t){function e(e){if(n.contents_){r&&t.setModuleState(n.path,goog.ModuleType.ES6);try{var o=n.contents_;n.contents_=null,e?goog.globalEval(o):goog.global.document.write('<script type="text/javascript">'+goog.protectScriptTag_(o)+"<\/script>")}finally{r&&t.clearModuleState()}r&&goog.global.$jscomp.require.ensure([n.path],function(){t.registerEs6ModuleExports(n.path,goog.global.$jscomp.require(n.path))}),t.loaded()}}if((this.contents_=goog.loadFileSync_(this.path))&&(this.contents_=this.transform(this.contents_))&&(this.contents_+="\n//# sourceURL="+this.path),this.contents_)if(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT("",this.contents_)?(this.contents_=null,t.loaded()):t.pause();else{var n=this,r=this.loadFlags.module==goog.ModuleType.ES6;if(1<t.pending().length&&goog.DebugLoader_.IS_OLD_IE_)t.defer(function(){e(!0)});else if(r&&goog.inHtmlDocument_()&&goog.isDocumentLoading_()){var o=goog.global.document;t.pause();var i=o.onreadystatechange;o.onreadystatechange=function(){(o.attachEvent?"complete"==o.readyState:"interactive"==o.readyState)&&(o.onreadystatechange=i,e(!0),t.resume()),goog.isFunction(i)&&i.apply(void 0,arguments)}}else e(goog.DebugLoader_.IS_OLD_IE_||!goog.inHtmlDocument_()||!goog.isDocumentLoading_())}else t.pause()},goog.TransformedDependency.prototype.transform=function(e){},goog.TranspiledDependency=function(e,o,t,n,r,i){goog.TransformedDependency.call(this,e,o,t,n,r),this.transpiler=i},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=function(e){return this.transpiler.transpile(e,this.path)},goog.GoogModuleDependency=function(e,o,t,n,r,i,s){goog.TransformedDependency.call(this,e,o,t,n,r),this.needsTranspile_=i,this.transpiler_=s},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=function(e){return this.needsTranspile_&&(e=this.transpiler_.transpile(e,this.path)),goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(e+"\n//# sourceURL="+this.path+"\n")+', "'+this.path+'");':'goog.loadModule(function(exports) {"use strict";'+e+'\n;return exports}, "'+this.path+'");\n//# sourceURL='+this.path+"\n"},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=function(e,o,t,n){o=o||[],e=e.replace(/\\/g,"/");var r=goog.normalizePath_(goog.basePath+e);for(n&&"boolean"!=typeof n||(n=n?{module:goog.ModuleType.GOOG}:{}),t=this.factory_.createDependency(r,e,o,t,n,goog.transpiler_.needsTranspile(n.lang||"es3",n.module)),this.dependencies_[r]=t,t=0;t<o.length;t++)this.idToPath_[o[t]]=r;this.idToPath_[e]=r},goog.DependencyFactory=function(e){this.transpiler=e},goog.DependencyFactory.prototype.createDependency=function(e,o,t,n,r,i){if(r.module==goog.ModuleType.ES6)throw Error("ES6 modules are not currently supported by the debug loader.");return r.module==goog.ModuleType.GOOG?new goog.GoogModuleDependency(e,o,t,n,r,i,this.transpiler):i?new goog.TranspiledDependency(e,o,t,n,r,this.transpiler):r.module==goog.ModuleType.ES6?new goog.Es6ModuleDependency(e,o,n,r):new goog.Dependency(e,o,t,n,r)},goog.debugLoader_=new goog.DebugLoader_,goog.loadClosureDeps=function(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=function(e){goog.debugLoader_.setDependencyFactory(e)},goog.global.CLOSURE_NO_DEPS||goog.debugLoader_.loadClosureDeps(),goog.bootstrap=function(e,o){goog.debugLoader_.bootstrap(e,o)}),goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var o=Error().stack;o&&(this.stack=o)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,o){goog.debug.Error.call(this,goog.asserts.subs_(e,o)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,o){for(var t=e.split("%s"),n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<o.length?o[i]:"%s");return n+t[r]},goog.asserts.doAssertFailure_=function(e,o,t,n){var r="Assertion failed";if(t){r+=": "+t;var i=n}else e&&(r+=": "+e,i=o);e=new goog.asserts.AssertionError(""+r,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,o){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,o,t){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,o,t){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,o,t,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof o||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(o),goog.asserts.getType_(e)],t,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,o,t){return!goog.asserts.ENABLE_ASSERTS||"number"==typeof e&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],o,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":_typeof(e)},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,o,t){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,o,t)}:function(e,o,t){if(t=null==t?0:t<0?Math.max(0,e.length+t):t,goog.isString(e))return goog.isString(o)&&1==o.length?e.indexOf(o,t):-1;for(;t<e.length;t++)if(t in e&&e[t]===o)return t;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,o,t){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,o,null==t?e.length-1:t)}:function(e,o,t){if((t=null==t?e.length-1:t)<0&&(t=Math.max(0,e.length+t)),goog.isString(e))return goog.isString(o)&&1==o.length?e.lastIndexOf(o,t):-1;for(;0<=t;t--)if(t in e&&e[t]===o)return t;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,o,t){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,o,t)}:function(e,o,t){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)i in r&&o.call(t,r[i],i,e)},goog.array.forEachRight=function(e,o,t){var n=e.length,r=goog.isString(e)?e.split(""):e;for(--n;0<=n;--n)n in r&&o.call(t,r[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,o,t){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,o,t)}:function(e,o,t){for(var n=e.length,r=[],i=0,s=goog.isString(e)?e.split(""):e,l=0;l<n;l++)if(l in s){var g=s[l];o.call(t,g,l,e)&&(r[i++]=g)}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,o,t){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,o,t)}:function(e,o,t){for(var n=e.length,r=Array(n),i=goog.isString(e)?e.split(""):e,s=0;s<n;s++)s in i&&(r[s]=o.call(t,i[s],s,e));return r},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,o,t,n){return goog.asserts.assert(null!=e.length),n&&(o=goog.bind(o,n)),Array.prototype.reduce.call(e,o,t)}:function(t,n,e,r){var i=e;return goog.array.forEach(t,function(e,o){i=n.call(r,i,e,o,t)}),i},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,o,t,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=o),n&&(o=goog.bind(o,n)),Array.prototype.reduceRight.call(e,o,t)}:function(t,n,e,r){var i=e;return goog.array.forEachRight(t,function(e,o){i=n.call(r,i,e,o,t)}),i},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,o,t){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,o,t)}:function(e,o,t){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&o.call(t,r[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,o,t){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,o,t)}:function(e,o,t){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&!o.call(t,r[i],i,e))return!1;return!0},goog.array.count=function(e,n,r){var i=0;return goog.array.forEach(e,function(e,o,t){n.call(r,e,o,t)&&++i},r),i},goog.array.find=function(e,o,t){return(o=goog.array.findIndex(e,o,t))<0?null:goog.isString(e)?e.charAt(o):e[o]},goog.array.findIndex=function(e,o,t){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&o.call(t,r[i],i,e))return i;return-1},goog.array.findRight=function(e,o,t){return(o=goog.array.findIndexRight(e,o,t))<0?null:goog.isString(e)?e.charAt(o):e[o]},goog.array.findIndexRight=function(e,o,t){var n=e.length,r=goog.isString(e)?e.split(""):e;for(--n;0<=n;n--)if(n in r&&o.call(t,r[n],n,e))return n;return-1},goog.array.contains=function(e,o){return 0<=goog.array.indexOf(e,o)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var o=e.length-1;0<=o;o--)delete e[o];e.length=0},goog.array.insert=function(e,o){goog.array.contains(e,o)||e.push(o)},goog.array.insertAt=function(e,o,t){goog.array.splice(e,t,0,o)},goog.array.insertArrayAt=function(e,o,t){goog.partial(goog.array.splice,e,t,0).apply(null,o)},goog.array.insertBefore=function(e,o,t){var n;2==arguments.length||(n=goog.array.indexOf(e,t))<0?e.push(o):goog.array.insertAt(e,o,n)},goog.array.remove=function(e,o){var t,n=goog.array.indexOf(e,o);return(t=0<=n)&&goog.array.removeAt(e,n),t},goog.array.removeLast=function(e,o){var t=goog.array.lastIndexOf(e,o);return 0<=t&&(goog.array.removeAt(e,t),!0)},goog.array.removeAt=function(e,o){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,o,1).length},goog.array.removeIf=function(e,o,t){return 0<=(o=goog.array.findIndex(e,o,t))&&(goog.array.removeAt(e,o),!0)},goog.array.removeAllIf=function(t,n,r){var i=0;return goog.array.forEachRight(t,function(e,o){n.call(r,e,o,t)&&goog.array.removeAt(t,o)&&i++}),i},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var o=e.length;if(0<o){for(var t=Array(o),n=0;n<o;n++)t[n]=e[n];return t}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,o){for(var t=1;t<arguments.length;t++){var n=arguments[t];if(goog.isArrayLike(n)){var r=e.length||0,i=n.length||0;e.length=r+i;for(var s=0;s<i;s++)e[r+s]=n[s]}else e.push(n)}},goog.array.splice=function(e,o,t,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,o,t){return goog.asserts.assert(null!=e.length),arguments.length<=2?Array.prototype.slice.call(e,o):Array.prototype.slice.call(e,o,t)},goog.array.removeDuplicates=function(e,o,t){o=o||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):_typeof(e).charAt(0)+e};t=t||n,n={};for(var r=0,i=0;i<e.length;){var s=e[i++],l=t(s);Object.prototype.hasOwnProperty.call(n,l)||(n[l]=!0,o[r++]=s)}o.length=r},goog.array.binarySearch=function(e,o,t){return goog.array.binarySearch_(e,t||goog.array.defaultCompare,!1,o)},goog.array.binarySelect=function(e,o,t){return goog.array.binarySearch_(e,o,!0,void 0,t)},goog.array.binarySearch_=function(e,o,t,n,r){for(var i,s=0,l=e.length;s<l;){var g=s+l>>1,a=t?o.call(r,e[g],g,e):o(n,e[g]);0<a?s=g+1:(l=g,i=!a)}return i?s:~s},goog.array.sort=function(e,o){e.sort(o||goog.array.defaultCompare)},goog.array.stableSort=function(e,o){for(var t=Array(e.length),n=0;n<e.length;n++)t[n]={index:n,value:e[n]};var r=o||goog.array.defaultCompare;for(goog.array.sort(t,function(e,o){return r(e.value,o.value)||e.index-o.index}),n=0;n<e.length;n++)e[n]=t[n].value},goog.array.sortByKey=function(e,t,o){var n=o||goog.array.defaultCompare;goog.array.sort(e,function(e,o){return n(t(e),t(o))})},goog.array.sortObjectsByKey=function(e,o,t){goog.array.sortByKey(e,function(e){return e[o]},t)},goog.array.isSorted=function(e,o,t){o=o||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var r=o(e[n-1],e[n]);if(0<r||0==r&&t)return!1}return!0},goog.array.equals=function(e,o,t){if(!goog.isArrayLike(e)||!goog.isArrayLike(o)||e.length!=o.length)return!1;var n=e.length;t=t||goog.array.defaultCompareEquality;for(var r=0;r<n;r++)if(!t(e[r],o[r]))return!1;return!0},goog.array.compare3=function(e,o,t){t=t||goog.array.defaultCompare;for(var n=Math.min(e.length,o.length),r=0;r<n;r++){var i=t(e[r],o[r]);if(0!=i)return i}return goog.array.defaultCompare(e.length,o.length)},goog.array.defaultCompare=function(e,o){return o<e?1:e<o?-1:0},goog.array.inverseDefaultCompare=function(e,o){return-goog.array.defaultCompare(e,o)},goog.array.defaultCompareEquality=function(e,o){return e===o},goog.array.binaryInsert=function(e,o,t){return(t=goog.array.binarySearch(e,o,t))<0&&(goog.array.insertAt(e,o,-(t+1)),!0)},goog.array.binaryRemove=function(e,o,t){return 0<=(o=goog.array.binarySearch(e,o,t))&&goog.array.removeAt(e,o)},goog.array.bucket=function(e,o,t){for(var n={},r=0;r<e.length;r++){var i=e[r],s=o.call(t,i,r,e);goog.isDef(s)&&(n[s]||(n[s]=[])).push(i)}return n},goog.array.toObject=function(t,n,r){var i={};return goog.array.forEach(t,function(e,o){i[n.call(r,e,o,t)]=e}),i},goog.array.range=function(e,o,t){var n=[],r=0,i=e;if(void 0!==o&&(r=e,i=o),(t=t||1)*(i-r)<0)return[];if(0<t)for(e=r;e<i;e+=t)n.push(e);else for(e=r;i<e;e+=t)n.push(e);return n},goog.array.repeat=function(e,o){for(var t=[],n=0;n<o;n++)t[n]=e;return t},goog.array.flatten=function(e){for(var o=[],t=0;t<arguments.length;t++){var n=arguments[t];if(goog.isArray(n))for(var r=0;r<n.length;r+=8192){var i=goog.array.slice(n,r,r+8192);i=goog.array.flatten.apply(null,i);for(var s=0;s<i.length;s++)o.push(i[s])}else o.push(n)}return o},goog.array.rotate=function(e,o){return goog.asserts.assert(null!=e.length),e.length&&(0<(o%=e.length)?Array.prototype.unshift.apply(e,e.splice(-o,o)):o<0&&Array.prototype.push.apply(e,e.splice(0,-o))),e},goog.array.moveItem=function(e,o,t){goog.asserts.assert(0<=o&&o<e.length),goog.asserts.assert(0<=t&&t<e.length),o=Array.prototype.splice.call(e,o,1),Array.prototype.splice.call(e,t,0,o[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var o=[],t=e.length,n=1;n<arguments.length;n++)arguments[n].length<t&&(t=arguments[n].length);for(n=0;n<t;n++){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i][n]);o.push(r)}return o},goog.array.shuffle=function(e,o){for(var t=o||Math.random,n=e.length-1;0<n;n--){var r=Math.floor(t()*(n+1)),i=e[n];e[n]=e[r],e[r]=i}},goog.array.copyByIndex=function(o,e){var t=[];return goog.array.forEach(e,function(e){t.push(o[e])}),t},goog.array.concatMap=function(e,o,t){return goog.array.concat.apply([],goog.array.map(e,o,t))},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,o){return e+Math.random()*(o-e)},goog.math.clamp=function(e,o,t){return Math.min(Math.max(e,o),t)},goog.math.modulo=function(e,o){var t=e%o;return t*o<0?t+o:t},goog.math.lerp=function(e,o,t){return e+t*(o-e)},goog.math.nearlyEquals=function(e,o,t){return Math.abs(e-o)<=(t||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,o){return o*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,o){return o*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,o,t,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-o,t-e)))},goog.math.angleDifference=function(e,o){var t=goog.math.standardAngle(o)-goog.math.standardAngle(e);return 180<t?t-=360:t<=-180&&(t=360+t),t},goog.math.sign=function(e){return 0<e?1:e<0?-1:e},goog.math.longestCommonSubsequence=function(t,e,o,n){o=o||function(e,o){return e==o},n=n||function(e,o){return t[e]};for(var r=t.length,i=e.length,s=[],l=0;l<r+1;l++)s[l]=[],s[l][0]=0;for(var g=0;g<i+1;g++)s[0][g]=0;for(l=1;l<=r;l++)for(g=1;g<=i;g++)o(t[l-1],e[g-1])?s[l][g]=s[l-1][g-1]+1:s[l][g]=Math.max(s[l-1][g],s[l][g-1]);var a=[];for(l=r,g=i;0<l&&0<g;)o(t[l-1],e[g-1])?(a.unshift(n(l-1,g-1)),l--,g--):s[l-1][g]>s[l][g-1]?l--:g--;return a},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,o){return e+o},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var o=arguments.length;if(o<2)return 0;var t=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-t,2)}))/(o-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)},goog.math.isNegativeZero=function(e){return 0==e&&1/e<0},goog.math.log10Floor=function(e){if(0<e){var o=Math.round(Math.log(e)*Math.LOG10E);return o-(parseFloat("1e"+o)>e?1:0)}return 0==e?-1/0:NaN},goog.math.safeFloor=function(e,o){return goog.asserts.assert(!goog.isDef(o)||0<o),Math.floor(e+(o||2e-15))},goog.math.safeCeil=function(e,o){return goog.asserts.assert(!goog.isDef(o)||0<o),Math.ceil(e-(o||2e-15))},goog.math.Coordinate=function(e,o){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(o)?o:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.prototype.equals=function(e){return e instanceof goog.math.Coordinate&&goog.math.Coordinate.equals(this,e)},goog.math.Coordinate.equals=function(e,o){return e==o||!(!e||!o)&&(e.x==o.x&&e.y==o.y)},goog.math.Coordinate.distance=function(e,o){var t=e.x-o.x,n=e.y-o.y;return Math.sqrt(t*t+n*n)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,o){var t=e.x-o.x,n=e.y-o.y;return t*t+n*n},goog.math.Coordinate.difference=function(e,o){return new goog.math.Coordinate(e.x-o.x,e.y-o.y)},goog.math.Coordinate.sum=function(e,o){return new goog.math.Coordinate(e.x+o.x,e.y+o.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),goog.isNumber(o)&&(this.y+=o)),this},goog.math.Coordinate.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.x*=e,this.y*=t,this},goog.math.Coordinate.prototype.rotateRadians=function(e,o){var t=o||new goog.math.Coordinate(0,0),n=this.x,r=this.y,i=Math.cos(e),s=Math.sin(e);this.x=(n-t.x)*i-(r-t.y)*s+t.x,this.y=(n-t.x)*s+(r-t.y)*i+t.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,o){this.rotateRadians(goog.math.toRadians(e),o)},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,o){return 0==e.lastIndexOf(o,0)},goog.string.endsWith=function(e,o){var t=e.length-o.length;return 0<=t&&e.indexOf(o,t)==t},goog.string.caseInsensitiveStartsWith=function(e,o){return 0==goog.string.caseInsensitiveCompare(o,e.substr(0,o.length))},goog.string.caseInsensitiveEndsWith=function(e,o){return 0==goog.string.caseInsensitiveCompare(o,e.substr(e.length-o.length,o.length))},goog.string.caseInsensitiveEquals=function(e,o){return e.toLowerCase()==o.toLowerCase()},goog.string.subs=function(e,o){for(var t=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)n+=t.shift()+r.shift();return n+t.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&" "<=e&&e<="~"||""<=e&&e<="�"},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,o){var t=String(e).toLowerCase(),n=String(o).toLowerCase();return t<n?-1:t==n?0:1},goog.string.numberAwareCompare_=function(e,o,t){if(e==o)return 0;if(!e)return-1;if(!o)return 1;for(var n=e.toLowerCase().match(t),r=o.toLowerCase().match(t),i=Math.min(n.length,r.length),s=0;s<i;s++){t=n[s];var l=r[s];if(t!=l)return e=parseInt(t,10),!isNaN(e)&&(o=parseInt(l,10),!isNaN(o)&&e-o)?e-o:t<l?-1:1}return n.length!=r.length?n.length-r.length:e<o?-1:1},goog.string.intAwareCompare=function(e,o){return goog.string.numberAwareCompare_(e,o,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,o){return goog.string.numberAwareCompare_(e,o,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,o){return e.replace(/(\r\n|\r|\n)/g,o?"<br />":"<br>")},goog.string.htmlEscape=function(e,o){if(o)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,o){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,o):e},goog.string.unescapeEntitiesUsingDom_=function(e,o){var r={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},i=o?o.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,o){var t=r[e];if(t)return t;if("#"==o.charAt(0)){var n=Number("0"+o.substr(1));isNaN(n)||(t=String.fromCharCode(n))}return t||(i.innerHTML=e+" ",t=i.firstChild.nodeValue.slice(0,-1)),r[e]=t})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,o){switch(o){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==o.charAt(0)){var t=Number("0"+o.substr(1));if(!isNaN(t))return String.fromCharCode(t)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,o){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),o)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,o){for(var t=o.length,n=0;n<t;n++){var r=1==t?o:o.charAt(n);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,o,t){return t&&(e=goog.string.unescapeEntities(e)),e.length>o&&(e=e.substring(0,o-3)+"..."),t&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,o,t,n){if(t&&(e=goog.string.unescapeEntities(e)),n&&e.length>o){o<n&&(n=o);var r=e.length-n;e=e.substring(0,o-n)+"..."+e.substring(r)}else e.length>o&&(n=Math.floor(o/2),r=e.length-n,e=e.substring(0,n+o%2)+"..."+e.substring(r));return t&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var o=['"'],t=0;t<e.length;t++){var n=e.charAt(t),r=n.charCodeAt(0);o[t+1]=goog.string.specialEscapeChars_[n]||(31<r&&r<127?n:goog.string.escapeChar(n))}return o.push('"'),o.join("")},goog.string.escapeString=function(e){for(var o=[],t=0;t<e.length;t++)o[t]=goog.string.escapeChar(e.charAt(t));return o.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var o=e.charCodeAt(0);if(31<o&&o<127)var t=e;else o<256?(t="\\x",(o<16||256<o)&&(t+="0")):(t="\\u",o<4096&&(t+="0")),t+=o.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,o){return-1!=e.indexOf(o)},goog.string.caseInsensitiveContains=function(e,o){return goog.string.contains(e.toLowerCase(),o.toLowerCase())},goog.string.countOf=function(e,o){return e&&o?e.split(o).length-1:0},goog.string.removeAt=function(e,o,t){var n=e;return 0<=o&&o<e.length&&0<t&&(n=e.substr(0,o)+e.substr(o+t,e.length-o-t)),n},goog.string.remove=function(e,o){return e.replace(o,"")},goog.string.removeAll=function(e,o){var t=new RegExp(goog.string.regExpEscape(o),"g");return e.replace(t,"")},goog.string.replaceAll=function(e,o,t){return o=new RegExp(goog.string.regExpEscape(o),"g"),e.replace(o,t.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,o){return e.repeat(o)}:function(e,o){return Array(o+1).join(e)},goog.string.padNumber=function(e,o,t){return-1==(t=(e=goog.isDef(t)?e.toFixed(t):String(e)).indexOf("."))&&(t=e.length),goog.string.repeat("0",Math.max(0,o-t))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,o){for(var t=0,n=goog.string.trim(String(e)).split("."),r=goog.string.trim(String(o)).split("."),i=Math.max(n.length,r.length),s=0;0==t&&s<i;s++){var l=n[s]||"",g=r[s]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==l[0].length&&0==g[0].length)break;t=0==l[1].length?0:parseInt(l[1],10);var a=0==g[1].length?0:parseInt(g[1],10);t=goog.string.compareElements_(t,a)||goog.string.compareElements_(0==l[2].length,0==g[2].length)||goog.string.compareElements_(l[2],g[2]),l=l[3],g=g[3]}while(0==t)}return t},goog.string.compareElements_=function(e,o){return e<o?-1:o<e?1:0},goog.string.hashCode=function(e){for(var o=0,t=0;t<e.length;++t)o=31*o+e.charCodeAt(t)>>>0;return o},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var o=Number(e);return 0==o&&goog.string.isEmptyOrWhitespace(e)?NaN:o},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,o){return o.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,o){var t=goog.isString(o)?goog.string.regExpEscape(o):"\\s";return e.replace(new RegExp("(^"+(t?"|["+t+"]+":"")+")([a-z])","g"),function(e,o,t){return o+t.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,o,t){e=e.split(o);for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(o)),n},goog.string.lastComponent=function(e,o){if(!o)return e;"string"==typeof o&&(o=[o]);for(var t=-1,n=0;n<o.length;n++)if(""!=o[n]){var r=e.lastIndexOf(o[n]);t<r&&(t=r)}return-1==t?e:e.slice(t+1)},goog.string.editDistance=function(e,o){var t=[],n=[];if(e==o)return 0;if(!e.length||!o.length)return Math.max(e.length,o.length);for(var r=0;r<o.length+1;r++)t[r]=r;for(r=0;r<e.length;r++){n[0]=r+1;for(var i=0;i<o.length;i++)n[i+1]=Math.min(n[i]+1,t[i+1]+1,t[i]+Number(e[r]!=o[i]));for(i=0;i<t.length;i++)t[i]=n[i]}return n[o.length]},goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,o,t){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){e.prototype.then=e.prototype.then,COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(e){return!1}},goog.async={},goog.async.FreeList=function(e,o,t){this.limit_=t,this.create_=e,this.reset_=o,this.occupants_=0,this.head_=null},goog.async.FreeList.prototype.get=function(){if(0<this.occupants_){this.occupants_--;var e=this.head_;this.head_=e.next,e.next=null}else e=this.create_();return e},goog.async.FreeList.prototype.put=function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},goog.async.FreeList.prototype.occupants=function(){return this.occupants_},goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null},goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100,goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(e){e.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(e,o){var t=this.getUnusedItem_();t.set(e,o),this.workTail_?this.workTail_.next=t:(goog.asserts.assert(!this.workHead_),this.workHead_=t),this.workTail_=t},goog.async.WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},goog.async.WorkQueue.prototype.returnUnused=function(e){goog.async.WorkQueue.freelist_.put(e)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.next=this.scope=this.fn=null},goog.async.WorkItem.prototype.set=function(e,o){this.fn=e,this.scope=o,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var o=goog.debug.entryPointRegistry.monitors_,t=0;t<o.length;t++)e(goog.bind(o[t].wrap,o[t]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var o=goog.bind(e.wrap,e),t=0;t<goog.debug.entryPointRegistry.refList_.length;t++)goog.debug.entryPointRegistry.refList_[t](o);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var o=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==o[o.length-1],"Only the most recent monitor can be unwrapped."),e=goog.bind(e.unwrap,e);for(var t=0;t<goog.debug.entryPointRegistry.refList_.length;t++)goog.debug.entryPointRegistry.refList_[t](e);o.length--},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,o){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,o){return o=o||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,o))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(o,e){var t=Array.prototype.slice.call(arguments,1);return function(){var e=Array.prototype.slice.call(arguments);return e.push.apply(e,t),o.apply(this,e)}},goog.functions.withReturnValue=function(e,o){return goog.functions.sequence(e,goog.functions.constant(o))},goog.functions.equalTo=function(o,t){return function(e){return t?o==e:o===e}},goog.functions.compose=function(e,o){var t=arguments,n=t.length;return function(){var e;n&&(e=t[n-1].apply(this,arguments));for(var o=n-2;0<=o;o--)e=t[o].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,n=t.length;return function(){for(var e,o=0;o<n;o++)e=t[o].apply(this,arguments);return e}},goog.functions.and=function(e){var o=arguments,t=o.length;return function(){for(var e=0;e<t;e++)if(!o[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var o=arguments,t=o.length;return function(){for(var e=0;e<t;e++)if(o[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,o){var t=function(){};return t.prototype=e.prototype,t=new t,e.apply(t,Array.prototype.slice.call(arguments,1)),t},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var o,t=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(t||(o=e(),t=!0),o):e()}},goog.functions.once=function(e){var o=e;return function(){if(o){var e=o;o=null,e()}}},goog.functions.debounce=function(t,n,r){var i=0;return function(e){goog.global.clearTimeout(i);var o=arguments;i=goog.global.setTimeout(function(){t.apply(r,o)},n)}},goog.functions.throttle=function(e,o,t){var n=0,r=!1,i=[],s=function(){n=0,r&&(r=!1,l())},l=function(){n=goog.global.setTimeout(s,o),e.apply(t,i)};return function(e){i=arguments,n?r=!0:l()}},goog.functions.rateLimit=function(o,t,n){var r=0,i=function(){r=0};return function(e){r||(r=goog.global.setTimeout(i,t),o.apply(n,arguments))}},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(o,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var o=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(o,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var o,t=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[];o=t.exec(e);)n.push([o[1],o[2],o[3]||void 0]);return n},goog.object={},goog.object.is=function(e,o){return e===o?0!==e||1/e==1/o:e!=e&&o!=o},goog.object.forEach=function(e,o,t){for(var n in e)o.call(t,e[n],n,e)},goog.object.filter=function(e,o,t){var n,r={};for(n in e)o.call(t,e[n],n,e)&&(r[n]=e[n]);return r},goog.object.map=function(e,o,t){var n,r={};for(n in e)r[n]=o.call(t,e[n],n,e);return r},goog.object.some=function(e,o,t){for(var n in e)if(o.call(t,e[n],n,e))return!0;return!1},goog.object.every=function(e,o,t){for(var n in e)if(!o.call(t,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var o,t=0;for(o in e)t++;return t},goog.object.getAnyKey=function(e){for(var o in e)return o},goog.object.getAnyValue=function(e){for(var o in e)return e[o]},goog.object.contains=function(e,o){return goog.object.containsValue(e,o)},goog.object.getValues=function(e){var o,t=[],n=0;for(o in e)t[n++]=e[o];return t},goog.object.getKeys=function(e){var o,t=[],n=0;for(o in e)t[n++]=o;return t},goog.object.getValueByKeys=function(e,o){var t=goog.isArrayLike(o),n=t?o:arguments;for(t=t?0:1;t<n.length;t++){if(null==e)return;e=e[n[t]]}return e},goog.object.containsKey=function(e,o){return null!==e&&o in e},goog.object.containsValue=function(e,o){for(var t in e)if(e[t]==o)return!0;return!1},goog.object.findKey=function(e,o,t){for(var n in e)if(o.call(t,e[n],n,e))return n},goog.object.findValue=function(e,o,t){return(o=goog.object.findKey(e,o,t))&&e[o]},goog.object.isEmpty=function(e){for(var o in e)return!1;return!0},goog.object.clear=function(e){for(var o in e)delete e[o]},goog.object.remove=function(e,o){var t;return(t=o in e)&&delete e[o],t},goog.object.add=function(e,o,t){if(null!==e&&o in e)throw Error('The object already contains the key "'+o+'"');goog.object.set(e,o,t)},goog.object.get=function(e,o,t){return null!==e&&o in e?e[o]:t},goog.object.set=function(e,o,t){e[o]=t},goog.object.setIfUndefined=function(e,o,t){return o in e?e[o]:e[o]=t},goog.object.setWithReturnValueIfNotSet=function(e,o,t){return o in e?e[o]:(t=t(),e[o]=t)},goog.object.equals=function(e,o){for(var t in e)if(!(t in o)||e[t]!==o[t])return!1;for(t in o)if(!(t in e))return!1;return!0},goog.object.clone=function(e){var o,t={};for(o in e)t[o]=e[o];return t},goog.object.unsafeClone=function(e){var o=goog.typeOf(e);if("object"!=o&&"array"!=o)return e;if(goog.isFunction(e.clone))return e.clone();for(var t in o="array"==o?[]:{},e)o[t]=goog.object.unsafeClone(e[t]);return o},goog.object.transpose=function(e){var o,t={};for(o in e)t[e[o]]=o;return t},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,o){for(var t,n,r=1;r<arguments.length;r++){for(t in n=arguments[r])e[t]=n[t];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)t=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}},goog.object.create=function(e){var o=arguments.length;if(1==o&&goog.isArray(e))return goog.object.create.apply(null,e);if(o%2)throw Error("Uneven number of arguments");for(var t={},n=0;n<o;n+=2)t[arguments[n]]=arguments[n+1];return t},goog.object.createSet=function(e){var o=arguments.length;if(1==o&&goog.isArray(e))return goog.object.createSet.apply(null,e);for(var t={},n=0;n<o;n++)t[arguments[n]]=!0;return t},goog.object.createImmutableView=function(e){var o=e;return Object.isFrozen&&!Object.isFrozen(e)&&(o=Object.create(e),Object.freeze(o)),o},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,o,t){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var n={};e&&(e!==Object.prototype||o)&&(e!==Function.prototype||t);){for(var r=Object.getOwnPropertyNames(e),i=0;i<r.length;i++)n[r[i]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(n)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),t[e]||""}var o=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(o);o=goog.labs.userAgent.util.extractVersionTuples(o);var t={};goog.array.forEach(o,function(e){t[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,t);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(o=o[2])&&o[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var o=/rv: *([\d\.]*)/.exec(e);if(o&&o[1])return o[1];o="";var t=/MSIE +([\d\.]+)/.exec(e);if(t&&t[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==t[1])if(e&&e[1])switch(e[1]){case"4.0":o="8.0";break;case"5.0":o="9.0";break;case"6.0":o="10.0";break;case"7.0":o="11.0"}else o="7.0";else o=t[1];return o},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var o,t=goog.labs.userAgent.engine.getEngineTuple_(e);if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];if((e=e[0])&&(o=e[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var o=0;o<e.length;o++){var t=e[o];if("Edge"==t[0])return t}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,o){var t=goog.array.find(e,function(e){return o==e[0]});return t&&t[1]||""},goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,o,t){var n=e;o&&(n=goog.bind(e,o)),n=goog.async.nextTick.wrapCallback_(n),goog.isFunction(goog.global.setImmediate)&&(t||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(n):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(n))},goog.async.nextTick.useSetImmediate_=function(){return!(goog.global.Window&&goog.global.Window.prototype&&!goog.labs.userAgent.browser.isEdge()&&goog.global.Window.prototype.setImmediate==goog.global.setImmediate)},goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var o=e.contentWindow;e=o.document,e.open(),e.write(""),e.close();var t="callImmediate"+Math.random(),n="file:"==o.location.protocol?"*":o.location.protocol+"//"+o.location.host;e=goog.bind(function(e){"*"!=n&&e.origin!=n||e.data!=t||this.port1.onmessage()},this),o.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){o.postMessage(t,n)}}}),void 0===e||goog.labs.userAgent.browser.isIE())return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var o=document.createElement("SCRIPT");o.onreadystatechange=function(){o.onreadystatechange=null,o.parentNode.removeChild(o),o=null,e(),e=null},document.documentElement.appendChild(o)}:function(e){goog.global.setTimeout(e,0)};var o=new e,t={},n=t;return o.port1.onmessage=function(){if(goog.isDef(t.next)){var e=(t=t.next).cb;t.cb=null,e()}},function(e){n.next={cb:e},n=n.next,o.port2.postMessage(0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.async.run=function(e,o){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,o)},goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue}),goog.async.run.processWorkQueue=function(){for(var e;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(e){goog.async.throwException(e)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.promise={},goog.promise.Resolver=function(){},goog.Promise=function(e,o){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.nullFunction)try{var t=this;e.call(o,function(e){t.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}t.resolve_(goog.Promise.State_.REJECTED,e)})}catch(e){this.resolve_(goog.Promise.State_.REJECTED,e)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,o,t){var n=goog.Promise.freelist_.get();return n.onFulfilled=e,n.onRejected=o,n.context=t,n},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var o=new goog.Promise(goog.nullFunction);return o.resolve_(goog.Promise.State_.FULFILLED,e),o},goog.Promise.reject=function(t){return new goog.Promise(function(e,o){o(t)})},goog.Promise.resolveThen_=function(e,o,t){goog.Promise.maybeThen_(e,o,t,null)||goog.async.run(goog.partial(o,e))},goog.Promise.race=function(r){return new goog.Promise(function(e,o){r.length||e(void 0);for(var t,n=0;n<r.length;n++)t=r[n],goog.Promise.resolveThen_(t,e,o)})},goog.Promise.all=function(g){return new goog.Promise(function(t,o){var n=g.length,r=[];if(n)for(var e,i=function(e,o){n--,r[e]=o,0==n&&t(r)},s=function(e){o(e)},l=0;l<g.length;l++)e=g[l],goog.Promise.resolveThen_(e,goog.partial(i,l),s);else t(r)})},goog.Promise.allSettled=function(l){return new goog.Promise(function(n,e){var r=l.length,i=[];if(r)for(var o,t=function(e,o,t){r--,i[e]=o?{fulfilled:!0,value:t}:{fulfilled:!1,reason:t},0==r&&n(i)},s=0;s<l.length;s++)o=l[s],goog.Promise.resolveThen_(o,goog.partial(t,s,!0),goog.partial(t,s,!1));else n(i)})},goog.Promise.firstFulfilled=function(g){return new goog.Promise(function(o,t){var n=g.length,r=[];if(n)for(var e,i=function(e){o(e)},s=function(e,o){n--,r[e]=o,0==n&&t(r)},l=0;l<g.length;l++)e=g[l],goog.Promise.resolveThen_(e,i,goog.partial(s,l));else o(void 0)})},goog.Promise.withResolver=function(){var t,n,e=new goog.Promise(function(e,o){t=e,n=o});return new goog.Promise.Resolver_(e,t,n)},goog.Promise.prototype.then=function(e,o,t){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=o&&goog.asserts.assertFunction(o,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(o)?o:null,t)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,o,t){null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=o&&goog.asserts.assertFunction(o,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,o||null,t))},goog.Promise.prototype.thenAlways=function(e,o){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var t=goog.Promise.getCallbackEntry_(e,e,o);return t.always=!0,this.addCallbackEntry_(t),this},goog.Promise.prototype.thenCatch=function(e,o){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,o)},goog.Promise.prototype.cancel=function(o){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var e=new goog.Promise.CancellationError(o);this.cancelInternal_(e)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,o){if(this.callbackEntries_){for(var t=0,n=null,r=null,i=this.callbackEntries_;i&&(i.always||(t++,i.child==e&&(n=i),!(n&&1<t)));i=i.next)n||(r=i);n&&(this.state_==goog.Promise.State_.PENDING&&1==t?this.cancelInternal_(o):(r?this.removeEntryAfter_(r):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,o)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(r,i,s){var e=goog.Promise.getCallbackEntry_(null,null,null);return e.child=new goog.Promise(function(t,n){e.onFulfilled=r?function(e){try{var o=r.call(s,e);t(o)}catch(e){n(e)}}:t,e.onRejected=i?function(e){try{var o=i.call(s,e);!goog.isDef(o)&&e instanceof goog.Promise.CancellationError?n(e):t(o)}catch(e){n(e)}}:n}),(e.child.parent_=this).addCallbackEntry_(e),e.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,o){this.state_==goog.Promise.State_.PENDING&&(this===o&&(e=goog.Promise.State_.REJECTED,o=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(o,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=o,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||o instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,o)))},goog.Promise.maybeThen_=function(e,o,t,n){if(e instanceof goog.Promise)return e.thenVoid(o,t,n),!0;if(goog.Thenable.isImplementedBy(e))return e.then(o,t,n),!0;if(goog.isObject(e))try{var r=e.then;if(goog.isFunction(r))return goog.Promise.tryThen_(e,r,o,t,n),!0}catch(e){return t.call(n,e),!0}return!1},goog.Promise.tryThen_=function(e,o,t,n,r){var i=!1,s=function(e){i||(i=!0,n.call(r,e))};try{o.call(e,function(e){i||(i=!0,t.call(r,e))},s)}catch(e){s(e)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(null!=e.onFulfilled),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=e&&goog.asserts.assert(null!=e.onFulfilled),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=e),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,o,t){if(o==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,o,t);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,o,t)}catch(e){goog.Promise.handleRejection_.call(null,e)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,o,t){o==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,t):e.onRejected&&e.onRejected.call(e.context,t)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var o=e.stack.split("\n",4)[3];e=e.message,e+=Array(11-e.length).join(" "),this.stack_.push(e+o)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var o=["Promise trace:"],t=this;t;t=t.parent_){for(var n=this.currentStep_;0<=n;n--)o.push(t.stack_[n]);o.push("Value: ["+(t.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(t.result_)+">")}e.stack+="\n\n"+o.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,o){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(o),goog.Promise.handleRejection_.call(null,o)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(o),goog.Promise.handleRejection_.call(null,o))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.debug.Error.call(this,e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,o,t){this.promise=e,this.resolve=o,this.reject=t},goog.disposable={},goog.disposable.IDisposable=function(){},goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod,goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod,goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,o=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&o.push(goog.Disposable.instances_[Number(e)]);return o},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");if(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&this.onDisposeCallbacks_&&0<this.onDisposeCallbacks_.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,o){this.disposed_?goog.isDef(o)?e.call(o):e():(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(o)?goog.bind(e,o):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return!(!e||"function"!=typeof e.isDisposed)&&e.isDisposed()},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var o=0,t=arguments.length;o<t;++o){var n=arguments[o];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.debug.errorcontext={},goog.debug.errorcontext.addErrorContext=function(e,o,t){e[goog.debug.errorcontext.CONTEXT_KEY_]||(e[goog.debug.errorcontext.CONTEXT_KEY_]={}),e[goog.debug.errorcontext.CONTEXT_KEY_][o]=t},goog.debug.errorcontext.getErrorContext=function(e){return e[goog.debug.errorcontext.CONTEXT_KEY_]||{}},goog.debug.errorcontext.CONTEXT_KEY_="__closure__error__context__984382",goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),o="";return goog.labs.userAgent.platform.isWindows()?o=(e=(o=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?o=(e=(o=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?o=(e=(o=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isAndroid()?o=(e=(o=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(o=(e=(o=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),o||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,o){return o},goog.reflect.objectProperty=function(e,o){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,o){try{return goog.reflect.sinkValue(e[o]),!0}catch(e){}return!1},goog.reflect.cache=function(e,o,t,n){return n=n?n(o):o,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(o)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.determineVersion_=function(){var e="",o=goog.userAgent.getVersionRegexResult_();return o&&(e=o?o[1]:""),goog.userAgent.IE&&(null!=(o=goog.userAgent.getDocumentMode_())&&o>parseFloat(e))?String(o):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,o){return goog.string.compareVersions(e,o)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,o=goog.userAgent.getDocumentMode_();if(e&&goog.userAgent.IE)return o||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5)}(),goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.catchErrors=function(i,e,o){var s=(o=o||goog.global).onerror,l=!!e;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(l=!l),o.onerror=function(e,o,t,n,r){return s&&s(e,o,t,n,r),i({message:e,fileName:o,line:t,lineNumber:t,col:n,error:r}),l}},goog.debug.expose=function(e,o){if(void 0===e)return"undefined";if(null==e)return"NULL";var t,n=[];for(t in e)if(o||!goog.isFunction(e[t])){var r=t+" = ";try{r+=e[t]}catch(e){r+="*** "+e+" ***"}n.push(r)}return n.join("\n")},goog.debug.deepExpose=function(e,s){var l=[],g=[],a={};!function e(o,t){var n=t+"  ";try{if(goog.isDef(o))if(goog.isNull(o))l.push("NULL");else if(goog.isString(o))l.push('"'+o.replace(/\n/g,"\n"+t)+'"');else if(goog.isFunction(o))l.push(String(o).replace(/\n/g,"\n"+t));else if(goog.isObject(o)){goog.hasUid(o)||g.push(o);var r=goog.getUid(o);if(a[r])l.push("*** reference loop detected (id="+r+") ***");else{for(var i in a[r]=!0,l.push("{"),o)!s&&goog.isFunction(o[i])||(l.push("\n"),l.push(n),l.push(i+" = "),e(o[i],n));l.push("\n"+t+"}"),delete a[r]}}else l.push(o);else l.push("undefined")}catch(e){l.push("*** "+e+" ***")}}(e,"");for(var o=0;o<g.length;o++)goog.removeUid(g[o]);return l.join("")},goog.debug.exposeArray=function(e){for(var o=[],t=0;t<e.length;t++)goog.isArray(e[t])?o.push(goog.debug.exposeArray(e[t])):o.push(e[t]);return"[ "+o.join(", ")+" ]"},goog.debug.normalizeErrorObject=function(e){var o=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:o,stack:"Not available"};var t=!1;try{var n=e.lineNumber||e.line||"Not available"}catch(e){n="Not available",t=!0}try{var r=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||o}catch(e){r="Not available",t=!0}return!t&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:n,fileName:r,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,o){if(e instanceof Error)var t=e;else t=Error(e),Error.captureStackTrace&&Error.captureStackTrace(t,goog.debug.enhanceError);if(t.stack||(t.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),o){for(var n=0;t["message"+n];)++n;t["message"+n]=String(o)}return t},goog.debug.enhanceErrorWithContext=function(e,o){var t=goog.debug.enhanceError(e);if(o)for(var n in o)goog.debug.errorcontext.addErrorContext(t,n,o[n]);return t},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var o=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(o)return o}o=[];for(var t=arguments.callee.caller,n=0;t&&(!e||n<e);){o.push(goog.debug.getFunctionName(t)),o.push("()\n");try{t=t.caller}catch(e){o.push("[exception trying to get caller]\n");break}if(++n>=goog.debug.MAX_STACK_DEPTH){o.push("[...long stack...]");break}}return e&&e<=n?o.push("[...reached max depth limit...]"):o.push("[end]"),o.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var o=Error();if(Error.captureStackTrace)return Error.captureStackTrace(o,e),String(o.stack);try{throw o}catch(e){o=e}return(e=o.stack)?String(e):null},goog.debug.getStacktrace=function(e){var o;return goog.debug.FORCE_SLOPPY_STACKS||(o=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),o||(o=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),o},goog.debug.getStacktraceHelper_=function(e,o){var t=[];if(goog.array.contains(o,e))t.push("[...circular reference...]");else if(e&&o.length<goog.debug.MAX_STACK_DEPTH){t.push(goog.debug.getFunctionName(e)+"(");for(var n=e.arguments,r=0;n&&r<n.length;r++){0<r&&t.push(", ");var i=n[r];switch(_typeof(i)){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=goog.debug.getFunctionName(i))?i:"[fn]";break;default:i=_typeof(i)}40<i.length&&(i=i.substr(0,40)+"..."),t.push(i)}o.push(e),t.push(")\n");try{t.push(goog.debug.getStacktraceHelper_(e.caller,o))}catch(e){t.push("[exception trying to get caller]\n")}}else e?t.push("[...long stack...]"):t.push("[end]");return t.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var o=goog.debug.fnNameResolver_(e);if(o)return goog.debug.fnNameCache_[e]=o}return e=String(e),goog.debug.fnNameCache_[e]||(o=/function ([^\(]+)/.exec(e),goog.debug.fnNameCache_[e]=o?o[1]:"[Anonymous]"),goog.debug.fnNameCache_[e]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":_typeof(e)},goog.debug.fnNameCache_={},goog.debug.freezeInternal_=goog.DEBUG&&Object.freeze||function(e){return e},goog.debug.freeze=function(e){return goog.debug.freezeInternal_(e)},goog.events={},$jscomp.scope.purify=function(e){return e()},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&&!goog.global.navigator.msMaxTouchPoints),POINTER_EVENTS:"PointerEvent"in goog.global,MSPOINTER_EVENTS:"MSPointerEvent"in goog.global&&!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:(0,$jscomp.scope.purify)(function(){if(!goog.global.addEventListener||!Object.defineProperty)return!1;var e=!1,o=Object.defineProperty({},"passive",{get:function(){e=!0}});return goog.global.addEventListener("test",goog.nullFunction,o),goog.global.removeEventListener("test",goog.nullFunction,o),e})},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,o){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=o,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTIONCHANGE:"selectionchange",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:"focusin",FOCUSOUT:"focusout",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DEVICECHANGE:"devicechange",DEVICEMOTION:"devicemotion",DEVICEORIENTATION:"deviceorientation",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",CANPLAY:"canplay",CANPLAYTHROUGH:"canplaythrough",DURATIONCHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",LOADEDDATA:"loadeddata",LOADEDMETADATA:"loadedmetadata",PAUSE:"pause",PLAY:"play",PLAYING:"playing",RATECHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIMEUPDATE:"timeupdate",VOLUMECHANGE:"volumechange",WAITING:"waiting",SOURCEOPEN:"sourceopen",SOURCEENDED:"sourceended",SOURCECLOSED:"sourceclosed",ABORT:"abort",UPDATE:"update",UPDATESTART:"updatestart",UPDATEEND:"updateend",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch",FOREIGNFETCH:"foreignfetch",MESSAGEERROR:"messageerror",STATECHANGE:"statechange",UPDATEFOUND:"updatefound",CONTROLLERCHANGE:"controllerchange",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:goog.userAgent.IE?"textinput":"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",BEFOREINPUT:"beforeinput",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint",BEFOREINSTALLPROMPT:"beforeinstallprompt",APPINSTALLED:"appinstalled"},goog.events.getPointerFallbackEventName_=function(e,o,t){return goog.events.BrowserFeature.POINTER_EVENTS?e:goog.events.BrowserFeature.MSPOINTER_EVENTS?o:t},goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,"mousecancel"),POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,goog.events.EventType.MSPOINTERENTER,goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)},goog.events.BrowserEvent=function(e,o){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.pointerId=0,this.pointerType="",this.event_=null,e&&this.init(e,o)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2};goog.events.BrowserEvent.PointerType={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([1,4,2]),goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap,goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({2:goog.events.BrowserEvent.PointerType.TOUCH,3:goog.events.BrowserEvent.PointerType.PEN,4:goog.events.BrowserEvent.PointerType.MOUSE}),goog.events.BrowserEvent.prototype.init=function(e,o){var t=this.type=e.type,n=e.changedTouches?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=o;var r=e.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):t==goog.events.EventType.MOUSEOVER?r=e.fromElement:t==goog.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,goog.isNull(n)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==t?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.pointerId=e.pointerId||0,this.pointerType=goog.events.BrowserEvent.getPointerType_(e),this.state=e.state,(this.event_=e).defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IE_BUTTON_MAP[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&e.keyCode<=123)&&(e.keyCode=-1)}catch(e){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.BrowserEvent.getPointerType_=function(e){return goog.isString(e.pointerType)?e.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[e.pointerType]||""},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,o,t,n,r,i){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=o,this.src=t,this.type=n,this.capture=!!r,this.handler=i,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e,o=0;for(e in this.listeners)o+=this.listeners[e].length;return o},goog.events.ListenerMap.prototype.add=function(e,o,t,n,r){var i=e.toString();(e=this.listeners[i])||(e=this.listeners[i]=[],this.typeCount_++);var s=goog.events.ListenerMap.findListenerIndex_(e,o,n,r);return-1<s?(o=e[s],t||(o.callOnce=!1)):((o=new goog.events.Listener(o,null,this.src,i,!!n,r)).callOnce=t,e.push(o)),o},goog.events.ListenerMap.prototype.remove=function(e,o,t,n){if(!((e=e.toString())in this.listeners))return!1;var r=this.listeners[e];return-1<(o=goog.events.ListenerMap.findListenerIndex_(r,o,t,n))&&(r[o].markAsRemoved(),goog.array.removeAt(r,o),0==r.length&&(delete this.listeners[e],this.typeCount_--),!0)},goog.events.ListenerMap.prototype.removeByKey=function(e){var o=e.type;if(!(o in this.listeners))return!1;var t=goog.array.remove(this.listeners[o],e);return t&&(e.markAsRemoved(),0==this.listeners[o].length&&(delete this.listeners[o],this.typeCount_--)),t},goog.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var o,t=0;for(o in this.listeners)if(!e||o==e){for(var n=this.listeners[o],r=0;r<n.length;r++)++t,n[r].markAsRemoved();delete this.listeners[o],this.typeCount_--}return t},goog.events.ListenerMap.prototype.getListeners=function(e,o){var t=this.listeners[e.toString()],n=[];if(t)for(var r=0;r<t.length;++r){var i=t[r];i.capture==o&&n.push(i)}return n},goog.events.ListenerMap.prototype.getListener=function(e,o,t,n){var r=-1;return(e=this.listeners[e.toString()])&&(r=goog.events.ListenerMap.findListenerIndex_(e,o,t,n)),-1<r?e[r]:null},goog.events.ListenerMap.prototype.hasListener=function(e,n){var r=goog.isDef(e),i=r?e.toString():"",s=goog.isDef(n);return goog.object.some(this.listeners,function(e,o){for(var t=0;t<e.length;++t)if(!(r&&e[t].type!=i||s&&e[t].capture!=n))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,o,t,n){for(var r=0;r<e.length;++r){var i=e[r];if(!i.removed&&i.listener==o&&i.capture==!!t&&i.handler==n)return r}return-1},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,o,t,n,r){if(n&&n.once)return goog.events.listenOnce(e,o,t,n,r);if(goog.isArray(o)){for(var i=0;i<o.length;i++)goog.events.listen(e,o[i],t,n,r);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?(n=goog.isObject(n)?!!n.capture:!!n,e.listen(o,t,n,r)):goog.events.listen_(e,o,t,!1,n,r)},goog.events.listen_=function(e,o,t,n,r,i){if(!o)throw Error("Invalid event type");var s=goog.isObject(r)?!!r.capture:!!r;if(s&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var l=goog.events.getListenerMap_(e);if(l||(e[goog.events.LISTENER_MAP_PROP_]=l=new goog.events.ListenerMap(e)),(t=l.add(o,t,n,s,i)).proxy)return t;if(n=goog.events.getProxy(),(t.proxy=n).src=e,n.listener=t,e.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(r=s),void 0===r&&(r=!1),e.addEventListener(o.toString(),n,r);else if(e.attachEvent)e.attachEvent(goog.events.getOnString_(o.toString()),n);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");goog.asserts.assert("change"===o,"MediaQueryList only has a change event"),e.addListener(n)}return goog.events.listenerCountEstimate_++,t},goog.events.getProxy=function(){var o=goog.events.handleBrowserEvent_,t=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(e){return o.call(t.src,t.listener,e)}:function(e){if(!(e=o.call(t.src,t.listener,e)))return e};return t},goog.events.listenOnce=function(e,o,t,n,r){if(goog.isArray(o)){for(var i=0;i<o.length;i++)goog.events.listenOnce(e,o[i],t,n,r);return null}return t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?(n=goog.isObject(n)?!!n.capture:!!n,e.listenOnce(o,t,n,r)):goog.events.listen_(e,o,t,!0,n,r)},goog.events.listenWithWrapper=function(e,o,t,n,r){o.listen(e,t,n,r)},goog.events.unlisten=function(e,o,t,n,r){if(goog.isArray(o)){for(var i=0;i<o.length;i++)goog.events.unlisten(e,o[i],t,n,r);return null}return n=goog.isObject(n)?!!n.capture:!!n,t=goog.events.wrapListener(t),goog.events.Listenable.isImplementedBy(e)?e.unlisten(o,t,n,r):!!e&&(!(!(e=goog.events.getListenerMap_(e))||!(o=e.getListener(o,t,n,r)))&&goog.events.unlistenByKey(o))},goog.events.unlistenByKey=function(e){if(goog.isNumber(e)||!e||e.removed)return!1;var o=e.src;if(goog.events.Listenable.isImplementedBy(o))return o.unlistenByKey(e);var t=e.type,n=e.proxy;return o.removeEventListener?o.removeEventListener(t,n,e.capture):o.detachEvent?o.detachEvent(goog.events.getOnString_(t),n):o.addListener&&o.removeListener&&o.removeListener(n),goog.events.listenerCountEstimate_--,(t=goog.events.getListenerMap_(o))?(t.removeByKey(e),0==t.getTypeCount()&&(t.src=null,o[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,o,t,n,r){o.unlisten(e,t,n,r)},goog.events.removeAll=function(e,o){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(o);var t=goog.events.getListenerMap_(e);if(!t)return 0;var n,r=0,i=o&&o.toString();for(n in t.listeners)if(!i||n==i)for(var s=t.listeners[n].concat(),l=0;l<s.length;++l)goog.events.unlistenByKey(s[l])&&++r;return r},goog.events.getListeners=function(e,o,t){return goog.events.Listenable.isImplementedBy(e)?e.getListeners(o,t):e&&(e=goog.events.getListenerMap_(e))?e.getListeners(o,t):[]},goog.events.getListener=function(e,o,t,n,r){return t=goog.events.wrapListener(t),n=!!n,goog.events.Listenable.isImplementedBy(e)?e.getListener(o,t,n,r):e&&(e=goog.events.getListenerMap_(e))?e.getListener(o,t,n,r):null},goog.events.hasListener=function(e,o,t){return goog.events.Listenable.isImplementedBy(e)?e.hasListener(o,t):!!(e=goog.events.getListenerMap_(e))&&e.hasListener(o,t)},goog.events.expose=function(e){var o,t=[];for(o in e)e[o]&&e[o].id?t.push(o+" = "+e[o]+" ("+e[o].id+")"):t.push(o+" = "+e[o]);return t.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,o,t,n){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(o,t,n):goog.events.fireListeners_(e,o,t,n)},goog.events.fireListeners_=function(e,o,t,n){var r=!0;if((e=goog.events.getListenerMap_(e))&&(o=e.listeners[o.toString()]))for(o=o.concat(),e=0;e<o.length;e++){var i=o[e];i&&i.capture==t&&!i.removed&&(i=goog.events.fireListener(i,n),r=r&&!1!==i)}return r},goog.events.fireListener=function(e,o){var t=e.listener,n=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),t.call(n,o)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,o){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(o)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,o){if(e.removed)return!0;if(goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT)return goog.events.fireListener(e,new goog.events.BrowserEvent(o,this));var t=o||goog.getObjectByName("window.event"),n=new goog.events.BrowserEvent(t,this),r=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(t)){goog.events.markIeEvent_(t),t=[];for(var i=n.currentTarget;i;i=i.parentNode)t.push(i);i=e.type;for(var s=t.length-1;!n.propagationStopped_&&0<=s;s--){n.currentTarget=t[s];var l=goog.events.fireListeners_(t[s],i,!0,n);r=r&&l}for(s=0;!n.propagationStopped_&&s<t.length;s++)n.currentTarget=t[s],l=goog.events.fireListeners_(t[s],i,!1,n),r=r&&l}}else r=goog.events.fireListener(e,n);return r},goog.events.markIeEvent_=function(e){var o=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(e){o=!0}(o||null==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return e.keyCode<0||null!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){return(e=e[goog.events.LISTENER_MAP_PROP_])instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(o){return goog.asserts.assert(o,"Listener can not be null."),goog.isFunction(o)?o:(goog.asserts.assert(o.handleEvent,"An object listener must have handleEvent method."),o[goog.events.LISTENER_WRAPPER_PROP_]||(o[goog.events.LISTENER_WRAPPER_PROP_]=function(e){return o.handleEvent(e)}),o[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),(this.actualEventTarget_=this).parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,o,t,n){goog.events.listen(this,e,o,t,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,o,t,n){goog.events.unlisten(this,e,o,t,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var o=this.getParentEventTarget();if(o)for(var t=[],n=1;o;o=o.getParentEventTarget())t.push(o),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop");return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t)},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,o,t,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),o,!1,t,n)},goog.events.EventTarget.prototype.listenOnce=function(e,o,t,n){return this.eventTargetListeners_.add(String(e),o,!0,t,n)},goog.events.EventTarget.prototype.unlisten=function(e,o,t,n){return this.eventTargetListeners_.remove(String(e),o,t,n)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,o,t){if(!(e=this.eventTargetListeners_.listeners[String(e)]))return!0;e=e.concat();for(var n=!0,r=0;r<e.length;++r){var i=e[r];if(i&&!i.removed&&i.capture==o){var s=i.listener,l=i.handler||i.src;i.callOnce&&this.unlistenByKey(i),n=!1!==s.call(l,t)&&n}}return n&&0!=t.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,o){return this.eventTargetListeners_.getListeners(String(e),o)},goog.events.EventTarget.prototype.getListener=function(e,o,t,n){return this.eventTargetListeners_.getListener(String(e),o,t,n)},goog.events.EventTarget.prototype.hasListener=function(e,o){var t=goog.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(t,o)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,o,t){var n=o.type||o;if(goog.isString(o))o=new goog.events.Event(o,e);else if(o instanceof goog.events.Event)o.target=o.target||e;else{var r=o;o=new goog.events.Event(n,e),goog.object.extend(o,r)}if(r=!0,t)for(var i=t.length-1;!o.propagationStopped_&&0<=i;i--){var s=o.currentTarget=t[i];r=s.fireListeners(n,!0,o)&&r}if(o.propagationStopped_||(r=(s=o.currentTarget=e).fireListeners(n,!0,o)&&r,o.propagationStopped_||(r=s.fireListeners(n,!1,o)&&r)),t)for(i=0;!o.propagationStopped_&&i<t.length;i++)r=(s=o.currentTarget=t[i]).fireListeners(n,!1,o)&&r;return r},goog.Timer=function(e,o){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=o||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;0<e&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,o,t){if(goog.isFunction(e))t&&(e=goog.bind(e,t));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return Number(o)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,o||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(t,n){var r=null;return new goog.Promise(function(e,o){(r=goog.Timer.callOnce(function(){e(n)},t))==goog.Timer.INVALID_TIMEOUT_ID_&&o(Error("Failed to schedule timer."))}).thenCatch(function(e){throw goog.Timer.clear(r),e})},goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(e);void 0!==o.Location&&void 0!==o.Element&&goog.asserts.assert(e&&(e instanceof o.Location||!(e instanceof o.Element)),"Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,o){if(goog.asserts.ENABLE_ASSERTS){var t=goog.dom.asserts.getWindow_(e);void 0!==t[o]&&void 0!==t.Location&&void 0!==t.Element&&goog.asserts.assert(e&&(e instanceof t[o]||!(e instanceof t.Location||e instanceof t.Element)),"Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){return goog.isObject(e)?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):void 0===e?"undefined":null===e?"null":_typeof(e)},goog.dom.asserts.getWindow_=function(e){return(e=e&&e.ownerDocument)&&(e.defaultView||e.parentWindow)||goog.global},goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.string.TypedString=function(){},goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var o=new goog.string.Const;return o.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,o},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.html={},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,o){for(var t=[],n=1;n<arguments.length;n++)t.push(goog.html.SafeScript.stringify_(arguments[n]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+t.join(", ")+");")},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,o){return"number"==typeof e?0<e?goog.i18n.bidi.Dir.LTR:e<0?goog.i18n.bidi.Dir.RTL:o?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,o){return o?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,o){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,o){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,o){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,o){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,o){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,o),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,o){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,o){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,o))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,o){var t=(void 0===o?goog.i18n.bidi.hasAnyRtl(e):o)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,t+"$&"+t)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,o){for(var t=0,n=0,r=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(e,o).split(goog.i18n.bidi.wordSeparatorRe_),s=0;s<i.length;s++){var l=i[s];goog.i18n.bidi.startsWithRtl(l)?(t++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(l)?r=!0:goog.i18n.bidi.hasAnyLtr(l)?n++:goog.i18n.bidi.hasNumeralsRe_.test(l)&&(r=!0)}return 0==n?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:t/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,o){return goog.i18n.bidi.estimateDirection(e,o)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,o){e&&(o=goog.i18n.bidi.toDir(o))&&(e.style.textAlign=o==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=o==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,o){switch(goog.i18n.bidi.estimateDirection(o)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e){var o,t=goog.html.TrustedResourceUrl.unwrap(this),n=/\?/.test(t)?"&":"?";for(o in e)for(var r=goog.isArray(e[o])?e[o]:[e[o]],i=0;i<r.length;i++)null!=r[i]&&(t+=n+encodeURIComponent(o)+"="+encodeURIComponent(String(r[i])),n="&");return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.format=function(e,n){var r=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(r))throw Error("Invalid TrustedResourceUrl format: "+r);var o=r.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(e,o){if(!Object.prototype.hasOwnProperty.call(n,o))throw Error('Found marker, "'+o+'", in format string, "'+r+'", but no valid label mapping found in args: '+JSON.stringify(n));var t=n[o];return t instanceof goog.string.Const?goog.string.Const.unwrap(t):encodeURIComponent(String(t))});return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,goog.html.TrustedResourceUrl.formatWithParams=function(e,o,t){return goog.html.TrustedResourceUrl.format(e,o).cloneWithParams(t)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var o="",t=0;t<e.length;t++)o+=goog.string.Const.unwrap(e[t]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.TrustedResourceUrl;return o.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,o},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp|3gpp2|aac|midi|mp4|mpeg|ogg|x-m4a|x-wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))$/i,goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var o=e.match(goog.html.DATA_URL_PATTERN_);return o=o&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(o[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var o=new goog.html.SafeUrl;return o.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,o},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(e),goog.asserts.assert(goog.string.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var o,t="";for(o in e){if(!/^[-_a-zA-Z0-9]+$/.test(o))throw Error("Name allows only [-_a-zA-Z0-9], got: "+o);var n=e[o];null!=n&&(t+=o+":"+(n=goog.isArray(n)?goog.array.map(n,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(n))+";")}return t?(goog.html.SafeStyle.checkStyle_(t),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){return e instanceof goog.html.SafeUrl?'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")':(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),goog.asserts.assert(!/[{;}]/.test(e),"Value does not allow [{;}]."),e)},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var o=e.replace(goog.html.SafeUrl.FUNCTIONS_RE_,"$1").replace(goog.html.SafeUrl.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(o)?goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var o=!0,t=!0,n=0;n<e.length;n++){var r=e.charAt(n);"'"==r&&t?o=!o:'"'==r&&o&&(t=!t)}return o&&t},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_="[-,.\"'%_!# a-zA-Z0-9]",goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeUrl.URL_RE_=RegExp("\\b(url\\([ \t\n]*)('[ -&(-\\[\\]-~]*'|\"[ !#-\\[\\]-~]*\"|[!#-&*-\\[\\]-~]*)([ \t\n]*\\))","g"),goog.html.SafeUrl.FUNCTIONS_RE_=RegExp("\\b(hsl|hsla|rgb|rgba|(rotate|scale|translate)(X|Y|Z|3d)?)\\([-0-9a-z.%, ]+\\)","g"),goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeUrl.URL_RE_,function(e,o,t,n){var r="";return t=t.replace(/^(['"])(.*)\1$/,function(e,o,t){return r=o,t}),e=goog.html.SafeUrl.sanitize(t).getTypedStringValue(),o+r+e+r+n})},goog.html.SafeStyle.concat=function(e){var t="";return goog.array.forEach(arguments,function e(o){goog.isArray(o)?goog.array.forEach(o,e):t+=goog.html.SafeStyle.unwrap(o)}),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,o){if(goog.string.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var t=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(t))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(t))throw Error("() and [] in selector must be balanced, got: "+e);return o instanceof goog.html.SafeStyle||(o=goog.html.SafeStyle.create(o)),t=e+"{"+goog.html.SafeStyle.unwrap(o)+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var o={"(":")","[":"]"},t=[],n=0;n<e.length;n++){var r=e[n];if(o[r])t.push(o[r]);else if(goog.object.contains(o,r)&&t.pop()!=r)return!1}return 0==t.length},goog.html.SafeStyleSheet.concat=function(e){var t="";return goog.array.forEach(arguments,function e(o){goog.isArray(o)?goog.array.forEach(o,e):t+=goog.html.SafeStyleSheet.unwrap(o)}),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return 0===(e=goog.string.Const.unwrap(e)).length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var o=null;return e.implementsGoogI18nBidiDirectionalString&&(o=e.getDirection()),e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(e),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,o,t){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),o,t)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,o,t,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var r={};return r.src=e||null,r.srcdoc=o&&goog.html.SafeHtml.unwrap(o),e=goog.html.SafeHtml.combineAttributes(r,{sandbox:""},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,o,t,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var r={};return r.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,r.srcdoc=o||null,r.sandbox="",e=goog.html.SafeHtml.combineAttributes(r,{},t),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,o){goog.html.TrustedResourceUrl.unwrap(e);var t=goog.html.SafeHtml.combineAttributes({src:e},{},o);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",t)},goog.html.SafeHtml.createScript=function(e,o){for(var t in o){var n=t.toLowerCase();if("language"==n||"src"==n||"text"==n||"type"==n)throw Error('Cannot set "'+n+'" attribute')}for(t="",e=goog.array.concat(e),n=0;n<e.length;n++)t+=goog.html.SafeScript.unwrap(e[n]);return t=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o,t)},goog.html.SafeHtml.createStyle=function(e,o){var t=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},o),n="";e=goog.array.concat(e);for(var r=0;r<e.length;r++)n+=goog.html.SafeStyleSheet.unwrap(e[r]);return n=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",t,n)},goog.html.SafeHtml.createMetaRefresh=function(e,o){var t=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));return(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(o||0)+"; url="+t})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,o,t){if(t instanceof goog.string.Const)t=goog.string.Const.unwrap(t);else if("style"==o.toLowerCase())t=goog.html.SafeHtml.getStyleValue_(t);else{if(/^on/i.test(o))throw Error('Attribute "'+o+'" requires goog.string.Const value, "'+t+'" given.');if(o.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(t instanceof goog.html.TrustedResourceUrl)t=goog.html.TrustedResourceUrl.unwrap(t);else if(t instanceof goog.html.SafeUrl)t=goog.html.SafeUrl.unwrap(t);else{if(!goog.isString(t))throw Error('Attribute "'+o+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+t+'" given.');t=goog.html.SafeUrl.sanitize(t).getTypedStringValue()}}return t.implementsGoogStringTypedString&&(t=t.getTypedStringValue()),goog.asserts.assert(goog.isString(t)||goog.isNumber(t),"String or number value expected, got "+_typeof(t)+" with value: "+t),o+'="'+goog.string.htmlEscape(String(t))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+_typeof(e)+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,o,t,n){return(o=goog.html.SafeHtml.create(o,t,n)).dir_=e,o},goog.html.SafeHtml.concat=function(e){var t=goog.i18n.bidi.Dir.NEUTRAL,n="";return goog.array.forEach(arguments,function e(o){goog.isArray(o)?goog.array.forEach(o,e):(o=goog.html.SafeHtml.htmlEscape(o),n+=goog.html.SafeHtml.unwrap(o),o=o.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=o:o!=goog.i18n.bidi.Dir.NEUTRAL&&t!=o&&(t=null))}),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,t)},goog.html.SafeHtml.concatWithDir=function(e,o){var t=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return t.dir_=e,t},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,o){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,o)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,o){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=o,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,o,t){var n=null,r="<"+e+goog.html.SafeHtml.stringifyAttributes(e,o);return goog.isDefAndNotNull(t)?goog.isArray(t)||(t=[t]):t=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!t.length,"Void tag <"+e+"> does not allow content."),r+=">"):(n=goog.html.SafeHtml.concat(t),r+=">"+goog.html.SafeHtml.unwrap(n)+"</"+e+">",n=n.getDirection()),(e=o&&o.dir)&&(n=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(r,n)},goog.html.SafeHtml.stringifyAttributes=function(e,o){var t="";if(o)for(var n in o){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var r=o[n];goog.isDefAndNotNull(r)&&(t+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,r))}return t},goog.html.SafeHtml.combineAttributes=function(e,o,t){var n,r={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=e[n];for(n in o)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=o[n];for(n in t){var i=n.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+n+'" with value "'+t[n]+'"');i in o&&delete r[i],r[n]=t[n]}return r},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,o,t){e.insertAdjacentHTML(o,goog.html.SafeHtml.unwrap(t))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.setInnerHtml=function(e,o){if(goog.asserts.ENABLE_ASSERTS){var t=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[t])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}e.innerHTML=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.setOuterHtml=function(e,o){e.outerHTML=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.setFormElementAction=function(e,o){var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setButtonFormAction=function(e,o){var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setInputFormAction=function(e,o){var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setStyle=function(e,o){e.style.cssText=goog.html.SafeStyle.unwrap(o)},goog.dom.safe.documentWrite=function(e,o){e.write(goog.html.SafeHtml.unwrap(o))},goog.dom.safe.setAnchorHref=function(e,o){goog.dom.asserts.assertIsHTMLAnchorElement(e);var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setImageSrc=function(e,o){goog.dom.asserts.assertIsHTMLImageElement(e);var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setVideoSrc=function(e,o){goog.dom.asserts.assertIsHTMLVideoElement(e);var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);e.src=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.setEmbedSrc=function(e,o){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setFrameSrc=function(e,o){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setIframeSrc=function(e,o){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setIframeSrcdoc=function(e,o){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrap(o)},goog.dom.safe.setLinkHrefAndRel=function(e,o,t){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=t,goog.string.caseInsensitiveContains(t,"stylesheet")?(goog.asserts.assert(o instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(o)):e.href=o instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(o):o instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(o):goog.html.SafeUrl.sanitizeAssertUnchanged(o).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,o){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setScriptSrc=function(e,o){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrap(o)},goog.dom.safe.setScriptContent=function(e,o){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrap(o)},goog.dom.safe.setLocationHref=function(e,o){goog.dom.asserts.assertIsLocation(e);var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);e.href=goog.html.SafeUrl.unwrap(t)},goog.dom.safe.replaceLocation=function(e,o){goog.dom.asserts.assertIsLocation(e);var t=o instanceof goog.html.SafeUrl?o:goog.html.SafeUrl.sanitizeAssertUnchanged(o);e.replace(goog.html.SafeUrl.unwrap(t))},goog.dom.safe.openInWindow=function(e,o,t,n,r){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(o||window).open(goog.html.SafeUrl.unwrap(e),t?goog.string.Const.unwrap(t):"",n,r)},goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,o,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,t||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(o)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o)},goog.math.Size=function(e,o){this.width=e,this.height=o},goog.math.Size.equals=function(e,o){return e==o||!(!e||!o)&&(e.width==o.width&&e.height==o.height)},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.width*=e,this.height*=t,this},goog.math.Size.prototype.scaleToCover=function(e){return e=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,o){return goog.isString(o)?e.getElementById(o):o},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,o){goog.asserts.assertString(o);var t=goog.dom.getElementHelper_(e,o);return goog.asserts.assertElement(t,"No element found with id: "+o)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagName=function(e,o){return(o||document).getElementsByTagName(String(e))},goog.dom.getElementsByTagNameAndClass=function(e,o,t){return goog.dom.getElementsByTagNameAndClass_(document,e,o,t)},goog.dom.getElementByTagNameAndClass=function(e,o,t){return goog.dom.getElementByTagNameAndClass_(document,e,o,t)},goog.dom.getElementsByClass=function(e,o){var t=o||document;return goog.dom.canUseQuerySelector_(t)?t.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,o)},goog.dom.getElementByClass=function(e,o){var t=o||document;return(t.getElementsByClassName?t.getElementsByClassName(e)[0]:goog.dom.getElementByTagNameAndClass_(document,"*",e,o))||null},goog.dom.getRequiredElementByClass=function(e,o){var t=goog.dom.getElementByClass(e,o);return goog.asserts.assert(t,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,o,t,n){if(e=n||e,o=o&&"*"!=o?String(o).toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(o||t))return e.querySelectorAll(o+(t?"."+t:""));if(t&&e.getElementsByClassName){if(e=e.getElementsByClassName(t),o){n={};for(var r,i=0,s=0;r=e[s];s++)o==r.nodeName&&(n[i++]=r);return n.length=i,n}return e}if(e=e.getElementsByTagName(o||"*"),t){for(n={},s=i=0;r=e[s];s++)"function"==typeof(o=r.className).split&&goog.array.contains(o.split(/\s+/),t)&&(n[i++]=r);return n.length=i,n}return e},goog.dom.getElementByTagNameAndClass_=function(e,o,t,n){var r=n||e,i=o&&"*"!=o?String(o).toUpperCase():"";return goog.dom.canUseQuerySelector_(r)&&(i||t)?r.querySelector(i+(t?"."+t:"")):goog.dom.getElementsByTagNameAndClass_(e,o,t,n)[0]||null},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(t,e){goog.object.forEach(e,function(e,o){e&&e.implementsGoogStringTypedString&&(e=e.getTypedStringValue()),"style"==o?t.style.cssText=e:"class"==o?t.className=e:"for"==o?t.htmlFor=e:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(o)?t.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o],e):goog.string.startsWith(o,"aria-")||goog.string.startsWith(o,"data-")?t.setAttribute(o,e):t[o]=e})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var o=e.document,t=0;if(o){t=o.body;var n=o.documentElement;if(!n||!t)return 0;if(e=goog.dom.getViewportSize_(e).height,goog.dom.isCss1CompatMode_(o)&&n.scrollHeight)t=n.scrollHeight!=e?n.scrollHeight:n.offsetHeight;else{o=n.scrollHeight;var r=n.offsetHeight;n.clientHeight!=r&&(o=t.scrollHeight,r=t.offsetHeight),t=e<o?r<o?o:r:o<r?o:r}}return t},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var o=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=o.scrollTop?new goog.math.Coordinate(o.scrollLeft,o.scrollTop):new goog.math.Coordinate(e.pageXOffset||o.scrollLeft,e.pageYOffset||o.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,o,t){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,o){var t=String(o[0]),n=o[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&n&&(n.name||n.type)){if(t=["<",t],n.name&&t.push(' name="',goog.string.htmlEscape(n.name),'"'),n.type){t.push(' type="',goog.string.htmlEscape(n.type),'"');var r={};goog.object.extend(r,n),delete r.type,n=r}t.push(">"),t=t.join("")}return t=e.createElement(t),n&&(goog.isString(n)?t.className=n:goog.isArray(n)?t.className=n.join(" "):goog.dom.setProperties(t,n)),2<o.length&&goog.dom.append_(e,t,o,2),t},goog.dom.append_=function(o,t,e,n){function r(e){e&&t.appendChild(goog.isString(e)?o.createTextNode(e):e)}for(;n<e.length;n++){var i=e[n];goog.isArrayLike(i)&&!goog.dom.isNodeLike(i)?goog.array.forEach(goog.dom.isNodeList(i)?goog.array.toArray(i):i,r):r(i)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return goog.dom.createElement_(document,e)},goog.dom.createElement_=function(e,o){return e.createElement(String(o))},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,o,t){return goog.dom.createTable_(document,e,o,!!t)},goog.dom.createTable_=function(e,o,t,n){for(var r=goog.dom.createElement_(e,"TABLE"),i=r.appendChild(goog.dom.createElement_(e,"TBODY")),s=0;s<o;s++){for(var l=goog.dom.createElement_(e,"TR"),g=0;g<t;g++){var a=goog.dom.createElement_(e,"TD");n&&goog.dom.setTextContent(a,goog.string.Unicode.NBSP),l.appendChild(a)}i.appendChild(l)}return r},goog.dom.constHtmlToNode=function(e){var o=goog.array.map(arguments,goog.string.Const.unwrap);return o=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Constant HTML string, that gets turned into a Node later, so it will be automatically balanced."),o.join("")),goog.dom.safeHtmlToNode(o)},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,o){var t=goog.dom.createElement_(e,"DIV");return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(t,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,o)),t.removeChild(t.firstChild)):goog.dom.safe.setInnerHtml(t,o),goog.dom.childrenToNode_(e,t)},goog.dom.childrenToNode_=function(e,o){if(1==o.childNodes.length)return o.removeChild(o.firstChild);for(var t=e.createDocumentFragment();o.firstChild;)t.appendChild(o.firstChild);return t},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case"APPLET":case"AREA":case"BASE":case"BR":case"COL":case"COMMAND":case"EMBED":case"FRAME":case"HR":case"IMG":case"INPUT":case"IFRAME":case"ISINDEX":case"KEYGEN":case"LINK":case"NOFRAMES":case"NOSCRIPT":case"META":case"OBJECT":case"PARAM":case"SCRIPT":case"SOURCE":case"STYLE":case"TRACK":case"WBR":return!1}return!0},goog.dom.appendChild=function(e,o){e.appendChild(o)},goog.dom.append=function(e,o){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var o;o=e.firstChild;)e.removeChild(o)},goog.dom.insertSiblingBefore=function(e,o){o.parentNode&&o.parentNode.insertBefore(e,o)},goog.dom.insertSiblingAfter=function(e,o){o.parentNode&&o.parentNode.insertBefore(e,o.nextSibling)},goog.dom.insertChildAt=function(e,o,t){e.insertBefore(o,e.childNodes[t]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,o){var t=o.parentNode;t&&t.replaceChild(e,o)},goog.dom.flattenElement=function(e){var o,t=e.parentNode;if(t&&t.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;o=e.firstChild;)t.insertBefore(o,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&null!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return goog.isDef(e.firstElementChild)?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return goog.isDef(e.lastElementChild)?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return goog.isDef(e.nextElementSibling)?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return goog.isDef(e.previousElementSibling)?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,o){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=o?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var o;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement||!(o=e.parentElement)?(o=e.parentNode,goog.dom.isElement(o)?o:null):o},goog.dom.contains=function(e,o){if(!e||!o)return!1;if(e.contains&&o.nodeType==goog.dom.NodeType.ELEMENT)return e==o||e.contains(o);if(void 0!==e.compareDocumentPosition)return e==o||!!(16&e.compareDocumentPosition(o));for(;o&&e!=o;)o=o.parentNode;return o==e},goog.dom.compareNodeOrder=function(e,o){if(e==o)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(o)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(o.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var t=e.nodeType==goog.dom.NodeType.ELEMENT,n=o.nodeType==goog.dom.NodeType.ELEMENT;if(t&&n)return e.sourceIndex-o.sourceIndex;var r=e.parentNode,i=o.parentNode;return r==i?goog.dom.compareSiblingOrder_(e,o):!t&&goog.dom.contains(r,o)?-1*goog.dom.compareParentsDescendantNodeIe_(e,o):!n&&goog.dom.contains(i,e)?goog.dom.compareParentsDescendantNodeIe_(o,e):(t?e.sourceIndex:r.sourceIndex)-(n?o.sourceIndex:i.sourceIndex)}return(t=(n=goog.dom.getOwnerDocument(e)).createRange()).selectNode(e),t.collapse(!0),(n=n.createRange()).selectNode(o),n.collapse(!0),t.compareBoundaryPoints(goog.global.Range.START_TO_END,n)},goog.dom.compareParentsDescendantNodeIe_=function(e,o){var t=e.parentNode;if(t==o)return-1;for(var n=o;n.parentNode!=t;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,e)},goog.dom.compareSiblingOrder_=function(e,o){for(var t=o;t=t.previousSibling;)if(t==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var o,t=arguments.length;if(!t)return null;if(1==t)return e;var n=[],r=1/0;for(o=0;o<t;o++){for(var i=[],s=arguments[o];s;)i.unshift(s),s=s.parentNode;n.push(i),r=Math.min(r,i.length)}for(i=null,o=0;o<r;o++){s=n[0][o];for(var l=1;l<t;l++)if(s!=n[l][o])return i;i=s}return i},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch(e){}return null},goog.dom.setTextContent=function(e,o){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=o;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=String(o);else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=String(o)}else{goog.dom.removeChildren(e);var t=goog.dom.getOwnerDocument(e);e.appendChild(t.createTextNode(String(o)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(null!==e,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var o=goog.dom.getOwnerDocument(e);return(o=goog.dom.createElement_(o,"DIV")).appendChild(e.cloneNode(!0)),o.innerHTML},goog.dom.findNode=function(e,o){var t=[];return goog.dom.findNodes_(e,o,t,!0)?t[0]:void 0},goog.dom.findNodes=function(e,o){var t=[];return goog.dom.findNodes_(e,o,t,!1),t},goog.dom.findNodes_=function(e,o,t,n){if(null!=e)for(e=e.firstChild;e;){if(o(e)&&(t.push(e),n)||goog.dom.findNodes_(e,o,t,n))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,o){o?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var o;return(o=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):o},goog.dom.hasSpecifiedTabIndex_=function(e){return goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9")?(e=e.getAttributeNode("tabindex"),goog.isDefAndNotNull(e)&&e.specified):e.hasAttribute("tabindex")},goog.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,goog.isNumber(e)&&0<=e&&e<32768},goog.dom.nativelySupportsFocus_=function(e){return"A"==e.tagName||"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName||"BUTTON"==e.tagName},goog.dom.hasNonZeroBoundingRect_=function(e){return e=!goog.isFunction(e.getBoundingClientRect)||goog.userAgent.IE&&null==e.parentElement?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect(),goog.isDefAndNotNull(e)&&0<e.height&&0<e.width},goog.dom.getTextContent=function(e){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==e&&"innerText"in e)e=goog.string.canonicalizeNewlines(e.innerText);else{var o=[];goog.dom.getTextContent_(e,o,!0),e=o.join("")}return e=(e=e.replace(/ \xAD /g," ").replace(/\xAD/g,"")).replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var o=[];return goog.dom.getTextContent_(e,o,!1),o.join("")},goog.dom.getTextContent_=function(e,o,t){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)t?o.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):o.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)o.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,o,t),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,o){for(var t=o||goog.dom.getOwnerDocument(e).body,n=[];e&&e!=t;){for(var r=e;r=r.previousSibling;)n.unshift(goog.dom.getTextContent(r));e=e.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,o,t){e=[e];for(var n=0,r=null;0<e.length&&n<o;)if(!((r=e.pop()).nodeName in goog.dom.TAGS_TO_IGNORE_))if(r.nodeType==goog.dom.NodeType.TEXT){var i=r.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," ");n+=i.length}else if(r.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[r.nodeName].length;else for(i=r.childNodes.length-1;0<=i;i--)e.push(r.childNodes[i]);return goog.isObject(t)&&(t.remainder=r?r.nodeValue.length+o-n-1:0,t.node=r),r},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,o,t,n){if(!o&&!t)return null;var r=o?String(o).toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!r||e.nodeName==r)&&(!t||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),t))},!0,n)},goog.dom.getAncestorByClass=function(e,o,t){return goog.dom.getAncestorByTagNameAndClass(e,null,o,t)},goog.dom.getAncestor=function(e,o,t,n){for(e&&!t&&(e=e.parentNode),t=0;e&&(null==n||t<=n);){if(goog.asserts.assert("parentNode"!=e.name),o(e))return e;e=e.parentNode,t++}return null},goog.dom.getActiveElement=function(e){try{var o=e&&e.activeElement;return o&&o.nodeName?o:null}catch(e){return null}},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return goog.isDef(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(3)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(1)||.75:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(min-resolution: "+e+"dppx),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+96*e+"dpi)").matches?e:0},goog.dom.getCanvasContext2D=function(e){return e.getContext("2d")},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagName=function(e,o){return(o||this.document_).getElementsByTagName(String(e))},goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,o,t){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,o,t)},goog.dom.DomHelper.prototype.getElementByTagNameAndClass=function(e,o,t){return goog.dom.getElementByTagNameAndClass_(this.document_,e,o,t)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,o){return goog.dom.getElementsByClass(e,o||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,o){return goog.dom.getElementByClass(e,o||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,o){return goog.dom.getRequiredElementByClass(e,o||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,o,t){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return goog.dom.createElement_(this.document_,e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,o,t){return goog.dom.createTable_(this.document_,e,o,!!t)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D,goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var o={};e=String(e);var t=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(t))return o.hex=goog.color.normalizeHex(t),o.type="hex",o;if((t=goog.color.isValidRgbColor_(e)).length)return o.hex=goog.color.rgbArrayToHex(t),o.type="rgb",o;if(goog.color.names&&(t=goog.color.names[e.toLowerCase()]))return o.hex=t,o.type="named",o;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var o=goog.color.prependHashIfNecessaryHelper(e);return!!(goog.color.isValidHexColor_(o)||goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()])},goog.color.parseRgb=function(e){var o=goog.color.isValidRgbColor_(e);if(!o.length)throw Error(e+" is not a valid RGB color");return o},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){return e=goog.color.normalizeHex(e),[parseInt(e.substr(1,2),16),parseInt(e.substr(3,2),16),e=parseInt(e.substr(5,2),16)]},goog.color.rgbToHex=function(e,o,t){if(e=Number(e),o=Number(o),t=Number(t),e!=(255&e)||o!=(255&o)||t!=(255&t))throw Error('"('+e+","+o+","+t+'") is not a valid RGB color');return"#"+(e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)))+(o=goog.color.prependZeroIfNecessaryHelper(o.toString(16)))+(t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)))},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,o,t){e/=255,o/=255,t/=255;var n=Math.max(e,o,t),r=Math.min(e,o,t),i=0,s=0,l=.5*(n+r);return n!=r&&(n==e?i=60*(o-t)/(n-r):n==o?i=60*(t-e)/(n-r)+120:n==t&&(i=60*(e-o)/(n-r)+240),s=0<l&&l<=.5?(n-r)/(2*l):(n-r)/(2-2*l)),[Math.round(i+360)%360,s,l]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,o,t){return t<0?t+=1:1<t&&--t,6*t<1?e+6*(o-e)*t:2*t<1?o:3*t<2?e+(o-e)*(2/3-t)*6:e},goog.color.hslToRgb=function(e,o,t){if(e/=360,0==o)t=o=e=255*t;else{var n=t<.5?t*(1+o):t+o-o*t,r=2*t-n;t=255*goog.color.hueToRgb_(r,n,e+1/3),o=255*goog.color.hueToRgb_(r,n,e),e=255*goog.color.hueToRgb_(r,n,e-1/3)}return[Math.round(t),Math.round(o),Math.round(e)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){var o=e.match(goog.color.rgbColorRe_);if(o){e=Number(o[1]);var t=Number(o[2]);if(o=Number(o[3]),0<=e&&e<=255&&0<=t&&t<=255&&0<=o&&o<=255)return[e,t,o]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,o,t){var n=0,r=0,i=0;if(0==o)i=r=n=t;else{var s=Math.floor(e/60),l=e/60-s;e=t*(1-o);var g=t*(1-o*l);switch(o=t*(1-o*(1-l)),s){case 1:n=g,r=t,i=e;break;case 2:n=e,r=t,i=o;break;case 3:n=e,r=g,i=t;break;case 4:n=o,r=e,i=t;break;case 5:n=t,r=e,i=g;break;case 6:case 0:n=t,r=o,i=e}}return[Math.floor(n),Math.floor(r),Math.floor(i)]},goog.color.rgbToHsv=function(e,o,t){var n=Math.max(Math.max(e,o),t),r=Math.min(Math.min(e,o),t);if(r==n)r=e=0;else{var i=n-r;r=i/n,(e=60*(e==n?(o-t)/i:o==n?2+(t-e)/i:4+(e-o)/i))<0&&(e+=360),360<e&&(e-=360)}return[e,r,n]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,o,t){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,o,t))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,o,t){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,o,t))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,o){var t=e[2]<=.5?e[1]*e[2]:e[1]*(1-e[2]),n=o[2]<=.5?o[1]*o[2]:o[1]*(1-o[2]);return(e[2]-o[2])*(e[2]-o[2])+t*t+n*n-2*t*n*Math.cos(2*(e[0]/360-o[0]/360)*Math.PI)},goog.color.blend=function(e,o,t){return t=goog.math.clamp(t,0,1),[Math.round(t*e[0]+(1-t)*o[0]),Math.round(t*e[1]+(1-t)*o[1]),Math.round(t*e[2]+(1-t)*o[2])]},goog.color.darken=function(e,o){return goog.color.blend([0,0,0],e,o)},goog.color.lighten=function(e,o){return goog.color.blend([255,255,255],e,o)},goog.color.highContrast=function(e,o){for(var t=[],n=0;n<o.length;n++)t.push({color:o[n],diff:goog.color.yiqBrightnessDiff_(o[n],e)+goog.color.colorDiff_(o[n],e)});return t.sort(function(e,o){return o.diff-e.diff}),t[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,o){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(o))},goog.color.colorDiff_=function(e,o){return Math.abs(e[0]-o[0])+Math.abs(e[1]-o[1])+Math.abs(e[2]-o[2])},goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(e,o){if(o&&e in o)return e;var t=goog.dom.vendor.getVendorJsPrefix();return t?(t=t.toLowerCase(),t+=goog.string.toTitleCase(e),!goog.isDef(o)||t in o?t:null):null},goog.dom.vendor.getPrefixedEventType=function(e){return((goog.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},goog.math.Box=function(e,o,t,n){this.top=e,this.right=o,this.bottom=t,this.left=n},goog.math.Box.boundingBox=function(e){for(var o=new goog.math.Box(e.y,e.x,e.y,e.x),t=1;t<arguments.length;t++)o.expandToIncludeCoordinate(arguments[t]);return o},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,o,t,n){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=Number(o),this.bottom+=Number(t),this.left-=Number(n)),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,o){return e==o||!(!e||!o)&&(e.top==o.top&&e.right==o.right&&e.bottom==o.bottom&&e.left==o.left)},goog.math.Box.contains=function(e,o){return!(!e||!o)&&(o instanceof goog.math.Box?o.left>=e.left&&o.right<=e.right&&o.top>=e.top&&o.bottom<=e.bottom:o.x>=e.left&&o.x<=e.right&&o.y>=e.top&&o.y<=e.bottom)},goog.math.Box.relativePositionX=function(e,o){return o.x<e.left?o.x-e.left:o.x>e.right?o.x-e.right:0},goog.math.Box.relativePositionY=function(e,o){return o.y<e.top?o.y-e.top:o.y>e.bottom?o.y-e.bottom:0},goog.math.Box.distance=function(e,o){var t=goog.math.Box.relativePositionX(e,o),n=goog.math.Box.relativePositionY(e,o);return Math.sqrt(t*t+n*n)},goog.math.Box.intersects=function(e,o){return e.left<=o.right&&o.left<=e.right&&e.top<=o.bottom&&o.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,o,t){return e.left<=o.right+t&&o.left<=e.right+t&&e.top<=o.bottom+t&&o.top<=e.bottom+t},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(goog.asserts.assertNumber(e),this.left+=e,this.right+=e,goog.isNumber(o)&&(this.top+=o,this.bottom+=o)),this},goog.math.Box.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.left*=e,this.right*=e,this.top*=t,this.bottom*=t,this},goog.math.IRect=function(){},goog.math.Rect=function(e,o,t,n){this.left=e,this.top=o,this.width=t,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,o){return new goog.math.Rect(e.x,e.y,o.width,o.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,o){return e==o||!(!e||!o)&&(e.left==o.left&&e.width==o.width&&e.top==o.top&&e.height==o.height)},goog.math.Rect.prototype.intersection=function(e){var o=Math.max(this.left,e.left),t=Math.min(this.left+this.width,e.left+e.width);if(o<=t){var n=Math.max(this.top,e.top);if(n<=(e=Math.min(this.top+this.height,e.top+e.height)))return this.left=o,this.top=n,this.width=t-o,this.height=e-n,!0}return!1},goog.math.Rect.intersection=function(e,o){var t=Math.max(e.left,o.left),n=Math.min(e.left+e.width,o.left+o.width);if(t<=n){var r=Math.max(e.top,o.top),i=Math.min(e.top+e.height,o.top+o.height);if(r<=i)return new goog.math.Rect(t,r,n-t,i-r)}return null},goog.math.Rect.intersects=function(e,o){return e.left<=o.left+o.width&&o.left<=e.left+e.width&&e.top<=o.top+o.height&&o.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,o){var t=goog.math.Rect.intersection(e,o);if(!t||!t.height||!t.width)return[e.clone()];t=[];var n=e.top,r=e.height,i=e.left+e.width,s=e.top+e.height,l=o.left+o.width,g=o.top+o.height;return o.top>e.top&&(t.push(new goog.math.Rect(e.left,e.top,e.width,o.top-e.top)),n=o.top,r-=o.top-e.top),g<s&&(t.push(new goog.math.Rect(e.left,g,e.width,s-g)),r=g-n),o.left>e.left&&t.push(new goog.math.Rect(e.left,n,o.left-e.left,r)),l<i&&t.push(new goog.math.Rect(l,n,i-l,r)),t},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var o=Math.max(this.left+this.width,e.left+e.width),t=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=o-this.left,this.height=t-this.top},goog.math.Rect.boundingRect=function(e,o){if(!e||!o)return null;var t=new goog.math.Rect(e.left,e.top,e.width,e.height);return t.boundingRect(o),t},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Coordinate?e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height:this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height},goog.math.Rect.prototype.squaredDistance=function(e){var o=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return o*o+(e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0))*e},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,o){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=goog.asserts.assertNumber(e),goog.isNumber(o)&&(this.top+=o)),this},goog.math.Rect.prototype.scale=function(e,o){var t=goog.isNumber(o)?o:e;return this.left*=e,this.width*=e,this.top*=t,this.height*=t,this},goog.style={},goog.style.setStyle=function(e,o,t){if(goog.isString(o))goog.style.setStyle_(e,t,o);else for(var n in o)goog.style.setStyle_(e,o[n],n)},goog.style.setStyle_=function(e,o,t){(t=goog.style.getVendorJsStyleName_(e,t))&&(e.style[t]=o)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,o){var t=goog.style.styleNameCache_[o];if(!t){var n=goog.string.toCamelCase(o);t=n,void 0===e.style[n]&&(n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n),void 0!==e.style[n]&&(t=n)),goog.style.styleNameCache_[o]=t}return t},goog.style.getVendorStyleName_=function(e,o){var t=goog.string.toCamelCase(o);return void 0===e.style[t]&&(t=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(t),void 0!==e.style[t])?goog.dom.vendor.getVendorPrefix()+"-"+o:o},goog.style.getStyle=function(e,o){var t=e.style[goog.string.toCamelCase(o)];return void 0!==t?t:e.style[goog.style.getVendorJsStyleName_(e,o)]||""},goog.style.getComputedStyle=function(e,o){var t=goog.dom.getOwnerDocument(e);return t.defaultView&&t.defaultView.getComputedStyle&&(t=t.defaultView.getComputedStyle(e,null))&&(t[o]||t.getPropertyValue(o))||""},goog.style.getCascadedStyle=function(e,o){return e.currentStyle?e.currentStyle[o]:null},goog.style.getStyle_=function(e,o){return goog.style.getComputedStyle(e,o)||goog.style.getCascadedStyle(e,o)||e.style&&e.style[o]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var o=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,o)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,o,t){if(o instanceof goog.math.Coordinate){var n=o.x;o=o.y}else n=o,o=t;e.style.left=goog.style.getPixelStyleValue_(n,!1),e.style.top=goog.style.getPixelStyleValue_(o,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getViewportPageOffset=function(e){var o=e.body;return e=e.documentElement,new goog.math.Coordinate(o.scrollLeft||e.scrollLeft,o.scrollTop||e.scrollTop)},goog.style.getBoundingClientRect_=function(e){try{var o=e.getBoundingClientRect()}catch(e){return{left:0,top:0,right:0,bottom:0}}return goog.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,o.left-=e.documentElement.clientLeft+e.body.clientLeft,o.top-=e.documentElement.clientTop+e.body.clientTop),o},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(e&&"offsetParent"in e),e.offsetParent;var o=goog.dom.getOwnerDocument(e),t=goog.style.getStyle_(e,"position"),n="fixed"==t||"absolute"==t;for(e=e.parentNode;e&&e!=o;e=e.parentNode)if(e.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&e.host&&(e=e.host),t=goog.style.getStyle_(e,"position"),!(n=n&&"static"==t&&e!=o.documentElement&&e!=o.body)&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==t||"absolute"==t||"relative"==t))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var o=new goog.math.Box(0,1/0,1/0,0),t=goog.dom.getDomHelper(e),n=t.getDocument().body,r=t.getDocument().documentElement,i=t.getDocumentScrollElement();e=goog.style.getOffsetParent(e);)if(!(goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==n)&&e!=n&&e!=r&&"visible"!=goog.style.getStyle_(e,"overflow")){var s=goog.style.getPageOffset(e),l=goog.style.getClientLeftTop(e);s.x+=l.x,s.y+=l.y,o.top=Math.max(o.top,s.y),o.right=Math.min(o.right,s.x+e.clientWidth),o.bottom=Math.min(o.bottom,s.y+e.clientHeight),o.left=Math.max(o.left,s.x)}return n=i.scrollLeft,i=i.scrollTop,o.left=Math.max(o.left,n),o.top=Math.max(o.top,i),t=t.getViewportSize(),o.right=Math.min(o.right,n+t.width),o.bottom=Math.min(o.bottom,i+t.height),0<=o.top&&0<=o.left&&o.bottom>o.top&&o.right>o.left?o:null},goog.style.getContainerOffsetToScrollInto=function(e,o,t){var n=o||goog.dom.getDocumentScrollElement(),r=goog.style.getPageOffset(e),i=goog.style.getPageOffset(n),s=goog.style.getBorderBox(n);return n==goog.dom.getDocumentScrollElement()?(o=r.x-n.scrollLeft,r=r.y-n.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(o+=s.left,r+=s.top)):(o=r.x-i.x-s.left,r=r.y-i.y-s.top),s=goog.style.getSizeWithDisplay_(e),e=n.clientWidth-s.width,s=n.clientHeight-s.height,i=n.scrollLeft,n=n.scrollTop,t?(i+=o-e/2,n+=r-s/2):(i+=Math.min(o,Math.max(o-e,0)),n+=Math.min(r,Math.max(r-s,0))),new goog.math.Coordinate(i,n)},goog.style.scrollIntoContainerView=function(e,o,t){o=o||goog.dom.getDocumentScrollElement(),e=goog.style.getContainerOffsetToScrollInto(e,o,t),o.scrollLeft=e.x,o.scrollTop=e.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var o=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var t=new goog.math.Coordinate(0,0);return e==goog.style.getClientViewportElement(o)||(e=goog.style.getBoundingClientRect_(e),o=goog.dom.getDomHelper(o).getDocumentScroll(),t.x=e.left+o.x,t.y=e.top+o.y),t},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,o){var t=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(e));if(!goog.reflect.canAccessProperty(n,"parent"))return t;var r=e;do{var i=n==o?goog.style.getPageOffset(r):goog.style.getClientPositionForElement_(goog.asserts.assert(r));t.x+=i.x,t.y+=i.y}while(n&&n!=o&&n!=n.parent&&(r=n.frameElement)&&(n=n.parent));return t},goog.style.translateRectForAnotherFrame=function(e,o,t){if(o.getDocument()!=t.getDocument()){var n=o.getDocument().body;t=goog.style.getFramedPageOffset(n,t.getWindow()),t=goog.math.Coordinate.difference(t,goog.style.getPageOffset(n)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||o.isCss1CompatMode()||(t=goog.math.Coordinate.difference(t,o.getDocumentScroll())),e.left+=t.x,e.top+=t.y}},goog.style.getRelativePosition=function(e,o){var t=goog.style.getClientPosition(e),n=goog.style.getClientPosition(o);return new goog.math.Coordinate(t.x-n.x,t.y-n.y)},goog.style.getClientPositionForElement_=function(e){return e=goog.style.getBoundingClientRect_(e),new goog.math.Coordinate(e.left,e.top)},goog.style.getClientPosition=function(e){return goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT?goog.style.getClientPositionForElement_(e):(e=e.changedTouches?e.changedTouches[0]:e,new goog.math.Coordinate(e.clientX,e.clientY))},goog.style.setPageOffset=function(e,o,t){var n=goog.style.getPageOffset(e);o instanceof goog.math.Coordinate&&(t=o.y,o=o.x),o=goog.asserts.assertNumber(o)-n.x,goog.style.setPosition(e,e.offsetLeft+o,e.offsetTop+(Number(t)-n.y))},goog.style.setSize=function(e,o,t){if(o instanceof goog.math.Size)t=o.height,o=o.width;else if(null==t)throw Error("missing height argument");goog.style.setWidth(e,o),goog.style.setHeight(e,t)},goog.style.getPixelStyleValue_=function(e,o){return"number"==typeof e&&(e=(o?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,o){e.style.height=goog.style.getPixelStyleValue_(o,!0)},goog.style.setWidth=function(e,o){e.style.width=goog.style.getPixelStyleValue_(o,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,o){if("none"!=goog.style.getStyle_(o,"display"))return e(o);var t=o.style,n=t.display,r=t.visibility,i=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";var s=e(o);return t.display=n,t.position=i,t.visibility=r,s},goog.style.getSizeWithDisplay_=function(e){var o=e.offsetWidth,t=e.offsetHeight,n=goog.userAgent.WEBKIT&&!o&&!t;return goog.isDef(o)&&!n||!e.getBoundingClientRect?new goog.math.Size(o,t):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e),new goog.math.Size(e.right-e.left,e.bottom-e.top)):null},goog.style.getBounds=function(e){var o=goog.style.getPageOffset(e);return e=goog.style.getSize(e),new goog.math.Rect(o.x,o.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){goog.asserts.assert(e);var o=e.style;return e="","opacity"in o?e=o.opacity:"MozOpacity"in o?e=o.MozOpacity:"filter"in o&&(o=o.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(o[1]/100)),""==e?e:Number(e)},goog.style.setOpacity=function(e,o){goog.asserts.assert(e);var t=e.style;"opacity"in t?t.opacity=o:"MozOpacity"in t?t.MozOpacity=o:"filter"in t&&(t.filter=""===o?"":"alpha(opacity="+100*Number(o)+")")},goog.style.setTransparentBackgroundImage=function(e,o){var t=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?t.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+o+'", sizingMethod="crop")':(t.backgroundImage="url("+o+")",t.backgroundPosition="top left",t.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){"filter"in(e=e.style)?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,o){goog.style.setElementShown(e,o)},goog.style.setElementShown=function(e,o){e.style.display=o?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installSafeStyleSheet=function(e,o){var t=goog.dom.getDomHelper(o),n=t.getDocument();if(goog.userAgent.IE&&n.createStyleSheet)return t=n.createStyleSheet(),goog.style.setSafeStyleSheet(t,e),t;if(!(n=t.getElementsByTagNameAndClass("HEAD")[0])){var r=t.getElementsByTagNameAndClass("BODY")[0];n=t.createDom("HEAD"),r.parentNode.insertBefore(n,r)}return r=t.createDom("STYLE"),goog.style.setSafeStyleSheet(r,e),t.appendChild(n,r),r},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setSafeStyleSheet=function(e,o){var t=goog.html.SafeStyleSheet.unwrap(o);goog.userAgent.IE&&goog.isDef(e.cssText)?e.cssText=t:e.innerHTML=t},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){(e=e.style).position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display="inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():!(!goog.userAgent.IE&&!goog.userAgent.OPERA)&&"on"==e.getAttribute("unselectable")},goog.style.setUnselectable=function(e,o,t){t=t?null:e.getElementsByTagName("*");var n=goog.style.unselectableStyle_;if(n){if(o=o?"none":"",e.style&&(e.style[n]=o),t){e=0;for(var r;r=t[e];e++)r.style&&(r.style[n]=o)}}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(o=o?"on":"",e.setAttribute("unselectable",o),t))for(e=0;r=t[e];e++)r.setAttribute("unselectable",o)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,o){var t=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(t).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,o,"border-box");else if(t=e.style,n){n=goog.style.getPaddingBox(e);var r=goog.style.getBorderBox(e);t.pixelWidth=o.width-r.left-n.left-n.right-r.right,t.pixelHeight=o.height-r.top-n.top-n.bottom-r.bottom}else t.pixelWidth=o.width,t.pixelHeight=o.height},goog.style.getContentBoxSize=function(e){var o=goog.dom.getOwnerDocument(e),t=goog.userAgent.IE&&e.currentStyle;return t&&goog.dom.getDomHelper(o).isCss1CompatMode()&&"auto"!=t.width&&"auto"!=t.height&&!t.boxSizing?(o=goog.style.getIePixelValue_(e,t.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,t.height,"height","pixelHeight"),new goog.math.Size(o,e)):(t=goog.style.getBorderBoxSize(e),o=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(t.width-e.left-o.left-o.right-e.right,t.height-e.top-o.top-o.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,o){var t=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(t).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,o,"content-box");else if(t=e.style,n)t.pixelWidth=o.width,t.pixelHeight=o.height;else{n=goog.style.getPaddingBox(e);var r=goog.style.getBorderBox(e);t.pixelWidth=o.width+r.left+n.left+n.right+r.right,t.pixelHeight=o.height+r.top+n.top+n.bottom+r.bottom}},goog.style.setBoxSizingSize_=function(e,o,t){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=t:goog.userAgent.WEBKIT?e.WebkitBoxSizing=t:e.boxSizing=t,e.width=Math.max(o.width,0)+"px",e.height=Math.max(o.height,0)+"px"},goog.style.getIePixelValue_=function(e,o,t,n){if(/^\d+px?$/.test(o))return parseInt(o,10);var r=e.style[t],i=e.runtimeStyle[t];return e.runtimeStyle[t]=e.currentStyle[t],e.style[t]=o,o=e.style[n],e.style[t]=r,e.runtimeStyle[t]=i,+o},goog.style.getIePixelDistance_=function(e,o){var t=goog.style.getCascadedStyle(e,o);return t?goog.style.getIePixelValue_(e,t,"left","pixelLeft"):0},goog.style.getBox_=function(e,o){if(goog.userAgent.IE){var t=goog.style.getIePixelDistance_(e,o+"Left"),n=goog.style.getIePixelDistance_(e,o+"Right"),r=goog.style.getIePixelDistance_(e,o+"Top"),i=goog.style.getIePixelDistance_(e,o+"Bottom");return new goog.math.Box(r,n,i,t)}return t=goog.style.getComputedStyle(e,o+"Left"),n=goog.style.getComputedStyle(e,o+"Right"),r=goog.style.getComputedStyle(e,o+"Top"),i=goog.style.getComputedStyle(e,o+"Bottom"),new goog.math.Box(parseFloat(r),parseFloat(n),parseFloat(i),parseFloat(t))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,o){if("none"==goog.style.getCascadedStyle(e,o+"Style"))return 0;var t=goog.style.getCascadedStyle(e,o+"Width");return t in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[t]:goog.style.getIePixelValue_(e,t,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9))return o=goog.style.getComputedStyle(e,"borderLeftWidth"),t=goog.style.getComputedStyle(e,"borderRightWidth"),n=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(t),parseFloat(e),parseFloat(o));var o=goog.style.getIePixelBorder_(e,"borderLeft"),t=goog.style.getIePixelBorder_(e,"borderRight"),n=goog.style.getIePixelBorder_(e,"borderTop");return e=goog.style.getIePixelBorder_(e,"borderBottom"),new goog.math.Box(n,t,e,o)},goog.style.getFontFamily=function(e){var o=goog.dom.getOwnerDocument(e),t="";if(o.body.createTextRange&&goog.dom.contains(o,e)){(o=o.body.createTextRange()).moveToElementText(e);try{t=o.queryCommandValue("FontName")}catch(e){t=""}}return t||(t=goog.style.getStyle_(e,"fontFamily")),1<(e=t.split(",")).length&&(t=e[0]),goog.string.stripQuotes(t,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,in:1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var o=goog.style.getStyle_(e,"fontSize"),t=goog.style.getLengthUnits(o);if(o&&"px"==t)return parseInt(o,10);if(goog.userAgent.IE){if(String(t)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,o,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(t)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,t=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,o==t?"1em":o,"left","pixelLeft")}return t=goog.dom.createDom("SPAN",{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,t),o=t.offsetHeight,goog.dom.removeNode(t),o},goog.style.parseStyleAttribute=function(e){var t={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){var o=e.match(/\s*([\w-]+)\s*:(.+)/);o&&(e=o[1],o=goog.string.trim(o[2]),t[goog.string.toCamelCase(e.toLowerCase())]=o)}),t},goog.style.toStyleAttribute=function(e){var t=[];return goog.object.forEach(e,function(e,o){t.push(goog.string.toSelectorCase(o),":",e,";")}),t.join("")},goog.style.setFloat=function(e,o){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=o},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var o=goog.dom.createElement("DIV");return e&&(o.className=e),o.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement("DIV"),goog.style.setSize(e,"200px","200px"),o.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,o),e=o.offsetWidth-o.clientWidth,goog.dom.removeNode(o),e},goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,goog.style.getCssTranslation=function(e){return(e=goog.style.getComputedTransform(e))&&(e=e.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new goog.math.Coordinate(0,0)},goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,o,t,n){return this.listen_(e,o,t,n)},goog.events.EventHandler.prototype.listenWithScope=function(e,o,t,n,r){return this.listen_(e,o,t,n,r)},goog.events.EventHandler.prototype.listen_=function(e,o,t,n,r){goog.isArray(o)||(o&&(goog.events.EventHandler.typeArray_[0]=o.toString()),o=goog.events.EventHandler.typeArray_);for(var i=0;i<o.length;i++){var s=goog.events.listen(e,o[i],t||this.handleEvent,n||!1,r||this.handler_||this);if(!s)break;this.keys_[s.key]=s}return this},goog.events.EventHandler.prototype.listenOnce=function(e,o,t,n){return this.listenOnce_(e,o,t,n)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,o,t,n,r){return this.listenOnce_(e,o,t,n,r)},goog.events.EventHandler.prototype.listenOnce_=function(e,o,t,n,r){if(goog.isArray(o))for(var i=0;i<o.length;i++)this.listenOnce_(e,o[i],t,n,r);else{if(!(e=goog.events.listenOnce(e,o,t||this.handleEvent,n,r||this.handler_||this)))return this;this.keys_[e.key]=e}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,o,t,n){return this.listenWithWrapper_(e,o,t,n)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,o,t,n,r){return this.listenWithWrapper_(e,o,t,n,r)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,o,t,n,r){return o.listen(e,t,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e,o=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&o++;return o},goog.events.EventHandler.prototype.unlisten=function(e,o,t,n,r){if(goog.isArray(o))for(var i=0;i<o.length;i++)this.unlisten(e,o[i],t,n,r);else n=goog.isObject(n)?!!n.capture:!!n,(e=goog.events.getListener(e,o,t||this.handleEvent,n,r||this.handler_||this))&&(goog.events.unlistenByKey(e),delete this.keys_[e.key]);return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,o,t,n,r){return o.unlisten(e,t,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(e,o){this.keys_.hasOwnProperty(o)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.ui={},goog.ui.IdGenerator=function(){},goog.addSingletonGetter(goog.ui.IdGenerator),goog.ui.IdGenerator.prototype.nextId_=0,goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)},goog.ui.Component=function(e){goog.events.EventTarget.call(this),this.dom_=e||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.childIndex_=this.children_=this.parent_=this.model_=null,this.wasDecorated_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.ui.Component.ALLOW_DETACHED_DECORATION=!1,goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.ui.Component.DEFAULT_BIDI_DIR=0,goog.ui.Component.defaultRightToLeft_=1!=goog.ui.Component.DEFAULT_BIDI_DIR&&(-1==goog.ui.Component.DEFAULT_BIDI_DIR||null),goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(e,o){switch(e){case goog.ui.Component.State.DISABLED:return o?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return o?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return o?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return o?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return o?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return o?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return o?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(e){goog.ui.Component.defaultRightToLeft_=e},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(e){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,e,this)),this.id_=e},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var e=this.element_;return goog.asserts.assert(e,"Can not call getElementStrict before rendering/decorating."),e},goog.ui.Component.prototype.setElementInternal=function(e){this.element_=e},goog.ui.Component.prototype.getElementsByClass=function(e){return this.element_?this.dom_.getElementsByClass(e,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(e){return this.element_?this.dom_.getElementByClass(e,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(e){var o=this.getElementByClass(e);return goog.asserts.assert(o,"Expected element in component with class: %s",e),o},goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this)),goog.asserts.assert(this.googUiComponentHandler_)},goog.ui.Component.prototype.setParent=function(e){if(this==e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e,goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(e){if(this.parent_&&this.parent_!=e)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement("DIV")},goog.ui.Component.prototype.render=function(e){this.render_(e)},goog.ui.Component.prototype.renderBefore=function(e){this.render_(e.parentNode,e)},goog.ui.Component.prototype.render_=function(e,o){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,o||null):this.dom_.getDocument().body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},goog.ui.Component.prototype.decorate=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!e||!this.canDecorate(e))throw Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var o=goog.dom.getOwnerDocument(e);this.dom_&&this.dom_.getDocument()==o||(this.dom_=goog.dom.getDomHelper(e)),this.decorateInternal(e),goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(o,e)||this.enterDocument()};goog.ui.Component.prototype.canDecorate=function(e){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(e){this.element_=e},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()})},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(e){e.isInDocument()&&e.exitDocument()}),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild(function(e){e.dispose()}),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(e){return this.getId()+"."+e},goog.ui.Component.prototype.makeIds=function(e){var o,t={};for(o in e)t[o]=this.makeId(e[o]);return t},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(e){this.model_=e},goog.ui.Component.prototype.getFragmentFromId=function(e){return e.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(e){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(e))},goog.ui.Component.prototype.addChild=function(e,o){this.addChildAt(e,this.getChildCount(),o)},goog.ui.Component.prototype.addChildAt=function(e,o,t){if(goog.asserts.assert(!!e,"Provided element must not be null."),e.inDocument_&&(t||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(o<0||o>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),e.getParent()==this?(goog.object.set(this.childIndex_,e.getId(),e),goog.array.remove(this.children_,e)):goog.object.add(this.childIndex_,e.getId(),e),e.setParent(this),goog.array.insertAt(this.children_,e,o),e.inDocument_&&this.inDocument_&&e.getParent()==this?(o=(t=this.getContentElement()).childNodes[o]||null)!=e.getElement()&&t.insertBefore(e.getElement(),o):t?(this.element_||this.createDom(),o=this.getChildAt(o+1),e.render_(this.getContentElement(),o?o.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&e.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var o=[];return this.forEachChild(function(e){o.push(e.getId())}),o},goog.ui.Component.prototype.getChild=function(e){return this.childIndex_&&e&&goog.object.get(this.childIndex_,e)||null},goog.ui.Component.prototype.getChildAt=function(e){return this.children_&&this.children_[e]||null},goog.ui.Component.prototype.forEachChild=function(e,o){this.children_&&goog.array.forEach(this.children_,e,o)},goog.ui.Component.prototype.indexOfChild=function(e){return this.children_&&e?goog.array.indexOf(this.children_,e):-1},goog.ui.Component.prototype.removeChild=function(e,o){if(e){var t=goog.isString(e)?e:e.getId();e=this.getChild(t),t&&e&&(goog.object.remove(this.childIndex_,t),goog.array.remove(this.children_,e),o&&(e.exitDocument(),e.element_&&goog.dom.removeNode(e.element_)),e.setParent(null))}if(!e)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return e},goog.ui.Component.prototype.removeChildAt=function(e,o){return this.removeChild(this.getChildAt(e),o)},goog.ui.Component.prototype.removeChildren=function(e){for(var o=[];this.hasChildren();)o.push(this.removeChildAt(0,e));return o},goog.a11y={},goog.a11y.aria={},goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",COLINDEX:"colindex",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",ROWINDEX:"rowindex",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"},goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"},goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"},goog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"},goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"},goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"},goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"},goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.datatables={},goog.a11y.aria.datatables.getDefaultValuesMap=function(){return goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false")),goog.a11y.aria.DefaultStateValueMap_},goog.a11y.aria.ARIA_PREFIX_="aria-",goog.a11y.aria.ROLE_ATTRIBUTE_="role",goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet("A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK".split(" ")),goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID],goog.a11y.aria.setRole=function(e,o){o?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,o),"No such ARIA role "+o),e.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,o)):goog.a11y.aria.removeRole(e)},goog.a11y.aria.getRole=function(e){return e.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null},goog.a11y.aria.removeRole=function(e){e.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)},goog.a11y.aria.setState=function(e,o,t){goog.isArray(t)&&(t=t.join(" "));var n=goog.a11y.aria.getAriaAttributeName_(o);""===t||null==t?o in(t=goog.a11y.aria.datatables.getDefaultValuesMap())?e.setAttribute(n,t[o]):e.removeAttribute(n):e.setAttribute(n,t)},goog.a11y.aria.toggleState=function(e,o){var t=goog.a11y.aria.getState(e,o);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))||"true"==t||"false"==t?goog.a11y.aria.setState(e,o,"true"==t?"false":"true"):goog.a11y.aria.removeState(e,o)},goog.a11y.aria.removeState=function(e,o){e.removeAttribute(goog.a11y.aria.getAriaAttributeName_(o))},goog.a11y.aria.getState=function(e,o){var t=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(o));return null==t||null==t?"":String(t)},goog.a11y.aria.getActiveDescendant=function(e){var o=goog.a11y.aria.getState(e,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(e).getElementById(o)},goog.a11y.aria.setActiveDescendant=function(e,o){var t="";o&&(t=o.id,goog.asserts.assert(t,"The active element should have an id.")),goog.a11y.aria.setState(e,goog.a11y.aria.State.ACTIVEDESCENDANT,t)},goog.a11y.aria.getLabel=function(e){return goog.a11y.aria.getState(e,goog.a11y.aria.State.LABEL)},goog.a11y.aria.setLabel=function(e,o){goog.a11y.aria.setState(e,goog.a11y.aria.State.LABEL,o)},goog.a11y.aria.assertRoleIsSetInternalUtil=function(e,o){if(!goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[e.tagName]){var t=goog.a11y.aria.getRole(e);goog.asserts.assert(null!=t,"The element ARIA role cannot be null."),goog.asserts.assert(goog.array.contains(o,t),'Non existing or incorrect role set for element.The role set is "'+t+'". The role should be any of "'+o+'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.')}},goog.a11y.aria.getStateBoolean=function(e,o){var t=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(o));return goog.asserts.assert(goog.isBoolean(t)||null==t||"true"==t||"false"==t),null==t?t:goog.isBoolean(t)?t:"true"==t},goog.a11y.aria.getStateNumber=function(e,o){var t=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(o));return goog.asserts.assert(!(null!=t&&isNaN(Number(t))||goog.isBoolean(t))),null==t?null:Number(t)},goog.a11y.aria.getStateString=function(e,o){var t=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(o));return goog.asserts.assert((null==t||goog.isString(t))&&(""==t||isNaN(Number(t)))&&"true"!=t&&"false"!=t),null==t||""==t?null:t},goog.a11y.aria.getStringArrayStateInternalUtil=function(e,o){var t=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(o));return goog.a11y.aria.splitStringOnWhitespace_(t)},goog.a11y.aria.hasState=function(e,o){return e.hasAttribute(goog.a11y.aria.getAriaAttributeName_(o))},goog.a11y.aria.isContainerRole=function(e){return e=goog.a11y.aria.getRole(e),goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,e)},goog.a11y.aria.splitStringOnWhitespace_=function(e){return e?e.split(/\s+/):[]},goog.a11y.aria.getAriaAttributeName_=function(e){return goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(e,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,e),"No such ARIA attribute "+e)),goog.a11y.aria.ARIA_PREFIX_+e},goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},goog.events.KeyCodes.isTextModifyingKeyEvent=function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||e.keyCode>=goog.events.KeyCodes.F1&&e.keyCode<=goog.events.KeyCodes.F12)return!1;switch(e.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;default:return e.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||e.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}},goog.events.KeyCodes.firesKeyPressEvent=function(e,o,t,n,r,i){if(!(goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525")))return!0;if(goog.userAgent.MAC&&r)return goog.events.KeyCodes.isCharacterKey(e);if(r&&!n)return!1;if(goog.isNumber(o)&&(o=goog.events.KeyCodes.normalizeKeyCode(o)),r=o==goog.events.KeyCodes.CTRL||o==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&o==goog.events.KeyCodes.META,i=o==goog.events.KeyCodes.SHIFT&&(n||i),(!t||goog.userAgent.MAC)&&r||goog.userAgent.MAC&&i)return!1;if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&n&&t)switch(e){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&n&&o==e)return!1;switch(e){case goog.events.KeyCodes.ENTER:return!0;case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE)}return goog.events.KeyCodes.isCharacterKey(e)},goog.events.KeyCodes.isCharacterKey=function(e){if(e>=goog.events.KeyCodes.ZERO&&e<=goog.events.KeyCodes.NINE||e>=goog.events.KeyCodes.NUM_ZERO&&e<=goog.events.KeyCodes.NUM_MULTIPLY||e>=goog.events.KeyCodes.A&&e<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==e)return!0;switch(e){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},goog.events.KeyCodes.normalizeKeyCode=function(e){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(e):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(e):e},goog.events.KeyCodes.normalizeGeckoKeyCode=function(e){switch(e){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return e}},goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(e){switch(e){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return e}},goog.events.KeyHandler=function(e,o){goog.events.EventTarget.call(this),e&&this.attach(e,o)},goog.inherits(goog.events.KeyHandler,goog.events.EventTarget),goog.events.KeyHandler.prototype.element_=null,goog.events.KeyHandler.prototype.keyPressKey_=null,goog.events.KeyHandler.prototype.keyDownKey_=null,goog.events.KeyHandler.prototype.keyUpKey_=null,goog.events.KeyHandler.prototype.lastKey_=-1,goog.events.KeyHandler.prototype.keyCode_=-1,goog.events.KeyHandler.prototype.altKey_=!1,goog.events.KeyHandler.EventType={KEY:"key"},goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525"),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO,goog.events.KeyHandler.prototype.handleKeyDown_=function(e){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!e.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!e.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!e.metaKey)&&this.resetState(),-1==this.lastKey_&&(e.ctrlKey&&e.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:e.altKey&&e.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:e.metaKey&&e.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META)),goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(e.keyCode,this.lastKey_,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey)?this.handleEvent(e):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(e.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=e.altKey))},goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.handleKeyup_=function(e){this.resetState(),this.altKey_=e.altKey},goog.events.KeyHandler.prototype.handleEvent=function(e){var o=e.getBrowserEvent(),t=o.altKey;if(goog.userAgent.IE&&e.type==goog.events.EventType.KEYPRESS)var n=this.keyCode_,r=n!=goog.events.KeyCodes.ENTER&&n!=goog.events.KeyCodes.ESC?o.keyCode:0;else(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&e.type==goog.events.EventType.KEYPRESS?(n=this.keyCode_,r=0<=o.charCode&&o.charCode<63232&&goog.events.KeyCodes.isCharacterKey(n)?o.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(n=this.keyCode_,r=goog.events.KeyCodes.isCharacterKey(n)?o.keyCode:0):(n=o.keyCode||this.keyCode_,r=o.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(t=this.altKey_),goog.userAgent.MAC&&r==goog.events.KeyCodes.QUESTION_MARK&&n==goog.events.KeyCodes.WIN_KEY&&(n=goog.events.KeyCodes.SLASH));var i=n=goog.events.KeyCodes.normalizeKeyCode(n);n?63232<=n&&n in goog.events.KeyHandler.safariKey_?i=goog.events.KeyHandler.safariKey_[n]:25==n&&e.shiftKey&&(i=9):o.keyIdentifier&&o.keyIdentifier in goog.events.KeyHandler.keyIdentifier_&&(i=goog.events.KeyHandler.keyIdentifier_[o.keyIdentifier]),e=i==this.lastKey_,this.lastKey_=i,(o=new goog.events.KeyEvent(i,r,e,o)).altKey=t,this.dispatchEvent(o)},goog.events.KeyHandler.prototype.getElement=function(){return this.element_},goog.events.KeyHandler.prototype.attach=function(e,o){this.keyUpKey_&&this.detach(),this.element_=e,this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,o),this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,o,this),this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,o,this)},goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null),this.element_=null,this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this),this.detach()},goog.events.KeyEvent=function(e,o,t,n){goog.events.BrowserEvent.call(this,n),this.type=goog.events.KeyHandler.EventType.KEY,this.keyCode=e,this.charCode=o,this.repeat=t},goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent),goog.dom.classlist={},goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1,goog.dom.classlist.get=function(e){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList:(e=e.className,goog.isString(e)&&e.match(/\S+/g)||[])},goog.dom.classlist.set=function(e,o){e.className=o},goog.dom.classlist.contains=function(e,o){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.contains(o):goog.array.contains(goog.dom.classlist.get(e),o)},goog.dom.classlist.add=function(e,o){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.add(o):goog.dom.classlist.contains(e,o)||(e.className+=0<e.className.length?" "+o:o)},goog.dom.classlist.addAll=function(o,e){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||o.classList)goog.array.forEach(e,function(e){goog.dom.classlist.add(o,e)});else{var t={};for(var n in goog.array.forEach(goog.dom.classlist.get(o),function(e){t[e]=!0}),goog.array.forEach(e,function(e){t[e]=!0}),o.className="",t)o.className+=0<o.className.length?" "+n:n}},goog.dom.classlist.remove=function(e,o){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.remove(o):goog.dom.classlist.contains(e,o)&&(e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return e!=o}).join(" "))},goog.dom.classlist.removeAll=function(o,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||o.classList?goog.array.forEach(t,function(e){goog.dom.classlist.remove(o,e)}):o.className=goog.array.filter(goog.dom.classlist.get(o),function(e){return!goog.array.contains(t,e)}).join(" ")},goog.dom.classlist.enable=function(e,o,t){t?goog.dom.classlist.add(e,o):goog.dom.classlist.remove(e,o)},goog.dom.classlist.enableAll=function(e,o,t){(t?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(e,o)},goog.dom.classlist.swap=function(e,o,t){return!!goog.dom.classlist.contains(e,o)&&(goog.dom.classlist.remove(e,o),goog.dom.classlist.add(e,t),!0)},goog.dom.classlist.toggle=function(e,o){var t=!goog.dom.classlist.contains(e,o);return goog.dom.classlist.enable(e,o,t),t},goog.dom.classlist.addRemove=function(e,o,t){goog.dom.classlist.remove(e,o),goog.dom.classlist.add(e,t)},goog.ui.registry={},goog.ui.registry.getDefaultRenderer=function(e){for(var o;e&&(o=goog.getUid(e),!(o=goog.ui.registry.defaultRenderers_[o]));)e=e.superClass_?e.superClass_.constructor:null;return o?goog.isFunction(o.getInstance)?o.getInstance():new o:null},goog.ui.registry.setDefaultRenderer=function(e,o){if(!goog.isFunction(e))throw Error("Invalid component class "+e);if(!goog.isFunction(o))throw Error("Invalid renderer class "+o);var t=goog.getUid(e);goog.ui.registry.defaultRenderers_[t]=o},goog.ui.registry.getDecoratorByClassName=function(e){return e in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[e]():null},goog.ui.registry.setDecoratorByClassName=function(e,o){if(!e)throw Error("Invalid class name "+e);if(!goog.isFunction(o))throw Error("Invalid decorator function "+o);goog.ui.registry.decoratorFunctions_[e]=o},goog.ui.registry.getDecorator=function(e){goog.asserts.assert(e);for(var o=goog.dom.classlist.get(e),t=0,n=o.length;t<n;t++)if(e=goog.ui.registry.getDecoratorByClassName(o[t]))return e;return null},goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={}},goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={},goog.ui.ContainerRenderer=function(e){this.ariaRole_=e},goog.addSingletonGetter(goog.ui.ContainerRenderer),goog.ui.ContainerRenderer.getCustomRenderer=function(e,o){var t=new e;return t.getCssClass=function(){return o},t},goog.ui.ContainerRenderer.CSS_CLASS="goog-container",goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_},goog.ui.ContainerRenderer.prototype.enableTabIndex=function(e,o){e&&(e.tabIndex=o?0:-1)},goog.ui.ContainerRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "))},goog.ui.ContainerRenderer.prototype.getContentElement=function(e){return e},goog.ui.ContainerRenderer.prototype.canDecorate=function(e){return"DIV"==e.tagName},goog.ui.ContainerRenderer.prototype.decorate=function(o,e){e.id&&o.setId(e.id);var t=this.getCssClass(),n=!1,r=goog.dom.classlist.get(e);return r&&goog.array.forEach(r,function(e){e==t?n=!0:e&&this.setStateFromClassName(o,e,t)},this),n||goog.dom.classlist.add(e,t),this.decorateChildren(o,this.getContentElement(e)),e},goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(e,o,t){o==t+"-disabled"?e.setEnabled(!1):o==t+"-horizontal"?e.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):o==t+"-vertical"&&e.setOrientation(goog.ui.Container.Orientation.VERTICAL)},goog.ui.ContainerRenderer.prototype.decorateChildren=function(e,o,t){if(o){t=t||o.firstChild;for(var n;t&&t.parentNode==o;){if(n=t.nextSibling,t.nodeType==goog.dom.NodeType.ELEMENT){var r=this.getDecoratorForChild(t);r&&(r.setElementInternal(t),e.isEnabled()||r.setEnabled(!1),e.addChild(r),r.decorate(t))}else t.nodeValue&&""!=goog.string.trim(t.nodeValue)||o.removeChild(t);t=n}}},goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(e){return goog.ui.registry.getDecorator(e)},goog.ui.ContainerRenderer.prototype.initializeDom=function(e){e=e.getElement(),goog.asserts.assert(e,"The container DOM element cannot be null."),goog.style.setUnselectable(e,!0,goog.userAgent.GECKO),goog.userAgent.IE&&(e.hideFocus=!0);var o=this.getAriaRole();o&&goog.a11y.aria.setRole(e,o)},goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS},goog.ui.ContainerRenderer.prototype.getClassNames=function(e){var o=this.getCssClass(),t=e.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;return t=[o,t?o+"-horizontal":o+"-vertical"],e.isEnabled()||t.push(o+"-disabled"),t},goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL},goog.ui.ControlRenderer=function(){},goog.addSingletonGetter(goog.ui.ControlRenderer),goog.tagUnsealableClass(goog.ui.ControlRenderer),goog.ui.ControlRenderer.getCustomRenderer=function(e,o){var t=new e;return t.getCssClass=function(){return o},t},goog.ui.ControlRenderer.CSS_CLASS="goog-control",goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[],goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,goog.a11y.aria.State.SELECTED),goog.ui.ControlRenderer.prototype.getAriaRole=function(){},goog.ui.ControlRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "),e.getContent())},goog.ui.ControlRenderer.prototype.getContentElement=function(e){return e},goog.ui.ControlRenderer.prototype.enableClassName=function(e,o,t){if(e=e.getElement?e.getElement():e){var n=[o];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(n=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(e),o)).push(o),goog.dom.classlist.enableAll(e,n,t)}},goog.ui.ControlRenderer.prototype.enableExtraClassName=function(e,o,t){this.enableClassName(e,o,t)},goog.ui.ControlRenderer.prototype.canDecorate=function(e){return!0},goog.ui.ControlRenderer.prototype.decorate=function(e,o){o.id&&e.setId(o.id);var t=this.getContentElement(o);t&&t.firstChild?e.setContentInternal(t.firstChild.nextSibling?goog.array.clone(t.childNodes):t.firstChild):e.setContentInternal(null);var n=0,r=this.getCssClass(),i=this.getStructuralCssClass(),s=!1,l=!1,g=!1,a=goog.array.toArray(goog.dom.classlist.get(o));goog.array.forEach(a,function(e){s||e!=r?l||e!=i?n|=this.getStateFromClass(e):l=!0:(s=!0,i==r&&(l=!0)),this.getStateFromClass(e)==goog.ui.Component.State.DISABLED&&(goog.asserts.assertElement(t),goog.dom.isFocusableTabIndex(t)&&goog.dom.setFocusableTabIndex(t,!1))},this),e.setStateInternal(n),s||(a.push(r),i==r&&(l=!0)),l||a.push(i);var c=e.getExtraClassNames();if(c&&a.push.apply(a,c),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var u=this.getAppliedCombinedClassNames_(a);0<u.length&&(a.push.apply(a,u),g=!0)}return s&&l&&!c&&!g||goog.dom.classlist.set(o,a.join(" ")),o},goog.ui.ControlRenderer.prototype.initializeDom=function(e){e.isRightToLeft()&&this.setRightToLeft(e.getElement(),!0),e.isEnabled()&&this.setFocusable(e,e.isVisible())},goog.ui.ControlRenderer.prototype.setAriaRole=function(e,o){var t=o||this.getAriaRole();t&&(goog.asserts.assert(e,"The element passed as a first parameter cannot be null."),t!=goog.a11y.aria.getRole(e)&&goog.a11y.aria.setRole(e,t))},goog.ui.ControlRenderer.prototype.setAriaStates=function(e,o){goog.asserts.assert(e),goog.asserts.assert(o);var t=e.getAriaLabel();goog.isDefAndNotNull(t)&&this.setAriaLabel(o,t),e.isVisible()||goog.a11y.aria.setState(o,goog.a11y.aria.State.HIDDEN,!e.isVisible()),e.isEnabled()||this.updateAriaState(o,goog.ui.Component.State.DISABLED,!e.isEnabled()),e.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(o,goog.ui.Component.State.SELECTED,e.isSelected()),e.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(o,goog.ui.Component.State.CHECKED,e.isChecked()),e.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(o,goog.ui.Component.State.OPENED,e.isOpen())},goog.ui.ControlRenderer.prototype.setAriaLabel=function(e,o){goog.a11y.aria.setLabel(e,o)},goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(e,o){goog.style.setUnselectable(e,!o,!goog.userAgent.IE&&!goog.userAgent.OPERA)},goog.ui.ControlRenderer.prototype.setRightToLeft=function(e,o){this.enableClassName(e,this.getStructuralCssClass()+"-rtl",o)},goog.ui.ControlRenderer.prototype.isFocusable=function(e){var o;return!(!e.isSupportedState(goog.ui.Component.State.FOCUSED)||!(o=e.getKeyEventTarget()))&&goog.dom.isFocusableTabIndex(o)},goog.ui.ControlRenderer.prototype.setFocusable=function(e,o){var t;if(e.isSupportedState(goog.ui.Component.State.FOCUSED)&&(t=e.getKeyEventTarget())){if(!o&&e.isFocused()){try{t.blur()}catch(e){}e.isFocused()&&e.handleBlur(null)}goog.dom.isFocusableTabIndex(t)!=o&&goog.dom.setFocusableTabIndex(t,o)}},goog.ui.ControlRenderer.prototype.setVisible=function(e,o){goog.style.setElementShown(e,o),e&&goog.a11y.aria.setState(e,goog.a11y.aria.State.HIDDEN,!o)},goog.ui.ControlRenderer.prototype.setState=function(e,o,t){var n=e.getElement();if(n){var r=this.getClassForState(o);r&&this.enableClassName(e,r,t),this.updateAriaState(n,o,t)}},goog.ui.ControlRenderer.prototype.updateAriaState=function(e,o,t){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED)),goog.asserts.assert(e,"The element passed as a first parameter cannot be null."),(o=goog.ui.ControlRenderer.getAriaStateForAriaRole_(e,goog.ui.ControlRenderer.ariaAttributeMap_[o]))&&goog.a11y.aria.setState(e,o,t)},goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(e,o){var t=goog.a11y.aria.getRole(e);return t?(t=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[t]||o,goog.ui.ControlRenderer.isAriaState_(o)?t:o):o},goog.ui.ControlRenderer.isAriaState_=function(e){return e==goog.a11y.aria.State.CHECKED||e==goog.a11y.aria.State.SELECTED},goog.ui.ControlRenderer.prototype.setContent=function(e,o){var t=this.getContentElement(e);if(t&&(goog.dom.removeChildren(t),o))if(goog.isString(o))goog.dom.setTextContent(t,o);else{var n=function(e){if(e){var o=goog.dom.getOwnerDocument(t);t.appendChild(goog.isString(e)?o.createTextNode(e):e)}};goog.isArray(o)?goog.array.forEach(o,n):!goog.isArrayLike(o)||"nodeType"in o?n(o):goog.array.forEach(goog.array.clone(o),n)}},goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS},goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]},goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()},goog.ui.ControlRenderer.prototype.getClassNames=function(e){var o=this.getCssClass(),t=[o],n=this.getStructuralCssClass();return n!=o&&t.push(n),o=this.getClassNamesForState(e.getState()),t.push.apply(t,o),(e=e.getExtraClassNames())&&t.push.apply(t,e),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&t.push.apply(t,this.getAppliedCombinedClassNames_(t)),t},goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(o,t){var n=[];return t&&(o=goog.array.concat(o,[t])),goog.array.forEach(this.getIe6ClassCombinations(),function(e){!goog.array.every(e,goog.partial(goog.array.contains,o))||t&&!goog.array.contains(e,t)||n.push(e.join("_"))}),n},goog.ui.ControlRenderer.prototype.getClassNamesForState=function(e){for(var o=[];e;){var t=e&-e;o.push(this.getClassForState(t)),e&=~t}return o},goog.ui.ControlRenderer.prototype.getClassForState=function(e){return this.classByState_||this.createClassByStateMap_(),this.classByState_[e]},goog.ui.ControlRenderer.prototype.getStateFromClass=function(e){return this.stateByClass_||this.createStateByClassMap_(),e=parseInt(this.stateByClass_[e],10),isNaN(e)?0:e},goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var e=this.getStructuralCssClass(),o=!goog.string.contains(goog.string.normalizeWhitespace(e)," ");goog.asserts.assert(o,"ControlRenderer has an invalid css class: '"+e+"'"),this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,e+"-disabled",goog.ui.Component.State.HOVER,e+"-hover",goog.ui.Component.State.ACTIVE,e+"-active",goog.ui.Component.State.SELECTED,e+"-selected",goog.ui.Component.State.CHECKED,e+"-checked",goog.ui.Component.State.FOCUSED,e+"-focused",goog.ui.Component.State.OPENED,e+"-open")},goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_(),this.stateByClass_=goog.object.transpose(this.classByState_)},goog.ui.Control=function(e,o,t){goog.ui.Component.call(this,t),this.renderer_=o||goog.ui.registry.getDefaultRenderer(this.constructor),this.setContentInternal(goog.isDef(e)?e:null),this.ariaLabel_=null},goog.inherits(goog.ui.Control,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Control),goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName,goog.ui.Control.getDecorator=goog.ui.registry.getDecorator,goog.ui.Control.prototype.content_=null,goog.ui.Control.prototype.state_=0,goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED,goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL,goog.ui.Control.prototype.statesWithTransitionEvents_=0,goog.ui.Control.prototype.visible_=!0,goog.ui.Control.prototype.extraClassNames_=null,goog.ui.Control.prototype.handleMouseEvents_=!0,goog.ui.Control.prototype.allowTextSelection_=!1,goog.ui.Control.prototype.preferredAriaRole_=null,goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_},goog.ui.Control.prototype.setHandleMouseEvents=function(e){this.isInDocument()&&e!=this.handleMouseEvents_&&this.enableMouseEventHandling_(e),this.handleMouseEvents_=e},goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)},goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)},goog.ui.Control.prototype.getRenderer=function(){return this.renderer_},goog.ui.Control.prototype.setRenderer=function(e){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null),this.renderer_=e},goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_},goog.ui.Control.prototype.addClassName=function(e){e&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,e)||this.extraClassNames_.push(e):this.extraClassNames_=[e],this.renderer_.enableExtraClassName(this,e,!0))},goog.ui.Control.prototype.removeClassName=function(e){e&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,e)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,e,!1))},goog.ui.Control.prototype.enableClassName=function(e,o){o?this.addClassName(e):this.removeClassName(e)},goog.ui.Control.prototype.createDom=function(){var e=this.renderer_.createDom(this);this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.isVisible()||this.renderer_.setVisible(e,!1)},goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_},goog.ui.Control.prototype.setPreferredAriaRole=function(e){this.preferredAriaRole_=e},goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_},goog.ui.Control.prototype.setAriaLabel=function(e){this.ariaLabel_=e;var o=this.getElement();o&&this.renderer_.setAriaLabel(o,e)},goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Control.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Control.prototype.decorateInternal=function(e){e=this.renderer_.decorate(this,e),this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.visible_="none"!=e.style.display},goog.ui.Control.prototype.enterDocument=function(){if(goog.ui.Control.superClass_.enterDocument.call(this),this.renderer_.setAriaStates(this,this.getElementStrict()),this.renderer_.initializeDom(this),this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var e=this.getKeyEventTarget();if(e){var o=this.getKeyHandler();o.attach(e),this.getHandler().listen(o,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.FOCUS,this.handleFocus).listen(e,goog.events.EventType.BLUR,this.handleBlur)}}},goog.ui.Control.prototype.enableMouseEventHandling_=function(e){var o=this.getHandler(),t=this.getElement();e?(o.listen(t,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(t,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(t,goog.events.EventType.MOUSEUP,this.handleMouseUp).listen(t,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&o.listen(t,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||o.listen(t,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(o.unlisten(t,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(t,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).unlisten(t,goog.events.EventType.MOUSEUP,this.handleMouseUp).unlisten(t,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&o.unlisten(t,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||o.unlisten(t,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))},goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this),this.keyHandler_&&this.keyHandler_.detach(),this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)},goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_),delete this.renderer_,this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null},goog.ui.Control.prototype.getContent=function(){return this.content_},goog.ui.Control.prototype.setContent=function(e){this.renderer_.setContent(this.getElement(),e),this.setContentInternal(e)},goog.ui.Control.prototype.setContentInternal=function(e){this.content_=e},goog.ui.Control.prototype.getCaption=function(){var e=this.getContent();return e?(e=goog.isString(e)?e:goog.isArray(e)?goog.array.map(e,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(e),goog.string.collapseBreakingSpaces(e)):""},goog.ui.Control.prototype.setCaption=function(e){this.setContent(e)},goog.ui.Control.prototype.setRightToLeft=function(e){goog.ui.Control.superClass_.setRightToLeft.call(this,e);var o=this.getElement();o&&this.renderer_.setRightToLeft(o,e)},goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_},goog.ui.Control.prototype.setAllowTextSelection=function(e){this.allowTextSelection_=e;var o=this.getElement();o&&this.renderer_.setAllowTextSelection(o,e)},goog.ui.Control.prototype.isVisible=function(){return this.visible_},goog.ui.Control.prototype.setVisible=function(e,o){if(o||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){var t=this.getElement();return t&&this.renderer_.setVisible(t,e),this.isEnabled()&&this.renderer_.setFocusable(this,e),this.visible_=e,!0}return!1},goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)},goog.ui.Control.prototype.isParentDisabled_=function(){var e=this.getParent();return!!e&&"function"==typeof e.isEnabled&&!e.isEnabled()},goog.ui.Control.prototype.setEnabled=function(e){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!e)&&(e||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,e),this.setState(goog.ui.Component.State.DISABLED,!e,!0))},goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)},goog.ui.Control.prototype.setHighlighted=function(e){this.isTransitionAllowed(goog.ui.Component.State.HOVER,e)&&this.setState(goog.ui.Component.State.HOVER,e)},goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)},goog.ui.Control.prototype.setActive=function(e){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,e)&&this.setState(goog.ui.Component.State.ACTIVE,e)},goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)},goog.ui.Control.prototype.setSelected=function(e){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,e)&&this.setState(goog.ui.Component.State.SELECTED,e)},goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)},goog.ui.Control.prototype.setChecked=function(e){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,e)&&this.setState(goog.ui.Component.State.CHECKED,e)},goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)},goog.ui.Control.prototype.setFocused=function(e){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,e)&&this.setState(goog.ui.Component.State.FOCUSED,e)},goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)},goog.ui.Control.prototype.setOpen=function(e){this.isTransitionAllowed(goog.ui.Component.State.OPENED,e)&&this.setState(goog.ui.Component.State.OPENED,e)},goog.ui.Control.prototype.getState=function(){return this.state_},goog.ui.Control.prototype.hasState=function(e){return!!(this.state_&e)},goog.ui.Control.prototype.setState=function(e,o,t){t||e!=goog.ui.Component.State.DISABLED?this.isSupportedState(e)&&o!=this.hasState(e)&&(this.renderer_.setState(this,e,o),this.state_=o?this.state_|e:this.state_&~e):this.setEnabled(!o)},goog.ui.Control.prototype.setStateInternal=function(e){this.state_=e},goog.ui.Control.prototype.isSupportedState=function(e){return!!(this.supportedStates_&e)},goog.ui.Control.prototype.setSupportedState=function(e,o){if(this.isInDocument()&&this.hasState(e)&&!o)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!o&&this.hasState(e)&&this.setState(e,!1),this.supportedStates_=o?this.supportedStates_|e:this.supportedStates_&~e},goog.ui.Control.prototype.isAutoState=function(e){return!!(this.autoStates_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setAutoStates=function(e,o){this.autoStates_=o?this.autoStates_|e:this.autoStates_&~e},goog.ui.Control.prototype.isDispatchTransitionEvents=function(e){return!!(this.statesWithTransitionEvents_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setDispatchTransitionEvents=function(e,o){this.statesWithTransitionEvents_=o?this.statesWithTransitionEvents_|e:this.statesWithTransitionEvents_&~e},goog.ui.Control.prototype.isTransitionAllowed=function(e,o){return this.isSupportedState(e)&&this.hasState(e)!=o&&(!(this.statesWithTransitionEvents_&e)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(e,o)))&&!this.isDisposed()},goog.ui.Control.prototype.handleMouseOver=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)},goog.ui.Control.prototype.handleMouseOut=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))},goog.ui.Control.prototype.handleContextMenu=goog.nullFunction,goog.ui.Control.isMouseEventWithinElement_=function(e,o){return!!e.relatedTarget&&goog.dom.contains(o,e.relatedTarget)},goog.ui.Control.prototype.handleMouseDown=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),e.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus())),!this.isAllowTextSelection()&&e.isMouseActionButton()&&e.preventDefault()},goog.ui.Control.prototype.handleMouseUp=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(e)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))},goog.ui.Control.prototype.handleDblClick=function(e){this.isEnabled()&&this.performActionInternal(e)},goog.ui.Control.prototype.performActionInternal=function(e){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked()),this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0),this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var o=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);return e&&(o.altKey=e.altKey,o.ctrlKey=e.ctrlKey,o.metaKey=e.metaKey,o.shiftKey=e.shiftKey,o.platformModifierKey=e.platformModifierKey),this.dispatchEvent(o)},goog.ui.Control.prototype.handleFocus=function(e){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)},goog.ui.Control.prototype.handleBlur=function(e){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)},goog.ui.Control.prototype.handleKeyEvent=function(e){return!!(this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(e))&&(e.preventDefault(),e.stopPropagation(),!0)},goog.ui.Control.prototype.handleKeyEventInternal=function(e){return e.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(e)},goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer),goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)}),goog.ui.Control.IeMouseEventSequenceSimulator_=function(e){goog.Disposable.call(this),this.control_=e,this.clickExpected_=!1,this.handler_=new goog.events.EventHandler(this),this.registerDisposable(this.handler_),e=this.control_.getElementStrict(),this.handler_.listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(e,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(e,goog.events.EventType.CLICK,this.handleClick_)},goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0},goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(e,o){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return e.button=goog.events.BrowserEvent.MouseButton.LEFT,e.type=o,e;var t=document.createEvent("MouseEvents");return t.initMouseEvent(o,e.bubbles,e.cancelable,e.view||null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,e.relatedTarget||null),t},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(e){if(this.clickExpected_)this.clickExpected_=!1;else{var o=e.getBrowserEvent(),t=o.button,n=o.type,r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(o,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(r,e.currentTarget)),r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(o,goog.events.EventType.MOUSEUP),this.control_.handleMouseUp(new goog.events.BrowserEvent(r,e.currentTarget)),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(o.button=t,o.type=n)}},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null,goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)},goog.ui.Container=function(e,o,t){goog.ui.Component.call(this,t),this.renderer_=o||goog.ui.ContainerRenderer.getInstance(),this.orientation_=e||this.renderer_.getDefaultOrientation()},goog.inherits(goog.ui.Container,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Container),goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"},goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},goog.ui.Container.prototype.keyEventTarget_=null,goog.ui.Container.prototype.keyHandler_=null,goog.ui.Container.prototype.renderer_=null,goog.ui.Container.prototype.orientation_=null,goog.ui.Container.prototype.visible_=!0,goog.ui.Container.prototype.enabled_=!0,goog.ui.Container.prototype.focusable_=!0,goog.ui.Container.prototype.highlightedIndex_=-1,goog.ui.Container.prototype.openItem_=null,goog.ui.Container.prototype.mouseButtonPressed_=!1,goog.ui.Container.prototype.allowFocusableChildren_=!1,goog.ui.Container.prototype.openFollowsHighlight_=!0,goog.ui.Container.prototype.childElementIdMap_=null,goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)},goog.ui.Container.prototype.setKeyEventTarget=function(e){if(!this.focusable_)throw Error("Can't set key event target for container that doesn't support keyboard focus!");var o=this.getKeyEventTarget(),t=this.isInDocument();this.keyEventTarget_=e;var n=this.getKeyEventTarget();t&&(this.keyEventTarget_=o,this.enableFocusHandling_(!1),this.keyEventTarget_=e,this.getKeyHandler().attach(n),this.enableFocusHandling_(!0))},goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))},goog.ui.Container.prototype.getRenderer=function(){return this.renderer_},goog.ui.Container.prototype.setRenderer=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=e},goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))},goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Container.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Container.prototype.decorateInternal=function(e){this.setElementInternal(this.renderer_.decorate(this,e)),"none"==e.style.display&&(this.visible_=!1)},goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this),this.forEachChild(function(e){e.isInDocument()&&this.registerChildId_(e)},this);var e=this.getElement();this.renderer_.initializeDom(this),this.setVisible(this.visible_,!0),this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(e),goog.events.EventType.MOUSEUP,this.handleDocumentMouseUp).listen(e,[goog.events.EventType.MOUSEDOWN,goog.events.EventType.MOUSEUP,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents),this.isFocusable()&&this.enableFocusHandling_(!0)},goog.ui.Container.prototype.enableFocusHandling_=function(e){var o=this.getHandler(),t=this.getKeyEventTarget();e?o.listen(t,goog.events.EventType.FOCUS,this.handleFocus).listen(t,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):o.unlisten(t,goog.events.EventType.FOCUS,this.handleFocus).unlisten(t,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)},goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1),this.openItem_&&this.openItem_.setOpen(!1),this.mouseButtonPressed_=!1,goog.ui.Container.superClass_.exitDocument.call(this)},goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null),this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null},goog.ui.Container.prototype.handleEnterItem=function(e){return!0},goog.ui.Container.prototype.handleHighlightItem=function(e){var o=this.indexOfChild(e.target);if(-1<o&&o!=this.highlightedIndex_){var t=this.getHighlighted();t&&t.setHighlighted(!1),this.highlightedIndex_=o,t=this.getHighlighted(),this.isMouseButtonPressed()&&t.setActive(!0),this.openFollowsHighlight_&&this.openItem_&&t!=this.openItem_&&(t.isSupportedState(goog.ui.Component.State.OPENED)?t.setOpen(!0):this.openItem_.setOpen(!1))}o=this.getElement(),goog.asserts.assert(o,"The DOM element for the container cannot be null."),null!=e.target.getElement()&&goog.a11y.aria.setState(o,goog.a11y.aria.State.ACTIVEDESCENDANT,e.target.getElement().id)},goog.ui.Container.prototype.handleUnHighlightItem=function(e){e.target==this.getHighlighted()&&(this.highlightedIndex_=-1),e=this.getElement(),goog.asserts.assert(e,"The DOM element for the container cannot be null."),goog.a11y.aria.removeState(e,goog.a11y.aria.State.ACTIVEDESCENDANT)},goog.ui.Container.prototype.handleOpenItem=function(e){(e=e.target)&&e!=this.openItem_&&e.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=e)},goog.ui.Container.prototype.handleCloseItem=function(e){e.target==this.openItem_&&(this.openItem_=null);var o=this.getElement(),t=e.target.getElement();o&&e.target.isHighlighted()&&t&&goog.a11y.aria.setActiveDescendant(o,t)},goog.ui.Container.prototype.handleMouseDown=function(e){this.enabled_&&this.setMouseButtonPressed(!0);var o=this.getKeyEventTarget();o&&goog.dom.isFocusableTabIndex(o)?o.focus():e.preventDefault()},goog.ui.Container.prototype.handleDocumentMouseUp=function(e){this.setMouseButtonPressed(!1)},goog.ui.Container.prototype.handleChildMouseEvents=function(e){var o=this.getOwnerControl(e.target);if(o)switch(e.type){case goog.events.EventType.MOUSEDOWN:o.handleMouseDown(e);break;case goog.events.EventType.MOUSEUP:o.handleMouseUp(e);break;case goog.events.EventType.MOUSEOVER:o.handleMouseOver(e);break;case goog.events.EventType.MOUSEOUT:o.handleMouseOut(e);break;case goog.events.EventType.CONTEXTMENU:o.handleContextMenu(e)}},goog.ui.Container.prototype.getOwnerControl=function(e){if(this.childElementIdMap_)for(var o=this.getElement();e&&e!==o;){var t=e.id;if(t in this.childElementIdMap_)return this.childElementIdMap_[t];e=e.parentNode}return null},goog.ui.Container.prototype.handleFocus=function(e){},goog.ui.Container.prototype.handleBlur=function(e){this.setHighlightedIndex(-1),this.setMouseButtonPressed(!1),this.openItem_&&this.openItem_.setOpen(!1)},goog.ui.Container.prototype.handleKeyEvent=function(e){return!(!this.isEnabled()||!this.isVisible()||0==this.getChildCount()&&!this.keyEventTarget_||!this.handleKeyEventInternal(e))&&(e.preventDefault(),e.stopPropagation(),!0)},goog.ui.Container.prototype.handleKeyEventInternal=function(e){var o=this.getHighlighted();if(o&&"function"==typeof o.handleKeyEvent&&o.handleKeyEvent(e)||this.openItem_&&this.openItem_!=o&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(e))return!0;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)return!1;switch(e.keyCode){case goog.events.KeyCodes.ESC:if(!this.isFocusable())return!1;this.getKeyEventTarget().blur();break;case goog.events.KeyCodes.HOME:this.highlightFirst();break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightPrevious();break;case goog.events.KeyCodes.LEFT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightNext():this.highlightPrevious();break;case goog.events.KeyCodes.DOWN:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightNext();break;case goog.events.KeyCodes.RIGHT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightPrevious():this.highlightNext();break;default:return!1}return!0},goog.ui.Container.prototype.registerChildId_=function(e){var o=e.getElement();o=o.id||(o.id=e.getId()),this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[o]=e},goog.ui.Container.prototype.addChild=function(e,o){goog.asserts.assertInstanceof(e,goog.ui.Control,"The child of a container must be a control"),goog.ui.Container.superClass_.addChild.call(this,e,o)},goog.ui.Container.prototype.addChildAt=function(e,o,t){goog.asserts.assertInstanceof(e,goog.ui.Control),e.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0),e.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0),!this.isFocusable()&&this.isFocusableChildrenAllowed()||e.setSupportedState(goog.ui.Component.State.FOCUSED,!1),e.setHandleMouseEvents(!1);var n=e.getParent()==this?this.indexOfChild(e):-1;goog.ui.Container.superClass_.addChildAt.call(this,e,o,t),e.isInDocument()&&this.isInDocument()&&this.registerChildId_(e),this.updateHighlightedIndex_(n,o)},goog.ui.Container.prototype.updateHighlightedIndex_=function(e,o){-1==e&&(e=this.getChildCount()),e==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,o):e>this.highlightedIndex_&&o<=this.highlightedIndex_?this.highlightedIndex_++:e<this.highlightedIndex_&&o>this.highlightedIndex_&&this.highlightedIndex_--},goog.ui.Container.prototype.removeChild=function(e,o){if(e=goog.isString(e)?this.getChild(e):e,goog.asserts.assertInstanceof(e,goog.ui.Control),e){var t=this.indexOfChild(e);-1!=t&&(t==this.highlightedIndex_?(e.setHighlighted(!1),this.highlightedIndex_=-1):t<this.highlightedIndex_&&this.highlightedIndex_--),(t=e.getElement())&&t.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,t.id)}return(e=goog.ui.Container.superClass_.removeChild.call(this,e,o)).setHandleMouseEvents(!0),e},goog.ui.Container.prototype.getOrientation=function(){return this.orientation_},goog.ui.Container.prototype.setOrientation=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=e},goog.ui.Container.prototype.isVisible=function(){return this.visible_},goog.ui.Container.prototype.setVisible=function(e,o){if(o||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=e;var t=this.getElement();return t&&(goog.style.setElementShown(t,e),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),o||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE)),!0}return!1},goog.ui.Container.prototype.isEnabled=function(){return this.enabled_},goog.ui.Container.prototype.setEnabled=function(e){this.enabled_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(e?(this.enabled_=!0,this.forEachChild(function(e){e.wasDisabled?delete e.wasDisabled:e.setEnabled(!0)})):(this.forEachChild(function(e){e.isEnabled()?e.setEnabled(!1):e.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e&&this.visible_))},goog.ui.Container.prototype.isFocusable=function(){return this.focusable_},goog.ui.Container.prototype.setFocusable=function(e){e!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(e),this.focusable_=e,this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e)},goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_},goog.ui.Container.prototype.setFocusableChildrenAllowed=function(e){this.allowFocusableChildren_=e},goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_},goog.ui.Container.prototype.setOpenFollowsHighlight=function(e){this.openFollowsHighlight_=e},goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Container.prototype.setHighlightedIndex=function(e){(e=this.getChildAt(e))?e.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)},goog.ui.Container.prototype.setHighlighted=function(e){this.setHighlightedIndex(this.indexOfChild(e))},goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(e,o){return(e+1)%o},this.getChildCount()-1)},goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(e,o){return--e<0?o-1:e},0)},goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(e,o){return(e+1)%o},this.highlightedIndex_)},goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(e,o){return--e<0?o-1:e},this.highlightedIndex_)},goog.ui.Container.prototype.highlightHelper=function(e,o){var t=o<0?this.indexOfChild(this.openItem_):o,n=this.getChildCount();t=e.call(this,t,n);for(var r=0;r<=n;){var i=this.getChildAt(t);if(i&&this.canHighlightItem(i))return this.setHighlightedIndexFromKeyEvent(t),!0;r++,t=e.call(this,t,n)}return!1},goog.ui.Container.prototype.canHighlightItem=function(e){return e.isVisible()&&e.isEnabled()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(e){this.setHighlightedIndex(e)},goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_},goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_},goog.ui.Container.prototype.setMouseButtonPressed=function(e){this.mouseButtonPressed_=e},goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuHeaderRenderer),goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader",goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS},goog.ui.MenuHeader=function(e,o,t){goog.ui.Control.call(this,e,t||goog.ui.MenuHeaderRenderer.getInstance(),o),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.MenuHeader,goog.ui.Control),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,function(){return new goog.ui.MenuHeader(null)}),goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this),this.classNameCache_=[]},goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuItemRenderer),goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem",goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2},goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(e){var o=this.classNameCache_[e];if(!o){switch(e){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:o=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:o=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:o=this.getStructuralCssClass()+"-content"}this.classNameCache_[e]=o}return o},goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM},goog.ui.MenuItemRenderer.prototype.createDom=function(e){var o=e.getDomHelper().createDom("DIV",this.getClassNames(e).join(" "),this.createContent(e.getContent(),e.getDomHelper()));return this.setEnableCheckBoxStructure(e,o,e.isSupportedState(goog.ui.Component.State.SELECTED)||e.isSupportedState(goog.ui.Component.State.CHECKED)),o},goog.ui.MenuItemRenderer.prototype.getContentElement=function(e){return e&&e.firstChild},goog.ui.MenuItemRenderer.prototype.decorate=function(e,o){return goog.asserts.assert(o),this.hasContentStructure(o)||o.appendChild(this.createContent(o.childNodes,e.getDomHelper())),goog.dom.classlist.contains(o,"goog-option")&&(e.setCheckable(!0),this.setCheckable(e,o,!0)),goog.ui.MenuItemRenderer.superClass_.decorate.call(this,e,o)},goog.ui.MenuItemRenderer.prototype.setContent=function(e,o){var t=this.getContentElement(e),n=this.hasCheckBoxStructure(e)?t.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,e,o),n&&!this.hasCheckBoxStructure(e)&&t.insertBefore(n,t.firstChild||null)},goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(e){e=goog.dom.getFirstElementChild(e);var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!e&&goog.dom.classlist.contains(e,o)},goog.ui.MenuItemRenderer.prototype.createContent=function(e,o){var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return o.createDom("DIV",t,e)},goog.ui.MenuItemRenderer.prototype.setSelectable=function(e,o,t){e&&o&&this.setEnableCheckBoxStructure(e,o,t)},goog.ui.MenuItemRenderer.prototype.setCheckable=function(e,o,t){e&&o&&this.setEnableCheckBoxStructure(e,o,t)},goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(e){if(e=this.getContentElement(e)){e=e.firstChild;var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!e&&goog.dom.isElement(e)&&goog.dom.classlist.contains(e,o)}return!1},goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(e,o,t){this.setAriaRole(o,e.getPreferredAriaRole()),this.setAriaStates(e,o),t!=this.hasCheckBoxStructure(o)&&(goog.dom.classlist.enable(o,"goog-option",t),o=this.getContentElement(o),t?(t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),o.insertBefore(e.getDomHelper().createDom("DIV",t),o.firstChild||null)):o.removeChild(o.firstChild))},goog.ui.MenuItemRenderer.prototype.getClassForState=function(e){switch(e){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(e){var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(e){case"goog-option-selected":return goog.ui.Component.State.CHECKED;case o:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS},goog.ui.MenuItem=function(e,o,t,n){goog.ui.Control.call(this,e,n||goog.ui.MenuItemRenderer.getInstance(),t),this.setValue(o)},goog.inherits(goog.ui.MenuItem,goog.ui.Control),goog.tagUnsealableClass(goog.ui.MenuItem),goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator",goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel",goog.ui.MenuItem.prototype.getValue=function(){var e=this.getModel();return null!=e?e:this.getCaption()},goog.ui.MenuItem.prototype.setValue=function(e){this.setModel(e)},goog.ui.MenuItem.prototype.setSupportedState=function(e,o){switch(goog.ui.MenuItem.superClass_.setSupportedState.call(this,e,o),e){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(o);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(o)}},goog.ui.MenuItem.prototype.setSelectable=function(e){this.setSupportedState(goog.ui.Component.State.SELECTED,e)},goog.ui.MenuItem.prototype.setSelectableInternal_=function(e){this.isChecked()&&!e&&this.setChecked(!1);var o=this.getElement();o&&this.getRenderer().setSelectable(this,o,e)},goog.ui.MenuItem.prototype.setCheckable=function(e){this.setSupportedState(goog.ui.Component.State.CHECKED,e)},goog.ui.MenuItem.prototype.setCheckableInternal_=function(e){var o=this.getElement();o&&this.getRenderer().setCheckable(this,o,e)},goog.ui.MenuItem.prototype.getCaption=function(){var e=this.getContent();if(goog.isArray(e)){var o=goog.ui.MenuItem.ACCELERATOR_CLASS,t=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;return e=goog.array.map(e,function(e){return goog.dom.isElement(e)&&(goog.dom.classlist.contains(e,o)||goog.dom.classlist.contains(e,t))?"":goog.dom.getRawTextContent(e)}).join(""),goog.string.collapseBreakingSpaces(e)}return goog.ui.MenuItem.superClass_.getCaption.call(this)},goog.ui.MenuItem.prototype.getAccelerator=function(){var e=this.getDomHelper(),o=this.getContent();return goog.isArray(o)&&(o=goog.array.find(o,function(e){return goog.dom.classlist.contains(e,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?e.getTextContent(o):null},goog.ui.MenuItem.prototype.handleMouseUp=function(e){var o=this.getParent();if(o){var t=o.openingCoords;if(o.openingCoords=null,t&&goog.isNumber(e.clientX)&&(o=new goog.math.Coordinate(e.clientX,e.clientY),goog.math.Coordinate.equals(t,o)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,e)},goog.ui.MenuItem.prototype.handleKeyEventInternal=function(e){return!(e.keyCode!=this.getMnemonic()||!this.performActionInternal(e))||goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,e)},goog.ui.MenuItem.prototype.setMnemonic=function(e){this.mnemonicKey_=e},goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)}),goog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)},goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)},goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)},goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer),goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator",goog.ui.MenuSeparatorRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom("DIV",this.getCssClass())},goog.ui.MenuSeparatorRenderer.prototype.decorate=function(e,o){if(o.id&&e.setId(o.id),"HR"==o.tagName){var t=o;o=this.createDom(e),goog.dom.insertSiblingBefore(o,t),goog.dom.removeNode(t)}else goog.dom.classlist.add(o,this.getCssClass());return o},goog.ui.MenuSeparatorRenderer.prototype.setContent=function(e,o){},goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS},goog.ui.Separator=function(e,o){goog.ui.Control.call(this,null,e||goog.ui.MenuSeparatorRenderer.getInstance(),o),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.Separator,goog.ui.Control),goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the separator cannot be null."),goog.a11y.aria.setRole(e,"separator")},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.MenuRenderer=function(e){goog.ui.ContainerRenderer.call(this,e||goog.a11y.aria.Role.MENU)},goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer),goog.addSingletonGetter(goog.ui.MenuRenderer),goog.ui.MenuRenderer.CSS_CLASS="goog-menu",goog.ui.MenuRenderer.prototype.canDecorate=function(e){return"UL"==e.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,e)},goog.ui.MenuRenderer.prototype.getDecoratorForChild=function(e){return"HR"==e.tagName?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,e)},goog.ui.MenuRenderer.prototype.containsElement=function(e,o){return goog.dom.contains(e.getElement(),o)},goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS},goog.ui.MenuRenderer.prototype.initializeDom=function(e){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,e),e=e.getElement(),goog.asserts.assert(e,"The menu DOM element cannot be null."),goog.a11y.aria.setState(e,goog.a11y.aria.State.HASPOPUP,"true")},goog.ui.MenuSeparator=function(e){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),e)},goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.Menu=function(e,o){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,o||goog.ui.MenuRenderer.getInstance(),e),this.setFocusable(!1)},goog.inherits(goog.ui.Menu,goog.ui.Container),goog.tagUnsealableClass(goog.ui.Menu),goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE},goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS,goog.ui.Menu.prototype.allowAutoFocus_=!0,goog.ui.Menu.prototype.allowHighlightDisabled_=!1,goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()},goog.ui.Menu.prototype.containsElement=function(e){if(this.getRenderer().containsElement(this,e))return!0;for(var o=0,t=this.getChildCount();o<t;o++){var n=this.getChildAt(o);if("function"==typeof n.containsElement&&n.containsElement(e))return!0}return!1},goog.ui.Menu.prototype.addItem=function(e){this.addChild(e,!0)},goog.ui.Menu.prototype.addItemAt=function(e,o){this.addChildAt(e,o,!0)},goog.ui.Menu.prototype.removeItem=function(e){(e=this.removeChild(e,!0))&&e.dispose()},goog.ui.Menu.prototype.removeItemAt=function(e){(e=this.removeChildAt(e,!0))&&e.dispose()},goog.ui.Menu.prototype.getItemAt=function(e){return this.getChildAt(e)},goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()},goog.ui.Menu.prototype.getItems=function(){var o=[];return this.forEachChild(function(e){o.push(e)}),o},goog.ui.Menu.prototype.setPosition=function(e,o){var t=this.isVisible();t||goog.style.setElementShown(this.getElement(),!0),goog.style.setPageOffset(this.getElement(),e,o),t||goog.style.setElementShown(this.getElement(),!1)},goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null},goog.ui.Menu.prototype.setAllowAutoFocus=function(e){(this.allowAutoFocus_=e)&&this.setFocusable(!0)},goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_},goog.ui.Menu.prototype.setAllowHighlightDisabled=function(e){this.allowHighlightDisabled_=e},goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_},goog.ui.Menu.prototype.setVisible=function(e,o,t){return(o=goog.ui.Menu.superClass_.setVisible.call(this,e,o))&&e&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus(),e&&t&&goog.isNumber(t.clientX)?this.openingCoords=new goog.math.Coordinate(t.clientX,t.clientY):this.openingCoords=null,o},goog.ui.Menu.prototype.handleEnterItem=function(e){return this.allowAutoFocus_&&this.getKeyEventTarget().focus(),goog.ui.Menu.superClass_.handleEnterItem.call(this,e)},goog.ui.Menu.prototype.highlightNextPrefix=function(e){var i=new RegExp("^"+goog.string.regExpEscape(e),"i");return this.highlightHelper(function(e,o){var t=e<0?0:e,n=!1;do{++e==o&&(n=!(e=0));var r=this.getChildAt(e).getCaption();if(r&&r.match(i))return e}while(!n||e!=t);return this.getHighlightedIndex()},this.getHighlightedIndex())},goog.ui.Menu.prototype.canHighlightItem=function(e){return(this.allowHighlightDisabled_||e.isEnabled())&&e.isVisible()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Menu.prototype.decorateInternal=function(e){this.decorateContent(e),goog.ui.Menu.superClass_.decorateInternal.call(this,e)},goog.ui.Menu.prototype.handleKeyEventInternal=function(o){var t=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,o);return t||this.forEachChild(function(e){!t&&e.getMnemonic&&e.getMnemonic()==o.keyCode&&(this.isEnabled()&&this.setHighlighted(e),t=e.handleKeyEvent(o))},this),t},goog.ui.Menu.prototype.setHighlightedIndex=function(e){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,e),(e=this.getChildAt(e))&&goog.style.scrollIntoContainerView(e.getElement(),this.getElement())},goog.ui.Menu.prototype.decorateContent=function(e){for(var o=this.getRenderer(),t=(e=this.getDomHelper().getElementsByTagNameAndClass("DIV",o.getCssClass()+"-content",e)).length,n=0;n<t;n++)o.decorateChildren(this,e[n])},goog.iter={},goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var o=0,t=new goog.iter.Iterator;return t.next=function(){for(;;){if(o>=e.length)throw goog.iter.StopIteration;if(o in e)return e[o++];o++}},t}throw Error("Not implemented")},goog.iter.forEach=function(e,o,t){if(goog.isArrayLike(e))try{goog.array.forEach(e,o,t)}catch(e){if(e!==goog.iter.StopIteration)throw e}else{e=goog.iter.toIterator(e);try{for(;;)o.call(t,e.next(),void 0,e)}catch(e){if(e!==goog.iter.StopIteration)throw e}}},goog.iter.filter=function(e,o,t){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){for(;;){var e=n.next();if(o.call(t,e,void 0,n))return e}},e},goog.iter.filterFalse=function(e,o,t){return goog.iter.filter(e,goog.functions.not(o),t)},goog.iter.range=function(e,o,t){var n=0,r=e,i=t||1;if(1<arguments.length&&(n=e,r=+o),0==i)throw Error("Range step argument must not be zero");var s=new goog.iter.Iterator;return s.next=function(){if(0<i&&r<=n||i<0&&n<=r)throw goog.iter.StopIteration;var e=n;return n+=i,e},s},goog.iter.join=function(e,o){return goog.iter.toArray(e).join(o)},goog.iter.map=function(e,o,t){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=n.next();return o.call(t,e,void 0,n)},e},goog.iter.reduce=function(e,o,t,n){var r=t;return goog.iter.forEach(e,function(e){r=o.call(n,r,e)}),r},goog.iter.some=function(e,o,t){e=goog.iter.toIterator(e);try{for(;;)if(o.call(t,e.next(),void 0,e))return!0}catch(e){if(e!==goog.iter.StopIteration)throw e}return!1},goog.iter.every=function(e,o,t){e=goog.iter.toIterator(e);try{for(;;)if(!o.call(t,e.next(),void 0,e))return!1}catch(e){if(e!==goog.iter.StopIteration)throw e}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var o=goog.iter.toIterator(e);e=new goog.iter.Iterator;var t=null;return e.next=function(){for(;;){if(null==t){var e=o.next();t=goog.iter.toIterator(e)}try{return t.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;t=null}}},e},goog.iter.dropWhile=function(e,o,t){var n=goog.iter.toIterator(e);e=new goog.iter.Iterator;var r=!0;return e.next=function(){for(;;){var e=n.next();if(!r||!o.call(t,e,void 0,n))return r=!1,e}},e},goog.iter.takeWhile=function(e,o,t){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=n.next();if(o.call(t,e,void 0,n))return e;throw goog.iter.StopIteration},e},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var o=[];return goog.iter.forEach(e,function(e){o.push(e)}),o},goog.iter.equals=function(e,o,t){e=goog.iter.zipLongest({},e,o);var n=t||goog.array.defaultCompareEquality;return goog.iter.every(e,function(e){return n(e[0],e[1])})},goog.iter.nextOrValue=function(e,o){try{return goog.iter.toIterator(e).next()}catch(e){if(e!=goog.iter.StopIteration)throw e;return o}},goog.iter.product=function(e){if(goog.array.some(arguments,function(e){return!e.length})||!arguments.length)return new goog.iter.Iterator;var o=new goog.iter.Iterator,t=arguments,n=goog.array.repeat(0,t.length);return o.next=function(){if(n){for(var e=goog.array.map(n,function(e,o){return t[o][e]}),o=n.length-1;0<=o;o--){if(goog.asserts.assert(n),n[o]<t[o].length-1){n[o]++;break}if(0==o){n=null;break}n[o]=0}return e}throw goog.iter.StopIteration},o},goog.iter.cycle=function(e){var o=goog.iter.toIterator(e),t=[],n=0;e=new goog.iter.Iterator;var r=!1;return e.next=function(){var e=null;if(!r)try{return e=o.next(),t.push(e),e}catch(e){if(e!=goog.iter.StopIteration||goog.array.isEmpty(t))throw e;r=!0}return e=t[n],n=(n+1)%t.length,e},e},goog.iter.count=function(e,o){var t=e||0,n=goog.isDef(o)?o:1,r=new goog.iter.Iterator;return r.next=function(){var e=t;return t+=n,e},r},goog.iter.repeat=function(e){var o=new goog.iter.Iterator;return o.next=goog.functions.constant(e),o},goog.iter.accumulate=function(e){var o=goog.iter.toIterator(e),t=0;return(e=new goog.iter.Iterator).next=function(){return t+=o.next()},e},goog.iter.zip=function(e){var o=arguments,t=new goog.iter.Iterator;if(0<o.length){var n=goog.array.map(o,goog.iter.toIterator);t.next=function(){return goog.array.map(n,function(e){return e.next()})}}return t},goog.iter.zipLongest=function(n,e){var o=goog.array.slice(arguments,1),t=new goog.iter.Iterator;if(0<o.length){var r=goog.array.map(o,goog.iter.toIterator);t.next=function(){var t=!1,e=goog.array.map(r,function(e){try{var o=e.next();t=!0}catch(e){if(e!==goog.iter.StopIteration)throw e;o=n}return o});if(!t)throw goog.iter.StopIteration;return e}}return t},goog.iter.compress=function(e,o){var t=goog.iter.toIterator(o);return goog.iter.filter(e,function(){return!!t.next()})},goog.iter.GroupByIterator_=function(e,o){this.iterator=goog.iter.toIterator(e),this.keyFunc=o||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var o=[];this.currentKey==e;){o.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(e){if(e!==goog.iter.StopIteration)throw e;break}this.currentKey=this.keyFunc(this.currentValue)}return o},goog.iter.groupBy=function(e,o){return new goog.iter.GroupByIterator_(e,o)},goog.iter.starMap=function(e,o,t){var n=goog.iter.toIterator(e);return(e=new goog.iter.Iterator).next=function(){var e=goog.iter.toArray(n.next());return o.apply(t,goog.array.concat(e,void 0,n))},e},goog.iter.tee=function(e,o){var t=goog.iter.toIterator(e),n=goog.isNumber(o)?o:2,r=goog.array.map(goog.array.range(n),function(){return[]});return goog.array.map(r,function(e){var o=new goog.iter.Iterator;return o.next=function(){var o;return goog.array.isEmpty(e)&&(o=t.next(),goog.array.forEach(r,function(e){e.push(o)})),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift()},o})},goog.iter.enumerate=function(e,o){return goog.iter.zip(goog.iter.count(o),e)},goog.iter.limit=function(e,o){goog.asserts.assert(goog.math.isInt(o)&&0<=o);var t=goog.iter.toIterator(e),n=new goog.iter.Iterator,r=o;return n.next=function(){if(0<r--)return t.next();throw goog.iter.StopIteration},n},goog.iter.consume=function(e,o){goog.asserts.assert(goog.math.isInt(o)&&0<=o);for(var t=goog.iter.toIterator(e);0<o--;)goog.iter.nextOrValue(t,null);return t},goog.iter.slice=function(e,o,t){return goog.asserts.assert(goog.math.isInt(o)&&0<=o),e=goog.iter.consume(e,o),goog.isNumber(t)&&(goog.asserts.assert(goog.math.isInt(t)&&o<=t),e=goog.iter.limit(e,t-o)),e},goog.iter.hasDuplicates_=function(e){var o=[];return goog.array.removeDuplicates(e,o),e.length!=o.length},goog.iter.permutations=function(e,o){var t=goog.iter.toArray(e),n=goog.isNumber(o)?o:t.length;return t=goog.array.repeat(t,n),t=goog.iter.product.apply(void 0,t),goog.iter.filter(t,function(e){return!goog.iter.hasDuplicates_(e)})},goog.iter.combinations=function(e,o){function t(e){return n[e]}var n=goog.iter.toArray(e),r=goog.iter.range(n.length);r=goog.iter.permutations(r,o);var i=goog.iter.filter(r,function(e){return goog.array.isSorted(e)});return(r=new goog.iter.Iterator).next=function(){return goog.array.map(i.next(),t)},r},goog.iter.combinationsWithReplacement=function(e,o){function t(e){return n[e]}var n=goog.iter.toArray(e),r=goog.array.range(n.length);r=goog.array.repeat(r,o),r=goog.iter.product.apply(void 0,r);var i=goog.iter.filter(r,function(e){return goog.array.isSorted(e)});return(r=new goog.iter.Iterator).next=function(){return goog.array.map(i.next(),t)},r},goog.dom.TagWalkType={START_TAG:1,OTHER:0,END_TAG:-1},goog.dom.TagIterator=function(e,o,t,n,r){this.reversed=!!o,this.node=null,this.tagType=goog.dom.TagWalkType.OTHER,this.started_=!1,this.constrained=!t,e&&this.setPosition(e,n),this.depth=null!=r?r:this.tagType||0,this.reversed&&(this.depth*=-1)},goog.inherits(goog.dom.TagIterator,goog.iter.Iterator),goog.dom.TagIterator.prototype.setPosition=function(e,o,t){(this.node=e)&&(goog.isNumber(o)?this.tagType=o:this.tagType=this.node.nodeType!=goog.dom.NodeType.ELEMENT?goog.dom.TagWalkType.OTHER:this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG),goog.isNumber(t)&&(this.depth=t)},goog.dom.TagIterator.prototype.copyFrom=function(e){this.node=e.node,this.tagType=e.tagType,this.depth=e.depth,this.reversed=e.reversed,this.constrained=e.constrained},goog.dom.TagIterator.prototype.clone=function(){return new goog.dom.TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)},goog.dom.TagIterator.prototype.skipTag=function(){var e=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;this.tagType==e&&(this.tagType=-1*e,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.restartTag=function(){var e=this.reversed?goog.dom.TagWalkType.START_TAG:goog.dom.TagWalkType.END_TAG;this.tagType==e&&(this.tagType=-1*e,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.next=function(){if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog.iter.StopIteration;var e=this.node,o=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;if(this.tagType==o){var t=this.reversed?e.lastChild:e.firstChild;t?this.setPosition(t):this.setPosition(e,-1*o)}else(t=this.reversed?e.previousSibling:e.nextSibling)?this.setPosition(t):this.setPosition(e.parentNode,-1*o);this.depth+=this.tagType*(this.reversed?-1:1)}else this.started_=!0;if(e=this.node,!this.node)throw goog.iter.StopIteration;return e},goog.dom.TagIterator.prototype.isStarted=function(){return this.started_},goog.dom.TagIterator.prototype.isStartTag=function(){return this.tagType==goog.dom.TagWalkType.START_TAG},goog.dom.TagIterator.prototype.isEndTag=function(){return this.tagType==goog.dom.TagWalkType.END_TAG},goog.dom.TagIterator.prototype.isNonElement=function(){return this.tagType==goog.dom.TagWalkType.OTHER},goog.dom.TagIterator.prototype.equals=function(e){return e.node==this.node&&(!this.node||e.tagType==this.tagType)},goog.dom.TagIterator.prototype.splice=function(e){var o=this.node;this.restartTag(),this.reversed=!this.reversed,goog.dom.TagIterator.prototype.next.call(this),this.reversed=!this.reversed;for(var t=goog.isArrayLike(e)?e:arguments,n=t.length-1;0<=n;n--)goog.dom.insertSiblingAfter(t[n],o);goog.dom.removeNode(o)},goog.dom.NodeIterator=function(e,o,t,n){goog.dom.TagIterator.call(this,e,o,t,null,n)},goog.inherits(goog.dom.NodeIterator,goog.dom.TagIterator),goog.dom.NodeIterator.prototype.next=function(){for(;goog.dom.NodeIterator.superClass_.next.call(this),this.isEndTag(););return this.node},goog.ui.PaletteRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.PaletteRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.PaletteRenderer),goog.ui.PaletteRenderer.cellId_=0,goog.ui.PaletteRenderer.CSS_CLASS="goog-palette",goog.ui.PaletteRenderer.prototype.createDom=function(e){var o=this.getClassNames(e);return e=e.getDomHelper().createDom("DIV",o,this.createGrid(e.getContent(),e.getSize(),e.getDomHelper())),goog.a11y.aria.setRole(e,goog.a11y.aria.Role.GRID),e},goog.ui.PaletteRenderer.prototype.createGrid=function(e,o,t){for(var n=[],r=0,i=0;r<o.height;r++){for(var s=[],l=0;l<o.width;l++){var g=e&&e[i++];s.push(this.createCell(g,t))}n.push(this.createRow(s,t))}return this.createTable(n,t)},goog.ui.PaletteRenderer.prototype.createTable=function(e,o){var t=o.createDom("TABLE",this.getCssClass()+"-table",o.createDom("TBODY",this.getCssClass()+"-body",e));return t.cellSpacing="0",t.cellPadding="0",t},goog.ui.PaletteRenderer.prototype.createRow=function(e,o){var t=o.createDom("TR",this.getCssClass()+"-row",e);return goog.a11y.aria.setRole(t,goog.a11y.aria.Role.ROW),t},goog.ui.PaletteRenderer.prototype.createCell=function(e,o){var t=o.createDom("TD",{class:this.getCssClass()+"-cell",id:this.getCssClass()+"-cell-"+goog.ui.PaletteRenderer.cellId_++},e);if(goog.a11y.aria.setRole(t,goog.a11y.aria.Role.GRIDCELL),goog.a11y.aria.setState(t,goog.a11y.aria.State.SELECTED,!1),!goog.dom.getTextContent(t)&&!goog.a11y.aria.getLabel(t)){var n=this.findAriaLabelForCell_(t);n&&goog.a11y.aria.setLabel(t,n)}return t},goog.ui.PaletteRenderer.prototype.findAriaLabelForCell_=function(e){e=new goog.dom.NodeIterator(e);for(var o,t="";!t&&(o=goog.iter.nextOrValue(e,null));)o.nodeType==goog.dom.NodeType.ELEMENT&&(t=goog.a11y.aria.getLabel(o)||o.title);return t},goog.ui.PaletteRenderer.prototype.canDecorate=function(e){return!1},goog.ui.PaletteRenderer.prototype.decorate=function(e,o){return null},goog.ui.PaletteRenderer.prototype.setContent=function(e,t){if(e){var o=goog.dom.getElementsByTagNameAndClass("TBODY",this.getCssClass()+"-body",e)[0];if(o){var n=0;if(goog.array.forEach(o.rows,function(e){goog.array.forEach(e.cells,function(e){if(goog.dom.removeChildren(e),t){var o=t[n++];o&&goog.dom.appendChild(e,o)}})}),n<t.length){for(var r=[],i=goog.dom.getDomHelper(e),s=o.rows[0].cells.length;n<t.length;){var l=t[n++];r.push(this.createCell(l,i)),r.length==s&&(l=this.createRow(r,i),goog.dom.appendChild(o,l),r.length=0)}if(0<r.length){for(;r.length<s;)r.push(this.createCell("",i));l=this.createRow(r,i),goog.dom.appendChild(o,l)}}}goog.style.setUnselectable(e,!0,goog.userAgent.GECKO)}},goog.ui.PaletteRenderer.prototype.getContainingItem=function(e,o){for(var t=e.getElement();o&&o.nodeType==goog.dom.NodeType.ELEMENT&&o!=t;){if("TD"==o.tagName&&goog.dom.classlist.contains(o,this.getCssClass()+"-cell"))return o.firstChild;o=o.parentNode}return null},goog.ui.PaletteRenderer.prototype.highlightCell=function(e,o,t){o&&(o=this.getCellForItem(o),goog.asserts.assert(o),goog.dom.classlist.enable(o,this.getCssClass()+"-cell-hover",t),t?goog.a11y.aria.setState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT,o.id):o.id==goog.a11y.aria.getState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT)&&goog.a11y.aria.removeState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT))},goog.ui.PaletteRenderer.prototype.getCellForItem=function(e){return e?e.parentNode:null},goog.ui.PaletteRenderer.prototype.selectCell=function(e,o,t){o&&(e=o.parentNode,goog.dom.classlist.enable(e,this.getCssClass()+"-cell-selected",t),goog.a11y.aria.setState(e,goog.a11y.aria.State.SELECTED,t))},goog.ui.PaletteRenderer.prototype.getCssClass=function(){return goog.ui.PaletteRenderer.CSS_CLASS},goog.ui.SelectionModel=function(e){goog.events.EventTarget.call(this),this.items_=[],this.addItems(e)},goog.inherits(goog.ui.SelectionModel,goog.events.EventTarget),goog.tagUnsealableClass(goog.ui.SelectionModel),goog.ui.SelectionModel.prototype.selectedItem_=null,goog.ui.SelectionModel.prototype.selectionHandler_=null,goog.ui.SelectionModel.prototype.getSelectionHandler=function(){return this.selectionHandler_},goog.ui.SelectionModel.prototype.setSelectionHandler=function(e){this.selectionHandler_=e},goog.ui.SelectionModel.prototype.getItemCount=function(){return this.items_.length},goog.ui.SelectionModel.prototype.indexOfItem=function(e){return e?goog.array.indexOf(this.items_,e):-1},goog.ui.SelectionModel.prototype.getFirst=function(){return this.items_[0]},goog.ui.SelectionModel.prototype.getLast=function(){return this.items_[this.items_.length-1]},goog.ui.SelectionModel.prototype.getItemAt=function(e){return this.items_[e]||null},goog.ui.SelectionModel.prototype.addItems=function(e){e&&(goog.array.forEach(e,function(e){this.selectItem_(e,!1)},this),goog.array.extend(this.items_,e))},goog.ui.SelectionModel.prototype.addItem=function(e){this.addItemAt(e,this.getItemCount())},goog.ui.SelectionModel.prototype.addItemAt=function(e,o){e&&(this.selectItem_(e,!1),goog.array.insertAt(this.items_,e,o))},goog.ui.SelectionModel.prototype.removeItem=function(e){e&&goog.array.remove(this.items_,e)&&e==this.selectedItem_&&(this.selectedItem_=null,this.dispatchEvent(goog.events.EventType.SELECT))},goog.ui.SelectionModel.prototype.removeItemAt=function(e){this.removeItem(this.getItemAt(e))},goog.ui.SelectionModel.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.SelectionModel.prototype.getItems=function(){return goog.array.clone(this.items_)},goog.ui.SelectionModel.prototype.setSelectedItem=function(e){e!=this.selectedItem_&&(this.selectItem_(this.selectedItem_,!1),this.selectedItem_=e,this.selectItem_(e,!0)),this.dispatchEvent(goog.events.EventType.SELECT)},goog.ui.SelectionModel.prototype.getSelectedIndex=function(){return this.indexOfItem(this.selectedItem_)},goog.ui.SelectionModel.prototype.setSelectedIndex=function(e){this.setSelectedItem(this.getItemAt(e))},goog.ui.SelectionModel.prototype.clear=function(){goog.array.clear(this.items_),this.selectedItem_=null},goog.ui.SelectionModel.prototype.disposeInternal=function(){goog.ui.SelectionModel.superClass_.disposeInternal.call(this),delete this.items_,this.selectedItem_=null},goog.ui.SelectionModel.prototype.selectItem_=function(e,o){e&&("function"==typeof this.selectionHandler_?this.selectionHandler_(e,o):"function"==typeof e.setSelected&&e.setSelected(o))},goog.ui.Palette=function(e,o,t){goog.ui.Control.call(this,e,o||goog.ui.PaletteRenderer.getInstance(),t),this.setAutoStates(goog.ui.Component.State.CHECKED|goog.ui.Component.State.SELECTED|goog.ui.Component.State.OPENED,!1),this.currentCellControl_=new goog.ui.Palette.CurrentCell_,this.currentCellControl_.setParentEventTarget(this),this.lastHighlightedIndex_=-1},goog.inherits(goog.ui.Palette,goog.ui.Control),goog.tagUnsealableClass(goog.ui.Palette),goog.ui.Palette.EventType={AFTER_HIGHLIGHT:goog.events.getUniqueId("afterhighlight")},goog.ui.Palette.prototype.size_=null,goog.ui.Palette.prototype.highlightedIndex_=-1,goog.ui.Palette.prototype.selectionModel_=null,goog.ui.Palette.prototype.disposeInternal=function(){goog.ui.Palette.superClass_.disposeInternal.call(this),this.selectionModel_&&(this.selectionModel_.dispose(),this.selectionModel_=null),this.size_=null,this.currentCellControl_.dispose()},goog.ui.Palette.prototype.setContentInternal=function(e){goog.ui.Palette.superClass_.setContentInternal.call(this,e),this.adjustSize_(),this.selectionModel_?(this.selectionModel_.clear(),this.selectionModel_.addItems(e)):(this.selectionModel_=new goog.ui.SelectionModel(e),this.selectionModel_.setSelectionHandler(goog.bind(this.selectItem_,this)),this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange)),this.highlightedIndex_=-1},goog.ui.Palette.prototype.getCaption=function(){return""},goog.ui.Palette.prototype.setCaption=function(e){},goog.ui.Palette.prototype.handleMouseOver=function(e){goog.ui.Palette.superClass_.handleMouseOver.call(this,e);var o=this.getRenderer().getContainingItem(this,e.target);o&&e.relatedTarget&&goog.dom.contains(o,e.relatedTarget)||o!=this.getHighlightedItem()&&this.setHighlightedItem(o)},goog.ui.Palette.prototype.handleMouseDown=function(e){goog.ui.Palette.superClass_.handleMouseDown.call(this,e),this.isActive()&&((e=this.getRenderer().getContainingItem(this,e.target))!=this.getHighlightedItem()&&this.setHighlightedItem(e))},goog.ui.Palette.prototype.performActionInternal=function(e){var o=this.getHighlightedItem();return!!o&&(e&&this.shouldSelectHighlightedItem_(e)&&this.setSelectedItem(o),goog.ui.Palette.superClass_.performActionInternal.call(this,e))},goog.ui.Palette.prototype.shouldSelectHighlightedItem_=function(e){return!this.getSelectedItem()||("mouseup"!=e.type||!!this.getRenderer().getContainingItem(this,e.target))},goog.ui.Palette.prototype.handleKeyEvent=function(e){var o=this.getContent();o=o?o.length:0;var t=this.size_.width;if(0==o||!this.isEnabled())return!1;if(e.keyCode==goog.events.KeyCodes.ENTER||e.keyCode==goog.events.KeyCodes.SPACE)return this.performActionInternal(e);if(e.keyCode==goog.events.KeyCodes.HOME)return this.setHighlightedIndex(0),!0;if(e.keyCode==goog.events.KeyCodes.END)return this.setHighlightedIndex(o-1),!0;var n=this.highlightedIndex_<0?this.getSelectedIndex():this.highlightedIndex_;switch(e.keyCode){case goog.events.KeyCodes.LEFT:return-1!=n&&0!=n||(n=o),this.setHighlightedIndex(n-1),e.preventDefault(),!0;case goog.events.KeyCodes.RIGHT:return n==o-1&&(n=-1),this.setHighlightedIndex(n+1),e.preventDefault(),!0;case goog.events.KeyCodes.UP:if(-1==n&&(n=o+t-1),t<=n)return this.setHighlightedIndex(n-t),e.preventDefault(),!0;break;case goog.events.KeyCodes.DOWN:if(-1==n&&(n=-t),n<o-t)return this.setHighlightedIndex(n+t),e.preventDefault(),!0}return!1},goog.ui.Palette.prototype.handleSelectionChange=function(e){},goog.ui.Palette.prototype.getSize=function(){return this.size_},goog.ui.Palette.prototype.setSize=function(e,o){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.size_=goog.isNumber(e)?new goog.math.Size(e,o):e,this.adjustSize_()},goog.ui.Palette.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Palette.prototype.getHighlightedItem=function(){var e=this.getContent();return e&&e[this.highlightedIndex_]},goog.ui.Palette.prototype.getHighlightedCellElement_=function(){return this.getRenderer().getCellForItem(this.getHighlightedItem())},goog.ui.Palette.prototype.setHighlightedIndex=function(e){e!=this.highlightedIndex_&&(this.highlightIndex_(this.highlightedIndex_,!1),this.lastHighlightedIndex_=this.highlightedIndex_,this.highlightedIndex_=e,this.highlightIndex_(e,!0),this.dispatchEvent(goog.ui.Palette.EventType.AFTER_HIGHLIGHT))},goog.ui.Palette.prototype.setHighlightedItem=function(e){var o=this.getContent();this.setHighlightedIndex(o&&e?goog.array.indexOf(o,e):-1)},goog.ui.Palette.prototype.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1},goog.ui.Palette.prototype.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null},goog.ui.Palette.prototype.setSelectedIndex=function(e){this.selectionModel_&&this.selectionModel_.setSelectedIndex(e)},goog.ui.Palette.prototype.setSelectedItem=function(e){this.selectionModel_&&this.selectionModel_.setSelectedItem(e)},goog.ui.Palette.prototype.highlightIndex_=function(e,o){if(this.getElement()){var t=this.getContent();if(t&&0<=e&&e<t.length){var n=this.getHighlightedCellElement_();this.currentCellControl_.getElement()!=n&&this.currentCellControl_.setElementInternal(n),this.currentCellControl_.tryHighlight(o)&&this.getRenderer().highlightCell(this,t[e],o)}}},goog.ui.Palette.prototype.setHighlighted=function(e){e&&-1==this.highlightedIndex_?this.setHighlightedIndex(-1<this.lastHighlightedIndex_?this.lastHighlightedIndex_:0):e||this.setHighlightedIndex(-1),goog.ui.Palette.superClass_.setHighlighted.call(this,e)},goog.ui.Palette.prototype.selectItem_=function(e,o){this.getElement()&&this.getRenderer().selectCell(this,e,o)},goog.ui.Palette.prototype.adjustSize_=function(){var e=this.getContent();e?this.size_&&this.size_.width?(e=Math.ceil(e.length/this.size_.width),(!goog.isNumber(this.size_.height)||this.size_.height<e)&&(this.size_.height=e)):(e=Math.ceil(Math.sqrt(e.length)),this.size_=new goog.math.Size(e,e)):this.size_=new goog.math.Size(0,0)},goog.ui.Palette.CurrentCell_=function(){goog.ui.Control.call(this,null),this.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0)},goog.inherits(goog.ui.Palette.CurrentCell_,goog.ui.Control),goog.ui.Palette.CurrentCell_.prototype.tryHighlight=function(e){return this.setHighlighted(e),this.isHighlighted()==e},goog.ui.ColorPalette=function(e,o,t){this.colors_=e||[],goog.ui.Palette.call(this,null,o||goog.ui.PaletteRenderer.getInstance(),t),this.setColors(this.colors_)},goog.inherits(goog.ui.ColorPalette,goog.ui.Palette),goog.tagUnsealableClass(goog.ui.ColorPalette),goog.ui.ColorPalette.prototype.normalizedColors_=null,goog.ui.ColorPalette.prototype.labels_=null,goog.ui.ColorPalette.prototype.getColors=function(){return this.colors_},goog.ui.ColorPalette.prototype.setColors=function(e,o){this.colors_=e,this.labels_=o||null,this.normalizedColors_=null,this.setContent(this.createColorNodes())},goog.ui.ColorPalette.prototype.getSelectedColor=function(){var e=this.getSelectedItem();return e?(e=goog.style.getStyle(e,"background-color"),goog.ui.ColorPalette.parseColor_(e)):null},goog.ui.ColorPalette.prototype.setSelectedColor=function(e){e=goog.ui.ColorPalette.parseColor_(e),this.normalizedColors_||(this.normalizedColors_=goog.array.map(this.colors_,function(e){return goog.ui.ColorPalette.parseColor_(e)})),this.setSelectedIndex(e?goog.array.indexOf(this.normalizedColors_,e):-1)},goog.ui.ColorPalette.prototype.createColorNodes=function(){return goog.array.map(this.colors_,function(e,o){var t=this.getDomHelper().createDom("DIV",{class:this.getRenderer().getCssClass()+"-colorswatch",style:"background-color:"+e});return t.title=this.labels_&&this.labels_[o]?this.labels_[o]:"#"==e.charAt(0)?"RGB ("+goog.color.hexToRgb(e).join(", ")+")":e,t},this)},goog.ui.ColorPalette.parseColor_=function(e){if(e)try{return goog.color.parse(e).hex}catch(e){}return null},goog.ui.ColorPicker=function(e,o){goog.ui.Component.call(this,e),this.colorPalette_=o||null,this.getHandler().listen(this,goog.ui.Component.EventType.ACTION,this.onColorPaletteAction_)},goog.inherits(goog.ui.ColorPicker,goog.ui.Component),goog.ui.ColorPicker.DEFAULT_NUM_COLS=5,goog.ui.ColorPicker.EventType={CHANGE:"change"},goog.ui.ColorPicker.prototype.focusable_=!0,goog.ui.ColorPicker.prototype.getColors=function(){return this.colorPalette_?this.colorPalette_.getColors():null},goog.ui.ColorPicker.prototype.setColors=function(e){this.colorPalette_?this.colorPalette_.setColors(e):this.createColorPalette_(e)},goog.ui.ColorPicker.prototype.addColors=function(e){this.setColors(e)},goog.ui.ColorPicker.prototype.setSize=function(e){this.colorPalette_||this.createColorPalette_([]),this.colorPalette_.setSize(e)},goog.ui.ColorPicker.prototype.getSize=function(){return this.colorPalette_?this.colorPalette_.getSize():null},goog.ui.ColorPicker.prototype.setColumnCount=function(e){this.setSize(e)},goog.ui.ColorPicker.prototype.getSelectedIndex=function(){return this.colorPalette_?this.colorPalette_.getSelectedIndex():-1},goog.ui.ColorPicker.prototype.setSelectedIndex=function(e){this.colorPalette_&&this.colorPalette_.setSelectedIndex(e)},goog.ui.ColorPicker.prototype.getSelectedColor=function(){return this.colorPalette_?this.colorPalette_.getSelectedColor():null},goog.ui.ColorPicker.prototype.setSelectedColor=function(e){this.colorPalette_&&this.colorPalette_.setSelectedColor(e)},goog.ui.ColorPicker.prototype.isFocusable=function(){return this.focusable_},goog.ui.ColorPicker.prototype.setFocusable=function(e){this.focusable_=e,this.colorPalette_&&this.colorPalette_.setSupportedState(goog.ui.Component.State.FOCUSED,e)},goog.ui.ColorPicker.prototype.canDecorate=function(e){return!1},goog.ui.ColorPicker.prototype.enterDocument=function(){goog.ui.ColorPicker.superClass_.enterDocument.call(this),this.colorPalette_&&this.colorPalette_.render(this.getElement()),this.getElement().unselectable="on"},goog.ui.ColorPicker.prototype.disposeInternal=function(){goog.ui.ColorPicker.superClass_.disposeInternal.call(this),this.colorPalette_&&(this.colorPalette_.dispose(),this.colorPalette_=null)},goog.ui.ColorPicker.prototype.focus=function(){this.colorPalette_&&this.colorPalette_.getElement().focus()},goog.ui.ColorPicker.prototype.onColorPaletteAction_=function(e){e.stopPropagation(),this.dispatchEvent(goog.ui.ColorPicker.EventType.CHANGE)},goog.ui.ColorPicker.prototype.createColorPalette_=function(e){(e=new goog.ui.ColorPalette(e,null,this.getDomHelper())).setSize(goog.ui.ColorPicker.DEFAULT_NUM_COLS),e.setSupportedState(goog.ui.Component.State.FOCUSED,this.focusable_),this.addChild(e),this.colorPalette_=e,this.isInDocument()&&this.colorPalette_.render(this.getElement())},goog.ui.ColorPicker.createSimpleColorGrid=function(e){return(e=new goog.ui.ColorPicker(e)).setSize(7),e.setColors(goog.ui.ColorPicker.SIMPLE_GRID_COLORS),e},goog.ui.ColorPicker.SIMPLE_GRID_COLORS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),goog.events.FocusHandler=function(e){goog.events.EventTarget.call(this),this.element_=e,e=goog.userAgent.IE?"focusout":"blur",this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE),this.listenKeyOut_=goog.events.listen(this.element_,e,this,!goog.userAgent.IE)},goog.inherits(goog.events.FocusHandler,goog.events.EventTarget),goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"},goog.events.FocusHandler.prototype.handleEvent=function(e){var o=e.getBrowserEvent();(o=new goog.events.BrowserEvent(o)).type="focusin"==e.type||"focus"==e.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT,this.dispatchEvent(o)},goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this),goog.events.unlistenByKey(this.listenKeyIn_),goog.events.unlistenByKey(this.listenKeyOut_),delete this.element_},goog.debug.LogRecord=function(e,o,t,n,r){this.reset(e,o,t,n,r)},goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0,goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,o,t,n,r){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof r?r:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=n||goog.now(),this.level_=e,this.msg_=o,this.loggerName_=t,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=0,goog.debug.LogBuffer.prototype.addRecord=function(e,o,t){var n=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;return this.curIndex_=n,this.isFull_?((n=this.buffer_[n]).reset(e,o,t),n):(this.isFull_=n==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[n]=new goog.debug.LogRecord(e,o,t))},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var o=this.buffer_;if(o[0])for(var t=this.curIndex_,n=this.isFull_?t:-1;e(o[n=(n+1)%goog.debug.LogBuffer.CAPACITY]),n!=t;);},goog.debug.Logger=function(e){this.name_=e,this.handlers_=this.children_=this.level_=this.parent_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.debug.Logger.ENABLE_HIERARCHY=!0,goog.debug.Logger.ENABLE_PROFILER_LOGGING=!1,goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]),goog.debug.Logger.Level=function(e,o){this.name=e,this.value=o},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,o=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[o];o++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];for(var o=0;o<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++o){var t=goog.debug.Logger.Level.PREDEFINED_LEVELS[o];if(t.value<=e)return t}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING){var o=goog.global.msWriteProfilerMark;o?o(e):(o=goog.global.console)&&o.timeStamp&&o.timeStamp(e)}},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var o=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!o&&goog.array.remove(o,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,o,t){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(o)&&(o=o()),this.doLogRecord_(this.getLogRecord(e,o,t)))},goog.debug.Logger.prototype.getLogRecord=function(e,o,t){return e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(e,o,this.name_):new goog.debug.LogRecord(e,String(o),this.name_),t&&e.setException(t),e},goog.debug.Logger.prototype.shout=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,o)},goog.debug.Logger.prototype.severe=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,o)},goog.debug.Logger.prototype.warning=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,o)},goog.debug.Logger.prototype.info=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,o)},goog.debug.Logger.prototype.config=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,o)},goog.debug.Logger.prototype.fine=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,o)},goog.debug.Logger.prototype.finer=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,o)},goog.debug.Logger.prototype.finest=function(e,o){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,o)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.ENABLE_PROFILER_LOGGING&&goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var o=this;o;)o.callPublish_(e),o=o.getParent();else{o=0;for(var t;t=goog.debug.Logger.rootHandlers_[o++];)t(e)}},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var o,t=0;o=this.handlers_[t];t++)o(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,o){this.getChildren()[e]=o},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[e]||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(o){return function(e){(o||goog.debug.LogManager.getRoot()).severe("Error: "+e.message+" ("+e.fileName+" @ Line: "+e.line+")")}},goog.debug.LogManager.createLogger_=function(e){var o=new goog.debug.Logger(e);if(goog.debug.Logger.ENABLE_HIERARCHY){var t=e.lastIndexOf("."),n=e.substr(0,t);t=e.substr(t+1),(n=goog.debug.LogManager.getLogger(n)).addChild_(t,o),o.setParent_(n)}return goog.debug.LogManager.loggers_[e]=o},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,o){if(goog.log.ENABLED){var t=goog.debug.LogManager.getLogger(e);return o&&t&&t.setLevel(o),t}return null},goog.log.addHandler=function(e,o){goog.log.ENABLED&&e&&e.addHandler(o)},goog.log.removeHandler=function(e,o){return!(!goog.log.ENABLED||!e)&&e.removeHandler(o)},goog.log.log=function(e,o,t,n){goog.log.ENABLED&&e&&e.log(o,t,n)},goog.log.error=function(e,o,t){goog.log.ENABLED&&e&&e.severe(o,t)},goog.log.warning=function(e,o,t){goog.log.ENABLED&&e&&e.warning(o,t)},goog.log.info=function(e,o,t){goog.log.ENABLED&&e&&e.info(o,t)},goog.log.fine=function(e,o,t){goog.log.ENABLED&&e&&e.fine(o,t)},goog.string.StringBuffer=function(e,o){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,o,t){if(this.buffer_+=String(e),null!=o)for(var n=1;n<arguments.length;n++)this.buffer_+=arguments[n];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.ui.tree={},goog.ui.tree.BaseNode=function(e,o,t){goog.ui.Component.call(this,t),this.config_=o||goog.ui.tree.BaseNode.defaultConfig,this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(e),this.expanded_=this.selected_=!1,this.toolTip_=null,this.afterLabelHtml_=goog.html.SafeHtml.EMPTY,this.isUserCollapsible_=!0,this.depth_=-1},goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component),goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"},goog.ui.tree.BaseNode.allNodes={},goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree.removeNode(this),this.tree=null),this.setElementInternal(null)},goog.ui.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var o=this.getLabelElement();if(o&&!o.id&&(o.id=this.getId()+".label"),goog.a11y.aria.setRole(e,"treeitem"),goog.a11y.aria.setState(e,"selected",!1),goog.a11y.aria.setState(e,"level",this.getDepth()),o&&goog.a11y.aria.setState(e,"labelledby",o.id),(o=this.getIconElement())&&goog.a11y.aria.setRole(o,"presentation"),(o=this.getExpandIconElement())&&goog.a11y.aria.setRole(o,"presentation"),(o=this.getChildrenElement())&&(goog.a11y.aria.setRole(o,"group"),o.hasChildNodes()))for(goog.a11y.aria.setState(e,goog.a11y.aria.State.EXPANDED,!1),e=this.getChildCount(),o=1;o<=e;o++){var t=this.getChildAt(o-1).getElement();goog.asserts.assert(t,"The child element cannot be null"),goog.a11y.aria.setState(t,"setsize",e),goog.a11y.aria.setState(t,"posinset",o)}}},goog.ui.tree.BaseNode.prototype.createDom=function(){var e=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(e)},goog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this),(goog.ui.tree.BaseNode.allNodes[this.getId()]=this).initAccessibility()},goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this),delete goog.ui.tree.BaseNode.allNodes[this.getId()]},goog.ui.tree.BaseNode.prototype.addChildAt=function(e,o,t){goog.asserts.assert(!e.getParent()),goog.asserts.assertInstanceof(e,goog.ui.tree.BaseNode),t=this.getChildAt(o-1);var n=this.getChildAt(o);if(goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,e,o),e.previousSibling_=t,e.nextSibling_=n,t?t.nextSibling_=e:this.firstChild_=e,n?n.previousSibling_=e:this.lastChild_=e,(o=this.getTree())&&e.setTreeInternal(o),e.setDepth_(this.getDepth()+1),(o=this.getElement())&&(this.updateExpandIcon(),goog.a11y.aria.setState(o,goog.a11y.aria.State.EXPANDED,this.getExpanded()),this.getExpanded())){o=this.getChildrenElement(),e.getElement()||e.createDom();var r=e.getElement(),i=n&&n.getElement();o.insertBefore(r,i),this.isInDocument()&&e.enterDocument(),n||(t?t.updateExpandIcon():(goog.style.setElementShown(o,!0),this.setExpanded(this.getExpanded())))}},goog.ui.tree.BaseNode.prototype.add=function(e,o){return goog.asserts.assert(!o||o.getParent()==this,"Can only add nodes before siblings"),e.getParent()&&e.getParent().removeChild(e),this.addChildAt(e,o?this.indexOfChild(o):this.getChildCount()),e},goog.ui.tree.BaseNode.prototype.removeChild=function(e,o){var t=this.getTree(),n=t?t.getSelectedItem():null;if((n==e||e.contains(n))&&(t.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select()),goog.ui.tree.BaseNode.superClass_.removeChild.call(this,e),this.lastChild_==e&&(this.lastChild_=e.previousSibling_),this.firstChild_==e&&(this.firstChild_=e.nextSibling_),e.previousSibling_&&(e.previousSibling_.nextSibling_=e.nextSibling_),e.nextSibling_&&(e.nextSibling_.previousSibling_=e.previousSibling_),n=e.isLastSibling(),e.tree=null,e.depth_=-1,t&&(t.removeNode(e),this.isInDocument())){if(t=this.getChildrenElement(),e.isInDocument()){var r=e.getElement();t.removeChild(r),e.exitDocument()}n&&(n=this.getLastChild())&&n.updateExpandIcon(),this.hasChildren()||(t.style.display="none",this.updateExpandIcon(),this.updateIcon_(),(n=this.getElement())&&goog.a11y.aria.removeState(n,goog.a11y.aria.State.EXPANDED))}return e},goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild,goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()},goog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getDepth=function(){var e=this.depth_;return e<0&&(e=this.computeDepth_(),this.setDepth_(e)),e},goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var e=this.getParent();return e?e.getDepth()+1:0},goog.ui.tree.BaseNode.prototype.setDepth_=function(o){if(o!=this.depth_){this.depth_=o;var e=this.getRowElement();if(e){var t=this.getPixelIndent_()+"px";this.isRightToLeft()?e.style.paddingRight=t:e.style.paddingLeft=t}this.forEachChild(function(e){e.setDepth_(o+1)})}},goog.ui.tree.BaseNode.prototype.contains=function(e){for(;e;){if(e==this)return!0;e=e.getParent()}return!1},goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[],goog.ui.tree.BaseNode.prototype.getChildren=function(){var o=[];return this.forEachChild(function(e){o.push(e)}),o},goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},goog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_},goog.ui.tree.BaseNode.prototype.select=function(){var e=this.getTree();e&&e.setSelectedItem(this)},goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction,goog.ui.tree.BaseNode.prototype.setSelectedInternal=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var o=this.getElement();o&&(goog.a11y.aria.setState(o,"selected",e),e&&(e=this.getTree().getElement(),goog.asserts.assert(e,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(e,"activedescendant",this.getId())))}},goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},goog.ui.tree.BaseNode.prototype.setExpandedInternal=function(e){this.expanded_=e},goog.ui.tree.BaseNode.prototype.setExpanded=function(e){var o=e!=this.expanded_;if(!o||this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){this.expanded_=e;var t=this.getTree(),n=this.getElement();if(this.hasChildren()){if(!e&&t&&this.contains(t.getSelectedItem())&&this.select(),n){if((t=this.getChildrenElement())&&(goog.style.setElementShown(t,e),goog.a11y.aria.setState(n,goog.a11y.aria.State.EXPANDED,e),e&&this.isInDocument()&&!t.hasChildNodes())){var r=[];this.forEachChild(function(e){r.push(e.toSafeHtml())}),goog.dom.safe.setInnerHtml(t,goog.html.SafeHtml.concat(r)),this.forEachChild(function(e){e.enterDocument()})}this.updateExpandIcon()}}else(t=this.getChildrenElement())&&goog.style.setElementShown(t,!1);n&&this.updateIcon_(),o&&this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}},goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},goog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)},goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)},goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild(function(e){e.collapseAll()})},goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren(),this.collapse()},goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild(function(e){e.expandAll()})},goog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren(),this.expand()},goog.ui.tree.BaseNode.prototype.reveal=function(){var e=this.getParent();e&&(e.setExpanded(!0),e.reveal())},goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(e){(this.isUserCollapsible_=e)||this.expand(),this.getElement()&&this.updateExpandIcon()},goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},goog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var e=this.getTree(),o=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren;e=this.getExpanded()&&this.hasChildren(),o={class:o,style:this.getLineStyle()};var t=[];return e&&this.forEachChild(function(e){t.push(e.toSafeHtml())}),e=goog.html.SafeHtml.create("div",o,t),goog.html.SafeHtml.create("div",{class:this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),e])},goog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var e={};e["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px",e={class:this.getRowClassName(),style:e};var o=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",e,o)},goog.ui.tree.BaseNode.prototype.getRowClassName=function(){var e=this.isSelected()?" "+this.config_.cssSelectedRow:"";return this.config_.cssTreeRow+e},goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var e=goog.html.SafeHtml.create("span",{class:this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(e,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))},goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())},goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_},goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(e){this.afterLabelHtml_=e;var o=this.getAfterLabelElement();o&&goog.dom.safe.setInnerHtml(o,e)},goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},class:this.getCalculatedIconClass()})},goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod,goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},class:this.getExpandIconClass()})},goog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var e=this.getTree(),o=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines(),t=this.config_,n=new goog.string.StringBuffer;if(n.append(t.cssTreeIcon," ",t.cssExpandTreeIcon," "),this.hasChildren()){var r=0;switch(e.getShowExpandIcons()&&this.isUserCollapsible_&&(r=this.getExpanded()?2:1),o||(r=this.isLastSibling()?r+4:r+8),r){case 1:n.append(t.cssExpandTreeIconPlus);break;case 2:n.append(t.cssExpandTreeIconMinus);break;case 4:n.append(t.cssExpandTreeIconL);break;case 5:n.append(t.cssExpandTreeIconLPlus);break;case 6:n.append(t.cssExpandTreeIconLMinus);break;case 8:n.append(t.cssExpandTreeIconT);break;case 9:n.append(t.cssExpandTreeIconTPlus);break;case 10:n.append(t.cssExpandTreeIconTMinus);break;default:n.append(t.cssExpandTreeIconBlank)}}else o?n.append(t.cssExpandTreeIconBlank):this.isLastSibling()?n.append(t.cssExpandTreeIconL):n.append(t.cssExpandTreeIconT);return n.toString()},goog.ui.tree.BaseNode.prototype.getLineStyle=function(){var e=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:e?null:"none"})},goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},goog.ui.tree.BaseNode.prototype.getElement=function(){var e=goog.ui.tree.BaseNode.superClass_.getElement.call(this);return e||(e=this.getDomHelper().getElement(this.getId()),this.setElementInternal(e)),e},goog.ui.tree.BaseNode.prototype.getRowElement=function(){var e=this.getElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null};goog.ui.tree.BaseNode.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.childNodes[1]:null},goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var e=this.getRowElement();return e&&e.lastChild?e.lastChild.previousSibling:null},goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var e=this.getRowElement();return e?e.lastChild:null},goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var e=this.getElement();return e?e.lastChild:null},goog.ui.tree.BaseNode.prototype.setIconClass=function(e){this.iconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(e){this.expandedIconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},goog.ui.tree.BaseNode.prototype.setText=function(e){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(e))},goog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))},goog.ui.tree.BaseNode.prototype.setSafeHtml=function(e){this.html_=e;var o=this.getLabelElement();o&&goog.dom.safe.setInnerHtml(o,e),(e=this.getTree())&&e.setNode(this)},goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())},goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_},goog.ui.tree.BaseNode.prototype.setToolTip=function(e){this.toolTip_=e;var o=this.getLabelElement();o&&(o.title=e)},goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_},goog.ui.tree.BaseNode.prototype.updateRow=function(){var e=this.getRowElement();e&&(e.className=this.getRowClassName())},goog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var e=this.getExpandIconElement();e&&(e.className=this.getExpandIconClass()),(e=this.getChildrenElement())&&(e.style.backgroundPosition=this.getBackgroundPosition())},goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},goog.ui.tree.BaseNode.prototype.onMouseDown=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault,goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()},goog.ui.tree.BaseNode.prototype.onKeyDown=function(e){var o=!0;switch(e.keyCode){case goog.events.KeyCodes.RIGHT:if(e.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(e.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var t=this.getParent(),n=this.getTree();t&&(n.getShowRootNode()||t!=n)&&t.select()}break;case goog.events.KeyCodes.DOWN:(t=this.getNextShownNode())&&t.select();break;case goog.events.KeyCodes.UP:(t=this.getPreviousShownNode())&&t.select();break;default:o=!1}return o&&(e.preventDefault(),(n=this.getTree())&&n.clearTypeAhead()),o},goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},goog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var e,o=this;o!=this.getTree();){if(null!=(e=o.getNextSibling()))return e;o=o.getParent()}return null},goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var e=this.getPreviousSibling();if(null!=e)return e.getLastShownDescendant();e=this.getParent();var o=this.getTree();return!o.getShowRootNode()&&e==o||this==o?null:e},goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel,goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel,goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_},goog.ui.tree.BaseNode.prototype.setTreeInternal=function(o){this.tree!=o&&((this.tree=o).setNode(this),this.forEachChild(function(e){e.setTreeInternal(o)}))},goog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",cssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",cssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"},goog.ui.tree.TreeNode=function(e,o,t){goog.ui.tree.BaseNode.call(this,e,o,t)},goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode),goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var e=this.getParent();return e&&(e=e.getTree())?(this.setTreeInternal(e),e):null},goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),o=this.getExpandedIconClass();if(e&&o)return o;if(o=this.getIconClass(),!e&&o)return o;if(o=this.getConfig(),this.hasChildren()){if(e&&o.cssExpandedFolderIcon)return o.cssTreeIcon+" "+o.cssExpandedFolderIcon;if(!e&&o.cssCollapsedFolderIcon)return o.cssTreeIcon+" "+o.cssCollapsedFolderIcon}else if(o.cssFileIcon)return o.cssTreeIcon+" "+o.cssFileIcon;return""},goog.structs={},goog.structs.getCount=function(e){return e.getCount&&"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&"function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var o=[],t=e.length,n=0;n<t;n++)o.push(e[n]);return o}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&"function"==typeof e.getKeys)return e.getKeys();if(!e.getValues||"function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){var o=[];e=e.length;for(var t=0;t<e;t++)o.push(t);return o}return goog.object.getKeys(e)}},goog.structs.contains=function(e,o){return e.contains&&"function"==typeof e.contains?e.contains(o):e.containsValue&&"function"==typeof e.containsValue?e.containsValue(o):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,o):goog.object.containsValue(e,o)},goog.structs.isEmpty=function(e){return e.isEmpty&&"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){e.clear&&"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,o,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(o,t);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,o,t);else for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,s=0;s<i;s++)o.call(t,r[s],n&&n[s],e)},goog.structs.filter=function(e,o,t){if("function"==typeof e.filter)return e.filter(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,o,t);var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length;if(n)for(var s={},l=0;l<i;l++)o.call(t,r[l],n[l],e)&&(s[n[l]]=r[l]);else for(s=[],l=0;l<i;l++)o.call(t,r[l],void 0,e)&&s.push(r[l]);return s},goog.structs.map=function(e,o,t){if("function"==typeof e.map)return e.map(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,o,t);var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length;if(n)for(var s={},l=0;l<i;l++)s[n[l]]=o.call(t,r[l],n[l],e);else for(s=[],l=0;l<i;l++)s[l]=o.call(t,r[l],void 0,e);return s},goog.structs.some=function(e,o,t){if("function"==typeof e.some)return e.some(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,o,t);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,s=0;s<i;s++)if(o.call(t,r[s],n&&n[s],e))return!0;return!1},goog.structs.every=function(e,o,t){if("function"==typeof e.every)return e.every(o,t);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,o,t);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,s=0;s<i;s++)if(!o.call(t,r[s],n&&n[s],e))return!1;return!0},goog.structs.Trie=function(e){this.value_=void 0,this.childNodes_={},e&&this.setAll(e)},goog.structs.Trie.prototype.set=function(e,o){this.setOrAdd_(e,o,!1)},goog.structs.Trie.prototype.add=function(e,o){this.setOrAdd_(e,o,!0)},goog.structs.Trie.prototype.setOrAdd_=function(e,o,t){for(var n=this,r=0;r<e.length;r++){var i=e.charAt(r);n.childNodes_[i]||(n.childNodes_[i]=new goog.structs.Trie),n=n.childNodes_[i]}if(t&&void 0!==n.value_)throw Error('The collection already contains the key "'+e+'"');n.value_=o},goog.structs.Trie.prototype.setAll=function(e){var o=goog.structs.getKeys(e);e=goog.structs.getValues(e);for(var t=0;t<o.length;t++)this.set(o[t],e[t])},goog.structs.Trie.prototype.getChildNode_=function(e){for(var o=this,t=0;t<e.length;t++){var n=e.charAt(t);if(!(o=o.childNodes_[n]))return}return o},goog.structs.Trie.prototype.get=function(e){return(e=this.getChildNode_(e))?e.value_:void 0},goog.structs.Trie.prototype.getKeyAndPrefixes=function(e,o){var t=this,n={},r=o||0;for(void 0!==t.value_&&(n[r]=t.value_);r<e.length;r++){var i=e.charAt(r);if(!(i in t.childNodes_))break;void 0!==(t=t.childNodes_[i]).value_&&(n[r]=t.value_)}return n},goog.structs.Trie.prototype.getValues=function(){var e=[];return this.getValuesInternal_(e),e},goog.structs.Trie.prototype.getValuesInternal_=function(e){for(var o in void 0!==this.value_&&e.push(this.value_),this.childNodes_)this.childNodes_[o].getValuesInternal_(e)},goog.structs.Trie.prototype.getKeys=function(e){var o=[];if(e){for(var t=this,n=0;n<e.length;n++){var r=e.charAt(n);if(!t.childNodes_[r])return[];t=t.childNodes_[r]}t.getKeysInternal_(e,o)}else this.getKeysInternal_("",o);return o},goog.structs.Trie.prototype.getKeysInternal_=function(e,o){for(var t in void 0!==this.value_&&o.push(e),this.childNodes_)this.childNodes_[t].getKeysInternal_(e+t,o)},goog.structs.Trie.prototype.containsKey=function(e){return void 0!==this.get(e)},goog.structs.Trie.prototype.containsPrefix=function(e){return 0==e.length?!this.isEmpty():!!this.getChildNode_(e)},goog.structs.Trie.prototype.containsValue=function(e){if(this.value_===e)return!0;for(var o in this.childNodes_)if(this.childNodes_[o].containsValue(e))return!0;return!1},goog.structs.Trie.prototype.clear=function(){this.childNodes_={},this.value_=void 0},goog.structs.Trie.prototype.remove=function(e){for(var o=this,t=[],n=0;n<e.length;n++){var r=e.charAt(n);if(!o.childNodes_[r])throw Error('The collection does not have the key "'+e+'"');t.push([o,r]),o=o.childNodes_[r]}for(e=o.value_,delete o.value_;0<t.length&&(o=(r=t.pop())[0],r=r[1],o.childNodes_[r].isEmpty());)delete o.childNodes_[r];return e},goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)},goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())},goog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)},goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie,this.buffer_="",this.matchingNodes_=this.matchingLabels_=null,this.matchingNodeIndex_=this.matchingLabelIndex_=0},goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1},goog.ui.tree.TypeAhead.prototype.handleNavigation=function(e){var o=!1;switch(e.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:e.ctrlKey&&(this.jumpTo_(e.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),o=!0);break;case goog.events.KeyCodes.BACKSPACE:o=!0,0<(e=this.buffer_.length-1)?(this.buffer_=this.buffer_.substring(0,e),this.jumpToLabel_(this.buffer_)):0==e?this.buffer_="":o=!1;break;case goog.events.KeyCodes.ESC:o=!(this.buffer_="")}return o},goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(e){var o=!1;return e.ctrlKey||e.altKey||(e=String.fromCharCode(e.charCode||e.keyCode).toLowerCase(),goog.string.isUnicodeChar(e)&&(" "!=e||this.buffer_)&&(this.buffer_+=e,o=this.jumpToLabel_(this.buffer_))),o},goog.ui.tree.TypeAhead.prototype.setNodeInMap=function(e){var o=e.getText();if(o&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(o))){o=o.toLowerCase();var t=this.nodeMap_.get(o);t?t.push(e):this.nodeMap_.set(o,[e])}},goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(e){var o=e.getText();if(o&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(o))){o=o.toLowerCase();var t=this.nodeMap_.get(o);if(t){for(var n=e.getChildCount(),r=0;r<n;r++)this.removeNodeFromMap(e.getChildAt(r));goog.array.remove(t,e),t.length||this.nodeMap_.remove(o)}}},goog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(e){var o=!1;return(e=this.nodeMap_.getKeys(e))&&e.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,o=this.nodeMap_.get(e[0]),o=this.selectMatchingNode_(o))&&(this.matchingLabels_=e),o},goog.ui.tree.TypeAhead.prototype.jumpTo_=function(e){var o=!1,t=this.matchingLabels_;if(t){o=null;var n=!1;if(this.matchingNodes_){var r=this.matchingNodeIndex_+e;0<=r&&r<this.matchingNodes_.length?(this.matchingNodeIndex_=r,o=this.matchingNodes_):n=!0}o||(0<=(r=this.matchingLabelIndex_+e)&&r<t.length&&(this.matchingLabelIndex_=r),t.length>this.matchingLabelIndex_&&(o=this.nodeMap_.get(t[this.matchingLabelIndex_])),o&&o.length&&n&&(this.matchingNodeIndex_=e==goog.ui.tree.TypeAhead.Offset.UP?o.length-1:0)),(o=this.selectMatchingNode_(o))&&(this.matchingLabels_=t)}return o},goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(e){if(e){if(this.matchingNodeIndex_<e.length){var o=e[this.matchingNodeIndex_];this.matchingNodes_=e}o&&(o.reveal(),o.select())}return!!o},goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""},goog.ui.tree.TreeControl=function(e,o,t){if(goog.ui.tree.BaseNode.call(this,e,o,t),this.setExpandedInternal(!0),this.setSelectedInternal(!0),(this.selectedItem_=this).typeAhead_=new goog.ui.tree.TypeAhead,this.focusHandler_=this.keyHandler_=null,this.logger_=goog.log.getLogger("this"),this.focused_=!1,this.focusedNode_=null,this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0,goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){goog.log.warning(this.logger_,"Failed to enable background image cache")}},goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode),goog.ui.tree.TreeControl.prototype.getTree=function(){return this},goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0},goog.ui.tree.TreeControl.prototype.reveal=function(){},goog.ui.tree.TreeControl.prototype.handleFocus_=function(e){this.focused_=!0,goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused"),this.selectedItem_&&this.selectedItem_.select()},goog.ui.tree.TreeControl.prototype.handleBlur_=function(e){this.focused_=!1,goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")},goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)},goog.ui.tree.TreeControl.prototype.setExpanded=function(e){this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,e):this.setExpandedInternal(e)},goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY},goog.ui.tree.TreeControl.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null},goog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){},goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)},goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),o=this.getExpandedIconClass();return e&&o?o:(o=this.getIconClass(),!e&&o?o:(o=this.getConfig(),e&&o.cssExpandedRootIcon?o.cssTreeIcon+" "+o.cssExpandedRootIcon:!e&&o.cssCollapsedRootIcon?o.cssTreeIcon+" "+o.cssCollapsedRootIcon:""))},goog.ui.tree.TreeControl.prototype.setSelectedItem=function(e){if(this.selectedItem_!=e){var o=!1;this.selectedItem_&&(o=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1)),(this.selectedItem_=e)&&(e.setSelectedInternal(!0),o&&e.select()),this.dispatchEvent(goog.events.EventType.CHANGE)}},goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.tree.TreeControl.prototype.setShowLines=function(e){this.showLines_!=e&&(this.showLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_},goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){var r=this,i=r.getShowLines(),s=r.getShowRootLines();!function e(o){var t=o.getChildrenElement();if(t){var n=!i||r==o.getParent()&&!s?o.getConfig().cssChildrenNoLines:o.getConfig().cssChildren;t.className=n,(t=o.getExpandIconElement())&&(t.className=o.getExpandIconClass())}o.forEachChild(e)}(this)},goog.ui.tree.TreeControl.prototype.setShowRootLines=function(e){this.showRootLines_!=e&&(this.showRootLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_},goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(e){this.showExpandIcons_!=e&&(this.showExpandIcons_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_},goog.ui.tree.TreeControl.prototype.setShowRootNode=function(e){if(this.showRootNode_!=e){if(this.showRootNode_=e,this.isInDocument()){var o=this.getRowElement();o&&(o.className=this.getRowClassName())}!e&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}},goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_},goog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the tree cannot be null."),goog.a11y.aria.setRole(e,"tree"),goog.a11y.aria.setState(e,"labelledby",this.getLabelElement().id)},goog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.getConfig().cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},goog.ui.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0;var o=this.keyHandler_=new goog.events.KeyHandler(e),t=this.focusHandler_=new goog.events.FocusHandler(e);this.getHandler().listen(t,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(t,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(o,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(e,goog.events.EventType.CLICK,this.handleMouseEvent_).listen(e,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)},goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose(),this.keyHandler_=null,this.focusHandler_.dispose(),this.focusHandler_=null},goog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(e){goog.log.fine(this.logger_,"Received event "+e.type);var o=this.getNodeFromEvent_(e);if(o)switch(e.type){case goog.events.EventType.MOUSEDOWN:o.onMouseDown(e);break;case goog.events.EventType.CLICK:o.onClick_(e);break;case goog.events.EventType.DBLCLICK:o.onDoubleClick_(e)}},goog.ui.tree.TreeControl.prototype.handleKeyEvent=function(e){var o;return(o=this.typeAhead_.handleNavigation(e)||this.selectedItem_&&this.selectedItem_.onKeyDown(e)||this.typeAhead_.handleTypeAheadChar(e))&&e.preventDefault(),o},goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(e){for(var o=e.target;null!=o;){if(e=goog.ui.tree.BaseNode.allNodes[o.id])return e;if(o==this.getElement())break;o=o.parentNode}return null},goog.ui.tree.TreeControl.prototype.createNode=function(e){return new goog.ui.tree.TreeNode(e||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},goog.ui.tree.TreeControl.prototype.setNode=function(e){this.typeAhead_.setNodeInMap(e)},goog.ui.tree.TreeControl.prototype.removeNode=function(e){this.typeAhead_.removeNodeFromMap(e)},goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()},goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig;var Blockly={};Blockly.Blocks=Object(null),Blockly.Touch={},Blockly.Touch.touchIdentifier_=null,Blockly.Touch.TOUCH_MAP={},window&&window.PointerEvent?Blockly.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),Blockly.longPid_=0,Blockly.longStart_=function(e,o){Blockly.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(Blockly.longPid_=setTimeout(function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),o&&o.handleRightClick(e)},Blockly.LONGPRESS))},Blockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)},Blockly.Touch.clearTouchIdentifier=function(){Blockly.Touch.touchIdentifier_=null},Blockly.Touch.shouldHandleEvent=function(e){return!Blockly.Touch.isMouseOrTouchEvent(e)||Blockly.Touch.checkTouchIdentifier(e)},Blockly.Touch.getTouchIdentifierFromEvent=function(e){return null!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&null!=e.changedTouches[0].identifier&&null!=e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},Blockly.Touch.checkTouchIdentifier=function(e){var o=Blockly.Touch.getTouchIdentifierFromEvent(e);return null!=Blockly.Touch.touchIdentifier_&&null!=Blockly.Touch.touchIdentifier_?Blockly.Touch.touchIdentifier_==o:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(Blockly.Touch.touchIdentifier_=o,!0)},Blockly.Touch.setClientFromTouch=function(e){if(goog.string.startsWith(e.type,"touch")){var o=e.changedTouches[0];e.clientX=o.clientX,e.clientY=o.clientY}},Blockly.Touch.isMouseOrTouchEvent=function(e){return goog.string.startsWith(e.type,"touch")||goog.string.startsWith(e.type,"mouse")||goog.string.startsWith(e.type,"pointer")},Blockly.Touch.isTouchEvent=function(e){return goog.string.startsWith(e.type,"touch")||goog.string.startsWith(e.type,"pointer")},Blockly.Touch.splitEventByTouches=function(e){var o=[];if(e.changedTouches)for(var t=0;t<e.changedTouches.length;t++)o[t]={type:e.type,changedTouches:[e.changedTouches[t]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else o.push(e);return o},Blockly.Events={},Blockly.Events.group_="",Blockly.Events.recordUndo=!0,Blockly.Events.disabled_=0,Blockly.Events.CREATE="create",Blockly.Events.BLOCK_CREATE=Blockly.Events.CREATE,Blockly.Events.DELETE="delete",Blockly.Events.BLOCK_DELETE=Blockly.Events.DELETE,Blockly.Events.CHANGE="change",Blockly.Events.BLOCK_CHANGE=Blockly.Events.CHANGE,Blockly.Events.MOVE="move",Blockly.Events.BLOCK_MOVE=Blockly.Events.MOVE,Blockly.Events.VAR_CREATE="var_create",Blockly.Events.VAR_DELETE="var_delete",Blockly.Events.VAR_RENAME="var_rename",Blockly.Events.UI="ui",Blockly.Events.FIRE_QUEUE_=[],Blockly.Events.fire=function(e){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(e))},Blockly.Events.fireNow_=function(){for(var e,o=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),t=Blockly.Events.FIRE_QUEUE_.length=0;e=o[t];t++){var n=Blockly.Workspace.getById(e.workspaceId);n&&n.fireChangeListener(e)}},Blockly.Events.filter=function(e,o){var t=goog.array.clone(e);o||t.reverse();for(var n,r=[],i=Object.create(null),s=0;n=t[s];s++)if(!n.isNull()){var l=[n.type,n.blockId,n.workspaceId].join(" "),g=i[l];g?n.type==Blockly.Events.MOVE?(g.newParentId=n.newParentId,g.newInputName=n.newInputName,g.newCoordinate=n.newCoordinate):n.type==Blockly.Events.CHANGE&&n.element==g.element&&n.name==g.name?g.newValue=n.newValue:n.type!=Blockly.Events.UI||"click"!=n.element||"commentOpen"!=g.element&&"mutatorOpen"!=g.element&&"warningOpen"!=g.element?(i[l]=n,r.push(n)):g.newValue=n.newValue:(i[l]=n,r.push(n))}for(t=r.filter(function(e){return!e.isNull()}),o||t.reverse(),s=1;n=t[s];s++)n.type==Blockly.Events.CHANGE&&"mutation"==n.element&&t.unshift(t.splice(s,1)[0]);return t},Blockly.Events.clearPendingUndo=function(){for(var e,o=0;e=Blockly.Events.FIRE_QUEUE_[o];o++)e.recordUndo=!1},Blockly.Events.disable=function(){Blockly.Events.disabled_++},Blockly.Events.enable=function(){Blockly.Events.disabled_--},Blockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_},Blockly.Events.getGroup=function(){return Blockly.Events.group_},Blockly.Events.setGroup=function(e){Blockly.Events.group_="boolean"==typeof e?e?Blockly.utils.genUid():"":e},Blockly.Events.getDescendantIds_=function(e){var o=[];e=e.getDescendants();for(var t,n=0;t=e[n];n++)o[n]=t.id;return o},Blockly.Events.fromJson=function(e,o){switch(e.type){case Blockly.Events.CREATE:var t=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:t=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:t=new Blockly.Events.Change(null,"","","","");break;case Blockly.Events.MOVE:t=new Blockly.Events.Move(null);break;case Blockly.Events.VAR_CREATE:t=new Blockly.Events.VarCreate(null);break;case Blockly.Events.VAR_DELETE:t=new Blockly.Events.VarDelete(null);break;case Blockly.Events.VAR_RENAME:t=new Blockly.Events.VarRename(null,"");break;case Blockly.Events.UI:t=new Blockly.Events.Ui(null);break;default:throw"Unknown event type."}return t.fromJson(e),t.workspaceId=o.id,t},Blockly.Events.disableOrphans=function(e){if(e.type==Blockly.Events.MOVE||e.type==Blockly.Events.CREATE){var o=Blockly.Workspace.getById(e.workspaceId);if(e=o.getBlockById(e.blockId))if(e.getParent()&&!e.getParent().disabled){o=e.getDescendants(),e=0;for(var t;t=o[e];e++)t.setDisabled(!1)}else if((e.outputConnection||e.previousConnection)&&!o.isDragging())for(;e.setDisabled(!0),e=e.getNextBlock(););}},Blockly.Events.Abstract=function(){this.workspaceId=void 0,this.group=Blockly.Events.group_,this.recordUndo=Blockly.Events.recordUndo},Blockly.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},Blockly.Events.Abstract.prototype.fromJson=function(e){this.group=e.group},Blockly.Events.Abstract.prototype.isNull=function(){return!1},Blockly.Events.Abstract.prototype.run=function(e){},Blockly.Events.Abstract.prototype.getEventWorkspace_=function(){var e=Blockly.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},Blockly.Events.VarBase=function(e){Blockly.Events.VarBase.superClass_.constructor.call(this),this.varId=e.getId(),this.workspaceId=e.workspace.id},goog.inherits(Blockly.Events.VarBase,Blockly.Events.Abstract),Blockly.Events.VarBase.prototype.toJson=function(){var e=Blockly.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},Blockly.Events.VarBase.prototype.fromJson=function(e){Blockly.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},Blockly.Events.VarCreate=function(e){e&&(Blockly.Events.VarCreate.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},goog.inherits(Blockly.Events.VarCreate,Blockly.Events.VarBase),Blockly.Events.VarCreate.prototype.type=Blockly.Events.VAR_CREATE,Blockly.Events.VarCreate.prototype.toJson=function(){var e=Blockly.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},Blockly.Events.VarCreate.prototype.fromJson=function(e){Blockly.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},Blockly.Events.VarCreate.prototype.run=function(e){var o=this.getEventWorkspace_();e?o.createVariable(this.varName,this.varType,this.varId):o.deleteVariableById(this.varId)},Blockly.Events.VarDelete=function(e){e&&(Blockly.Events.VarDelete.superClass_.constructor.call(this,e),this.varType=e.type,this.varName=e.name)},goog.inherits(Blockly.Events.VarDelete,Blockly.Events.VarBase),Blockly.Events.VarDelete.prototype.type=Blockly.Events.VAR_DELETE,Blockly.Events.VarDelete.prototype.toJson=function(){var e=Blockly.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},Blockly.Events.VarDelete.prototype.fromJson=function(e){Blockly.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},Blockly.Events.VarDelete.prototype.run=function(e){var o=this.getEventWorkspace_();e?o.deleteVariableById(this.varId):o.createVariable(this.varName,this.varType,this.varId)},Blockly.Events.VarRename=function(e,o){e&&(Blockly.Events.VarRename.superClass_.constructor.call(this,e),this.oldName=e.name,this.newName=o)},goog.inherits(Blockly.Events.VarRename,Blockly.Events.VarBase),Blockly.Events.VarRename.prototype.type=Blockly.Events.VAR_RENAME,Blockly.Events.VarRename.prototype.toJson=function(){var e=Blockly.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},Blockly.Events.VarRename.prototype.fromJson=function(e){Blockly.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},Blockly.Events.VarRename.prototype.run=function(e){var o=this.getEventWorkspace_();e?o.renameVariableById(this.varId,this.newName):o.renameVariableById(this.varId,this.oldName)},Blockly.VariableMap=function(e){this.variableMap_={},this.workspace=e},Blockly.VariableMap.prototype.clear=function(){this.variableMap_=Object(null)},Blockly.VariableMap.prototype.renameVariable=function(e,o){var t=this.getVariable(o,e.type),n=this.workspace.getAllBlocks();Blockly.Events.setGroup(!0);try{t&&t.getId()!=e.getId()?this.renameVariableWithConflict_(e,o,t,n):this.renameVariableAndUses_(e,o,n)}finally{Blockly.Events.setGroup(!1)}},Blockly.VariableMap.prototype.renameVariableById=function(e,o){var t=this.getVariableById(e);if(!t)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(t,o)},Blockly.VariableMap.prototype.renameVariableAndUses_=function(e,o,t){for(Blockly.Events.fire(new Blockly.Events.VarRename(e,o)),e.name=o,o=0;o<t.length;o++)t[o].updateVarName(e)},Blockly.VariableMap.prototype.renameVariableWithConflict_=function(e,o,t,n){var r=e.type;for(o!=t.name&&this.renameVariableAndUses_(t,o,n),o=0;o<n.length;o++)n[o].renameVarById(e.getId(),t.getId());Blockly.Events.fire(new Blockly.Events.VarDelete(e)),e=this.getVariablesOfType(r).indexOf(e),this.variableMap_[r].splice(e,1)},Blockly.VariableMap.prototype.createVariable=function(e,o,t){var n=this.getVariable(e,o);if(n){if(t&&n.getId()!=t)throw Error('Variable "'+e+'" is already in use and its id is "'+n.getId()+'" which conflicts with the passed in id, "'+t+'".');return n}if(t&&this.getVariableById(t))throw Error('Variable id, "'+t+'", is already in use.');return t=t||Blockly.utils.genUid(),o=o||"",n=new Blockly.VariableModel(this.workspace,e,o,t),this.variableMap_[o]?this.variableMap_[o].push(n):this.variableMap_[o]=[n],n},Blockly.VariableMap.prototype.deleteVariable=function(e){for(var o,t=this.variableMap_[e.type],n=0;o=t[n];n++)if(o.getId()==e.getId()){t.splice(n,1),Blockly.Events.fire(new Blockly.Events.VarDelete(e));break}},Blockly.VariableMap.prototype.deleteVariableById=function(e){var o=this.getVariableById(e);if(o){var t,n=o.name,r=this.getVariableUsesById(e);for(e=0;t=r[e];e++)if("procedures_defnoreturn"==t.type||"procedures_defreturn"==t.type)return e=t.getFieldValue("NAME"),n=Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",n).replace("%2",e),void Blockly.alert(n);var i=this;1<r.length?(n=Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",n),Blockly.confirm(n,function(e){e&&i.deleteVariableInternal_(o,r)})):i.deleteVariableInternal_(o,r)}else console.warn("Can't delete non-existent variable: "+e)},Blockly.VariableMap.prototype.deleteVariableInternal_=function(e,o){var t=Blockly.Events.getGroup();t||Blockly.Events.setGroup(!0);try{for(var n=0;n<o.length;n++)o[n].dispose(!0,!1);this.deleteVariable(e)}finally{t||Blockly.Events.setGroup(!1)}},Blockly.VariableMap.prototype.getVariable=function(e,o){var t=this.variableMap_[o||""];if(t)for(var n,r=0;n=t[r];r++)if(Blockly.Names.equals(n.name,e))return n;return null},Blockly.VariableMap.prototype.getVariableById=function(e){for(var o=Object.keys(this.variableMap_),t=0;t<o.length;t++)for(var n,r=o[t],i=0;n=this.variableMap_[r][i];i++)if(n.getId()==e)return n;return null},Blockly.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},Blockly.VariableMap.prototype.getVariableTypes=function(){for(var e=Object.keys(this.variableMap_),o=!1,t=0;t<e.length;t++)""==e[t]&&(o=!0);return o||e.push(""),e},Blockly.VariableMap.prototype.getAllVariables=function(){for(var e=[],o=Object.keys(this.variableMap_),t=0;t<o.length;t++)e=e.concat(this.variableMap_[o[t]]);return e},Blockly.VariableMap.prototype.getVariableUsesById=function(e){for(var o=[],t=this.workspace.getAllBlocks(),n=0;n<t.length;n++){var r=t[n].getVarModels();if(r)for(var i=0;i<r.length;i++)r[i].getId()==e&&o.push(t[n])}return o},Blockly.Workspace=function(e){this.id=Blockly.utils.genUid(),(Blockly.Workspace.WorkspaceDB_[this.id]=this).options=e||{},this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.topBlocks_=[],this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.variableMap_=new Blockly.VariableMap(this),this.potentialVariableMap_=null},Blockly.Workspace.prototype.rendered=!1,Blockly.Workspace.prototype.MAX_UNDO=1024,Blockly.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete Blockly.Workspace.WorkspaceDB_[this.id]},Blockly.Workspace.SCAN_ANGLE=3,Blockly.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},Blockly.Workspace.prototype.removeTopBlock=function(e){if(!goog.array.remove(this.topBlocks_,e))throw"Block not present in workspace's list of top-most blocks."},Blockly.Workspace.prototype.getTopBlocks=function(e){var o=[].concat(this.topBlocks_);if(e&&1<o.length){var r=Math.sin(goog.math.toRadians(Blockly.Workspace.SCAN_ANGLE));this.RTL&&(r*=-1),o.sort(function(e,o){var t=e.getRelativeToSurfaceXY(),n=o.getRelativeToSurfaceXY();return t.y+r*t.x-(n.y+r*n.x)})}return o},Blockly.Workspace.prototype.getAllBlocks=function(){for(var e=this.getTopBlocks(!1),o=0;o<e.length;o++)e.push.apply(e,e[o].getChildren());return e},Blockly.Workspace.prototype.clear=function(){var e=Blockly.Events.getGroup();for(e||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();e||Blockly.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()},Blockly.Workspace.prototype.renameVariableById=function(e,o){this.variableMap_.renameVariableById(e,o)},Blockly.Workspace.prototype.createVariable=function(e,o,t){return this.variableMap_.createVariable(e,o,t)},Blockly.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},Blockly.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},Blockly.Workspace.prototype.deleteVariableInternal_=function(e,o){this.variableMap_.deleteVariableInternal_(e,o)},Blockly.Workspace.prototype.variableIndexOf=function(e){return console.warn("Deprecated call to Blockly.Workspace.prototype.variableIndexOf"),-1},Blockly.Workspace.prototype.getVariable=function(e,o){return this.variableMap_.getVariable(e,o)},Blockly.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},Blockly.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},Blockly.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes()},Blockly.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},Blockly.Workspace.prototype.getWidth=function(){return 0},Blockly.Workspace.prototype.newBlock=function(e,o){return new Blockly.Block(this,e,o)},Blockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},Blockly.Workspace.prototype.undo=function(e){var o=e?this.redoStack_:this.undoStack_,t=e?this.undoStack_:this.redoStack_,n=o.pop();if(n){for(var r=[n];o.length&&n.group&&n.group==o[o.length-1].group;)r.push(o.pop());for(o=0;n=r[o];o++)t.push(n);r=Blockly.Events.filter(r,e),Blockly.Events.recordUndo=!1;try{for(o=0;n=r[o];o++)n.run(e)}finally{Blockly.Events.recordUndo=!0}}},Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,Blockly.Events.clearPendingUndo()},Blockly.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},Blockly.Workspace.prototype.removeChangeListener=function(e){goog.array.remove(this.listeners_,e)},Blockly.Workspace.prototype.fireChangeListener=function(e){e.recordUndo&&(this.undoStack_.push(e),this.redoStack_.length=0,this.undoStack_.length>this.MAX_UNDO&&this.undoStack_.unshift());for(var o,t=0;o=this.listeners_[t];t++)o(e)},Blockly.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},Blockly.Workspace.prototype.allInputsFilled=function(e){for(var o,t=this.getTopBlocks(!1),n=0;o=t[n];n++)if(!o.allInputsFilled(e))return!1;return!0},Blockly.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},Blockly.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new Blockly.VariableMap(this)},Blockly.Workspace.prototype.getVariableMap=function(){return this.variableMap_},Blockly.Workspace.WorkspaceDB_=Object.create(null),Blockly.Workspace.getById=function(e){return Blockly.Workspace.WorkspaceDB_[e]||null},Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear,Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo,Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener,Blockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener,Blockly.Bubble=function(e,o,t,n,r,i){this.workspace_=e,this.content_=o,this.shape_=t,t=Blockly.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(t=-t),this.arrow_radians_=goog.math.toRadians(t),e.getBubbleCanvas().appendChild(this.createDom_(o,!(!r||!i))),this.setAnchorLocation(n),r&&i||(r=(o=this.content_.getBBox()).width+2*Blockly.Bubble.BORDER_WIDTH,i=o.height+2*Blockly.Bubble.BORDER_WIDTH),this.setBubbleSize(r,i),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,e.options.readOnly||(Blockly.bindEventWithChecks_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEventWithChecks_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},Blockly.Bubble.BORDER_WIDTH=6,Blockly.Bubble.ARROW_THICKNESS=5,Blockly.Bubble.ARROW_ANGLE=20,Blockly.Bubble.ARROW_BEND=4,Blockly.Bubble.ANCHOR_RADIUS=8,Blockly.Bubble.onMouseUpWrapper_=null,Blockly.Bubble.onMouseMoveWrapper_=null,Blockly.Bubble.prototype.resizeCallback_=null,Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null),Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)},Blockly.Bubble.bubbleMouseUp_=function(){Blockly.Touch.clearTouchIdentifier(),Blockly.Bubble.unbindDragEvents_()},Blockly.Bubble.prototype.rendered_=!1,Blockly.Bubble.prototype.anchorXY_=null,Blockly.Bubble.prototype.relativeLeft_=0,Blockly.Bubble.prototype.relativeTop_=0,Blockly.Bubble.prototype.width_=0,Blockly.Bubble.prototype.height_=0,Blockly.Bubble.prototype.autoLayout_=!0,Blockly.Bubble.prototype.createDom_=function(e,o){this.bubbleGroup_=Blockly.utils.createSvgElement("g",{},null);var t={filter:"url(#"+this.workspace_.options.embossFilterId+")"};return-1!=goog.userAgent.getUserAgentString().indexOf("JavaFX")&&(t={}),t=Blockly.utils.createSvgElement("g",t,this.bubbleGroup_),this.bubbleArrow_=Blockly.utils.createSvgElement("path",{},t),this.bubbleBack_=Blockly.utils.createSvgElement("rect",{class:"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},t),o?(this.resizeGroup_=Blockly.utils.createSvgElement("g",{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t=2*Blockly.Bubble.BORDER_WIDTH,Blockly.utils.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,t.toString())},this.resizeGroup_),Blockly.utils.createSvgElement("line",{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},this.resizeGroup_),Blockly.utils.createSvgElement("line",{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(e),this.bubbleGroup_},Blockly.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},Blockly.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},Blockly.Bubble.prototype.bubbleMouseDown_=function(e){var o=this.workspace_.getGesture(e);o&&o.handleBubbleStart(e,this)},Blockly.Bubble.prototype.resizeMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.utils.isRightButton(e)||(this.workspace_.startDrag(e,new goog.math.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff()),e.stopPropagation()},Blockly.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},Blockly.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},Blockly.Bubble.prototype.promote_=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},Blockly.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},Blockly.Bubble.prototype.layoutBubble_=function(){var e=-this.width_/4,o=-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y,t=this.workspace_.getMetrics();t.viewWidth/=this.workspace_.scale,t.viewLeft/=this.workspace_.scale;var n=this.anchorXY_.x;this.workspace_.RTL?n-t.viewLeft-e-this.width_<Blockly.Scrollbar.scrollbarThickness?e=n-t.viewLeft-this.width_-Blockly.Scrollbar.scrollbarThickness:n-t.viewLeft-e>t.viewWidth&&(e=n-t.viewLeft-t.viewWidth):n+e<t.viewLeft?e=t.viewLeft-n:t.viewLeft+t.viewWidth<n+e+this.width_+Blockly.BlockSvg.SEP_SPACE_X+Blockly.Scrollbar.scrollbarThickness&&(e=t.viewLeft+t.viewWidth-n-this.width_-Blockly.Scrollbar.scrollbarThickness),this.anchorXY_.y+o<t.viewTop&&(o=this.shape_.getBBox().height),this.relativeLeft_=e,this.relativeTop_=o},Blockly.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},Blockly.Bubble.prototype.moveTo=function(e,o){this.bubbleGroup_.setAttribute("transform","translate("+e+","+o+")")},Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}},Blockly.Bubble.prototype.setBubbleSize=function(e,o){var t=2*Blockly.Bubble.BORDER_WIDTH;e=Math.max(e,t+45),o=Math.max(o,t+20),this.width_=e,this.height_=o,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",o),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(o-t)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-t)+","+(o-t)+")")),this.rendered_&&(this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_()),this.resizeCallback_&&this.resizeCallback_()},Blockly.Bubble.prototype.renderArrow_=function(){var e=[],o=this.width_/2,t=this.height_/2,n=-this.relativeLeft_,r=-this.relativeTop_;if(o==n&&t==r)e.push("M "+o+","+t);else{r-=t,n-=o,this.workspace_.RTL&&(n*=-1);var i=Math.sqrt(r*r+n*n),s=Math.acos(n/i);r<0&&(s=2*Math.PI-s);var l=s+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var g=Math.sin(l),a=Math.cos(l),c=this.getBubbleSize();l=(c.width+c.height)/Blockly.Bubble.ARROW_THICKNESS,l=Math.min(l,c.width,c.height)/4,n=o+(c=1-Blockly.Bubble.ANCHOR_RADIUS/i)*n,r=t+c*r,c=o+l*a;var u=t+l*g;o-=l*a,t-=l*g,(g=s+this.arrow_radians_)>2*Math.PI&&(g-=2*Math.PI),s=Math.sin(g)*i/Blockly.Bubble.ARROW_BEND,i=Math.cos(g)*i/Blockly.Bubble.ARROW_BEND,e.push("M"+c+","+u),e.push("C"+(c+i)+","+(u+s)+" "+n+","+r+" "+n+","+r),e.push("C"+n+","+r+" "+(o+i)+","+(t+s)+" "+o+","+t)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},Blockly.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},Blockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_(),goog.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},Blockly.Bubble.prototype.moveDuringDrag=function(e,o){e?e.translateSurface(o.x,o.y):this.moveTo(o.x,o.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-o.x-this.width_:o.x-this.anchorXY_.x,this.relativeTop_=o.y-this.anchorXY_.y,this.renderArrow_()},Blockly.Bubble.prototype.getRelativeToSurfaceXY=function(){return new goog.math.Coordinate(this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},Blockly.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},Blockly.Events.BlockBase=function(e){Blockly.Events.BlockBase.superClass_.constructor.call(this),this.blockId=e.id,this.workspaceId=e.workspace.id},goog.inherits(Blockly.Events.BlockBase,Blockly.Events.Abstract),Blockly.Events.BlockBase.prototype.toJson=function(){var e=Blockly.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},Blockly.Events.BlockBase.prototype.fromJson=function(e){Blockly.Events.BlockBase.superClass_.toJson.call(this),this.blockId=e.blockId},Blockly.Events.Change=function(e,o,t,n,r){e&&(Blockly.Events.Change.superClass_.constructor.call(this,e),this.element=o,this.name=t,this.oldValue=n,this.newValue=r)},goog.inherits(Blockly.Events.Change,Blockly.Events.BlockBase),Blockly.Events.BlockChange=Blockly.Events.Change,Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE,Blockly.Events.Change.prototype.toJson=function(){var e=Blockly.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.newValue=this.newValue,e},Blockly.Events.Change.prototype.fromJson=function(e){Blockly.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.newValue=e.newValue},Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},Blockly.Events.Change.prototype.run=function(e){var o=this.getEventWorkspace_().getBlockById(this.blockId);if(o)switch(o.mutator&&o.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(o=o.getField(this.name))?(o.callValidator(e),o.setValue(e)):console.warn("Can't set non-existent field: "+this.name);break;case"comment":o.setCommentText(e||null);break;case"collapsed":o.setCollapsed(e);break;case"disabled":o.setDisabled(e);break;case"inline":o.setInputsInline(e);break;case"mutation":var t="";if(o.mutationToDom&&(t=(t=o.mutationToDom())&&Blockly.Xml.domToText(t)),o.domToMutation){e=e||"<mutation></mutation>";var n=Blockly.Xml.textToDom("<xml>"+e+"</xml>");o.domToMutation(n.firstChild)}Blockly.Events.fire(new Blockly.Events.Change(o,"mutation",null,t,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},Blockly.Events.Create=function(e){e&&(Blockly.Events.Create.superClass_.constructor.call(this,e),this.xml=e.workspace.rendered?Blockly.Xml.blockToDomWithXY(e):Blockly.Xml.blockToDom(e),this.ids=Blockly.Events.getDescendantIds_(e))},goog.inherits(Blockly.Events.Create,Blockly.Events.BlockBase),Blockly.Events.BlockCreate=Blockly.Events.Create,Blockly.Events.Create.prototype.type=Blockly.Events.CREATE,Blockly.Events.Create.prototype.toJson=function(){var e=Blockly.Events.Create.superClass_.toJson.call(this);return e.xml=Blockly.Xml.domToText(this.xml),e.ids=this.ids,e},Blockly.Events.Create.prototype.fromJson=function(e){Blockly.Events.Create.superClass_.fromJson.call(this,e),this.xml=Blockly.Xml.textToDom("<xml>"+e.xml+"</xml>").firstChild,this.ids=e.ids},Blockly.Events.Create.prototype.run=function(e){var o=this.getEventWorkspace_();if(e)(e=goog.dom.createDom("xml")).appendChild(this.xml),Blockly.Xml.domToWorkspace(e,o);else{e=0;for(var t;t=this.ids[e];e++){var n=o.getBlockById(t);n?n.dispose(!1,!1):t==this.blockId&&console.warn("Can't uncreate non-existent block: "+t)}}},Blockly.Events.Delete=function(e){if(e){if(e.getParent())throw"Connected blocks cannot be deleted.";Blockly.Events.Delete.superClass_.constructor.call(this,e),this.oldXml=e.workspace.rendered?Blockly.Xml.blockToDomWithXY(e):Blockly.Xml.blockToDom(e),this.ids=Blockly.Events.getDescendantIds_(e)}},goog.inherits(Blockly.Events.Delete,Blockly.Events.BlockBase),Blockly.Events.BlockDelete=Blockly.Events.Delete,Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE,Blockly.Events.Delete.prototype.toJson=function(){var e=Blockly.Events.Delete.superClass_.toJson.call(this);return e.ids=this.ids,e},Blockly.Events.Delete.prototype.fromJson=function(e){Blockly.Events.Delete.superClass_.fromJson.call(this,e),this.ids=e.ids},Blockly.Events.Delete.prototype.run=function(e){var o=this.getEventWorkspace_();if(e){e=0;for(var t;t=this.ids[e];e++){var n=o.getBlockById(t);n?n.dispose(!1,!1):t==this.blockId&&console.warn("Can't delete non-existent block: "+t)}}else(e=goog.dom.createDom("xml")).appendChild(this.oldXml),Blockly.Xml.domToWorkspace(e,o)},Blockly.Events.Move=function(e){e&&(Blockly.Events.Move.superClass_.constructor.call(this,e),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},goog.inherits(Blockly.Events.Move,Blockly.Events.BlockBase),Blockly.Events.BlockMove=Blockly.Events.Move,Blockly.Events.Move.prototype.type=Blockly.Events.MOVE,Blockly.Events.Move.prototype.toJson=function(){var e=Blockly.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),e},Blockly.Events.Move.prototype.fromJson=function(e){Blockly.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate=new goog.math.Coordinate(parseFloat(e[0]),parseFloat(e[1])))},Blockly.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},Blockly.Events.Move.prototype.currentLocation_=function(){var e=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),o={},t=e.getParent();return t?(o.parentId=t.id,(e=t.getInputWithBlock(e))&&(o.inputName=e.name)):o.coordinate=e.getRelativeToSurfaceXY(),o},Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&goog.math.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},Blockly.Events.Move.prototype.run=function(e){var o=this.getEventWorkspace_(),t=o.getBlockById(this.blockId);if(t){var n=e?this.newParentId:this.oldParentId,r=e?this.newInputName:this.oldInputName;e=e?this.newCoordinate:this.oldCoordinate;var i=null;if(n&&!(i=o.getBlockById(n)))return void console.warn("Can't connect to non-existent block: "+n);if(t.getParent()&&t.unplug(),e)r=t.getRelativeToSurfaceXY(),t.moveBy(e.x-r.x,e.y-r.y);else{if(t=t.outputConnection||t.previousConnection,r){if(o=i.getInput(r))var s=o.connection}else t.type==Blockly.PREVIOUS_STATEMENT&&(s=i.nextConnection);s?t.connect(s):console.warn("Can't connect to non-existent input: "+r)}}else console.warn("Can't move non-existent block: "+this.blockId)},Blockly.Events.Ui=function(e,o,t,n){e&&(Blockly.Events.Ui.superClass_.constructor.call(this),this.blockId=e.id,this.workspaceId=e.workspace.id,this.element=o,this.oldValue=t,this.newValue=n,this.recordUndo=!1)},goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract),Blockly.Events.Ui.prototype.type=Blockly.Events.UI,Blockly.Events.Ui.prototype.toJson=function(){var e=Blockly.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},Blockly.Events.Ui.prototype.fromJson=function(e){Blockly.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},Blockly.Icon=function(e){this.block_=e},Blockly.Icon.prototype.collapseHidden=!0,Blockly.Icon.prototype.SIZE=17,Blockly.Icon.prototype.bubble_=null,Blockly.Icon.prototype.iconXY_=null,Blockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.utils.createSvgElement("g",{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&Blockly.utils.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},Blockly.Icon.prototype.dispose=function(){goog.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},Blockly.Icon.prototype.updateEditable=function(){},Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_},Blockly.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||Blockly.utils.isRightButton(e)||this.setVisible(!this.isVisible())},Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},Blockly.Icon.prototype.renderIcon=function(e){if(this.collapseHidden&&this.block_.isCollapsed())return this.iconGroup_.setAttribute("display","none"),e;this.iconGroup_.setAttribute("display","block");var o=this.SIZE;return this.block_.RTL&&(e-=o),this.iconGroup_.setAttribute("transform","translate("+e+",5)"),this.computeIconLocation(),this.block_.RTL?e-Blockly.BlockSvg.SEP_SPACE_X:e+(o+Blockly.BlockSvg.SEP_SPACE_X)},Blockly.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},Blockly.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),o=Blockly.utils.getRelativeXY(this.iconGroup_);e=new goog.math.Coordinate(e.x+o.x+this.SIZE/2,e.y+o.y+this.SIZE/2),goog.math.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_},Blockly.Comment=function(e){Blockly.Comment.superClass_.constructor.call(this,e),this.createIcon()},goog.inherits(Blockly.Comment,Blockly.Icon),Blockly.Comment.prototype.text_="",Blockly.Comment.prototype.width_=160,Blockly.Comment.prototype.height_=80,Blockly.Comment.prototype.drawIcon_=function(e){Blockly.utils.createSvgElement("circle",{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),Blockly.utils.createSvgElement("path",{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),Blockly.utils.createSvgElement("rect",{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},Blockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.utils.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(Blockly.HTML_NS,"body");e.setAttribute("xmlns",Blockly.HTML_NS),e.className="blocklyMinimalBody";var o=document.createElementNS(Blockly.HTML_NS,"textarea");return o.className="blocklyCommentTextarea",o.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),e.appendChild(o),this.textarea_=o,this.foreignObject_.appendChild(e),Blockly.bindEventWithChecks_(o,"mouseup",this,this.textareaFocus_,!0,!0),Blockly.bindEventWithChecks_(o,"wheel",this,function(e){e.stopPropagation()}),Blockly.bindEventWithChecks_(o,"change",this,function(e){this.text_!=o.value&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.text_,o.value)),this.text_=o.value)}),setTimeout(function(){o.focus()},0),this.foreignObject_},Blockly.Comment.prototype.updateEditable=function(){this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)),Blockly.Icon.prototype.updateEditable.call(this)},Blockly.Comment.prototype.resizeBubble_=function(){if(this.isVisible()){var e=this.bubble_.getBubbleSize(),o=2*Blockly.Bubble.BORDER_WIDTH;this.foreignObject_.setAttribute("width",e.width-o),this.foreignObject_.setAttribute("height",e.height-o),this.textarea_.style.width=e.width-o-4+"px",this.textarea_.style.height=e.height-o-4+"px"}},Blockly.Comment.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!e,e)),!this.block_.isEditable()&&!this.textarea_||goog.userAgent.IE)Blockly.Warning.prototype.setVisible.call(this,e);else{var o=this.getText(),t=this.getBubbleSize();e?(this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.width_,this.height_),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.resizeBubble_.bind(this)),this.updateColour()):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null),this.setText(o),this.setBubbleSize(t.width,t.height)}},Blockly.Comment.prototype.textareaFocus_=function(e){this.bubble_.promote_()&&this.textarea_.focus()},Blockly.Comment.prototype.getBubbleSize=function(){return this.isVisible()?this.bubble_.getBubbleSize():{width:this.width_,height:this.height_}},Blockly.Comment.prototype.setBubbleSize=function(e,o){this.textarea_?this.bubble_.setBubbleSize(e,o):(this.width_=e,this.height_=o)},Blockly.Comment.prototype.getText=function(){return this.textarea_?this.textarea_.value:this.text_},Blockly.Comment.prototype.setText=function(e){this.text_!=e&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this.block_,"comment",null,this.text_,e)),this.text_=e),this.textarea_&&(this.textarea_.value=e)},Blockly.Comment.prototype.dispose=function(){Blockly.Events.isEnabled()&&this.setText(""),this.block_.comment=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Connection=function(e,o){this.sourceBlock_=e,this.type=o,e.workspace.connectionDBList&&(this.db_=e.workspace.connectionDBList[o],this.dbOpposite_=e.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[o]],this.hidden_=!this.db_)},Blockly.Connection.CAN_CONNECT=0,Blockly.Connection.REASON_SELF_CONNECTION=1,Blockly.Connection.REASON_WRONG_TYPE=2,Blockly.Connection.REASON_TARGET_NULL=3,Blockly.Connection.REASON_CHECKS_FAILED=4,Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5,Blockly.Connection.REASON_SHADOW_PARENT=6,Blockly.Connection.prototype.targetConnection=null,Blockly.Connection.prototype.check_=null,Blockly.Connection.prototype.shadowDom_=null,Blockly.Connection.prototype.x_=0,Blockly.Connection.prototype.y_=0,Blockly.Connection.prototype.inDB_=!1,Blockly.Connection.prototype.db_=null,Blockly.Connection.prototype.dbOpposite_=null,Blockly.Connection.prototype.hidden_=null,Blockly.Connection.prototype.connect_=function(e){var o,t=this,n=t.getSourceBlock(),r=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),t.isConnected()){var i=t.targetBlock(),s=t.getShadowDom();if(t.setShadowDom(null),i.isShadow())s=Blockly.Xml.blockToDom(i),i.dispose(),i=null;else if(t.type==Blockly.INPUT_VALUE){if(!i.outputConnection)throw"Orphan block does not have an output connection.";var l=Blockly.Connection.lastConnectionInRow_(r,i);l&&(i.outputConnection.connect(l),i=null)}else if(t.type==Blockly.NEXT_STATEMENT){if(!i.previousConnection)throw"Orphan block does not have a previous connection.";for(l=r;l.nextConnection;){var g=l.getNextBlock();if(!g||g.isShadow()){i.previousConnection.checkType_(l.nextConnection)&&(l.nextConnection.connect(i.previousConnection),i=null);break}l=g}}if(i&&(t.disconnect(),Blockly.Events.recordUndo)){var a=Blockly.Events.getGroup();setTimeout(function(){i.workspace&&!i.getParent()&&(Blockly.Events.setGroup(a),i.outputConnection?i.outputConnection.bumpAwayFrom_(t):i.previousConnection&&i.previousConnection.bumpAwayFrom_(t),Blockly.Events.setGroup(!1))},Blockly.BUMP_DELAY)}t.setShadowDom(s)}Blockly.Events.isEnabled()&&(o=new Blockly.Events.BlockMove(r)),Blockly.Connection.connectReciprocally_(t,e),r.setParent(n),o&&(o.recordNew(),Blockly.Events.fire(o))},Blockly.Connection.prototype.dispose=function(){if(this.isConnected())throw"Disconnect connection before disposing of it.";this.inDB_&&this.db_.removeConnection_(this),this.dbOpposite_=this.db_=null},Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},Blockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT},Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection},Blockly.Connection.prototype.canConnectWithReason_=function(e){if(!e)return Blockly.Connection.REASON_TARGET_NULL;if(this.isSuperior())var o=this.sourceBlock_,t=e.getSourceBlock();else t=this.sourceBlock_,o=e.getSourceBlock();return o&&o==t?Blockly.Connection.REASON_SELF_CONNECTION:e.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:o&&t&&o.workspace!==t.workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(e)?o.isShadow()&&!t.isShadow()?Blockly.Connection.REASON_SHADOW_PARENT:Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED},Blockly.Connection.prototype.checkConnection_=function(e){switch(this.canConnectWithReason_(e)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw"Attempted to connect a block to itself.";case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw"Blocks not on same workspace.";case Blockly.Connection.REASON_WRONG_TYPE:throw"Attempt to connect incompatible types.";case Blockly.Connection.REASON_TARGET_NULL:throw"Target connection is null.";case Blockly.Connection.REASON_CHECKS_FAILED:throw"Connection checks failed. "+this+" expected "+this.check_+", found "+e.check_;case Blockly.Connection.REASON_SHADOW_PARENT:throw"Connecting non-shadow to shadow block.";default:throw"Unknown connection failure: this should never happen!"}},Blockly.Connection.prototype.isConnectionAllowed=function(e){return this.canConnectWithReason_(e)==Blockly.Connection.CAN_CONNECT&&((e.type!=Blockly.OUTPUT_VALUE&&e.type!=Blockly.PREVIOUS_STATEMENT||!e.isConnected()&&!this.isConnected())&&!(e.type==Blockly.INPUT_VALUE&&e.isConnected()&&!e.targetBlock().isMovable()&&!e.targetBlock().isShadow()||this.type==Blockly.PREVIOUS_STATEMENT&&e.isConnected()&&!this.sourceBlock_.nextConnection&&!e.targetBlock().isShadow()&&e.targetBlock().nextConnection||-1!=Blockly.draggingConnections_.indexOf(e)))},Blockly.Connection.prototype.connect=function(e){this.targetConnection!=e&&(this.checkConnection_(e),this.isSuperior()?this.connect_(e):e.connect_(this))},Blockly.Connection.connectReciprocally_=function(e,o){goog.asserts.assert(e&&o,"Cannot connect null connections."),(e.targetConnection=o).targetConnection=e},Blockly.Connection.singleConnection_=function(e,o){for(var t=!1,n=0;n<e.inputList.length;n++){var r=e.inputList[n].connection;if(r&&r.type==Blockly.INPUT_VALUE&&o.outputConnection.checkType_(r)){if(t)return null;t=r}}return t},Blockly.Connection.lastConnectionInRow_=function(e,o){for(var t,n=e;t=Blockly.Connection.singleConnection_(n,o);)if(!(n=t.targetBlock())||n.isShadow())return t;return null},Blockly.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(goog.asserts.assert(e,"Source connection not connected."),goog.asserts.assert(e.targetConnection==this,"Target connection not connected to source connection."),this.isSuperior()){var o=this.sourceBlock_,t=e.getSourceBlock();e=this}else o=e.getSourceBlock(),t=this.sourceBlock_;this.disconnectInternal_(o,t),e.respawnShadow_()},Blockly.Connection.prototype.disconnectInternal_=function(e,o){var t;Blockly.Events.isEnabled()&&(t=new Blockly.Events.BlockMove(o)),this.targetConnection=this.targetConnection.targetConnection=null,o.setParent(null),t&&(t.recordNew(),Blockly.Events.fire(t))},Blockly.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),o=this.getShadowDom();if(e.workspace&&o&&Blockly.Events.recordUndo)if((e=Blockly.Xml.domToBlock(o,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw"Child block does not have output or previous statement.";this.connect(e.previousConnection)}},Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},Blockly.Connection.prototype.checkType_=function(e){if(!this.check_||!e.check_)return!0;for(var o=0;o<this.check_.length;o++)if(-1!=e.check_.indexOf(this.check_[o]))return!0;return!1},Blockly.Connection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},Blockly.Connection.prototype.setCheck=function(e){return e?(goog.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},Blockly.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e},Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_},Blockly.Connection.prototype.neighbours_=function(){return[]},Blockly.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var o="Output Connection of ";else if(e.previousConnection==this)o="Previous Connection of ";else if(e.nextConnection==this)o="Next Connection of ";else{if(!(o=goog.array.find(e.inputList,function(e){return e.connection==this},this)))return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";o='Input "'+o.name+'" connection on '}return o+e.toDevString()},Blockly.ConnectionDB=function(){},Blockly.ConnectionDB.prototype=[],Blockly.ConnectionDB.constructor=Blockly.ConnectionDB,Blockly.ConnectionDB.prototype.addConnection=function(e){if(e.inDB_)throw"Connection already in database.";if(!e.getSourceBlock().isInFlyout){var o=this.findPositionForConnection_(e);this.splice(o,0,e),e.inDB_=!0}},Blockly.ConnectionDB.prototype.findConnection=function(e){if(!this.length)return-1;var o=this.findPositionForConnection_(e);if(o>=this.length)return-1;for(var t=e.y_,n=o;0<=n&&this[n].y_==t;){if(this[n]==e)return n;n--}for(;o<this.length&&this[o].y_==t;){if(this[o]==e)return o;o++}return-1},Blockly.ConnectionDB.prototype.findPositionForConnection_=function(e){if(!this.length)return 0;for(var o=0,t=this.length;o<t;){var n=Math.floor((o+t)/2);if(this[n].y_<e.y_)o=n+1;else{if(!(this[n].y_>e.y_)){o=n;break}t=n}}return o},Blockly.ConnectionDB.prototype.removeConnection_=function(e){if(!e.inDB_)throw"Connection not in database.";var o=this.findConnection(e);if(-1==o)throw"Unable to find connection in connectionDB.";e.inDB_=!1,this.splice(o,1)},Blockly.ConnectionDB.prototype.getNeighbours=function(e,n){function o(e){var o=i-r[e].x_,t=s-r[e].y_;return Math.sqrt(o*o+t*t)<=n&&a.push(r[e]),t<n}for(var r=this,i=e.x_,s=e.y_,t=0,l=r.length-2,g=l;t<g;)r[g].y_<s?t=g:l=g,g=Math.floor((t+l)/2);var a=[];if(l=t=g,r.length){for(;0<=t&&o(t);)t--;for(;++l<r.length&&o(l););}return a},Blockly.ConnectionDB.prototype.isInYRange_=function(e,o,t){return Math.abs(this[e].y_-o)<=t},Blockly.ConnectionDB.prototype.searchForClosest=function(e,o,t){if(!this.length)return{connection:null,radius:o};var n=e.y_,r=e.x_;e.x_=r+t.x,e.y_=n+t.y;var i=this.findPositionForConnection_(e);t=null;for(var s,l=o,g=i-1;0<=g&&this.isInYRange_(g,e.y_,o);)s=this[g],e.isConnectionAllowed(s,l)&&(l=(t=s).distanceFrom(e)),g--;for(;i<this.length&&this.isInYRange_(i,e.y_,o);)s=this[i],e.isConnectionAllowed(s,l)&&(l=(t=s).distanceFrom(e)),i++;return e.x_=r,e.y_=n,{connection:t,radius:l}},Blockly.ConnectionDB.init=function(e){var o=[];o[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB,o[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB,o[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB,o[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB,e.connectionDBList=o},Blockly.constants={},Blockly.DRAG_RADIUS=5,Blockly.FLYOUT_DRAG_RADIUS=10,Blockly.SNAP_RADIUS=20,Blockly.BUMP_DELAY=250,Blockly.COLLAPSE_CHARS=30,Blockly.LONGPRESS=750,Blockly.SOUND_LIMIT=100,Blockly.DRAG_STACK=!0,Blockly.HSV_SATURATION=.45,Blockly.HSV_VALUE=.65,Blockly.SPRITE={width:96,height:124,url:"sprites.png"},Blockly.SVG_NS="http://www.w3.org/2000/svg",Blockly.HTML_NS="http://www.w3.org/1999/xhtml",Blockly.INPUT_VALUE=1,Blockly.OUTPUT_VALUE=2,Blockly.NEXT_STATEMENT=3,Blockly.PREVIOUS_STATEMENT=4,Blockly.DUMMY_INPUT=5,Blockly.ALIGN_LEFT=-1,Blockly.ALIGN_CENTRE=0,Blockly.ALIGN_RIGHT=1,Blockly.DRAG_NONE=0,Blockly.DRAG_STICKY=1,Blockly.DRAG_BEGIN=1,Blockly.DRAG_FREE=2,Blockly.OPPOSITE_TYPE=[],Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT,Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT,Blockly.TOOLBOX_AT_TOP=0,Blockly.TOOLBOX_AT_BOTTOM=1,Blockly.TOOLBOX_AT_LEFT=2,Blockly.TOOLBOX_AT_RIGHT=3,Blockly.DELETE_AREA_NONE=null,Blockly.DELETE_AREA_TRASH=1,Blockly.DELETE_AREA_TOOLBOX=2,Blockly.VARIABLE_CATEGORY_NAME="VARIABLE",Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",Blockly.PROCEDURE_CATEGORY_NAME="PROCEDURE",Blockly.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",Blockly.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",Blockly.RenderedConnection=function(e,o){Blockly.RenderedConnection.superClass_.constructor.call(this,e,o),this.offsetInBlock_=new goog.math.Coordinate(0,0)},goog.inherits(Blockly.RenderedConnection,Blockly.Connection),Blockly.RenderedConnection.prototype.distanceFrom=function(e){var o=this.x_-e.x_;return e=this.y_-e.y_,Math.sqrt(o*o+e*e)},Blockly.RenderedConnection.prototype.bumpAwayFrom_=function(e){if(!this.sourceBlock_.workspace.isDragging()){var o=this.sourceBlock_.getRootBlock();if(!o.isInFlyout){var t=!1;if(!o.isMovable()){if(!(o=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,t=!0}var n=Blockly.selected==o;n||o.addSelect();var r=e.x_+Blockly.SNAP_RADIUS-this.x_;e=e.y_+Blockly.SNAP_RADIUS-this.y_,t&&(e=-e),o.RTL&&(r=-r),o.moveBy(r,e),n||o.removeSelect()}}},Blockly.RenderedConnection.prototype.moveTo=function(e,o){this.inDB_&&this.db_.removeConnection_(this),this.x_=e,this.y_=o,this.hidden_||this.db_.addConnection(this)},Blockly.RenderedConnection.prototype.moveBy=function(e,o){this.moveTo(this.x_+e,this.y_+o)},Blockly.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},Blockly.RenderedConnection.prototype.setOffsetInBlock=function(e,o){this.offsetInBlock_.x=e,this.offsetInBlock_.y=o},Blockly.RenderedConnection.prototype.tighten_=function(){var e=this.targetConnection.x_-this.x_,o=this.targetConnection.y_-this.y_;if(0!=e||0!=o){var t=this.targetBlock(),n=t.getSvgRoot();if(!n)throw"block is not rendered.";n=Blockly.utils.getRelativeXY(n),t.getSvgRoot().setAttribute("transform","translate("+(n.x-e)+","+(n.y-o)+")"),t.moveConnections_(-e,-o)}},Blockly.RenderedConnection.prototype.closest=function(e,o,t){return this.dbOpposite_.searchForClosest(this,e,o,t)},Blockly.RenderedConnection.prototype.highlight=function(){var e=this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?"m 0,0 "+Blockly.BlockSvg.TAB_PATH_DOWN+" v 5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5",o=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.utils.createSvgElement("path",{class:"blocklyHighlightedConnectionPath",d:e,transform:"translate("+(this.x_-o.x)+","+(this.y_-o.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},Blockly.RenderedConnection.prototype.unhideAll=function(){this.setHidden(!1);var e=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return e;var o=this.targetBlock();if(o){if(o.isCollapsed()){var t=[];o.outputConnection&&t.push(o.outputConnection),o.nextConnection&&t.push(o.nextConnection),o.previousConnection&&t.push(o.previousConnection)}else t=o.getConnections_(!0);for(var n=0;n<t.length;n++)e.push.apply(e,t[n].unhideAll());e.length||(e[0]=o)}return e},Blockly.RenderedConnection.prototype.unhighlight=function(){goog.dom.removeNode(Blockly.Connection.highlightedPath_),delete Blockly.Connection.highlightedPath_},Blockly.RenderedConnection.prototype.setHidden=function(e){(this.hidden_=e)&&this.inDB_?this.db_.removeConnection_(this):e||this.inDB_||this.db_.addConnection(this)},Blockly.RenderedConnection.prototype.hideAll=function(){if(this.setHidden(!0),this.targetConnection)for(var e=this.targetBlock().getDescendants(),o=0;o<e.length;o++){for(var t=e[o],n=t.getConnections_(!0),r=0;r<n.length;r++)n[r].setHidden(!0);for(t=t.getIcons(),r=0;r<t.length;r++)t[r].setVisible(!1)}},Blockly.RenderedConnection.prototype.isConnectionAllowed=function(e,o){return!(this.distanceFrom(e)>o)&&Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},Blockly.RenderedConnection.prototype.disconnectInternal_=function(e,o){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(this,e,o),e.rendered&&e.render(),o.rendered&&(o.updateDisabled(),o.render())},Blockly.RenderedConnection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),o=this.getShadowDom();if(e.workspace&&o&&Blockly.Events.recordUndo){if(Blockly.RenderedConnection.superClass_.respawnShadow_.call(this),!(o=this.targetBlock()))throw"Couldn't respawn the shadow block that should exist here.";o.initSvg(),o.render(!1),e.rendered&&e.render()}},Blockly.RenderedConnection.prototype.neighbours_=function(e){return this.dbOpposite_.getNeighbours(this,e)},Blockly.RenderedConnection.prototype.connect_=function(e){Blockly.RenderedConnection.superClass_.connect_.call(this,e);var o=this.getSourceBlock();e=e.getSourceBlock(),o.rendered&&o.updateDisabled(),e.rendered&&e.updateDisabled(),o.rendered&&e.rendered&&(this.type==Blockly.NEXT_STATEMENT||this.type==Blockly.PREVIOUS_STATEMENT?e.render():o.render())},Blockly.RenderedConnection.prototype.onCheckChanged_=function(){this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours_())},Blockly.DraggedConnectionManager=function(e){this.topBlock_=Blockly.selected=e,this.workspace_=e.workspace,this.availableConnections_=this.initAvailableConnections_(),this.localConnection_=this.closestConnection_=null,this.radiusConnection_=0,this.wouldDeleteBlock_=!1},Blockly.DraggedConnectionManager.prototype.dispose=function(){this.workspace_=this.topBlock_=null,this.availableConnections_.length=0,this.localConnection_=this.closestConnection_=null},Blockly.DraggedConnectionManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},Blockly.DraggedConnectionManager.prototype.applyConnections=function(){this.closestConnection_&&(this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered&&((this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_).getSourceBlock().connectionUiEffect(),this.topBlock_.getRootBlock().bringToFront()),this.removeHighlighting_())},Blockly.DraggedConnectionManager.prototype.update=function(e,o){var t=this.closestConnection_,n=this.updateClosest_(e);n&&t&&t.unhighlight(),t=!!this.closestConnection_&&o!=Blockly.DELETE_AREA_TOOLBOX;var r=!!o&&!this.topBlock_.getParent()&&this.topBlock_.isDeletable();this.wouldDeleteBlock_=r&&!t,r&&this.closestConnection_&&(this.closestConnection_.unhighlight(),this.closestConnection_=null),!this.wouldDeleteBlock_&&n&&this.closestConnection_&&this.addHighlighting_()},Blockly.DraggedConnectionManager.prototype.removeHighlighting_=function(){this.closestConnection_&&this.closestConnection_.unhighlight()},Blockly.DraggedConnectionManager.prototype.addHighlighting_=function(){this.closestConnection_&&this.closestConnection_.highlight()},Blockly.DraggedConnectionManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),o=this.topBlock_.lastConnectionInStack_();return o&&o!=this.topBlock_.nextConnection&&e.push(o),e},Blockly.DraggedConnectionManager.prototype.updateClosest_=function(e){var o=this.closestConnection_;this.localConnection_=this.closestConnection_=null,this.radiusConnection_=Blockly.SNAP_RADIUS;for(var t=0;t<this.availableConnections_.length;t++){var n=this.availableConnections_[t],r=n.closest(this.radiusConnection_,e);r.connection&&(this.closestConnection_=r.connection,this.localConnection_=n,this.radiusConnection_=r.radius)}return o!=this.closestConnection_},Blockly.BlockDragger=function(e,o){this.draggingBlock_=e,this.workspace_=o,this.draggedConnectionManager_=new Blockly.DraggedConnectionManager(this.draggingBlock_),this.deleteArea_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=Blockly.BlockDragger.initIconData_(e)},Blockly.BlockDragger.prototype.dispose=function(){this.startWorkspace_=this.workspace_=this.draggingBlock_=null,this.dragIconData_.length=0,this.draggedConnectionManager_&&(this.draggedConnectionManager_.dispose(),this.draggedConnectionManager_=null)},Blockly.BlockDragger.initIconData_=function(e){var o=[];e=e.getDescendants();for(var t,n=0;t=e[n];n++){t=t.getIcons();for(var r=0;r<t.length;r++){var i={location:t[r].getIconLocation(),icon:t[r]};o.push(i)}}return o},Blockly.BlockDragger.prototype.startBlockDrag=function(e,o){if(Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),Blockly.BlockSvg.disconnectUiStop_(),this.draggingBlock_.getParent()||o&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock()){this.draggingBlock_.unplug(o);var t=this.pixelsToWorkspaceUnits_(e);t=goog.math.Coordinate.sum(this.startXY_,t),this.draggingBlock_.translate(t.x,t.y),this.draggingBlock_.disconnectUiEffect()}if(this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface_(),t=this.workspace_.getToolbox()){var n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";t.addStyle(n)}},Blockly.BlockDragger.prototype.dragBlock=function(e,o){var t=this.pixelsToWorkspaceUnits_(o),n=goog.math.Coordinate.sum(this.startXY_,t);this.draggingBlock_.moveDuringDrag(n),this.dragIcons_(t),this.deleteArea_=this.workspace_.isDeleteArea(e),this.draggedConnectionManager_.update(t,this.deleteArea_),this.updateCursorDuringBlockDrag_()},Blockly.BlockDragger.prototype.endBlockDrag=function(e,o){this.dragBlock(e,o),this.dragIconData_=[],Blockly.BlockSvg.disconnectUiStop_();var t=this.pixelsToWorkspaceUnits_(o),n=goog.math.Coordinate.sum(this.startXY_,t);this.draggingBlock_.moveOffDragSurface_(n),this.maybeDeleteBlock_()||(this.draggingBlock_.moveConnections_(t.x,t.y),this.draggingBlock_.setDragging(!1),this.draggedConnectionManager_.applyConnections(),this.draggingBlock_.render(),this.fireMoveEvent_(),this.draggingBlock_.scheduleSnapAndBump()),this.workspace_.setResizesEnabled(!0),(t=this.workspace_.getToolbox())&&(n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab",t.removeStyle(n)),Blockly.Events.setGroup(!1)},Blockly.BlockDragger.prototype.fireMoveEvent_=function(){var e=new Blockly.Events.BlockMove(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),Blockly.Events.fire(e)},Blockly.BlockDragger.prototype.maybeDeleteBlock_=function(){var e=this.workspace_.trashcan;return this.wouldDeleteBlock_?(e&&goog.Timer.callOnce(e.close,100,e),this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0)):e&&e.close(),this.wouldDeleteBlock_},Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock();var e=this.workspace_.trashcan;this.wouldDeleteBlock_?(this.draggingBlock_.setDeleteStyle(!0),this.deleteArea_==Blockly.DELETE_AREA_TRASH&&e&&e.setOpen_(!0)):(this.draggingBlock_.setDeleteStyle(!1),e&&e.setOpen_(!1))},Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new goog.math.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&(e=e.scale(1/this.workspace_.options.parentWorkspace.scale)),e},Blockly.BlockDragger.prototype.dragIcons_=function(e){for(var o=0;o<this.dragIconData_.length;o++){var t=this.dragIconData_[o];t.icon.setIconLocation(goog.math.Coordinate.sum(t.location,e))}},Blockly.BubbleDragger=function(e,o){this.draggingBubble_=e,this.workspace_=o,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=Blockly.utils.is3dSupported()&&o.getBlockDragSurface()?o.getBlockDragSurface():null},Blockly.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},Blockly.BubbleDragger.prototype.startBubbleDrag=function(){Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_()},Blockly.BubbleDragger.prototype.dragBubble=function(e,o){var t=this.pixelsToWorkspaceUnits_(o);t=goog.math.Coordinate.sum(this.startXY_,t),this.draggingBubble_.moveDuringDrag(this.dragSurface_,t)},Blockly.BubbleDragger.prototype.endBubbleDrag=function(e,o){this.dragBubble(e,o);var t=this.pixelsToWorkspaceUnits_(o);t=goog.math.Coordinate.sum(this.startXY_,t),this.draggingBubble_.moveTo(t.x,t.y),this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.fireMoveEvent_(),this.workspace_.setResizesEnabled(!0),Blockly.Events.setGroup(!1)},Blockly.BubbleDragger.prototype.fireMoveEvent_=function(){},Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new goog.math.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&(e=e.scale(1/this.workspace_.options.parentWorkspace.scale)),e},Blockly.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},Blockly.WorkspaceDragger=function(e){this.workspace_=e,this.startDragMetrics_=e.getMetrics(),this.startScrollXY_=new goog.math.Coordinate(e.scrollX,e.scrollY)},Blockly.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},Blockly.WorkspaceDragger.prototype.startDrag=function(){Blockly.selected&&Blockly.selected.unselect(),this.workspace_.setupDragSurface()},Blockly.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},Blockly.WorkspaceDragger.prototype.drag=function(e){var o=this.startDragMetrics_,t=goog.math.Coordinate.sum(this.startScrollXY_,e);e=Math.min(t.x,-o.contentLeft),t=Math.min(t.y,-o.contentTop),e=Math.max(e,o.viewWidth-o.contentLeft-o.contentWidth),t=Math.max(t,o.viewHeight-o.contentTop-o.contentHeight),e=-e-o.contentLeft,t=-t-o.contentTop,this.updateScroll_(e,t)},Blockly.WorkspaceDragger.prototype.updateScroll_=function(e,o){this.workspace_.scrollbar.set(e,o)},Blockly.FlyoutDragger=function(e){Blockly.FlyoutDragger.superClass_.constructor.call(this,e.getWorkspace()),this.scrollbar_=e.scrollbar_,this.horizontalLayout_=e.horizontalLayout_},goog.inherits(Blockly.FlyoutDragger,Blockly.WorkspaceDragger),Blockly.FlyoutDragger.prototype.updateScroll_=function(e,o){this.horizontalLayout_?this.scrollbar_.set(e):this.scrollbar_.set(o)},Blockly.Tooltip={},Blockly.Tooltip.visible=!1,Blockly.Tooltip.blocked_=!1,Blockly.Tooltip.LIMIT=50,Blockly.Tooltip.mouseOutPid_=0,Blockly.Tooltip.showPid_=0,Blockly.Tooltip.lastX_=0,Blockly.Tooltip.lastY_=0,Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.OFFSET_X=0,Blockly.Tooltip.OFFSET_Y=10,Blockly.Tooltip.RADIUS_OK=10,Blockly.Tooltip.HOVER_MS=750,Blockly.Tooltip.MARGINS=5,Blockly.Tooltip.DIV=null,Blockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=goog.dom.createDom("DIV","blocklyTooltipDiv"),document.body.appendChild(Blockly.Tooltip.DIV))},Blockly.Tooltip.bindMouseEvents=function(e){Blockly.bindEvent_(e,"mouseover",null,Blockly.Tooltip.onMouseOver_),Blockly.bindEvent_(e,"mouseout",null,Blockly.Tooltip.onMouseOut_),e.addEventListener("mousemove",Blockly.Tooltip.onMouseMove_,!1)},Blockly.Tooltip.onMouseOver_=function(e){if(!Blockly.Tooltip.blocked_){for(e=e.target;!goog.isString(e.tooltip)&&!goog.isFunction(e.tooltip);)e=e.tooltip;Blockly.Tooltip.element_!=e&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=e),clearTimeout(Blockly.Tooltip.mouseOutPid_)}},Blockly.Tooltip.onMouseOut_=function(e){Blockly.Tooltip.blocked_||(Blockly.Tooltip.mouseOutPid_=setTimeout(function(){Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.hide()},1),clearTimeout(Blockly.Tooltip.showPid_))},Blockly.Tooltip.onMouseMove_=function(e){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&!Blockly.WidgetDiv.isVisible()&&!Blockly.Tooltip.blocked_)if(Blockly.Tooltip.visible){var o=Blockly.Tooltip.lastX_-e.pageX;e=Blockly.Tooltip.lastY_-e.pageY,Math.sqrt(o*o+e*e)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=e.pageX,Blockly.Tooltip.lastY_=e.pageY,Blockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS))},Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none")),Blockly.Tooltip.showPid_&&clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.block=function(){Blockly.Tooltip.hide(),Blockly.Tooltip.blocked_=!0},Blockly.Tooltip.unblock=function(){Blockly.Tooltip.blocked_=!1},Blockly.Tooltip.show_=function(){if(!Blockly.Tooltip.blocked_&&(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV)){goog.dom.removeChildren(Blockly.Tooltip.DIV);for(var e=Blockly.Tooltip.element_.tooltip;goog.isFunction(e);)e=e();e=(e=Blockly.utils.wrap(e,Blockly.Tooltip.LIMIT)).split("\n");for(var o=0;o<e.length;o++){var t=document.createElement("div");t.appendChild(document.createTextNode(e[o])),Blockly.Tooltip.DIV.appendChild(t)}e=Blockly.Tooltip.element_.RTL,o=goog.dom.getViewportSize(),Blockly.Tooltip.DIV.style.direction=e?"rtl":"ltr",Blockly.Tooltip.DIV.style.display="block",Blockly.Tooltip.visible=!0,t=Blockly.Tooltip.lastX_,t=e?t-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):t+Blockly.Tooltip.OFFSET_X;var n=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;n+Blockly.Tooltip.DIV.offsetHeight>o.height+window.scrollY&&(n-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y),e?t=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,t):t+Blockly.Tooltip.DIV.offsetWidth>o.width+window.scrollX-2*Blockly.Tooltip.MARGINS&&(t=o.width-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS),Blockly.Tooltip.DIV.style.top=n+"px",Blockly.Tooltip.DIV.style.left=t+"px"}},Blockly.Gesture=function(e,o){this.mouseDownXY_=null,this.currentDragDeltaXY_=0,this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=o,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!Blockly.DRAG_STACK},Blockly.Gesture.prototype.dispose=function(){Blockly.Touch.clearTouchIdentifier(),Blockly.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&Blockly.unbindEvent_(this.onMoveWrapper_),this.onUpWrapper_&&Blockly.unbindEvent_(this.onUpWrapper_),this.flyout_=this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=null,this.blockDragger_&&(this.blockDragger_.dispose(),this.blockDragger_=null),this.workspaceDragger_&&(this.workspaceDragger_.dispose(),this.workspaceDragger_=null),this.bubbleDragger_&&(this.bubbleDragger_.dispose(),this.bubbleDragger_=null)},Blockly.Gesture.prototype.updateFromEvent_=function(e){var o=new goog.math.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(o)&&(this.updateIsDragging_(),Blockly.longStop_()),this.mostRecentEvent_=e},Blockly.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=goog.math.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=goog.math.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?Blockly.FLYOUT_DRAG_RADIUS:Blockly.DRAG_RADIUS))},Blockly.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!this.targetBlock_.disabled&&(!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace_,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0))},Blockly.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},Blockly.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},Blockly.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=this.flyout_?new Blockly.FlyoutDragger(this.flyout_):new Blockly.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},Blockly.Gesture.prototype.updateIsDragging_=function(){goog.asserts.assert(!this.calledUpdateIsDragging_,"updateIsDragging_ should only be called once per gesture."),this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},Blockly.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new Blockly.BlockDragger(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startBlockDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_)},Blockly.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new Blockly.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},Blockly.Gesture.prototype.doStart=function(e){Blockly.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,Blockly.BlockSvg.disconnectUiStop_(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,Blockly.hideChaff(!!this.flyout_),Blockly.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),Blockly.utils.isRightButton(e)?this.handleRightClick(e):((goog.string.caseInsensitiveEquals(e.type,"touchstart")||goog.string.caseInsensitiveEquals(e.type,"pointerdown")&&"mouse"!=e.pointerType)&&Blockly.longStart_(e,this),this.mouseDownXY_=new goog.math.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},Blockly.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},Blockly.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.dragBlock(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},Blockly.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),Blockly.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(),e.preventDefault(),e.stopPropagation(),this.dispose())},Blockly.Gesture.prototype.cancel=function(){this.isEnding_||(Blockly.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endBlockDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},Blockly.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),Blockly.hideChaff(this.flyout_),this.targetBlock_.showContextMenu_(e)):this.startWorkspace_&&!this.flyout_&&(Blockly.hideChaff(),this.startWorkspace_.showContextMenu_(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},Blockly.Gesture.prototype.handleWsStart=function(e,o){goog.asserts.assert(!this.hasStarted_,"Tried to call gesture.handleWsStart, but the gesture had already been started."),this.setStartWorkspace_(o),this.mostRecentEvent_=e,this.doStart(e)},Blockly.Gesture.prototype.handleFlyoutStart=function(e,o){goog.asserts.assert(!this.hasStarted_,"Tried to call gesture.handleFlyoutStart, but the gesture had already been started."),this.setStartFlyout_(o),this.handleWsStart(e,o.getWorkspace())},Blockly.Gesture.prototype.handleBlockStart=function(e,o){goog.asserts.assert(!this.hasStarted_,"Tried to call gesture.handleBlockStart, but the gesture had already been started."),this.setStartBlock(o),this.mostRecentEvent_=e},Blockly.Gesture.prototype.handleBubbleStart=function(e,o){goog.asserts.assert(!this.hasStarted_,"Tried to call gesture.handleBubbleStart, but the gesture had already been started."),this.setStartBubble(o),this.mostRecentEvent_=e},Blockly.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.promote_()},Blockly.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor_(),this.bringBlockToFront_()},Blockly.Gesture.prototype.doBlockClick_=function(){this.flyout_&&this.flyout_.autoClose?this.targetBlock_.disabled||(Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump()):Blockly.Events.fire(new Blockly.Events.Ui(this.startBlock_,"click",void 0,void 0)),this.bringBlockToFront_(),Blockly.Events.setGroup(!1)},Blockly.Gesture.prototype.doWorkspaceClick_=function(){Blockly.selected&&Blockly.selected.unselect()},Blockly.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},Blockly.Gesture.prototype.setStartField=function(e){goog.asserts.assert(!this.hasStarted_,"Tried to call gesture.setStartField, but the gesture had already been started."),this.startField_||(this.startField_=e)},Blockly.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},Blockly.Gesture.prototype.setStartBlock=function(e){this.startBlock_||((this.startBlock_=e).isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},Blockly.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},Blockly.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},Blockly.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},Blockly.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},Blockly.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},Blockly.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isCurrentlyEditable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},Blockly.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startField_&&!this.hasExceededDragRadius_},Blockly.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},Blockly.Gesture.prototype.hasStarted=function(){return this.hasStarted_},Blockly.utils={},Blockly.utils.getMessageArray_=function(){return goog.global.Blockly.Msg},Blockly.utils.removeAttribute=function(e,o){goog.userAgent.IE&&goog.userAgent.isVersion("10.0")?e.setAttribute(o,null):e.removeAttribute(o)},Blockly.utils.addClass=function(e,o){var t=e.getAttribute("class")||"";return-1==(" "+t+" ").indexOf(" "+o+" ")&&(t&&(t+=" "),e.setAttribute("class",t+o),!0)},Blockly.utils.removeClass=function(e,o){var t=e.getAttribute("class");if(-1==(" "+t+" ").indexOf(" "+o+" "))return!1;t=t.split(/\s+/);for(var n=0;n<t.length;n++)t[n]&&t[n]!=o||(t.splice(n,1),n--);return t.length?e.setAttribute("class",t.join(" ")):Blockly.utils.removeAttribute(e,"class"),!0},Blockly.utils.hasClass=function(e,o){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+o+" ")},Blockly.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},Blockly.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable},Blockly.utils.getRelativeXY=function(e){var o=new goog.math.Coordinate(0,0),t=e.getAttribute("x");return t&&(o.x=parseInt(t,10)),(t=e.getAttribute("y"))&&(o.y=parseInt(t,10)),(t=(t=e.getAttribute("transform"))&&t.match(Blockly.utils.getRelativeXY.XY_REGEX_))&&(o.x+=parseFloat(t[1]),t[3]&&(o.y+=parseFloat(t[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&((t=e.match(Blockly.utils.getRelativeXY.XY_2D_REGEX_))||(t=e.match(Blockly.utils.getRelativeXY.XY_3D_REGEX_)),t&&(o.x+=parseFloat(t[1]),t[3]&&(o.y+=parseFloat(t[3])))),o},Blockly.utils.getInjectionDivXY_=function(e){for(var o=0,t=0;e;){var n=Blockly.utils.getRelativeXY(e),r=Blockly.utils.getScale_(e);if(o=o*r+n.x,t=t*r+n.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new goog.math.Coordinate(o,t)},Blockly.utils.getScale_=function(e){var o=1;return(e=e.getAttribute("transform"))&&(e=e.match(Blockly.utils.getScale_.REGEXP_))&&e[0]&&(o=parseFloat(e[0])),o},Blockly.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/,Blockly.utils.getScale_REGEXP_=/scale\(\s*([-+\d.e]+)\s*\)/,Blockly.utils.getRelativeXY.XY_3D_REGEX_=/transform:\s*translate3d\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px([ ,]\s*([-+\d.e]+)\s*)px\)?/,Blockly.utils.getRelativeXY.XY_2D_REGEX_=/transform:\s*translate\(\s*([-+\d.e]+)px([ ,]\s*([-+\d.e]+)\s*)px\)?/,Blockly.utils.createSvgElement=function(e,o,t){for(var n in e=document.createElementNS(Blockly.SVG_NS,e),o)e.setAttribute(n,o[n]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),t&&t.appendChild(e),e},Blockly.utils.isRightButton=function(e){return!(!e.ctrlKey||!goog.userAgent.MAC)||2==e.button},Blockly.utils.mouseToSvg=function(e,o,t){var n=o.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,t||(t=o.getScreenCTM().inverse()),n.matrixTransform(t)},Blockly.utils.shortestStringLength=function(e){return e.length?e.reduce(function(e,o){return e.length<o.length?e:o}).length:0},Blockly.utils.commonWordPrefix=function(e,o){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var t=0,n=o||Blockly.utils.shortestStringLength(e),r=0;r<n;r++){for(var i=e[0][r],s=1;s<e.length;s++)if(i!=e[s][r])return t;" "==i&&(t=r+1)}for(s=1;s<e.length;s++)if((i=e[s][r])&&" "!=i)return t;return n},Blockly.utils.commonWordSuffix=function(e,o){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var t=0,n=o||Blockly.utils.shortestStringLength(e),r=0;r<n;r++){for(var i=e[0].substr(-r-1,1),s=1;s<e.length;s++)if(i!=e[s].substr(-r-1,1))return t;" "==i&&(t=r+1)}for(s=1;s<e.length;s++)if((i=e[s].charAt(e[s].length-r-1))&&" "!=i)return t;return n},Blockly.utils.tokenizeInterpolation=function(e){return Blockly.utils.tokenizeInterpolation_(e,!0)},Blockly.utils.replaceMessageReferences=function(e){return goog.isString(e)?(e=Blockly.utils.tokenizeInterpolation_(e,!1)).length?e[0]:"":e},Blockly.utils.checkMessageReferences=function(e){for(var o=!0,t=Blockly.utils.getMessageArray_(),n=/%{(BKY_[A-Z][A-Z0-9_]*)}/gi,r=n.exec(e);r;){var i=r[1];"BKY_"!=(i=i.toUpperCase()).substr(0,4)?(console.log("WARNING: Unsupported message table prefix in %{"+r[1]+"}."),o=!1):null==t[i.substr(4)]&&(console.log("WARNING: No message string for %{"+r[1]+"}."),o=!1),e=e.substring(r.index+i.length+1),r=n.exec(e)}return o},Blockly.utils.tokenizeInterpolation_=function(e,o){var t=[],n=e.split("");n.push("");for(var r=0,i=[],s=null,l=0;l<n.length;l++){var g=n[l];0==r?"%"==g?((g=i.join(""))&&t.push(g),i.length=0,r=1):i.push(g):1==r?"%"==g?(i.push(g),r=0):o&&"0"<=g&&g<="9"?(r=2,s=g,(g=i.join(""))&&t.push(g),i.length=0):r="{"==g?3:(i.push("%",g),0):2==r?"0"<=g&&g<="9"?s+=g:(t.push(parseInt(s,10)),l--,r=0):3==r&&(""==g?(i.splice(0,0,"%{"),l--,r=0):"}"!=g?i.push(g):(r=i.join(""),/[a-zA-Z][a-zA-Z0-9_]*/.test(r)?(g=r.toUpperCase(),(g=goog.string.startsWith(g,"BKY_")?g.substring(4):null)&&g in Blockly.utils.getMessageArray_()?(r=Blockly.utils.getMessageArray_()[g],goog.isString(r)?Array.prototype.push.apply(t,Blockly.utils.tokenizeInterpolation_(r,o)):o?t.push(String(r)):t.push(r)):t.push("%{"+r+"}")):t.push("%{"+r+"}"),r=i.length=0))}for((g=i.join(""))&&t.push(g),n=[],l=i.length=0;l<t.length;++l)"string"==typeof t[l]?i.push(t[l]):((g=i.join(""))&&n.push(g),i.length=0,n.push(t[l]));return(g=i.join(""))&&n.push(g),i.length=0,n},Blockly.utils.genUid=function(){for(var e=Blockly.utils.genUid.soup_.length,o=[],t=0;t<20;t++)o[t]=Blockly.utils.genUid.soup_.charAt(Math.random()*e);return o.join("")},Blockly.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Blockly.utils.wrap=function(e,o){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=Blockly.utils.wrapLine_(t[n],o);return t.join("\n")},Blockly.utils.wrapLine_=function(e,o){if(e.length<=o)return e;for(var t=e.trim().split(/\s+/),n=0;n<t.length;n++)t[n].length>o&&(o=t[n].length);n=-1/0;var r=1;do{var i=n,s=e,l=[],g=t.length/r,a=1;for(n=0;n<t.length-1;n++)l[n]=a<(n+1.5)/g&&(a++,!0);l=Blockly.utils.wrapMutate_(t,l,o),n=Blockly.utils.wrapScore_(t,l,o),e=Blockly.utils.wrapToText_(t,l),r++}while(i<n);return s},Blockly.utils.wrapScore_=function(e,o,t){for(var n=[0],r=[],i=0;i<e.length;i++)n[n.length-1]+=e[i].length,!0===o[i]?(n.push(0),r.push(e[i].charAt(e[i].length-1))):!1===o[i]&&n[n.length-1]++;for(e=Math.max.apply(Math,n),i=o=0;i<n.length;i++)o-=2*Math.pow(Math.abs(t-n[i]),1.5),o-=Math.pow(e-n[i],1.5),-1!=".?!".indexOf(r[i])?o+=t/3:-1!=",;)]}".indexOf(r[i])&&(o+=t/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(o+=.5),o},Blockly.utils.wrapMutate_=function(e,o,t){for(var n,r=Blockly.utils.wrapScore_(e,o,t),i=0;i<o.length-1;i++)if(o[i]!=o[i+1]){var s=[].concat(o);s[i]=!s[i],s[i+1]=!s[i+1];var l=Blockly.utils.wrapScore_(e,s,t);r<l&&(r=l,n=s)}return n?Blockly.utils.wrapMutate_(e,n,t):o},Blockly.utils.wrapToText_=function(e,o){for(var t=[],n=0;n<e.length;n++)t.push(e[n]),void 0!==o[n]&&t.push(o[n]?"\n":" ");return t.join("")},Blockly.utils.is3dSupported=function(){if(void 0!==Blockly.utils.is3dSupported.cached_)return Blockly.utils.is3dSupported.cached_;if(!goog.global.getComputedStyle)return!1;var e=document.createElement("p"),o="none",t={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var n in document.body.insertBefore(e,null),t)if(void 0!==e.style[n]){if(e.style[n]="translate3d(1px,1px,1px)",!(o=goog.global.getComputedStyle(e)))return document.body.removeChild(e),!1;o=o.getPropertyValue(t[n])}return document.body.removeChild(e),Blockly.utils.is3dSupported.cached_="none"!==o,Blockly.utils.is3dSupported.cached_},Blockly.utils.insertAfter_=function(e,o){var t=o.nextSibling,n=o.parentNode;if(!n)throw"Reference node has no parent.";t?n.insertBefore(e,t):n.appendChild(e)},Blockly.utils.runAfterPageLoad=function(e){if("object"!=("undefined"==typeof document?"undefined":_typeof(document)))throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else var o=setInterval(function(){"complete"===document.readyState&&(clearInterval(o),e())},10)},Blockly.utils.setCssTransform=function(e,o){e.style.transform=o,e.style["-webkit-transform"]=o},Blockly.utils.getViewportBBox=function(){var e=goog.dom.getViewportSize(),o=goog.style.getViewportPageOffset(document);return{right:e.width+o.x,bottom:e.height+o.y,top:o.y,left:o.x}},Blockly.Grid=function(e,o){this.gridPattern_=e,this.spacing_=o.spacing,this.length_=o.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=o.snap},Blockly.Grid.prototype.scale_=1,Blockly.Grid.prototype.dispose=function(){this.gridPattern_=null},Blockly.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},Blockly.Grid.prototype.getSpacing=function(){return this.spacing_},Blockly.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},Blockly.Grid.prototype.update=function(e){this.scale_=e;var o=this.spacing_*e||100;this.gridPattern_.setAttribute("width",o),this.gridPattern_.setAttribute("height",o);var t=(o=Math.floor(this.spacing_/2)+.5)-this.length_/2,n=o+this.length_/2;o*=e,t*=e,n*=e,this.setLineAttributes_(this.line1_,e,t,n,o,o),this.setLineAttributes_(this.line2_,e,o,o,t,n)},Blockly.Grid.prototype.setLineAttributes_=function(e,o,t,n,r,i){e&&(e.setAttribute("stroke-width",o),e.setAttribute("x1",t),e.setAttribute("y1",r),e.setAttribute("x2",n),e.setAttribute("y2",i))},Blockly.Grid.prototype.moveTo=function(e,o){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",o),(goog.userAgent.IE||goog.userAgent.EDGE)&&this.update(this.scale_)},Blockly.Grid.createDom=function(e,o,t){return e=Blockly.utils.createSvgElement("pattern",{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},t),0<o.length&&0<o.spacing?(Blockly.utils.createSvgElement("line",{stroke:o.colour},e),1<o.length&&Blockly.utils.createSvgElement("line",{stroke:o.colour},e)):Blockly.utils.createSvgElement("line",{},e),e},Blockly.Options=function(e){var o=!!e.readOnly;if(o)var t=null,n=!1,r=!1,i=!1,s=!1,l=!1,g=!1;else n=!(!(t=Blockly.Options.parseToolboxTree(e.toolbox))||!t.getElementsByTagName("category").length),void 0===(r=e.trashcan)&&(r=n),void 0===(i=e.collapse)&&(i=n),void 0===(s=e.comments)&&(s=n),void 0===(l=e.disable)&&(l=n),void 0===(g=e.sounds)&&(g=!0);var a=!!e.rtl,c=e.horizontalLayout;void 0===c&&(c=!1);var u=e.toolboxPosition;u="end"!==u,u=c?u?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:u==a?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;var h=e.scrollbars;void 0===h&&(h=n);var p=e.css;void 0===p&&(p=!0);var d="https://blockly-demo.appspot.com/static/media/";e.media?d=e.media:e.path&&(d=e.path+"media/");var y=void 0===e.oneBasedIndex||!!e.oneBasedIndex;this.RTL=a,this.oneBasedIndex=y,this.collapse=i,this.comments=s,this.disable=l,this.readOnly=o,this.maxBlocks=e.maxBlocks||1/0,this.pathToMedia=d,this.hasCategories=n,this.hasScrollbars=h,this.hasTrashcan=r,this.hasSounds=g,this.hasCss=p,this.horizontalLayout=c,this.languageTree=t,this.gridOptions=Blockly.Options.parseGridOptions_(e),this.zoomOptions=Blockly.Options.parseZoomOptions_(e),this.toolboxPosition=u},Blockly.Options.prototype.parentWorkspace=null,Blockly.Options.prototype.setMetrics=null,Blockly.Options.prototype.getMetrics=null,Blockly.Options.parseZoomOptions_=function(e){e=e.zoom||{};var o={};return o.controls=void 0!==e.controls&&!!e.controls,o.wheel=void 0!==e.wheel&&!!e.wheel,o.startScale=void 0===e.startScale?1:parseFloat(e.startScale),o.maxScale=void 0===e.maxScale?3:parseFloat(e.maxScale),o.minScale=void 0===e.minScale?.3:parseFloat(e.minScale),o.scaleSpeed=void 0===e.scaleSpeed?1.2:parseFloat(e.scaleSpeed),o},Blockly.Options.parseGridOptions_=function(e){e=e.grid||{};var o={};return o.spacing=parseFloat(e.spacing)||0,o.colour=e.colour||"#888",o.length=parseFloat(e.length)||1,o.snap=0<o.spacing&&!!e.snap,o},Blockly.Options.parseToolboxTree=function(e){return e?("string"!=typeof e&&("undefined"==typeof XSLTProcessor&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&(e=Blockly.Xml.textToDom(e))):e=null,e},Blockly.ScrollbarPair=function(e){this.workspace_=e,this.hScroll=new Blockly.Scrollbar(e,!0,!0,"blocklyMainWorkspaceScrollbar"),this.vScroll=new Blockly.Scrollbar(e,!1,!0,"blocklyMainWorkspaceScrollbar"),this.corner_=Blockly.utils.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),Blockly.utils.insertAfter_(this.corner_,e.getBubbleCanvas())},Blockly.ScrollbarPair.prototype.oldHostMetrics_=null,Blockly.ScrollbarPair.prototype.dispose=function(){goog.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},Blockly.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var o=!1,t=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==e.contentWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.contentLeft==e.contentLeft||(o=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==e.contentHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.contentTop==e.contentTop||(t=!0)):t=o=!0,o&&this.hScroll.resize(e),t&&this.vScroll.resize(e),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position_.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position_.y),this.oldHostMetrics_=e}},Blockly.ScrollbarPair.prototype.set=function(e,o){var t={},n=e*this.hScroll.ratio_,r=o*this.vScroll.ratio_,i=this.vScroll.scrollViewSize_;t.x=this.getRatio_(n,this.hScroll.scrollViewSize_),t.y=this.getRatio_(r,i),this.workspace_.setMetrics(t),this.hScroll.setHandlePosition(n),this.vScroll.setHandlePosition(r)},Blockly.ScrollbarPair.prototype.getRatio_=function(e,o){var t=e/o;return isNaN(t)?0:t},Blockly.Scrollbar=function(e,o,t,n){this.workspace_=e,this.pair_=t||!1,this.horizontal_=o,this.oldHostMetrics_=null,this.createDom_(n),this.position_=new goog.math.Coordinate(0,0),e=Blockly.Scrollbar.scrollbarThickness,this.positionAttribute_=o?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width","x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height","y"),this.onMouseDownBarWrapper_=Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=Blockly.bindEventWithChecks_(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},Blockly.Scrollbar.prototype.origin_=new goog.math.Coordinate(0,0),Blockly.Scrollbar.prototype.startDragMouse_=0,Blockly.Scrollbar.prototype.scrollViewSize_=0,Blockly.Scrollbar.prototype.handleLength_=0,Blockly.Scrollbar.prototype.handlePosition_=0,Blockly.Scrollbar.prototype.isVisible_=!0,Blockly.Scrollbar.prototype.containerVisible_=!0,Blockly.Scrollbar.scrollbarThickness=15,goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25),Blockly.Scrollbar.metricsAreEquivalent_=function(e,o){return!(!e||!o||e.viewWidth!=o.viewWidth||e.viewHeight!=o.viewHeight||e.viewLeft!=o.viewLeft||e.viewTop!=o.viewTop||e.absoluteTop!=o.absoluteTop||e.absoluteLeft!=o.absoluteLeft||e.contentWidth!=o.contentWidth||e.contentHeight!=o.contentHeight||e.contentLeft!=o.contentLeft||e.contentTop!=o.contentTop)},Blockly.Scrollbar.prototype.dispose=function(){this.cleanUp_(),Blockly.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,Blockly.unbindEvent_(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,goog.dom.removeNode(this.outerSvg_),this.workspace_=this.svgHandle_=this.svgBackground_=this.svgGroup_=this.outerSvg_=null},Blockly.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},Blockly.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},Blockly.Scrollbar.prototype.setScrollViewSize_=function(e){this.scrollViewSize_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollViewSize_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollViewSize_)},Blockly.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll.setContainerVisible(e),this.vScroll.setContainerVisible(e)},Blockly.Scrollbar.prototype.setPosition_=function(e,o){this.position_.x=e,this.position_.y=o,Blockly.utils.setCssTransform(this.outerSvg_,"translate("+(this.position_.x+this.origin_.x)+"px,"+(this.position_.y+this.origin_.y)+"px)")},Blockly.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(Blockly.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.oldHostMetrics_=e,this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.onScroll_()))},Blockly.Scrollbar.prototype.resizeHorizontal_=function(e){this.resizeViewHorizontal(e)},Blockly.Scrollbar.prototype.resizeViewHorizontal=function(e){var o=e.viewWidth-1;this.pair_&&(o-=Blockly.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,o)),o=e.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(o+=Blockly.Scrollbar.scrollbarThickness),this.setPosition_(o,e.absoluteTop+e.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5),this.resizeContentHorizontal(e)},Blockly.Scrollbar.prototype.resizeContentHorizontal=function(e){this.pair_||this.setVisible(this.scrollViewSize_<e.contentWidth),this.ratio_=this.scrollViewSize_/e.contentWidth,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,e.viewWidth*this.ratio_)),this.setHandlePosition(this.constrainHandle_((e.viewLeft-e.contentLeft)*this.ratio_))},Blockly.Scrollbar.prototype.resizeVertical_=function(e){this.resizeViewVertical(e)},Blockly.Scrollbar.prototype.resizeViewVertical=function(e){var o=e.viewHeight-1;this.pair_&&(o-=Blockly.Scrollbar.scrollbarThickness),this.setScrollViewSize_(Math.max(0,o)),o=e.absoluteLeft+.5,this.workspace_.RTL||(o+=e.viewWidth-Blockly.Scrollbar.scrollbarThickness-1),this.setPosition_(o,e.absoluteTop+.5),this.resizeContentVertical(e)},Blockly.Scrollbar.prototype.resizeContentVertical=function(e){this.pair_||this.setVisible(this.scrollViewSize_<e.contentHeight),this.ratio_=this.scrollViewSize_/e.contentHeight,(-1/0==this.ratio_||1/0==this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0),this.setHandleLength_(Math.max(0,e.viewHeight*this.ratio_)),this.setHandlePosition(this.constrainHandle_((e.viewTop-e.contentTop)*this.ratio_))},Blockly.Scrollbar.prototype.createDom_=function(e){var o="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(o+=" "+e),this.outerSvg_=Blockly.utils.createSvgElement("svg",{class:o},null),this.svgGroup_=Blockly.utils.createSvgElement("g",{},this.outerSvg_),this.svgBackground_=Blockly.utils.createSvgElement("rect",{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=Blockly.utils.createSvgElement("rect",{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),Blockly.utils.insertAfter_(this.outerSvg_,this.workspace_.getParentSvg())},Blockly.Scrollbar.prototype.isVisible=function(){return this.isVisible_},Blockly.Scrollbar.prototype.setContainerVisible=function(e){var o=e!=this.containerVisible_;this.containerVisible_=e,o&&this.updateDisplay_()},Blockly.Scrollbar.prototype.setVisible=function(e){var o=e!=this.isVisible();if(this.pair_)throw"Unable to toggle visibility of paired scrollbars.";this.isVisible_=e,o&&this.updateDisplay_()},Blockly.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},Blockly.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),Blockly.Touch.clearTouchIdentifier(),this.cleanUp_(),Blockly.utils.isRightButton(e))e.stopPropagation();else{var o=Blockly.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());o=this.horizontal_?o.x:o.y;var t=Blockly.utils.getInjectionDivXY_(this.svgHandle_);t=this.horizontal_?t.x:t.y;var n=this.handlePosition_,r=.95*this.handleLength_;o<=t?n-=r:o>=t+this.handleLength_&&(n+=r),this.setHandlePosition(this.constrainHandle_(n)),this.onScroll_(),e.stopPropagation(),e.preventDefault()}},Blockly.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),Blockly.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",this,this.onMouseUpHandle_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},Blockly.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandle_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.onScroll_()},Blockly.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),Blockly.Touch.clearTouchIdentifier(),this.cleanUp_()},Blockly.Scrollbar.prototype.cleanUp_=function(){Blockly.hideChaff(!0),Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null),Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)},Blockly.Scrollbar.prototype.constrainHandle_=function(e){return e<=0||isNaN(e)||this.scrollViewSize_<this.handleLength_?0:Math.min(e,this.scrollViewSize_-this.handleLength_)},Blockly.Scrollbar.prototype.onScroll_=function(){var e=this.handlePosition_/this.scrollViewSize_;isNaN(e)&&(e=0);var o={};this.horizontal_?o.x=e:o.y=e,this.workspace_.setMetrics(o)},Blockly.Scrollbar.prototype.set=function(e){this.setHandlePosition(this.constrainHandle_(e*this.ratio_)),this.onScroll_()},Blockly.Scrollbar.prototype.setOrigin=function(e,o){this.origin_=new goog.math.Coordinate(e,o)},Blockly.TouchGesture=function(e,o){Blockly.TouchGesture.superClass_.constructor.call(this,e,o),this.isMultiTouch_=!1,this.cachedPoints_={},this.startDistance_=this.previousScale_=0,this.onStartWrapper_=null},goog.inherits(Blockly.TouchGesture,Blockly.Gesture),Blockly.TouchGesture.ZOOM_IN_MULTIPLIER=5,Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER=6,Blockly.TouchGesture.prototype.doStart=function(e){Blockly.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&Blockly.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},Blockly.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=Blockly.bindEventWithChecks_(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=Blockly.bindEventWithChecks_(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=Blockly.bindEventWithChecks_(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},Blockly.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&Blockly.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&Blockly.longStop_())},Blockly.TouchGesture.prototype.handleMove=function(e){this.isDragging()?Blockly.Touch.shouldHandleEvent(e)&&Blockly.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(Blockly.Touch.isTouchEvent(e)&&this.handleTouchMove(e),Blockly.longStop_()):Blockly.TouchGesture.superClass_.handleMove.call(this,e)},Blockly.TouchGesture.prototype.handleUp=function(e){Blockly.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?Blockly.Touch.shouldHandleEvent(e)&&Blockly.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},Blockly.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},Blockly.TouchGesture.prototype.dispose=function(){Blockly.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&Blockly.unbindEvent_(this.onStartWrapper_)},Blockly.TouchGesture.prototype.handleTouchStart=function(e){var o=Blockly.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[o]=this.getTouchPoint(e),2==(o=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=goog.math.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]]),this.isMultiTouch_=!0,e.preventDefault())},Blockly.TouchGesture.prototype.handleTouchMove=function(e){var o=Blockly.Touch.getTouchIdentifierFromEvent(e);if(this.cachedPoints_[o]=this.getTouchPoint(e),2==(o=Object.keys(this.cachedPoints_)).length){if(o=this.touchScale_=goog.math.Coordinate.distance(this.cachedPoints_[o[0]],this.cachedPoints_[o[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var t=o-this.previousScale_;t=0<t?t*Blockly.TouchGesture.ZOOM_IN_MULTIPLIER:t*Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;var n=this.startWorkspace_,r=Blockly.utils.mouseToSvg(e,n.getParentSvg(),n.getInverseScreenCTM());n.zoom(r.x,r.y,t)}this.previousScale_=o,e.preventDefault()}},Blockly.TouchGesture.prototype.handleTouchEnd=function(e){e=Blockly.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],Object.keys(this.cachedPoints_).length<2&&(this.cachedPoints_={},this.previousScale_=0)},Blockly.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new goog.math.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},Blockly.Trashcan=function(e){this.workspace_=e},Blockly.Trashcan.prototype.WIDTH_=47,Blockly.Trashcan.prototype.BODY_HEIGHT_=44,Blockly.Trashcan.prototype.LID_HEIGHT_=16,Blockly.Trashcan.prototype.MARGIN_BOTTOM_=20,Blockly.Trashcan.prototype.MARGIN_SIDE_=20,Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10,Blockly.Trashcan.prototype.SPRITE_LEFT_=0,Blockly.Trashcan.prototype.SPRITE_TOP_=32,Blockly.Trashcan.prototype.isOpen=!1,Blockly.Trashcan.prototype.svgGroup_=null,Blockly.Trashcan.prototype.svgLid_=null,Blockly.Trashcan.prototype.lidTask_=0,Blockly.Trashcan.prototype.lidOpen_=0,Blockly.Trashcan.prototype.left_=0,Blockly.Trashcan.prototype.top_=0,Blockly.Trashcan.prototype.createDom=function(){this.svgGroup_=Blockly.utils.createSvgElement("g",{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),o=Blockly.utils.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);return Blockly.utils.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},o),Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url),o=Blockly.utils.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),Blockly.utils.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},o),this.svgLid_=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,x:-this.SPRITE_LEFT_,height:Blockly.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.click),this.animateLid_(),this.svgGroup_},Blockly.Trashcan.prototype.init=function(e){return this.bottom_=this.MARGIN_BOTTOM_+e,this.setOpen_(!1),this.bottom_+this.BODY_HEIGHT_+this.LID_HEIGHT_},Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,goog.Timer.clear(this.lidTask_)},Blockly.Trashcan.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,e.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=e.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=e.absoluteLeft))):(this.left_=e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,e.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=e.flyoutWidth)),this.top_=e.viewHeight+e.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.bottom_,e.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=e.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect();return new goog.math.Rect(e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_,this.WIDTH_+2*this.MARGIN_HOTSPOT_,this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_)},Blockly.Trashcan.prototype.setOpen_=function(e){this.isOpen!=e&&(goog.Timer.clear(this.lidTask_),this.isOpen=e,this.animateLid_())},Blockly.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=goog.math.clamp(this.lidOpen_,0,1);var e=45*this.lidOpen_;this.svgLid_.setAttribute("transform","rotate("+(this.workspace_.RTL?-e:e)+","+(this.workspace_.RTL?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")"),e=goog.math.lerp(.4,.8,this.lidOpen_),this.svgGroup_.style.opacity=e,0<this.lidOpen_&&this.lidOpen_<1&&(this.lidTask_=goog.Timer.callOnce(this.animateLid_,20,this))},Blockly.Trashcan.prototype.close=function(){this.setOpen_(!1)},Blockly.Trashcan.prototype.click=function(){var e=this.workspace_.startScrollX-this.workspace_.scrollX,o=this.workspace_.startScrollY-this.workspace_.scrollY;Math.sqrt(e*e+o*o)>Blockly.DRAG_RADIUS||console.log("TODO: Inspect trash.")},Blockly.VariableModel=function(e,o,t,n){this.workspace=e,this.name=o,this.type=t||"",this.id_=n||Blockly.utils.genUid(),Blockly.Events.fire(new Blockly.Events.VarCreate(this))},Blockly.VariableModel.prototype.getId=function(){return this.id_},Blockly.VariableModel.compareByName=function(e,o){return goog.string.caseInsensitiveCompare(e.name,o.name)},Blockly.Variables={},Blockly.Variables.NAME_TYPE=Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.allUsedVarModels=function(e){var o=e.getAllBlocks();e=Object.create(null);for(var t=0;t<o.length;t++){var n=o[t].getVarModels();if(n)for(var r=0;r<n.length;r++){var i=n[r];i.getId()&&(e[i.getId()]=i)}}for(var s in o=[],e)o.push(e[s]);return o},Blockly.Variables.allUsedVariables=function(){console.warn("Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.\nIf this is a major issue please file a bug on GitHub.")},Blockly.Variables.allDeveloperVariables=function(e){var o=e.getAllBlocks();e={};for(var t=0;t<o.length;t++){var n=o[t];if(n.getDeveloperVars){n=n.getDeveloperVars();for(var r=0;r<n.length;r++)e[n[r]]=n[r]}}for(var i in o=[],e)o.push(e[i]);return o},Blockly.Variables.flyoutCategory=function(e){var o=[],t=goog.dom.createDom("button");return t.setAttribute("text",Blockly.Msg.NEW_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace())}),o.push(t),e=Blockly.Variables.flyoutCategoryBlocks(e),o.concat(e)},Blockly.Variables.flyoutCategoryBlocks=function(e){(e=e.getVariablesOfType("")).sort(Blockly.VariableModel.compareByName);var o=[];if(0<e.length){var t=e[0];if(Blockly.Blocks.variables_set){var n=Blockly.Blocks.math_change?8:24;n='<xml><block type="variables_set" gap="'+n+'">'+Blockly.Variables.generateVariableFieldXmlString(t)+"</block></xml>",n=Blockly.Xml.textToDom(n).firstChild,o.push(n)}for(Blockly.Blocks.math_change&&(n='<xml><block type="math_change" gap="'+(n=Blockly.Blocks.variables_get?20:8)+'">'+Blockly.Variables.generateVariableFieldXmlString(t)+'<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></xml>',n=Blockly.Xml.textToDom(n).firstChild,o.push(n)),t=0;n=e[t];t++)Blockly.Blocks.variables_get&&(n='<xml><block type="variables_get" gap="8">'+Blockly.Variables.generateVariableFieldXmlString(n)+"</block></xml>",n=Blockly.Xml.textToDom(n).firstChild,o.push(n))}return o},Blockly.Variables.generateUniqueName=function(e){var o="";if((e=e.getAllVariables()).length)for(var t=1,n=0,r="ijkmnopqrstuvwxyzabcdefgh".charAt(n);!o;){for(var i=!1,s=0;s<e.length;s++)if(e[s].name.toLowerCase()==r){i=!0;break}i?(25==++n&&(n=0,t++),r="ijkmnopqrstuvwxyzabcdefgh".charAt(n),1<t&&(r+=t)):o=r}else o="i";return o},Blockly.Variables.createVariableButtonHandler=function(i,s,e){var l=e||"";!function r(e){Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE,e,function(e){if(e){var o=Blockly.Variables.nameUsedWithAnyType_(e,i);if(o){var t=e.toLowerCase();if(o.type==l)var n=Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",t);else n=(n=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",t).replace("%2",o.type);Blockly.alert(n,function(){r(e)})}else i.createVariable(e,l),s&&s(e)}else s&&s(null)})}("")},goog.exportSymbol("Blockly.Variables.createVariableButtonHandler",Blockly.Variables.createVariableButtonHandler),Blockly.Variables.createVariable=Blockly.Variables.createVariableButtonHandler,goog.exportSymbol("Blockly.Variables.createVariable",Blockly.Variables.createVariable),Blockly.Variables.renameVariable=function(n,r,i){!function t(e){var o=Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",r.name);Blockly.Variables.promptName(o,e,function(e){if(e){var o=Blockly.Variables.nameUsedWithOtherType_(e,r.type,n);o?(o=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",e.toLowerCase()).replace("%2",o.type),Blockly.alert(o,function(){t(e)})):(n.renameVariableById(r.getId(),e),i&&i(e))}else i&&i(null)})}("")},Blockly.Variables.promptName=function(e,o,t){Blockly.prompt(e,o,function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""))==Blockly.Msg.RENAME_VARIABLE||e==Blockly.Msg.NEW_VARIABLE)&&(e=null),t(e)})},Blockly.Variables.nameUsedWithOtherType_=function(e,o,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,r=0;n=t[r];r++)if(n.name.toLowerCase()==e&&n.type!=o)return n;return null},Blockly.Variables.nameUsedWithAnyType_=function(e,o){var t=o.getVariableMap().getAllVariables();e=e.toLowerCase();for(var n,r=0;n=t[r];r++)if(n.name.toLowerCase()==e)return n;return null},Blockly.Variables.generateVariableFieldXmlString=function(e){var o=e.type;return""==o&&(o="''"),'<field name="VAR" id="'+e.getId()+'" variabletype="'+goog.string.htmlEscape(o)+'">'+goog.string.htmlEscape(e.name)+"</field>"},Blockly.Variables.generateVariableFieldDom=function(e){return e=Blockly.Variables.generateVariableFieldXmlString(e),Blockly.Xml.textToDom("<xml>"+e+"</xml>").firstChild},Blockly.Variables.getOrCreateVariablePackage=function(e,o,t,n){var r=Blockly.Variables.getVariable(e,o,t,n);return r||(r=Blockly.Variables.createVariable_(e,o,t,n)),r},Blockly.Variables.getVariable=function(e,o,t,n){var r=e.getPotentialVariableMap();if(o){var i=e.getVariableById(o);!i&&r&&(i=r.getVariableById(o))}else if(t){if(null==n)throw Error("Tried to look up a variable by name without a type");!(i=e.getVariable(t,n))&&r&&(i=r.getVariable(t,n))}return i},Blockly.Variables.createVariable_=function(e,o,t,n){var r=e.getPotentialVariableMap();return t||(t=Blockly.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),r?r.createVariable(t,n,o):e.createVariable(t,n,o)},Blockly.Variables.getAddedVariables=function(e,o){var t=e.getAllVariables(),n=[];if(o.length!=t.length)for(var r=0;r<t.length;r++){var i=t[r];-1==o.indexOf(i)&&n.push(i)}return n},Blockly.VariablesDynamic={},Blockly.VariablesDynamic.onCreateVariableButtonClick_String=function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"String")},Blockly.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"Number")},Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){Blockly.Variables.createVariableButtonHandler(e.getTargetWorkspace(),null,"Colour")},Blockly.VariablesDynamic.flyoutCategory=function(e){var o=[],t=goog.dom.createDom("button");return t.setAttribute("text",Blockly.Msg.NEW_STRING_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),o.push(t),(t=goog.dom.createDom("button")).setAttribute("text",Blockly.Msg.NEW_NUMBER_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),o.push(t),(t=goog.dom.createDom("button")).setAttribute("text",Blockly.Msg.NEW_COLOUR_VARIABLE),t.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),o.push(t),e.registerButtonCallback("CREATE_VARIABLE_STRING",Blockly.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Blockly.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour),e=Blockly.VariablesDynamic.flyoutCategoryBlocks(e),o.concat(e)},Blockly.VariablesDynamic.flyoutCategoryBlocks=function(e){(e=e.getAllVariables()).sort(Blockly.VariableModel.compareByName);var o=[];if(0<e.length){if(Blockly.Blocks.variables_set_dynamic){var t='<xml><block type="variables_set_dynamic" gap="24">'+Blockly.Variables.generateVariableFieldXmlString(e[0])+"</block></xml>";t=Blockly.Xml.textToDom(t).firstChild,o.push(t)}if(Blockly.Blocks.variables_get_dynamic)for(var n=0;t=e[n];n++)t='<xml><block type="variables_get_dynamic" gap="8">'+Blockly.Variables.generateVariableFieldXmlString(t)+"</block></xml>",t=Blockly.Xml.textToDom(t).firstChild,o.push(t)}return o},Blockly.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},Blockly.WorkspaceAudio.prototype.lastSound_=null,Blockly.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},Blockly.WorkspaceAudio.prototype.load=function(e,o){if(e.length){try{var t=new window.Audio}catch(e){return}for(var n,r=0;r<e.length;r++){var i=e[r],s=i.match(/\.(\w+)$/);if(s&&t.canPlayType("audio/"+s[1])){n=new window.Audio(i);break}}n&&n.play&&(this.SOUNDS_[o]=n)}},Blockly.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var o=this.SOUNDS_[e];if(o.volume=.01,o.play(),o.pause(),goog.userAgent.IPAD||goog.userAgent.IPHONE)break}},Blockly.WorkspaceAudio.prototype.play=function(e,o){var t=this.SOUNDS_[e];if(t){var n=new Date;null!=this.lastSound_&&n-this.lastSound_<Blockly.SOUND_LIMIT||(this.lastSound_=n,(t=goog.userAgent.DOCUMENT_MODE&&9===goog.userAgent.DOCUMENT_MODE||goog.userAgent.IPAD||goog.userAgent.ANDROID?t:t.cloneNode()).volume=void 0===o?1:o,t.play())}else this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,o)},Blockly.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_=null,Blockly.WorkspaceDragSurfaceSvg.prototype.dragGroup_=null,Blockly.WorkspaceDragSurfaceSvg.prototype.container_=null,Blockly.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.createSvgElement("svg",{xmlns:Blockly.SVG_NS,"xmlns:html":Blockly.HTML_NS,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,o){var t=e.toFixed(0),n=o.toFixed(0);this.SVG_.style.display="block",Blockly.utils.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return Blockly.utils.getRelativeXY(this.SVG_)},Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw"Couldn't clear and hide the drag surface: missing new surface.";var o=this.SVG_.childNodes[0],t=this.SVG_.childNodes[1];if(!(o&&t&&Blockly.utils.hasClass(o,"blocklyBlockCanvas")&&Blockly.utils.hasClass(t,"blocklyBubbleCanvas")))throw"Couldn't clear and hide the drag surface.  A node was missing.";null!=this.previousSibling_?Blockly.utils.insertAfter_(o,this.previousSibling_):e.insertBefore(o,e.firstChild),Blockly.utils.insertAfter_(t,o),this.SVG_.style.display="none",goog.asserts.assert(0==this.SVG_.childNodes.length,"Drag surface was not cleared."),Blockly.utils.setCssTransform(this.SVG_,""),this.previousSibling_=null},Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,o,t,n,r,i){goog.asserts.assert(0==this.SVG_.childNodes.length,"Already dragging a block."),this.previousSibling_=t,e.setAttribute("transform","translate(0, 0) scale("+i+")"),o.setAttribute("transform","translate(0, 0) scale("+i+")"),this.SVG_.setAttribute("width",n),this.SVG_.setAttribute("height",r),this.SVG_.appendChild(e),this.SVG_.appendChild(o),this.SVG_.style.display="block"},Blockly.Xml={},Blockly.Xml.workspaceToDom=function(e,o){var t=goog.dom.createDom("xml"),n=Blockly.Variables.allUsedVarModels(e);n.length&&t.appendChild(Blockly.Xml.variablesToDom(n)),n=e.getTopBlocks(!0);for(var r,i=0;r=n[i];i++)t.appendChild(Blockly.Xml.blockToDomWithXY(r,o));return t},Blockly.Xml.variablesToDom=function(e){for(var o,t=goog.dom.createDom("variables"),n=0;o=e[n];n++){var r=goog.dom.createDom("variable",null,o.name);r.setAttribute("type",o.type),r.setAttribute("id",o.getId()),t.appendChild(r)}return t},Blockly.Xml.blockToDomWithXY=function(e,o){var t;e.workspace.RTL&&(t=e.workspace.getWidth());var n=Blockly.Xml.blockToDom(e,o),r=e.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(e.workspace.RTL?t-r.x:r.x)),n.setAttribute("y",Math.round(r.y)),n},Blockly.Xml.fieldToDomVariable_=function(e){null==e.getValue()&&(e.initModel(),e.getValue());var o=e.getVariable();if(!o)throw Error("Tried to serialize a variable field with no variable.");var t=goog.dom.createDom("field",null,o.name);return t.setAttribute("name",e.name),t.setAttribute("id",o.getId()),t.setAttribute("variabletype",o.type),t},Blockly.Xml.fieldToDom_=function(e){if(e.name&&e.EDITABLE){if(e instanceof Blockly.FieldVariable)return Blockly.Xml.fieldToDomVariable_(e);var o=goog.dom.createDom("field",null,e.getValue());return o.setAttribute("name",e.name),o}return null},Blockly.Xml.allFieldsToDom_=function(e,o){for(var t,n=0;t=e.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)(r=Blockly.Xml.fieldToDom_(r))&&o.appendChild(r)},Blockly.Xml.blockToDom=function(e,o){var t,n=goog.dom.createDom(e.isShadow()?"shadow":"block");if(n.setAttribute("type",e.type),o||n.setAttribute("id",e.id),e.mutationToDom){var r=e.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&n.appendChild(r)}if(Blockly.Xml.allFieldsToDom_(e,n),r=e.getCommentText()){if(r=goog.dom.createDom("comment",null,r),"object"==_typeof(e.comment)){r.setAttribute("pinned",e.comment.isVisible());var i=e.comment.getBubbleSize();r.setAttribute("h",i.height),r.setAttribute("w",i.width)}n.appendChild(r)}for(e.data&&(r=goog.dom.createDom("data",null,e.data),n.appendChild(r)),i=0;t=e.inputList[i];i++){var s,l=!0;if(t.type!=Blockly.DUMMY_INPUT){var g=t.connection.targetBlock();t.type==Blockly.INPUT_VALUE?s=goog.dom.createDom("value"):t.type==Blockly.NEXT_STATEMENT&&(s=goog.dom.createDom("statement")),!(r=t.connection.getShadowDom())||g&&g.isShadow()||s.appendChild(Blockly.Xml.cloneShadow_(r)),g&&(s.appendChild(Blockly.Xml.blockToDom(g,o)),l=!1),s.setAttribute("name",t.name),l||n.appendChild(s)}}return e.inputsInlineDefault!=e.inputsInline&&n.setAttribute("inline",e.inputsInline),e.isCollapsed()&&n.setAttribute("collapsed",!0),e.disabled&&n.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||n.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||n.setAttribute("movable",!1),e.isEditable()||n.setAttribute("editable",!1),(i=e.getNextBlock())&&(s=goog.dom.createDom("next",null,Blockly.Xml.blockToDom(i,o)),n.appendChild(s)),!(r=e.nextConnection&&e.nextConnection.getShadowDom())||i&&i.isShadow()||s.appendChild(Blockly.Xml.cloneShadow_(r)),n},Blockly.Xml.cloneShadow_=function(e){for(var o,t=e=e.cloneNode(!0);t;)if(t.firstChild)t=t.firstChild;else{for(;t&&!t.nextSibling;)t=(o=t).parentNode,3==o.nodeType&&""==o.data.trim()&&t.firstChild!=o&&goog.dom.removeNode(o);t&&(t=(o=t).nextSibling,3==o.nodeType&&""==o.data.trim()&&goog.dom.removeNode(o))}return e},Blockly.Xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},Blockly.Xml.domToPrettyText=function(e){e=Blockly.Xml.domToText(e).split("<");for(var o="",t=1;t<e.length;t++){var n=e[t];"/"==n[0]&&(o=o.substring(2)),e[t]=o+"<"+n,"/"!=n[0]&&"/>"!=n.slice(-2)&&(o+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},Blockly.Xml.textToDom=function(e){return(e=(new DOMParser).parseFromString(e,"text/xml"))&&e.firstChild&&"xml"==e.firstChild.nodeName.toLowerCase()&&e.firstChild===e.lastChild||goog.asserts.fail("Blockly.Xml.textToDom did not obtain a valid XML tree."),e.firstChild},Blockly.Xml.domToWorkspace=function(e,o){if(e instanceof Blockly.Workspace){var t=e;e=o,o=t,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var n;o.RTL&&(n=o.getWidth()),t=[],Blockly.Field.startCache();var r=e.childNodes.length,i=Blockly.Events.getGroup();i||Blockly.Events.setGroup(!0),o.setResizesEnabled&&o.setResizesEnabled(!1);var s=!0;try{for(var l=0;l<r;l++){var g=e.childNodes[l],a=g.nodeName.toLowerCase();if("block"==a||"shadow"==a&&!Blockly.Events.recordUndo){var c=Blockly.Xml.domToBlock(g,o);t.push(c.id);var u=g.hasAttribute("x")?parseInt(g.getAttribute("x"),10):10,h=g.hasAttribute("y")?parseInt(g.getAttribute("y"),10):10;isNaN(u)||isNaN(h)||c.moveBy(o.RTL?n-u:u,h),s=!1}else if("shadow"==a)goog.asserts.fail("Shadow block cannot be a top-level block."),s=!1;else if("variables"==a){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");Blockly.Xml.domToVariables(g,o),s=!1}}}finally{i||Blockly.Events.setGroup(!1),Blockly.Field.stopCache()}return o.setResizesEnabled&&o.setResizesEnabled(!0),t},Blockly.Xml.appendDomToWorkspace=function(e,o){if(o.hasOwnProperty("scale")){var t=Blockly.BlockSvg.TAB_WIDTH;try{Blockly.BlockSvg.TAB_WIDTH=0;var n=o.getBlocksBoundingBox()}finally{Blockly.BlockSvg.TAB_WIDTH=t}}if(t=Blockly.Xml.domToWorkspace(e,o),n&&n.height){var r,i=n.y+n.height,s=n.x,l=1/0,g=1/0;for(n=0;n<t.length;n++){var a=o.getBlockById(t[n]).getRelativeToSurfaceXY();a.y<g&&(g=a.y),a.x<l&&(l=a.x)}for(i=i-g+Blockly.BlockSvg.SEP_SPACE_Y,s-=l,o.RTL&&(r=o.getWidth()),n=0;n<t.length;n++)o.getBlockById(t[n]).moveBy(o.RTL?r-s:s,i)}return t},Blockly.Xml.domToBlock=function(e,o){if(e instanceof Blockly.Workspace){var t=e;e=o,o=t,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable(),t=o.getAllVariables();try{var n=Blockly.Xml.domToBlockHeadless_(e,o),r=n.getDescendants();if(o.rendered){n.setConnectionsHidden(!0);for(var i=r.length-1;0<=i;i--)r[i].initSvg();for(i=r.length-1;0<=i;i--)r[i].render(!1);setTimeout(function(){n.workspace&&n.setConnectionsHidden(!1)},1),n.updateDisabled(),o.resizeContents()}else for(i=r.length-1;0<=i;i--)r[i].initModel()}finally{Blockly.Events.enable()}if(Blockly.Events.isEnabled()){for(r=Blockly.Variables.getAddedVariables(o,t),i=0;i<r.length;i++)Blockly.Events.fire(new Blockly.Events.VarCreate(r[i]));Blockly.Events.fire(new Blockly.Events.BlockCreate(n))}return n},Blockly.Xml.domToVariables=function(e,o){for(var t,n=0;t=e.children[n];n++){var r=t.getAttribute("type"),i=t.getAttribute("id");if(t=t.textContent,null==r)throw Error("Variable with id, "+i+" is without a type");o.createVariable(t,r,i)}},Blockly.Xml.domToBlockHeadless_=function(e,o){var t=null,n=e.getAttribute("type");goog.asserts.assert(n,"Block type unspecified: %s",e.outerHTML);var r=e.getAttribute("id");t=o.newBlock(n,r);var i,s=null;for(r=0;i=e.childNodes[r];r++)if(3!=i.nodeType){for(var l,g=s=null,a=0;l=i.childNodes[a];a++)1==l.nodeType&&("block"==l.nodeName.toLowerCase()?s=l:"shadow"==l.nodeName.toLowerCase()&&(g=l));switch(!s&&g&&(s=g),a=i.getAttribute("name"),i.nodeName.toLowerCase()){case"mutation":t.domToMutation&&(t.domToMutation(i),t.initSvg&&t.initSvg());break;case"comment":t.setCommentText(i.textContent);var c=i.getAttribute("pinned");c&&!t.isInFlyout&&setTimeout(function(){t.comment&&t.comment.setVisible&&t.comment.setVisible("true"==c)},1),s=parseInt(i.getAttribute("w"),10),i=parseInt(i.getAttribute("h"),10),!isNaN(s)&&!isNaN(i)&&t.comment&&t.comment.setVisible&&t.comment.setBubbleSize(s,i);break;case"data":t.data=i.textContent;break;case"title":case"field":Blockly.Xml.domToField_(t,a,i);break;case"value":case"statement":if(!(i=t.getInput(a))){console.warn("Ignoring non-existent input "+a+" in block "+n);break}g&&i.connection.setShadowDom(g),s&&((s=Blockly.Xml.domToBlockHeadless_(s,o)).outputConnection?i.connection.connect(s.outputConnection):s.previousConnection?i.connection.connect(s.previousConnection):goog.asserts.fail("Child block does not have output or previous statement."));break;case"next":g&&t.nextConnection&&t.nextConnection.setShadowDom(g),s&&(goog.asserts.assert(t.nextConnection,"Next statement does not exist."),goog.asserts.assert(!t.nextConnection.isConnected(),"Next statement is already connected."),s=Blockly.Xml.domToBlockHeadless_(s,o),goog.asserts.assert(s.previousConnection,"Next block does not have previous statement."),t.nextConnection.connect(s.previousConnection));break;default:console.warn("Ignoring unknown tag: "+i.nodeName)}}if((r=e.getAttribute("inline"))&&t.setInputsInline("true"==r),(r=e.getAttribute("disabled"))&&t.setDisabled("true"==r||"disabled"==r),(r=e.getAttribute("deletable"))&&t.setDeletable("true"==r),(r=e.getAttribute("movable"))&&t.setMovable("true"==r),(r=e.getAttribute("editable"))&&t.setEditable("true"==r),(r=e.getAttribute("collapsed"))&&t.setCollapsed("true"==r),"shadow"==e.nodeName.toLowerCase()){for(n=t.getChildren(),r=0;i=n[r];r++)goog.asserts.assert(i.isShadow(),"Shadow block not allowed non-shadow child.");goog.asserts.assert(0==t.getVarModels().length,"Shadow blocks cannot have variable references."),t.setShadow(!0)}return t},Blockly.Xml.domToFieldVariable_=function(e,o,t,n){var r=o.getAttribute("variabletype")||"";if("''"==r&&(r=""),e=Blockly.Variables.getOrCreateVariablePackage(e,o.id,t,r),null!=r&&r!==e.type)throw Error("Serialized variable type with id '"+e.getId()+"' had type "+e.type+", and does not match variable field that references it: "+Blockly.Xml.domToText(o)+".");n.setValue(e.getId())},Blockly.Xml.domToField_=function(e,o,t){var n=e.getField(o);n?(e=e.workspace,o=t.textContent,n instanceof Blockly.FieldVariable?Blockly.Xml.domToFieldVariable_(e,t,o,n):n.setValue(o)):console.warn("Ignoring non-existent field "+o+" in block "+e.type)},Blockly.Xml.deleteNext=function(e){for(var o,t=0;o=e.childNodes[t];t++)if("next"==o.nodeName.toLowerCase()){e.removeChild(o);break}},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.Xml||(goog.global.Blockly.Xml={}),goog.global.Blockly.Xml.domToText=Blockly.Xml.domToText,goog.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace,goog.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom,goog.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom,Blockly.ZoomControls=function(e){this.workspace_=e},Blockly.ZoomControls.prototype.WIDTH_=32,Blockly.ZoomControls.prototype.HEIGHT_=110,Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20,Blockly.ZoomControls.prototype.MARGIN_SIDE_=20,Blockly.ZoomControls.prototype.svgGroup_=null,Blockly.ZoomControls.prototype.left_=0,Blockly.ZoomControls.prototype.top_=0,Blockly.ZoomControls.prototype.createDom=function(){var o=this.workspace_;this.svgGroup_=Blockly.utils.createSvgElement("g",{class:"blocklyZoom"},null);var e=String(Math.random()).substring(2),t=Blockly.utils.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+e},this.svgGroup_);Blockly.utils.createSvgElement("rect",{width:32,height:32,y:77},t);var n=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.svgGroup_);n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.options.pathToMedia+Blockly.SPRITE.url),t=Blockly.utils.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+e},this.svgGroup_),Blockly.utils.createSvgElement("rect",{width:32,height:32,y:43},t);var r=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.svgGroup_);return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.options.pathToMedia+Blockly.SPRITE.url),t=Blockly.utils.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+e},this.svgGroup_),Blockly.utils.createSvgElement("rect",{width:32,height:32},t),(t=Blockly.utils.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.svgGroup_)).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEventWithChecks_(t,"mousedown",null,function(e){o.markFocused(),o.setScale(o.options.zoomOptions.startScale),o.scrollCenter(),Blockly.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}),Blockly.bindEventWithChecks_(r,"mousedown",null,function(e){o.markFocused(),o.zoomCenter(1),Blockly.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}),Blockly.bindEventWithChecks_(n,"mousedown",null,function(e){o.markFocused(),o.zoomCenter(-1),Blockly.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()}),this.svgGroup_},Blockly.ZoomControls.prototype.init=function(e){return this.bottom_=this.MARGIN_BOTTOM_+e,this.bottom_+this.HEIGHT_},Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=null},Blockly.ZoomControls.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.workspace_.RTL?(this.left_=this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,e.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(this.left_+=e.flyoutWidth,this.workspace_.toolbox_&&(this.left_+=e.absoluteLeft))):(this.left_=e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,e.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(this.left_-=e.flyoutWidth)),this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.bottom_,e.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM&&(this.top_-=e.flyoutHeight),this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.WorkspaceSvg=function(e,o,t){Blockly.WorkspaceSvg.superClass_.constructor.call(this,e),this.getMetrics=e.getMetrics||Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_,this.setMetrics=e.setMetrics||Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_,Blockly.ConnectionDB.init(this),o&&(this.blockDragSurface_=o),t&&(this.workspaceDragSurface_=t),this.useWorkspaceDragSurface_=this.workspaceDragSurface_&&Blockly.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new Blockly.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new Blockly.Grid(e.gridPattern,e.gridOptions):null,Blockly.Variables&&Blockly.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.flyoutCategory),Blockly.VariablesDynamic&&Blockly.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME,Blockly.VariablesDynamic.flyoutCategory),Blockly.Procedures&&Blockly.Procedures.flyoutCategory&&this.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME,Blockly.Procedures.flyoutCategory)},goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace),Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,Blockly.WorkspaceSvg.prototype.rendered=!0,Blockly.WorkspaceSvg.prototype.isFlyout=!1,Blockly.WorkspaceSvg.prototype.isMutator=!1,Blockly.WorkspaceSvg.prototype.resizesEnabled_=!0,Blockly.WorkspaceSvg.prototype.scrollX=0,Blockly.WorkspaceSvg.prototype.scrollY=0,Blockly.WorkspaceSvg.prototype.startScrollX=0,Blockly.WorkspaceSvg.prototype.startScrollY=0,Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null,Blockly.WorkspaceSvg.prototype.scale=1,Blockly.WorkspaceSvg.prototype.trashcan=null,Blockly.WorkspaceSvg.prototype.scrollbar=null,Blockly.WorkspaceSvg.prototype.currentGesture_=null,Blockly.WorkspaceSvg.prototype.blockDragSurface_=null,Blockly.WorkspaceSvg.prototype.workspaceDragSurface_=null,Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,Blockly.WorkspaceSvg.prototype.flyoutButtonCallbacks_={},Blockly.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={},Blockly.WorkspaceSvg.prototype.configureContextMenu=null,Blockly.WorkspaceSvg.prototype.targetWorkspace=null,Blockly.WorkspaceSvg.prototype.inverseScreenCTM_=null,Blockly.WorkspaceSvg.prototype.getInverseScreenCTM=function(){return this.inverseScreenCTM_},Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse())},Blockly.WorkspaceSvg.prototype.getSvgXY=function(e){var o=0,t=0,n=1;(goog.dom.contains(this.getCanvas(),e)||goog.dom.contains(this.getBubbleCanvas(),e))&&(n=this.scale);do{var r=Blockly.utils.getRelativeXY(e);e!=this.getCanvas()&&e!=this.getBubbleCanvas()||(n=1),o+=r.x*n,t+=r.y*n,e=e.parentNode}while(e&&e!=this.getParentSvg());return new goog.math.Coordinate(o,t)},Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return Blockly.utils.getInjectionDivXY_(this.svgBlockCanvas_)},Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},Blockly.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=Blockly.utils.createSvgElement("g",{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=Blockly.utils.createSvgElement("rect",{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_&&(this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")")),this.svgBlockCanvas_=Blockly.utils.createSvgElement("g",{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=Blockly.utils.createSvgElement("g",{class:"blocklyBubbleCanvas"},this.svgGroup_),e=Blockly.Scrollbar.scrollbarThickness,this.options.hasTrashcan&&(e=this.addTrashcan_(e)),this.options.zoomOptions&&this.options.zoomOptions.controls&&this.addZoomControls_(e),this.isFlyout||(Blockly.bindEventWithChecks_(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),this.options.zoomOptions&&this.options.zoomOptions.wheel&&Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new Blockly.Toolbox(this)),this.grid_&&this.grid_.update(this.scale),this.recordDeleteAreas(),this.svgGroup_},Blockly.WorkspaceSvg.prototype.dispose=function(){this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),Blockly.WorkspaceSvg.superClass_.dispose.call(this),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.toolboxCategoryCallbacks_&&(this.toolboxCategoryCallbacks_=null),this.flyoutButtonCallbacks_&&(this.flyoutButtonCallbacks_=null),this.options.parentWorkspace||goog.dom.removeNode(this.getParentSvg().parentNode),this.resizeHandlerWrapper_&&(Blockly.unbindEvent_(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},Blockly.WorkspaceSvg.prototype.newBlock=function(e,o){return new Blockly.BlockSvg(this,e,o)},Blockly.WorkspaceSvg.prototype.addTrashcan_=function(e){this.trashcan=new Blockly.Trashcan(this);var o=this.trashcan.createDom();return this.svgGroup_.insertBefore(o,this.svgBlockCanvas_),this.trashcan.init(e)},Blockly.WorkspaceSvg.prototype.addZoomControls_=function(e){this.zoomControls_=new Blockly.ZoomControls(this);var o=this.zoomControls_.createDom();return this.svgGroup_.appendChild(o),this.zoomControls_.init(e)},Blockly.WorkspaceSvg.prototype.addFlyout_=function(e){var o={disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,toolboxPosition:this.options.toolboxPosition};return this.flyout_=null,this.flyout_=this.horizontalLayout?new Blockly.HorizontalFlyout(o):new Blockly.VerticalFlyout(o),this.flyout_.autoClose=!1,this.flyout_.createDom(e)},Blockly.WorkspaceSvg.prototype.getFlyout_=function(){return this.flyout_?this.flyout_:this.toolbox_?this.toolbox_.flyout_:null},Blockly.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},Blockly.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDeleteAreas()},Blockly.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},Blockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=goog.dom.getDocumentScroll();goog.math.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},Blockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var e=this.svgGroup_;e;){if("svg"==e.tagName)return this.cachedParentSvg_=e;e=e.parentNode}return null},Blockly.WorkspaceSvg.prototype.translate=function(e,o){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,o);else{var t="translate("+e+","+o+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",t),this.svgBubbleCanvas_.setAttribute("transform",t)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,o,this.scale)},Blockly.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},Blockly.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,o=parseInt(this.getParentSvg().getAttribute("width"),10),t=parseInt(this.getParentSvg().getAttribute("height"),10),n=Blockly.utils.getRelativeXY(this.svgBlockCanvas_);this.workspaceDragSurface_.setContentsAndShow(this.svgBlockCanvas_,this.svgBubbleCanvas_,e,o,t,this.scale),this.workspaceDragSurface_.translateSurface(n.x,n.y)}},Blockly.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},Blockly.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},Blockly.WorkspaceSvg.prototype.setVisible=function(e){this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout_()&&this.getFlyout_().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=e?"block":"none"),e?(this.render(),this.toolbox_&&this.toolbox_.position()):Blockly.hideChaff(!0)},Blockly.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(),o=e.length-1;0<=o;o--)e[o].render(!1)},Blockly.WorkspaceSvg.prototype.traceOn=function(){console.warn("Deprecated call to traceOn, delete this.")},Blockly.WorkspaceSvg.prototype.highlightBlock=function(e,o){if(void 0===o){for(var t,n=0;t=this.highlightedBlocks_[n];n++)t.setHighlighted(!1);this.highlightedBlocks_.length=0}(t=e?this.getBlockById(e):null)&&((n=void 0===o||o)?-1==this.highlightedBlocks_.indexOf(t)&&this.highlightedBlocks_.push(t):goog.array.remove(this.highlightedBlocks_,t),t.setHighlighted(n))},Blockly.WorkspaceSvg.prototype.paste=function(e){if(this.rendered&&!(e.getElementsByTagName("block").length>=this.remainingCapacity())){this.currentGesture_&&this.currentGesture_.cancel(),Blockly.Events.disable();try{var o=Blockly.Xml.domToBlock(e,this),t=parseInt(e.getAttribute("x"),10),n=parseInt(e.getAttribute("y"),10);if(!isNaN(t)&&!isNaN(n)){this.RTL&&(t=-t);do{e=!1;for(var r,i=this.getAllBlocks(),s=0;r=i[s];s++){var l=r.getRelativeToSurfaceXY();if(Math.abs(t-l.x)<=1&&Math.abs(n-l.y)<=1){e=!0;break}}if(!e){var g,a=o.getConnections_(!1);for(s=0;g=a[s];s++)if(g.closest(Blockly.SNAP_RADIUS,new goog.math.Coordinate(t,n)).connection){e=!0;break}}e&&(t=this.RTL?t-Blockly.SNAP_RADIUS:t+Blockly.SNAP_RADIUS,n+=2*Blockly.SNAP_RADIUS)}while(e);o.moveBy(t,n)}}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!o.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(o)),o.select()}},Blockly.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.refreshSelection()},Blockly.WorkspaceSvg.prototype.renameVariableById=function(e,o){Blockly.WorkspaceSvg.superClass_.renameVariableById.call(this,e,o),this.refreshToolboxSelection()},Blockly.WorkspaceSvg.prototype.deleteVariableById=function(e){Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},Blockly.WorkspaceSvg.prototype.createVariable=function(e,o,t){return e=Blockly.WorkspaceSvg.superClass_.createVariable.call(this,e,o,t),this.refreshToolboxSelection(),e},Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan&&this.svgGroup_.parentNode?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},Blockly.WorkspaceSvg.prototype.isDeleteArea=function(e){return e=new goog.math.Coordinate(e.clientX,e.clientY),this.deleteAreaTrash_&&this.deleteAreaTrash_.contains(e)?Blockly.DELETE_AREA_TRASH:this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e)?Blockly.DELETE_AREA_TOOLBOX:Blockly.DELETE_AREA_NONE},Blockly.WorkspaceSvg.prototype.onMouseDown_=function(e){var o=this.getGesture(e);o&&o.handleWsStart(e,this)},Blockly.WorkspaceSvg.prototype.startDrag=function(e,o){var t=Blockly.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM());t.x/=this.scale,t.y/=this.scale,this.dragDeltaXY_=goog.math.Coordinate.difference(o,t)},Blockly.WorkspaceSvg.prototype.moveDrag=function(e){return(e=Blockly.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,goog.math.Coordinate.sum(this.dragDeltaXY_,e)},Blockly.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},Blockly.WorkspaceSvg.prototype.isDraggable=function(){return!!this.scrollbar},Blockly.WorkspaceSvg.prototype.onMouseWheel_=function(e){this.currentGesture_&&this.currentGesture_.cancel();var o=-e.deltaY/50,t=Blockly.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM());this.zoom(t.x,t.y,o),e.preventDefault()},Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBlocks(!1);if(!e.length)return{x:0,y:0,width:0,height:0};for(var o=e[0].getBoundingRectangle(),t=1;t<e.length;t++){var n=e[t].getBoundingRectangle();n.topLeft.x<o.topLeft.x&&(o.topLeft.x=n.topLeft.x),n.bottomRight.x>o.bottomRight.x&&(o.bottomRight.x=n.bottomRight.x),n.topLeft.y<o.topLeft.y&&(o.topLeft.y=n.topLeft.y),n.bottomRight.y>o.bottomRight.y&&(o.bottomRight.y=n.bottomRight.y)}return{x:o.topLeft.x,y:o.topLeft.y,width:o.bottomRight.x-o.topLeft.x,height:o.bottomRight.y-o.topLeft.y}},Blockly.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),Blockly.Events.setGroup(!0);for(var e,o=this.getTopBlocks(!0),t=0,n=0;e=o[n];n++){var r=e.getRelativeToSurfaceXY();e.moveBy(-r.x,t-r.y),e.snapToGrid(),t=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!1),this.setResizesEnabled(!0)},Blockly.WorkspaceSvg.prototype.showContextMenu_=function(e){function t(e){if(e.isDeletable())h=h.concat(e.getDescendants());else{e=e.getChildren();for(var o=0;o<e.length;o++)t(e[o])}}function o(){Blockly.Events.setGroup(i);var e=h.shift();e&&(e.workspace?(e.dispose(!1,!0),setTimeout(o,10)):o()),Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var n=[],r=this.getTopBlocks(!0),i=Blockly.utils.genUid(),s=this,l={};if(l.text=Blockly.Msg.UNDO,l.enabled=0<this.undoStack_.length,l.callback=this.undo.bind(this,!1),n.push(l),(l={}).text=Blockly.Msg.REDO,l.enabled=0<this.redoStack_.length,l.callback=this.undo.bind(this,!0),n.push(l),this.scrollbar&&((l={}).text=Blockly.Msg.CLEAN_UP,l.enabled=1<r.length,l.callback=this.cleanUp.bind(this),n.push(l)),this.options.collapse){for(var g=l=!1,a=0;a<r.length;a++)for(var c=r[a];c;)c.isCollapsed()?l=!0:g=!0,c=c.getNextBlock();var u=function(e){for(var o=0,t=0;t<r.length;t++)for(var n=r[t];n;)setTimeout(n.setCollapsed.bind(n,e),o),n=n.getNextBlock(),o+=10};(g={enabled:g}).text=Blockly.Msg.COLLAPSE_ALL,g.callback=function(){u(!0)},n.push(g),(l={enabled:l}).text=Blockly.Msg.EXPAND_ALL,l.callback=function(){u(!1)},n.push(l)}var h=[];for(a=0;a<r.length;a++)t(r[a]);l={text:1==h.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(h.length)),enabled:0<h.length,callback:function(){s.currentGesture_&&s.currentGesture_.cancel(),h.length<2?o():Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",h.length),function(e){e&&o()})}},n.push(l),this.configureContextMenu&&this.configureContextMenu(n),Blockly.ContextMenu.show(e,n,this.RTL)}},Blockly.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=Blockly.Options.parseToolboxTree(e)){if(!this.options.languageTree)throw"Existing toolbox is null.  Can't create new toolbox.";if(e.getElementsByTagName("category").length){if(!this.toolbox_)throw"Existing toolbox has no categories.  Can't change mode.";this.options.languageTree=e,this.toolbox_.populate_(e),this.toolbox_.addColour_()}else{if(!this.flyout_)throw"Existing toolbox has categories.  Can't change mode.";this.options.languageTree=e,this.flyout_.show(e.childNodes)}}else if(this.options.languageTree)throw"Can't nullify an existing toolbox."},Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(Blockly.mainWorkspace=this).setBrowserFocus()},Blockly.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur();try{this.getParentSvg().focus()}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(e){this.getParentSvg().parentNode.focus()}}},Blockly.WorkspaceSvg.prototype.zoom=function(e,o,t){var n=this.options.zoomOptions.scaleSpeed,r=this.getMetrics(),i=this.getParentSvg().createSVGPoint();i.x=e,i.y=o,e=(i=i.matrixTransform(this.getCanvas().getCTM().inverse())).x,o=i.y,i=this.getCanvas(),n=Math.pow(n,t),(t=this.scale*n)>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:t<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale),this.scale!=t&&(this.scrollbar&&(e=i.getCTM().translate(e*(1-n),o*(1-n)).scale(n),this.scrollX=e.e-r.absoluteLeft,this.scrollY=e.f-r.absoluteTop),this.setScale(t))},Blockly.WorkspaceSvg.prototype.zoomCenter=function(e){var o=this.getMetrics();this.zoom(o.viewWidth/2,o.viewHeight/2,e)},Blockly.WorkspaceSvg.prototype.zoomToFit=function(){var e=this.getMetrics(),o=this.getBlocksBoundingBox(),t=o.width;if(o=o.height,t){var n=e.viewWidth,r=e.viewHeight;this.flyout_&&(n-=this.flyout_.width_),this.scrollbar||(t+=e.contentLeft,o+=e.contentTop),this.setScale(Math.min(n/t,r/o)),this.scrollCenter()}},Blockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.scrollbar){var e=this.getMetrics(),o=(e.contentWidth-e.viewWidth)/2;this.flyout_&&(o-=this.flyout_.width_/2),this.scrollbar.set(o,(e.contentHeight-e.viewHeight)/2)}else console.warn("Tried to scroll a non-scrollable workspace.")},Blockly.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.scrollbar){if(e=this.getBlockById(e)){var o=e.getRelativeToSurfaceXY(),t=e.getHeightWidth(),n=this.scale;e=(o.x+(this.RTL?-1:1)*t.width/2)*n,o=(o.y+t.height/2)*n,e=e-(t=this.getMetrics()).contentLeft-t.viewWidth/2,o=o-t.contentTop-t.viewHeight/2,Blockly.hideChaff(),this.scrollbar.set(e,o)}}else console.warn("Tried to scroll a non-scrollable workspace.")},Blockly.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.grid_&&this.grid_.update(this.scale),this.scrollbar?this.scrollbar.resize():this.translate(this.scrollX,this.scrollY),Blockly.hideChaff(!1),this.flyout_&&this.flyout_.reflow()},Blockly.WorkspaceSvg.getDimensionsPx_=function(e){var o=0,t=0;return e&&(o=e.getWidth(),t=e.getHeight()),{width:o,height:t}},Blockly.WorkspaceSvg.getContentDimensions_=function(e,o){return e.scrollbar?Blockly.WorkspaceSvg.getContentDimensionsBounded_(e,o):Blockly.WorkspaceSvg.getContentDimensionsExact_(e)},Blockly.WorkspaceSvg.getContentDimensionsExact_=function(e){var o=e.getBlocksBoundingBox(),t=e.scale;e=o.width*t;var n=o.height*t,r=o.x*t;return{left:r,top:o=o.y*t,right:r+e,bottom:o+n,width:e,height:n}},Blockly.WorkspaceSvg.getContentDimensionsBounded_=function(e,o){var t=Blockly.WorkspaceSvg.getContentDimensionsExact_(e),n=o.width,r=o.height,i=n/2,s=r/2,l=Math.min(t.left-i,t.right-n),g=Math.min(t.top-s,t.bottom-r);return{left:l,top:g,height:Math.max(t.bottom+s,t.top+r)-g,width:Math.max(t.right+i,t.left+n)-l}},Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_=function(){var e=Blockly.WorkspaceSvg.getDimensionsPx_(this.toolbox_),o=Blockly.WorkspaceSvg.getDimensionsPx_(this.flyout_),t=Blockly.svgSize(this.getParentSvg());this.toolbox_&&(this.toolboxPosition==Blockly.TOOLBOX_AT_TOP||this.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?t.height-=e.height:this.toolboxPosition!=Blockly.TOOLBOX_AT_LEFT&&this.toolboxPosition!=Blockly.TOOLBOX_AT_RIGHT||(t.width-=e.width));var n=Blockly.WorkspaceSvg.getContentDimensions_(this,t),r=0;this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&&(r=e.width);var i=0;return this.toolbox_&&this.toolboxPosition==Blockly.TOOLBOX_AT_TOP&&(i=e.height),{contentHeight:n.height,contentWidth:n.width,contentTop:n.top,contentLeft:n.left,viewHeight:t.height,viewWidth:t.width,viewTop:-this.scrollY,viewLeft:-this.scrollX,absoluteTop:i,absoluteLeft:r,toolboxWidth:e.width,toolboxHeight:e.height,flyoutWidth:o.width,flyoutHeight:o.height,toolboxPosition:this.toolboxPosition}},Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){if(!this.scrollbar)throw"Attempt to set top level workspace scroll without scrollbars.";var o=this.getMetrics();goog.isNumber(e.x)&&(this.scrollX=-o.contentWidth*e.x-o.contentLeft),goog.isNumber(e.y)&&(this.scrollY=-o.contentHeight*e.y-o.contentTop),e=this.scrollX+o.absoluteLeft,o=this.scrollY+o.absoluteTop,this.translate(e,o),this.grid_&&this.grid_.moveTo(e,o)},Blockly.WorkspaceSvg.prototype.setResizesEnabled=function(e){var o=!this.resizesEnabled_&&e;this.resizesEnabled_=e,o&&this.resizeContents()},Blockly.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),Blockly.WorkspaceSvg.superClass_.clear.call(this),this.setResizesEnabled(!0)},Blockly.WorkspaceSvg.prototype.registerButtonCallback=function(e,o){goog.asserts.assert(goog.isFunction(o),"Button callbacks must be functions."),this.flyoutButtonCallbacks_[e]=o},Blockly.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},Blockly.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,o){goog.asserts.assert(goog.isFunction(o),"Toolbox category callbacks must be functions."),this.toolboxCategoryCallbacks_[e]=o},Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return(e=this.toolboxCategoryCallbacks_[e])?e:null},Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},Blockly.WorkspaceSvg.prototype.getGesture=function(e){var o="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,t=this.currentGesture_;return t?o&&t.hasStarted()?(console.warn("tried to start the same gesture twice"),t.cancel(),null):t:o?this.currentGesture_=new Blockly.TouchGesture(e,this):null},Blockly.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},Blockly.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},Blockly.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},Blockly.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible,Blockly.Mutator=function(e){Blockly.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},goog.inherits(Blockly.Mutator,Blockly.Icon),Blockly.Mutator.prototype.workspaceWidth_=0,Blockly.Mutator.prototype.workspaceHeight_=0,Blockly.Mutator.prototype.drawIcon_=function(e){Blockly.utils.createSvgElement("rect",{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),Blockly.utils.createSvgElement("path",{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),Blockly.utils.createSvgElement("circle",{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},Blockly.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,e)},Blockly.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=Blockly.utils.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,o=goog.dom.createDom("xml"),t=0;e=this.quarkNames_[t];t++)o.appendChild(goog.dom.createDom("block",{type:e}));else o=null;return o={languageTree:o,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,toolboxPosition:this.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT,horizontalLayout:!1,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null},this.workspace_=new Blockly.WorkspaceSvg(o),this.workspace_.isMutator=!0,o=this.workspace_.addFlyout_("g"),(t=this.workspace_.createDom("blocklyMutatorBackground")).insertBefore(o,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(t),this.svgDialog_},Blockly.Mutator.prototype.updateEditable=function(){this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&Blockly.utils.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&Blockly.utils.addClass(this.iconGroup_,"blocklyIconGroupReadonly"))),Blockly.Icon.prototype.updateEditable.call(this)},Blockly.Mutator.prototype.resizeBubble_=function(){var e=2*Blockly.Bubble.BORDER_WIDTH,o=this.workspace_.getCanvas().getBBox(),t=this.block_.RTL?-o.x:o.width+o.x;if(o=o.height+3*e,this.workspace_.flyout_){var n=this.workspace_.flyout_.getMetrics_();o=Math.max(o,n.contentHeight+20)}t+=3*e,(Math.abs(this.workspaceWidth_-t)>e||Math.abs(this.workspaceHeight_-o)>e)&&(this.workspaceWidth_=t,this.workspaceHeight_=o,this.bubble_.setBubbleSize(t+e,o+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},Blockly.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!e,e)),e){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),(e=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(e.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),e=this.rootBlock_.getDescendants();for(var o,t=0;o=e[t];t++)o.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),t=this.workspace_.flyout_?(e=2*this.workspace_.flyout_.CORNER_RADIUS,this.workspace_.flyout_.width_+e):e=16,this.block_.RTL&&(t=-t),this.rootBlock_.moveBy(t,e),this.block_.saveConnections){var n=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){n.block_.saveConnections(n.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},Blockly.Mutator.prototype.workspaceChanged_=function(){if(!this.workspace_.isDragging())for(var e,o=this.workspace_.getTopBlocks(!1),t=0;e=o[t];t++){var n=e.getRelativeToSurfaceXY(),r=e.getHeightWidth();n.y+r.height<20&&e.moveBy(0,20-r.height-n.y)}if(this.rootBlock_.workspace==this.workspace_){if(Blockly.Events.setGroup(!0),o=(o=(e=this.block_).mutationToDom())&&Blockly.Xml.domToText(o),t=e.rendered,e.rendered=!1,e.compose(this.rootBlock_),e.rendered=t,e.initSvg(),o!=(t=(t=e.mutationToDom())&&Blockly.Xml.domToText(t))){Blockly.Events.fire(new Blockly.Events.BlockChange(e,"mutation",null,o,t));var i=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(i),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)}e.rendered&&e.render(),this.workspace_.isDragging()||this.resizeBubble_(),Blockly.Events.setGroup(!1)}},Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_,absoluteTop:0,absoluteLeft:0}},Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Mutator.reconnect=function(e,o,t){if(!e||!e.getSourceBlock().workspace)return!1;t=o.getInput(t).connection;var n=e.targetBlock();return!(n&&n!=o||t.targetConnection==e)&&(t.isConnected()&&t.disconnect(),t.connect(e),!0)},Blockly.Mutator.findParentWs=function(e){var o=null;if(e&&e.options){var t=e.options.parentWorkspace;e.isFlyout?t&&t.options&&(o=t.options.parentWorkspace):t&&(o=t)}return o},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.Mutator||(goog.global.Blockly.Mutator={}),goog.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect,Blockly.Extensions={},Blockly.Extensions.ALL_={},Blockly.Extensions.register=function(e,o){if(!goog.isString(e)||goog.string.isEmptyOrWhitespace(e))throw Error('Error: Invalid extension name "'+e+'"');if(Blockly.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if(!goog.isFunction(o))throw Error('Error: Extension "'+e+'" must be a function');Blockly.Extensions.ALL_[e]=o},Blockly.Extensions.registerMixin=function(e,o){if(!goog.isObject(o))throw Error('Error: Mixin "'+e+'" must be a object');Blockly.Extensions.register(e,function(){this.mixin(o)})},Blockly.Extensions.registerMutator=function(e,o,t,n){var r='Error when registering mutator "'+e+'": ';Blockly.Extensions.checkHasFunction_(r,o.domToMutation,"domToMutation"),Blockly.Extensions.checkHasFunction_(r,o.mutationToDom,"mutationToDom");var i=Blockly.Extensions.checkMutatorDialog_(o,r);if(t&&!goog.isFunction(t))throw Error('Extension "'+e+'" is not a function');Blockly.Extensions.register(e,function(){i&&this.setMutator(new Blockly.Mutator(n)),this.mixin(o),t&&t.apply(this)})},Blockly.Extensions.apply=function(e,o,t){var n=Blockly.Extensions.ALL_[e];if(!goog.isFunction(n))throw Error('Error: Extension "'+e+'" not found.');if(t)Blockly.Extensions.checkNoMutatorProperties_(e,o);else var r=Blockly.Extensions.getMutatorProperties_(o);if(n.apply(o),t)Blockly.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',o);else if(!Blockly.Extensions.mutatorPropertiesMatch_(r,o))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')};Blockly.Extensions.checkHasFunction_=function(e,o,t){if(!o)throw Error(e+'missing required property "'+t+'"');if("function"!=typeof o)throw Error(e+'" required property "'+t+'" must be a function')},Blockly.Extensions.checkNoMutatorProperties_=function(e,o){if(Blockly.Extensions.getMutatorProperties_(o).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+o.id)},Blockly.Extensions.checkMutatorDialog_=function(e,o){var t=void 0!==e.compose,n=void 0!==e.decompose;if(t&&n){if("function"!=typeof e.compose)throw Error(o+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(o+"decompose must be a function.");return!0}if(t||n)throw Error(o+'Must have both or neither of "compose" and "decompose"');return!1},Blockly.Extensions.checkBlockHasMutatorProperties_=function(e,o){if("function"!=typeof o.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof o.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');Blockly.Extensions.checkMutatorDialog_(o,e)},Blockly.Extensions.getMutatorProperties_=function(e){var o=[];return void 0!==e.domToMutation&&o.push(e.domToMutation),void 0!==e.mutationToDom&&o.push(e.mutationToDom),void 0!==e.compose&&o.push(e.compose),void 0!==e.decompose&&o.push(e.decompose),o},Blockly.Extensions.mutatorPropertiesMatch_=function(e,o){var t=Blockly.Extensions.getMutatorProperties_(o);if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!=t[n])return!1;return!0},Blockly.Extensions.buildTooltipForDropdown=function(t,n){var r=[];return"object"==("undefined"==typeof document?"undefined":_typeof(document))&&Blockly.utils.runAfterPageLoad(function(){for(var e in n)Blockly.utils.checkMessageReferences(n[e])}),function(){this.type&&-1===r.indexOf(this.type)&&(Blockly.Extensions.checkDropdownOptionsInTable_(this,t,n),r.push(this.type)),this.setTooltip(function(){var e=this.getFieldValue(t),o=n[e];return null==o?-1===r.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+t,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):o=Blockly.utils.replaceMessageReferences(o),o}.bind(this))}},Blockly.Extensions.checkDropdownOptionsInTable_=function(e,o,t){var n=e.getField(o);if(!n.isOptionListDynamic()){n=n.getOptions();for(var r=0;r<n.length;++r){var i=n[r][1];null==t[i]&&console.warn("No tooltip mapping for value "+i+" of field "+o+" of block type "+e.type)}}},Blockly.Extensions.buildTooltipWithFieldText=function(o,t){return"object"==("undefined"==typeof document?"undefined":_typeof(document))&&Blockly.utils.runAfterPageLoad(function(){Blockly.utils.checkMessageReferences(o)}),function(){this.setTooltip(function(){var e=this.getField(t);return Blockly.utils.replaceMessageReferences(o).replace("%1",e?e.getText():"")}.bind(this))}},Blockly.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},Blockly.Extensions.register("parent_tooltip_when_inline",Blockly.Extensions.extensionParentTooltip_),Blockly.Field=function(e,o){this.size_=new goog.math.Size(0,Blockly.BlockSvg.MIN_BLOCK_Y),this.setValue(e),this.setValidator(o)},Blockly.Field.TYPE_MAP_={},Blockly.Field.register=function(e,o){if(!goog.isString(e)||goog.string.isEmptyOrWhitespace(e))throw Error('Invalid field type "'+e+'"');if(!goog.isObject(o)||!goog.isFunction(o.fromJson))throw Error('Field "'+o+'" must have a fromJson function');Blockly.Field.TYPE_MAP_[e]=o},Blockly.Field.fromJson=function(e){var o=Blockly.Field.TYPE_MAP_[e.type];return o?o.fromJson(e):null},Blockly.Field.cacheWidths_=null,Blockly.Field.cacheReference_=0,Blockly.Field.prototype.name=void 0,Blockly.Field.prototype.maxDisplayLength=50,Blockly.Field.prototype.text_="",Blockly.Field.prototype.sourceBlock_=null,Blockly.Field.prototype.visible_=!0,Blockly.Field.prototype.validator_=null,Blockly.Field.NBSP=" ",Blockly.Field.prototype.EDITABLE=!0,Blockly.Field.prototype.setSourceBlock=function(e){goog.asserts.assert(!this.sourceBlock_,"Field already bound to a block."),this.sourceBlock_=e},Blockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.utils.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.utils.createSvgElement("rect",{rx:4,ry:4,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:16},this.fieldGroup_),this.textElement_=Blockly.utils.createSvgElement("text",{class:"blocklyText",y:this.size_.height-12.5},this.fieldGroup_),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseDownWrapper_=Blockly.bindEventWithChecks_(this.fieldGroup_,"mousedown",this,this.onMouseDown_),this.render_())},Blockly.Field.prototype.initModel=function(){},Blockly.Field.prototype.dispose=function(){this.mouseDownWrapper_&&(Blockly.unbindEvent_(this.mouseDownWrapper_),this.mouseDownWrapper_=null),this.sourceBlock_=null,goog.dom.removeNode(this.fieldGroup_),this.validator_=this.borderRect_=this.textElement_=this.fieldGroup_=null},Blockly.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(Blockly.utils.addClass(e,"blocklyEditableText"),Blockly.utils.removeClass(e,"blocklyNonEditableText"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.utils.addClass(e,"blocklyNonEditableText"),Blockly.utils.removeClass(e,"blocklyEditableText"),this.fieldGroup_.style.cursor=""))},Blockly.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},Blockly.Field.prototype.isVisible=function(){return this.visible_},Blockly.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var o=this.getSvgRoot();o&&(o.style.display=e?"block":"none",this.render_())}},Blockly.Field.prototype.setValidator=function(e){this.validator_=e},Blockly.Field.prototype.getValidator=function(){return this.validator_},Blockly.Field.prototype.classValidator=function(e){return e},Blockly.Field.prototype.callValidator=function(e){var o=this.classValidator(e);if(null===o)return null;if(void 0!==o&&(e=o),o=this.getValidator()){if(null===(o=o.call(this,e)))return null;void 0!==o&&(e=o)}return e},Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},Blockly.Field.prototype.render_=function(){if(this.visible_){goog.dom.removeChildren(this.textElement_);var e=document.createTextNode(this.getDisplayText_());this.textElement_.appendChild(e),this.updateWidth()}else this.size_.width=0},Blockly.Field.prototype.updateWidth=function(){var e=Blockly.Field.getCachedWidth(this.textElement_);this.borderRect_&&this.borderRect_.setAttribute("width",e+Blockly.BlockSvg.SEP_SPACE_X),this.size_.width=e},Blockly.Field.getCachedWidth=function(o){var e,t=o.textContent+"\n"+o.className.baseVal;if(Blockly.Field.cacheWidths_&&(e=Blockly.Field.cacheWidths_[t]))return e;try{e=goog.userAgent.IE||goog.userAgent.EDGE?o.getBBox().width:o.getComputedTextLength()}catch(e){return 8*o.textContent.length}return Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[t]=e),e},Blockly.Field.startCache=function(){Blockly.Field.cacheReference_++,Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})},Blockly.Field.stopCache=function(){Blockly.Field.cacheReference_--,Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=null)},Blockly.Field.prototype.getSize=function(){return this.size_.width||this.render_(),this.size_},Blockly.Field.prototype.getScaledBBox_=function(){var e=this.borderRect_.getBBox(),o=e.height*this.sourceBlock_.workspace.scale;e=e.width*this.sourceBlock_.workspace.scale;var t=this.getAbsoluteXY_();return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e}},Blockly.Field.prototype.getDisplayText_=function(){var e=this.text_;return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),e=e.replace(/\s/g,Blockly.Field.NBSP),this.sourceBlock_.RTL&&(e+="‏"),e):Blockly.Field.NBSP},Blockly.Field.prototype.getText=function(){return this.text_},Blockly.Field.prototype.setText=function(e){null!==e&&((e=String(e))!==this.text_&&(this.text_=e,this.forceRerender()))},Blockly.Field.prototype.forceRerender=function(){this.size_.width=0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())},Blockly.Field.prototype.getValue=function(){return this.getText()},Blockly.Field.prototype.setValue=function(e){if(null!==e){var o=this.getValue();o!=e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,o,e)),this.setText(e))}},Blockly.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},Blockly.Field.prototype.setTooltip=function(e){},Blockly.Field.prototype.getAbsoluteXY_=function(){return goog.style.getPageOffset(this.borderRect_)},Blockly.FieldLabel=function(e,o){this.size_=new goog.math.Size(0,17.5),this.class_=o,this.setValue(e)},goog.inherits(Blockly.FieldLabel,Blockly.Field),Blockly.FieldLabel.fromJson=function(e){var o=Blockly.utils.replaceMessageReferences(e.text);return new Blockly.FieldLabel(o,e.class)},Blockly.FieldLabel.prototype.EDITABLE=!1,Blockly.FieldLabel.prototype.init=function(){this.textElement_||(this.textElement_=Blockly.utils.createSvgElement("text",{class:"blocklyText",y:this.size_.height-5},null),this.class_&&Blockly.utils.addClass(this.textElement_,this.class_),this.visible_||(this.textElement_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.textElement_),this.textElement_.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(this.textElement_),this.render_())},Blockly.FieldLabel.prototype.dispose=function(){goog.dom.removeNode(this.textElement_),this.textElement_=null},Blockly.FieldLabel.prototype.getSvgRoot=function(){return this.textElement_},Blockly.FieldLabel.prototype.setTooltip=function(e){this.textElement_.tooltip=e},Blockly.Field.register("field_label",Blockly.FieldLabel),Blockly.Input=function(e,o,t,n){if(e!=Blockly.DUMMY_INPUT&&!o)throw"Value inputs and statement inputs must have non-empty name.";this.type=e,this.name=o,this.sourceBlock_=t,this.connection=n,this.fieldRow=[]},Blockly.Input.prototype.align=Blockly.ALIGN_LEFT,Blockly.Input.prototype.visible_=!0,Blockly.Input.prototype.appendField=function(e,o){return this.insertFieldAt(this.fieldRow.length,e,o),this},Blockly.Input.prototype.insertFieldAt=function(e,o,t){if(e<0||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(o||t)&&(goog.isString(o)&&(o=new Blockly.FieldLabel(o)),o.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&o.init(),o.name=t,o.prefixField&&(e=this.insertFieldAt(e,o.prefixField)),this.fieldRow.splice(e,0,o),++e,o.suffixField&&(e=this.insertFieldAt(e,o.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())),e},Blockly.Input.prototype.removeField=function(e){for(var o,t=0;o=this.fieldRow[t];t++)if(o.name===e)return o.dispose(),this.fieldRow.splice(t,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()));goog.asserts.fail('Field "%s" not found.',e)},Blockly.Input.prototype.isVisible=function(){return this.visible_},Blockly.Input.prototype.setVisible=function(e){var o=[];if(this.visible_==e)return o;for(var t,n=(this.visible_=e)?"block":"none",r=0;t=this.fieldRow[r];r++)t.setVisible(e);return this.connection&&(e?o=this.connection.unhideAll():this.connection.hideAll(),r=this.connection.targetBlock())&&(r.getSvgRoot().style.display=n,e||(r.rendered=!1)),o},Blockly.Input.prototype.setCheck=function(e){if(!this.connection)throw"This input does not have a connection.";return this.connection.setCheck(e),this},Blockly.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},Blockly.Input.prototype.dispose=function(){for(var e,o=0;e=this.fieldRow[o];o++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},Blockly.Warning=function(e){Blockly.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},goog.inherits(Blockly.Warning,Blockly.Icon),Blockly.Warning.prototype.collapseHidden=!1,Blockly.Warning.prototype.drawIcon_=function(e){Blockly.utils.createSvgElement("path",{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),Blockly.utils.createSvgElement("path",{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),Blockly.utils.createSvgElement("rect",{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},Blockly.Warning.textToDom_=function(e){var o=Blockly.utils.createSvgElement("text",{class:"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var t=0;t<e.length;t++){var n=Blockly.utils.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},o),r=document.createTextNode(e[t]);n.appendChild(r)}return o},Blockly.Warning.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!e,e)),e){if(e=Blockly.Warning.textToDom_(this.getText()),this.bubble_=new Blockly.Bubble(this.block_.workspace,e,this.block_.svgPath_,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.block_.RTL)for(var o,t=e.getBBox().width,n=0;o=e.childNodes[n];n++)o.setAttribute("text-anchor","end"),o.setAttribute("x",t+Blockly.Bubble.BORDER_WIDTH);this.updateColour(),e=this.bubble_.getBubbleSize(),this.bubble_.setBubbleSize(e.width,e.height)}else this.bubble_.dispose(),this.body_=this.bubble_=null},Blockly.Warning.prototype.bodyFocus_=function(e){this.bubble_.promote_()},Blockly.Warning.prototype.setText=function(e,o){this.text_[o]!=e&&(e?this.text_[o]=e:delete this.text_[o],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},Blockly.Warning.prototype.getText=function(){var e,o=[];for(e in this.text_)o.push(this.text_[e]);return o.join("\n")},Blockly.Warning.prototype.dispose=function(){this.block_.warning=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Block=function(e,o,t){if(void 0!==Blockly.Generator.prototype[o]&&console.warn('FUTURE ERROR: Block prototypeName "'+o+'" conflicts with Blockly.Generator members. Registering Generators for this block type will incur errors.\nThis name will be DISALLOWED (throwing an error) in future versions of Blockly.'),this.id=t&&!e.getBlockById(t)?t:Blockly.utils.genUid(),(e.blockDB_[this.id]=this).previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=null,this.xy_=new goog.math.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,o&&(this.type=o,t=Blockly.Blocks[o],goog.asserts.assertObject(t,'Error: Unknown block type "%s".',o),goog.mixin(this,t)),e.addTopBlock(this),goog.isFunction(this.init)&&this.init(),this.inputsInlineDefault=this.inputsInline,Blockly.Events.isEnabled()){(e=Blockly.Events.getGroup())||Blockly.Events.setGroup(!0);try{Blockly.Events.fire(new Blockly.Events.BlockCreate(this))}finally{e||Blockly.Events.setGroup(!1)}}goog.isFunction(this.onchange)&&this.setOnChange(this.onchange)},Blockly.Block.obtain=function(e,o){return console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead."),e.newBlock(o)},Blockly.Block.prototype.data=null,Blockly.Block.prototype.colour_="#000000",Blockly.Block.prototype.hue_=null,Blockly.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockDelete(this)),Blockly.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null);for(var o=this.childBlocks_.length-1;0<=o;o--)this.childBlocks_[o].dispose(!1);o=0;for(var t;t=this.inputList[o];o++)t.dispose();this.inputList.length=0;var n=this.getConnections_(!0);for(o=0;o<n.length;o++){var r=n[o];r.isConnected()&&r.disconnect(),n[o].dispose()}}finally{Blockly.Events.enable()}}},Blockly.Block.prototype.initModel=function(){for(var e,o=0;e=this.inputList[o];o++)for(var t,n=0;t=e.fieldRow[n];n++)t.initModel&&t.initModel()},Blockly.Block.prototype.unplug=function(e){if(this.outputConnection)this.outputConnection.isConnected()&&this.outputConnection.disconnect();else if(this.previousConnection){var o=null;this.previousConnection.isConnected()&&(o=this.previousConnection.targetConnection,this.previousConnection.disconnect());var t=this.getNextBlock();e&&t&&((e=this.nextConnection.targetConnection).disconnect(),o&&o.checkType_(e)&&o.connect(e))}},Blockly.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var o,t=0;o=this.inputList[t];t++)o.connection&&e.push(o.connection);return e},Blockly.Block.prototype.lastConnectionInStack_=function(){for(var e=this.nextConnection;e;){var o=e.targetBlock();if(!o)return e;e=o.nextConnection}return null},Blockly.Block.prototype.bumpNeighbours_=function(){console.warn("Not expected to reach this bumpNeighbours_ function. The BlockSvg function for bumpNeighbours_ was expected to be called instead.")},Blockly.Block.prototype.getParent=function(){return this.parentBlock_},Blockly.Block.prototype.getInputWithBlock=function(e){for(var o,t=0;o=this.inputList[t];t++)if(o.connection&&o.connection.targetBlock()==e)return o;return null},Blockly.Block.prototype.getSurroundParent=function(){var e=this;do{var o=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==o);return e},Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},Blockly.Block.prototype.getRootBlock=function(){var e=this;do{var o=e;e=o.parentBlock_}while(e);return o},Blockly.Block.prototype.getChildren=function(){return this.childBlocks_},Blockly.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(goog.array.remove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw"Still connected to previous block.";if(this.outputConnection&&this.outputConnection.isConnected())throw"Still connected to parent block.";this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},Blockly.Block.prototype.getDescendants=function(){for(var e,o=[this],t=0;e=this.childBlocks_[t];t++)o.push.apply(o,e.getDescendants());return o},Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setDeletable=function(e){this.deletable_=e},Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setMovable=function(e){this.movable_=e},Blockly.Block.prototype.isShadow=function(){return this.isShadow_},Blockly.Block.prototype.setShadow=function(e){this.isShadow_=e},Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var o;o=this.inputList[e];e++)for(var t,n=0;t=o.fieldRow[n];n++)t.updateEditable()},Blockly.Block.prototype.setConnectionsHidden=function(e){if(!e&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(e),this.previousConnection&&this.previousConnection.setHidden(e),this.nextConnection){this.nextConnection.setHidden(e);var o=this.nextConnection.targetBlock();o&&o.setConnectionsHidden(e)}}else for(var t=this.getConnections_(!0),n=0;o=t[n];n++)o.setHidden(e),o.isSuperior()&&(o=o.targetBlock())&&o.setConnectionsHidden(e)},Blockly.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},Blockly.Block.prototype.setTooltip=function(e){this.tooltip=e},Blockly.Block.prototype.getColour=function(){return this.colour_},Blockly.Block.prototype.getHue=function(){return this.hue_},Blockly.Block.prototype.setColour=function(e){var o=goog.isString(e)?Blockly.utils.replaceMessageReferences(e):e,t=Number(o);if(!isNaN(t)&&0<=t&&t<=360)this.hue_=t,this.colour_=Blockly.hueToRgb(t);else{if(!goog.isString(o)||!/^#[0-9a-fA-F]{6}$/.test(o))throw t='Invalid colour: "'+o+'"',e!=o&&(t+=' (from "'+e+'")'),t;this.colour_=o,this.hue_=null}},Blockly.Block.prototype.setOnChange=function(e){if(e&&!goog.isFunction(e))throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},Blockly.Block.prototype.getField=function(e){for(var o,t=0;o=this.inputList[t];t++)for(var n,r=0;n=o.fieldRow[r];r++)if(n.name===e)return n;return null},Blockly.Block.prototype.getVars=function(){for(var e,o=[],t=0;e=this.inputList[t];t++)for(var n,r=0;n=e.fieldRow[r];r++)n instanceof Blockly.FieldVariable&&o.push(n.getValue());return o},Blockly.Block.prototype.getVarModels=function(){for(var e,o=[],t=0;e=this.inputList[t];t++)for(var n,r=0;n=e.fieldRow[r];r++)n instanceof Blockly.FieldVariable&&(n=this.workspace.getVariableById(n.getValue()))&&o.push(n);return o},Blockly.Block.prototype.updateVarName=function(e){for(var o,t=0;o=this.inputList[t];t++)for(var n,r=0;n=o.fieldRow[r];r++)n instanceof Blockly.FieldVariable&&e.getId()==n.getValue()&&n.setText(e.name)},Blockly.Block.prototype.renameVarById=function(e,o){for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)r instanceof Blockly.FieldVariable&&e==r.getValue()&&r.setValue(o)},Blockly.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},Blockly.Block.prototype.setFieldValue=function(e,o){var t=this.getField(o);goog.asserts.assertObject(t,'Field "%s" not found.',o),t.setValue(e)},Blockly.Block.prototype.setPreviousStatement=function(e,o){e?(void 0===o&&(o=null),this.previousConnection||(goog.asserts.assert(!this.outputConnection,"Remove output connection prior to adding previous connection."),this.previousConnection=this.makeConnection_(Blockly.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(o)):this.previousConnection&&(goog.asserts.assert(!this.previousConnection.isConnected(),"Must disconnect previous statement before removing connection."),this.previousConnection.dispose(),this.previousConnection=null)},Blockly.Block.prototype.setNextStatement=function(e,o){e?(void 0===o&&(o=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(o)):this.nextConnection&&(goog.asserts.assert(!this.nextConnection.isConnected(),"Must disconnect next statement before removing connection."),this.nextConnection.dispose(),this.nextConnection=null)},Blockly.Block.prototype.setOutput=function(e,o){e?(void 0===o&&(o=null),this.outputConnection||(goog.asserts.assert(!this.previousConnection,"Remove previous connection prior to adding output connection."),this.outputConnection=this.makeConnection_(Blockly.OUTPUT_VALUE)),this.outputConnection.setCheck(o)):this.outputConnection&&(goog.asserts.assert(!this.outputConnection.isConnected(),"Must disconnect output value before removing connection."),this.outputConnection.dispose(),this.outputConnection=null)},Blockly.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},Blockly.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==Blockly.DUMMY_INPUT&&this.inputList[e].type==Blockly.DUMMY_INPUT)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==Blockly.INPUT_VALUE&&this.inputList[e].type==Blockly.DUMMY_INPUT)return!0;return!1},Blockly.Block.prototype.setDisabled=function(e){this.disabled!=e&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"disabled",null,this.disabled,e)),this.disabled=e)},Blockly.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_},Blockly.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},Blockly.Block.prototype.toString=function(e,o){var t=[],n=o||"?";if(this.collapsed_)t.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].text_);else for(var r,i=0;r=this.inputList[i];i++){for(var s,l=0;s=r.fieldRow[l];l++)s instanceof Blockly.FieldDropdown&&!s.getValue()?t.push(n):t.push(s.getText());r.connection&&((r=r.connection.targetBlock())?t.push(r.toString(void 0,o)):t.push(n))}return t=goog.string.trim(t.join(" "))||"???",e&&(t=goog.string.truncate(t,e)),t},Blockly.Block.prototype.appendValueInput=function(e){return this.appendInput_(Blockly.INPUT_VALUE,e)},Blockly.Block.prototype.appendStatementInput=function(e){return this.appendInput_(Blockly.NEXT_STATEMENT,e)},Blockly.Block.prototype.appendDummyInput=function(e){return this.appendInput_(Blockly.DUMMY_INPUT,e||"")},Blockly.Block.prototype.jsonInit=function(e){var o=e.type?'Block "'+e.type+'": ':"";goog.asserts.assert(null==e.output||null==e.previousStatement,o+"Must not have both an output and a previousStatement."),this.jsonInitColour_(e,o);for(var t=0;void 0!==e["message"+t];)this.interpolate_(e["message"+t],e["args"+t]||[],e["lastDummyAlign"+t]),t++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(t=e.tooltip,t=Blockly.utils.replaceMessageReferences(t),this.setTooltip(t)),void 0!==e.enableContextMenu&&(t=e.enableContextMenu,this.contextMenu=!!t),void 0!==e.helpUrl&&(t=e.helpUrl,t=Blockly.utils.replaceMessageReferences(t),this.setHelpUrl(t)),goog.isString(e.extensions)&&(console.warn(o+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&Blockly.Extensions.apply(e.mutator,this,!0),Array.isArray(e.extensions))for(e=e.extensions,t=0;t<e.length;++t)Blockly.Extensions.apply(e[t],this,!1)},Blockly.Block.prototype.jsonInitColour_=function(e,o){if("colour"in e)if(void 0===e.colour)console.warn(o+"Undefined color value.");else{var t=e.colour;try{this.setColour(t)}catch(e){console.warn(o+"Illegal color value: ",t)}}},Blockly.Block.prototype.mixin=function(e,o){if(goog.isDef(o)&&!goog.isBoolean(o))throw Error("opt_disableCheck must be a boolean if provided");if(!o){var t,n=[];for(t in e)void 0!==this[t]&&n.push(t);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}goog.mixin(this,e)},Blockly.Block.prototype.interpolate_=function(e,o,t){var n=Blockly.utils.tokenizeInterpolation(e),r=[],i=0;e=[];for(var s=0;s<n.length;s++){var l=n[s];if("number"==typeof l){if(l<=0||l>o.length)throw Error('Block "'+this.type+'": Message index %'+l+" out of range.");if(r[l])throw Error('Block "'+this.type+'": Message index %'+l+" duplicated.");r[l]=!0,i++,e.push(o[l-1])}else(l=l.trim())&&e.push(l)}if(i!=o.length)throw Error('Block "'+this.type+'": Message does not reference all '+o.length+" arg(s).");for(e.length&&("string"==typeof e[e.length-1]||goog.string.startsWith(e[e.length-1].type,"field_"))&&(s={type:"input_dummy"},t&&(s.align=t),e.push(s)),t={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE},o=[],s=0;s<e.length;s++)if("string"==typeof(r=e[s]))o.push([r,void 0]);else{n=i=null;do{if(l=!1,"string"==typeof r)i=new Blockly.FieldLabel(r);else switch(r.type){case"input_value":n=this.appendValueInput(r.name);break;case"input_statement":n=this.appendStatementInput(r.name);break;case"input_dummy":n=this.appendDummyInput(r.name);break;default:(i=Blockly.Field.fromJson(r))||(r.alt?(r=r.alt,l=!0):console.warn("Blockly could not create a field of type "+r.type+". You may need to register your custom field.  See github.com/google/blockly/issues/1584"))}}while(l);if(i)o.push([i,r.name]);else if(n){for(r.check&&n.setCheck(r.check),r.align&&n.setAlign(t[r.align]),r=0;r<o.length;r++)n.appendField(o[r][0],o[r][1]);o.length=0}}},Blockly.Block.prototype.appendInput_=function(e,o){var t=null;return e!=Blockly.INPUT_VALUE&&e!=Blockly.NEXT_STATEMENT||(t=this.makeConnection_(e)),t=new Blockly.Input(e,o,this,t),this.inputList.push(t),t},Blockly.Block.prototype.moveInputBefore=function(e,o){if(e!=o){for(var t,n=-1,r=o?-1:this.inputList.length,i=0;t=this.inputList[i];i++)if(t.name==e){if(n=i,-1!=r)break}else if(o&&t.name==o&&(r=i,-1!=n))break;goog.asserts.assert(-1!=n,'Named input "%s" not found.',e),goog.asserts.assert(-1!=r,'Reference input "%s" not found.',o),this.moveNumberedInputBefore(n,r)}},Blockly.Block.prototype.moveNumberedInputBefore=function(e,o){goog.asserts.assert(e!=o,"Can't move input to itself."),goog.asserts.assert(e<this.inputList.length,"Input index "+e+" out of bounds."),goog.asserts.assert(o<=this.inputList.length,"Reference input "+o+" out of bounds.");var t=this.inputList[e];this.inputList.splice(e,1),e<o&&o--,this.inputList.splice(o,0,t)},Blockly.Block.prototype.removeInput=function(e,o){for(var t,n=0;t=this.inputList[n];n++)if(t.name==e){if(t.connection&&t.connection.isConnected()){t.connection.setShadowDom(null);var r=t.connection.targetBlock();r.isShadow()?r.dispose():r.unplug()}return t.dispose(),void this.inputList.splice(n,1)}o||goog.asserts.fail('Input "%s" not found.',e)},Blockly.Block.prototype.getInput=function(e){for(var o,t=0;o=this.inputList[t];t++)if(o.name==e)return o;return null},Blockly.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},Blockly.Block.prototype.getCommentText=function(){return this.comment||""},Blockly.Block.prototype.setCommentText=function(e){this.comment!=e&&(Blockly.Events.fire(new Blockly.Events.BlockChange(this,"comment",null,this.comment,e||"")),this.comment=e)},Blockly.Block.prototype.setWarningText=function(e,o){},Blockly.Block.prototype.setMutator=function(e){},Blockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},Blockly.Block.prototype.moveBy=function(e,o){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var t=new Blockly.Events.BlockMove(this);this.xy_.translate(e,o),t.recordNew(),Blockly.Events.fire(t)},Blockly.Block.prototype.makeConnection_=function(e){return new Blockly.Connection(this,e)},Blockly.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var o,t=0;o=this.inputList[t];t++)if(o.connection&&(!(o=o.connection.targetBlock())||!o.allInputsFilled(e)))return!1;return!(t=this.getNextBlock())||t.allInputsFilled(e)},Blockly.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},Blockly.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},Blockly.BlockDragSurfaceSvg.prototype.SVG_=null,Blockly.BlockDragSurfaceSvg.prototype.dragGroup_=null,Blockly.BlockDragSurfaceSvg.prototype.container_=null,Blockly.BlockDragSurfaceSvg.prototype.scale_=1,Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_=null,Blockly.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=Blockly.utils.createSvgElement("svg",{xmlns:Blockly.SVG_NS,"xmlns:html":Blockly.HTML_NS,"xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=Blockly.utils.createSvgElement("g",{},this.SVG_))},Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){goog.asserts.assert(0==this.dragGroup_.childNodes.length,"Already dragging a block."),this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new goog.math.Coordinate(0,0)},Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,o,t){this.scale_=t,e=e.toFixed(0),o=o.toFixed(0),this.dragGroup_.setAttribute("transform","translate("+e+","+o+") scale("+t+")")},Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,o=this.surfaceXY_.y;e=e.toFixed(0),o=o.toFixed(0),this.SVG_.style.display="block",Blockly.utils.setCssTransform(this.SVG_,"translate3d("+e+"px, "+o+"px, 0px)")},Blockly.BlockDragSurfaceSvg.prototype.translateSurface=function(e,o){this.surfaceXY_=new goog.math.Coordinate(e*this.scale_,o*this.scale_),this.translateSurfaceInternal_()},Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=Blockly.utils.getRelativeXY(this.SVG_);return new goog.math.Coordinate(e.x/this.scale_,e.y/this.scale_)},Blockly.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},Blockly.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",goog.asserts.assert(0==this.dragGroup_.childNodes.length,"Drag group was not cleared."),this.surfaceXY_=null},Blockly.utils.uiMenu={},Blockly.utils.uiMenu.getSize=function(e){e=e.getElement();var o=goog.style.getSize(e);return o.height=e.scrollHeight,o},Blockly.utils.uiMenu.adjustBBoxesForRTL=function(e,o,t){o.left+=t.width,o.right+=t.width,e.left+=t.width,e.right+=t.width},Blockly.ContextMenu={},Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.eventWrapper_=null,Blockly.ContextMenu.show=function(e,o,t){if(Blockly.WidgetDiv.show(Blockly.ContextMenu,t,null),o.length){var n=Blockly.ContextMenu.populate_(o,t);goog.events.listen(n,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide),Blockly.ContextMenu.position_(n,e,t),setTimeout(function(){n.getElement().focus()},1),Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()},Blockly.ContextMenu.populate_=function(e,o){var t=new goog.ui.Menu;t.setRightToLeft(o);for(var n,r=0;n=e[r];r++){var i=new goog.ui.MenuItem(n.text);i.setRightToLeft(o),t.addChild(i,!0),i.setEnabled(n.enabled),n.enabled&&(goog.events.listen(i,goog.ui.Component.EventType.ACTION,n.callback),i.handleContextMenu=function(){goog.events.dispatchEvent(this,goog.ui.Component.EventType.ACTION)})}return t},Blockly.ContextMenu.position_=function(e,o,t){var n=Blockly.utils.getViewportBBox();o={top:o.clientY+n.top,bottom:o.clientY+n.top,left:o.clientX+n.left,right:o.clientX+n.left},Blockly.ContextMenu.createWidget_(e);var r=Blockly.utils.uiMenu.getSize(e);t&&Blockly.utils.uiMenu.adjustBBoxesForRTL(n,o,r),Blockly.WidgetDiv.positionWithAnchor(n,o,r,t),e.getElement().focus()},Blockly.ContextMenu.createWidget_=function(e){e.render(Blockly.WidgetDiv.DIV);var o=e.getElement();Blockly.utils.addClass(o,"blocklyContextMenu"),Blockly.bindEventWithChecks_(o,"contextmenu",null,Blockly.utils.noEvent),e.setAllowAutoFocus(!0)},Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu),Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.eventWrapper_&&Blockly.unbindEvent_(Blockly.ContextMenu.eventWrapper_)},Blockly.ContextMenu.callbackFactory=function(t,n){return function(){Blockly.Events.disable();try{var e=Blockly.Xml.domToBlock(n,t.workspace),o=t.getRelativeToSurfaceXY();o.x=t.RTL?o.x-Blockly.SNAP_RADIUS:o.x+Blockly.SNAP_RADIUS,o.y+=2*Blockly.SNAP_RADIUS,e.moveBy(o.x,o.y)}finally{Blockly.Events.enable()}Blockly.Events.isEnabled()&&!e.isShadow()&&Blockly.Events.fire(new Blockly.Events.BlockCreate(e)),e.select()}},Blockly.ContextMenu.blockDeleteOption=function(e){var o=e.getDescendants(!0).length,t=e.getNextBlock();return t&&(o-=t.getDescendants(!0).length),{text:1==o?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(o)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0),e.dispose(!0,!0),Blockly.Events.setGroup(!1)}}},Blockly.ContextMenu.blockHelpOption=function(e){return{enabled:!(goog.isFunction(e.helpUrl)?!e.helpUrl():!e.helpUrl),text:Blockly.Msg.HELP,callback:function(){e.showHelp_()}}},Blockly.ContextMenu.blockDuplicateOption=function(e){var o=!0;return e.getDescendants().length>e.workspace.remainingCapacity()&&(o=!1),{text:Blockly.Msg.DUPLICATE_BLOCK,enabled:o,callback:function(){Blockly.duplicate_(e)}}},Blockly.ContextMenu.blockCommentOption=function(e){var o={enabled:!goog.userAgent.IE};return e.comment?(o.text=Blockly.Msg.REMOVE_COMMENT,o.callback=function(){e.setCommentText(null)}):(o.text=Blockly.Msg.ADD_COMMENT,o.callback=function(){e.setCommentText("")}),o},Blockly.BlockSvg=function(e,o,t){this.svgGroup_=Blockly.utils.createSvgElement("g",{},null),this.svgGroup_.translate_="",this.svgPathDark_=Blockly.utils.createSvgElement("path",{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgGroup_),this.svgPath_=Blockly.utils.createSvgElement("path",{class:"blocklyPath"},this.svgGroup_),this.svgPathLight_=Blockly.utils.createSvgElement("path",{class:"blocklyPathLight"},this.svgGroup_),(this.svgPath_.tooltip=this).rendered=!1,this.useDragSurface_=Blockly.utils.is3dSupported()&&!!e.blockDragSurface_,Blockly.Tooltip.bindMouseEvents(this.svgPath_),Blockly.BlockSvg.superClass_.constructor.call(this,e,o,t),this.svgGroup_.dataset&&(this.svgGroup_.dataset.id=this.id)},goog.inherits(Blockly.BlockSvg,Blockly.Block),Blockly.BlockSvg.prototype.height=0,Blockly.BlockSvg.prototype.width=0,Blockly.BlockSvg.prototype.dragStartXY_=null,Blockly.BlockSvg.prototype.warningTextDb_=null,Blockly.BlockSvg.INLINE=-1,Blockly.BlockSvg.prototype.initSvg=function(){goog.asserts.assert(this.workspace.rendered,"Workspace is headless.");for(var e,o=0;e=this.inputList[o];o++)e.init();for(e=this.getIcons(),o=0;o<e.length;o++)e[o].createIcon();this.updateColour(),this.updateMovable(),this.workspace.options.readOnly||this.eventsInit_||Blockly.bindEventWithChecks_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},Blockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var e=null;if(Blockly.selected){e=Blockly.selected.id,Blockly.Events.disable();try{Blockly.selected.unselect()}finally{Blockly.Events.enable()}}(e=new Blockly.Events.Ui(null,"selected",e,this.id)).workspaceId=this.workspace.id,Blockly.Events.fire(e),(Blockly.selected=this).addSelect()}},Blockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var e=new Blockly.Events.Ui(null,"selected",this.id,null);e.workspaceId=this.workspace.id,Blockly.Events.fire(e),Blockly.selected=null,this.removeSelect()}},Blockly.BlockSvg.prototype.mutator=null,Blockly.BlockSvg.prototype.comment=null,Blockly.BlockSvg.prototype.warning=null,Blockly.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.comment&&e.push(this.comment),this.warning&&e.push(this.warning),e},Blockly.BlockSvg.prototype.setParent=function(e){if(e!=this.parentBlock_){var o=this.getSvgRoot();if(this.parentBlock_&&o){var t=this.getRelativeToSurfaceXY();this.workspace.getCanvas().appendChild(o),o.setAttribute("transform","translate("+t.x+","+t.y+")")}Blockly.Field.startCache(),Blockly.BlockSvg.superClass_.setParent.call(this,e),Blockly.Field.stopCache(),e&&(t=this.getRelativeToSurfaceXY(),e.getSvgRoot().appendChild(o),e=this.getRelativeToSurfaceXY(),this.moveConnections_(e.x-t.x,e.y-t.y))}},Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,o=0,t=this.useDragSurface_?this.workspace.blockDragSurface_.getGroup():null,n=this.getSvgRoot();if(n)do{var r=Blockly.utils.getRelativeXY(n);e+=r.x,o+=r.y,this.useDragSurface_&&this.workspace.blockDragSurface_.getCurrentBlock()==n&&(e+=(r=this.workspace.blockDragSurface_.getSurfaceTranslation()).x,o+=r.y),n=n.parentNode}while(n&&n!=this.workspace.getCanvas()&&n!=t);return new goog.math.Coordinate(e,o)},Blockly.BlockSvg.prototype.moveBy=function(e,o){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var t=new Blockly.Events.BlockMove(this),n=this.getRelativeToSurfaceXY();this.translate(n.x+e,n.y+o),this.moveConnections_(e,o),t.recordNew(),this.workspace.resizeContents(),Blockly.Events.fire(t)},Blockly.BlockSvg.prototype.translate=function(e,o){this.getSvgRoot().setAttribute("transform","translate("+e+","+o+")")},Blockly.BlockSvg.prototype.moveToDragSurface_=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.blockDragSurface_.translateSurface(e.x,e.y),this.workspace.blockDragSurface_.setBlocksAndShow(this.getSvgRoot())}},Blockly.BlockSvg.prototype.moveOffDragSurface_=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.blockDragSurface_.clearAndHide(this.workspace.getCanvas()))},Blockly.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.blockDragSurface_.translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},Blockly.BlockSvg.prototype.clearTransformAttributes_=function(){Blockly.utils.removeAttribute(this.getSvgRoot(),"transform")},Blockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var o=e.getSpacing(),t=o/2,n=this.getRelativeToSurfaceXY();e=Math.round((n.x-t)/o)*o+t-n.x,o=Math.round((n.y-t)/o)*o+t-n.y,e=Math.round(e),o=Math.round(o),0==e&&0==o||this.moveBy(e,o)}}},Blockly.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(this),o=this.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,t=this.getHeightWidth();if(this.RTL){var n=new goog.math.Coordinate(e.x-(t.width-o),e.y);e=new goog.math.Coordinate(e.x+o,e.y+t.height)}else n=new goog.math.Coordinate(e.x-o,e.y),e=new goog.math.Coordinate(e.x+t.width-o,e.y+t.height);return{topLeft:n,bottomRight:e}},Blockly.BlockSvg.prototype.setCollapsed=function(e){if(this.collapsed_!=e){for(var o,t=[],n=0;o=this.inputList[n];n++)t.push.apply(t,o.setVisible(!e));if(e){for(o=this.getIcons(),n=0;n<o.length;n++)o[n].setVisible(!1);n=this.toString(Blockly.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(n).init()}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.setWarningText(null);if(Blockly.BlockSvg.superClass_.setCollapsed.call(this,e),t.length||(t[0]=this),this.rendered)for(n=0;e=t[n];n++)e.render()}},Blockly.BlockSvg.prototype.tab=function(e,o){var t=this.createTabList_(),n=t.indexOf(e);-1==n&&(n=o?-1:t.length),(t=t[o?n+1:n-1])?t instanceof Blockly.Field?t.showEditor_():t.tab(null,o):(t=this.getParent())&&t.tab(this,o)},Blockly.BlockSvg.prototype.createTabList_=function(){for(var e,o=[],t=0;e=this.inputList[t];t++){for(var n,r=0;n=e.fieldRow[r];r++)n instanceof Blockly.FieldTextInput&&o.push(n);e.connection&&(e=e.connection.targetBlock())&&o.push(e)}return o},Blockly.BlockSvg.prototype.onMouseDown_=function(e){var o=this.workspace.getGesture(e);o&&o.handleBlockStart(e,this)},Blockly.BlockSvg.prototype.showHelp_=function(){var e=goog.isFunction(this.helpUrl)?this.helpUrl():this.helpUrl;e&&window.open(e)},Blockly.BlockSvg.prototype.showContextMenu_=function(e){if(!this.workspace.options.readOnly&&this.contextMenu){var o=this,t=[];if(this.isDeletable()&&this.isMovable()&&!o.isInFlyout){if(t.push(Blockly.ContextMenu.blockDuplicateOption(o)),this.isEditable()&&!this.collapsed_&&this.workspace.options.comments&&t.push(Blockly.ContextMenu.blockCommentOption(o)),!this.collapsed_)for(var n=1;n<this.inputList.length;n++)if(this.inputList[n-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[n].type!=Blockly.NEXT_STATEMENT){n={enabled:!0};var r=this.getInputsInline();n.text=r?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS,n.callback=function(){o.setInputsInline(!r)},t.push(n);break}this.workspace.options.collapse&&(this.collapsed_?((n={enabled:!0}).text=Blockly.Msg.EXPAND_BLOCK,n.callback=function(){o.setCollapsed(!1)}):((n={enabled:!0}).text=Blockly.Msg.COLLAPSE_BLOCK,n.callback=function(){o.setCollapsed(!0)}),t.push(n)),this.workspace.options.disable&&(n={text:this.disabled?Blockly.Msg.ENABLE_BLOCK:Blockly.Msg.DISABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){o.setDisabled(!o.disabled)}},t.push(n)),t.push(Blockly.ContextMenu.blockDeleteOption(o))}t.push(Blockly.ContextMenu.blockHelpOption(o)),this.customContextMenu&&this.customContextMenu(t),Blockly.ContextMenu.show(e,t,this.RTL),Blockly.ContextMenu.currentBlock=this}},Blockly.BlockSvg.prototype.moveConnections_=function(e,o){if(this.rendered){for(var t=this.getConnections_(!1),n=0;n<t.length;n++)t[n].moveBy(e,o);for(t=this.getIcons(),n=0;n<t.length;n++)t[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(e,o)}},Blockly.BlockSvg.prototype.setDragging=function(e){if(e){var o=this.getSvgRoot();o.translate_="",o.skew_="",Blockly.draggingConnections_=Blockly.draggingConnections_.concat(this.getConnections_(!0)),Blockly.utils.addClass(this.svgGroup_,"blocklyDragging")}else Blockly.draggingConnections_=[],Blockly.utils.removeClass(this.svgGroup_,"blocklyDragging");for(o=0;o<this.childBlocks_.length;o++)this.childBlocks_[o].setDragging(e)},Blockly.BlockSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.utils.addClass(this.svgGroup_,"blocklyDraggable"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDraggable")},Blockly.BlockSvg.prototype.setMovable=function(e){Blockly.BlockSvg.superClass_.setMovable.call(this,e),this.updateMovable()},Blockly.BlockSvg.prototype.setEditable=function(e){Blockly.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var o=0;o<e.length;o++)e[o].updateEditable()},Blockly.BlockSvg.prototype.setShadow=function(e){Blockly.BlockSvg.superClass_.setShadow.call(this,e),this.updateColour()},Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Blockly.BlockSvg.prototype.dispose=function(e,o){if(this.workspace){Blockly.Tooltip.hide(),Blockly.Field.startCache();var t=this.workspace;if(Blockly.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide(),o&&this.rendered&&(this.unplug(e),this.disposeUiEffect()),this.rendered=!1,this.warningTextDb_){for(var n in this.warningTextDb_)clearTimeout(this.warningTextDb_[n]);this.warningTextDb_=null}Blockly.Events.disable();try{var r=this.getIcons();for(n=0;n<r.length;n++)r[n].dispose()}finally{Blockly.Events.enable()}Blockly.BlockSvg.superClass_.dispose.call(this,e),goog.dom.removeNode(this.svgGroup_),t.resizeContents(),this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null,Blockly.Field.stopCache()}},Blockly.BlockSvg.prototype.disposeUiEffect=function(){this.workspace.getAudioManager().play("delete");var e=this.workspace.getSvgXY(this.svgGroup_),o=this.svgGroup_.cloneNode(!0);o.translateX_=e.x,o.translateY_=e.y,o.setAttribute("transform","translate("+o.translateX_+","+o.translateY_+")"),this.workspace.getParentSvg().appendChild(o),o.bBox_=o.getBBox(),Blockly.BlockSvg.disposeUiStep_(o,this.RTL,new Date,this.workspace.scale)},Blockly.BlockSvg.disposeUiStep_=function(e,o,t,n){var r=(new Date-t)/150;1<r?goog.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(o?-1:1)*e.bBox_.width*n/2*r)+","+(e.translateY_+e.bBox_.height*n*r)+") scale("+(1-r)*n+")"),setTimeout(Blockly.BlockSvg.disposeUiStep_,10,e,o,t,n))},Blockly.BlockSvg.prototype.connectionUiEffect=function(){if(this.workspace.getAudioManager().play("click"),!(this.workspace.scale<1)){var e=this.workspace.getSvgXY(this.svgGroup_);this.outputConnection?(e.x+=(this.RTL?3:-3)*this.workspace.scale,e.y+=13*this.workspace.scale):this.previousConnection&&(e.x+=(this.RTL?-23:23)*this.workspace.scale,e.y+=3*this.workspace.scale),e=Blockly.utils.createSvgElement("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},this.workspace.getParentSvg()),Blockly.BlockSvg.connectionUiStep_(e,new Date,this.workspace.scale)}},Blockly.BlockSvg.connectionUiStep_=function(e,o,t){var n=(new Date-o)/150;1<n?goog.dom.removeNode(e):(e.setAttribute("r",25*n*t),e.style.opacity=1-n,Blockly.BlockSvg.disconnectUiStop_.pid_=setTimeout(Blockly.BlockSvg.connectionUiStep_,10,e,o,t))},Blockly.BlockSvg.prototype.disconnectUiEffect=function(){if(this.workspace.getAudioManager().play("disconnect"),!(this.workspace.scale<1)){var e=this.getHeightWidth().height;e=Math.atan(10/e)/Math.PI*180,this.RTL||(e*=-1),Blockly.BlockSvg.disconnectUiStep_(this.svgGroup_,e,new Date)}},Blockly.BlockSvg.disconnectUiStep_=function(e,o,t){var n=(new Date-t)/200;1<n?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(n*Math.PI*3)*(1-n)*o)+")",Blockly.BlockSvg.disconnectUiStop_.group=e,Blockly.BlockSvg.disconnectUiStop_.pid=setTimeout(Blockly.BlockSvg.disconnectUiStep_,10,e,o,t)),e.setAttribute("transform",e.translate_+e.skew_)},Blockly.BlockSvg.disconnectUiStop_=function(){if(Blockly.BlockSvg.disconnectUiStop_.group){clearTimeout(Blockly.BlockSvg.disconnectUiStop_.pid);var e=Blockly.BlockSvg.disconnectUiStop_.group;e.skew_="",e.setAttribute("transform",e.translate_),Blockly.BlockSvg.disconnectUiStop_.group=null}},Blockly.BlockSvg.disconnectUiStop_.pid=0,Blockly.BlockSvg.disconnectUiStop_.group=null,Blockly.BlockSvg.prototype.updateColour=function(){if(!this.disabled){var e=this.getColour(),o=goog.color.hexToRgb(e);if(this.isShadow())o=goog.color.lighten(o,.6),e=goog.color.rgbArrayToHex(o),this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",e);else{this.svgPathLight_.style.display="";var t=goog.color.rgbArrayToHex(goog.color.lighten(o,.3));o=goog.color.rgbArrayToHex(goog.color.darken(o,.2)),this.svgPathLight_.setAttribute("stroke",t),this.svgPathDark_.setAttribute("fill",o)}for(this.svgPath_.setAttribute("fill",e),e=this.getIcons(),t=0;t<e.length;t++)e[t].updateColour();for(e=0;t=this.inputList[e];e++){o=0;for(var n;n=t.fieldRow[o];o++)n.forceRerender()}}},Blockly.BlockSvg.prototype.updateDisabled=function(){this.disabled||this.getInheritedDisabled()?Blockly.utils.addClass(this.svgGroup_,"blocklyDisabled")&&this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDisabled")&&this.updateColour();for(var e,o=this.getChildren(),t=0;e=o[t];t++)e.updateDisabled()},Blockly.BlockSvg.prototype.getCommentText=function(){return this.comment?this.comment.getText().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""},Blockly.BlockSvg.prototype.setCommentText=function(e){var o=!1;goog.isString(e)?(this.comment||(this.comment=new Blockly.Comment(this),o=!0),this.comment.setText(e)):this.comment&&(this.comment.dispose(),o=!0),o&&this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setWarningText=function(e,o){this.warningTextDb_||(this.warningTextDb_=Object.create(null));var t=o||"";if(t)this.warningTextDb_[t]&&(clearTimeout(this.warningTextDb_[t]),delete this.warningTextDb_[t]);else for(var n in this.warningTextDb_)clearTimeout(this.warningTextDb_[n]),delete this.warningTextDb_[n];if(this.workspace.isDragging()){var r=this;this.warningTextDb_[t]=setTimeout(function(){r.workspace&&(delete r.warningTextDb_[t],r.setWarningText(e,t))},100)}else{this.isInFlyout&&(e=null),n=this.getSurroundParent();for(var i=null;n;)n.isCollapsed()&&(i=n),n=n.getSurroundParent();i&&i.setWarningText(e,"collapsed "+this.id+" "+t),n=!1,goog.isString(e)?(this.warning||(this.warning=new Blockly.Warning(this),n=!0),this.warning.setText(e,t)):this.warning&&!t?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",t),(i=this.warning.getText())||this.warning.dispose(),n=n!=i),n&&this.rendered&&(this.render(),this.bumpNeighbours_())}},Blockly.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&((e.block_=this).mutator=e).createIcon()},Blockly.BlockSvg.prototype.setDisabled=function(e){this.disabled!=e&&(Blockly.BlockSvg.superClass_.setDisabled.call(this,e),this.rendered&&this.updateDisabled())},Blockly.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&(e?(this.svgPath_.setAttribute("filter","url(#"+this.workspace.options.embossFilterId+")"),this.svgPathLight_.style.display="none"):(Blockly.utils.removeAttribute(this.svgPath_,"filter"),delete this.svgPathLight_.style.display))},Blockly.BlockSvg.prototype.addSelect=function(){Blockly.utils.addClass(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.utils.removeClass(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.setDeleteStyle=function(e){e?Blockly.utils.addClass(this.svgGroup_,"blocklyDraggingDelete"):Blockly.utils.removeClass(this.svgGroup_,"blocklyDraggingDelete")},Blockly.BlockSvg.prototype.setColour=function(e){Blockly.BlockSvg.superClass_.setColour.call(this,e),this.rendered&&this.updateColour()},Blockly.BlockSvg.prototype.bringToFront=function(){var e=this;do{var o=e.getSvgRoot();o.parentNode.appendChild(o),e=e.getParent()}while(e)},Blockly.BlockSvg.prototype.setPreviousStatement=function(e,o){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setNextStatement=function(e,o){Blockly.BlockSvg.superClass_.setNextStatement.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setOutput=function(e,o){Blockly.BlockSvg.superClass_.setOutput.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setInputsInline=function(e){Blockly.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.removeInput=function(e,o){Blockly.BlockSvg.superClass_.removeInput.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.moveNumberedInputBefore=function(e,o){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,o),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.appendInput_=function(e,o){var t=Blockly.BlockSvg.superClass_.appendInput_.call(this,e,o);return this.rendered&&(this.render(),this.bumpNeighbours_()),t},Blockly.BlockSvg.prototype.getConnections_=function(e){var o=[];if((e||this.rendered)&&(this.outputConnection&&o.push(this.outputConnection),this.previousConnection&&o.push(this.previousConnection),this.nextConnection&&o.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var t;t=this.inputList[e];e++)t.connection&&o.push(t.connection)}return o},Blockly.BlockSvg.prototype.makeConnection_=function(e){return new Blockly.RenderedConnection(this,e)},Blockly.BlockSvg.prototype.bumpNeighbours_=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var o,t=this.getConnections_(!1),n=0;o=t[n];n++){o.isConnected()&&o.isSuperior()&&o.targetBlock().bumpNeighbours_();for(var r,i=o.neighbours_(Blockly.SNAP_RADIUS),s=0;r=i[s];s++)o.isConnected()&&r.isConnected()||r.getSourceBlock().getRootBlock()!=e&&(o.isSuperior()?r.bumpAwayFrom_(o):o.bumpAwayFrom_(r))}}},Blockly.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,o=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(o),e.snapToGrid(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY/2),setTimeout(function(){Blockly.Events.setGroup(o),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)},Blockly.BlockSvg.render={},Blockly.BlockSvg.SEP_SPACE_X=10,Blockly.BlockSvg.SEP_SPACE_Y=10,Blockly.BlockSvg.INLINE_PADDING_Y=5,Blockly.BlockSvg.MIN_BLOCK_Y=25,Blockly.BlockSvg.TAB_HEIGHT=20,Blockly.BlockSvg.TAB_WIDTH=8,Blockly.BlockSvg.NOTCH_WIDTH=30,Blockly.BlockSvg.CORNER_RADIUS=8,Blockly.BlockSvg.START_HAT=!1,Blockly.BlockSvg.START_HAT_HEIGHT=15,Blockly.BlockSvg.START_HAT_PATH="c 30,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 70,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 100,0",Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5",Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7",Blockly.BlockSvg.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.5)+.5,Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.5)-.5,Blockly.BlockSvg.NOTCH_PATH_LEFT="l 6,4 3,0 6,-4",Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT="l 6,4 3,0 6,-4",Blockly.BlockSvg.NOTCH_PATH_RIGHT="l -6,4 -3,0 -6,-4",Blockly.BlockSvg.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4",Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=20,Blockly.BlockSvg.JAGGED_TEETH_WIDTH=15,Blockly.BlockSvg.TAB_PATH_DOWN="v 5 c 0,10 -"+Blockly.BlockSvg.TAB_WIDTH+",-8 -"+Blockly.BlockSvg.TAB_WIDTH+",7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",-2.5 "+Blockly.BlockSvg.TAB_WIDTH+",7.5",Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6.5 m -"+.97*Blockly.BlockSvg.TAB_WIDTH+",3 q -"+.05*Blockly.BlockSvg.TAB_WIDTH+",10 "+.3*Blockly.BlockSvg.TAB_WIDTH+",9.5 m "+.67*Blockly.BlockSvg.TAB_WIDTH+",-1.9 v 1.4",Blockly.BlockSvg.TOP_LEFT_CORNER_START="m 0,"+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL="m "+Blockly.BlockSvg.DISTANCE_45_INSIDE+","+Blockly.BlockSvg.DISTANCE_45_INSIDE,Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR="m 0.5,"+(Blockly.BlockSvg.CORNER_RADIUS-.5),Blockly.BlockSvg.TOP_LEFT_CORNER="A "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0",Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT="A "+(Blockly.BlockSvg.CORNER_RADIUS-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0.5",Blockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -"+(Blockly.BlockSvg.NOTCH_WIDTH-15-Blockly.BlockSvg.CORNER_RADIUS)+" a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 -"+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+(-Blockly.BlockSvg.DISTANCE_45_OUTSIDE-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE),Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5),Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)+","+(Blockly.BlockSvg.DISTANCE_45_OUTSIDE+.5),Blockly.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,o=this.width,t=this.getNextBlock();return t?(e+=(t=t.getHeightWidth()).height-4,o=Math.max(o,t.width)):this.nextConnection||this.outputConnection||(e+=2),{height:e,width:o}},Blockly.BlockSvg.prototype.render=function(e){Blockly.Field.startCache(),this.rendered=!0;var o=Blockly.BlockSvg.SEP_SPACE_X;this.RTL&&(o=-o);for(var t=this.getIcons(),n=0;n<t.length;n++)o=t[n].renderIcon(o);o+=this.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X,t=this.renderCompute_(o),this.renderDraw_(o,t),this.renderMoveConnections_(),!1!==e&&((e=this.getParent())?e.render(!0):this.workspace.resizeContents()),Blockly.Field.stopCache()},Blockly.BlockSvg.prototype.renderFields_=function(e,o,t){t+=Blockly.BlockSvg.INLINE_PADDING_Y,this.RTL&&(o=-o);for(var n,r=0;n=e[r];r++){var i=n.getSvgRoot();i&&(this.RTL?(o-=n.renderSep+n.renderWidth,i.setAttribute("transform","translate("+o+","+t+")"),n.renderWidth&&(o-=Blockly.BlockSvg.SEP_SPACE_X)):(i.setAttribute("transform","translate("+(o+n.renderSep)+","+t+")"),n.renderWidth&&(o+=n.renderSep+n.renderWidth+Blockly.BlockSvg.SEP_SPACE_X)))}return this.RTL?-o:o},Blockly.BlockSvg.prototype.renderCompute_=function(e){var o=this.inputList,t=[];t.rightEdge=e+2*Blockly.BlockSvg.SEP_SPACE_X,(this.previousConnection||this.nextConnection)&&(t.rightEdge=Math.max(t.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X));for(var n,r=0,i=0,s=!1,l=!1,g=!1,a=void 0,c=this.getInputsInline()&&!this.isCollapsed(),u=0;n=o[u];u++)if(n.isVisible()){if(c&&a&&a!=Blockly.NEXT_STATEMENT&&n.type!=Blockly.NEXT_STATEMENT)var h=t[t.length-1];else a=n.type,(h=[]).type=c&&n.type!=Blockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:n.type,h.height=0,t.push(h);if(h.push(n),n.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y,n.renderWidth=c&&n.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+1.25*Blockly.BlockSvg.SEP_SPACE_X:0,n.connection&&n.connection.isConnected()){var p=n.connection.targetBlock().getHeightWidth();n.renderHeight=Math.max(n.renderHeight,p.height),n.renderWidth=Math.max(n.renderWidth,p.width)}c||u!=o.length-1?!c&&n.type==Blockly.INPUT_VALUE&&o[u+1]&&o[u+1].type==Blockly.NEXT_STATEMENT&&n.renderHeight--:n.renderHeight--,h.height=Math.max(h.height,n.renderHeight),n.fieldWidth=0,1==t.length&&(n.fieldWidth+=this.RTL?-e:e),p=!1;for(var d,y=0;d=n.fieldRow[y];y++){0!=y&&(n.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);var f=d.getSize();d.renderWidth=f.width,d.renderSep=p&&d.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:0,n.fieldWidth+=d.renderWidth+d.renderSep,h.height=Math.max(h.height,f.height),p=d.EDITABLE}h.type!=Blockly.BlockSvg.INLINE&&(h.type==Blockly.NEXT_STATEMENT?(l=!0,i=Math.max(i,n.fieldWidth)):(h.type==Blockly.INPUT_VALUE?s=!0:h.type==Blockly.DUMMY_INPUT&&(g=!0),r=Math.max(r,n.fieldWidth)))}for(e=0;h=t[e];e++)if(h.thicker=!1,h.type==Blockly.BlockSvg.INLINE)for(o=0;n=h[o];o++)if(n.type==Blockly.INPUT_VALUE){h.height+=2*Blockly.BlockSvg.INLINE_PADDING_Y,h.thicker=!0;break}return t.statementEdge=2*Blockly.BlockSvg.SEP_SPACE_X+i,l&&(t.rightEdge=Math.max(t.rightEdge,t.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH)),s?t.rightEdge=Math.max(t.rightEdge,r+2*Blockly.BlockSvg.SEP_SPACE_X+Blockly.BlockSvg.TAB_WIDTH):g&&(t.rightEdge=Math.max(t.rightEdge,r+2*Blockly.BlockSvg.SEP_SPACE_X)),t.hasValue=s,t.hasStatement=l,t.hasDummy=g,t},Blockly.BlockSvg.prototype.renderDraw_=function(e,o){if(this.startHat_=!1,this.height=0,this.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{if(this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1,this.previousConnection){var t=this.previousConnection.targetBlock();t&&t.getNextBlock()==this&&(this.squareTopLeftCorner_=!0)}else Blockly.BlockSvg.START_HAT&&(this.startHat_=this.squareTopLeftCorner_=!0,this.height+=Blockly.BlockSvg.START_HAT_HEIGHT,o.rightEdge=Math.max(o.rightEdge,100));this.getNextBlock()&&(this.squareBottomLeftCorner_=!0)}var n=[],r=[];t=[];var i=[];this.renderDrawTop_(n,t,o.rightEdge);var s=this.renderDrawRight_(n,t,r,i,o,e);this.renderDrawBottom_(n,t,s),this.renderDrawLeft_(n,t),n=n.join(" ")+"\n"+r.join(" "),this.svgPath_.setAttribute("d",n),this.svgPathDark_.setAttribute("d",n),n=t.join(" ")+"\n"+i.join(" "),this.svgPathLight_.setAttribute("d",n),this.RTL&&(this.svgPath_.setAttribute("transform","scale(-1 1)"),this.svgPathLight_.setAttribute("transform","scale(-1 1)"),this.svgPathDark_.setAttribute("transform","translate(1,1) scale(-1 1)"))},Blockly.BlockSvg.prototype.renderMoveConnections_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var o=0;o<this.inputList.length;o++){var t=this.inputList[o].connection;t&&(t.moveToOffset(e),t.isConnected()&&t.tighten_())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten_())},Blockly.BlockSvg.prototype.renderDrawTop_=function(e,o,t){this.squareTopLeftCorner_?(e.push("m 0,0"),o.push("m 0.5,0.5"),this.startHat_&&(e.push(Blockly.BlockSvg.START_HAT_PATH),o.push(this.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(e.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),o.push(this.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),e.push(Blockly.BlockSvg.TOP_LEFT_CORNER),o.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT)),this.previousConnection&&(e.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),o.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),e.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),o.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),this.previousConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,0)),e.push("H",t),o.push("H",t-.5),this.width=t},Blockly.BlockSvg.prototype.renderDrawRight_=function(e,o,t,n,r,i){for(var s,l,g,a,c=0,u=0;a=r[u];u++){if(s=Blockly.BlockSvg.SEP_SPACE_X,0==u&&(s+=this.RTL?-i:i),o.push("M",r.rightEdge-.5+","+(c+.5)),this.isCollapsed()){var h=a[0];l=c,this.renderFields_(h.fieldRow,s,l),e.push(Blockly.BlockSvg.JAGGED_TEETH),o.push("h 8"),h=a.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT,e.push("v",h),this.RTL&&(o.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),o.push("v",h-.7)),this.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH}else if(a.type==Blockly.BlockSvg.INLINE){for(var p=0;h=a[p];p++)l=c,a.thicker&&(l+=Blockly.BlockSvg.INLINE_PADDING_Y),s=this.renderFields_(h.fieldRow,s,l),h.type!=Blockly.DUMMY_INPUT&&(s+=h.renderWidth+Blockly.BlockSvg.SEP_SPACE_X),h.type==Blockly.INPUT_VALUE&&(t.push("M",s-Blockly.BlockSvg.SEP_SPACE_X+","+(c+Blockly.BlockSvg.INLINE_PADDING_Y)),t.push("h",Blockly.BlockSvg.TAB_WIDTH-2-h.renderWidth),t.push(Blockly.BlockSvg.TAB_PATH_DOWN),t.push("v",h.renderHeight+1-Blockly.BlockSvg.TAB_HEIGHT),t.push("h",h.renderWidth+2-Blockly.BlockSvg.TAB_WIDTH),t.push("z"),this.RTL?(n.push("M",s-Blockly.BlockSvg.SEP_SPACE_X-2.5+Blockly.BlockSvg.TAB_WIDTH-h.renderWidth+","+(c+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),n.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),n.push("v",h.renderHeight-Blockly.BlockSvg.TAB_HEIGHT+2.5),n.push("h",h.renderWidth-Blockly.BlockSvg.TAB_WIDTH+2)):(n.push("M",s-Blockly.BlockSvg.SEP_SPACE_X+.5+","+(c+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),n.push("v",h.renderHeight+1),n.push("h",Blockly.BlockSvg.TAB_WIDTH-2-h.renderWidth),n.push("M",s-h.renderWidth-Blockly.BlockSvg.SEP_SPACE_X+.9+","+(c+Blockly.BlockSvg.INLINE_PADDING_Y+Blockly.BlockSvg.TAB_HEIGHT-.7)),n.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),l=this.RTL?-s-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+h.renderWidth+1:s+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-h.renderWidth-1,g=c+Blockly.BlockSvg.INLINE_PADDING_Y+1,h.connection.setOffsetInBlock(l,g));s=Math.max(s,r.rightEdge),this.width=Math.max(this.width,s),e.push("H",s),o.push("H",s-.5),e.push("v",a.height),this.RTL&&o.push("v",a.height-1)}else a.type==Blockly.INPUT_VALUE?(l=c,(h=a[0]).align!=Blockly.ALIGN_LEFT&&(p=r.rightEdge-h.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X,h.align==Blockly.ALIGN_RIGHT?s+=p:h.align==Blockly.ALIGN_CENTRE&&(s+=p/2)),this.renderFields_(h.fieldRow,s,l),e.push(Blockly.BlockSvg.TAB_PATH_DOWN),p=a.height-Blockly.BlockSvg.TAB_HEIGHT,e.push("v",p),this.RTL?(o.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),o.push("v",p+.5)):(o.push("M",r.rightEdge-5+","+(c+Blockly.BlockSvg.TAB_HEIGHT-.7)),o.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),l=this.RTL?-r.rightEdge-1:r.rightEdge+1,h.connection.setOffsetInBlock(l,c),h.connection.isConnected()&&(this.width=Math.max(this.width,r.rightEdge+h.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+1))):a.type==Blockly.DUMMY_INPUT?(l=c,(h=a[0]).align!=Blockly.ALIGN_LEFT&&(p=r.rightEdge-h.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,r.hasValue&&(p-=Blockly.BlockSvg.TAB_WIDTH),h.align==Blockly.ALIGN_RIGHT?s+=p:h.align==Blockly.ALIGN_CENTRE&&(s+=p/2)),this.renderFields_(h.fieldRow,s,l),e.push("v",a.height),this.RTL&&o.push("v",a.height-1)):a.type==Blockly.NEXT_STATEMENT&&(h=a[0],0==u&&(e.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&o.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),c+=Blockly.BlockSvg.SEP_SPACE_Y),l=c,h.align!=Blockly.ALIGN_LEFT&&(p=r.statementEdge-h.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,h.align==Blockly.ALIGN_RIGHT?s+=p:h.align==Blockly.ALIGN_CENTRE&&(s+=p/2)),this.renderFields_(h.fieldRow,s,l),s=r.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH,e.push("H",s),e.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER),e.push("v",a.height-2*Blockly.BlockSvg.CORNER_RADIUS),e.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER),e.push("H",r.rightEdge),this.RTL?(o.push("M",s-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(c+Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),o.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),o.push("v",a.height-2*Blockly.BlockSvg.CORNER_RADIUS),o.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)):(o.push("M",s-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(c+a.height-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),o.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR)),o.push("H",r.rightEdge-.5),l=this.RTL?-s:s+1,h.connection.setOffsetInBlock(l,c+1),h.connection.isConnected()&&(this.width=Math.max(this.width,r.statementEdge+h.connection.targetBlock().getHeightWidth().width)),u==r.length-1||r[u+1].type==Blockly.NEXT_STATEMENT)&&(e.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&o.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),c+=Blockly.BlockSvg.SEP_SPACE_Y);c+=a.height}return r.length||(c=Blockly.BlockSvg.MIN_BLOCK_Y,e.push("V",c),this.RTL&&o.push("V",c-1)),c},Blockly.BlockSvg.prototype.renderDrawBottom_=function(e,o,t){this.height+=t+1,this.nextConnection&&(e.push("H",Blockly.BlockSvg.NOTCH_WIDTH+(this.RTL?.5:-.5)+" "+Blockly.BlockSvg.NOTCH_PATH_RIGHT),this.nextConnection.setOffsetInBlock(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,t+1),this.height+=4),this.squareBottomLeftCorner_?(e.push("H 0"),this.RTL||o.push("M","0.5,"+(t-.5))):(e.push("H",Blockly.BlockSvg.CORNER_RADIUS),e.push("a",Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 -"+Blockly.BlockSvg.CORNER_RADIUS+",-"+Blockly.BlockSvg.CORNER_RADIUS),this.RTL||(o.push("M",Blockly.BlockSvg.DISTANCE_45_INSIDE+","+(t-Blockly.BlockSvg.DISTANCE_45_INSIDE)),o.push("A",Blockly.BlockSvg.CORNER_RADIUS-.5+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 0.5,"+(t-Blockly.BlockSvg.CORNER_RADIUS))))},Blockly.BlockSvg.prototype.renderDrawLeft_=function(e,o){this.outputConnection?(this.outputConnection.setOffsetInBlock(0,0),e.push("V",Blockly.BlockSvg.TAB_HEIGHT),e.push("c 0,-10 -"+Blockly.BlockSvg.TAB_WIDTH+",8 -"+Blockly.BlockSvg.TAB_WIDTH+",-7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",2.5 "+Blockly.BlockSvg.TAB_WIDTH+",-7.5"),this.RTL?(o.push("M",-.25*Blockly.BlockSvg.TAB_WIDTH+",8.4"),o.push("l",-.45*Blockly.BlockSvg.TAB_WIDTH+",-2.1")):(o.push("V",Blockly.BlockSvg.TAB_HEIGHT-1.5),o.push("m",-.92*Blockly.BlockSvg.TAB_WIDTH+",-0.5 q "+-.19*Blockly.BlockSvg.TAB_WIDTH+",-5.5 0,-11"),o.push("m",.92*Blockly.BlockSvg.TAB_WIDTH+",1 V 0.5 H 1")),this.width+=Blockly.BlockSvg.TAB_WIDTH):this.RTL||(this.squareTopLeftCorner_?o.push("V",.5):o.push("V",Blockly.BlockSvg.CORNER_RADIUS)),e.push("z")},Blockly.Msg={},goog.getMsgOrig=goog.getMsg,goog.getMsg=function(e,o){var t=goog.getMsg.blocklyMsgMap[e];return t&&(e=Blockly.Msg[t]),goog.getMsgOrig(e,o)},goog.getMsg.blocklyMsgMap={Today:"TODAY"},Blockly.FieldTextInput=function(e,o){Blockly.FieldTextInput.superClass_.constructor.call(this,e,o)},goog.inherits(Blockly.FieldTextInput,Blockly.Field),Blockly.FieldTextInput.fromJson=function(e){var o=Blockly.utils.replaceMessageReferences(e.text);return o=new Blockly.FieldTextInput(o,e.class),"boolean"==typeof e.spellcheck&&o.setSpellcheck(e.spellcheck),o},Blockly.FieldTextInput.FONTSIZE=11,Blockly.FieldTextInput.htmlInput_=null,Blockly.FieldTextInput.prototype.CURSOR="text",Blockly.FieldTextInput.prototype.spellcheck_=!0,Blockly.FieldTextInput.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldTextInput.superClass_.dispose.call(this)},Blockly.FieldTextInput.prototype.setValue=function(e){if(null!==e){if(this.sourceBlock_){var o=this.callValidator(e);null!==o&&(e=o)}Blockly.Field.prototype.setValue.call(this,e)}},Blockly.FieldTextInput.prototype.setText=function(e){null!==e&&((e=String(e))!==this.text_&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.text_,e)),Blockly.Field.prototype.setText.call(this,e)))},Blockly.FieldTextInput.prototype.setSpellcheck=function(e){this.spellcheck_=e},Blockly.FieldTextInput.prototype.showEditor_=function(e){this.workspace_=this.sourceBlock_.workspace,!(e=e||!1)&&(goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},Blockly.FieldTextInput.prototype.showPromptEditor_=function(){var o=this;Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.text_,function(e){o.sourceBlock_&&(e=o.callValidator(e)),o.setValue(e)})},Blockly.FieldTextInput.prototype.showInlineEditor_=function(e){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_());var o=Blockly.WidgetDiv.DIV,t=goog.dom.createDom("INPUT","blocklyHtmlInput");t.setAttribute("spellcheck",this.spellcheck_);var n=Blockly.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";o.style.fontSize=n,t.style.fontSize=n,Blockly.FieldTextInput.htmlInput_=t,o.appendChild(t),t.value=t.defaultValue=this.text_,t.oldValue_=null,this.validate_(),this.resizeEditor_(),e||(t.focus(),t.select()),this.bindEvents_(t)},Blockly.FieldTextInput.prototype.bindEvents_=function(e){e.onKeyDownWrapper_=Blockly.bindEventWithChecks_(e,"keydown",this,this.onHtmlInputKeyDown_),e.onKeyUpWrapper_=Blockly.bindEventWithChecks_(e,"keyup",this,this.onHtmlInputChange_),e.onKeyPressWrapper_=Blockly.bindEventWithChecks_(e,"keypress",this,this.onHtmlInputChange_),e.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this),this.workspace_.addChangeListener(e.onWorkspaceChangeWrapper_)},Blockly.FieldTextInput.prototype.unbindEvents_=function(e){Blockly.unbindEvent_(e.onKeyDownWrapper_),Blockly.unbindEvent_(e.onKeyUpWrapper_),Blockly.unbindEvent_(e.onKeyPressWrapper_),this.workspace_.removeChangeListener(e.onWorkspaceChangeWrapper_)},Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){var o=Blockly.FieldTextInput.htmlInput_;13==e.keyCode?Blockly.WidgetDiv.hide():27==e.keyCode?(o.value=o.defaultValue,Blockly.WidgetDiv.hide()):9==e.keyCode&&(Blockly.WidgetDiv.hide(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(e){var o=(e=Blockly.FieldTextInput.htmlInput_).value;o!==e.oldValue_?(e.oldValue_=o,this.setValue(o),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render(),this.resizeEditor_(),Blockly.svgResize(this.sourceBlock_.workspace)},Blockly.FieldTextInput.prototype.validate_=function(){var e=!0;goog.asserts.assertObject(Blockly.FieldTextInput.htmlInput_);var o=Blockly.FieldTextInput.htmlInput_;this.sourceBlock_&&(e=this.callValidator(o.value)),null===e?Blockly.utils.addClass(o,"blocklyInvalidInput"):Blockly.utils.removeClass(o,"blocklyInvalidInput")},Blockly.FieldTextInput.prototype.resizeEditor_=function(){var e=Blockly.WidgetDiv.DIV,o=this.getScaledBBox_();e.style.width=o.right-o.left+"px",e.style.height=o.bottom-o.top+"px",(o=new goog.math.Coordinate(this.sourceBlock_.RTL?o.right-e.offsetWidth:o.left,o.top)).y+=1,goog.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--o.x,--o.y),goog.userAgent.WEBKIT&&(o.y-=3),e.style.left=o.x+"px",e.style.top=o.y+"px"},Blockly.FieldTextInput.prototype.widgetDispose_=function(){var o=this;return function(){var e=Blockly.FieldTextInput.htmlInput_;o.maybeSaveEdit_(),o.unbindEvents_(e),Blockly.FieldTextInput.htmlInput_=null,Blockly.Events.setGroup(!1),(e=Blockly.WidgetDiv.DIV.style).width="auto",e.height="auto",e.fontSize=""}},Blockly.FieldTextInput.prototype.maybeSaveEdit_=function(){var e=Blockly.FieldTextInput.htmlInput_,o=e.value;this.sourceBlock_&&(null===(o=this.callValidator(o))?o=e.defaultValue:this.onFinishEditing_&&this.onFinishEditing_(o)),this.setText(o),this.sourceBlock_.rendered&&this.sourceBlock_.render()},Blockly.FieldTextInput.numberValidator=function(e){return console.warn("Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead."),null===e?null:(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,""),e=parseFloat(e||0),isNaN(e)?null:String(e))},Blockly.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=Blockly.FieldTextInput.numberValidator(e))&&(e=String(Math.max(0,Math.floor(e)))),e},Blockly.Field.register("field_input",Blockly.FieldTextInput),Blockly.FieldAngle=function(e,o){this.symbol_=Blockly.utils.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("°")),e=e&&!isNaN(e)?String(e):"0",Blockly.FieldAngle.superClass_.constructor.call(this,e,o)},goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput),Blockly.FieldAngle.fromJson=function(e){return new Blockly.FieldAngle(e.angle)},Blockly.FieldAngle.ROUND=15,Blockly.FieldAngle.HALF=50,Blockly.FieldAngle.CLOCKWISE=!1,Blockly.FieldAngle.OFFSET=0,Blockly.FieldAngle.WRAP=360,Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1,Blockly.FieldAngle.prototype.render_=function(){this.visible_?(this.textElement_.textContent=this.getDisplayText_(),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.symbol_,this.textElement_.firstChild):this.textElement_.appendChild(this.symbol_),this.updateWidth()):this.size_.width=0},Blockly.FieldAngle.prototype.dispose_=function(){var e=this;return function(){Blockly.FieldAngle.superClass_.dispose_.call(e)(),e.gauge_=null,e.clickWrapper_&&Blockly.unbindEvent_(e.clickWrapper_),e.moveWrapper1_&&Blockly.unbindEvent_(e.moveWrapper1_),e.moveWrapper2_&&Blockly.unbindEvent_(e.moveWrapper2_)}},Blockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this,goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD);var e=Blockly.WidgetDiv.DIV;if(e.firstChild){e=Blockly.utils.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},e);var o=Blockly.utils.createSvgElement("circle",{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=Blockly.utils.createSvgElement("path",{class:"blocklyAngleGauge"},e),this.line_=Blockly.utils.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var t=0;t<360;t+=15)Blockly.utils.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(0==t%45?10:5),y2:Blockly.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+t+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},e);e.style.marginLeft=15-Blockly.FieldAngle.RADIUS+"px",this.clickWrapper_=Blockly.bindEvent_(e,"click",this,Blockly.WidgetDiv.hide),this.moveWrapper1_=Blockly.bindEvent_(o,"mousemove",this,this.onMouseMove),this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove),this.updateGraph_()}},Blockly.FieldAngle.prototype.onMouseMove=function(e){var o=this.gauge_.ownerSVGElement.getBoundingClientRect(),t=e.clientX-o.left-Blockly.FieldAngle.HALF;e=e.clientY-o.top-Blockly.FieldAngle.HALF,o=Math.atan(-e/t),isNaN(o)||(o=goog.math.toDegrees(o),t<0?o+=180:0<e&&(o+=360),o=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+360-o:o-Blockly.FieldAngle.OFFSET,Blockly.FieldAngle.ROUND&&(o=Math.round(o/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),o=this.callValidator(o),Blockly.FieldTextInput.htmlInput_.value=o,this.setValue(o),this.validate_(),this.resizeEditor_())},Blockly.FieldAngle.prototype.setText=function(e){Blockly.FieldAngle.superClass_.setText.call(this,e),this.textElement_&&(this.updateGraph_(),this.size_.width=0)},Blockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+Blockly.FieldAngle.OFFSET,o=goog.math.toRadians(e);e=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF];var t=Blockly.FieldAngle.HALF,n=Blockly.FieldAngle.HALF;if(!isNaN(o)){var r=goog.math.toRadians(Blockly.FieldAngle.OFFSET),i=Math.cos(r)*Blockly.FieldAngle.RADIUS,s=Math.sin(r)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&&(o=2*r-o),t+=Math.cos(o)*Blockly.FieldAngle.RADIUS,n-=Math.sin(o)*Blockly.FieldAngle.RADIUS,o=Math.abs(Math.floor((o-r)/Math.PI)%2),Blockly.FieldAngle.CLOCKWISE&&(o=1-o),e.push(" l ",i,",",s," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",o," ",Number(Blockly.FieldAngle.CLOCKWISE)," ",t,",",n," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",t),this.line_.setAttribute("y2",n)}},Blockly.FieldAngle.prototype.classValidator=function(e){return null===e?null:(e=parseFloat(e||0),isNaN(e)?null:((e%=360)<0&&(e+=360),e>Blockly.FieldAngle.WRAP&&(e-=360),String(e)))},Blockly.Field.register("field_angle",Blockly.FieldAngle),Blockly.FieldCheckbox=function(e,o){Blockly.FieldCheckbox.superClass_.constructor.call(this,"",o),this.setValue(e)},goog.inherits(Blockly.FieldCheckbox,Blockly.Field),Blockly.FieldCheckbox.fromJson=function(e){return new Blockly.FieldCheckbox(e.checked?"TRUE":"FALSE")},Blockly.FieldCheckbox.CHECK_CHAR="✓",Blockly.FieldCheckbox.prototype.CURSOR="default",Blockly.FieldCheckbox.prototype.init=function(){if(!this.fieldGroup_){Blockly.FieldCheckbox.superClass_.init.call(this),this.checkElement_=Blockly.utils.createSvgElement("text",{class:"blocklyText blocklyCheckbox",x:-3,y:14},this.fieldGroup_);var e=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);this.checkElement_.appendChild(e),this.checkElement_.style.display=this.state_?"block":"none"}},Blockly.FieldCheckbox.prototype.getValue=function(){return String(this.state_).toUpperCase()},Blockly.FieldCheckbox.prototype.setValue=function(e){e="string"==typeof e?"TRUE"==e.toUpperCase():!!e,this.state_!==e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.state_,e)),this.state_=e,this.checkElement_&&(this.checkElement_.style.display=e?"block":"none"))},Blockly.FieldCheckbox.prototype.showEditor_=function(){var e=!this.state_;this.sourceBlock_&&(e=this.callValidator(e)),null!==e&&this.setValue(String(e).toUpperCase())},Blockly.Field.register("field_checkbox",Blockly.FieldCheckbox),Blockly.FieldColour=function(e,o){Blockly.FieldColour.superClass_.constructor.call(this,e,o),this.setText(Blockly.Field.NBSP+Blockly.Field.NBSP+Blockly.Field.NBSP)},goog.inherits(Blockly.FieldColour,Blockly.Field),Blockly.FieldColour.fromJson=function(e){return new Blockly.FieldColour(e.colour)},Blockly.FieldColour.prototype.colours_=null,Blockly.FieldColour.prototype.columns_=0,Blockly.FieldColour.prototype.init=function(){Blockly.FieldColour.superClass_.init.call(this),this.borderRect_.style.fillOpacity=1,this.setValue(this.getValue())},Blockly.FieldColour.prototype.CURSOR="default",Blockly.FieldColour.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldColour.superClass_.dispose.call(this)},Blockly.FieldColour.prototype.getValue=function(){return this.colour_},Blockly.FieldColour.prototype.setValue=function(e){this.sourceBlock_&&Blockly.Events.isEnabled()&&this.colour_!=e&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.colour_,e)),this.colour_=e,this.borderRect_&&(this.borderRect_.style.fill=e)},Blockly.FieldColour.prototype.getText=function(){var e=this.colour_,o=e.match(/^#(.)\1(.)\2(.)\3$/);return o&&(e="#"+o[1]+o[2]+o[3]),e},Blockly.FieldColour.COLOURS=goog.ui.ColorPicker.SIMPLE_GRID_COLORS,Blockly.FieldColour.COLUMNS=7,Blockly.FieldColour.prototype.setColours=function(e){return this.colours_=e,this},Blockly.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},Blockly.FieldColour.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,Blockly.FieldColour.widgetDispose_);var e=Blockly.utils.getViewportBBox(),o=this.getScaledBBox_(),t=this.createWidget_(),n=goog.style.getSize(t.getElement());Blockly.WidgetDiv.positionWithAnchor(e,o,n,this.sourceBlock_.RTL);var r=this;Blockly.FieldColour.changeEventKey_=goog.events.listen(t,goog.ui.ColorPicker.EventType.CHANGE,function(e){e=e.target.getSelectedColor()||"#000000",Blockly.WidgetDiv.hide(),r.sourceBlock_&&(e=r.callValidator(e)),null!==e&&r.setValue(e)})},Blockly.FieldColour.prototype.createWidget_=function(){var e=new goog.ui.ColorPicker;return e.setSize(this.columns_||Blockly.FieldColour.COLUMNS),e.setColors(this.colours_||Blockly.FieldColour.COLOURS),e.render(Blockly.WidgetDiv.DIV),e.setSelectedColor(this.getValue()),e},Blockly.FieldColour.widgetDispose_=function(){Blockly.FieldColour.changeEventKey_&&goog.events.unlistenByKey(Blockly.FieldColour.changeEventKey_),Blockly.Events.setGroup(!1)},Blockly.Field.register("field_colour",Blockly.FieldColour),Blockly.FieldDropdown=function(e,o){this.menuGenerator_=e,this.trimOptions_();var t=this.getOptions()[0];Blockly.FieldDropdown.superClass_.constructor.call(this,t[1],o)},goog.inherits(Blockly.FieldDropdown,Blockly.Field),Blockly.FieldDropdown.fromJson=function(e){return new Blockly.FieldDropdown(e.options)},Blockly.FieldDropdown.CHECKMARK_OVERHANG=25,Blockly.FieldDropdown.MAX_MENU_HEIGHT=300,Blockly.FieldDropdown.ARROW_CHAR=goog.userAgent.ANDROID?"▼":"▾",Blockly.FieldDropdown.prototype.CURSOR="default",Blockly.FieldDropdown.prototype.value_="",Blockly.FieldDropdown.prototype.imageElement_=null,Blockly.FieldDropdown.prototype.imageJson_=null,Blockly.FieldDropdown.prototype.init=function(){this.fieldGroup_||(this.arrow_=Blockly.utils.createSvgElement("tspan",{},null),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR)),Blockly.FieldDropdown.superClass_.init.call(this))},Blockly.FieldDropdown.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,null);var e=this.createMenu_();this.addEventListeners_(e),this.positionMenu_(e)},Blockly.FieldDropdown.prototype.addEventListeners_=function(e){this.addActionListener_(e),this.addTouchStartListener_(e),this.addTouchEndListener_(e)},Blockly.FieldDropdown.prototype.addActionListener_=function(e){var o=this;goog.events.listen(e,goog.ui.Component.EventType.ACTION,function(e){(e=e.target)&&o.onItemSelected(this,e),Blockly.WidgetDiv.hideIfOwner(o),Blockly.Events.setGroup(!1)})},Blockly.FieldDropdown.prototype.addTouchStartListener_=function(e){e.getHandler().listen(e.getElement(),goog.events.EventType.TOUCHSTART,function(e){this.getOwnerControl(e.target).handleMouseDown(e)})},Blockly.FieldDropdown.prototype.addTouchEndListener_=function(e){e.getHandler().listen(e.getElement(),goog.events.EventType.TOUCHEND,function(e){this.getOwnerControl(e.target).performActionInternal(e)})},Blockly.FieldDropdown.prototype.createMenu_=function(){var e=new goog.ui.Menu;e.setRightToLeft(this.sourceBlock_.RTL);for(var o=this.getOptions(),t=0;t<o.length;t++){var n=o[t][0],r=o[t][1];if("object"==_typeof(n)){var i=new Image(n.width,n.height);i.src=n.src,i.alt=n.alt||"",n=i}(n=new goog.ui.MenuItem(n)).setRightToLeft(this.sourceBlock_.RTL),n.setValue(r),n.setCheckable(!0),e.addChild(n,!0),n.setChecked(r==this.value_)}return e},Blockly.FieldDropdown.prototype.positionMenu_=function(e){var o=Blockly.utils.getViewportBBox(),t=this.getAnchorDimensions_();this.createWidget_(e);var n=Blockly.utils.uiMenu.getSize(e);n.height>Blockly.FieldDropdown.MAX_MENU_HEIGHT&&(n.height=Blockly.FieldDropdown.MAX_MENU_HEIGHT),this.sourceBlock_.RTL&&Blockly.utils.uiMenu.adjustBBoxesForRTL(o,t,n),Blockly.WidgetDiv.positionWithAnchor(o,t,n,this.sourceBlock_.RTL),e.getElement().focus()},Blockly.FieldDropdown.prototype.createWidget_=function(e){e.render(Blockly.WidgetDiv.DIV),Blockly.utils.addClass(e.getElement(),"blocklyDropdownMenu"),e.setAllowAutoFocus(!0)},Blockly.FieldDropdown.prototype.getAnchorDimensions_=function(){var e=this.getScaledBBox_();return this.sourceBlock_.RTL?e.right+=Blockly.FieldDropdown.CHECKMARK_OVERHANG:e.left-=Blockly.FieldDropdown.CHECKMARK_OVERHANG,e},Blockly.FieldDropdown.prototype.onItemSelected=function(e,o){var t=o.getValue();this.sourceBlock_&&(t=this.callValidator(t)),null!==t&&this.setValue(t)},Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var e=this.menuGenerator_;if(goog.isArray(e)){for(var o=!1,t=0;t<e.length;t++){var n=e[t][0];"string"==typeof n?e[t][0]=Blockly.utils.replaceMessageReferences(n):(null!=n.alt&&(e[t][0].alt=Blockly.utils.replaceMessageReferences(n.alt)),o=!0)}if(!(o||e.length<2)){for(o=[],t=0;t<e.length;t++)o.push(e[t][0]);t=Blockly.utils.shortestStringLength(o),n=Blockly.utils.commonWordPrefix(o,t);var r=Blockly.utils.commonWordSuffix(o,t);!n&&!r||t<=n+r||(n&&(this.prefixField=o[0].substring(0,n-1)),r&&(this.suffixField=o[0].substr(1-r)),this.menuGenerator_=Blockly.FieldDropdown.applyTrim_(e,n,r))}}},Blockly.FieldDropdown.applyTrim_=function(e,o,t){for(var n=[],r=0;r<e.length;r++){var i=e[r][0],s=e[r][1];i=i.substring(o,i.length-t),n[r]=[i,s]}return n},Blockly.FieldDropdown.prototype.isOptionListDynamic=function(){return goog.isFunction(this.menuGenerator_)},Blockly.FieldDropdown.prototype.getOptions=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_},Blockly.FieldDropdown.prototype.getValue=function(){return this.value_},Blockly.FieldDropdown.prototype.setValue=function(e){if(null!==e&&e!==this.value_){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.value_,e)),this.value_=e;for(var o=this.getOptions(),t=0;t<o.length;t++)if(o[t][1]==e)return"object"==_typeof(e=o[t][0])?(this.imageJson_=e,this.text_=e.alt):(this.imageJson_=null,this.text_=e),void this.forceRerender();this.text_=e,this.forceRerender()}},Blockly.FieldDropdown.prototype.render_=function(){this.visible_?(this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.getColour()),goog.dom.removeChildren(this.textElement_),goog.dom.removeNode(this.imageElement_),this.imageElement_=null,this.imageJson_?this.renderSelectedImage_():this.renderSelectedText_(),this.borderRect_.setAttribute("height",this.size_.height-9),this.borderRect_.setAttribute("width",this.size_.width+Blockly.BlockSvg.SEP_SPACE_X)):this.size_.width=0},Blockly.FieldDropdown.prototype.renderSelectedImage_=function(){this.imageElement_=Blockly.utils.createSvgElement("image",{y:5,height:this.imageJson_.height+"px",width:this.imageJson_.width+"px"},this.fieldGroup_),this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.imageJson_.src),this.textElement_.appendChild(this.arrow_);var e=Blockly.Field.getCachedWidth(this.arrow_);this.size_.height=Number(this.imageJson_.height)+19,this.size_.width=Number(this.imageJson_.width)+e,this.sourceBlock_.RTL?(this.imageElement_.setAttribute("x",e),this.textElement_.setAttribute("x",-1)):(this.textElement_.setAttribute("text-anchor","end"),this.textElement_.setAttribute("x",this.size_.width+1))},Blockly.FieldDropdown.prototype.renderSelectedText_=function(){var e=document.createTextNode(this.getDisplayText_());this.textElement_.appendChild(e),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_),this.textElement_.setAttribute("text-anchor","start"),this.textElement_.setAttribute("x",0),this.size_.height=Blockly.BlockSvg.MIN_BLOCK_Y,this.size_.width=Blockly.Field.getCachedWidth(this.textElement_)},Blockly.FieldDropdown.prototype.updateWidth=function(){if(this.imageJson_&&(goog.userAgent.IE||goog.userAgent.EDGE)){var e=Blockly.Field.getCachedWidth(this.arrow_);e=Number(this.imageJson_.width)+e+Blockly.BlockSvg.SEP_SPACE_X,this.borderRect_&&this.borderRect_.setAttribute("width",e),this.size_.width=e}else Blockly.Field.prototype.updateWidth.call(this)},Blockly.FieldDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldDropdown.superClass_.dispose.call(this)},Blockly.Field.register("field_dropdown",Blockly.FieldDropdown),Blockly.FieldImage=function(e,o,t,n,r){this.sourceBlock_=null,this.height_=Number(t),this.width_=Number(o),this.size_=new goog.math.Size(this.width_,this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y),this.text_=n||"",this.setValue(e),"function"==typeof r&&(this.clickHandler_=r)},goog.inherits(Blockly.FieldImage,Blockly.Field),Blockly.FieldImage.fromJson=function(e){var o=Blockly.utils.replaceMessageReferences(e.src),t=Number(Blockly.utils.replaceMessageReferences(e.width)),n=Number(Blockly.utils.replaceMessageReferences(e.height));return e=Blockly.utils.replaceMessageReferences(e.alt),new Blockly.FieldImage(o,t,n,e)},Blockly.FieldImage.prototype.EDITABLE=!1,Blockly.FieldImage.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.utils.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.imageElement_=Blockly.utils.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px"},this.fieldGroup_),this.setValue(this.src_),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.setTooltip(this.sourceBlock_),Blockly.Tooltip.bindMouseEvents(this.imageElement_),this.maybeAddClickHandler_())},Blockly.FieldImage.prototype.dispose=function(){goog.dom.removeNode(this.fieldGroup_),this.imageElement_=this.fieldGroup_=null},Blockly.FieldImage.prototype.maybeAddClickHandler_=function(){this.clickHandler_&&(this.mouseDownWrapper_=Blockly.bindEventWithChecks_(this.fieldGroup_,"mousedown",this,this.onMouseDown_))},Blockly.FieldImage.prototype.setTooltip=function(e){this.imageElement_.tooltip=e},Blockly.FieldImage.prototype.getValue=function(){return this.src_},Blockly.FieldImage.prototype.setValue=function(e){null!==e&&(this.src_=e,this.imageElement_&&this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e||""))},Blockly.FieldImage.prototype.setText=function(e){null!==e&&(this.text_=e)},Blockly.FieldImage.prototype.render_=function(){},Blockly.FieldImage.prototype.forceRerender=function(){},Blockly.FieldImage.prototype.updateWidth=function(){},Blockly.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},Blockly.Field.register("field_image",Blockly.FieldImage),Blockly.FieldNumber=function(e,o,t,n,r){e=e&&!isNaN(e)?String(e):"0",Blockly.FieldNumber.superClass_.constructor.call(this,e,r),this.setConstraints(o,t,n)},goog.inherits(Blockly.FieldNumber,Blockly.FieldTextInput),Blockly.FieldNumber.fromJson=function(e){return new Blockly.FieldNumber(e.value,e.min,e.max,e.precision)},Blockly.FieldNumber.prototype.setConstraints=function(e,o,t){t=parseFloat(t),this.precision_=isNaN(t)?0:t,e=parseFloat(e),this.min_=isNaN(e)?-1/0:e,o=parseFloat(o),this.max_=isNaN(o)?1/0:o,this.setValue(this.callValidator(this.getValue()))},Blockly.FieldNumber.prototype.classValidator=function(e){return null===e?null:(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,""),e=parseFloat(e||0),isNaN(e)?null:(this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),e=goog.math.clamp(e,this.min_,this.max_),String(e)))},Blockly.Field.register("field_number",Blockly.FieldNumber),Blockly.FieldVariable=function(e,o,t,n){this.menuGenerator_=Blockly.FieldVariable.dropdownCreate,this.size_=new goog.math.Size(0,Blockly.BlockSvg.MIN_BLOCK_Y),this.setValidator(o),this.defaultVariableName=e||"",this.setTypes_(t,n),this.value_=null},goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown),Blockly.FieldVariable.fromJson=function(e){var o=Blockly.utils.replaceMessageReferences(e.variable);return new Blockly.FieldVariable(o,null,e.variableTypes,e.defaultType)},Blockly.FieldVariable.prototype.init=function(){this.fieldGroup_||(Blockly.FieldVariable.superClass_.init.call(this),this.initModel())},Blockly.FieldVariable.prototype.initModel=function(){if(!this.variable_){this.workspace_=this.sourceBlock_.workspace;var e=Blockly.Variables.getOrCreateVariablePackage(this.workspace_,null,this.defaultVariableName,this.defaultType_);Blockly.Events.disable();try{this.setValue(e.getId())}finally{Blockly.Events.enable()}}},Blockly.FieldVariable.prototype.dispose=function(){Blockly.FieldVariable.superClass_.dispose.call(this),this.variableMap_=this.workspace_=null},Blockly.FieldVariable.prototype.setSourceBlock=function(e){goog.asserts.assert(!e.isShadow(),"Variable fields are not allowed to exist on shadow blocks."),Blockly.FieldVariable.superClass_.setSourceBlock.call(this,e)},Blockly.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},Blockly.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},Blockly.FieldVariable.prototype.getVariable=function(){return this.variable_},Blockly.FieldVariable.prototype.setValue=function(e){var o=Blockly.Variables.getVariable(this.sourceBlock_.workspace,e);if(!o)throw Error("Variable id doesn't point to a real variable!  ID was "+e);var t=o.type;if(!this.typeIsAllowed_(t))throw Error("Variable type doesn't match this field!  Type was "+t);this.sourceBlock_&&Blockly.Events.isEnabled()&&(t=this.variable_?this.variable_.getId():null,Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,t,e))),this.variable_=o,this.value_=e,this.setText(o.name)},Blockly.FieldVariable.prototype.typeIsAllowed_=function(e){var o=this.getVariableTypes_();if(!o)return!0;for(var t=0;t<o.length;t++)if(e==o[t])return!0;return!1},Blockly.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},Blockly.FieldVariable.prototype.setTypes_=function(e,o){var t=o||"";if(null==e||null==e)var n=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");n=e;for(var r=!1,i=0;i<n.length;i++)n[i]==t&&(r=!0);if(!r)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}this.defaultType_=t,this.variableTypes=n},Blockly.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),o=null;this.sourceBlock_&&(o=this.sourceBlock_.workspace);var t=[];if(o)for(var n=this.getVariableTypes_(),r=0;r<n.length;r++){var i=o.getVariablesOfType(n[r]);t=t.concat(i)}for(t.sort(Blockly.VariableModel.compareByName),o=[],r=0;r<t.length;r++)o[r]=[t[r].name,t[r].getId()];return o.push([Blockly.Msg.RENAME_VARIABLE,Blockly.RENAME_VARIABLE_ID]),Blockly.Msg.DELETE_VARIABLE&&o.push([Blockly.Msg.DELETE_VARIABLE.replace("%1",e),Blockly.DELETE_VARIABLE_ID]),o},Blockly.FieldVariable.prototype.onItemSelected=function(e,o){var t=o.getValue();if(this.sourceBlock_&&this.sourceBlock_.workspace){var n=this.sourceBlock_.workspace;if(t==Blockly.RENAME_VARIABLE_ID)return void Blockly.Variables.renameVariable(n,this.variable_);if(t==Blockly.DELETE_VARIABLE_ID)return void n.deleteVariableById(this.variable_.getId())}this.setValue(t)},Blockly.Field.register("field_variable",Blockly.FieldVariable),Blockly.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},Blockly.Generator.NAME_TYPE="generated_function",Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null,Blockly.Generator.prototype.STATEMENT_PREFIX=null,Blockly.Generator.prototype.INDENT="  ",Blockly.Generator.prototype.COMMENT_WRAP=60,Blockly.Generator.prototype.ORDER_OVERRIDES=[],Blockly.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Blockly.getMainWorkspace());var o=[];this.init(e),e=e.getTopBlocks(!0);for(var t,n=0;t=e[n];n++){var r=this.blockToCode(t);goog.isArray(r)&&(r=r[0]),r&&(t.outputConnection&&(r=this.scrubNakedValue(r)),o.push(r))}return o=o.join("\n"),(o=(o=(o=this.finish(o)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},Blockly.Generator.prototype.prefixLines=function(e,o){return o+e.replace(/(?!\n$)\n/g,"\n"+o)},Blockly.Generator.prototype.allNestedComments=function(e){var o=[];e=e.getDescendants();for(var t=0;t<e.length;t++){var n=e[t].getCommentText();n&&o.push(n)}return o.length&&o.push(""),o.join("\n")},Blockly.Generator.prototype.blockToCode=function(e){if(!e)return"";if(e.disabled)return this.blockToCode(e.getNextBlock());var o=this[e.type];if(goog.asserts.assertFunction(o,'Language "%s" does not know how to generate code for block type "%s".',this.name_,e.type),o=o.call(e,e),goog.isArray(o))return goog.asserts.assert(e.outputConnection,'Expecting string from statement block "%s".',e.type),[this.scrub_(e,o[0]),o[1]];if(goog.isString(o)){var t=e.id.replace(/\$/g,"$$$$");return this.STATEMENT_PREFIX&&(o=this.STATEMENT_PREFIX.replace(/%1/g,"'"+t+"'")+o),this.scrub_(e,o)}if(null===o)return"";goog.asserts.fail("Invalid code generated: %s",o)},Blockly.Generator.prototype.valueToCode=function(e,o,t){isNaN(t)&&goog.asserts.fail('Expecting valid order from block "%s".',e.type);var n=e.getInputTargetBlock(o);if(!n)return"";if(""===(o=this.blockToCode(n)))return"";if(goog.asserts.assertArray(o,'Expecting tuple from value block "%s".',n.type),e=o[0],o=o[1],isNaN(o)&&goog.asserts.fail('Expecting valid order from value block "%s".',n.type),!e)return"";n=!1;var r=Math.floor(t),i=Math.floor(o);if(r<=i&&(r!=i||0!=r&&99!=r))for(n=!0,r=0;r<this.ORDER_OVERRIDES.length;r++)if(this.ORDER_OVERRIDES[r][0]==t&&this.ORDER_OVERRIDES[r][1]==o){n=!1;break}return n&&(e="("+e+")"),e},Blockly.Generator.prototype.statementToCode=function(e,o){var t=e.getInputTargetBlock(o),n=this.blockToCode(t);return goog.asserts.assertString(n,'Expecting code from statement block "%s".',t&&t.type),n&&(n=this.prefixLines(n,this.INDENT)),n},Blockly.Generator.prototype.addLoopTrap=function(e,o){return o=o.replace(/\$/g,"$$$$"),this.INFINITE_LOOP_TRAP&&(e=this.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+o+"'")+e),this.STATEMENT_PREFIX&&(e+=this.prefixLines(this.STATEMENT_PREFIX.replace(/%1/g,"'"+o+"'"),this.INDENT)),e},Blockly.Generator.prototype.RESERVED_WORDS_="",Blockly.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Blockly.Generator.prototype.provideFunction_=function(e,o){if(!this.definitions_[e]){var t,n=this.variableDB_.getDistinctName(e,Blockly.Procedures.NAME_TYPE);for(this.functionNames_[e]=n,n=o.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,n);t!=n;)n=(t=n).replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[e]=n}return this.functionNames_[e]},Blockly.Generator.prototype.init=function(e){},Blockly.Generator.prototype.scrub_=function(e,o){return o},Blockly.Generator.prototype.finish=function(e){return e},Blockly.Generator.prototype.scrubNakedValue=function(e){return e},Blockly.Names=function(e,o){if(this.variablePrefix_=o||"",this.reservedDict_=Object.create(null),e)for(var t=e.split(","),n=0;n<t.length;n++)this.reservedDict_[t[n]]=!0;this.reset()},Blockly.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",Blockly.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},Blockly.Names.prototype.setVariableMap=function(e){this.variableMap_=e},Blockly.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());"),null)},Blockly.Names.prototype.getName=function(e,o){if(o==Blockly.Variables.NAME_TYPE){var t=this.getNameForUserVariable_(e);t&&(e=t)}t=e.toLowerCase()+"_"+o;var n=o==Blockly.Variables.NAME_TYPE||o==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";if(t in this.db_)return n+this.db_[t];var r=this.getDistinctName(e,o);return this.db_[t]=r.substr(n.length),r},Blockly.Names.prototype.getDistinctName=function(e,o){for(var t=this.safeName_(e),n="";this.dbReverse_[t+n]||t+n in this.reservedDict_;)n=n?n+1:2;return t+=n,this.dbReverse_[t]=!0,(o==Blockly.Variables.NAME_TYPE||o==Blockly.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+t},Blockly.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e="unnamed",e},Blockly.Names.equals=function(e,o){return e.toLowerCase()==o.toLowerCase()},Blockly.Procedures={},Blockly.Procedures.NAME_TYPE=Blockly.PROCEDURE_CATEGORY_NAME,Blockly.Procedures.allProcedures=function(e){e=e.getAllBlocks();for(var o=[],t=[],n=0;n<e.length;n++)if(e[n].getProcedureDef){var r=e[n].getProcedureDef();r&&(r[2]?o.push(r):t.push(r))}return t.sort(Blockly.Procedures.procTupleComparator_),o.sort(Blockly.Procedures.procTupleComparator_),[t,o]},Blockly.Procedures.procTupleComparator_=function(e,o){return e[0].toLowerCase().localeCompare(o[0].toLowerCase())},Blockly.Procedures.findLegalName=function(e,o){if(o.isInFlyout)return e;for(;!Blockly.Procedures.isLegalName_(e,o.workspace,o);){var t=e.match(/^(.*?)(\d+)$/);e=t?t[1]+(parseInt(t[2],10)+1):e+"2"}return e},Blockly.Procedures.isLegalName_=function(e,o,t){return!Blockly.Procedures.isNameUsed(e,o,t)},Blockly.Procedures.isNameUsed=function(e,o,t){o=o.getAllBlocks();for(var n=0;n<o.length;n++)if(o[n]!=t&&o[n].getProcedureDef){var r=o[n].getProcedureDef();if(Blockly.Names.equals(r[0],e))return!0}return!1},Blockly.Procedures.rename=function(e){e=e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"");var o=Blockly.Procedures.findLegalName(e,this.sourceBlock_),t=this.text_;if(t!=e&&t!=o){e=this.sourceBlock_.workspace.getAllBlocks();for(var n=0;n<e.length;n++)e[n].renameProcedure&&e[n].renameProcedure(t,o)}return o},Blockly.Procedures.flyoutCategory=function(e){function o(e,o){for(var t=0;t<e.length;t++){var n=e[t][0],r=e[t][1],i=goog.dom.createDom("block");i.setAttribute("type",o),i.setAttribute("gap",16);var s=goog.dom.createDom("mutation");for(s.setAttribute("name",n),i.appendChild(s),n=0;n<r.length;n++){var l=goog.dom.createDom("arg");l.setAttribute("name",r[n]),s.appendChild(l)}g.push(i)}}var g=[];if(Blockly.Blocks.procedures_defnoreturn){var t=goog.dom.createDom("block");t.setAttribute("type","procedures_defnoreturn"),t.setAttribute("gap",16);var n=goog.dom.createDom("field",null,Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE);n.setAttribute("name","NAME"),t.appendChild(n),g.push(t)}return Blockly.Blocks.procedures_defreturn&&((t=goog.dom.createDom("block")).setAttribute("type","procedures_defreturn"),t.setAttribute("gap",16),(n=goog.dom.createDom("field",null,Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)).setAttribute("name","NAME"),t.appendChild(n),g.push(t)),Blockly.Blocks.procedures_ifreturn&&((t=goog.dom.createDom("block")).setAttribute("type","procedures_ifreturn"),t.setAttribute("gap",16),g.push(t)),g.length&&g[g.length-1].setAttribute("gap",24),o((e=Blockly.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),o(e[1],"procedures_callreturn"),g},Blockly.Procedures.getCallers=function(e,o){for(var t=[],n=o.getAllBlocks(),r=0;r<n.length;r++)if(n[r].getProcedureCall){var i=n[r].getProcedureCall();i&&Blockly.Names.equals(i,e)&&t.push(n[r])}return t},Blockly.Procedures.mutateCallers=function(e){var o,t=Blockly.Events.recordUndo,n=e.getProcedureDef()[0],r=e.mutationToDom(!0);for(e=Blockly.Procedures.getCallers(n,e.workspace),n=0;o=e[n];n++){var i=o.mutationToDom();i=i&&Blockly.Xml.domToText(i),o.domToMutation(r);var s=o.mutationToDom();i!=(s=s&&Blockly.Xml.domToText(s))&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.BlockChange(o,"mutation",null,i,s)),Blockly.Events.recordUndo=t)}},Blockly.Procedures.getDefinition=function(e,o){for(var t=o.getTopBlocks(!1),n=0;n<t.length;n++)if(t[n].getProcedureDef){var r=t[n].getProcedureDef();if(r&&Blockly.Names.equals(r[0],e))return t[n]}return null},Blockly.FlyoutButton=function(e,o,t,n){this.workspace_=e,this.targetWorkspace_=o,this.text_=t.getAttribute("text"),this.position_=new goog.math.Coordinate(0,0),this.isLabel_=n,this.callback_=null,e=t.getAttribute("callbackKey"),this.isLabel_&&e?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||e&&o.getButtonCallback(e)?this.callback_=o.getButtonCallback(e):console.warn("Buttons should have callbacks. Button text: "+this.text_),this.cssClass_=t.getAttribute("web-class")||null},Blockly.FlyoutButton.MARGIN=5,Blockly.FlyoutButton.prototype.width=0,Blockly.FlyoutButton.prototype.height=0,Blockly.FlyoutButton.prototype.onMouseUpWrapper_=null,Blockly.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=Blockly.utils.createSvgElement("g",{class:e},this.workspace_.getCanvas()),!this.isLabel_)var o=Blockly.utils.createSvgElement("rect",{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=Blockly.utils.createSvgElement("rect",{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var t=Blockly.utils.createSvgElement("text",{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_);return t.textContent=this.text_,this.width=Blockly.Field.getCachedWidth(t),this.height=20,this.isLabel_||(this.width+=2*Blockly.FlyoutButton.MARGIN,o.setAttribute("width",this.width),o.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),t.setAttribute("x",this.width/2),t.setAttribute("y",this.height-Blockly.FlyoutButton.MARGIN),this.updateTransform_(),this.mouseUpWrapper_=Blockly.bindEventWithChecks_(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},Blockly.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},Blockly.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},Blockly.FlyoutButton.prototype.moveTo=function(e,o){this.position_.x=e,this.position_.y=o,this.updateTransform_()},Blockly.FlyoutButton.prototype.getPosition=function(){return this.position_},Blockly.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},Blockly.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&Blockly.unbindEvent_(this.onMouseUpWrapper_),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.workspace_=null},Blockly.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.callback_&&this.callback_(this)},Blockly.Flyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Blockly.WorkspaceSvg(e),this.workspace_.isFlyout=!0,this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[]},Blockly.Flyout.prototype.autoClose=!0,Blockly.Flyout.prototype.isVisible_=!1,Blockly.Flyout.prototype.containerVisible_=!0,Blockly.Flyout.prototype.CORNER_RADIUS=8,Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS,Blockly.Flyout.prototype.GAP_X=3*Blockly.Flyout.prototype.MARGIN,Blockly.Flyout.prototype.GAP_Y=3*Blockly.Flyout.prototype.MARGIN,Blockly.Flyout.prototype.SCROLLBAR_PADDING=2,Blockly.Flyout.prototype.width_=0,Blockly.Flyout.prototype.height_=0,Blockly.Flyout.prototype.dragAngleRange_=70,Blockly.Flyout.prototype.createDom=function(e){return this.svgGroup_=Blockly.utils.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=Blockly.utils.createSvgElement("path",{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.svgGroup_},Blockly.Flyout.prototype.init=function(e){this.targetWorkspace_=e,this.workspace_.targetWorkspace=e,this.scrollbar_=new Blockly.Scrollbar(this.workspace_,this.horizontalLayout_,!1,"blocklyFlyoutScrollbar"),this.hide(),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEventWithChecks_(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace_.getGesture.bind(this.targetWorkspace_),this.workspace_.variableMap_=this.targetWorkspace_.getVariableMap(),this.workspace_.createPotentialVariableMap()},Blockly.Flyout.prototype.dispose=function(){this.hide(),Blockly.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},Blockly.Flyout.prototype.getWidth=function(){return this.width_},Blockly.Flyout.prototype.getHeight=function(){return this.height_},Blockly.Flyout.prototype.getWorkspace=function(){return this.workspace_},Blockly.Flyout.prototype.isVisible=function(){return this.isVisible_},Blockly.Flyout.prototype.setVisible=function(e){var o=e!=this.isVisible();this.isVisible_=e,o&&this.updateDisplay_()},Blockly.Flyout.prototype.setContainerVisible=function(e){var o=e!=this.containerVisible_;this.containerVisible_=e,o&&this.updateDisplay_()},Blockly.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.scrollbar_.setContainerVisible(e)},Blockly.Flyout.prototype.positionAt_=function(e,o,t,n){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",o),Blockly.utils.setCssTransform(this.svgGroup_,"translate("+t+"px,"+n+"px)"),this.scrollbar_&&(this.scrollbar_.setOrigin(t,n),this.scrollbar_.resize())},Blockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var e,o=0;e=this.listeners_[o];o++)Blockly.unbindEvent_(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},Blockly.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e),goog.asserts.assert(goog.isFunction(e),"Couldn't find a callback function when opening a toolbox category."),e=e(this.workspace_.targetWorkspace),goog.asserts.assert(goog.isArray(e),"The result of a toolbox category callback must be an array.")),this.setVisible(!0);for(var o,t=[],n=[],r=this.permanentlyDisabled_.length=0;o=e[r];r++)if(o.tagName){var i=o.tagName.toUpperCase(),s=this.horizontalLayout_?this.GAP_X:this.GAP_Y;"BLOCK"==i?((i=Blockly.Xml.domToBlock(o,this.workspace_)).disabled&&this.permanentlyDisabled_.push(i),t.push({type:"block",block:i}),o=parseInt(o.getAttribute("gap"),10),n.push(isNaN(o)?s:o)):"SEP"==o.tagName.toUpperCase()?(o=parseInt(o.getAttribute("gap"),10),!isNaN(o)&&0<n.length?n[n.length-1]=o:n.push(s)):"BUTTON"!=i&&"LABEL"!=i||(o=new Blockly.FlyoutButton(this.workspace_,this.targetWorkspace_,o,"LABEL"==i),t.push({type:"button",button:o}),n.push(s))}this.layout_(t,n),this.listeners_.push(Blockly.bindEventWithChecks_(this.svgBackground_,"mouseover",this,function(){for(var e,o=this.workspace_.getTopBlocks(!1),t=0;e=o[t];t++)e.removeSelect()})),this.horizontalLayout_?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var e,o=this.workspace_.getTopBlocks(!1),t=0;e=o[t];t++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(t=0;t<this.mats_.length;t++)(o=this.mats_[t])&&goog.dom.removeNode(o);for(t=this.mats_.length=0;o=this.buttons_[t];t++)o.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},Blockly.Flyout.prototype.addBlockListeners_=function(e,o,t){this.listeners_.push(Blockly.bindEventWithChecks_(e,"mousedown",null,this.blockMouseDown_(o))),this.listeners_.push(Blockly.bindEventWithChecks_(t,"mousedown",null,this.blockMouseDown_(o))),this.listeners_.push(Blockly.bindEvent_(e,"mouseover",o,o.addSelect)),this.listeners_.push(Blockly.bindEvent_(e,"mouseout",o,o.removeSelect)),this.listeners_.push(Blockly.bindEvent_(t,"mouseover",o,o.addSelect)),this.listeners_.push(Blockly.bindEvent_(t,"mouseout",o,o.removeSelect))},Blockly.Flyout.prototype.blockMouseDown_=function(t){var n=this;return function(e){var o=n.targetWorkspace_.getGesture(e);o&&(o.setStartBlock(t),o.handleFlyoutStart(e,n))}},Blockly.Flyout.prototype.onMouseDown_=function(e){var o=this.targetWorkspace_.getGesture(e);o&&o.handleFlyoutStart(e,this)},Blockly.Flyout.prototype.createBlock=function(e){var o=null;Blockly.Events.disable();var t=this.targetWorkspace_.getAllVariables();this.targetWorkspace_.setResizesEnabled(!1);try{o=this.placeNewBlock_(e),Blockly.hideChaff()}finally{Blockly.Events.enable()}if(e=Blockly.Variables.getAddedVariables(this.targetWorkspace_,t),Blockly.Events.isEnabled())for(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(o)),t=0;t<e.length;t++)Blockly.Events.fire(new Blockly.Events.VarCreate(e[t]));return this.autoClose?this.hide():this.filterForCapacity_(),o},Blockly.Flyout.prototype.initFlyoutButton_=function(e,o,t){var n=e.createDom();e.moveTo(o,t),e.show(),this.listeners_.push(Blockly.bindEventWithChecks_(n,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},Blockly.Flyout.prototype.createRect_=function(e,o,t,n,r){return(o=Blockly.utils.createSvgElement("rect",{"fill-opacity":0,x:o,y:t,height:n.height,width:n.width},null)).tooltip=e,Blockly.Tooltip.bindMouseEvents(o),this.workspace_.getCanvas().insertBefore(o,e.getSvgRoot()),e.flyoutRect_=o,this.mats_[r]=o},Blockly.Flyout.prototype.moveRectToBlock_=function(e,o){var t=o.getHeightWidth();e.setAttribute("width",t.width),e.setAttribute("height",t.height);var n=o.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0;n&&o.moveBy(0,n),n=o.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0;var r=o.getRelativeToSurfaceXY();e.setAttribute("y",r.y),e.setAttribute("x",this.RTL?r.x-t.width+n:r.x-n)},Blockly.Flyout.prototype.filterForCapacity_=function(){for(var e,o=this.targetWorkspace_.remainingCapacity(),t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)if(-1==this.permanentlyDisabled_.indexOf(e)){var r=e.getDescendants();e.setDisabled(r.length>o)}},Blockly.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},Blockly.Flyout.prototype.isScrollable=function(){return!!this.scrollbar_&&this.scrollbar_.isVisible()},Blockly.Flyout.prototype.placeNewBlock_=function(e){var o=this.targetWorkspace_;if(!e.getSvgRoot())throw"oldBlock is not rendered.";var t=Blockly.Xml.blockToDom(e);if(o.setResizesEnabled(!1),!(t=Blockly.Xml.domToBlock(t,o)).getSvgRoot())throw"block is not rendered.";var n=o.getOriginOffsetInPixels(),r=this.workspace_.getOriginOffsetInPixels();return e=e.getRelativeToSurfaceXY().scale(this.workspace_.scale),e=goog.math.Coordinate.sum(r,e),o=goog.math.Coordinate.difference(e,n).scale(1/o.scale),t.moveBy(o.x,o.y),t},Blockly.HorizontalFlyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),Blockly.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout_=!0},goog.inherits(Blockly.HorizontalFlyout,Blockly.Flyout),Blockly.HorizontalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var o=this.workspace_.getCanvas().getBBox()}catch(e){o={height:0,y:0,width:0,x:0}}var e=this.SCROLLBAR_PADDING,t=this.SCROLLBAR_PADDING;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(e=0);var n=this.height_;return this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&&(n-=this.SCROLLBAR_PADDING),{viewHeight:n,viewWidth:this.width_-2*this.SCROLLBAR_PADDING,contentHeight:(o.height+2*this.MARGIN)*this.workspace_.scale,contentWidth:(o.width+2*this.MARGIN)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,viewLeft:-this.workspace_.scrollX,contentTop:o.y,contentLeft:o.x,absoluteTop:e,absoluteLeft:t}},Blockly.HorizontalFlyout.prototype.setMetrics_=function(e){var o=this.getMetrics_();o&&(goog.isNumber(e.x)&&(this.workspace_.scrollX=-o.contentWidth*e.x),this.workspace_.translate(this.workspace_.scrollX+o.absoluteLeft,this.workspace_.scrollY+o.absoluteTop))},Blockly.HorizontalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();if(e){this.width_=e.viewWidth,this.setBackgroundPath_(e.viewWidth-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS);var o=e.absoluteLeft,t=e.absoluteTop;this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&&(t+=e.viewHeight-this.height_),this.positionAt_(this.width_,this.height_,o,t)}}},Blockly.HorizontalFlyout.prototype.setBackgroundPath_=function(e,o){var t=this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,n=["M 0,"+(t?0:this.CORNER_RADIUS)];t?(n.push("h",e+2*this.CORNER_RADIUS),n.push("v",o),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",-1*e),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),n.push("h",e),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("v",o),n.push("h",-e-2*this.CORNER_RADIUS)),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" "))},Blockly.HorizontalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(this.RTL?1/0:0)},Blockly.HorizontalFlyout.prototype.wheel_=function(e){var o=e.deltaX;if(o){goog.userAgent.GECKO&&1===e.deltaMode&&(o*=10);var t=this.getMetrics_();o=t.viewLeft+o,o=Math.min(o,t.contentWidth-t.viewWidth),o=Math.max(o,0),this.scrollbar_.set(o),Blockly.WidgetDiv.hide()}e.preventDefault(),e.stopPropagation()},Blockly.HorizontalFlyout.prototype.layout_=function(e,o){this.workspace_.scale=this.targetWorkspace_.scale;var t=this.MARGIN,n=this.RTL?t:t+Blockly.BlockSvg.TAB_WIDTH;this.RTL&&(e=e.reverse());for(var r,i=0;r=e[i];i++)if("block"==r.type){for(var s,l=(r=r.block).getDescendants(),g=0;s=l[g];g++)s.isInFlyout=!0;r.render(),l=r.getSvgRoot(),g=r.getHeightWidth(),s=r.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,s=this.RTL?n+g.width:n+s,r.moveBy(s,t),s=this.createRect_(r,s,t,g,i),n+=g.width+o[i],this.addBlockListeners_(l,r,s)}else"button"==r.type&&(this.initFlyoutButton_(r.button,n,t),n+=r.button.width+o[i])},Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var o=this.dragAngleRange_;return e<90+o&&90-o<e||-90-o<e&&e<-90+o},Blockly.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),o=e.top;return e=e.height,this.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1e9,o-1e9,2e9,1e9+e):this.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM?new goog.math.Rect(-1e9,o,2e9,1e9+e):void 0},Blockly.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,o=0,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)o=Math.max(o,e.getHeightWidth().height);if(o+=1.5*this.MARGIN,o*=this.workspace_.scale,o+=Blockly.Scrollbar.scrollbarThickness,this.height_!=o){for(n=0;e=t[n];n++)e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);this.height_=o,this.targetWorkspace_.resize()}},Blockly.VerticalFlyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),Blockly.VerticalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout_=!1},goog.inherits(Blockly.VerticalFlyout,Blockly.Flyout),Blockly.VerticalFlyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;try{var o=this.workspace_.getCanvas().getBBox()}catch(e){o={height:0,y:0,width:0,x:0}}var e=this.SCROLLBAR_PADDING,t=this.height_-2*this.SCROLLBAR_PADDING,n=this.width_;return this.RTL||(n-=this.SCROLLBAR_PADDING),{viewHeight:t,viewWidth:n,contentHeight:o.height*this.workspace_.scale+2*this.MARGIN,contentWidth:o.width*this.workspace_.scale+2*this.MARGIN,viewTop:-this.workspace_.scrollY+o.y,viewLeft:-this.workspace_.scrollX,contentTop:o.y,contentLeft:o.x,absoluteTop:e,absoluteLeft:0}},Blockly.VerticalFlyout.prototype.setMetrics_=function(e){var o=this.getMetrics_();o&&(goog.isNumber(e.y)&&(this.workspace_.scrollY=-o.contentHeight*e.y),this.workspace_.translate(this.workspace_.scrollX+o.absoluteLeft,this.workspace_.scrollY+o.absoluteTop))},Blockly.VerticalFlyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();if(e){this.height_=e.viewHeight,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.viewHeight-2*this.CORNER_RADIUS);var o=e.absoluteTop,t=e.absoluteLeft;this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT&&(this.leftEdge_=t+=e.viewWidth-this.width_),this.positionAt_(this.width_,this.height_,t,o)}}},Blockly.VerticalFlyout.prototype.setBackgroundPath_=function(e,o){var t=this.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,n=e+this.CORNER_RADIUS;(n=["M "+(t?n:0)+",0"]).push("h",t?-e:e),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,t?0:1,t?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("v",Math.max(0,o)),n.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,t?0:1,t?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),n.push("h",t?e:-e),n.push("z"),this.svgBackground_.setAttribute("d",n.join(" "))},Blockly.VerticalFlyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)},Blockly.VerticalFlyout.prototype.wheel_=function(e){var o=e.deltaY;if(o){goog.userAgent.GECKO&&(o*=10);var t=this.getMetrics_();o=t.viewTop-t.contentTop+o,o=Math.min(o,t.contentHeight-t.viewHeight),o=Math.max(o,0),this.scrollbar_.set(o),Blockly.WidgetDiv.hide()}e.preventDefault(),e.stopPropagation()},Blockly.VerticalFlyout.prototype.layout_=function(e,o){this.workspace_.scale=this.targetWorkspace_.scale;for(var t,n=this.MARGIN,r=this.RTL?n:n+Blockly.BlockSvg.TAB_WIDTH,i=0;t=e[i];i++)if("block"==t.type){for(var s,l=(t=t.block).getDescendants(),g=0;s=l[g];g++)s.isInFlyout=!0;t.render(),l=t.getSvgRoot(),g=t.getHeightWidth(),t.moveBy(r,n),s=this.createRect_(t,this.RTL?r-g.width:r,n,g,i),this.addBlockListeners_(l,t,s),n+=g.height+o[i]}else"button"==t.type&&(this.initFlyoutButton_(t.button,r,n),n+=t.button.height+o[i])},Blockly.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var o=this.dragAngleRange_;return e<o&&-o<e||e<-180+o||180-o<e},Blockly.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),o=e.left;if(e=e.width,this.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT)return new goog.math.Rect(o-1e9,-1e9,1e9+e,2e9);if(goog.userAgent.GECKO&&this.targetWorkspace_&&this.targetWorkspace_.isMutator){var t=this.targetWorkspace_.svgGroup_.getBoundingClientRect().x;Math.abs(t-o)<10&&(o+=this.leftEdge_*this.targetWorkspace_.options.parentWorkspace.scale)}return new goog.math.Rect(o,-1e9,1e9+e,2e9)},Blockly.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,o=0,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++){var r=e.getHeightWidth().width;e.outputConnection&&(r-=Blockly.BlockSvg.TAB_WIDTH),o=Math.max(o,r)}for(n=0;e=this.buttons_[n];n++)o=Math.max(o,e.width);if(o+=1.5*this.MARGIN+Blockly.BlockSvg.TAB_WIDTH,o*=this.workspace_.scale,o+=Blockly.Scrollbar.scrollbarThickness,this.width_!=o){for(n=0;e=t[n];n++)this.RTL&&(r=e.getRelativeToSurfaceXY().x,e.moveBy(o/this.workspace_.scale-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH-r,0)),e.flyoutRect_&&this.moveRectToBlock_(e.flyoutRect_,e);if(this.RTL)for(n=0;e=this.buttons_[n];n++)t=e.getPosition().y,e.moveTo(o/this.workspace_.scale-e.width-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH,t);this.width_=o,this.targetWorkspace_.resize()}},Blockly.Toolbox=function(e){this.workspace_=e,this.RTL=e.options.RTL,this.horizontalLayout_=e.options.horizontalLayout,this.toolboxPosition=e.options.toolboxPosition,this.config_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},this.treeSeparatorConfig_={cssTreeRow:"blocklyTreeSeparator"},this.horizontalLayout_&&(this.config_.cssTreeRow+=e.RTL?" blocklyHorizontalTreeRtl":" blocklyHorizontalTree",this.treeSeparatorConfig_.cssTreeRow="blocklyTreeSeparatorHorizontal "+(e.RTL?"blocklyHorizontalTreeRtl":"blocklyHorizontalTree"),this.config_.cssTreeIcon="")},Blockly.Toolbox.prototype.width=0,Blockly.Toolbox.prototype.height=0,Blockly.Toolbox.prototype.selectedOption_=null,Blockly.Toolbox.prototype.lastCategory_=null,Blockly.Toolbox.prototype.init=function(){var e=this.workspace_,o=this.workspace_.getParentSvg();this.HtmlDiv=goog.dom.createDom("DIV","blocklyToolboxDiv"),this.HtmlDiv.setAttribute("dir",e.RTL?"RTL":"LTR"),o.parentNode.insertBefore(this.HtmlDiv,o),Blockly.bindEventWithChecks_(this.HtmlDiv,"mousedown",this,function(e){Blockly.utils.isRightButton(e)||e.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0),Blockly.Touch.clearTouchIdentifier()},!1,!0),o={disabledPatternId:e.options.disabledPatternId,parentWorkspace:e,RTL:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,toolboxPosition:e.options.toolboxPosition},this.flyout_=null,this.flyout_=e.horizontalLayout?new Blockly.HorizontalFlyout(o):new Blockly.VerticalFlyout(o),goog.dom.insertSiblingAfter(this.flyout_.createDom("svg"),this.workspace_.getParentSvg()),this.flyout_.init(e),this.config_.cleardotPath=e.options.pathToMedia+"1x1.gif",this.config_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(e.RTL?"Rtl":"Ltr"),this.tree_=o=new Blockly.Toolbox.TreeControl(this,this.config_),o.setShowRootNode(!1),o.setShowLines(!1),o.setShowExpandIcons(!1),o.setSelectedItem(null),e=this.populate_(e.options.languageTree),o.render(this.HtmlDiv),e&&o.setSelectedItem(e),this.addColour_(),this.position()},Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),goog.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},Blockly.Toolbox.prototype.getWidth=function(){return this.width},Blockly.Toolbox.prototype.getHeight=function(){return this.height},Blockly.Toolbox.prototype.position=function(){var e=this.HtmlDiv;if(e){var o=this.workspace_.getParentSvg();o=Blockly.svgSize(o),this.horizontalLayout_?(e.style.left="0",e.style.height="auto",e.style.width=o.width+"px",this.height=e.offsetHeight,this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?e.style.top="0":e.style.bottom="0"):(this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?e.style.right="0":e.style.left="0",e.style.height=o.height+"px",this.width=e.offsetWidth),this.flyout_.position()}},Blockly.Toolbox.prototype.populate_=function(e){if(this.tree_.removeChildren(),this.tree_.blocks=[],this.hasColours_=!1,e=this.syncTrees_(e,this.tree_,this.workspace_.options.pathToMedia),this.tree_.blocks.length)throw"Toolbox cannot have both blocks and categories in the root level.";return this.workspace_.resizeContents(),e},Blockly.Toolbox.prototype.syncTrees_=function(e,o,t){for(var n,r=null,i=null,s=0;n=e.childNodes[s];s++)if(n.tagName)switch(n.tagName.toUpperCase()){case"CATEGORY":i=Blockly.utils.replaceMessageReferences(n.getAttribute("name")),(i=this.tree_.createNode(i)).blocks=[],o.add(i);var l=n.getAttribute("custom");l?i.blocks=l:(l=this.syncTrees_(n,i,t))&&(r=l),l=Blockly.utils.replaceMessageReferences(n.getAttribute("colour")),goog.isString(l)?(/^#[0-9a-fA-F]{6}$/.test(l)?i.hexColour=l:i.hexColour=Blockly.hueToRgb(Number(l)),this.hasColours_=!0):i.hexColour="","true"==n.getAttribute("expanded")?(i.blocks.length&&(r=i),i.setExpanded(!0)):i.setExpanded(!1),i=n;break;case"SEP":i&&("CATEGORY"==i.tagName.toUpperCase()?o.add(new Blockly.Toolbox.TreeSeparator(this.treeSeparatorConfig_)):(n=parseFloat(n.getAttribute("gap")),!isNaN(n)&&i&&i.setAttribute("gap",n)));break;case"BLOCK":case"SHADOW":case"LABEL":case"BUTTON":o.blocks.push(n),i=n}return r},Blockly.Toolbox.prototype.addColour_=function(e){e=(e||this.tree_).getChildren();for(var o,t=0;o=e[t];t++){var n=o.getRowElement();if(n){var r=this.hasColours_?"8px solid "+(o.hexColour||"#ddd"):"none";this.workspace_.RTL?n.style.borderRight=r:n.style.borderLeft=r}this.addColour_(o)}},Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},Blockly.Toolbox.prototype.addStyle=function(e){Blockly.utils.addClass(this.HtmlDiv,e)},Blockly.Toolbox.prototype.removeStyle=function(e){Blockly.utils.removeClass(this.HtmlDiv,e)},Blockly.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv)return null;var e=this.HtmlDiv.getBoundingClientRect(),o=e.left,t=e.top,n=e.width;return e=e.height,this.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?new goog.math.Rect(-1e7,-1e7,1e7+o+n,2e7):this.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?new goog.math.Rect(o,-1e7,1e7+n,2e7):this.toolboxPosition==Blockly.TOOLBOX_AT_TOP?new goog.math.Rect(-1e7,-1e7,2e7,1e7+t+e):new goog.math.Rect(0,t,2e7,1e7+n)},Blockly.Toolbox.prototype.refreshSelection=function(){var e=this.tree_.getSelectedItem();e&&e.blocks&&this.flyout_.show(e.blocks)},Blockly.Toolbox.TreeControl=function(e,o){this.toolbox_=e,goog.ui.tree.TreeControl.call(this,goog.html.SafeHtml.EMPTY,o)},goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl),Blockly.Toolbox.TreeControl.prototype.enterDocument=function(){if(Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this),goog.events.BrowserFeature.TOUCH_ENABLED){var e=this.getElement();Blockly.bindEventWithChecks_(e,goog.events.EventType.TOUCHEND,this,this.handleTouchEvent_)}},Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(e){var o=this.getNodeFromEvent_(e);o&&e.type===goog.events.EventType.TOUCHEND&&setTimeout(function(){o.onClick_(e)},1)},Blockly.Toolbox.TreeControl.prototype.createNode=function(e){return e=e?goog.html.SafeHtml.htmlEscape(e):goog.html.SafeHtml.EMPTY,new Blockly.Toolbox.TreeNode(this.toolbox_,e,this.getConfig(),this.getDomHelper())},Blockly.Toolbox.TreeControl.prototype.setSelectedItem=function(e){var o=this.toolbox_;if(e!=this.selectedItem_&&e!=o.tree_){if(o.lastCategory_&&(o.lastCategory_.getRowElement().style.backgroundColor=""),e){var t=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=t,o.addColour_(e)}t=this.getSelectedItem(),goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,e),e&&e.blocks&&e.blocks.length?(o.flyout_.show(e.blocks),o.lastCategory_!=e&&o.flyout_.scrollToStart()):o.flyout_.hide(),t!=e&&t!=this&&((t=new Blockly.Events.Ui(null,"category",t&&t.getHtml(),e&&e.getHtml())).workspaceId=o.workspace_.id,Blockly.Events.fire(t)),e&&(o.lastCategory_=e)}},Blockly.Toolbox.TreeNode=function(e,o,t,n){goog.ui.tree.TreeNode.call(this,o,t,n),e&&(o=function(){Blockly.svgResize(e.workspace_)},goog.events.listen(e.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,o),goog.events.listen(e.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,o))},goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode),Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")},Blockly.Toolbox.TreeNode.prototype.onClick_=function(e){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(e){},Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(e){},Blockly.Toolbox.TreeNode.prototype.onKeyDown=function(e){if(this.tree.toolbox_.horizontalLayout_){var o={},t=goog.events.KeyCodes.DOWN,n=goog.events.KeyCodes.UP;o[goog.events.KeyCodes.RIGHT]=this.rightToLeft_?n:t,o[goog.events.KeyCodes.LEFT]=this.rightToLeft_?t:n,o[goog.events.KeyCodes.UP]=goog.events.KeyCodes.LEFT,o[goog.events.KeyCodes.DOWN]=goog.events.KeyCodes.RIGHT,e.keyCode=o[e.keyCode]||e.keyCode}return Blockly.Toolbox.TreeNode.superClass_.onKeyDown.call(this,e)},Blockly.Toolbox.TreeSeparator=function(e){Blockly.Toolbox.TreeNode.call(this,null,goog.html.SafeHtml.EMPTY,e)},goog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode),Blockly.Css={},Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed",DELETE:"handdelete"},Blockly.Css.currentCursor_="",Blockly.Css.styleSheet_=null,Blockly.Css.mediaPath_="",Blockly.Css.inject=function(e,o){if(!Blockly.Css.styleSheet_){var t=".blocklyDraggable {}\n";e&&(t+=Blockly.Css.CONTENT.join("\n"),Blockly.FieldDate&&(t+=Blockly.FieldDate.CSS.join("\n"))),Blockly.Css.mediaPath_=o.replace(/[\\\/]$/,""),t=t.replace(/<<<PATH>>>/g,Blockly.Css.mediaPath_);var n=document.createElement("style");document.head.insertBefore(n,document.head.firstChild),t=document.createTextNode(t),n.appendChild(t),Blockly.Css.styleSheet_=n.sheet}},Blockly.Css.setCursor=function(e){console.warn("Deprecated call to Blockly.Css.setCursor.See https://github.com/google/blockly/issues/981 for context")},Blockly.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #888;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyFlyoutButton {","fill: #888;","cursor: default;","}",".blocklyFlyoutButtonShadow {","fill: #666;","}",".blocklyFlyoutButton:hover {","fill: #aaa;","}",".blocklyFlyoutLabel {","cursor: default;","}",".blocklyFlyoutLabelBackground {","opacity: 0;","}",".blocklyFlyoutLabelText {","fill: #000;","}",".blocklySvg text, .blocklyBlockDragSurface text {","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentTextarea {","background-color: #ffc;","border: 0;","outline: 0;","margin: 0;","padding: 2px;","resize: none;","display: block;","overflow: hidden;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyTransparentBackground {","opacity: 0;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal, .blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","max-height: 300px !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","user-select: none;","-moz-user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",".blocklyHorizontalTree {","float: left;","margin: 1px 5px 8px 0;","}",".blocklyHorizontalTreeRtl {","float: right;","margin: 1px 0 8px 5px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0;","margin: 5px 0;","}",".blocklyTreeSeparatorHorizontal {","border-right: solid #e5e5e5 1px;","width: 0;","padding: 5px 0;","margin: 0 5px;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0 -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0 -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyWidgetDiv .goog-palette {","outline: none;","cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","border: 1px solid #666;","border-collapse: collapse;","}",".blocklyWidgetDiv .goog-palette-cell {","height: 13px;","width: 15px;","margin: 0;","border: 0;","text-align: center;","vertical-align: middle;","border-right: 1px solid #666;","font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","position: relative;","height: 13px;","width: 15px;","border: 1px solid #666;","}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {","border: 1px solid #000;","color: #fff;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""],Blockly.WidgetDiv={},Blockly.WidgetDiv.DIV=null,Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=goog.dom.createDom("DIV","blocklyWidgetDiv"),document.body.appendChild(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.show=function(e,o,t){Blockly.WidgetDiv.hide(),Blockly.WidgetDiv.owner_=e,Blockly.WidgetDiv.dispose_=t,e=goog.style.getViewportPageOffset(document),Blockly.WidgetDiv.DIV.style.top=e.y+"px",Blockly.WidgetDiv.DIV.style.direction=o?"rtl":"ltr",Blockly.WidgetDiv.DIV.style.display="block"},Blockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.DIV.style.left="",Blockly.WidgetDiv.DIV.style.top="",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=null,goog.dom.removeChildren(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_},Blockly.WidgetDiv.hideIfOwner=function(e){Blockly.WidgetDiv.owner_==e&&Blockly.WidgetDiv.hide()},Blockly.WidgetDiv.position=function(e,o,t,n,r){o<n.y&&(o=n.y),r?e>t.width+n.x&&(e=t.width+n.x):e<n.x&&(e=n.x),Blockly.WidgetDiv.positionInternal_(e,o,t.height)},Blockly.WidgetDiv.positionInternal_=function(e,o,t){Blockly.WidgetDiv.DIV.style.left=e+"px",Blockly.WidgetDiv.DIV.style.top=o+"px",Blockly.WidgetDiv.DIV.style.height=t+"px"},Blockly.WidgetDiv.positionWithAnchor=function(e,o,t,n){var r=Blockly.WidgetDiv.calculateY_(e,o,t);e=Blockly.WidgetDiv.calculateX_(e,o,t,n),Blockly.WidgetDiv.positionInternal_(e,r,t.height)},Blockly.WidgetDiv.calculateX_=function(e,o,t,n){return n?(o=Math.max(o.right-t.width,e.left),Math.min(o,e.right-t.width)):(o=Math.min(o.left,e.right-t.width),Math.max(o,e.left))},Blockly.WidgetDiv.calculateY_=function(e,o,t){return o.bottom+t.height>=e.bottom?o.top-t.height:o.bottom},Blockly.inject=function(e,o){if(Blockly.checkBlockColourConstants(),goog.isString(e)&&(e=document.getElementById(e)||document.querySelector(e)),!goog.dom.contains(document,e))throw"Error: container is not in current document.";var t=new Blockly.Options(o||{}),n=goog.dom.createDom("DIV","injectionDiv");e.appendChild(n);var r=Blockly.createDom_(n,t),i=new Blockly.BlockDragSurfaceSvg(n);return n=new Blockly.WorkspaceDragSurfaceSvg(n),t=Blockly.createMainWorkspace_(r,t,i,n),Blockly.init_(t),Blockly.mainWorkspace=t,Blockly.svgResize(t),t},Blockly.createDom_=function(e,o){e.setAttribute("dir","LTR"),goog.ui.Component.setDefaultRightToLeft(o.RTL),Blockly.Css.inject(o.hasCss,o.pathToMedia);var t=Blockly.utils.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",class:"blocklySvg"},e),n=Blockly.utils.createSvgElement("defs",{},t),r=String(Math.random()).substring(2),i=Blockly.utils.createSvgElement("filter",{id:"blocklyEmbossFilter"+r},n);Blockly.utils.createSvgElement("feGaussianBlur",{in:"SourceAlpha",stdDeviation:1,result:"blur"},i);var s=Blockly.utils.createSvgElement("feSpecularLighting",{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},i);return Blockly.utils.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},s),Blockly.utils.createSvgElement("feComposite",{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},i),Blockly.utils.createSvgElement("feComposite",{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},i),o.embossFilterId=i.id,i=Blockly.utils.createSvgElement("pattern",{id:"blocklyDisabledPattern"+r,patternUnits:"userSpaceOnUse",width:10,height:10},n),Blockly.utils.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},i),Blockly.utils.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},i),o.disabledPatternId=i.id,o.gridPattern=Blockly.Grid.createDom(r,o.gridOptions,n),t},Blockly.createMainWorkspace_=function(e,a,o,t){a.parentWorkspace=null;var c=new Blockly.WorkspaceSvg(a,o,t);return c.scale=a.zoomOptions.startScale,e.appendChild(c.createDom("blocklyMainBackground")),!a.hasCategories&&a.languageTree&&(o=c.addFlyout_("svg"),Blockly.utils.insertAfter_(o,e)),c.translate(0,0),Blockly.mainWorkspace=c,a.readOnly||a.hasScrollbars||c.addChangeListener(function(){if(!c.isDragging()){var e=c.getMetrics(),o=e.viewLeft+e.absoluteLeft,t=e.viewTop+e.absoluteTop;if(e.contentTop<t||e.contentTop+e.contentHeight>e.viewHeight+t||e.contentLeft<(a.RTL?e.viewLeft:o)||e.contentLeft+e.contentWidth>(a.RTL?e.viewWidth:e.viewWidth+o))for(var n,r=c.getTopBlocks(!1),i=0;n=r[i];i++){var s=n.getRelativeToSurfaceXY(),l=n.getHeightWidth(),g=t+25-l.height-s.y;0<g&&n.moveBy(0,g),(g=t+e.viewHeight-25-s.y)<0&&n.moveBy(0,g),0<(g=25+o-s.x-(a.RTL?0:l.width))&&n.moveBy(g,0),(s=o+e.viewWidth-25-s.x+(a.RTL?l.width:0))<0&&n.moveBy(s,0)}}}),Blockly.svgResize(c),Blockly.WidgetDiv.createDom(),Blockly.Tooltip.createDom(),c},Blockly.init_=function(e){var o=e.options,t=e.getParentSvg();Blockly.bindEventWithChecks_(t.parentNode,"contextmenu",null,function(e){Blockly.utils.isTargetInput(e)||e.preventDefault()}),t=Blockly.bindEventWithChecks_(window,"resize",null,function(){Blockly.hideChaff(!0),Blockly.svgResize(e)}),e.setResizeHandlerWrapper(t),Blockly.inject.bindDocumentEvents_(),o.languageTree&&(e.toolbox_?e.toolbox_.init(e):e.flyout_&&(e.flyout_.init(e),e.flyout_.show(o.languageTree.childNodes),e.flyout_.scrollToStart(),e.scrollX=e.flyout_.width_,o.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT&&(e.scrollX*=-1),e.translate(e.scrollX,0))),o.hasScrollbars&&(e.scrollbar=new Blockly.ScrollbarPair(e),e.scrollbar.resize()),o.hasSounds&&Blockly.inject.loadSounds_(o.pathToMedia,e)},Blockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEventWithChecks_(document,"keydown",null,Blockly.onKeyDown_),Blockly.bindEvent_(document,"touchend",null,Blockly.longStop_),Blockly.bindEvent_(document,"touchcancel",null,Blockly.longStop_),goog.userAgent.IPAD&&Blockly.bindEventWithChecks_(window,"orientationchange",document,function(){Blockly.svgResize(Blockly.getMainWorkspace())})),Blockly.documentEventsBound_=!0},Blockly.inject.loadSounds_=function(e,o){var t=o.getAudioManager();t.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),t.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),t.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var n=[],r=function(){for(;n.length;)Blockly.unbindEvent_(n.pop());t.preload()};n.push(Blockly.bindEventWithChecks_(document,"mousemove",null,r,!0)),n.push(Blockly.bindEventWithChecks_(document,"touchstart",null,r,!0))},Blockly.updateToolbox=function(e){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead."),Blockly.getMainWorkspace().updateToolbox(e)};var CLOSURE_DEFINES={"goog.DEBUG":!1};Blockly.mainWorkspace=null,Blockly.selected=null,Blockly.draggingConnections_=[],Blockly.clipboardXml_=null,Blockly.clipboardSource_=null,Blockly.cache3dSupported_=null,Blockly.hueToRgb=function(e){return goog.color.hsvToHex(e,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)},Blockly.svgSize=function(e){return{width:e.cachedWidth_,height:e.cachedHeight_}},Blockly.resizeSvgContents=function(e){e.resizeContents()},Blockly.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var o=e.getParentSvg(),t=o.parentNode;if(t){var n=t.offsetWidth;t=t.offsetHeight,o.cachedWidth_!=n&&(o.setAttribute("width",n+"px"),o.cachedWidth_=n),o.cachedHeight_!=t&&(o.setAttribute("height",t+"px"),o.cachedHeight_=t),e.resize()}},Blockly.onKeyDown_=function(e){if(!Blockly.mainWorkspace.options.readOnly&&!Blockly.utils.isTargetInput(e)){var o=!1;if(27==e.keyCode)Blockly.hideChaff();else if(8==e.keyCode||46==e.keyCode){if(e.preventDefault(),Blockly.mainWorkspace.isDragging())return;Blockly.selected&&Blockly.selected.isDeletable()&&(o=!0)}else if(e.altKey||e.ctrlKey||e.metaKey){if(Blockly.mainWorkspace.isDragging())return;Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(67==e.keyCode?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):88!=e.keyCode||Blockly.selected.workspace.isFlyout||(Blockly.copy_(Blockly.selected),o=!0)),86==e.keyCode?Blockly.clipboardXml_&&(Blockly.Events.setGroup(!0),(e=Blockly.clipboardSource_).isFlyout&&(e=e.targetWorkspace),e.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!1)):90==e.keyCode&&(Blockly.hideChaff(),Blockly.mainWorkspace.undo(e.shiftKey))}o&&!Blockly.selected.workspace.isFlyout&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(!0,!0),Blockly.Events.setGroup(!1))}},Blockly.copy_=function(e){var o=Blockly.Xml.blockToDom(e);Blockly.Xml.deleteNext(o);var t=e.getRelativeToSurfaceXY();o.setAttribute("x",e.RTL?-t.x:t.x),o.setAttribute("y",t.y),Blockly.clipboardXml_=o,Blockly.clipboardSource_=e.workspace},Blockly.duplicate_=function(e){var o=Blockly.clipboardXml_,t=Blockly.clipboardSource_;Blockly.copy_(e),e.workspace.paste(Blockly.clipboardXml_),Blockly.clipboardXml_=o,Blockly.clipboardSource_=t},Blockly.onContextMenu_=function(e){Blockly.utils.isTargetInput(e)||e.preventDefault()},Blockly.hideChaff=function(e){Blockly.Tooltip.hide(),Blockly.WidgetDiv.hide(),e||(e=Blockly.getMainWorkspace()).toolbox_&&e.toolbox_.flyout_&&e.toolbox_.flyout_.autoClose&&e.toolbox_.clearSelection()},Blockly.addChangeListener=function(e){return console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead."),Blockly.getMainWorkspace().addChangeListener(e)},Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace},Blockly.alert=function(e,o){window.alert(e),o&&o()},Blockly.confirm=function(e,o){o(window.confirm(e))},Blockly.prompt=function(e,o,t){t(window.prompt(e,o))},Blockly.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},Blockly.defineBlocksWithJsonArray=function(e){for(var o=0;o<e.length;o++){var t=e[o];if(t){var n=t.type;null==n||""===n?console.warn("Block definition #"+o+" in JSON array is missing a type attribute. Skipping."):(Blockly.Blocks[n]&&console.warn("Block definition #"+o+' in JSON array overwrites prior definition of "'+n+'".'),Blockly.Blocks[n]={init:Blockly.jsonInitFactory_(t)})}else console.warn("Block definition #"+o+" in JSON array is "+t+". Skipping.")}},Blockly.bindEventWithChecks_=function(e,o,r,i,s,t){var l=!1,n=function(e){var o=!s;e=Blockly.Touch.splitEventByTouches(e);for(var t,n=0;t=e[n];n++)o&&!Blockly.Touch.shouldHandleEvent(t)||(Blockly.Touch.setClientFromTouch(t),r?i.call(r,t):i(t),l=!0)},g=[];if(window&&window.PointerEvent&&o in Blockly.Touch.TOUCH_MAP)for(var a,c=0;a=Blockly.Touch.TOUCH_MAP[o][c];c++)e.addEventListener(a,n,!1),g.push([e,a,n]);else if(e.addEventListener(o,n,!1),g.push([e,o,n]),o in Blockly.Touch.TOUCH_MAP){var u=function(e){n(e),l&&!t&&e.preventDefault()};for(c=0;a=Blockly.Touch.TOUCH_MAP[o][c];c++)e.addEventListener(a,u,!1),g.push([e,a,u])}return g},Blockly.bindEvent_=function(e,o,t,n){var r=function(e){t?n.call(t,e):n(e)},i=[];if(window&&window.PointerEvent&&o in Blockly.Touch.TOUCH_MAP)for(var s,l=0;s=Blockly.Touch.TOUCH_MAP[o][l];l++)e.addEventListener(s,r,!1),i.push([e,s,r]);else if(e.addEventListener(o,r,!1),i.push([e,o,r]),o in Blockly.Touch.TOUCH_MAP){var g=function(e){if(e.changedTouches&&1==e.changedTouches.length){var o=e.changedTouches[0];e.clientX=o.clientX,e.clientY=o.clientY}r(e),e.preventDefault()};for(l=0;s=Blockly.Touch.TOUCH_MAP[o][l];l++)e.addEventListener(s,g,!1),i.push([e,s,g])}return i},Blockly.unbindEvent_=function(e){for(;e.length;){var o=e.pop(),t=o[2];o[0].removeEventListener(o[1],t,!1)}return t},Blockly.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},Blockly.checkBlockColourConstants=function(){Blockly.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),Blockly.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),Blockly.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),Blockly.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),Blockly.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),Blockly.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),Blockly.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),Blockly.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),Blockly.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),Blockly.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),Blockly.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),Blockly.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),Blockly.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),Blockly.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},Blockly.checkBlockColourConstant_=function(e,o,t){for(var n="Blockly",r=Blockly,i=0;i<o.length;++i)n+="."+o[i],r&&(r=r[o[i]]);r&&r!==t&&(e=(void 0===t?"%1 has been removed. Use Blockly.Msg.%2.":"%1 is deprecated and unused. Override Blockly.Msg.%2.").replace("%1",n).replace("%2",e),console.warn(e))},goog.global.console||(goog.global.console={log:function(){},warn:function(){}}),goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace,goog.global.Blockly.addChangeListener=Blockly.addChangeListener;
Blockly.Blocks.colour={},Blockly.Constants={},Blockly.Constants.Colour={},Blockly.Constants.Colour.HUE=20,Blockly.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",colour:"%{BKY_COLOUR_HUE}",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),Blockly.Blocks.lists={},Blockly.Constants.Lists={},Blockly.Constants.Lists.HUE=260,Blockly.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_LISTS_HUE}",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),Blockly.Blocks.lists_create_with={init:function(){this.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL),this.setColour(Blockly.Msg.LISTS_HUE),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new Blockly.Mutator(["lists_create_with_item"])),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("lists_create_with_container");e.initSvg();for(var o=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var _=t.newBlock("lists_create_with_item");_.initSvg(),o.connect(_.previousConnection),o=_.nextConnection}return e},compose:function(t){var e=t.getInputTargetBlock("STACK");for(t=[];e;)t.push(e.valueConnection_),e=e.nextConnection&&e.nextConnection.targetBlock();for(e=0;e<this.itemCount_;e++){var o=this.getInput("ADD"+e).connection.targetConnection;o&&-1==t.indexOf(o)&&o.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),e=0;e<this.itemCount_;e++)Blockly.Mutator.reconnect(t[e],this,"ADD"+e)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var o=this.getInput("ADD"+e);t.valueConnection_=o&&o.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var e=this.appendValueInput("ADD"+t);0==t&&e.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},Blockly.Blocks.lists_create_with_container={init:function(){this.setColour(Blockly.Msg.LISTS_HUE),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_create_with_item={init:function(){this.setColour(Blockly.Msg.LISTS_HUE),this.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.lists_indexOf={init:function(){var t=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[Blockly.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL),this.setColour(Blockly.Msg.LISTS_HUE),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new Blockly.FieldDropdown(t),"END"),this.setInputsInline(!0);var e=this;this.setTooltip(function(){return Blockly.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")})}},Blockly.Blocks.lists_getIndex={init:function(){var t=[[Blockly.Msg.LISTS_GET_INDEX_GET,"GET"],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL),this.setColour(Blockly.Msg.LISTS_HUE),t=new Blockly.FieldDropdown(t,function(t){this.sourceBlock_.updateStatement_("REMOVE"==t)}),this.appendValueInput("VALUE").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(t,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var n=this;this.setTooltip(function(){var t=n.getFieldValue("MODE"),e=n.getFieldValue("WHERE"),o="";switch(t+" "+e){case"GET FROM_START":case"GET FROM_END":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":o=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=e&&"FROM_END"!=e||(o+="  "+("FROM_START"==e?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),o})},mutationToDom:function(){var t=document.createElement("mutation");t.setAttribute("statement",!this.outputConnection);var e=this.getInput("AT").type==Blockly.INPUT_VALUE;return t.setAttribute("at",e),t},domToMutation:function(t){var e="true"==t.getAttribute("statement");this.updateStatement_(e),t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateStatement_:function(t){t!=!this.outputConnection&&(this.unplug(!0,!0),t?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var e="FROM_START"==t||"FROM_END"==t;if(e!=n){var o=this.sourceBlock_;return o.updateAt_(e),o.setFieldValue(t,"WHERE"),null}});this.getInput("AT").appendField(t,"WHERE"),Blockly.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_setIndex={init:function(){var t=[[Blockly.Msg.LISTS_SET_INDEX_SET,"SET"],[Blockly.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[Blockly.Msg.LISTS_GET_INDEX_LAST,"LAST"],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL),this.setColour(Blockly.Msg.LISTS_HUE),this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new Blockly.FieldDropdown(t),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var n=this;this.setTooltip(function(){var t=n.getFieldValue("MODE"),e=n.getFieldValue("WHERE"),o="";switch(t+" "+e){case"SET FROM_START":case"SET FROM_END":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":o=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=e&&"FROM_END"!=e||(o+="  "+Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),o})},mutationToDom:function(){var t=document.createElement("mutation"),e=this.getInput("AT").type==Blockly.INPUT_VALUE;return t.setAttribute("at",e),t},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var t=new Blockly.FieldDropdown(this.WHERE_OPTIONS,function(t){var e="FROM_START"==t||"FROM_END"==t;if(e!=n){var o=this.sourceBlock_;return o.updateAt_(e),o.setFieldValue(t,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(t,"WHERE")}},Blockly.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL),this.setColour(Blockly.Msg.LISTS_HUE),this.appendValueInput("LIST").setCheck("Array").appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var t=document.createElement("mutation"),e=this.getInput("AT1").type==Blockly.INPUT_VALUE;return t.setAttribute("at1",e),e=this.getInput("AT2").type==Blockly.INPUT_VALUE,t.setAttribute("at2",e),t},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(n,_){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),_?(this.appendValueInput("AT"+n).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n);var t=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+n],function(t){var e="FROM_START"==t||"FROM_END"==t;if(e!=_){var o=this.sourceBlock_;return o.updateAt_(n,e),o.setFieldValue(t,"WHERE"+n),null}});this.getInput("AT"+n).appendField(t,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),Blockly.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},Blockly.Blocks.lists_sort={init:function(){this.jsonInit({message0:Blockly.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[Blockly.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",colour:Blockly.Msg.LISTS_HUE,tooltip:Blockly.Msg.LISTS_SORT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_SORT_HELPURL})}},Blockly.Blocks.lists_split={init:function(){var e=this,t=new Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(t){e.updateType_(t)});this.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL),this.setColour(Blockly.Msg.LISTS_HUE),this.appendValueInput("INPUT").setCheck("String").appendField(t,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var t=e.getFieldValue("MODE");if("SPLIT"==t)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==t)return Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw"Unknown mode: "+t})},updateType_:function(t){"SPLIT"==t?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("mode",this.getFieldValue("MODE")),t},domToMutation:function(t){this.updateType_(t.getAttribute("mode"))}},Blockly.Blocks.logic={},Blockly.Constants.Logic={},Blockly.Constants.Logic.HUE=210,Blockly.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",colour:"%{BKY_LOGIC_HUE}",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),Blockly.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,colour:"%{BKY_LOGIC_HUE}",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),Blockly.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},Blockly.Extensions.register("logic_op_tooltip",Blockly.Extensions.buildTooltipForDropdown("OP",Blockly.Constants.Logic.TOOLTIPS_BY_OP)),Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var t=document.createElement("mutation");return this.elseifCount_&&t.setAttribute("elseif",this.elseifCount_),this.elseCount_&&t.setAttribute("else",1),t},domToMutation:function(t){this.elseifCount_=parseInt(t.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(t.getAttribute("else"),10)||0,this.updateShape_()},decompose:function(t){var e=t.newBlock("controls_if_if");e.initSvg();for(var o=e.nextConnection,n=1;n<=this.elseifCount_;n++){var _=t.newBlock("controls_if_elseif");_.initSvg(),o.connect(_.previousConnection),o=_.nextConnection}return this.elseCount_&&((t=t.newBlock("controls_if_else")).initSvg(),o.connect(t.previousConnection)),e},compose:function(t){var e=t.nextConnection.targetBlock();this.elseCount_=this.elseifCount_=0,t=[null];for(var o=[null],n=null;e;){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),o.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,n=e.statementConnection_;break;default:throw"Unknown block type."}e=e.nextConnection&&e.nextConnection.targetBlock()}for(this.updateShape_(),e=1;e<=this.elseifCount_;e++)Blockly.Mutator.reconnect(t[e],this,"IF"+e),Blockly.Mutator.reconnect(o[e],this,"DO"+e);Blockly.Mutator.reconnect(n,this,"ELSE")},saveConnections:function(t){t=t.nextConnection.targetBlock();for(var e=1;t;){switch(t.type){case"controls_if_elseif":var o=this.getInput("IF"+e),n=this.getInput("DO"+e);t.valueConnection_=o&&o.connection.targetConnection,t.statementConnection_=n&&n.connection.targetConnection,e++;break;case"controls_if_else":n=this.getInput("ELSE"),t.statementConnection_=n&&n.connection.targetConnection;break;default:throw"Unknown block type."}t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var t=1;this.getInput("IF"+t);)this.removeInput("IF"+t),this.removeInput("DO"+t),t++;for(t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)}},Blockly.Extensions.registerMutator("controls_if_mutator",Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?Blockly.Msg.CONTROLS_IF_TOOLTIP_4:"":Blockly.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},Blockly.Extensions.register("controls_if_tooltip",Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),Blockly.Constants.Logic.fixLogicCompareRtlOpLabels=function(){var t={LT:"‏<‏",LTE:"‏≤‏",GT:"‏>‏",GTE:"‏≥‏"},e=this.getField("OP");if(e){e=e.getOptions();for(var o=0;o<e.length;++o){var n=e[o],_=t[n[1]];goog.isString(n[0])&&_&&(n[0]=_)}}},Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(t){this.prevBlocks_||(this.prevBlocks_=[null,null]);var e=this.getInputTargetBlock("A"),o=this.getInputTargetBlock("B");e&&o&&!e.outputConnection.checkType_(o.outputConnection)&&(Blockly.Events.setGroup(t.group),(t=this.prevBlocks_[0])!==e&&(e.unplug(),t&&!t.isShadow()&&this.getInput("A").connection.connect(t.outputConnection)),(e=this.prevBlocks_[1])!==o&&(o.unplug(),e&&!e.isShadow()&&this.getInput("B").connection.connect(e.outputConnection)),this.bumpNeighbours_(),Blockly.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.RTL&&Blockly.Constants.Logic.fixLogicCompareRtlOpLabels.apply(this),this.mixin(Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},Blockly.Extensions.register("logic_compare",Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION),Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(t){var e=this.getInputTargetBlock("THEN"),o=this.getInputTargetBlock("ELSE"),n=this.outputConnection.targetConnection;if((e||o)&&n)for(var _=0;_<2;_++){var l=1==_?e:o;l&&!l.outputConnection.checkType_(n)&&(Blockly.Events.setGroup(t.group),n===this.prevParentConnection_?(this.unplug(),n.getSourceBlock().bumpNeighbours_()):(l.unplug(),l.bumpNeighbours_()),Blockly.Events.setGroup(!1))}this.prevParentConnection_=n}},Blockly.Extensions.registerMixin("logic_ternary",Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),Blockly.Blocks.loops={},Blockly.Constants.Loops={},Blockly.Constants.Loops.HUE=120,Blockly.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,colour:"%{BKY_LOOPS_HUE}",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},Blockly.Extensions.register("controls_whileUntil_tooltip",Blockly.Extensions.buildTooltipForDropdown("MODE",Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},Blockly.Extensions.register("controls_flow_tooltip",Blockly.Extensions.buildTooltipForDropdown("FLOW",Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){var e=this.getField("VAR").getVariable(),o=e.name;if(!this.isCollapsed()&&null!=o){var n={enabled:!0};n.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),e=Blockly.Variables.generateVariableFieldDom(e),(e=goog.dom.createDom("block",null,e)).setAttribute("type","variables_get"),n.callback=Blockly.ContextMenu.callbackFactory(this,e),t.push(n)}}}},Blockly.Extensions.registerMixin("contextMenu_newGetVariableBlock",Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),Blockly.Extensions.register("controls_for_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),Blockly.Extensions.register("controls_forEach_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],onchange:function(){if(this.workspace.isDragging&&!this.workspace.isDragging()){var t=!1,e=this;do{if(-1!=this.LOOP_TYPES.indexOf(e.type)){t=!0;break}e=e.getSurroundParent()}while(e);t?(this.setWarningText(null),this.isInFlyout||this.setDisabled(!1)):(this.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setDisabled(!0))}}},Blockly.Extensions.registerMixin("controls_flow_in_loop_check",Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),Blockly.Blocks.math={},Blockly.Constants.Math={},Blockly.Constants.Math.HUE=230,Blockly.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",colour:"%{BKY_MATH_HUE}",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",colour:"%{BKY_MATH_HUE}",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"}]),Blockly.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},Blockly.Extensions.register("math_op_tooltip",Blockly.Extensions.buildTooltipForDropdown("OP",Blockly.Constants.Math.TOOLTIPS_BY_OP)),Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var t=document.createElement("mutation"),e="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return t.setAttribute("divisor_input",e),t},domToMutation:function(t){t="true"==t.getAttribute("divisor_input"),this.updateShape_(t)},updateShape_:function(t){var e=this.getInput("DIVISOR");t?e||this.appendValueInput("DIVISOR").setCheck("Number"):e&&this.removeInput("DIVISOR")}},Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(t){this.sourceBlock_.updateShape_("DIVISIBLE_BY"==t)})},Blockly.Extensions.registerMutator("math_is_divisibleby_mutator",Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),Blockly.Extensions.register("math_change_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(t){"MODE"==t?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("op",this.getFieldValue("OP")),t},domToMutation:function(t){this.updateType_(t.getAttribute("op"))}},Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(t){this.updateType_(t)}.bind(this))},Blockly.Extensions.registerMutator("math_modes_of_list_mutator",Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN,Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),Blockly.Blocks.procedures={},Blockly.Blocks.procedures_defnoreturn={init:function(){var t=new Blockly.FieldTextInput("",Blockly.Procedures.rename);t.setSpellcheck(!1),this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(t){this.hasStatements_!==t&&(t?(this.appendStatementInput("STACK").appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=t)},updateParams_:function(){for(var t=!1,e={},o=0;o<this.arguments_.length;o++){if(e["arg_"+this.arguments_[o].toLowerCase()]){t=!0;break}e["arg_"+this.arguments_[o].toLowerCase()]=!0}t?this.setWarningText(Blockly.Msg.PROCEDURES_DEF_DUPLICATE_WARNING):this.setWarningText(null),t="",this.arguments_.length&&(t=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),Blockly.Events.disable();try{this.setFieldValue(t,"PARAMS")}finally{Blockly.Events.enable()}},mutationToDom:function(t){var e=document.createElement("mutation");t&&e.setAttribute("name",this.getFieldValue("NAME"));for(var o=0;o<this.argumentVarModels_.length;o++){var n=document.createElement("arg"),_=this.argumentVarModels_[o];n.setAttribute("name",_.name),n.setAttribute("varId",_.getId()),t&&this.paramIds_&&n.setAttribute("paramId",this.paramIds_[o]),e.appendChild(n)}return this.hasStatements_||e.setAttribute("statements","false"),e},domToMutation:function(t){this.arguments_=[],this.argumentVarModels_=[];for(var e,o=0;e=t.childNodes[o];o++)if("arg"==e.nodeName.toLowerCase()){var n=e.getAttribute("name");e=e.getAttribute("varId"),this.arguments_.push(n),n=Blockly.Variables.getOrCreateVariablePackage(this.workspace,e,n,""),this.argumentVarModels_.push(n)}this.updateParams_(),Blockly.Procedures.mutateCallers(this),this.setStatements_("false"!==t.getAttribute("statements"))},decompose:function(t){var e=t.newBlock("procedures_mutatorcontainer");e.initSvg(),this.getInput("RETURN")?e.setFieldValue(this.hasStatements_?"TRUE":"FALSE","STATEMENTS"):e.getInput("STATEMENT_INPUT").setVisible(!1);for(var o=e.getInput("STACK").connection,n=0;n<this.arguments_.length;n++){var _=t.newBlock("procedures_mutatorarg");_.initSvg(),_.setFieldValue(this.arguments_[n],"NAME"),_.oldLocation=n,o.connect(_.previousConnection),o=_.nextConnection}return Blockly.Procedures.mutateCallers(this),e},compose:function(t){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var e=t.getInputTargetBlock("STACK");e;){var o=e.getFieldValue("NAME");this.arguments_.push(o),o=this.workspace.getVariable(o,""),this.argumentVarModels_.push(o),this.paramIds_.push(e.id),e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateParams_(),Blockly.Procedures.mutateCallers(this),null!==(t=t.getFieldValue("STATEMENTS"))&&(t="TRUE"==t,this.hasStatements_!=t)&&(t?(this.setStatements_(!0),Blockly.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(t=this.getInput("STACK").connection,(this.statementConnection_=t.targetConnection)&&((t=t.targetBlock()).unplug(),t.bumpNeighbours_()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(t,e){var o=this.workspace.getVariableById(t);if(""==o.type){o=o.name;for(var n=this.workspace.getVariableById(e),_=!1,l=0;l<this.argumentVarModels_.length;l++)this.argumentVarModels_[l].getId()==t&&(this.arguments_[l]=n.name,this.argumentVarModels_[l]=n,_=!0);_&&this.displayRenamedVar_(o,n.name)}},updateVarName:function(t){for(var e=t.name,o=!1,n=0;n<this.argumentVarModels_.length;n++)if(this.argumentVarModels_[n].getId()==t.getId()){var _=this.arguments_[n];this.arguments_[n]=e,o=!0}o&&this.displayRenamedVar_(_,e)},displayRenamedVar_:function(t,e){if(this.updateParams_(),this.mutator.isVisible())for(var o,n=this.mutator.workspace_.getAllBlocks(),_=0;o=n[_];_++)"procedures_mutatorarg"==o.type&&Blockly.Names.equals(t,o.getFieldValue("NAME"))&&o.setFieldValue(e,"NAME")},customContextMenu:function(t){if(!this.isInFlyout){var e={enabled:!0},o=this.getFieldValue("NAME");e.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace("%1",o);var n=goog.dom.createDom("mutation");n.setAttribute("name",o);for(var _=0;_<this.arguments_.length;_++)(o=goog.dom.createDom("arg")).setAttribute("name",this.arguments_[_]),n.appendChild(o);if((o=goog.dom.createDom("block",null,n)).setAttribute("type",this.callType_),e.callback=Blockly.ContextMenu.callbackFactory(this,o),t.push(e),!this.isCollapsed())for(_=0;_<this.argumentVarModels_.length;_++)e={enabled:!0},o=(n=this.argumentVarModels_[_]).name,e.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace("%1",o),o=Blockly.Variables.generateVariableFieldDom(n),(o=goog.dom.createDom("block",null,o)).setAttribute("type","variables_get"),e.callback=Blockly.ContextMenu.callbackFactory(this,o),t.push(e)}},callType_:"procedures_callnoreturn"},Blockly.Blocks.procedures_defreturn={init:function(){var t=new Blockly.FieldTextInput("",Blockly.Procedures.rename);t.setSpellcheck(!1),this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new Blockly.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:Blockly.Blocks.procedures_defnoreturn.setStatements_,updateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,getVarModels:Blockly.Blocks.procedures_defnoreturn.getVarModels,renameVarById:Blockly.Blocks.procedures_defnoreturn.renameVarById,updateVarName:Blockly.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:Blockly.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},Blockly.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new Blockly.FieldCheckbox("TRUE"),"STATEMENTS"),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},Blockly.Blocks.procedures_mutatorarg={init:function(){var t=new Blockly.FieldTextInput("x",this.validator_);t.oldShowEditorFn_=t.showEditor_,t.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(t,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setTooltip(Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,t.onFinishEditing_=this.deleteIntermediateVars_,t.createdVariables_=[],t.onFinishEditing_("x")},validator_:function(t){var e=Blockly.Mutator.findParentWs(this.sourceBlock_.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;var o=e.getVariable(t,"");return o&&o.name!=t&&e.renameVarById(o.getId(),t),o||(o=e.createVariable(t,""))&&this.createdVariables_&&this.createdVariables_.push(o),t},deleteIntermediateVars_:function(t){var e=Blockly.Mutator.findParentWs(this.sourceBlock_.workspace);if(e)for(var o=0;o<this.createdVariables_.length;o++){var n=this.createdVariables_[o];n.name!=t&&e.deleteVariableById(n.getId())}}},Blockly.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField(this.id,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(t,e){Blockly.Names.equals(t,this.getProcedureCall())&&(this.setFieldValue(e,"NAME"),this.setTooltip((this.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",e)))},setProcedureParameters_:function(t,e){var o=Blockly.Procedures.getDefinition(this.getProcedureCall(),this.workspace),n=o&&o.mutator&&o.mutator.isVisible();if(n||(this.quarkConnections_={},this.quarkIds_=null),e)if(goog.array.equals(this.arguments_,t))this.quarkIds_=e;else{if(e.length!=t.length)throw"Error: paramNames and paramIds must be the same length.";this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},t.join("\n")==this.arguments_.join("\n")?this.quarkIds_=e:this.quarkIds_=[]),o=this.rendered,this.rendered=!1;for(var _=0;_<this.arguments_.length;_++){var l=this.getInput("ARG"+_);l&&(l=l.connection.targetConnection,this.quarkConnections_[this.quarkIds_[_]]=l,n&&l&&-1==e.indexOf(this.quarkIds_[_])&&(l.disconnect(),l.getSourceBlock().bumpNeighbours_()))}for(this.arguments_=[].concat(t),this.argumentVarModels_=[],_=0;_<this.arguments_.length;_++)n=Blockly.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[_],""),this.argumentVarModels_.push(n);if(this.updateShape_(),this.quarkIds_=e)for(_=0;_<this.arguments_.length;_++)(n=this.quarkIds_[_])in this.quarkConnections_&&(l=this.quarkConnections_[n],Blockly.Mutator.reconnect(l,this,"ARG"+_)||delete this.quarkConnections_[n]);(this.rendered=o)&&this.render()}},updateShape_:function(){for(var t=0;t<this.arguments_.length;t++){var e=this.getField("ARGNAME"+t);if(e){Blockly.Events.disable();try{e.setValue(this.arguments_[t])}finally{Blockly.Events.enable()}}else e=new Blockly.FieldLabel(this.arguments_[t]),this.appendValueInput("ARG"+t).setAlign(Blockly.ALIGN_RIGHT).appendField(e,"ARGNAME"+t).init()}for(;this.getInput("ARG"+t);)this.removeInput("ARG"+t),t++;(t=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(t.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),t.init()):this.getField("WITH")&&t.removeField("WITH"))},mutationToDom:function(){var t=document.createElement("mutation");t.setAttribute("name",this.getProcedureCall());for(var e=0;e<this.arguments_.length;e++){var o=document.createElement("arg");o.setAttribute("name",this.arguments_[e]),t.appendChild(o)}return t},domToMutation:function(t){var e=t.getAttribute("name");this.renameProcedure(this.getProcedureCall(),e),e=[];for(var o,n=[],_=0;o=t.childNodes[_];_++)"arg"==o.nodeName.toLowerCase()&&(e.push(o.getAttribute("name")),n.push(o.getAttribute("paramId")));this.setProcedureParameters_(e,n)},getVarModels:function(){return this.argumentVarModels_},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout)if(t.type==Blockly.Events.BLOCK_CREATE&&-1!=t.ids.indexOf(this.id)){var e=this.getProcedureCall();if(!(e=Blockly.Procedures.getDefinition(e,this.workspace))||e.type==this.defType_&&JSON.stringify(e.arguments_)==JSON.stringify(this.arguments_)||(e=null),!e){Blockly.Events.setGroup(t.group),t=goog.dom.createDom("xml"),(e=goog.dom.createDom("block")).setAttribute("type",this.defType_);var o=this.getRelativeToSurfaceXY(),n=o.y+2*Blockly.SNAP_RADIUS;e.setAttribute("x",o.x+Blockly.SNAP_RADIUS*(this.RTL?-1:1)),e.setAttribute("y",n),o=this.mutationToDom(),e.appendChild(o),(o=goog.dom.createDom("field")).setAttribute("name","NAME"),o.appendChild(document.createTextNode(this.getProcedureCall())),e.appendChild(o),t.appendChild(e),Blockly.Xml.domToWorkspace(t,this.workspace),Blockly.Events.setGroup(!1)}}else t.type==Blockly.Events.BLOCK_DELETE&&(e=this.getProcedureCall(),(e=Blockly.Procedures.getDefinition(e,this.workspace))||(Blockly.Events.setGroup(t.group),this.dispose(!0,!1),Blockly.Events.setGroup(!1)))},customContextMenu:function(t){var e={enabled:!0};e.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;var o=this.getProcedureCall(),n=this.workspace;e.callback=function(){var t=Blockly.Procedures.getDefinition(o,n);t&&(n.centerOnBlock(t.id),t.select())},t.push(e)},defType_:"procedures_defnoreturn"},Blockly.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.quarkConnections_={},this.quarkIds_=null},getProcedureCall:Blockly.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:Blockly.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,getVarModels:Blockly.Blocks.procedures_callnoreturn.getVarModels,onchange:Blockly.Blocks.procedures_callnoreturn.onchange,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},Blockly.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(Blockly.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setColour(Blockly.Msg.PROCEDURES_HUE),this.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(Blockly.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("value",Number(this.hasReturnValue_)),t},domToMutation:function(t){this.hasReturnValue_=1==t.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(){if(this.workspace.isDragging&&!this.workspace.isDragging()){var t=!1,e=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(e.type)){t=!0;break}e=e.getSurroundParent()}while(e);t?("procedures_defnoreturn"==e.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=e.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setDisabled(!1)):(this.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setDisabled(!0))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},Blockly.Blocks.texts={},Blockly.Constants.Text={},Blockly.Constants.Text.HUE=160,Blockly.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:"%{BKY_TEXTS_HUE}",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",colour:"%{BKY_TEXTS_HUE}",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",colour:"%{BKY_TEXTS_HUE}",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),Blockly.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setColour(Blockly.Msg.TEXTS_HUE),this.appendValueInput("STRING").setCheck("String").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var t=document.createElement("mutation"),e=this.getInput("AT1").type==Blockly.INPUT_VALUE;return t.setAttribute("at1",e),e=this.getInput("AT2").type==Blockly.INPUT_VALUE,t.setAttribute("at2",e),t},domToMutation:function(t){var e="true"==t.getAttribute("at1");t="true"==t.getAttribute("at2"),this.updateAt_(1,e),this.updateAt_(2,t)},updateAt_:function(n,_){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),_?(this.appendValueInput("AT"+n).setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n),2==n&&Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));var t=new Blockly.FieldDropdown(this["WHERE_OPTIONS_"+n],function(t){var e="FROM_START"==t||"FROM_END"==t;if(e!=_){var o=this.sourceBlock_;return o.updateAt_(n,e),o.setFieldValue(t,"WHERE"+n),null}});this.getInput("AT"+n).appendField(t,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},Blockly.Blocks.text_changeCase={init:function(){var t=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL),this.setColour(Blockly.Msg.TEXTS_HUE),this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(t),"CASE"),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}},Blockly.Blocks.text_trim={init:function(){var t=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL),this.setColour(Blockly.Msg.TEXTS_HUE),this.appendValueInput("TEXT").setCheck("String").appendField(new Blockly.FieldDropdown(t),"MODE"),this.setOutput(!0,"String"),this.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}},Blockly.Blocks.text_print={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}},Blockly.Blocks.text_prompt_ext={init:function(){var t=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),this.setColour(Blockly.Msg.TEXTS_HUE);var e=this;t=new Blockly.FieldDropdown(t,function(t){e.updateType_(t)}),this.appendValueInput("TEXT").appendField(t,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==e.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(t){this.outputConnection.setCheck("NUMBER"==t?"Number":"String")},mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("type",this.getFieldValue("TYPE")),t},domToMutation:function(t){this.updateType_(t.getAttribute("type"))}},Blockly.Blocks.text_prompt={init:function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);var t=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],e=this;this.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL),this.setColour(Blockly.Msg.TEXTS_HUE),t=new Blockly.FieldDropdown(t,function(t){e.updateType_(t)}),this.appendDummyInput().appendField(t,"TYPE").appendField(this.newQuote_(!0)).appendField(new Blockly.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==e.getFieldValue("TYPE")?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:Blockly.Blocks.text_prompt_ext.updateType_,mutationToDom:Blockly.Blocks.text_prompt_ext.mutationToDom,domToMutation:Blockly.Blocks.text_prompt_ext.domToMutation},Blockly.Blocks.text_count={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_COUNT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_COUNT_HELPURL})}},Blockly.Blocks.text_replace={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REPLACE_HELPURL})}},Blockly.Blocks.text_reverse={init:function(){this.jsonInit({message0:Blockly.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,colour:Blockly.Msg.TEXTS_HUE,tooltip:Blockly.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REVERSE_HELPURL})}},Blockly.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(t){for(var e,o=0;e=this.inputList[o];o++)for(var n,_=0;n=e.fieldRow[_];_++)if(t==n.name)return e.insertFieldAt(_,this.newQuote_(!0)),void e.insertFieldAt(_+2,this.newQuote_(!1));console.warn('field named "'+t+'" not found in '+this.toDevString())},newQuote_:function(t){return t=this.RTL?!t:t,new Blockly.FieldImage(t?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,t?"“":"”")}},Blockly.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(t){this.itemCount_=parseInt(t.getAttribute("items"),10),this.updateShape_()},decompose:function(t){var e=t.newBlock("text_create_join_container");e.initSvg();for(var o=e.getInput("STACK").connection,n=0;n<this.itemCount_;n++){var _=t.newBlock("text_create_join_item");_.initSvg(),o.connect(_.previousConnection),o=_.nextConnection}return e},compose:function(t){var e=t.getInputTargetBlock("STACK");for(t=[];e;)t.push(e.valueConnection_),e=e.nextConnection&&e.nextConnection.targetBlock();for(e=0;e<this.itemCount_;e++){var o=this.getInput("ADD"+e).connection.targetConnection;o&&-1==t.indexOf(o)&&o.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),e=0;e<this.itemCount_;e++)Blockly.Mutator.reconnect(t[e],this,"ADD"+e)},saveConnections:function(t){t=t.getInputTargetBlock("STACK");for(var e=0;t;){var o=this.getInput("ADD"+e);t.valueConnection_=o&&o.connection.targetConnection,e++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var e=this.appendValueInput("ADD"+t);0==t&&e.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},Blockly.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new Blockly.Mutator(["text_create_join_item"]))},Blockly.Extensions.register("text_append_tooltip",Blockly.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var t=this;this.setTooltip(function(){return Blockly.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")})},Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var t=document.createElement("mutation");return t.setAttribute("at",!!this.isAt_),t},domToMutation:function(t){t="false"!=t.getAttribute("at"),this.updateAt_(t)},updateAt_:function(t){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),t&&(this.appendValueInput("AT").setCheck("Number"),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)),Blockly.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(Blockly.Msg.TEXT_CHARAT_TAIL)),this.isAt_=t}},Blockly.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(t){var e="FROM_START"==t||"FROM_END"==t;if(e!=this.isAt_){var o=this.sourceBlock_;return o.updateAt_(e),o.setFieldValue(t,"WHERE"),null}}),this.updateAt_(!0);var o=this;this.setTooltip(function(){var t=o.getFieldValue("WHERE"),e=Blockly.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==t||"FROM_END"==t)&&(t="FROM_START"==t?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(e+="  "+t.replace("%1",o.workspace.options.oneBasedIndex?"#1":"#0")),e})},Blockly.Extensions.register("text_indexOf_tooltip",Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),Blockly.Extensions.register("text_quotes",Blockly.Constants.Text.TEXT_QUOTES_EXTENSION),Blockly.Extensions.registerMutator("text_join_mutator",Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_JOIN_EXTENSION),Blockly.Extensions.registerMutator("text_charAt_mutator",Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_CHARAT_EXTENSION),Blockly.Blocks.variables={},Blockly.Constants.Variables={},Blockly.Constants.Variables.HUE=330,Blockly.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){if("variables_get"==this.type)var e="variables_set",o=Blockly.Msg.VARIABLES_GET_CREATE_SET;else e="variables_get",o=Blockly.Msg.VARIABLES_SET_CREATE_GET;var n={enabled:0<this.workspace.remainingCapacity()},_=this.getField("VAR").getText();n.text=o.replace("%1",_),(o=goog.dom.createDom("field",null,_)).setAttribute("name","VAR"),(o=goog.dom.createDom("block",null,o)).setAttribute("type",e),n.callback=Blockly.ContextMenu.callbackFactory(this,o),t.push(n)}}},Blockly.Extensions.registerMixin("contextMenu_variableSetterGetter",Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),Blockly.Constants.VariablesDynamic={},Blockly.Constants.VariablesDynamic.HUE=310,Blockly.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,colour:"%{BKY_VARIABLES_DYNAMIC_HUE}",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,colour:"%{BKY_VARIABLES_DYNAMIC_HUE}",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){if("variables_get_dynamic"==this.type)var e="variables_set_dynamic",o=Blockly.Msg.VARIABLES_GET_CREATE_SET;else e="variables_get_dynamic",o=Blockly.Msg.VARIABLES_SET_CREATE_GET;var n={enabled:0<this.workspace.remainingCapacity()},_=this.getField("VAR").getText();n.text=o.replace("%1",_),(o=goog.dom.createDom("field",null,_)).setAttribute("name","VAR"),(o=goog.dom.createDom("block",null,o)).setAttribute("type",e),n.callback=Blockly.ContextMenu.callbackFactory(this,o),t.push(n)}},onchange:function(){var t=this.getFieldValue("VAR");t=this.workspace.getVariableById(t),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(t.type):this.getInput("VALUE").connection.setCheck(t.type)}},Blockly.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);
Blockly.FieldLedColour=function(l,e){Blockly.FieldLedColour.superClass_.constructor.call(this,l,e)},goog.inherits(Blockly.FieldLedColour,Blockly.Field),Blockly.FieldLedColour.fromJson=function(l){return new Blockly.FieldLedColour(l.colour)},Blockly.FieldLedColour.prototype.colours_=null,Blockly.FieldLedColour.prototype.titles_=null,Blockly.FieldLedColour.prototype.columns_=0,Blockly.FieldLedColour.prototype.init=function(){Blockly.FieldLedColour.superClass_.init.call(this),this.borderCircleRadius_=9,this.fieldGroup_.removeChild(this.borderRect_),this.fieldGroup_.removeChild(this.textElement_),this.borderBackground_=Blockly.utils.createSvgElement("circle",{cx:4,cy:7,r:this.borderCircleRadius_},this.fieldGroup_),this.borderBackground_.style.fill="#bbb",this.borderBackground_.style.stroke="#666",this.textElement_=Blockly.utils.createSvgElement("text",{class:"blocklyText",y:this.size_.height-13},this.fieldGroup_),this.setText("π"),this.textElement_.style.fill="#666",this.borderRect_=Blockly.utils.createSvgElement("circle",{cx:4,cy:7,r:this.borderCircleRadius_},this.fieldGroup_),this.borderRect_.style.fillOpacity=.8,this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.setValue(this.getValue())},Blockly.FieldLedColour.prototype.CURSOR="default",Blockly.FieldLedColour.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldLedColour.superClass_.dispose.call(this)},Blockly.FieldLedColour.prototype.colour2LedEffect=function(l){var e=parseInt(l.slice(1,3),16),o=parseInt(l.slice(3,5),16),t=parseInt(l.slice(5,7),16),c=Math.max(e,o,t),i=255-c;o+=i,t+=i;var r=c/255;return"rgba(".concat(e+=i,",").concat(o,",").concat(t,",").concat(r,")")},Blockly.FieldLedColour.prototype.getValue=function(){return this.colour_},Blockly.FieldLedColour.prototype.setValue=function(l){void 0===l&&(l="#ffffff"),this.sourceBlock_&&Blockly.Events.isEnabled()&&this.colour_!=l&&Blockly.Events.fire(new Blockly.Events.BlockChange(this.sourceBlock_,"field",this.name,this.colour_,l)),this.colour_=l,this.borderRect_&&(this.borderRect_.style.fill=this.colour2LedEffect(l))},Blockly.FieldLedColour.prototype.getText=function(){var l=this.colour_,e=l.match(/^#(.)\1(.)\2(.)\3$/);return e&&(l="#"+e[1]+e[2]+e[3]),l},Blockly.FieldLedColour.COLOURS=["#ffffff","#cccccc","#c0c0c0","#999999","#666666","#333333","#000000","#ffcccc","#ff6666","#ff0000","#cc0000","#990000","#660000","#330000","#ffcc99","#ff9966","#ff9900","#ff6600","#cc6600","#993300","#663300","#ffff99","#ffff66","#ffcc66","#ffcc33","#cc9933","#996633","#663333","#ffffcc","#ffff33","#ffff00","#ffcc00","#999900","#666600","#333300","#99ff99","#66ff99","#33ff33","#33cc00","#009900","#006600","#003300","#99ffff","#33ffff","#66cccc","#00cccc","#339999","#336666","#003333","#ccffff","#66ffff","#33ccff","#3366ff","#3333ff","#000099","#000066","#ccccff","#9999ff","#6666cc","#6633ff","#6600cc","#333399","#330099","#ffccff","#ff99ff","#cc66cc","#cc33cc","#993399","#663366","#330033"],Blockly.FieldLedColour.TITLES=[],Blockly.FieldLedColour.COLUMNS=7,Blockly.FieldLedColour.prototype.setColours=function(l,e){return this.colours_=l,void 0!==e&&(this.titles_=e),this},Blockly.FieldLedColour.prototype.setColumns=function(l){return this.columns_=l,this},Blockly.FieldLedColour.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,Blockly.FieldLedColour.widgetDispose_);var l=Blockly.utils.getViewportBBox(),e=this.getScaledBBox_(),o=this.createWidget_();Blockly.WidgetDiv.DIV.appendChild(o);var t=goog.style.getSize(o);Blockly.WidgetDiv.positionWithAnchor(l,e,t,this.sourceBlock_.RTL),Blockly.FieldLedColour.onUpWrapper_=Blockly.bindEvent_(o,"mouseup",this,this.onClick_)},Blockly.FieldLedColour.prototype.onClick_=function(l){console.log("FieldLedColour click");var e=l.target;e&&!e.label&&(e=e.parentNode);var o=e&&e.label;Blockly.WidgetDiv.hide(),this.sourceBlock_&&(o=this.callValidator(o)),null!==o&&this.setValue(o)},Blockly.FieldLedColour.prototype.createWidget_=function(){console.log("FieldLedColour createWidget_");var l,e=this.columns_||Blockly.FieldLedColour.COLUMNS,o=this.colours_||Blockly.FieldLedColour.COLOURS,t=this.titles_||Blockly.FieldLedColour.TITLES,c=this.getValue(),i=document.createElement("table");i.className="blocklyLedColourTable",i.setAttribute("cellspacing","2px");for(var r=0;r<o.length;r++){r%e==0&&(l=document.createElement("tr"),i.appendChild(l));var d=document.createElement("td");l.appendChild(d),d.innerHTML="π";var s=document.createElement("div");d.appendChild(s),d.label=o[r],d.title=t[r]||o[r];var f=this.colour2LedEffect(o[r]);s.style.backgroundColor=f,o[r]==c&&(s.className="blocklyLedColourSelected")}return i},Blockly.FieldLedColour.widgetDispose_=function(){Blockly.FieldLedColour.onUpWrapper_&&Blockly.unbindEvent_(Blockly.FieldLedColour.onUpWrapper_),Blockly.Events.setGroup(!1)},Blockly.Field.register("field_led_colour",Blockly.FieldLedColour);
Blockly.Python=new Blockly.Generator("Python"),Blockly.Python.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),Blockly.Python.ORDER_ATOMIC=0,Blockly.Python.ORDER_COLLECTION=1,Blockly.Python.ORDER_STRING_CONVERSION=1,Blockly.Python.ORDER_MEMBER=2.1,Blockly.Python.ORDER_FUNCTION_CALL=2.2,Blockly.Python.ORDER_EXPONENTIATION=3,Blockly.Python.ORDER_UNARY_SIGN=4,Blockly.Python.ORDER_BITWISE_NOT=4,Blockly.Python.ORDER_MULTIPLICATIVE=5,Blockly.Python.ORDER_ADDITIVE=6,Blockly.Python.ORDER_BITWISE_SHIFT=7,Blockly.Python.ORDER_BITWISE_AND=8,Blockly.Python.ORDER_BITWISE_XOR=9,Blockly.Python.ORDER_BITWISE_OR=10,Blockly.Python.ORDER_RELATIONAL=11,Blockly.Python.ORDER_LOGICAL_NOT=12,Blockly.Python.ORDER_LOGICAL_AND=13,Blockly.Python.ORDER_LOGICAL_OR=14,Blockly.Python.ORDER_CONDITIONAL=15,Blockly.Python.ORDER_LAMBDA=16,Blockly.Python.ORDER_NONE=99,Blockly.Python.ORDER_OVERRIDES=[[Blockly.Python.ORDER_FUNCTION_CALL,Blockly.Python.ORDER_MEMBER],[Blockly.Python.ORDER_FUNCTION_CALL,Blockly.Python.ORDER_FUNCTION_CALL],[Blockly.Python.ORDER_MEMBER,Blockly.Python.ORDER_MEMBER],[Blockly.Python.ORDER_MEMBER,Blockly.Python.ORDER_FUNCTION_CALL],[Blockly.Python.ORDER_LOGICAL_NOT,Blockly.Python.ORDER_LOGICAL_NOT],[Blockly.Python.ORDER_LOGICAL_AND,Blockly.Python.ORDER_LOGICAL_AND],[Blockly.Python.ORDER_LOGICAL_OR,Blockly.Python.ORDER_LOGICAL_OR]],Blockly.Python.init=function(o){Blockly.Python.PASS=this.INDENT+"pass\n",Blockly.Python.definitions_=Object.create(null),Blockly.Python.functionNames_=Object.create(null),Blockly.Python.variableDB_?Blockly.Python.variableDB_.reset():Blockly.Python.variableDB_=new Blockly.Names(Blockly.Python.RESERVED_WORDS_),Blockly.Python.variableDB_.setVariableMap(o.getVariableMap());for(var l=[],t=Blockly.Variables.allDeveloperVariables(o),n=0;n<t.length;n++)l.push(Blockly.Python.variableDB_.getName(t[n],Blockly.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(o=Blockly.Variables.allUsedVarModels(o),n=0;n<o.length;n++)l.push(Blockly.Python.variableDB_.getName(o[n].getId(),Blockly.Variables.NAME_TYPE)+" = None");Blockly.Python.definitions_.variables=l.join("\n")},Blockly.Python.finish=function(o){var l,t=[],n=[];for(l in Blockly.Python.definitions_){var e=Blockly.Python.definitions_[l];e.match(/^(from\s+\S+\s+)?import\s+\S+/)?t.push(e):n.push(e)}return delete Blockly.Python.definitions_,delete Blockly.Python.functionNames_,Blockly.Python.variableDB_.reset(),(t.join("\n")+"\n\n"+n.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+o},Blockly.Python.scrubNakedValue=function(o){return o+"\n"},Blockly.Python.quote_=function(o){var l="'";return-1!==(o=o.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/%/g,"\\%")).indexOf("'")&&(-1===o.indexOf('"')?l='"':o=o.replace(/'/g,"\\'")),l+o+l},Blockly.Python.scrub_=function(o,l){var t="";if(!o.outputConnection||!o.outputConnection.targetConnection){var n=o.getCommentText();(n=Blockly.utils.wrap(n,Blockly.Python.COMMENT_WRAP-3))&&(t=o.getProcedureDef?t+'"""'+n+'\n"""\n':t+Blockly.Python.prefixLines(n+"\n","# "));for(var e=0;e<o.inputList.length;e++)o.inputList[e].type==Blockly.INPUT_VALUE&&(n=o.inputList[e].connection.targetBlock())&&(n=Blockly.Python.allNestedComments(n))&&(t+=Blockly.Python.prefixLines(n,"# "))}return e=o.nextConnection&&o.nextConnection.targetBlock(),t+l+(e=Blockly.Python.blockToCode(e))},Blockly.Python.getAdjustedInt=function(o,l,t,n){t=t||0,o.workspace.options.oneBasedIndex&&t--;var e=o.workspace.options.oneBasedIndex?"1":"0";return o=Blockly.Python.valueToCode(o,l,t?Blockly.Python.ORDER_ADDITIVE:Blockly.Python.ORDER_NONE)||e,Blockly.isNumber(o)?(o=parseInt(o,10)+t,n&&(o=-o)):(o=0<t?"int("+o+" + "+t+")":t<0?"int("+o+" - "+-t+")":"int("+o+")",n&&(o="-"+o)),o},Blockly.Python.colour={},Blockly.Python.colour_picker=function(o){return["'"+o.getFieldValue("COLOUR")+"'",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.colour_random=function(o){return Blockly.Python.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.colour_rgb=function(o){return[Blockly.Python.provideFunction_("colour_rgb",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(Blockly.Python.valueToCode(o,"RED",Blockly.Python.ORDER_NONE)||0)+", "+(Blockly.Python.valueToCode(o,"GREEN",Blockly.Python.ORDER_NONE)||0)+", "+(o=Blockly.Python.valueToCode(o,"BLUE",Blockly.Python.ORDER_NONE)||0)+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.colour_blend=function(o){return[Blockly.Python.provideFunction_("colour_blend",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(Blockly.Python.valueToCode(o,"COLOUR1",Blockly.Python.ORDER_NONE)||"'#000000'")+", "+(Blockly.Python.valueToCode(o,"COLOUR2",Blockly.Python.ORDER_NONE)||"'#000000'")+", "+(o=Blockly.Python.valueToCode(o,"RATIO",Blockly.Python.ORDER_NONE)||0)+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists={},Blockly.Python.lists_create_empty=function(o){return["[]",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.lists_create_with=function(o){for(var l=Array(o.itemCount_),t=0;t<o.itemCount_;t++)l[t]=Blockly.Python.valueToCode(o,"ADD"+t,Blockly.Python.ORDER_NONE)||"None";return["["+l.join(", ")+"]",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.lists_repeat=function(o){return["["+(Blockly.Python.valueToCode(o,"ITEM",Blockly.Python.ORDER_NONE)||"None")+"] * "+(o=Blockly.Python.valueToCode(o,"NUM",Blockly.Python.ORDER_MULTIPLICATIVE)||"0"),Blockly.Python.ORDER_MULTIPLICATIVE]},Blockly.Python.lists_length=function(o){return["len("+(Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"[]")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists_isEmpty=function(o){return["not len("+(Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"[]")+")",Blockly.Python.ORDER_LOGICAL_NOT]},Blockly.Python.lists_indexOf=function(o){var l=Blockly.Python.valueToCode(o,"FIND",Blockly.Python.ORDER_NONE)||"[]",t=Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"''";if(o.workspace.options.oneBasedIndex)var n=" 0",e=" + 1",y="";else n=" -1",e="",y=" - 1";return"FIRST"==o.getFieldValue("END")?[(o=Blockly.Python.provideFunction_("first_index",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+e,"  except: index ="+n,"  return index"]))+"("+t+", "+l+")",Blockly.Python.ORDER_FUNCTION_CALL]:[(o=Blockly.Python.provideFunction_("last_index",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+y,"  except: index ="+n,"  return index"]))+"("+t+", "+l+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists_getIndex=function(o){var l=o.getFieldValue("MODE")||"GET",t=o.getFieldValue("WHERE")||"FROM_START",n=Blockly.Python.valueToCode(o,"VALUE","RANDOM"==t?Blockly.Python.ORDER_NONE:Blockly.Python.ORDER_MEMBER)||"[]";switch(t){case"FIRST":if("GET"==l)return[n+"[0]",Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"==l)return[n+".pop(0)",Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==l)return n+".pop(0)\n";break;case"LAST":if("GET"==l)return[n+"[-1]",Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"==l)return[n+".pop()",Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==l)return n+".pop()\n";break;case"FROM_START":if(o=Blockly.Python.getAdjustedInt(o,"AT"),"GET"==l)return[n+"["+o+"]",Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"==l)return[n+".pop("+o+")",Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==l)return n+".pop("+o+")\n";break;case"FROM_END":if(o=Blockly.Python.getAdjustedInt(o,"AT",1,!0),"GET"==l)return[n+"["+o+"]",Blockly.Python.ORDER_MEMBER];if("GET_REMOVE"==l)return[n+".pop("+o+")",Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==l)return n+".pop("+o+")\n";break;case"RANDOM":if(Blockly.Python.definitions_.import_random="import random","GET"==l)return["random.choice("+n+")",Blockly.Python.ORDER_FUNCTION_CALL];if(n=Blockly.Python.provideFunction_("lists_remove_random_item",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+n+")","GET_REMOVE"==l)return[n,Blockly.Python.ORDER_FUNCTION_CALL];if("REMOVE"==l)return n+"\n"}throw"Unhandled combination (lists_getIndex)."},Blockly.Python.lists_setIndex=function(o){var l=Blockly.Python.valueToCode(o,"LIST",Blockly.Python.ORDER_MEMBER)||"[]",t=o.getFieldValue("MODE")||"GET",n=o.getFieldValue("WHERE")||"FROM_START",e=Blockly.Python.valueToCode(o,"TO",Blockly.Python.ORDER_NONE)||"None";switch(n){case"FIRST":if("SET"==t)return l+"[0] = "+e+"\n";if("INSERT"==t)return l+".insert(0, "+e+")\n";break;case"LAST":if("SET"==t)return l+"[-1] = "+e+"\n";if("INSERT"==t)return l+".append("+e+")\n";break;case"FROM_START":if(o=Blockly.Python.getAdjustedInt(o,"AT"),"SET"==t)return l+"["+o+"] = "+e+"\n";if("INSERT"==t)return l+".insert("+o+", "+e+")\n";break;case"FROM_END":if(o=Blockly.Python.getAdjustedInt(o,"AT",1,!0),"SET"==t)return l+"["+o+"] = "+e+"\n";if("INSERT"==t)return l+".insert("+o+", "+e+")\n";break;case"RANDOM":if(Blockly.Python.definitions_.import_random="import random",o=l.match(/^\w+$/)?"":(n=(o=Blockly.Python.variableDB_.getDistinctName("tmp_list",Blockly.Variables.NAME_TYPE))+" = "+l+"\n",l=o,n),o+=(n=Blockly.Python.variableDB_.getDistinctName("tmp_x",Blockly.Variables.NAME_TYPE))+" = int(random.random() * len("+l+"))\n","SET"==t)return o+(l+"[")+n+"] = "+e+"\n";if("INSERT"==t)return o+(l+".insert(")+n+", "+e+")\n"}throw"Unhandled combination (lists_setIndex)."},Blockly.Python.lists_getSublist=function(o){var l=Blockly.Python.valueToCode(o,"LIST",Blockly.Python.ORDER_MEMBER)||"[]",t=o.getFieldValue("WHERE1"),n=o.getFieldValue("WHERE2");switch(t){case"FROM_START":"0"==(t=Blockly.Python.getAdjustedInt(o,"AT1"))&&(t="");break;case"FROM_END":t=Blockly.Python.getAdjustedInt(o,"AT1",1,!0);break;case"FIRST":t="";break;default:throw"Unhandled option (lists_getSublist)"}switch(n){case"FROM_START":o=Blockly.Python.getAdjustedInt(o,"AT2",1);break;case"FROM_END":o=Blockly.Python.getAdjustedInt(o,"AT2",0,!0),Blockly.isNumber(String(o))?"0"==o&&(o=""):(Blockly.Python.definitions_.import_sys="import sys",o+=" or sys.maxsize");break;case"LAST":o="";break;default:throw"Unhandled option (lists_getSublist)"}return[l+"["+t+" : "+o+"]",Blockly.Python.ORDER_MEMBER]},Blockly.Python.lists_sort=function(o){var l=Blockly.Python.valueToCode(o,"LIST",Blockly.Python.ORDER_NONE)||"[]",t=o.getFieldValue("TYPE");return o="1"===o.getFieldValue("DIRECTION")?"False":"True",[Blockly.Python.provideFunction_("lists_sort",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {",'    "NUMERIC": try_float,','    "TEXT": str,','    "IGNORE_CASE": lambda s: str(s).lower()',"  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+l+', "'+t+'", '+o+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists_split=function(o){var l=o.getFieldValue("MODE");if("SPLIT"==l)o=(l=Blockly.Python.valueToCode(o,"INPUT",Blockly.Python.ORDER_MEMBER)||"''")+".split("+(o=Blockly.Python.valueToCode(o,"DELIM",Blockly.Python.ORDER_NONE))+")";else{if("JOIN"!=l)throw"Unknown mode: "+l;l=Blockly.Python.valueToCode(o,"INPUT",Blockly.Python.ORDER_NONE)||"[]",o=(o=Blockly.Python.valueToCode(o,"DELIM",Blockly.Python.ORDER_MEMBER)||"''")+".join("+l+")"}return[o,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.lists_reverse=function(o){return["list(reversed("+(Blockly.Python.valueToCode(o,"LIST",Blockly.Python.ORDER_NONE)||"[]")+"))",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.logic={},Blockly.Python.controls_if=function(o){var l=0,t="";do{var n=Blockly.Python.valueToCode(o,"IF"+l,Blockly.Python.ORDER_NONE)||"False",e=Blockly.Python.statementToCode(o,"DO"+l)||Blockly.Python.PASS;t+=(0==l?"if ":"elif ")+n+":\n"+e,++l}while(o.getInput("IF"+l));return o.getInput("ELSE")&&(t+="else:\n"+(e=Blockly.Python.statementToCode(o,"ELSE")||Blockly.Python.PASS)),t},Blockly.Python.controls_ifelse=Blockly.Python.controls_if,Blockly.Python.logic_compare=function(o){var l={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[o.getFieldValue("OP")],t=Blockly.Python.ORDER_RELATIONAL;return[(Blockly.Python.valueToCode(o,"A",t)||"0")+" "+l+" "+(o=Blockly.Python.valueToCode(o,"B",t)||"0"),t]},Blockly.Python.logic_operation=function(o){var l="AND"==o.getFieldValue("OP")?"and":"or",t="and"==l?Blockly.Python.ORDER_LOGICAL_AND:Blockly.Python.ORDER_LOGICAL_OR,n=Blockly.Python.valueToCode(o,"A",t);if(o=Blockly.Python.valueToCode(o,"B",t),n||o){var e="and"==l?"True":"False";n||(n=e),o||(o=e)}else o=n="False";return[n+" "+l+" "+o,t]},Blockly.Python.logic_negate=function(o){return["not "+(Blockly.Python.valueToCode(o,"BOOL",Blockly.Python.ORDER_LOGICAL_NOT)||"True"),Blockly.Python.ORDER_LOGICAL_NOT]},Blockly.Python.logic_boolean=function(o){return["TRUE"==o.getFieldValue("BOOL")?"True":"False",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.logic_null=function(o){return["None",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.logic_ternary=function(o){var l=Blockly.Python.valueToCode(o,"IF",Blockly.Python.ORDER_CONDITIONAL)||"False";return[(Blockly.Python.valueToCode(o,"THEN",Blockly.Python.ORDER_CONDITIONAL)||"None")+" if "+l+" else "+(o=Blockly.Python.valueToCode(o,"ELSE",Blockly.Python.ORDER_CONDITIONAL)||"None"),Blockly.Python.ORDER_CONDITIONAL]},Blockly.Python.loops={},Blockly.Python.controls_repeat_ext=function(o){var l=o.getField("TIMES")?String(parseInt(o.getFieldValue("TIMES"),10)):Blockly.Python.valueToCode(o,"TIMES",Blockly.Python.ORDER_NONE)||"0";l=Blockly.isNumber(l)?parseInt(l,10):"int("+l+")";var t=Blockly.Python.statementToCode(o,"DO");return t=Blockly.Python.addLoopTrap(t,o.id)||Blockly.Python.PASS,"for "+Blockly.Python.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE)+" in range("+l+"):\n"+t},Blockly.Python.controls_repeat=Blockly.Python.controls_repeat_ext,Blockly.Python.controls_whileUntil=function(o){var l="UNTIL"==o.getFieldValue("MODE"),t=Blockly.Python.valueToCode(o,"BOOL",l?Blockly.Python.ORDER_LOGICAL_NOT:Blockly.Python.ORDER_NONE)||"False",n=Blockly.Python.statementToCode(o,"DO");return l&&(t="not "+t),"while "+t+":\n"+(n=Blockly.Python.addLoopTrap(n,o.id)||Blockly.Python.PASS)},Blockly.Python.controls_for=function(o){var n=Blockly.Python.variableDB_.getName(o.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),l=Blockly.Python.valueToCode(o,"FROM",Blockly.Python.ORDER_NONE)||"0",t=Blockly.Python.valueToCode(o,"TO",Blockly.Python.ORDER_NONE)||"0",e=Blockly.Python.valueToCode(o,"BY",Blockly.Python.ORDER_NONE)||"1",y=Blockly.Python.statementToCode(o,"DO");y=Blockly.Python.addLoopTrap(y,o.id)||Blockly.Python.PASS;var r="",c=function(){return Blockly.Python.provideFunction_("upRange",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])},a=function(){return Blockly.Python.provideFunction_("downRange",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};if(o=function(o,l,t){return"("+o+" <= "+l+") and "+c()+"("+o+", "+l+", "+t+") or "+a()+"("+o+", "+l+", "+t+")"},Blockly.isNumber(l)&&Blockly.isNumber(t)&&Blockly.isNumber(e))l=parseFloat(l),t=parseFloat(t),e=Math.abs(parseFloat(e)),0==l%1&&0==t%1&&0==e%1?(l<=t?(t++,o=0==l&&1==e?t:l+", "+t,1!=e&&(o+=", "+e)):o=l+", "+--t+", -"+e,o="range("+o+")"):(o=l<t?c():a(),o+="("+l+", "+t+", "+e+")");else{var i=function(o,l){if(Blockly.isNumber(o))o=parseFloat(o);else if(o.match(/^\w+$/))o="float("+o+")";else{var t=Blockly.Python.variableDB_.getDistinctName(n+l,Blockly.Variables.NAME_TYPE);r+=t+" = float("+o+")\n",o=t}return o};l=i(l,"_start"),t=i(t,"_end"),i(e,"_inc"),o="number"==typeof l&&"number"==typeof t?l<t?c():a():o(l,t,e)}return r+="for "+n+" in "+o+":\n"+y},Blockly.Python.controls_forEach=function(o){var l=Blockly.Python.variableDB_.getName(o.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),t=Blockly.Python.valueToCode(o,"LIST",Blockly.Python.ORDER_RELATIONAL)||"[]",n=Blockly.Python.statementToCode(o,"DO");return"for "+l+" in "+t+":\n"+(n=Blockly.Python.addLoopTrap(n,o.id)||Blockly.Python.PASS)},Blockly.Python.controls_flow_statements=function(o){switch(o.getFieldValue("FLOW")){case"BREAK":return"break\n";case"CONTINUE":return"continue\n"}throw"Unknown flow statement."},Blockly.Python.math={},Blockly.Python.addReservedWords("math,random,int"),Blockly.Python.math_number=function(o){if(1/0==(o=parseFloat(o.getFieldValue("NUM")))){o='float("inf")';var l=Blockly.Python.ORDER_FUNCTION_CALL}else l=-1/0==o?(o='-float("inf")',Blockly.Python.ORDER_UNARY_SIGN):o<0?Blockly.Python.ORDER_UNARY_SIGN:Blockly.Python.ORDER_ATOMIC;return[o,l]},Blockly.Python.math_arithmetic=function(o){var l={ADD:[" + ",Blockly.Python.ORDER_ADDITIVE],MINUS:[" - ",Blockly.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",Blockly.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",Blockly.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",Blockly.Python.ORDER_EXPONENTIATION]}[o.getFieldValue("OP")],t=l[0];return l=l[1],[(Blockly.Python.valueToCode(o,"A",l)||"0")+t+(o=Blockly.Python.valueToCode(o,"B",l)||"0"),l]},Blockly.Python.math_single=function(o){var l=o.getFieldValue("OP");if("NEG"==l){var t=Blockly.Python.valueToCode(o,"NUM",Blockly.Python.ORDER_UNARY_SIGN)||"0";return["-"+t,Blockly.Python.ORDER_UNARY_SIGN]}switch(Blockly.Python.definitions_.import_math="import math",o="SIN"==l||"COS"==l||"TAN"==l?Blockly.Python.valueToCode(o,"NUM",Blockly.Python.ORDER_MULTIPLICATIVE)||"0":Blockly.Python.valueToCode(o,"NUM",Blockly.Python.ORDER_NONE)||"0",l){case"ABS":t="math.fabs("+o+")";break;case"ROOT":t="math.sqrt("+o+")";break;case"LN":t="math.log("+o+")";break;case"LOG10":t="math.log10("+o+")";break;case"EXP":t="math.exp("+o+")";break;case"POW10":t="math.pow(10,"+o+")";break;case"ROUND":t="round("+o+")";break;case"ROUNDUP":t="math.ceil("+o+")";break;case"ROUNDDOWN":t="math.floor("+o+")";break;case"SIN":t="math.sin("+o+" / 180.0 * math.pi)";break;case"COS":t="math.cos("+o+" / 180.0 * math.pi)";break;case"TAN":t="math.tan("+o+" / 180.0 * math.pi)"}if(t)return[t,Blockly.Python.ORDER_FUNCTION_CALL];switch(l){case"ASIN":t="math.asin("+o+") / math.pi * 180";break;case"ACOS":t="math.acos("+o+") / math.pi * 180";break;case"ATAN":t="math.atan("+o+") / math.pi * 180";break;default:throw"Unknown math operator: "+l}return[t,Blockly.Python.ORDER_MULTIPLICATIVE]},Blockly.Python.math_constant=function(o){var l={PI:["math.pi",Blockly.Python.ORDER_MEMBER],E:["math.e",Blockly.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",Blockly.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",Blockly.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",Blockly.Python.ORDER_MEMBER],INFINITY:["float('inf')",Blockly.Python.ORDER_ATOMIC]};return"INFINITY"!=(o=o.getFieldValue("CONSTANT"))&&(Blockly.Python.definitions_.import_math="import math"),l[o]},Blockly.Python.math_number_property=function(o){var l=Blockly.Python.valueToCode(o,"NUMBER_TO_CHECK",Blockly.Python.ORDER_MULTIPLICATIVE)||"0",t=o.getFieldValue("PROPERTY");if("PRIME"==t)return Blockly.Python.definitions_.import_math="import math",[Blockly.Python.provideFunction_("math_isPrime",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, int):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+l+")",Blockly.Python.ORDER_FUNCTION_CALL];switch(t){case"EVEN":var n=l+" % 2 == 0";break;case"ODD":n=l+" % 2 == 1";break;case"WHOLE":n=l+" % 1 == 0";break;case"POSITIVE":n=l+" > 0";break;case"NEGATIVE":n=l+" < 0";break;case"DIVISIBLE_BY":if(!(o=Blockly.Python.valueToCode(o,"DIVISOR",Blockly.Python.ORDER_MULTIPLICATIVE))||"0"==o)return["False",Blockly.Python.ORDER_ATOMIC];n=l+" % "+o+" == 0"}return[n,Blockly.Python.ORDER_RELATIONAL]},Blockly.Python.math_change=function(o){var l=Blockly.Python.valueToCode(o,"DELTA",Blockly.Python.ORDER_ADDITIVE)||"0";return(o=Blockly.Python.variableDB_.getName(o.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE))+" = ("+o+" if isinstance("+o+", int) else 0) + "+l+"\n"},Blockly.Python.math_round=Blockly.Python.math_single,Blockly.Python.math_trig=Blockly.Python.math_single,Blockly.Python.math_on_list=function(o){var l=o.getFieldValue("OP");switch(o=Blockly.Python.valueToCode(o,"LIST",Blockly.Python.ORDER_NONE)||"[]",l){case"SUM":l="sum("+o+")";break;case"MIN":l="min("+o+")";break;case"MAX":l="max("+o+")";break;case"AVERAGE":l=(l=Blockly.Python.provideFunction_("math_mean",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if isinstance(e, int)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]))+"("+o+")";break;case"MEDIAN":l=(l=Blockly.Python.provideFunction_("math_median",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if isinstance(e, int)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]))+"("+o+")";break;case"MODE":l=(l=Blockly.Python.provideFunction_("math_modes",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]))+"("+o+")";break;case"STD_DEV":Blockly.Python.definitions_.import_math="import math",l=(l=Blockly.Python.provideFunction_("math_standard_deviation",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]))+"("+o+")";break;case"RANDOM":Blockly.Python.definitions_.import_random="import random",l="random.choice("+o+")";break;default:throw"Unknown operator: "+l}return[l,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.math_modulo=function(o){return[(Blockly.Python.valueToCode(o,"DIVIDEND",Blockly.Python.ORDER_MULTIPLICATIVE)||"0")+" % "+(o=Blockly.Python.valueToCode(o,"DIVISOR",Blockly.Python.ORDER_MULTIPLICATIVE)||"0"),Blockly.Python.ORDER_MULTIPLICATIVE]},Blockly.Python.math_constrain=function(o){return["min(max("+(Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"0")+", "+(Blockly.Python.valueToCode(o,"LOW",Blockly.Python.ORDER_NONE)||"0")+"), "+(o=Blockly.Python.valueToCode(o,"HIGH",Blockly.Python.ORDER_NONE)||"float('inf')")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.math_random_int=function(o){return Blockly.Python.definitions_.import_random="import random",["random.randint("+(Blockly.Python.valueToCode(o,"FROM",Blockly.Python.ORDER_NONE)||"0")+", "+(o=Blockly.Python.valueToCode(o,"TO",Blockly.Python.ORDER_NONE)||"0")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.math_random_float=function(o){return Blockly.Python.definitions_.import_random="import random",["random.random()",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.procedures={},Blockly.Python.procedures_defreturn=function(o){for(var l,t=[],n=o.workspace,e=Blockly.Variables.allUsedVarModels(n)||[],y=0;l=e[y];y++)l=l.name,-1==o.arguments_.indexOf(l)&&t.push(Blockly.Python.variableDB_.getName(l,Blockly.Variables.NAME_TYPE));for(n=Blockly.Variables.allDeveloperVariables(n),y=0;y<n.length;y++)t.push(Blockly.Python.variableDB_.getName(n[y],Blockly.Names.DEVELOPER_VARIABLE_TYPE));t=t.length?Blockly.Python.INDENT+"global "+t.join(", ")+"\n":"",n=Blockly.Python.variableDB_.getName(o.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),e=Blockly.Python.statementToCode(o,"STACK"),Blockly.Python.STATEMENT_PREFIX&&(y=o.id.replace(/\$/g,"$$$$"),e=Blockly.Python.prefixLines(Blockly.Python.STATEMENT_PREFIX.replace(/%1/g,"'"+y+"'"),Blockly.Python.INDENT)+e),Blockly.Python.INFINITE_LOOP_TRAP&&(e=Blockly.Python.INFINITE_LOOP_TRAP.replace(/%1/g,'"'+o.id+'"')+e),(l=Blockly.Python.valueToCode(o,"RETURN",Blockly.Python.ORDER_NONE)||"")?l=Blockly.Python.INDENT+"return "+l+"\n":e||(e=Blockly.Python.PASS);var r=[];for(y=0;y<o.arguments_.length;y++)r[y]=Blockly.Python.variableDB_.getName(o.arguments_[y],Blockly.Variables.NAME_TYPE);return t="def "+n+"("+r.join(", ")+"):\n"+t+e+l,t=Blockly.Python.scrub_(o,t),Blockly.Python.definitions_["%"+n]=t,null},Blockly.Python.procedures_defnoreturn=Blockly.Python.procedures_defreturn,Blockly.Python.procedures_callreturn=function(o){for(var l=Blockly.Python.variableDB_.getName(o.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],n=0;n<o.arguments_.length;n++)t[n]=Blockly.Python.valueToCode(o,"ARG"+n,Blockly.Python.ORDER_NONE)||"None";return[l+"("+t.join(", ")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.procedures_callnoreturn=function(o){for(var l=Blockly.Python.variableDB_.getName(o.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],n=0;n<o.arguments_.length;n++)t[n]=Blockly.Python.valueToCode(o,"ARG"+n,Blockly.Python.ORDER_NONE)||"None";return l+"("+t.join(", ")+")\n"},Blockly.Python.procedures_ifreturn=function(o){var l="if "+(Blockly.Python.valueToCode(o,"CONDITION",Blockly.Python.ORDER_NONE)||"False")+":\n";return o.hasReturnValue_?(o=Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"None",l+=Blockly.Python.INDENT+"return "+o+"\n"):l+=Blockly.Python.INDENT+"return\n",l},Blockly.Python.texts={},Blockly.Python.text=function(o){return[Blockly.Python.quote_(o.getFieldValue("TEXT")),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.text_join=function(o){switch(o.itemCount_){case 0:return["''",Blockly.Python.ORDER_ATOMIC];case 1:return["str("+(Blockly.Python.valueToCode(o,"ADD0",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_FUNCTION_CALL];case 2:var l=Blockly.Python.valueToCode(o,"ADD0",Blockly.Python.ORDER_NONE)||"''";return["str("+l+") + str("+(o=Blockly.Python.valueToCode(o,"ADD1",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_ADDITIVE];default:l=[];for(var t=0;t<o.itemCount_;t++)l[t]=Blockly.Python.valueToCode(o,"ADD"+t,Blockly.Python.ORDER_NONE)||"''";return[o="''.join([str("+(o=Blockly.Python.variableDB_.getDistinctName("x",Blockly.Variables.NAME_TYPE))+") for "+o+" in ["+l.join(", ")+"]])",Blockly.Python.ORDER_FUNCTION_CALL]}},Blockly.Python.text_append=function(o){var l=Blockly.Python.variableDB_.getName(o.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return l+" = str("+l+") + str("+(o=Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_NONE)||"''")+")\n"},Blockly.Python.text_length=function(o){return["len("+(Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_isEmpty=function(o){return["not len("+(Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_LOGICAL_NOT]},Blockly.Python.text_indexOf=function(o){var l="FIRST"==o.getFieldValue("END")?"find":"rfind",t=Blockly.Python.valueToCode(o,"FIND",Blockly.Python.ORDER_NONE)||"''";return l=(Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_MEMBER)||"''")+"."+l+"("+t+")",o.workspace.options.oneBasedIndex?[l+" + 1",Blockly.Python.ORDER_ADDITIVE]:[l,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_charAt=function(o){var l=o.getFieldValue("WHERE")||"FROM_START",t=Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_MEMBER)||"''";switch(l){case"FIRST":return[t+"[0]",Blockly.Python.ORDER_MEMBER];case"LAST":return[t+"[-1]",Blockly.Python.ORDER_MEMBER];case"FROM_START":return[t+"["+(o=Blockly.Python.getAdjustedInt(o,"AT"))+"]",Blockly.Python.ORDER_MEMBER];case"FROM_END":return[t+"["+(o=Blockly.Python.getAdjustedInt(o,"AT",1,!0))+"]",Blockly.Python.ORDER_MEMBER];case"RANDOM":return Blockly.Python.definitions_.import_random="import random",[Blockly.Python.provideFunction_("text_random_letter",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+t+")",Blockly.Python.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt)."},Blockly.Python.text_getSubstring=function(o){var l=o.getFieldValue("WHERE1"),t=o.getFieldValue("WHERE2"),n=Blockly.Python.valueToCode(o,"STRING",Blockly.Python.ORDER_MEMBER)||"''";switch(l){case"FROM_START":"0"==(l=Blockly.Python.getAdjustedInt(o,"AT1"))&&(l="");break;case"FROM_END":l=Blockly.Python.getAdjustedInt(o,"AT1",1,!0);break;case"FIRST":l="";break;default:throw"Unhandled option (text_getSubstring)"}switch(t){case"FROM_START":o=Blockly.Python.getAdjustedInt(o,"AT2",1);break;case"FROM_END":o=Blockly.Python.getAdjustedInt(o,"AT2",0,!0),Blockly.isNumber(String(o))?"0"==o&&(o=""):(Blockly.Python.definitions_.import_sys="import sys",o+=" or sys.maxsize");break;case"LAST":o="";break;default:throw"Unhandled option (text_getSubstring)"}return[n+"["+l+" : "+o+"]",Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_changeCase=function(o){var l={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[o.getFieldValue("CASE")];return[(Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+l,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_trim=function(o){var l={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[o.getFieldValue("MODE")];return[(Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+l,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_print=function(o){return"print("+(Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_NONE)||"''")+")\n"},Blockly.Python.text_prompt_ext=function(o){var l=Blockly.Python.provideFunction_("text_prompt",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]);return l=l+"("+(o.getField("TEXT")?Blockly.Python.quote_(o.getFieldValue("TEXT")):Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_NONE)||"''")+")","NUMBER"==o.getFieldValue("TYPE")&&(l="float("+l+")"),[l,Blockly.Python.ORDER_FUNCTION_CALL]},Blockly.Python.text_prompt=Blockly.Python.text_prompt_ext,Blockly.Python.text_count=function(o){return[(Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+".count("+(o=Blockly.Python.valueToCode(o,"SUB",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_replace=function(o){return[(Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+".replace("+(Blockly.Python.valueToCode(o,"FROM",Blockly.Python.ORDER_NONE)||"''")+", "+(o=Blockly.Python.valueToCode(o,"TO",Blockly.Python.ORDER_NONE)||"''")+")",Blockly.Python.ORDER_MEMBER]},Blockly.Python.text_reverse=function(o){return[(Blockly.Python.valueToCode(o,"TEXT",Blockly.Python.ORDER_MEMBER)||"''")+"[::-1]",Blockly.Python.ORDER_MEMBER]},Blockly.Python.variables={},Blockly.Python.variables_get=function(o){return[Blockly.Python.variableDB_.getName(o.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.variables_set=function(o){var l=Blockly.Python.valueToCode(o,"VALUE",Blockly.Python.ORDER_NONE)||"0";return Blockly.Python.variableDB_.getName(o.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+l+"\n"},Blockly.Python.variablesDynamic={},Blockly.Python.variables_get_dynamic=Blockly.Python.variables_get,Blockly.Python.variables_set_dynamic=Blockly.Python.variables_set;
Blockly.JavaScript=new Blockly.Generator("JavaScript"),Blockly.JavaScript.addReservedWords("Blockly,break,case,catch,continue,debugger,default,delete,do,else,finally,for,function,if,in,instanceof,new,return,switch,this,throw,try,typeof,var,void,while,with,class,enum,export,extends,import,super,implements,interface,let,package,private,protected,public,static,yield,const,null,true,false,Array,ArrayBuffer,Boolean,Date,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Error,eval,EvalError,Float32Array,Float64Array,Function,Infinity,Int16Array,Int32Array,Int8Array,isFinite,isNaN,Iterator,JSON,Math,NaN,Number,Object,parseFloat,parseInt,RangeError,ReferenceError,RegExp,StopIteration,String,SyntaxError,TypeError,Uint16Array,Uint32Array,Uint8Array,Uint8ClampedArray,undefined,uneval,URIError,applicationCache,closed,Components,content,_content,controllers,crypto,defaultStatus,dialogArguments,directories,document,frameElement,frames,fullScreen,globalStorage,history,innerHeight,innerWidth,length,location,locationbar,localStorage,menubar,messageManager,mozAnimationStartTime,mozInnerScreenX,mozInnerScreenY,mozPaintCount,name,navigator,opener,outerHeight,outerWidth,pageXOffset,pageYOffset,parent,performance,personalbar,pkcs11,returnValue,screen,screenX,screenY,scrollbars,scrollMaxX,scrollMaxY,scrollX,scrollY,self,sessionStorage,sidebar,status,statusbar,toolbar,top,URL,window,addEventListener,alert,atob,back,blur,btoa,captureEvents,clearImmediate,clearInterval,clearTimeout,close,confirm,disableExternalCapture,dispatchEvent,dump,enableExternalCapture,escape,find,focus,forward,GeckoActiveXObject,getAttention,getAttentionWithCycleCount,getComputedStyle,getSelection,home,matchMedia,maximize,minimize,moveBy,moveTo,mozRequestAnimationFrame,open,openDialog,postMessage,print,prompt,QueryInterface,releaseEvents,removeEventListener,resizeBy,resizeTo,restore,routeEvent,scroll,scrollBy,scrollByLines,scrollByPages,scrollTo,setCursor,setImmediate,setInterval,setResizable,setTimeout,showModalDialog,sizeToContent,stop,unescape,updateCommands,XPCNativeWrapper,XPCSafeJSObjectWrapper,onabort,onbeforeunload,onblur,onchange,onclick,onclose,oncontextmenu,ondevicemotion,ondeviceorientation,ondragdrop,onerror,onfocus,onhashchange,onkeydown,onkeypress,onkeyup,onload,onmousedown,onmousemove,onmouseout,onmouseover,onmouseup,onmozbeforepaint,onpaint,onpopstate,onreset,onresize,onscroll,onselect,onsubmit,onunload,onpageshow,onpagehide,Image,Option,Worker,Event,Range,File,FileReader,Blob,BlobBuilder,Attr,CDATASection,CharacterData,Comment,console,DocumentFragment,DocumentType,DomConfiguration,DOMError,DOMErrorHandler,DOMException,DOMImplementation,DOMImplementationList,DOMImplementationRegistry,DOMImplementationSource,DOMLocator,DOMObject,DOMString,DOMStringList,DOMTimeStamp,DOMUserData,Entity,EntityReference,MediaQueryList,MediaQueryListListener,NameList,NamedNodeMap,Node,NodeFilter,NodeIterator,NodeList,Notation,Plugin,PluginArray,ProcessingInstruction,SharedWorker,Text,TimeRanges,Treewalker,TypeInfo,UserDataHandler,Worker,WorkerGlobalScope,HTMLDocument,HTMLElement,HTMLAnchorElement,HTMLAppletElement,HTMLAudioElement,HTMLAreaElement,HTMLBaseElement,HTMLBaseFontElement,HTMLBodyElement,HTMLBRElement,HTMLButtonElement,HTMLCanvasElement,HTMLDirectoryElement,HTMLDivElement,HTMLDListElement,HTMLEmbedElement,HTMLFieldSetElement,HTMLFontElement,HTMLFormElement,HTMLFrameElement,HTMLFrameSetElement,HTMLHeadElement,HTMLHeadingElement,HTMLHtmlElement,HTMLHRElement,HTMLIFrameElement,HTMLImageElement,HTMLInputElement,HTMLKeygenElement,HTMLLabelElement,HTMLLIElement,HTMLLinkElement,HTMLMapElement,HTMLMenuElement,HTMLMetaElement,HTMLModElement,HTMLObjectElement,HTMLOListElement,HTMLOptGroupElement,HTMLOptionElement,HTMLOutputElement,HTMLParagraphElement,HTMLParamElement,HTMLPreElement,HTMLQuoteElement,HTMLScriptElement,HTMLSelectElement,HTMLSourceElement,HTMLSpanElement,HTMLStyleElement,HTMLTableElement,HTMLTableCaptionElement,HTMLTableCellElement,HTMLTableDataCellElement,HTMLTableHeaderCellElement,HTMLTableColElement,HTMLTableRowElement,HTMLTableSectionElement,HTMLTextAreaElement,HTMLTimeElement,HTMLTitleElement,HTMLTrackElement,HTMLUListElement,HTMLUnknownElement,HTMLVideoElement,HTMLCanvasElement,CanvasRenderingContext2D,CanvasGradient,CanvasPattern,TextMetrics,ImageData,CanvasPixelArray,HTMLAudioElement,HTMLVideoElement,NotifyAudioAvailableEvent,HTMLCollection,HTMLAllCollection,HTMLFormControlsCollection,HTMLOptionsCollection,HTMLPropertiesCollection,DOMTokenList,DOMSettableTokenList,DOMStringMap,RadioNodeList,SVGDocument,SVGElement,SVGAElement,SVGAltGlyphElement,SVGAltGlyphDefElement,SVGAltGlyphItemElement,SVGAnimationElement,SVGAnimateElement,SVGAnimateColorElement,SVGAnimateMotionElement,SVGAnimateTransformElement,SVGSetElement,SVGCircleElement,SVGClipPathElement,SVGColorProfileElement,SVGCursorElement,SVGDefsElement,SVGDescElement,SVGEllipseElement,SVGFilterElement,SVGFilterPrimitiveStandardAttributes,SVGFEBlendElement,SVGFEColorMatrixElement,SVGFEComponentTransferElement,SVGFECompositeElement,SVGFEConvolveMatrixElement,SVGFEDiffuseLightingElement,SVGFEDisplacementMapElement,SVGFEDistantLightElement,SVGFEFloodElement,SVGFEGaussianBlurElement,SVGFEImageElement,SVGFEMergeElement,SVGFEMergeNodeElement,SVGFEMorphologyElement,SVGFEOffsetElement,SVGFEPointLightElement,SVGFESpecularLightingElement,SVGFESpotLightElement,SVGFETileElement,SVGFETurbulenceElement,SVGComponentTransferFunctionElement,SVGFEFuncRElement,SVGFEFuncGElement,SVGFEFuncBElement,SVGFEFuncAElement,SVGFontElement,SVGFontFaceElement,SVGFontFaceFormatElement,SVGFontFaceNameElement,SVGFontFaceSrcElement,SVGFontFaceUriElement,SVGForeignObjectElement,SVGGElement,SVGGlyphElement,SVGGlyphRefElement,SVGGradientElement,SVGLinearGradientElement,SVGRadialGradientElement,SVGHKernElement,SVGImageElement,SVGLineElement,SVGMarkerElement,SVGMaskElement,SVGMetadataElement,SVGMissingGlyphElement,SVGMPathElement,SVGPathElement,SVGPatternElement,SVGPolylineElement,SVGPolygonElement,SVGRectElement,SVGScriptElement,SVGStopElement,SVGStyleElement,SVGSVGElement,SVGSwitchElement,SVGSymbolElement,SVGTextElement,SVGTextPathElement,SVGTitleElement,SVGTRefElement,SVGTSpanElement,SVGUseElement,SVGViewElement,SVGVKernElement,SVGAngle,SVGColor,SVGICCColor,SVGElementInstance,SVGElementInstanceList,SVGLength,SVGLengthList,SVGMatrix,SVGNumber,SVGNumberList,SVGPaint,SVGPoint,SVGPointList,SVGPreserveAspectRatio,SVGRect,SVGStringList,SVGTransform,SVGTransformList,SVGAnimatedAngle,SVGAnimatedBoolean,SVGAnimatedEnumeration,SVGAnimatedInteger,SVGAnimatedLength,SVGAnimatedLengthList,SVGAnimatedNumber,SVGAnimatedNumberList,SVGAnimatedPreserveAspectRatio,SVGAnimatedRect,SVGAnimatedString,SVGAnimatedTransformList,SVGPathSegList,SVGPathSeg,SVGPathSegArcAbs,SVGPathSegArcRel,SVGPathSegClosePath,SVGPathSegCurvetoCubicAbs,SVGPathSegCurvetoCubicRel,SVGPathSegCurvetoCubicSmoothAbs,SVGPathSegCurvetoCubicSmoothRel,SVGPathSegCurvetoQuadraticAbs,SVGPathSegCurvetoQuadraticRel,SVGPathSegCurvetoQuadraticSmoothAbs,SVGPathSegCurvetoQuadraticSmoothRel,SVGPathSegLinetoAbs,SVGPathSegLinetoHorizontalAbs,SVGPathSegLinetoHorizontalRel,SVGPathSegLinetoRel,SVGPathSegLinetoVerticalAbs,SVGPathSegLinetoVerticalRel,SVGPathSegMovetoAbs,SVGPathSegMovetoRel,ElementTimeControl,TimeEvent,SVGAnimatedPathData,SVGAnimatedPoints,SVGColorProfileRule,SVGCSSRule,SVGExternalResourcesRequired,SVGFitToViewBox,SVGLangSpace,SVGLocatable,SVGRenderingIntent,SVGStylable,SVGTests,SVGTextContentElement,SVGTextPositioningElement,SVGTransformable,SVGUnitTypes,SVGURIReference,SVGViewSpec,SVGZoomAndPan"),Blockly.JavaScript.ORDER_ATOMIC=0,Blockly.JavaScript.ORDER_NEW=1.1,Blockly.JavaScript.ORDER_MEMBER=1.2,Blockly.JavaScript.ORDER_FUNCTION_CALL=2,Blockly.JavaScript.ORDER_INCREMENT=3,Blockly.JavaScript.ORDER_DECREMENT=3,Blockly.JavaScript.ORDER_BITWISE_NOT=4.1,Blockly.JavaScript.ORDER_UNARY_PLUS=4.2,Blockly.JavaScript.ORDER_UNARY_NEGATION=4.3,Blockly.JavaScript.ORDER_LOGICAL_NOT=4.4,Blockly.JavaScript.ORDER_TYPEOF=4.5,Blockly.JavaScript.ORDER_VOID=4.6,Blockly.JavaScript.ORDER_DELETE=4.7,Blockly.JavaScript.ORDER_AWAIT=4.8,Blockly.JavaScript.ORDER_EXPONENTIATION=5,Blockly.JavaScript.ORDER_MULTIPLICATION=5.1,Blockly.JavaScript.ORDER_DIVISION=5.2,Blockly.JavaScript.ORDER_MODULUS=5.3,Blockly.JavaScript.ORDER_SUBTRACTION=6.1,Blockly.JavaScript.ORDER_ADDITION=6.2,Blockly.JavaScript.ORDER_BITWISE_SHIFT=7,Blockly.JavaScript.ORDER_RELATIONAL=8,Blockly.JavaScript.ORDER_IN=8,Blockly.JavaScript.ORDER_INSTANCEOF=8,Blockly.JavaScript.ORDER_EQUALITY=9,Blockly.JavaScript.ORDER_BITWISE_AND=10,Blockly.JavaScript.ORDER_BITWISE_XOR=11,Blockly.JavaScript.ORDER_BITWISE_OR=12,Blockly.JavaScript.ORDER_LOGICAL_AND=13,Blockly.JavaScript.ORDER_LOGICAL_OR=14,Blockly.JavaScript.ORDER_CONDITIONAL=15,Blockly.JavaScript.ORDER_ASSIGNMENT=16,Blockly.JavaScript.ORDER_YIELD=17,Blockly.JavaScript.ORDER_COMMA=18,Blockly.JavaScript.ORDER_NONE=99,Blockly.JavaScript.ORDER_OVERRIDES=[[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_FUNCTION_CALL,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_MEMBER],[Blockly.JavaScript.ORDER_MEMBER,Blockly.JavaScript.ORDER_FUNCTION_CALL],[Blockly.JavaScript.ORDER_LOGICAL_NOT,Blockly.JavaScript.ORDER_LOGICAL_NOT],[Blockly.JavaScript.ORDER_MULTIPLICATION,Blockly.JavaScript.ORDER_MULTIPLICATION],[Blockly.JavaScript.ORDER_ADDITION,Blockly.JavaScript.ORDER_ADDITION],[Blockly.JavaScript.ORDER_LOGICAL_AND,Blockly.JavaScript.ORDER_LOGICAL_AND],[Blockly.JavaScript.ORDER_LOGICAL_OR,Blockly.JavaScript.ORDER_LOGICAL_OR]],Blockly.JavaScript.init=function(a){Blockly.JavaScript.definitions_=Object.create(null),Blockly.JavaScript.functionNames_=Object.create(null),Blockly.JavaScript.variableDB_?Blockly.JavaScript.variableDB_.reset():Blockly.JavaScript.variableDB_=new Blockly.Names(Blockly.JavaScript.RESERVED_WORDS_),Blockly.JavaScript.variableDB_.setVariableMap(a.getVariableMap());for(var e=[],t=Blockly.Variables.allDeveloperVariables(a),l=0;l<t.length;l++)e.push(Blockly.JavaScript.variableDB_.getName(t[l],Blockly.Names.DEVELOPER_VARIABLE_TYPE));for(a=Blockly.Variables.allUsedVarModels(a),l=0;l<a.length;l++)e.push(Blockly.JavaScript.variableDB_.getName(a[l].getId(),Blockly.Variables.NAME_TYPE));e.length&&(Blockly.JavaScript.definitions_.variables="var "+e.join(", ")+";")},Blockly.JavaScript.finish=function(a){var e,t=[];for(e in Blockly.JavaScript.definitions_)t.push(Blockly.JavaScript.definitions_[e]);return delete Blockly.JavaScript.definitions_,delete Blockly.JavaScript.functionNames_,Blockly.JavaScript.variableDB_.reset(),t.join("\n\n")+"\n\n\n"+a},Blockly.JavaScript.scrubNakedValue=function(a){return a+";\n"},Blockly.JavaScript.quote_=function(a){return"'"+(a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},Blockly.JavaScript.scrub_=function(a,e){var t="";if(!a.outputConnection||!a.outputConnection.targetConnection){var l=a.getCommentText();(l=Blockly.utils.wrap(l,Blockly.JavaScript.COMMENT_WRAP-3))&&(t=a.getProcedureDef?t+"/**\n"+Blockly.JavaScript.prefixLines(l+"\n"," * ")+" */\n":t+Blockly.JavaScript.prefixLines(l+"\n","// "));for(var r=0;r<a.inputList.length;r++)a.inputList[r].type==Blockly.INPUT_VALUE&&(l=a.inputList[r].connection.targetBlock())&&(l=Blockly.JavaScript.allNestedComments(l))&&(t+=Blockly.JavaScript.prefixLines(l,"// "))}return r=a.nextConnection&&a.nextConnection.targetBlock(),t+e+(r=Blockly.JavaScript.blockToCode(r))},Blockly.JavaScript.getAdjusted=function(a,e,t,l,r){t=t||0,r=r||Blockly.JavaScript.ORDER_NONE,a.workspace.options.oneBasedIndex&&t--;var c=a.workspace.options.oneBasedIndex?"1":"0";if(a=0<t?Blockly.JavaScript.valueToCode(a,e,Blockly.JavaScript.ORDER_ADDITION)||c:t<0?Blockly.JavaScript.valueToCode(a,e,Blockly.JavaScript.ORDER_SUBTRACTION)||c:l?Blockly.JavaScript.valueToCode(a,e,Blockly.JavaScript.ORDER_UNARY_NEGATION)||c:Blockly.JavaScript.valueToCode(a,e,r)||c,Blockly.isNumber(a))a=parseFloat(a)+t,l&&(a=-a);else{if(0<t){a=a+" + "+t;var o=Blockly.JavaScript.ORDER_ADDITION}else t<0&&(a=a+" - "+-t,o=Blockly.JavaScript.ORDER_SUBTRACTION);l&&(a=t?"-("+a+")":"-"+a,o=Blockly.JavaScript.ORDER_UNARY_NEGATION),o=Math.floor(o),r=Math.floor(r),o&&o<=r&&(a="("+a+")")}return a},Blockly.JavaScript.colour={},Blockly.JavaScript.colour_picker=function(a){return["'"+a.getFieldValue("COLOUR")+"'",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.colour_random=function(a){return[Blockly.JavaScript.provideFunction_("colourRandom",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.colour_rgb=function(a){var e=Blockly.JavaScript.valueToCode(a,"RED",Blockly.JavaScript.ORDER_COMMA)||0,t=Blockly.JavaScript.valueToCode(a,"GREEN",Blockly.JavaScript.ORDER_COMMA)||0;return a=Blockly.JavaScript.valueToCode(a,"BLUE",Blockly.JavaScript.ORDER_COMMA)||0,[Blockly.JavaScript.provideFunction_("colourRgb",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+e+", "+t+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.colour_blend=function(a){var e=Blockly.JavaScript.valueToCode(a,"COLOUR1",Blockly.JavaScript.ORDER_COMMA)||"'#000000'",t=Blockly.JavaScript.valueToCode(a,"COLOUR2",Blockly.JavaScript.ORDER_COMMA)||"'#000000'";return a=Blockly.JavaScript.valueToCode(a,"RATIO",Blockly.JavaScript.ORDER_COMMA)||.5,[Blockly.JavaScript.provideFunction_("colourBlend",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+e+", "+t+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists={},Blockly.JavaScript.lists_create_empty=function(a){return["[]",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.lists_create_with=function(a){for(var e=Array(a.itemCount_),t=0;t<a.itemCount_;t++)e[t]=Blockly.JavaScript.valueToCode(a,"ADD"+t,Blockly.JavaScript.ORDER_COMMA)||"null";return["["+e.join(", ")+"]",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.lists_repeat=function(a){return[Blockly.JavaScript.provideFunction_("listsRepeat",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(Blockly.JavaScript.valueToCode(a,"ITEM",Blockly.JavaScript.ORDER_COMMA)||"null")+", "+(a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_COMMA)||"0")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.lists_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]},Blockly.JavaScript.lists_indexOf=function(a){var e="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",t=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";return e=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"[]")+"."+e+"("+t+")",a.workspace.options.oneBasedIndex?[e+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists_getIndex=function(a){var e=a.getFieldValue("MODE")||"GET",t=a.getFieldValue("WHERE")||"FROM_START",l=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==t?Blockly.JavaScript.ORDER_COMMA:Blockly.JavaScript.ORDER_MEMBER)||"[]";switch(t){case"FIRST":if("GET"==e)return[l+"[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==e)return[l+".shift()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==e)return l+".shift();\n";break;case"LAST":if("GET"==e)return[l+".slice(-1)[0]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==e)return[l+".pop()",Blockly.JavaScript.ORDER_MEMBER];if("REMOVE"==e)return l+".pop();\n";break;case"FROM_START":if(a=Blockly.JavaScript.getAdjusted(a,"AT"),"GET"==e)return[l+"["+a+"]",Blockly.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==e)return[l+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==e)return l+".splice("+a+", 1);\n";break;case"FROM_END":if(a=Blockly.JavaScript.getAdjusted(a,"AT",1,!0),"GET"==e)return[l+".slice("+a+")[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==e)return[l+".splice("+a+", 1)[0]",Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==e)return l+".splice("+a+", 1);";break;case"RANDOM":if(l=Blockly.JavaScript.provideFunction_("listsGetRandomItem",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+l+", "+("GET"!=e)+")","GET"==e||"GET_REMOVE"==e)return[l,Blockly.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==e)return l+";\n"}throw"Unhandled combination (lists_getIndex)."},Blockly.JavaScript.lists_setIndex=function(a){function e(){if(t.match(/^\w+$/))return"";var a=Blockly.JavaScript.variableDB_.getDistinctName("tmpList",Blockly.Variables.NAME_TYPE),e="var "+a+" = "+t+";\n";return t=a,e}var t=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",l=a.getFieldValue("MODE")||"GET",r=a.getFieldValue("WHERE")||"FROM_START",c=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"null";switch(r){case"FIRST":if("SET"==l)return t+"[0] = "+c+";\n";if("INSERT"==l)return t+".unshift("+c+");\n";break;case"LAST":if("SET"==l)return(a=e())+(t+"[")+t+".length - 1] = "+c+";\n";if("INSERT"==l)return t+".push("+c+");\n";break;case"FROM_START":if(r=Blockly.JavaScript.getAdjusted(a,"AT"),"SET"==l)return t+"["+r+"] = "+c+";\n";if("INSERT"==l)return t+".splice("+r+", 0, "+c+");\n";break;case"FROM_END":if(r=Blockly.JavaScript.getAdjusted(a,"AT",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION),a=e(),"SET"==l)return a+(t+"[")+t+".length - "+r+"] = "+c+";\n";if("INSERT"==l)return a+(t+".splice(")+t+".length - "+r+", 0, "+c+");\n";break;case"RANDOM":if(a=e(),a+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName("tmpX",Blockly.Variables.NAME_TYPE))+" = Math.floor(Math.random() * "+t+".length);\n","SET"==l)return a+(t+"[")+r+"] = "+c+";\n";if("INSERT"==l)return a+(t+".splice(")+r+", 0, "+c+");\n"}throw"Unhandled combination (lists_setIndex)."},Blockly.JavaScript.lists.getIndex_=function(a,e,t){return"FIRST"==e?"0":"FROM_END"==e?a+".length - 1 - "+t:"LAST"==e?a+".length - 1":t},Blockly.JavaScript.lists_getSublist=function(a){var e=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",t=a.getFieldValue("WHERE1"),l=a.getFieldValue("WHERE2");if("FIRST"==t&&"LAST"==l)e+=".slice(0)";else if(e.match(/^\w+$/)||"FROM_END"!=t&&"FROM_START"==l){switch(t){case"FROM_START":var r=Blockly.JavaScript.getAdjusted(a,"AT1");break;case"FROM_END":r=e+".length - "+(r=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":r="0";break;default:throw"Unhandled option (lists_getSublist)."}switch(l){case"FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case"FROM_END":a=e+".length - "+(a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION));break;case"LAST":a=e+".length";break;default:throw"Unhandled option (lists_getSublist)."}e=e+".slice("+r+", "+a+")"}else{r=Blockly.JavaScript.getAdjusted(a,"AT1"),a=Blockly.JavaScript.getAdjusted(a,"AT2");var c=Blockly.JavaScript.lists.getIndex_,o={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};e=Blockly.JavaScript.provideFunction_("subsequence"+o[t]+o[l],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==t||"FROM_START"==t?", at1":"")+("FROM_END"==l||"FROM_START"==l?", at2":"")+") {","  var start = "+c("sequence",t,"at1")+";","  var end = "+c("sequence",l,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+e+("FROM_END"==t||"FROM_START"==t?", "+r:"")+("FROM_END"==l||"FROM_START"==l?", "+a:"")+")"}return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists_sort=function(a){var e=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]",t="1"===a.getFieldValue("DIRECTION")?1:-1;return a=a.getFieldValue("TYPE"),[e+".slice().sort("+Blockly.JavaScript.provideFunction_("listsGetSortCompare",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return parseFloat(a) - parseFloat(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+a+'", '+t+"))",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists_split=function(a){var e=Blockly.JavaScript.valueToCode(a,"INPUT",Blockly.JavaScript.ORDER_MEMBER),t=Blockly.JavaScript.valueToCode(a,"DELIM",Blockly.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(a=a.getFieldValue("MODE")))e||(e="''"),a="split";else{if("JOIN"!=a)throw"Unknown mode: "+a;e||(e="[]"),a="join"}return[e+"."+a+"("+t+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.lists_reverse=function(a){return[(Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.logic={},Blockly.JavaScript.controls_if=function(a){var e=0,t="";do{var l=Blockly.JavaScript.valueToCode(a,"IF"+e,Blockly.JavaScript.ORDER_NONE)||"false",r=Blockly.JavaScript.statementToCode(a,"DO"+e);t+=(0<e?" else ":"")+"if ("+l+") {\n"+r+"}",++e}while(a.getInput("IF"+e));return a.getInput("ELSE")&&(t+=" else {\n"+(r=Blockly.JavaScript.statementToCode(a,"ELSE"))+"}"),t+"\n"},Blockly.JavaScript.controls_ifelse=Blockly.JavaScript.controls_if,Blockly.JavaScript.logic_compare=function(a){var e={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[a.getFieldValue("OP")],t="=="==e||"!="==e?Blockly.JavaScript.ORDER_EQUALITY:Blockly.JavaScript.ORDER_RELATIONAL;return[(Blockly.JavaScript.valueToCode(a,"A",t)||"0")+" "+e+" "+(a=Blockly.JavaScript.valueToCode(a,"B",t)||"0"),t]},Blockly.JavaScript.logic_operation=function(a){var e="AND"==a.getFieldValue("OP")?"&&":"||",t="&&"==e?Blockly.JavaScript.ORDER_LOGICAL_AND:Blockly.JavaScript.ORDER_LOGICAL_OR,l=Blockly.JavaScript.valueToCode(a,"A",t);if(a=Blockly.JavaScript.valueToCode(a,"B",t),l||a){var r="&&"==e?"true":"false";l||(l=r),a||(a=r)}else a=l="false";return[l+" "+e+" "+a,t]},Blockly.JavaScript.logic_negate=function(a){var e=Blockly.JavaScript.ORDER_LOGICAL_NOT;return["!"+(Blockly.JavaScript.valueToCode(a,"BOOL",e)||"true"),e]},Blockly.JavaScript.logic_boolean=function(a){return["TRUE"==a.getFieldValue("BOOL")?"true":"false",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.logic_null=function(a){return["null",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.logic_ternary=function(a){return[(Blockly.JavaScript.valueToCode(a,"IF",Blockly.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(Blockly.JavaScript.valueToCode(a,"THEN",Blockly.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(a=Blockly.JavaScript.valueToCode(a,"ELSE",Blockly.JavaScript.ORDER_CONDITIONAL)||"null"),Blockly.JavaScript.ORDER_CONDITIONAL]},Blockly.JavaScript.loops={},Blockly.JavaScript.controls_repeat_ext=function(a){var e=a.getField("TIMES")?String(Number(a.getFieldValue("TIMES"))):Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",t=Blockly.JavaScript.statementToCode(a,"DO");t=Blockly.JavaScript.addLoopTrap(t,a.id),a="";var l=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),r=e;return e.match(/^\w+$/)||Blockly.isNumber(e)||(a+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE))+" = "+e+";\n"),a+"for (var "+l+" = 0; "+l+" < "+r+"; "+l+"++) {\n"+t+"}\n"},Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext,Blockly.JavaScript.controls_whileUntil=function(a){var e="UNTIL"==a.getFieldValue("MODE"),t=Blockly.JavaScript.valueToCode(a,"BOOL",e?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",l=Blockly.JavaScript.statementToCode(a,"DO");return e&&(t="!"+t),"while ("+t+") {\n"+(l=Blockly.JavaScript.addLoopTrap(l,a.id))+"}\n"},Blockly.JavaScript.controls_for=function(a){var e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),t=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",l=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",r=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",c=Blockly.JavaScript.statementToCode(a,"DO");if(c=Blockly.JavaScript.addLoopTrap(c,a.id),Blockly.isNumber(t)&&Blockly.isNumber(l)&&Blockly.isNumber(r)){var o=parseFloat(t)<=parseFloat(l);a="for ("+e+" = "+t+"; "+e+(o?" <= ":" >= ")+l+"; "+e,a=(1==(e=Math.abs(parseFloat(r)))?a+(o?"++":"--"):a+(o?" += ":" -= ")+e)+") {\n"+c+"}\n"}else a="",(o=t).match(/^\w+$/)||Blockly.isNumber(t)||(a+="var "+(o=Blockly.JavaScript.variableDB_.getDistinctName(e+"_start",Blockly.Variables.NAME_TYPE))+" = "+t+";\n"),(t=l).match(/^\w+$/)||Blockly.isNumber(l)||(a+="var "+(t=Blockly.JavaScript.variableDB_.getDistinctName(e+"_end",Blockly.Variables.NAME_TYPE))+" = "+l+";\n"),a+="var "+(l=Blockly.JavaScript.variableDB_.getDistinctName(e+"_inc",Blockly.Variables.NAME_TYPE))+" = ",a=(a=Blockly.isNumber(r)?a+(Math.abs(r)+";\n"):a+"Math.abs("+r+");\n")+"if ("+o+" > "+t+") {\n"+(Blockly.JavaScript.INDENT+l)+" = -"+l+";\n",a+="}\n",a+="for ("+e+" = "+o+"; "+l+" >= 0 ? "+e+" <= "+t+" : "+e+" >= "+t+"; "+e+" += "+l+") {\n"+c+"}\n";return a},Blockly.JavaScript.controls_forEach=function(a){var e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),t=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",l=Blockly.JavaScript.statementToCode(a,"DO");l=Blockly.JavaScript.addLoopTrap(l,a.id),a="";var r=t;return t.match(/^\w+$/)||(a+="var "+(r=Blockly.JavaScript.variableDB_.getDistinctName(e+"_list",Blockly.Variables.NAME_TYPE))+" = "+t+";\n"),a+"for (var "+(t=Blockly.JavaScript.variableDB_.getDistinctName(e+"_index",Blockly.Variables.NAME_TYPE))+" in "+r+") {\n"+(l=Blockly.JavaScript.INDENT+e+" = "+r+"["+t+"];\n"+l)+"}\n"},Blockly.JavaScript.controls_flow_statements=function(a){switch(a.getFieldValue("FLOW")){case"BREAK":return"break;\n";case"CONTINUE":return"continue;\n"}throw"Unknown flow statement."},Blockly.JavaScript.math={},Blockly.JavaScript.math_number=function(a){return[a=parseFloat(a.getFieldValue("NUM")),0<=a?Blockly.JavaScript.ORDER_ATOMIC:Blockly.JavaScript.ORDER_UNARY_NEGATION]},Blockly.JavaScript.math_arithmetic=function(a){var e={ADD:[" + ",Blockly.JavaScript.ORDER_ADDITION],MINUS:[" - ",Blockly.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",Blockly.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",Blockly.JavaScript.ORDER_DIVISION],POWER:[null,Blockly.JavaScript.ORDER_COMMA]}[a.getFieldValue("OP")],t=e[0];e=e[1];var l=Blockly.JavaScript.valueToCode(a,"A",e)||"0";return a=Blockly.JavaScript.valueToCode(a,"B",e)||"0",t?[l+t+a,e]:["Math.pow("+l+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_single=function(a){var e=a.getFieldValue("OP");if("NEG"==e)return"-"==(a=Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(a=" "+a),["-"+a,Blockly.JavaScript.ORDER_UNARY_NEGATION];switch(a="SIN"==e||"COS"==e||"TAN"==e?Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_DIVISION)||"0":Blockly.JavaScript.valueToCode(a,"NUM",Blockly.JavaScript.ORDER_NONE)||"0",e){case"ABS":var t="Math.abs("+a+")";break;case"ROOT":t="Math.sqrt("+a+")";break;case"LN":t="Math.log("+a+")";break;case"EXP":t="Math.exp("+a+")";break;case"POW10":t="Math.pow(10,"+a+")";break;case"ROUND":t="Math.round("+a+")";break;case"ROUNDUP":t="Math.ceil("+a+")";break;case"ROUNDDOWN":t="Math.floor("+a+")";break;case"SIN":t="Math.sin("+a+" / 180 * Math.PI)";break;case"COS":t="Math.cos("+a+" / 180 * Math.PI)";break;case"TAN":t="Math.tan("+a+" / 180 * Math.PI)"}if(t)return[t,Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(e){case"LOG10":t="Math.log("+a+") / Math.log(10)";break;case"ASIN":t="Math.asin("+a+") / Math.PI * 180";break;case"ACOS":t="Math.acos("+a+") / Math.PI * 180";break;case"ATAN":t="Math.atan("+a+") / Math.PI * 180";break;default:throw"Unknown math operator: "+e}return[t,Blockly.JavaScript.ORDER_DIVISION]},Blockly.JavaScript.math_constant=function(a){return{PI:["Math.PI",Blockly.JavaScript.ORDER_MEMBER],E:["Math.E",Blockly.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",Blockly.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",Blockly.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",Blockly.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",Blockly.JavaScript.ORDER_ATOMIC]}[a.getFieldValue("CONSTANT")]},Blockly.JavaScript.math_number_property=function(a){var e=Blockly.JavaScript.valueToCode(a,"NUMBER_TO_CHECK",Blockly.JavaScript.ORDER_MODULUS)||"0",t=a.getFieldValue("PROPERTY");if("PRIME"==t)return[Blockly.JavaScript.provideFunction_("mathIsPrime",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+e+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];switch(t){case"EVEN":var l=e+" % 2 == 0";break;case"ODD":l=e+" % 2 == 1";break;case"WHOLE":l=e+" % 1 == 0";break;case"POSITIVE":l=e+" > 0";break;case"NEGATIVE":l=e+" < 0";break;case"DIVISIBLE_BY":l=e+" % "+(a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[l,Blockly.JavaScript.ORDER_EQUALITY]},Blockly.JavaScript.math_change=function(a){var e=Blockly.JavaScript.valueToCode(a,"DELTA",Blockly.JavaScript.ORDER_ADDITION)||"0";return(a=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE))+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+e+";\n"},Blockly.JavaScript.math_round=Blockly.JavaScript.math_single,Blockly.JavaScript.math_trig=Blockly.JavaScript.math_single,Blockly.JavaScript.math_on_list=function(a){var e=a.getFieldValue("OP");switch(e){case"SUM":a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_MEMBER)||"[]",a+=".reduce(function(x, y) {return x + y;})";break;case"MIN":a="Math.min.apply(null, "+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]")+")";break;case"MAX":a="Math.max.apply(null, "+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_COMMA)||"[]")+")";break;case"AVERAGE":a=(e=Blockly.JavaScript.provideFunction_("mathMean",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":a=(e=Blockly.JavaScript.provideFunction_("mathMedian",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":a=(e=Blockly.JavaScript.provideFunction_("mathModes",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":a=(e=Blockly.JavaScript.provideFunction_("mathStandardDeviation",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":a=(e=Blockly.JavaScript.provideFunction_("mathRandomList",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(a=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw"Unknown operator: "+e}return[a,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_modulo=function(a){return[(Blockly.JavaScript.valueToCode(a,"DIVIDEND",Blockly.JavaScript.ORDER_MODULUS)||"0")+" % "+(a=Blockly.JavaScript.valueToCode(a,"DIVISOR",Blockly.JavaScript.ORDER_MODULUS)||"0"),Blockly.JavaScript.ORDER_MODULUS]},Blockly.JavaScript.math_constrain=function(a){return["Math.min(Math.max("+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_COMMA)||"0")+", "+(Blockly.JavaScript.valueToCode(a,"LOW",Blockly.JavaScript.ORDER_COMMA)||"0")+"), "+(a=Blockly.JavaScript.valueToCode(a,"HIGH",Blockly.JavaScript.ORDER_COMMA)||"Infinity")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_random_int=function(a){var e=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_COMMA)||"0";return a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_COMMA)||"0",[Blockly.JavaScript.provideFunction_("mathRandomInt",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+e+", "+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.math_random_float=function(a){return["Math.random()",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures={},Blockly.JavaScript.procedures_defreturn=function(a){var e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),t=Blockly.JavaScript.statementToCode(a,"STACK");if(Blockly.JavaScript.STATEMENT_PREFIX){var l=a.id.replace(/\$/g,"$$$$");t=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+l+"'"),Blockly.JavaScript.INDENT)+t}Blockly.JavaScript.INFINITE_LOOP_TRAP&&(t=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+t),(l=Blockly.JavaScript.valueToCode(a,"RETURN",Blockly.JavaScript.ORDER_NONE)||"")&&(l=Blockly.JavaScript.INDENT+"return "+l+";\n");for(var r=[],c=0;c<a.arguments_.length;c++)r[c]=Blockly.JavaScript.variableDB_.getName(a.arguments_[c],Blockly.Variables.NAME_TYPE);return t="function "+e+"("+r.join(", ")+") {\n"+t+l+"}",t=Blockly.JavaScript.scrub_(a,t),Blockly.JavaScript.definitions_["%"+e]=t,null},Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn,Blockly.JavaScript.procedures_callreturn=function(a){for(var e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],l=0;l<a.arguments_.length;l++)t[l]=Blockly.JavaScript.valueToCode(a,"ARG"+l,Blockly.JavaScript.ORDER_COMMA)||"null";return[e+"("+t.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures_callnoreturn=function(a){for(var e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),t=[],l=0;l<a.arguments_.length;l++)t[l]=Blockly.JavaScript.valueToCode(a,"ARG"+l,Blockly.JavaScript.ORDER_COMMA)||"null";return e+"("+t.join(", ")+");\n"},Blockly.JavaScript.procedures_ifreturn=function(a){var e="if ("+(Blockly.JavaScript.valueToCode(a,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";return a.hasReturnValue_?(a=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null",e+=Blockly.JavaScript.INDENT+"return "+a+";\n"):e+=Blockly.JavaScript.INDENT+"return;\n",e+"}\n"},Blockly.JavaScript.texts={},Blockly.JavaScript.text=function(a){return[Blockly.JavaScript.quote_(a.getFieldValue("TEXT")),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.text_join=function(a){switch(a.itemCount_){case 0:return["''",Blockly.JavaScript.ORDER_ATOMIC];case 1:return["String("+(Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case 2:var e=Blockly.JavaScript.valueToCode(a,"ADD0",Blockly.JavaScript.ORDER_NONE)||"''";return["String("+e+") + String("+(a=Blockly.JavaScript.valueToCode(a,"ADD1",Blockly.JavaScript.ORDER_NONE)||"''")+")",Blockly.JavaScript.ORDER_ADDITION];default:e=Array(a.itemCount_);for(var t=0;t<a.itemCount_;t++)e[t]=Blockly.JavaScript.valueToCode(a,"ADD"+t,Blockly.JavaScript.ORDER_COMMA)||"''";return[a="["+e.join(",")+"].join('')",Blockly.JavaScript.ORDER_FUNCTION_CALL]}},Blockly.JavaScript.text_append=function(a){var e=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE);return e+" = String("+e+") + String("+(a=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+");\n"},Blockly.JavaScript.text_length=function(a){return[(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''")+".length",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.text_isEmpty=function(a){return["!"+(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+".length",Blockly.JavaScript.ORDER_LOGICAL_NOT]},Blockly.JavaScript.text_indexOf=function(a){var e="FIRST"==a.getFieldValue("END")?"indexOf":"lastIndexOf",t=Blockly.JavaScript.valueToCode(a,"FIND",Blockly.JavaScript.ORDER_NONE)||"''";return e=(Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_MEMBER)||"''")+"."+e+"("+t+")",a.workspace.options.oneBasedIndex?[e+" + 1",Blockly.JavaScript.ORDER_ADDITION]:[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_charAt=function(a){var e=a.getFieldValue("WHERE")||"FROM_START",t=Blockly.JavaScript.valueToCode(a,"VALUE","RANDOM"==e?Blockly.JavaScript.ORDER_NONE:Blockly.JavaScript.ORDER_MEMBER)||"''";switch(e){case"FIRST":return[t+".charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[t+".slice(-1)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[t+".charAt("+(a=Blockly.JavaScript.getAdjusted(a,"AT"))+")",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[t+".slice("+(a=Blockly.JavaScript.getAdjusted(a,"AT",1,!0))+").charAt(0)",Blockly.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[Blockly.JavaScript.provideFunction_("textRandomLetter",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+t+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt)."},Blockly.JavaScript.text.getIndex_=function(a,e,t){return"FIRST"==e?"0":"FROM_END"==e?a+".length - 1 - "+t:"LAST"==e?a+".length - 1":t},Blockly.JavaScript.text_getSubstring=function(a){var e=Blockly.JavaScript.valueToCode(a,"STRING",Blockly.JavaScript.ORDER_FUNCTION_CALL)||"''",t=a.getFieldValue("WHERE1"),l=a.getFieldValue("WHERE2");if("FIRST"!=t||"LAST"!=l)if(e.match(/^'?\w+'?$/)||"FROM_END"!=t&&"LAST"!=t&&"FROM_END"!=l&&"LAST"!=l){switch(t){case"FROM_START":var r=Blockly.JavaScript.getAdjusted(a,"AT1");break;case"FROM_END":r=e+".length - "+(r=Blockly.JavaScript.getAdjusted(a,"AT1",1,!1,Blockly.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":r="0";break;default:throw"Unhandled option (text_getSubstring)."}switch(l){case"FROM_START":a=Blockly.JavaScript.getAdjusted(a,"AT2",1);break;case"FROM_END":a=e+".length - "+(a=Blockly.JavaScript.getAdjusted(a,"AT2",0,!1,Blockly.JavaScript.ORDER_SUBTRACTION));break;case"LAST":a=e+".length";break;default:throw"Unhandled option (text_getSubstring)."}e=e+".slice("+r+", "+a+")"}else{r=Blockly.JavaScript.getAdjusted(a,"AT1"),a=Blockly.JavaScript.getAdjusted(a,"AT2");var c=Blockly.JavaScript.text.getIndex_,o={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};e=Blockly.JavaScript.provideFunction_("subsequence"+o[t]+o[l],["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==t||"FROM_START"==t?", at1":"")+("FROM_END"==l||"FROM_START"==l?", at2":"")+") {","  var start = "+c("sequence",t,"at1")+";","  var end = "+c("sequence",l,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+e+("FROM_END"==t||"FROM_START"==t?", "+r:"")+("FROM_END"==l||"FROM_START"==l?", "+a:"")+")"}return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_changeCase=function(a){var e={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[a.getFieldValue("CASE")];return a=Blockly.JavaScript.valueToCode(a,"TEXT",e?Blockly.JavaScript.ORDER_MEMBER:Blockly.JavaScript.ORDER_NONE)||"''",[e?a+e:Blockly.JavaScript.provideFunction_("textToTitleCase",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+a+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_trim=function(a){var e={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[a.getFieldValue("MODE")];return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_print=function(a){return"window.alert("+(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+");\n"},Blockly.JavaScript.text_prompt_ext=function(a){var e="window.prompt("+(a.getField("TEXT")?Blockly.JavaScript.quote_(a.getFieldValue("TEXT")):Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==a.getFieldValue("TYPE")&&(e="parseFloat("+e+")"),[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.text_prompt=Blockly.JavaScript.text_prompt_ext,Blockly.JavaScript.text_count=function(a){var e=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''";return a=Blockly.JavaScript.valueToCode(a,"SUB",Blockly.JavaScript.ORDER_NONE)||"''",[Blockly.JavaScript.provideFunction_("textCount",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+e+", "+a+")",Blockly.JavaScript.ORDER_SUBTRACTION]},Blockly.JavaScript.text_replace=function(a){var e=Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''",t=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_NONE)||"''";return a=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_NONE)||"''",[Blockly.JavaScript.provideFunction_("textReplace",["function "+Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+e+", "+t+", "+a+")",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.text_reverse=function(a){return[(Blockly.JavaScript.valueToCode(a,"TEXT",Blockly.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",Blockly.JavaScript.ORDER_MEMBER]},Blockly.JavaScript.variables={},Blockly.JavaScript.variables_get=function(a){return[Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.variables_set=function(a){var e=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0";return Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE)+" = "+e+";\n"},Blockly.JavaScript.variablesDynamic={},Blockly.JavaScript.variables_get_dynamic=Blockly.JavaScript.variables_get,Blockly.JavaScript.variables_set_dynamic=Blockly.JavaScript.variables_set;
Blockly.mainToolboxText='<category name="%{BKY_CATBASIC}" colour="#FFCB4A">  <block type="basic_start"></block>  <block type="basic_forever"></block>  <block type="basic_print">    <value name="msg">      <shadow type="text">        <field name="TEXT">abc</field>      </shadow>    </value>  </block>  <block type="basic_delay">    <value name="ms">      <shadow type="math_number">        <field name="NUM">100</field>      </shadow>    </value>  </block></category><category name="%{BKY_CATLOGIC}" colour="#7C56Cd">  <block type="controls_if"></block>  <block type="logic_compare"></block>  <block type="logic_operation"></block>  <block type="logic_negate"></block>  <block type="logic_boolean"></block>  <block type="logic_null"></block>  <block type="logic_ternary"></block></category><category name="%{BKY_CATLOOPS}" colour="#CF5889">  <block type="controls_repeat_ext">    <value name="TIMES">      <shadow type="math_number">        <field name="NUM">10</field>      </shadow>    </value>  </block>  <block type="controls_whileUntil">  </block>  <block type="controls_for">    <value name="FROM">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>    <value name="TO">      <shadow type="math_number">        <field name="NUM">10</field>      </shadow>    </value>    <value name="BY">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>  </block>  <block type="controls_forEach"></block>  <block type="controls_flow_statements"></block></category><category name="%{BKY_CATMATH}" colour="#CE7258">  <block type="math_number">    <field name="NUM">0</field>  </block>  <block type="math_hex">    <field name="NUM">00</field>  </block>  <block type="math_mapping">    <value name="in_min">      <block type="math_number">        <field name="NUM">0</field>      </block>    </value>    <value name="in_max">      <block type="math_number">        <field name="NUM">100</field>      </block>    </value>    <value name="out_min">      <block type="math_number">        <field name="NUM">0</field>      </block>    </value>    <value name="out_max">      <block type="math_number">        <field name="NUM">255</field>      </block>    </value>  </block>  <block type="math_arithmetic">    <value name="A">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>    <value name="B">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>  </block>  <block type="math_single">    <value name="NUM">      <shadow type="math_number">        <field name="NUM">9</field>      </shadow>    </value>  </block>  <block type="math_trig">    <value name="NUM">      <shadow type="math_number">        <field name="NUM">45</field>      </shadow>    </value>  </block>  <block type="math_constant"></block>  <block type="math_number_property">    <value name="NUMBER_TO_CHECK">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="math_round">    <value name="NUM">      <shadow type="math_number">        <field name="NUM">3.1</field>      </shadow>    </value>  </block>  <block type="math_on_list"></block>  <block type="math_modulo">    <value name="DIVIDEND">      <shadow type="math_number">        <field name="NUM">64</field>      </shadow>    </value>    <value name="DIVISOR">      <shadow type="math_number">        <field name="NUM">10</field>      </shadow>    </value>  </block>  <block type="math_constrain">    <value name="VALUE">      <shadow type="math_number">        <field name="NUM">50</field>      </shadow>    </value>    <value name="LOW">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>    <value name="HIGH">      <shadow type="math_number">        <field name="NUM">100</field>      </shadow>    </value>  </block>  <block type="math_random_int">    <value name="FROM">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>    <value name="TO">      <shadow type="math_number">        <field name="NUM">100</field>      </shadow>    </value>  </block>  <block type="math_random_float"></block></category><category name="%{BKY_CATTEXT}" colour="#597ECE">  <block type="text"></block>  <block type="text_join"></block>  <block type="text_append">    <value name="TEXT">      <shadow type="text"></shadow>    </value>  </block>  <block type="text_length">    <value name="VALUE">      <shadow type="text">        <field name="TEXT">abc</field>      </shadow>    </value>  </block>  <block type="text_isEmpty">    <value name="VALUE">      <shadow type="text">        <field name="TEXT"></field>      </shadow>    </value>  </block>  <block type="text_indexOf">    <value name="VALUE">      <block type="variables_get">        <field name="VAR">text</field>      </block>    </value>    <value name="FIND">      <shadow type="text">        <field name="TEXT">abc</field>      </shadow>    </value>  </block>  <block type="text_charAt">    <value name="VALUE">      <block type="variables_get">        <field name="VAR">text</field>      </block>    </value>  </block>  <block type="text_getSubstring">    <value name="STRING">      <block type="variables_get">        <field name="VAR">text</field>      </block>    </value>  </block>  <block type="text_changeCase">    <value name="TEXT">      <shadow type="text">        <field name="TEXT">abc</field>      </shadow>    </value>  </block>  <block type="text_trim">    <value name="TEXT">      <shadow type="text">        <field name="TEXT">abc</field>      </shadow>    </value>  </block></category><category name="%{BKY_CATLISTS}" colour="#78C94D">  <block type="lists_create_with">    <mutation items="0"></mutation>  </block>  <block type="lists_create_with"></block>  <block type="lists_repeat">    <value name="NUM">      <shadow type="math_number">        <field name="NUM">5</field>      </shadow>    </value>  </block>  <block type="lists_length"></block>  <block type="lists_isEmpty"></block>  <block type="lists_indexOf">    <value name="VALUE">      <block type="variables_get">        <field name="VAR">{listVariable}</field>      </block>    </value>  </block>  <block type="lists_getIndex">    <value name="VALUE">      <block type="variables_get">        <field name="VAR">{listVariable}</field>      </block>    </value>  </block>  <block type="lists_setIndex">    <value name="LIST">      <block type="variables_get">        <field name="VAR">{listVariable}</field>      </block>    </value>  </block>  <block type="lists_getSublist">    <value name="LIST">      <block type="variables_get">        <field name="VAR">{listVariable}</field>      </block>    </value>  </block>  <block type="lists_split">    <value name="DELIM">      <shadow type="text">        <field name="TEXT">,</field>      </shadow>    </value>  </block>  <block type="lists_sort"></block></category><category name="%{BKY_CATMUSIC}" colour="#A94AEC">  <block type="music_notes"></block>  <block type="music_beat"></block>  <block type="music_set_tempo">    <value name="tempo">      <shadow type="math_number">        <field name="NUM">120</field>      </shadow>    </value>  </block></category><category name="%{BKY_CATCOLOUR}" colour="#CE58C2">  <block type="colour_picker"></block>  <block type="colour_led_picker"></block>  <block type="colour_get_colour_from">    <value name="colour">      <shadow type="colour_led_picker">      </shadow>    </value>  </block>  <block type="colour_random"></block>  <block type="colour_rgb">    <value name="RED">      <shadow type="math_number">        <field name="NUM">100</field>      </shadow>    </value>    <value name="GREEN">      <shadow type="math_number">        <field name="NUM">50</field>      </shadow>    </value>    <value name="BLUE">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="colour_blend">    <value name="COLOUR1">      <shadow type="colour_picker">        <field name="COLOUR">#ff0000</field>      </shadow>    </value>    <value name="COLOUR2">      <shadow type="colour_picker">        <field name="COLOUR">#3333ff</field>      </shadow>    </value>    <value name="RATIO">      <shadow type="math_number">        <field name="NUM">0.5</field>      </shadow>    </value>  </block></category><sep></sep><category name="%{BKY_CATVARIABLES}" colour="#C44357" custom="VARIABLE"></category><category name="%{BKY_CATFUNCTIONS}" colour="#4DA8D2" custom="PROCEDURE"></category>';
!function(){var N=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function x(e,t,n,r){t&&(n(e={a:t,e:e}),r.push.apply(r,e.g))}function w(e){for(var t=void 0,n=e.firstChild;n;n=n.nextSibling){var r=n.nodeType;t=1===r?t?e:n:3===r&&d.test(n.nodeValue)?e:t}return t===e?void 0:t}function a(o,m){var y,v={};!function(){for(var e=o.concat(m),t=[],n={},r=0,s=e.length;r<s;++r){var a=e[r],i=a[3];if(i)for(var l=i.length;0<=--l;)v[i.charAt(l)]=a;i=""+(a=a[1]),n.hasOwnProperty(i)||(t.push(a),n[i]=N)}t.push(/[\S\s]/),y=function(e){function l(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=i[n])?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function o(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):"\\"===(e=String.fromCharCode(e))||"-"===e||"]"===e||"^"===e?"\\"+e:e}function c(e){var t=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),n=(e=[],["["]);(r="^"===t[0])&&n.push("^");for(var r=r?1:0,s=t.length;r<s;++r){var a,i=t[r];if(/\\[bdsw]/i.test(i))n.push(i);else i=l(i),r+2<s&&"-"===t[r+1]?(a=l(t[r+2]),r+=2):a=i,e.push([i,a]),a<65||122<i||(a<65||90<i||e.push([32|Math.max(65,i),32|Math.min(a,90)]),a<97||122<i||e.push([-33&Math.max(97,i),-33&Math.min(a,122)]))}for(e.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),t=[],s=[],r=0;r<e.length;++r)(i=e[r])[0]<=s[1]+1?s[1]=Math.max(s[1],i[1]):t.push(s=i);for(r=0;r<t.length;++r)i=t[r],n.push(o(i[0])),i[1]>i[0]&&(i[1]+1>i[0]&&n.push("-"),n.push(o(i[1])));return n.push("]"),n.join("")}function t(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),n=t.length,r=[],s=0,a=0;s<n;++s){var i=t[s];"("===i?++a:"\\"===i.charAt(0)&&(i=+i.substring(1))&&(i<=a?r[i]=-1:t[s]=o(i))}for(s=1;s<r.length;++s)-1===r[s]&&(r[s]=++u);for(a=s=0;s<n;++s)"("===(i=t[s])?r[++a]||(t[s]="(?:"):"\\"===i.charAt(0)&&(i=+i.substring(1))&&i<=a&&(t[s]="\\"+r[i]);for(s=0;s<n;++s)"^"===t[s]&&"^"!==t[s+1]&&(t[s]="");if(e.ignoreCase&&p)for(s=0;s<n;++s)e=(i=t[s]).charAt(0),2<=i.length&&"["===e?t[s]=c(i):"\\"!==e&&(t[s]=i.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}for(var u=0,p=!1,n=!1,r=0,s=e.length;r<s;++r){var a=e[r];if(a.ignoreCase)n=!0;else if(/[a-z]/i.test(a.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){n=!(p=!0);break}}var i={b:8,t:9,n:10,v:11,f:12,r:13},d=[];for(r=0,s=e.length;r<s;++r){if((a=e[r]).global||a.multiline)throw Error(""+a);d.push("(?:"+t(a)+")")}return RegExp(d.join("|"),n?"gi":"g")}(t)}();var b=m.length;return function e(t){for(var n=t.e,r=[n,"pln"],s=0,a=t.a.match(y)||[],i={},l=0,o=a.length;l<o;++l){var c,u=a[l],p=i[u],d=void 0;if("string"==typeof p)c=!1;else{var f=v[u.charAt(0)];if(f)d=u.match(f[1]),p=f[0];else{for(c=0;c<b;++c)if(f=m[c],d=u.match(f[1])){p=f[0];break}d||(p="pln")}!(c=5<=p.length&&"lang-"===p.substring(0,5))||d&&"string"==typeof d[1]||(c=!1,p="src"),c||(i[u]=p)}if(f=s,s+=u.length,c){c=d[1];var h=u.indexOf(c),g=h+c.length;d[2]&&(h=(g=u.length-d[2].length)-c.length),p=p.substring(5),x(n+f,u.substring(0,h),e,r),x(n+f+h,c,P(p,c),r),x(n+f+g,u.substring(g),e,r)}else r.push(n+f,p)}t.g=r}}function e(e){var t=[],n=[];e.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,N,"'\""]):e.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,N,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,N,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,N]);var r=e.hashComments;if(r&&(e.cStyleComments?(1<r?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,N,"#"]):t.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,N,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,N])):t.push(["com",/^#[^\n\r]*/,N,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,N]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,N])),r=e.regexLiterals){var s=(r=1<r?"":"\n\r")?".":"[\\S\\s]";n.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(/(?=[^/*"+r+"])(?:[^/\\x5B\\x5C"+r+"]|\\x5C"+s+"|\\x5B(?:[^\\x5C\\x5D"+r+"]|\\x5C"+s+")*(?:\\x5D|$))+/)")])}return(r=e.types)&&n.push(["typ",r]),(r=(""+e.keywords).replace(/^ | $/g,"")).length&&n.push(["kwd",RegExp("^(?:"+r.replace(/[\s,]+/g,"|")+")\\b"),N]),t.push(["pln",/^\s+/,N," \r\n\t "]),r="^.[^\\s\\w.$@'\"`/\\\\]*",e.regexLiterals&&(r+="(?!s*/)"),n.push(["lit",/^@[$_a-z][\w$@]*/i,N],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,N],["pln",/^[$_a-z][\w$@]*/i,N],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,N,"0123456789"],["pln",/^\\[\S\s]?/,N],["pun",RegExp(r),N]),a(t,n)}function S(e,t,s){function a(e){var t=e.nodeType;if(1!=t||l.test(e.className)){if((3==t||4==t)&&s){var n=e.nodeValue,r=n.match(o);r&&(t=n.substring(0,r.index),e.nodeValue=t,(n=n.substring(r.index+r[0].length))&&e.parentNode.insertBefore(c.createTextNode(n),e.nextSibling),i(e),t||e.parentNode.removeChild(e))}}else if("br"===e.nodeName)i(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)a(e)}function i(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;var t;for(e=function e(t,n){var r=n?t.cloneNode(!1):t;if(s=t.parentNode){var s=e(s,1),a=t.nextSibling;s.appendChild(r);for(var i=a;i;i=a)a=i.nextSibling,s.appendChild(i)}return r}(e.nextSibling,0);(t=e.parentNode)&&1===t.nodeType;)e=t;r.push(e)}for(var l=/(?:^|\s)nocode(?:\s|$)/,o=/\r\n?|\n/,c=e.ownerDocument,n=c.createElement("li");e.firstChild;)n.appendChild(e.firstChild);for(var r=[n],u=0;u<r.length;++u)a(r[u]);t===(0|t)&&r[0].setAttribute("value",t);var p=c.createElement("ol");p.className="linenums";t=Math.max(0,t-1|0)||0,u=0;for(var d=r.length;u<d;++u)(n=r[u]).className="L"+(u+t)%10,n.firstChild||n.appendChild(c.createTextNode(" ")),p.appendChild(n);e.appendChild(p)}function t(e,t){for(var n=t.length;0<=--n;){var r=t[n];h.hasOwnProperty(r)?I.console&&console.warn("cannot override language handler %s",r):h[r]=e}}function P(e,t){return e&&h.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),h[e]}function C(e){var t,r,s,a,i,l,o,n=e.h;try{var c=(g=(t=e.c,r=e.i,s=/(?:^|\s)nocode(?:\s|$)/,a=[],l=[],o=i=0,function e(t){var n=t.nodeType;if(1==n){if(!s.test(t.className)){for(n=t.firstChild;n;n=n.nextSibling)e(n);"br"!==(n=t.nodeName.toLowerCase())&&"li"!==n||(a[o]="\n",l[o<<1]=i++,l[o++<<1|1]=t)}}else 3!=n&&4!=n||(n=t.nodeValue).length&&(n=r?n.replace(/\r\n?/g,"\n"):n.replace(/[\t\n\r ]+/g," "),a[o]=n,l[o<<1]=i,i+=n.length,l[o++<<1|1]=t)}(t),{a:a.join("").replace(/\n$/,""),d:l})).a;e.a=c,e.d=g.d,e.e=0,P(n,c)(e);var u,p,d=(d=/\bMSIE\s(\d+)/.exec(navigator.userAgent))&&+d[1]<=8,f=(n=/\n/g,e.a),h=f.length,g=0,m=e.d,y=m.length,v=(c=0,e.g),b=v.length,x=0;for(v[b]=h,p=u=0;p<b;)v[p]!==v[p+2]?(v[u++]=v[p++],v[u++]=v[p++]):p+=2;for(b=u,p=u=0;p<b;){for(var w=v[p],S=v[p+1],C=p+2;C+2<=b&&v[C+1]===S;)C+=2;v[u++]=w,v[u++]=S,p=C}v.length=u;var N,_=e.c;_&&(N=_.style.display,_.style.display="none");try{for(;c<y;){var k,T=m[c+2]||h,E=v[x+2]||h,$=(C=Math.min(T,E),m[c+1]);if(1!==$.nodeType&&(k=f.substring(g,C))){d&&(k=k.replace(n,"\r")),$.nodeValue=k;var A=$.ownerDocument,R=A.createElement("span");R.className=v[x+1];var L=$.parentNode;L.replaceChild(R,$),R.appendChild($),g<T&&(m[c+1]=$=A.createTextNode(f.substring(C,T)),L.insertBefore($,R.nextSibling))}T<=(g=C)&&(c+=2),E<=g&&(x+=2)}}finally{_&&(_.style.display=N)}}catch(e){I.console&&console.log(e&&e.stack||e)}}var n,r,I=window,s=[n=[[r=["break,continue,do,else,for,if,return,while"],"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],i=[n,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],l=[i,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],o=[r,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],c=[r,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],u=[r,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],p=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,d=/\S/,f=e({keywords:[s,l,n=[n,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",o,c,r=[r,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),h={};t(f,["default-code"]),t(a([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),t(a([["pln",/^\s+/,N," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,N,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),t(a([],[["atv",/^[\S\s]+/]]),["uq.val"]),t(e({keywords:s,hashComments:!0,cStyleComments:!0,types:p}),["c","cc","cpp","cxx","cyc","m"]),t(e({keywords:"null,true,false"}),["json"]),t(e({keywords:l,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:p}),["cs"]),t(e({keywords:i,cStyleComments:!0}),["java"]),t(e({keywords:r,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),t(e({keywords:o,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),t(e({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),t(e({keywords:c,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),t(e({keywords:n,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),t(e({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),t(e({keywords:u,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),t(a([],[["str",/^[\S\s]+/]]),["regex"]);var g=I.PR={createSimpleLexer:a,registerLangHandler:t,sourceDecorator:e,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:I.prettyPrintOne=function(e,t,n){var r=document.createElement("div");return r.innerHTML="<pre>"+e+"</pre>",r=r.firstChild,n&&S(r,n,!0),C({h:t,j:n,c:r,i:1}),r.innerHTML},prettyPrint:I.prettyPrint=function(c,e){for(var u=(t=e||document.body).ownerDocument||document,t=[t.getElementsByTagName("pre"),t.getElementsByTagName("code"),t.getElementsByTagName("xmp")],p=[],n=0;n<t.length;++n)for(var r=0,s=t[n].length;r<s;++r)p.push(t[n][r]);t=N;var d=Date;d.now||(d={now:function(){return+new Date}});var f=0,h=/\blang(?:uage)?-([\w.]+)(?!\S)/,g=/\bprettyprint\b/,m=/\bprettyprinted\b/,y=/pre|xmp/i,v=/^code$/i,b=/^(?:pre|code|xmp)$/i,x={};!function e(){for(var t=I.PR_SHOULD_USE_CONTINUATION?d.now()+250:1/0;f<p.length&&d.now()<t;f++){for(var n=p[f],r=x,s=n;(s=s.previousSibling)&&((l=(7===(a=s.nodeType)||8===a)&&s.nodeValue)?/^\??prettify\b/.test(l):3===a&&!/\S/.test(s.nodeValue));)if(l){r={},l.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(e,t,n){r[t]=n});break}if(s=n.className,(r!==x||g.test(s))&&!m.test(s)){for(a=!1,l=n.parentNode;l;l=l.parentNode)if(b.test(l.tagName)&&l.className&&g.test(l.className)){a=!0;break}if(!a){var a,i;if(n.className+=" prettyprinted",(a=r.lang)||(!(a=s.match(h))&&(i=w(n))&&v.test(i.tagName)&&(a=i.className.match(h)),a&&(a=a[1])),y.test(n.tagName))l=1;else{var l=n.currentStyle,o=u.defaultView;l=(l=l?l.whiteSpace:o&&o.getComputedStyle?o.getComputedStyle(n,N).getPropertyValue("white-space"):0)&&"pre"===l.substring(0,3)}(o="true"===(o=r.linenums)||+o)||(o=!!(o=s.match(/\blinenums\b(?::(\d+))?/))&&(!o[1]||!o[1].length||+o[1])),o&&S(n,o,l),C({h:a,c:n,j:o,i:l})}}}f<p.length?setTimeout(e,250):"function"==typeof c&&c()}()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return g})}()}();
function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var mod$$inline_58=function(t){function o(t){for(var e in G=t||{},W)Object.prototype.hasOwnProperty.call(G,e)||(G[e]=W[e]);q=G.sourceFile||null}function h(t,e){var r=$(J,t);e+=" ("+r.line+":"+r.column+")";var i=new SyntaxError(e);throw i.pos=t,i.loc=r,i.raisedAt=z,i}function e(t){function e(t){if(1==t.length)return r+="return str === "+JSON.stringify(t[0])+";";r+="switch(str){";for(var e=0;e<t.length;++e)r+="case "+JSON.stringify(t[e])+":";r+="return true}return false;"}t=t.split(" ");var r="",i=[],n=0;t:for(;n<t.length;++n){for(var o=0;o<i.length;++o)if(i[o][0].length==t[n].length){i[o].push(t[n]);continue t}i.push([t[n]])}if(3<i.length){for(i.sort(function(t,e){return e.length-t.length}),r+="switch(str.length){",n=0;n<i.length;++n)t=i[n],r+="case "+t[0].length+":",e(t);r+="}"}else e(t);return new Function("str",r)}function s(){this.line=it,this.column=z-nt}function a(t,e){Z=z,G.locations&&(K=new s),tt=t,p(),et=e,rt=t.beforeExpr}function n(){for(var t=z,e=G.onComment&&G.locations&&new s,r=J.charCodeAt(z+=2);z<X&&10!==r&&13!==r&&8232!==r&&8233!==r;)++z,r=J.charCodeAt(z);G.onComment&&G.onComment(!1,J.slice(t+2,z),t,z,e,G.locations&&new s)}function p(){for(;z<X;){if(32===(t=J.charCodeAt(z)))++z;else if(13===t)++z,10===(t=J.charCodeAt(z))&&++z,G.locations&&(++it,nt=z);else if(10===t||8232===t||8233===t)++z,G.locations&&(++it,nt=z);else if(8<t&&t<14)++z;else if(47===t)if(42===(t=J.charCodeAt(z+1))){var t=G.onComment&&G.locations&&new s,e=z,r=J.indexOf("*/",z+=2);if(-1===r&&h(z-2,"Unterminated comment"),z=r+2,G.locations){ke.lastIndex=e;for(var i=void 0;(i=ke.exec(J))&&i.index<z;)++it,nt=i.index+i[0].length}G.onComment&&G.onComment(!0,J.slice(e+2,r),e,z,t,G.locations&&new s)}else{if(47!==t)break;n()}else if(160===t)++z;else{if(!(5760<=t&&Re.test(String.fromCharCode(t))))break;++z}}}function c(t){if(t?z=H+1:H=z,G.locations&&(Q=new s),t)return l();if(X<=z)return a(yt);var e=J.charCodeAt(z);if(Oe(e)||92===e)return r();if(!1===(t=function(t){switch(t){case 46:return t=48<=(t=J.charCodeAt(z+1))&&t<=57?d(!0):(++z,a(Qt));case 40:return++z,a(Wt);case 41:return++z,a($t);case 59:return++z,a(Ht);case 44:return++z,a(zt);case 91:return++z,a(Gt);case 93:return++z,a(Jt);case 123:return++z,a(Xt);case 125:return++z,a(qt);case 58:return++z,a(Zt);case 63:return++z,a(Kt);case 48:if(120===(t=J.charCodeAt(z+1))||88===t)return z+=2,null==(t=f(16))&&h(H+2,"Expected hexadecimal number"),Oe(J.charCodeAt(z))&&h(z,"Identifier directly after number"),a(lt,t);case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return d(!1);case 34:case 39:t:{z++;for(var e="";;){if(X<=z&&h(H,"Unterminated string constant"),(r=J.charCodeAt(z))===t){++z,t=a(dt,e);break t}if(92===r){var r=J.charCodeAt(++z),i=/^[0-7]+/.exec(J.slice(z,z+3));for(i&&(i=i[0]);i&&255<parseInt(i,8);)i=i.slice(0,-1);if("0"===i&&(i=null),++z,i)ht&&h(z-2,"Octal literal in strict mode"),e+=String.fromCharCode(parseInt(i,8)),z+=i.length-1;else switch(r){case 110:e+="\n";break;case 114:e+="\r";break;case 120:e+=String.fromCharCode(v(2));break;case 117:e+=String.fromCharCode(v(4));break;case 85:e+=String.fromCharCode(v(8));break;case 116:e+="\t";break;case 98:e+="\b";break;case 118:e+="\v";break;case 102:e+="\f";break;case 48:e+="\0";break;case 13:10===J.charCodeAt(z)&&++z;case 10:G.locations&&(nt=z,++it);break;default:e+=String.fromCharCode(r)}}else 13!==r&&10!==r&&8232!==r&&8233!==r||h(H,"Unterminated string constant"),e+=String.fromCharCode(r),++z}}return t;case 47:return t=J.charCodeAt(z+1),t=rt?(++z,l()):61===t?u(re,2):u(te,1);case 37:case 42:return t=61===(t=J.charCodeAt(z+1))?u(re,2):u(de,1);case 124:case 38:return t=(e=J.charCodeAt(z+1))===t?u(124===t?oe:se,2):61===e?u(re,2):u(124===t?ae:ce,1);case 94:return t=61===(t=J.charCodeAt(z+1))?u(re,2):u(pe,1);case 43:case 45:return t=(e=J.charCodeAt(z+1))===t?45==e&&62==J.charCodeAt(z+2)&&Ie.test(J.slice(st,z))?(z+=3,n(),p(),c()):u(ie,2):61===e?u(re,2):u(fe,1);case 60:case 62:return r=1,t=(e=J.charCodeAt(z+1))===t?(r=62===t&&62===J.charCodeAt(z+2)?3:2,61===J.charCodeAt(z+r)?u(re,r+1):u(le,r)):33==e&&60==t&&45==J.charCodeAt(z+2)&&45==J.charCodeAt(z+3)?(z+=4,n(),p(),c()):(61===e&&(r=61===J.charCodeAt(z+2)?3:2),u(ue,r));case 61:case 33:return t=61===(e=J.charCodeAt(z+1))?u(he,61===J.charCodeAt(z+2)?3:2):u(61===t?ee:ne,1);case 126:return u(ne,1)}return!1}(e))){if("\\"===(e=String.fromCharCode(e))||be.test(e))return r();h(z,"Unexpected character '"+e+"'")}return t}function u(t,e){var r=J.slice(z,z+e);z+=e,a(t,r)}function l(){for(var t,e,r=z;;){X<=z&&h(r,"Unterminated regular expression");var i=J.charAt(z);if(Ie.test(i)&&h(r,"Unterminated regular expression"),t)t=!1;else{if("["===i)e=!0;else if("]"===i&&e)e=!1;else if("/"===i&&!e)break;t="\\"===i}++z}return t=J.slice(r,z),++z,(e=y())&&!/^[gmsiy]*$/.test(e)&&h(r,"Invalid regexp flag"),a(ft,new RegExp(t,e))}function f(t,e){for(var r=z,i=0,n=0,o=null==e?1/0:e;n<o;++n){var s;if(t<=(s=97<=(s=J.charCodeAt(z))?s-97+10:65<=s?s-65+10:48<=s&&s<=57?s-48:1/0))break;++z,i=i*t+s}return z===r||null!=e&&z-r!==e?null:i}function d(t){var e,r=z,i=!1,n=48===J.charCodeAt(z);return t||null!==f(10)||h(r,"Invalid number"),46===J.charCodeAt(z)&&(++z,f(10),i=!0),69!==(t=J.charCodeAt(z))&&101!==t||(43!==(t=J.charCodeAt(++z))&&45!==t||++z,null===f(10)&&h(r,"Invalid number"),i=!0),Oe(J.charCodeAt(z))&&h(z,"Identifier directly after number"),t=J.slice(r,z),i?e=parseFloat(t):n&&1!==t.length?/[89]/.test(t)||ht?h(r,"Invalid number"):e=parseInt(t,8):e=parseInt(t,10),a(lt,e)}function v(t){return null===(t=f(16,t))&&h(H,"Bad character escape sequence"),t}function y(){for(var t,e=!(ye=!1),r=z;;){var i=J.charCodeAt(z);if(Ae(i))ye&&(t+=J.charAt(z)),++z;else{if(92!==i)break;ye||(t=J.slice(r,z)),ye=!0,117!=J.charCodeAt(++z)&&h(z,"Expecting Unicode escape sequence \\uXXXX"),++z;i=v(4);var n=String.fromCharCode(i);n||h(z-1,"Invalid Unicode escape"),(e?Oe(i):Ae(i))||h(z-4,"Invalid Unicode escape"),t+=n}e=!1}return ye?t:J.slice(r,z)}function r(){var t=y(),e=vt;return ye||(Se(t)?e=Vt[t]:(G.forbidReserved&&(3===G.ecmaVersion?Ee:ge)(t)||ht&&me(t))&&h(H,"The keyword '"+t+"' is reserved")),a(e,t)}function E(){ot=H,st=Z,at=K,c()}function g(t){if(ht=t,z=st,G.locations)for(;z<nt;)nt=J.lastIndexOf("\n",nt-2)+1,--it;p(),c()}function i(){this.type=null,this.start=H,this.end=null}function m(){this.start=Q,(this.end=null)!==q&&(this.source=q)}function N(){var t=new i;return G.locations&&(t.loc=new m),G.directSourceFile&&(t.sourceFile=G.directSourceFile),G.ranges&&(t.range=[H,0]),t}function S(t){var e=new i;return e.start=t.start,G.locations&&(e.loc=new m,e.loc.start=t.loc.start),G.ranges&&(e.range=[t.range[0],0]),e}function R(t,e){return t.type=e,t.end=st,G.locations&&(t.loc.end=at),G.ranges&&(t.range[1]=st),t}function b(t){return 5<=G.ecmaVersion&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"use strict"===t.expression.value}function P(t){if(tt===t)return E(),!0}function I(){return!G.strictSemicolons&&(tt===yt||tt===qt||Ie.test(J.slice(st,H)))}function k(){P(Ht)||I()||A()}function O(t){tt===t?E():A()}function A(){h(H,"Unexpected token")}function T(t){"Identifier"!==t.type&&"MemberExpression"!==t.type&&h(t.start,"Assigning to rvalue"),ht&&"Identifier"===t.type&&Ne(t.name)&&h(t.start,"Assigning to "+t.name+" in strict mode")}function x(){(tt===te||tt===re&&"/="==et)&&c(!0);var t=tt,e=N();switch(t){case Et:case Nt:E();var r=t===Et;P(Ht)||I()?e.label=null:tt!==vt?A():(e.label=V(),k());for(var i=0;i<ct.length;++i){var n=ct[i];if(null==e.label||n.name===e.label.name){if(null!=n.kind&&(r||"loop"===n.kind))break;if(e.label&&r)break}}return i===ct.length&&h(e.start,"Unsyntactic "+t.keyword),R(e,r?"BreakStatement":"ContinueStatement");case St:return E(),k(),R(e,"DebuggerStatement");case bt:return E(),ct.push(Te),e.body=x(),ct.pop(),O(Ft),e.test=_(),k(),R(e,"DoWhileStatement");case kt:return E(),ct.push(Te),O(Wt),tt===Ht?w(e,null):tt===wt?(t=N(),E(),D(t,!0),R(t,"VariableDeclaration"),1===t.declarations.length&&P(Yt)?F(e,t):w(e,t)):(t=U(!1,!0),P(Yt)?(T(t),F(e,t)):w(e,t));case Ot:return E(),M(e,!0);case At:return E(),e.test=_(),e.consequent=x(),e.alternate=P(Pt)?x():null,R(e,"IfStatement");case Tt:return pt||h(H,"'return' outside of function"),E(),P(Ht)||I()?e.argument=null:(e.argument=U(),k()),R(e,"ReturnStatement");case xt:for(E(),e.discriminant=_(),e.cases=[],O(Xt),ct.push(xe);tt!=qt;)tt===gt||tt===Rt?(t=tt===gt,i&&R(i,"SwitchCase"),e.cases.push(i=N()),i.consequent=[],E(),i.test=t?U():(r&&h(ot,"Multiple default clauses"),r=!0,null),O(Zt)):(i||A(),i.consequent.push(x()));return i&&R(i,"SwitchCase"),E(),ct.pop(),R(e,"SwitchStatement");case _t:return E(),Ie.test(J.slice(st,H))&&h(st,"Illegal newline after throw"),e.argument=U(),k(),R(e,"ThrowStatement");case Ct:return E(),e.block=C(),e.handler=null,tt===mt&&(t=N(),E(),O(Wt),t.param=V(),ht&&Ne(t.param.name)&&h(t.param.start,"Binding "+t.param.name+" in strict mode"),O($t),t.guard=null,t.body=C(),e.handler=R(t,"CatchClause")),e.guardedHandlers=ut,e.finalizer=P(It)?C():null,e.handler||e.finalizer||h(e.start,"Missing catch or finally clause"),R(e,"TryStatement");case wt:return E(),D(e),k(),R(e,"VariableDeclaration");case Ft:return E(),e.test=_(),ct.push(Te),e.body=x(),ct.pop(),R(e,"WhileStatement");case Dt:return ht&&h(H,"'with' in strict mode"),E(),e.object=_(),e.body=x(),R(e,"WithStatement");case Xt:return C();case Ht:return E(),R(e,"EmptyStatement");default:if(r=et,n=U(),t===vt&&"Identifier"===n.type&&P(Zt)){for(i=0;i<ct.length;++i)ct[i].name===r&&h(n.start,"Label '"+r+"' is already declared");return t=tt.isLoop?"loop":tt===xt?"switch":null,ct.push({name:r,kind:t}),e.body=x(),ct.pop(),e.label=n,R(e,"LabeledStatement")}return e.expression=n,k(),R(e,"ExpressionStatement")}}function _(){O(Wt);var t=U();return O($t),t}function C(t){var e,r=N(),i=!0,n=!1;for(r.body=[],O(Xt);!P(qt);){var o=x();r.body.push(o),i&&t&&b(o)&&(e=n,g(n=!0)),i=!1}return n&&!e&&g(!1),R(r,"BlockStatement")}function w(t,e){return t.init=e,O(Ht),t.test=tt===Ht?null:U(),O(Ht),t.update=tt===$t?null:U(),O($t),t.body=x(),ct.pop(),R(t,"ForStatement")}function F(t,e){return t.left=e,t.right=U(),O($t),t.body=x(),ct.pop(),R(t,"ForInStatement")}function D(t,e){for(t.declarations=[],t.kind="var";;){var r=N();if(r.id=V(),ht&&Ne(r.id.name)&&h(r.id.start,"Binding "+r.id.name+" in strict mode"),r.init=P(ee)?U(!0,e):null,t.declarations.push(R(r,"VariableDeclarator")),!P(zt))break}return t}function U(t,e){var r=j(e);if(t||tt!==zt)return r;var i=S(r);for(i.expressions=[r];P(zt);)i.expressions.push(j(e));return R(i,"SequenceExpression")}function j(t){var e,r;if(r=e=t,r=function t(e,r,i){var n=tt.binop;if(null!=n&&(!i||tt!==Yt)&&r<n){var o=S(e);return o.left=e,o.operator=et,e=tt,E(),o.right=t(L(),n,i),n=R(o,e===oe||e===se?"LogicalExpression":"BinaryExpression"),t(n,r,i)}return e}(L(),-1,r),P(Kt)){var i=S(r);i.test=r,i.consequent=U(!0),O(Zt),i.alternate=U(!0,e),e=R(i,"ConditionalExpression")}else e=r;return tt.isAssign?((r=S(e)).operator=et,r.left=e,E(),r.right=j(t),T(e),R(r,"AssignmentExpression")):e}function L(){if(tt.prefix){var t=N(),e=tt.isUpdate;return t.operator=et,rt=t.prefix=!0,E(),t.argument=L(),e?T(t.argument):ht&&"delete"===t.operator&&"Identifier"===t.argument.type&&h(t.start,"Deleting local variable in strict mode"),R(t,e?"UpdateExpression":"UnaryExpression")}for(e=B(function t(){switch(tt){case jt:var e=N();return E(),R(e,"ThisExpression");case vt:return V();case lt:case dt:case ft:return(e=N()).value=et,e.raw=J.slice(H,Z),E(),R(e,"Literal");case Lt:case Bt:case Mt:return(e=N()).value=tt.atomValue,e.raw=tt.keyword,E(),R(e,"Literal");case Wt:var e=Q,r=H;E();var i=U();return i.start=r,i.end=Z,G.locations&&(i.loc.start=e,i.loc.end=K),G.ranges&&(i.range=[r,Z]),O($t),i;case Gt:return e=N(),E(),e.elements=Y(Jt,!0,!0),R(e,"ArrayExpression");case Xt:for(e=N(),i=!(r=!0),e.properties=[],E();!P(qt);){if(r)r=!1;else if(O(zt),G.allowTrailingCommas&&P(qt))break;var n,o={key:tt===lt||tt===dt?t():V(!0)},s=!1;if(P(Zt)?(o.value=U(!0),n=o.kind="init"):5<=G.ecmaVersion&&"Identifier"===o.key.type&&("get"===o.key.name||"set"===o.key.name)?(s=i=!0,n=o.kind=o.key.name,o.key=tt===lt||tt===dt?t():V(!0),tt!==Wt&&A(),o.value=M(N(),!1)):A(),"Identifier"===o.key.type&&(ht||i))for(var a=0;a<e.properties.length;++a){var p=e.properties[a];if(p.key.name===o.key.name){var c=n==p.kind||s&&"init"===p.kind||"init"===n&&("get"===p.kind||"set"===p.kind);c&&!ht&&"init"===n&&"init"===p.kind&&(c=!1),c&&h(o.key.start,"Redefinition of property")}}e.properties.push(o)}return e=R(e,"ObjectExpression");case Ot:return e=N(),E(),M(e,!1);case Ut:return e=N(),E(),e.callee=B(t(),!0),P(Wt)?e.arguments=Y($t,!1):e.arguments=ut,e=R(e,"NewExpression");default:A()}}());tt.postfix&&!I();)(t=S(e)).operator=et,t.prefix=!1,T(t.argument=e),E(),e=R(t,"UpdateExpression");return e}function B(t,e){if(P(Qt)){var r=S(t);return r.object=t,r.property=V(!0),r.computed=!1,B(R(r,"MemberExpression"),e)}return P(Gt)?((r=S(t)).object=t,r.property=U(),r.computed=!0,O(Jt),B(R(r,"MemberExpression"),e)):!e&&P(Wt)?((r=S(t)).callee=t,r.arguments=Y($t,!1),B(R(r,"CallExpression"),e)):t}function M(t,e){tt===vt?t.id=V():e?A():t.id=null,t.params=[];var r=!0;for(O(Wt);!P($t);)r?r=!1:O(zt),t.params.push(V());r=pt;var i=ct;if(pt=!0,ct=[],t.body=C(!0),pt=r,ct=i,ht||t.body.body.length&&b(t.body.body[0]))for(r=t.id?-1:0;r<t.params.length;++r)if(i=r<0?t.id:t.params[r],(me(i.name)||Ne(i.name))&&h(i.start,"Defining '"+i.name+"' in strict mode"),0<=r)for(var n=0;n<r;++n)i.name===t.params[n].name&&h(i.start,"Argument name clash in strict mode");return R(t,e?"FunctionDeclaration":"FunctionExpression")}function Y(t,e,r){for(var i=[],n=!0;!P(t);){if(n)n=!1;else if(O(zt),e&&G.allowTrailingCommas&&P(t))break;r&&tt===zt?i.push(null):i.push(U(!0))}return i}function V(t){var e=N();return e.name=tt===vt?et:t&&!G.forbidReserved&&tt.keyword||A(),rt=!1,E(),R(e,"Identifier")}var G,J,X,q;t.version="0.4.1",t.parse=function(t,e){J=String(t),X=J.length,o(e),it=1,z=nt=0,rt=!0,p();var r,i=G.program;ot=st=z,G.locations&&(at=new s),pt=ht=null,ct=[],c(),r=i||N();var n=!0;for(i||(r.body=[]);tt!==yt;)i=x(),r.body.push(i),n&&b(i)&&g(!0),n=!1;return R(r,"Program")};var W=t.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null},$=t.getLineInfo=function(t,e){for(var r=1,i=0;;){ke.lastIndex=i;var n=ke.exec(t);if(!(n&&n.index<e))break;++r,i=n.index+n[0].length}return{line:r,column:e-i}};t.tokenize=function(t,e){function r(t){return c(t),i.start=H,i.end=Z,i.startLoc=Q,i.endLoc=K,i.type=tt,i.value=et,i}J=String(t),X=J.length,o(e),it=1,z=nt=0,rt=!0,p();var i={};return r.jumpTo=function(t,e){if(z=t,G.locations){it=1,nt=ke.lastIndex=0;for(var r;(r=ke.exec(J))&&r.index<t;)++it,nt=r.index+r[0].length}rt=e,p()},r};var z,H,Z,Q,K,tt,et,rt,it,nt,ot,st,at,pt,ct,ht,ut=[],lt={type:"num"},ft={type:"regexp"},dt={type:"string"},vt={type:"name"},yt={type:"eof"},Et={keyword:"break"},gt={keyword:"case",beforeExpr:!0},mt={keyword:"catch"},Nt={keyword:"continue"},St={keyword:"debugger"},Rt={keyword:"default"},bt={keyword:"do",isLoop:!0},Pt={keyword:"else",beforeExpr:!0},It={keyword:"finally"},kt={keyword:"for",isLoop:!0},Ot={keyword:"function"},At={keyword:"if"},Tt={keyword:"return",beforeExpr:!0},xt={keyword:"switch"},_t={keyword:"throw",beforeExpr:!0},Ct={keyword:"try"},wt={keyword:"var"},Ft={keyword:"while",isLoop:!0},Dt={keyword:"with"},Ut={keyword:"new",beforeExpr:!0},jt={keyword:"this"},Lt={keyword:"null",atomValue:null},Bt={keyword:"true",atomValue:!0},Mt={keyword:"false",atomValue:!1},Yt={keyword:"in",binop:7,beforeExpr:!0},Vt={break:Et,case:gt,catch:mt,continue:Nt,debugger:St,default:Rt,do:bt,else:Pt,finally:It,for:kt,function:Ot,if:At,return:Tt,switch:xt,throw:_t,try:Ct,var:wt,while:Ft,with:Dt,null:Lt,true:Bt,false:Mt,new:Ut,in:Yt,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:jt,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},Gt={type:"[",beforeExpr:!0},Jt={type:"]"},Xt={type:"{",beforeExpr:!0},qt={type:"}"},Wt={type:"(",beforeExpr:!0},$t={type:")"},zt={type:",",beforeExpr:!0},Ht={type:";",beforeExpr:!0},Zt={type:":",beforeExpr:!0},Qt={type:"."},Kt={type:"?",beforeExpr:!0},te={binop:10,beforeExpr:!0},ee={isAssign:!0,beforeExpr:!0},re={isAssign:!0,beforeExpr:!0},ie={postfix:!0,prefix:!0,isUpdate:!0},ne={prefix:!0,beforeExpr:!0},oe={binop:1,beforeExpr:!0},se={binop:2,beforeExpr:!0},ae={binop:3,beforeExpr:!0},pe={binop:4,beforeExpr:!0},ce={binop:5,beforeExpr:!0},he={binop:6,beforeExpr:!0},ue={binop:7,beforeExpr:!0},le={binop:8,beforeExpr:!0},fe={binop:9,prefix:!0,beforeExpr:!0},de={binop:10,beforeExpr:!0};for(var ve in t.tokTypes={bracketL:Gt,bracketR:Jt,braceL:Xt,braceR:qt,parenL:Wt,parenR:$t,comma:zt,semi:Ht,colon:Zt,dot:Qt,question:Kt,slash:te,eq:ee,name:vt,eof:yt,num:lt,regexp:ft,string:dt},Vt)t.tokTypes["_"+ve]=Vt[ve];var ye,Ee=e("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),ge=e("class enum extends super const export import"),me=e("implements interface let package private protected public static yield"),Ne=e("eval arguments"),Se=e("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Re=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,be=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),Pe=RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ؚؠ-ىٲ-ۓۧ-ۨۻ-ۼܰ-݊ࠀ-ࠔࠛ-ࠣࠥ-ࠧࠩ-࠭ࡀ-ࡗࣤ-ࣾऀ-ःऺ-़ा-ॏ॑-ॗॢ-ॣ०-९ঁ-ঃ়া-ৄেৈৗয়-ৠਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢ-ૣ૦-૯ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୟ-ୠ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఁ-ఃె-ైొ-్ౕౖౢ-ౣ౦-౯ಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢ-ೣ೦-೯ംഃെ-ൈൗൢ-ൣ൦-൯ංඃ්ා-ුූෘ-ෟෲෳิ-ฺเ-ๅ๐-๙ິ-ູ່-ໍ໐-໙༘༙༠-༩༹༵༷ཁ-ཇཱ-྄྆-྇ྍ-ྗྙ-ྼ࿆က-ဩ၀-၉ၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟ᜎ-ᜐᜠ-ᜰᝀ-ᝐᝲᝳក-ឲ៝០-៩᠋-᠍᠐-᠙ᤠ-ᤫᤰ-᤻ᥑ-ᥭᦰ-ᧀᧈ-ᧉ᧐-᧙ᨀ-ᨕᨠ-ᩓ᩠-᩿᩼-᪉᪐-᪙ᭆ-ᭋ᭐-᭙᭫-᭳᮰-᮹᯦-᯳ᰀ-ᰢ᱀-᱉ᱛ-ᱽ᳐-᳒ᴀ-ᶾḁ-ἕ‌‍‿⁀⁔⃐-⃥⃜⃡-⃰ⶁ-ⶖⷠ-ⷿ〡-〨゙゚Ꙁ-ꙭꙴ-꙽ꚟ꛰-꛱ꟸ-ꠀ꠆ꠋꠣ-ꠧꢀ-ꢁꢴ-꣄꣐-꣙ꣳ-ꣷ꤀-꤉ꤦ-꤭ꤰ-ꥅꦀ-ꦃ꦳-꧀ꨀ-ꨧꩀ-ꩁꩌ-ꩍ꩐-꩙ꩻꫠ-ꫩꫲ-ꫳꯀ-ꯡ꯬꯭꯰-꯹ﬠ-ﬨ︀-️︠-︦︳︴﹍-﹏０-９＿]"),Ie=/[\n\r\u2028\u2029]/,ke=/\r\n|[\n\r\u2028\u2029]/g,Oe=t.isIdentifierStart=function(t){return t<65?36===t:t<91||(t<97?95===t:t<123||170<=t&&be.test(String.fromCharCode(t)))},Ae=t.isIdentifierChar=function(t){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||170<=t&&Pe.test(String.fromCharCode(t))))},Te={kind:"loop"},xe={kind:"switch"}};"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"object"==("undefined"==typeof module?"undefined":_typeof(module))?mod$$inline_58(exports):"function"==typeof define&&define.amd?define(["exports"],mod$$inline_58):mod$$inline_58(this.acorn||(this.acorn={}));var Interpreter=function t(e,r){"string"==typeof e&&(e=acorn.parse(e,t.PARSE_OPTIONS)),this.ast=e,this.initFunc_=r,this.paused_=!1,this.polyfills_=[],this.UNDEFINED=new t.Primitive(void 0,this),this.NULL=new t.Primitive(null,this),this.NAN=new t.Primitive(NaN,this),this.TRUE=new t.Primitive(!0,this),this.FALSE=new t.Primitive(!1,this),this.NUMBER_ZERO=new t.Primitive(0,this),this.NUMBER_ONE=new t.Primitive(1,this),this.STRING_EMPTY=new t.Primitive("",this),r=this.createScope(this.ast,null),this.NAN.parent=this.NUMBER,this.TRUE.parent=this.BOOLEAN,this.FALSE.parent=this.BOOLEAN,this.NUMBER_ZERO.parent=this.NUMBER,this.NUMBER_ONE.parent=this.NUMBER,this.STRING_EMPTY.parent=this.STRING,this.ast=acorn.parse(this.polyfills_.join("\n"),t.PARSE_OPTIONS),this.polyfills_=void 0,this.stripLocations_(this.ast),this.stateStack=[{node:this.ast,scope:r,thisExpression:r,done:!1}],this.run(),this.value=this.UNDEFINED,this.ast=e,this.stateStack=[{node:this.ast,scope:r,thisExpression:r,done:!1}]};Interpreter.PARSE_OPTIONS={ecmaVersion:5},Interpreter.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},Interpreter.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},Interpreter.prototype.appendCode=function(t){var e=this.stateStack[this.stateStack.length-1];if(!e||"Program"!=e.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof t&&(t=acorn.parse(t,Interpreter.PARSE_OPTIONS)),!t||"Program"!=t.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(t,e.scope);for(var r,i=0;r=t.body[i];i++)e.node.body.push(r);e.done=!1},Interpreter.prototype.step=function(){var t=this.stateStack[0];return!(!t||"Program"==t.node.type&&t.done)&&(!!this.paused_||(this["step"+t.node.type](),!!t.node.end||this.step()))},Interpreter.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},Interpreter.prototype.initGlobalScope=function(t){this.setProperty(t,"Infinity",this.createPrimitive(1/0),Interpreter.READONLY_DESCRIPTOR),this.setProperty(t,"NaN",this.NAN,Interpreter.READONLY_DESCRIPTOR),this.setProperty(t,"undefined",this.UNDEFINED,Interpreter.READONLY_DESCRIPTOR),this.setProperty(t,"window",t,Interpreter.READONLY_DESCRIPTOR),this.setProperty(t,"self",t),this.initFunction(t),this.initObject(t),t.parent=this.OBJECT,this.initArray(t),this.initNumber(t),this.initString(t),this.initBoolean(t),this.initDate(t),this.initMath(t),this.initRegExp(t),this.initJSON(t),this.initError(t);var e,r=this;e=function(t){return t=t||r.UNDEFINED,r.createPrimitive(isNaN(t.toNumber()))},this.setProperty(t,"isNaN",this.createNativeFunction(e)),e=function(t){return t=t||r.UNDEFINED,r.createPrimitive(isFinite(t.toNumber()))},this.setProperty(t,"isFinite",this.createNativeFunction(e)),this.setProperty(t,"parseFloat",this.getProperty(this.NUMBER,"parseFloat")),this.setProperty(t,"parseInt",this.getProperty(this.NUMBER,"parseInt")),(e=this.createObject(this.FUNCTION)).eval=!0,this.setProperty(e,"length",this.NUMBER_ONE,Interpreter.READONLY_DESCRIPTOR),this.setProperty(t,"eval",e);for(var i=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],n=0;n<i.length;n++)e=function(e){return function(t){t=(t||r.UNDEFINED).toString();try{t=e(t)}catch(t){r.throwException(r.URI_ERROR,t.message)}return r.createPrimitive(t)}}(i[n][0]),this.setProperty(t,i[n][1],this.createNativeFunction(e));this.initFunc_&&this.initFunc_(this,t)},Interpreter.prototype.initFunction=function(t){var e,o=this;e=function(t){for(var e=this.parent==o.FUNCTION?this:o.createObject(o.FUNCTION),r=arguments.length?arguments[arguments.length-1].toString():"",i=[],n=0;n<arguments.length-1;n++)i.push(arguments[n].toString());if(-1!=(i=i.join(", ")).indexOf(")"))throw SyntaxError("Function arg string contains parenthesis");return e.parentScope=o.stateStack[o.stateStack.length-1].scope,r=acorn.parse("$ = function("+i+") {"+r+"};",Interpreter.PARSE_OPTIONS),e.node=r.body[0].expression.right,o.setProperty(e,"length",o.createPrimitive(e.node.length),Interpreter.READONLY_DESCRIPTOR),e},this.FUNCTION=this.createObject(null),this.setProperty(t,"Function",this.FUNCTION),this.FUNCTION.type="function",this.setProperty(this.FUNCTION,"prototype",this.createObject(null)),this.FUNCTION.nativeFunc=e,e=function(t,e){var r=o.stateStack[0];if(r.func_=this,r.funcThis_=t,r.arguments=[],e)if(o.isa(e,o.ARRAY))for(t=0;t<e.length;t++)r.arguments[t]=o.getProperty(e,t);else o.throwException(o.TYPE_ERROR,"CreateListFromArrayLike called on non-object");r.doneArgs_=!0,r.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",e),e=function(t,e){var r=o.stateStack[0];r.func_=this,r.funcThis_=t,r.arguments=[];for(var i=1;i<arguments.length;i++)r.arguments.push(arguments[i]);r.doneArgs_=!0,r.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",e),e=function(t,e){var r=o.createFunction(this.node,this.parentScope);t&&(r.boundThis_=t),r.boundArgs_=[];for(var i=1;i<arguments.length;i++)r.boundArgs_.push(arguments[i]);return r},this.setNativeFunctionPrototype(this.FUNCTION,"bind",e),e=function(){return o.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.FUNCTION,"toString",e),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(){return o.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",e),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.initObject=function(t){var e,p=this;e=function(t){if(!t||t==p.UNDEFINED||t==p.NULL)return this.parent==p.OBJECT?this:p.createObject(p.OBJECT);if(t.isPrimitive){var e=p.createObject(t.parent);return e.data=t.data,e}return t},this.OBJECT=this.createNativeFunction(e),this.setProperty(t,"Object",this.OBJECT),e=function(t){var e,r=p.createObject(p.ARRAY),i=0;for(e in t.properties)p.setProperty(r,i,p.createPrimitive(e)),i++;return r},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t){var e,r=p.createObject(p.ARRAY),i=0;for(e in t.properties)t.notEnumerable[e]||(p.setProperty(r,i,p.createPrimitive(e)),i++);return r},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t,e,r){if(e=(e||p.UNDEFINED).toString(),r instanceof Interpreter.Object){if(t.properties[e]||!t.preventExtensions){var i=p.getProperty(r,"value");i==p.UNDEFINED&&(i=null);var n=p.getProperty(r,"get"),o=p.getProperty(r,"set");return r={configurable:p.pseudoToNative(p.getProperty(r,"configurable")),enumerable:p.pseudoToNative(p.getProperty(r,"enumerable")),writable:p.pseudoToNative(p.getProperty(r,"writable")),get:n==p.UNDEFINED?void 0:n,set:o==p.UNDEFINED?void 0:o},p.setProperty(t,e,i,r),t}p.throwException(p.TYPE_ERROR,"Can't define property "+e+", object is not extensible")}else p.throwException(p.TYPE_ERROR,"Property description must be an object.")},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(Array.prototype, 'defineProperties', {configurable: true, value:","function(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),e=function(t,e){if(!((e=(e||p.UNDEFINED).toString())in t.properties))return p.UNDEFINED;var r=!t.notConfigurable[e],i=!t.notEnumerable[e],n=!t.notWritable[e],o=t.getter[e],s=t.setter[e],a=p.createObject(p.OBJECT);return p.setProperty(a,"configurable",p.createPrimitive(r)),p.setProperty(a,"enumerable",p.createPrimitive(i)),o||s?(p.setProperty(a,"getter",o),p.setProperty(a,"setter",s)):(p.setProperty(a,"writable",p.createPrimitive(n)),p.setProperty(a,"value",p.getProperty(t,e))),a},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t){return t.parent&&t.parent.properties&&t.parent.properties.prototype?t.parent.properties.prototype:p.NULL},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t){return p.createPrimitive(!t.preventExtensions)},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t){return t.isPrimitive||(t.preventExtensions=!0),t},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(){return p.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toString",e),e=function(){return p.createPrimitive(this.toString())},this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",e),e=function(){return p.createPrimitive(this.valueOf())},this.setNativeFunctionPrototype(this.OBJECT,"valueOf",e),e=function(t){if(this!=p.NULL&&this!=p.UNDEFINED)return(t=(t||p.UNDEFINED).toString())in this.properties?p.TRUE:p.FALSE;p.throwException(p.TYPE_ERROR,"Cannot convert undefined or null to object")},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",e),e=function(t){return t=(t=(t||p.UNDEFINED).toString())in this.properties&&!this.notEnumerable[t],p.createPrimitive(t)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",e),e=function(t){for(;;){if(!(t.parent&&t.parent.properties&&t.parent.properties.prototype))return p.createPrimitive(!1);if((t=t.parent.properties.prototype)==this)return p.createPrimitive(!0)}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",e)},Interpreter.prototype.initArray=function(t){var e,a=this,o=function(t,e){return t=t?Math.floor(t.toNumber()):e,isNaN(t)&&(t=e),t};e=function(t){var e=this.parent==a.ARRAY?this:a.createObject(a.ARRAY),r=t;if(r&&"number"==r.type)isNaN(a.arrayIndex(r))&&a.throwException(a.RANGE_ERROR,"Invalid array length"),e.length=r.data;else{for(r=0;r<arguments.length;r++)e.properties[r]=arguments[r];e.length=r}return e},this.ARRAY=this.createNativeFunction(e),this.setProperty(t,"Array",this.ARRAY),e=function(t){return a.createPrimitive(a.isa(t,a.ARRAY))},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(){if(this.length){var t=this.properties[this.length-1];delete this.properties[this.length-1],this.length--}else t=a.UNDEFINED;return t},this.setNativeFunctionPrototype(this.ARRAY,"pop",e),e=function(t){for(var e=0;e<arguments.length;e++)this.properties[this.length]=arguments[e],this.length++;return a.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"push",e),e=function(){if(this.length){for(var t=this.properties[0],e=1;e<this.length;e++)this.properties[e-1]=this.properties[e];this.length--,delete this.properties[this.length]}else t=a.UNDEFINED;return t},this.setNativeFunctionPrototype(this.ARRAY,"shift",e),e=function(t){for(var e=this.length-1;0<=e;e--)this.properties[e+arguments.length]=this.properties[e];for(this.length+=arguments.length,e=0;e<arguments.length;e++)this.properties[e]=arguments[e];return a.createPrimitive(this.length)},this.setNativeFunctionPrototype(this.ARRAY,"unshift",e),e=function(){for(var t=0;t<this.length/2;t++){var e=this.properties[this.length-t-1];this.properties[this.length-t-1]=this.properties[t],this.properties[t]=e}return this},this.setNativeFunctionPrototype(this.ARRAY,"reverse",e),e=function(t,e,r){t=(t=o(t,0))<0?Math.max(this.length+t,0):Math.min(t,this.length),e=o(e,1/0),e=Math.min(e,this.length-t);for(var i=a.createObject(a.ARRAY),n=t;n<t+e;n++)i.properties[i.length++]=this.properties[n],this.properties[n]=this.properties[n+e];for(n=t+e;n<this.length-e;n++)this.properties[n]=this.properties[n+e];for(n=this.length-e;n<this.length;n++)delete this.properties[n];for(this.length-=e,n=this.length-1;t<=n;n--)this.properties[n+arguments.length-2]=this.properties[n];for(this.length+=arguments.length-2,n=2;n<arguments.length;n++)this.properties[t+n-2]=arguments[n];return i},this.setNativeFunctionPrototype(this.ARRAY,"splice",e),e=function(t,e){var r=a.createObject(a.ARRAY),i=o(t,0);for(i<0&&(i=this.length+i),i=Math.max(0,Math.min(i,this.length)),(e=o(e,this.length))<0&&(e=this.length+e),e=Math.max(0,Math.min(e,this.length)),t=0;i<e;i++){var n=a.getProperty(this,i);a.setProperty(r,t++,n)}return r},this.setNativeFunctionPrototype(this.ARRAY,"slice",e),e=function(t){t=t&&void 0!==t.data?t.toString():void 0;for(var e=[],r=0;r<this.length;r++)e[r]=this.properties[r];return a.createPrimitive(e.join(t))},this.setNativeFunctionPrototype(this.ARRAY,"join",e),e=function(t){for(var e=a.createObject(a.ARRAY),r=0,i=0;i<this.length;i++){var n=a.getProperty(this,i);a.setProperty(e,r++,n)}for(i=0;i<arguments.length;i++){var o=arguments[i];if(a.isa(o,a.ARRAY))for(var s=0;s<o.length;s++)n=a.getProperty(o,s),a.setProperty(e,r++,n);else a.setProperty(e,r++,o)}return e},this.setNativeFunctionPrototype(this.ARRAY,"concat",e),e=function(t,e){for(t=t||a.UNDEFINED,(e=o(e,0))<0&&(e=this.length+e),e=Math.max(0,e);e<this.length;e++){var r=a.getProperty(this,e);if(r.isPrimitive&&t.isPrimitive?r.data===t.data:r===t)return a.createPrimitive(e)}return a.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"indexOf",e),e=function(t,e){for(t=t||a.UNDEFINED,(e=o(e,this.length))<0&&(e=this.length+e),e=Math.min(e,this.length-1);0<=e;e--){var r=a.getProperty(this,e);if(r.isPrimitive&&t.isPrimitive?r.data===t.data:r===t)return a.createPrimitive(e)}return a.createPrimitive(-1)},this.setNativeFunctionPrototype(this.ARRAY,"lastIndexOf",e),this.polyfills_.push("Object.defineProperty(Array.prototype, 'every', {configurable: true, value:","function(callbackfn, thisArg) {","if (this == null || typeof callbackfn !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O && !callbackfn.call(T, O[k], k, O)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this === void 0 || this === null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t) {","var val = t[i];","if (fun.call(thisArg, val, i, t)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var T, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","k = 0;","while (k < len) {","if (k in O) callback.call(T, O[k], k, O);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map', {configurable: true, value:","function(callback, thisArg) {","if (this == null || typeof callback !== 'function') new TypeError;","var T, A, k;","var O = Object(this);","var len = O.length >>> 0;","if (arguments.length > 1) T = thisArg;","A = new Array(len);","k = 0;","while (k < len) {","if (k in O) A[k] = callback.call(T, O[k], k, O);","k++;","}","return A;","}","});","Object.defineProperty(Array.prototype, 'reduce', {configurable: true, value:","function(callback /*, initialValue*/) {","if (this == null || typeof callback !== 'function') throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = 0, value;","if (arguments.length == 2) {","value = arguments[1];","} else {","while (k < len && !(k in t)) k++;","if (k >= len) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k++];","}","for (; k < len; k++) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight', {configurable: true, value:","function(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw new TypeError;","var t = Object(this), len = t.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in t)) k--;","if (k < 0) {","throw new TypeError('Reduce of empty array with no initial value');","}","value = t[k--];","}","for (; k >= 0; k--) {","if (k in t) value = callback(value, t[k], k, t);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some', {configurable: true, value:","function(fun/*, thisArg*/) {","if (this == null || typeof fun !== 'function') throw new TypeError;","var t = Object(this);","var len = t.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in t && fun.call(thisArg, t[i], i, t)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort', {configurable: true, value:","function(opt_comp) {","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ?opt_comp(this[j], this[j + 1]) > 0 : this[j] > this[j + 1]) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (changes <= 1) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString', {configurable: true, value:","function() {","var out = [];","for (var i = 0; i < this.length; i++) {","out[i] = (this[i] === null || this[i] === undefined) ? '' : this[i].toLocaleString();","}","return out.join(',');","}","});","")},Interpreter.prototype.initNumber=function(t){var e,r=this;for(e=function(t){return t=t?t.toNumber():0,this.parent!=r.NUMBER?r.createPrimitive(t):(this.data=t,this)},this.NUMBER=this.createNativeFunction(e),this.setProperty(t,"Number",this.NUMBER),t=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],e=0;e<t.length;e++)this.setProperty(this.NUMBER,t[e],this.createPrimitive(Number[t[e]]));e=function(t){return t=t||r.UNDEFINED,r.createPrimitive(parseFloat(t.toString()))},this.setProperty(this.NUMBER,"parseFloat",this.createNativeFunction(e)),e=function(t,e){return t=t||r.UNDEFINED,e=e||r.UNDEFINED,r.createPrimitive(parseInt(t.toString(),e.toNumber()))},this.setProperty(this.NUMBER,"parseInt",this.createNativeFunction(e)),e=function(t){t=t?t.toNumber():void 0;var e=this.toNumber();return r.createPrimitive(e.toExponential(t))},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",e),e=function(t){t=t?t.toNumber():void 0;var e=this.toNumber();return r.createPrimitive(e.toFixed(t))},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",e),e=function(t){t=t?t.toNumber():void 0;var e=this.toNumber();return r.createPrimitive(e.toPrecision(t))},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",e),e=function(t){t=t?t.toNumber():10;var e=this.toNumber();return r.createPrimitive(e.toString(t))},this.setNativeFunctionPrototype(this.NUMBER,"toString",e),e=function(t,e){return t=t?r.pseudoToNative(t):void 0,e=e?r.pseudoToNative(e):void 0,r.createPrimitive(this.toNumber().toLocaleString(t,e))},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",e)},Interpreter.prototype.initString=function(t){var e,i=this;e=function(t){return t=t?t.toString():"",this.parent!=i.STRING?i.createPrimitive(t):(this.data=t,this)},this.STRING=this.createNativeFunction(e),this.setProperty(t,"String",this.STRING),e=function(t){for(var e=0;e<arguments.length;e++)arguments[e]=arguments[e].toNumber();return i.createPrimitive(String.fromCharCode.apply(String,arguments))},this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),t=["toLowerCase","toUpperCase","toLocaleLowerCase","toLocaleUpperCase"];for(var r=0;r<t.length;r++)e=function(t){return function(){return i.createPrimitive(t.apply(this))}}(String.prototype[t[r]]),this.setNativeFunctionPrototype(this.STRING,t[r],e);for(e=function(){var t=this.toString();return i.createPrimitive(t.replace(/^\s+|\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trim",e),e=function(){var t=this.toString();return i.createPrimitive(t.replace(/^\s+/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimLeft",e),e=function(){var t=this.toString();return i.createPrimitive(t.replace(/\s+$/g,""))},this.setNativeFunctionPrototype(this.STRING,"trimRight",e),t=["charAt","charCodeAt","substring","slice","substr"],r=0;r<t.length;r++)e=function(e){return function(){for(var t=0;t<arguments.length;t++)arguments[t]=arguments[t].toNumber();return i.createPrimitive(e.apply(this,arguments))}}(String.prototype[t[r]]),this.setNativeFunctionPrototype(this.STRING,t[r],e);e=function(t,e){var r=this.toString();return t=(t||i.UNDEFINED).toString(),e=e?e.toNumber():void 0,i.createPrimitive(r.indexOf(t,e))},this.setNativeFunctionPrototype(this.STRING,"indexOf",e),e=function(t,e){var r=this.toString();return t=(t||i.UNDEFINED).toString(),e=e?e.toNumber():void 0,i.createPrimitive(r.lastIndexOf(t,e))},this.setNativeFunctionPrototype(this.STRING,"lastIndexOf",e),e=function(t,e,r){return t=(t||i.UNDEFINED).toString(),e=e?i.pseudoToNative(e):void 0,r=r?i.pseudoToNative(r):void 0,i.createPrimitive(this.toString().localeCompare(t,e,r))},this.setNativeFunctionPrototype(this.STRING,"localeCompare",e),e=function(t,e){var r=this.toString();for(t=t?i.isa(t,i.REGEXP)?t.data:t.toString():void 0,e=e?e.toNumber():void 0,t=r.split(t,e),e=i.createObject(i.ARRAY),r=0;r<t.length;r++)i.setProperty(e,r,i.createPrimitive(t[r]));return e},this.setNativeFunctionPrototype(this.STRING,"split",e),e=function(t){for(var e=this.toString(),r=0;r<arguments.length;r++)e+=arguments[r].toString();return i.createPrimitive(e)},this.setNativeFunctionPrototype(this.STRING,"concat",e),e=function(t){e=this.toString();if(t=t?t.data:void 0,null===(t=e.match(t)))return i.NULL;for(var e=i.createObject(i.ARRAY),r=0;r<t.length;r++)i.setProperty(e,r,i.createPrimitive(t[r]));return e},this.setNativeFunctionPrototype(this.STRING,"match",e),e=function(t){var e=this.toString();return t=t?t.data:void 0,i.createPrimitive(e.search(t))},this.setNativeFunctionPrototype(this.STRING,"search",e),e=function(t,e){var r=this.toString();return t=(t||i.UNDEFINED).valueOf(),e=(e||i.UNDEFINED).toString(),i.createPrimitive(r.replace(t,e))},this.setNativeFunctionPrototype(this.STRING,"replace",e)},Interpreter.prototype.initBoolean=function(t){var e,r=this;e=function(t){return t=!!t&&t.toBoolean(),this.parent!=r.BOOLEAN?r.createPrimitive(t):(this.data=t,this)},this.BOOLEAN=this.createNativeFunction(e),this.setProperty(t,"Boolean",this.BOOLEAN)},Interpreter.prototype.initDate=function(t){var e,h=this;e=function(t,e,r,i,n,o,s){if(this.parent!=h.DATE)return h.createPrimitive(Date());var a=this;if(arguments.length)if(1!=arguments.length||"string"!=t.type&&!h.isa(t,h.STRING)){for(var p=[null],c=0;c<arguments.length;c++)p[c+1]=arguments[c]?arguments[c].toNumber():void 0;a.data=new(Function.prototype.bind.apply(Date,p))}else a.data=new Date(t.toString());else a.data=new Date;return a},this.DATE=this.createNativeFunction(e),this.setProperty(t,"Date",this.DATE),e=function(){return h.createPrimitive((new Date).getTime())},this.setProperty(this.DATE,"now",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t){return t=t?t.toString():void 0,h.createPrimitive(Date.parse(t))},this.setProperty(this.DATE,"parse",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),e=function(t,e,r,i,n,o,s){for(var a=[],p=0;p<arguments.length;p++)a[p]=arguments[p]?arguments[p].toNumber():void 0;return h.createPrimitive(Date.UTC.apply(Date,a))},this.setProperty(this.DATE,"UTC",this.createNativeFunction(e),Interpreter.NONENUMERABLE_DESCRIPTOR),t="getDate getDay getFullYear getHours getMilliseconds getMinutes getMonth getSeconds getTime getTimezoneOffset getUTCDate getUTCDay getUTCFullYear getUTCHours getUTCMilliseconds getUTCMinutes getUTCMonth getUTCSeconds getYear setDate setFullYear setHours setMilliseconds setMinutes setMonth setSeconds setTime setUTCDate setUTCFullYear setUTCHours setUTCMilliseconds setUTCMinutes setUTCMonth setUTCSeconds setYear toDateString toISOString toJSON toGMTString toLocaleDateString toLocaleString toLocaleTimeString toTimeString toUTCString".split(" ");for(var r=0;r<t.length;r++)e=function(i){return function(t){for(var e=[],r=0;r<arguments.length;r++)e[r]=h.pseudoToNative(arguments[r]);return h.createPrimitive(this.data[i].apply(this.data,e))}}(t[r]),this.setNativeFunctionPrototype(this.DATE,t[r],e)},Interpreter.prototype.initMath=function(t){var r=this,e=this.createObject(this.OBJECT);this.setProperty(t,"Math",e);var i="E LN2 LN10 LOG2E LOG10E PI SQRT1_2 SQRT2".split(" ");for(t=0;t<i.length;t++)this.setProperty(e,i[t],this.createPrimitive(Math[i[t]]),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR);for(i="abs acos asin atan atan2 ceil cos exp floor log max min pow random round sin sqrt tan".split(" "),t=0;t<i.length;t++){var n=function(e){return function(){for(var t=0;t<arguments.length;t++)arguments[t]=arguments[t].toNumber();return r.createPrimitive(e.apply(Math,arguments))}}(Math[i[t]]);this.setProperty(e,i[t],this.createNativeFunction(n),Interpreter.NONENUMERABLE_DESCRIPTOR)}},Interpreter.prototype.initRegExp=function(t){var e,i=this;e=function(t,e){var r=this.parent==i.REGEXP?this:i.createObject(i.REGEXP);return t=t?t.toString():"",e=e?e.toString():"",i.populateRegExp_(r,new RegExp(t,e))},this.REGEXP=this.createNativeFunction(e),this.setProperty(t,"RegExp",this.REGEXP),this.setProperty(this.REGEXP.properties.prototype,"global",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",this.UNDEFINED,Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source",this.createPrimitive("(?:)"),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),e=function(t){return t=t.toString(),i.createPrimitive(this.data.test(t))},this.setNativeFunctionPrototype(this.REGEXP,"test",e),e=function(t){if(t=t.toString(),this.data.lastIndex=i.getProperty(this,"lastIndex").toNumber(),t=this.data.exec(t),i.setProperty(this,"lastIndex",i.createPrimitive(this.data.lastIndex)),t){for(var e=i.createObject(i.ARRAY),r=0;r<t.length;r++)i.setProperty(e,r,i.createPrimitive(t[r]));return i.setProperty(e,"index",i.createPrimitive(t.index)),i.setProperty(e,"input",i.createPrimitive(t.input)),e}return i.NULL},this.setNativeFunctionPrototype(this.REGEXP,"exec",e)},Interpreter.prototype.initJSON=function(t){var r=this,e=r.createObject(this.OBJECT);this.setProperty(t,"JSON",e),t=function(t){try{var e=JSON.parse(t.toString())}catch(t){return void r.throwException(r.SYNTAX_ERROR,t.message)}return r.nativeToPseudo(e)},this.setProperty(e,"parse",this.createNativeFunction(t)),t=function(t){return t=r.pseudoToNative(t),r.createPrimitive(JSON.stringify(t))},this.setProperty(e,"stringify",this.createNativeFunction(t))},Interpreter.prototype.initError=function(e){var i=this;this.ERROR=this.createNativeFunction(function(t){var e=this.parent==i.ERROR?this:i.createObject(i.ERROR);return t&&i.setProperty(e,"message",i.createPrimitive(String(t)),Interpreter.NONENUMERABLE_DESCRIPTOR),e}),this.setProperty(e,"Error",this.ERROR),this.setProperty(this.ERROR.properties.prototype,"message",this.STRING_EMPTY,Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name",this.createPrimitive("Error"),Interpreter.NONENUMERABLE_DESCRIPTOR);var t=function(t){var r=i.createNativeFunction(function(t){var e=i.isa(this.parent,i.ERROR)?this:i.createObject(r);return t&&i.setProperty(e,"message",i.createPrimitive(String(t)),Interpreter.NONENUMERABLE_DESCRIPTOR),e});return i.setProperty(r,"prototype",i.createObject(i.ERROR)),i.setProperty(r.properties.prototype,"name",i.createPrimitive(t),Interpreter.NONENUMERABLE_DESCRIPTOR),i.setProperty(e,t,r),r};t("EvalError"),this.RANGE_ERROR=t("RangeError"),this.REFERENCE_ERROR=t("ReferenceError"),this.SYNTAX_ERROR=t("SyntaxError"),this.TYPE_ERROR=t("TypeError"),this.URI_ERROR=t("URIError")},Interpreter.prototype.isa=function(t,e){if(!t||!e)return!1;for(;t.parent!=e;){if(!t.parent||!t.parent.properties.prototype)return!1;t=t.parent.properties.prototype}return!0},Interpreter.prototype.comp=function(t,e){return t.isPrimitive&&isNaN(t.data)||e.isPrimitive&&isNaN(e.data)?NaN:t===e?0:(t=t.isPrimitive?t.data:t.toString())<(e=e.isPrimitive?e.data:e.toString())?-1:e<t?1:0},Interpreter.prototype.arrayIndex=function(t){return t=Number(t),!isFinite(t)||t!=Math.floor(t)||t<0?NaN:t},Interpreter.Primitive=function(t,e){var r=_typeof(t);this.data=t,"number"==(this.type=r)?this.parent=e.NUMBER:"string"==r?this.parent=e.STRING:"boolean"==r&&(this.parent=e.BOOLEAN)},Interpreter.Primitive.prototype.data=void 0,Interpreter.Primitive.prototype.type="undefined",Interpreter.Primitive.prototype.parent=null,Interpreter.Primitive.prototype.isPrimitive=!0,Interpreter.Primitive.prototype.toBoolean=function(){return!!this.data},Interpreter.Primitive.prototype.toNumber=function(){return Number(this.data)},Interpreter.Primitive.prototype.toString=function(){return String(this.data)},Interpreter.Primitive.prototype.valueOf=function(){return this.data},Interpreter.prototype.createPrimitive=function(t){return void 0===t?this.UNDEFINED:null===t?this.NULL:!0===t?this.TRUE:!1===t?this.FALSE:0===t?this.NUMBER_ZERO:1===t?this.NUMBER_ONE:""===t?this.STRING_EMPTY:t instanceof RegExp?this.populateRegExp_(this.createObject(this.REGEXP),t):new Interpreter.Primitive(t,this)},Interpreter.Object=function(t){this.notConfigurable=Object.create(null),this.notEnumerable=Object.create(null),this.notWritable=Object.create(null),this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.parent=t},Interpreter.Object.prototype.type="object",Interpreter.Object.prototype.parent=null,Interpreter.Object.prototype.isPrimitive=!1,Interpreter.Object.prototype.data=void 0,Interpreter.Object.prototype.toBoolean=function(){return!0},Interpreter.Object.prototype.toNumber=function(){return Number(void 0===this.data?this.toString():this.data)},Interpreter.Object.prototype.toString=function(){return void 0===this.data?"["+this.type+"]":String(this.data)},Interpreter.Object.prototype.valueOf=function(){return void 0===this.data?this:this.data},Interpreter.prototype.createObject=function(t){return t=new Interpreter.Object(t),this.isa(t,this.FUNCTION)&&(t.type="function",this.setProperty(t,"prototype",this.createObject(this.OBJECT||null))),this.isa(t,this.ARRAY)&&(t.length=0,t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this.properties[e];t[e]=!r||r.isPrimitive&&(null===r.data||void 0===r.data)?"":r.toString()}return t.join(",")}),t},Interpreter.prototype.populateRegExp_=function(t,e){return t.data=e,this.setProperty(t,"lastIndex",this.createPrimitive(e.lastIndex),Interpreter.NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"source",this.createPrimitive(e.source),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"global",this.createPrimitive(e.global),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"ignoreCase",this.createPrimitive(e.ignoreCase),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(t,"multiline",this.createPrimitive(e.multiline),Interpreter.READONLY_NONENUMERABLE_DESCRIPTOR),t.toString=function(){return String(this.data)},t.valueOf=function(){return this.data},t},Interpreter.prototype.createFunction=function(t,e){var r=this.createObject(this.FUNCTION);return r.parentScope=e||this.getScope(),r.node=t,this.setProperty(r,"length",this.createPrimitive(r.node.params.length),Interpreter.READONLY_DESCRIPTOR),r},Interpreter.prototype.createNativeFunction=function(t){var e=this.createObject(this.FUNCTION);return e.nativeFunc=t,this.setProperty(e,"length",this.createPrimitive(t.length),Interpreter.READONLY_DESCRIPTOR),e},Interpreter.prototype.createAsyncFunction=function(t){var e=this.createObject(this.FUNCTION);return e.asyncFunc=t,this.setProperty(e,"length",this.createPrimitive(t.length),Interpreter.READONLY_DESCRIPTOR),e},Interpreter.prototype.nativeToPseudo=function(t){if("boolean"==typeof t||"number"==typeof t||"string"==typeof t||null==t||t instanceof RegExp)return this.createPrimitive(t);var e;if(t instanceof Array){e=this.createObject(this.ARRAY);for(var r=0;r<t.length;r++)this.setProperty(e,r,this.nativeToPseudo(t[r]))}else for(r in e=this.createObject(this.OBJECT),t)this.setProperty(e,r,this.nativeToPseudo(t[r]));return e},Interpreter.prototype.pseudoToNative=function(t){if(t.isPrimitive||this.isa(t,this.NUMBER)||this.isa(t,this.STRING)||this.isa(t,this.BOOLEAN))return t.data;var e;if(this.isa(t,this.ARRAY)){e=[];for(var r=0;r<t.length;r++)e[r]=this.pseudoToNative(t.properties[r])}else for(r in e={},t.properties)e[r]=this.pseudoToNative(t.properties[r]);return e},Interpreter.prototype.getProperty=function(t,e){if(e=e.toString(),t==this.UNDEFINED||t==this.NULL)return this.throwException(this.TYPE_ERROR,"Cannot read property '"+e+"' of "+t),null;if(this.isa(t,this.STRING)){if("length"==e)return this.createPrimitive(t.data.length);var r=this.arrayIndex(e);if(!isNaN(r)&&r<t.data.length)return this.createPrimitive(t.data[r])}else if(this.isa(t,this.ARRAY)&&"length"==e)return this.createPrimitive(t.length);for(;;){if(t.properties&&e in t.properties)return(r=t.getter[e])?(r.isGetter=!0,r):t.properties[e];if(!(t.parent&&t.parent.properties&&t.parent.properties.prototype))break;t=t.parent.properties.prototype}return this.UNDEFINED},Interpreter.prototype.hasProperty=function(t,e){if(e=e.toString(),t.isPrimitive)throw TypeError("Primitive data type has no properties");if("length"==e&&(this.isa(t,this.STRING)||this.isa(t,this.ARRAY)))return!0;if(this.isa(t,this.STRING)){var r=this.arrayIndex(e);if(!isNaN(r)&&r<t.data.length)return!0}for(;;){if(t.properties&&e in t.properties)return!0;if(!(t.parent&&t.parent.properties&&t.parent.properties.prototype))break;t=t.parent.properties.prototype}return!1},Interpreter.prototype.setProperty=function(t,e,r,i){if(e=e.toString(),i&&t.notConfigurable[e]&&this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+e),"object"!=_typeof(r))throw Error("Failure to wrap a value: "+r);if(t!=this.UNDEFINED&&t!=this.NULL||this.throwException(this.TYPE_ERROR,"Cannot set property '"+e+"' of "+t),i&&(i.get||i.set)&&(r||void 0!==i.writable)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute"),!t.isPrimitive){if(this.isa(t,this.STRING)){var n=this.arrayIndex(e);if("length"==e||!isNaN(n)&&n<t.data.length)return}if(this.isa(t,this.ARRAY)){var o;if("length"==e){if(e=this.arrayIndex(r.toNumber()),isNaN(e)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),e<t.length)for(o in t.properties)o=this.arrayIndex(o),!isNaN(o)&&e<=o&&delete t.properties[o];return void(t.length=e)}isNaN(o=this.arrayIndex(e))||(t.length=Math.max(t.length,o+1))}if(!t.properties[e]&&t.preventExtensions)(t=this.getScope()).strict&&this.throwException(this.TYPE_ERROR,"Can't add property "+e+", object is not extensible");else if(i)t.properties[e]=r,i.configurable||(t.notConfigurable[e]=!0),(r=i.get)?t.getter[e]=r:delete t.getter[e],(o=i.set)?t.setter[e]=o:delete t.setter[e],(n=i.enumerable||!1)?delete t.notEnumerable[e]:t.notEnumerable[e]=!0,r||o?(delete t.notWritable[e],t.properties[e]=this.UNDEFINED):(i=i.writable||!1)?delete t.notWritable[e]:t.notWritable[e]=!0;else{for(i=t;;){if(i.setter&&i.setter[e])return i.setter[e];if(!(i.parent&&i.parent.properties&&i.parent.properties.prototype))break;i=i.parent.properties.prototype}t.notWritable[e]||(t.properties[e]=r)}}},Interpreter.prototype.setNativeFunctionPrototype=function(t,e,r){this.setProperty(t.properties.prototype,e,this.createNativeFunction(r),Interpreter.NONENUMERABLE_DESCRIPTOR)},Interpreter.prototype.deleteProperty=function(t,e){return e=e.toString(),!(t.isPrimitive||t.notWritable[e]||"length"==e&&this.isa(t,this.ARRAY))&&delete t.properties[e]},Interpreter.prototype.getScope=function(){for(var t=0;t<this.stateStack.length;t++)if(this.stateStack[t].scope)return this.stateStack[t].scope;throw Error("No scope found.")},Interpreter.prototype.createScope=function(t,e){var r=this.createObject(null);return(r.parentScope=e)||this.initGlobalScope(r),this.populateScope_(t,r),r.strict=!1,e&&e.strict?r.strict=!0:(t=t.body&&t.body[0])&&t.expression&&"Literal"==t.expression.type&&"use strict"==t.expression.value&&(r.strict=!0),r},Interpreter.prototype.createSpecialScope=function(t,e){if(!t)throw Error("parentScope required");return(e=e||this.createObject(null)).parentScope=t,e.strict=t.strict,e},Interpreter.prototype.getValueFromScope=function(t){var e=this.getScope();for(t=t.toString();e;){if(t in e.properties)return e.properties[t];e=e.parentScope}return this.throwException(this.REFERENCE_ERROR,t+" is not defined"),null},Interpreter.prototype.setValueToScope=function(t,e){var r=this.getScope(),i=r.strict;for(t=t.toString();r;){if(t in r.properties||!i&&!r.parentScope)return void(r.notWritable[t]||(r.properties[t]=e));r=r.parentScope}this.throwException(this.REFERENCE_ERROR,t+" is not defined")},Interpreter.prototype.populateScope_=function(t,e){if("VariableDeclaration"==t.type)for(var r=0;r<t.declarations.length;r++)this.setProperty(e,t.declarations[r].id.name,this.UNDEFINED);else{if("FunctionDeclaration"==t.type)return void this.setProperty(e,t.id.name,this.createFunction(t,e));if("FunctionExpression"==t.type)return}var i,n=t.constructor;for(i in t){var o=t[i];if(o&&"object"==_typeof(o))if(o instanceof Array)for(r=0;r<o.length;r++)o[r]&&o[r].constructor==n&&this.populateScope_(o[r],e);else o.constructor==n&&this.populateScope_(o,e)}},Interpreter.prototype.stripLocations_=function(t){for(var e in delete t.start,delete t.end,t)if(t.hasOwnProperty(e)){var r=t[e];r&&"object"==_typeof(r)&&this.stripLocations_(r)}},Interpreter.prototype.getValue=function(t){if(t instanceof Array){var e=t[0];return t=t[1],this.getProperty(e,t)}return this.getValueFromScope(t)},Interpreter.prototype.setValue=function(t,e){if(t instanceof Array){var r=t[0];return t=t[1],this.setProperty(r,t,e)}this.setValueToScope(t,e)},Interpreter.prototype.throwException=function(t,e){if(this.stateStack[0].interpreter)try{return void this.stateStack[0].interpreter.throwException(t,e)}catch(t){}void 0!==e&&(t=this.createObject(t),this.setProperty(t,"message",this.createPrimitive(e),Interpreter.NONENUMERABLE_DESCRIPTOR)),this.executeException(t)},Interpreter.prototype.executeException=function(t){do{if(this.stateStack.shift(),"TryStatement"==(e=this.stateStack[0]).node.type)return void(e.throwValue=t)}while(e&&"Program"!=e.node.type);if(this.isa(t,this.ERROR)){var e={EvalError:EvalError,RangeError:RangeError,ReferenceError:ReferenceError,SyntaxError:SyntaxError,TypeError:TypeError,URIError:URIError},r=this.getProperty(t,"name").toString();t=this.getProperty(t,"message").valueOf(),t=(e=e[r]||Error)(t)}else t=t.toString();throw t},Interpreter.prototype.stepArrayExpression=function(){var t=this.stateStack[0],e=t.node,r=t.n||0;t.array?t.value&&this.setProperty(t.array,r-1,t.value):t.array=this.createObject(this.ARRAY),r<e.elements.length?(t.n=r+1,e.elements[r]?this.stateStack.unshift({node:e.elements[r]}):t.value=void 0):(t.array.length=t.n||0,this.stateStack.shift(),this.stateStack[0].value=t.array)},Interpreter.prototype.stepAssignmentExpression=function(){var t=this.stateStack[0],e=t.node;if(t.doneLeft)if(t.doneRight)if(t.doneSetter_)this.stateStack.shift(),this.stateStack[0].value=t.doneSetter_;else{var r=t.value;if("="==e.operator)e=r;else{var i=t.leftValue.toNumber(),n=r.toNumber();if("+="==e.operator)r="string"==t.leftValue.type||"string"==r.type?(e=t.leftValue.toString(),r.toString()):(e=i,n),e+=r;else if("-="==e.operator)e=i-n;else if("*="==e.operator)e=i*n;else if("/="==e.operator)e=i/n;else if("%="==e.operator)e=i%n;else if("<<="==e.operator)e=i<<n;else if(">>="==e.operator)e=i>>n;else if(">>>="==e.operator)e=i>>>n;else if("&="==e.operator)e=i&n;else if("^="==e.operator)e=i^n;else{if("|="!=e.operator)throw SyntaxError("Unknown assignment expression: "+e.operator);e=i|n}e=this.createPrimitive(e)}(r=this.setValue(t.leftSide,e))?(t.doneSetter_=e,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:t.leftSide[0],func_:r,doneArgs_:!0,arguments:[e]})):(this.stateStack.shift(),this.stateStack[0].value=e)}else{if(t.leftSide||(t.leftSide=t.value),t.doneGetter_&&(t.leftValue=t.value),!t.doneGetter_&&"="!=e.operator&&(t.leftValue=this.getValue(t.leftSide),t.leftValue.isGetter))return t.leftValue.isGetter=!1,t.doneGetter_=!0,void this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:t.leftSide[0],func_:t.leftValue,doneArgs_:!0,arguments:[]});t.doneRight=!0,this.stateStack.unshift({node:e.right})}else t.doneLeft=!0,this.stateStack.unshift({node:e.left,components:!0})},Interpreter.prototype.stepBinaryExpression=function(){var t=(r=this.stateStack[0]).node;if(r.doneLeft)if(r.doneRight){this.stateStack.shift();var e=r.leftValue,r=r.value,i=this.comp(e,r);if("=="==t.operator||"!="==t.operator)e=e.isPrimitive&&r.isPrimitive?e.data==r.data:0===i,"!="==t.operator&&(e=!e);else if("==="==t.operator||"!=="==t.operator)e=e.isPrimitive&&r.isPrimitive?e.data===r.data:e===r,"!=="==t.operator&&(e=!e);else if(">"==t.operator)e=1==i;else if(">="==t.operator)e=1==i||0===i;else if("<"==t.operator)e=-1==i;else if("<="==t.operator)e=-1==i||0===i;else if("+"==t.operator)e=e.isPrimitive?e.data:e.toString(),e+=r=r.isPrimitive?r.data:r.toString();else if("in"==t.operator)e=this.hasProperty(r,e);else if("instanceof"==t.operator)this.isa(r,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Expecting a function in instanceof check"),e=this.isa(e,r);else if(e=e.toNumber(),r=r.toNumber(),"-"==t.operator)e-=r;else if("*"==t.operator)e*=r;else if("/"==t.operator)e/=r;else if("%"==t.operator)e%=r;else if("&"==t.operator)e&=r;else if("|"==t.operator)e|=r;else if("^"==t.operator)e^=r;else if("<<"==t.operator)e<<=r;else if(">>"==t.operator)e>>=r;else{if(">>>"!=t.operator)throw SyntaxError("Unknown binary operator: "+t.operator);e>>>=r}this.stateStack[0].value=this.createPrimitive(e)}else r.doneRight=!0,r.leftValue=r.value,this.stateStack.unshift({node:t.right});else r.doneLeft=!0,this.stateStack.unshift({node:t.left})},Interpreter.prototype.stepBlockStatement=function(){var t=this.stateStack[0],e=t.node,r=t.n_||0;e.body[r]?(t.done=!1,t.n_=r+1,this.stateStack.unshift({node:e.body[r]})):(t.done=!0,"Program"!=t.node.type&&this.stateStack.shift())},Interpreter.prototype.stepBreakStatement=function(){var t,e=null;for((t=(t=this.stateStack.shift()).node).label&&(e=t.label.name),t=this.stateStack.shift();t&&"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if(e?e==t.label:t.isLoop||t.isSwitch)return;t=this.stateStack.shift()}throw SyntaxError("Illegal break statement")},Interpreter.prototype.stepCallExpression=function(){var e=this.stateStack[0],t=e.node;if(e.doneCallee_){if(!e.func_){if("function"==e.value.type)e.func_=e.value;else{if(e.value.length&&(e.member_=e.value[0]),e.func_=this.getValue(e.value),!e.func_)return;if("function"!=e.func_.type)return void this.throwException(this.TYPE_ERROR,(e.value&&e.value.type)+" is not a function")}"NewExpression"==e.node.type?(e.funcThis_=this.createObject(e.func_),e.isConstructor_=!0):e.funcThis_=e.func_.boundThis_?e.func_.boundThis_:e.value.length?e.value[0]:this.stateStack[this.stateStack.length-1].thisExpression,e.arguments=e.func_.boundArgs_?e.func_.boundArgs_.concat():[],e.n_=0}if(!e.doneArgs_){if(0!=e.n_&&e.arguments.push(e.value),t.arguments[e.n_])return this.stateStack.unshift({node:t.arguments[e.n_]}),void e.n_++;e.doneArgs_=!0}if(e.doneExec_)this.stateStack.shift(),this.stateStack[0].value=e.isConstructor_&&"object"!==e.value.type?e.funcThis_:e.value;else if(e.doneExec_=!0,e.func_.node){t=this.createScope(e.func_.node.body,e.func_.parentScope);for(var r=0;r<e.func_.node.params.length;r++){var i=this.createPrimitive(e.func_.node.params[r].name),n=e.arguments.length>r?e.arguments[r]:this.UNDEFINED;this.setProperty(t,i,n)}for(i=this.createObject(this.ARRAY),r=0;r<e.arguments.length;r++)this.setProperty(i,this.createPrimitive(r),e.arguments[r]);this.setProperty(t,"arguments",i),t={node:e.func_.node.body,scope:t,thisExpression:e.funcThis_},this.stateStack.unshift(t),e.value=this.UNDEFINED}else if(e.func_.nativeFunc)e.value=e.func_.nativeFunc.apply(e.funcThis_,e.arguments);else if(e.func_.asyncFunc){var o=this;t=function(t){e.value=t||o.UNDEFINED,o.paused_=!1},t=e.arguments.concat(t);e.func_.asyncFunc.apply(e.funcThis_,t),this.paused_=!0}else{if(!e.func_.eval)throw TypeError("function not a function (huh?)");(t=e.arguments[0])?t.isPrimitive?((t=new Interpreter(t.toString())).stateStack[0].scope=this.getScope(),e={node:{type:"Eval_"},interpreter:t},this.stateStack.unshift(e)):e.value=t:e.value=this.UNDEFINED}}else e.doneCallee_=!0,this.stateStack.unshift({node:t.callee,components:!0})},Interpreter.prototype.stepCatchClause=function(){var t=this.stateStack[0],e=t.node;if(t.doneBody)this.stateStack.shift();else{var r;if(t.doneBody=!0,e.param){r=this.createSpecialScope(this.getScope());var i=this.createPrimitive(e.param.name);this.setProperty(r,i,t.throwValue)}this.stateStack.unshift({node:e.body,scope:r})}},Interpreter.prototype.stepConditionalExpression=function(){var t=this.stateStack[0];t.done?(this.stateStack.shift(),"ConditionalExpression"==t.node.type&&(this.stateStack[0].value=t.value)):t.test?(t.done=!0,t.value.toBoolean()&&t.node.consequent?this.stateStack.unshift({node:t.node.consequent}):!t.value.toBoolean()&&t.node.alternate&&this.stateStack.unshift({node:t.node.alternate})):(t.test=!0,this.stateStack.unshift({node:t.node.test}))},Interpreter.prototype.stepContinueStatement=function(){var t=this.stateStack[0].node,e=null;for(t.label&&(e=t.label.name),t=this.stateStack[0];t&&"CallExpression"!=t.node.type&&"NewExpression"!=t.node.type;){if(t.isLoop&&(!e||e==t.label))return;this.stateStack.shift(),t=this.stateStack[0]}throw SyntaxError("Illegal continue statement")},Interpreter.prototype.stepDoWhileStatement=function(){var t=this.stateStack[0];t.isLoop=!0,"DoWhileStatement"==t.node.type&&void 0===t.test&&(t.value=this.TRUE,t.test=!0),t.test?(t.test=!1,t.value.toBoolean()?t.node.body&&this.stateStack.unshift({node:t.node.body}):this.stateStack.shift()):(t.test=!0,this.stateStack.unshift({node:t.node.test}))},Interpreter.prototype.stepEmptyStatement=function(){this.stateStack.shift()},Interpreter.prototype.stepEval_=function(){var t=this.stateStack[0];t.interpreter.step()||(this.stateStack.shift(),this.stateStack[0].value=t.interpreter.value||this.UNDEFINED)},Interpreter.prototype.stepExpressionStatement=function(){var t=this.stateStack[0];t.done?(this.stateStack.shift(),this.value=t.value):(t.done=!0,this.stateStack.unshift({node:t.node.expression}))},Interpreter.prototype.stepForInStatement=function(){var t=this.stateStack[0];t.isLoop=!0;var e=t.node;if(t.doneVariable_)if(t.doneObject_){void 0===t.iterator&&(t.object=t.value,t.iterator=0);var r=null;t:do{var i,n=t.iterator;for(i in t.object.properties)if(!t.object.notEnumerable[i]){if(0==n){r=i;break t}n--}t.object=t.object.parent&&t.object.parent.properties.prototype,t.iterator=0}while(t.object);t.iterator++,null===r?this.stateStack.shift():(this.setValueToScope(t.variable,this.createPrimitive(r)),e.body&&this.stateStack.unshift({node:e.body}))}else t.doneObject_=!0,t.variable=t.value,this.stateStack.unshift({node:e.right});else t.doneVariable_=!0,"VariableDeclaration"==(t=e.left).type&&(t=t.declarations[0].id),this.stateStack.unshift({node:t,components:!0})},Interpreter.prototype.stepForStatement=function(){var t=this.stateStack[0];t.isLoop=!0;var e=t.node,r=t.mode||0;0==r?(t.mode=1,e.init&&this.stateStack.unshift({node:e.init})):1==r?(t.mode=2,e.test&&this.stateStack.unshift({node:e.test})):2==r?(t.mode=3,e.test&&t.value&&!t.value.toBoolean()?this.stateStack.shift():e.body&&this.stateStack.unshift({node:e.body})):3==r&&(t.mode=1,e.update&&this.stateStack.unshift({node:e.update}))},Interpreter.prototype.stepFunctionDeclaration=function(){this.stateStack.shift()},Interpreter.prototype.stepFunctionExpression=function(){var t=this.stateStack.shift();this.stateStack[0].value=this.createFunction(t.node)},Interpreter.prototype.stepIdentifier=function(){var t=this.stateStack.shift(),e=this.createPrimitive(t.node.name);this.stateStack[0].value=t.components?e:this.getValueFromScope(e)},Interpreter.prototype.stepIfStatement=Interpreter.prototype.stepConditionalExpression,Interpreter.prototype.stepLabeledStatement=function(){var t=this.stateStack.shift();this.stateStack.unshift({node:t.node.body,label:t.node.label.name})},Interpreter.prototype.stepLiteral=function(){var t=this.stateStack.shift();this.stateStack[0].value=this.createPrimitive(t.node.value)},Interpreter.prototype.stepLogicalExpression=function(){var t=this.stateStack[0],e=t.node;if("&&"!=e.operator&&"||"!=e.operator)throw SyntaxError("Unknown logical operator: "+e.operator);t.doneLeft_?t.doneRight_?(this.stateStack.shift(),this.stateStack[0].value=t.value):"&&"==e.operator&&!t.value.toBoolean()||"||"==e.operator&&t.value.toBoolean()?(this.stateStack.shift(),this.stateStack[0].value=t.value):(t.doneRight_=!0,this.stateStack.unshift({node:e.right})):(t.doneLeft_=!0,this.stateStack.unshift({node:e.left}))},Interpreter.prototype.stepMemberExpression=function(){var t=this.stateStack[0],e=t.node;t.doneObject_?t.doneProperty_?(this.stateStack.shift(),t.components?this.stateStack[0].value=[t.object,t.value]:(e=this.getProperty(t.object,t.value))?e.isGetter?(e.isGetter=!1,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:t.object,func_:e,doneArgs_:!0,arguments:[]})):this.stateStack[0].value=e:(this.stateStack.unshift({}),this.throwException(this.TYPE_ERROR,"Cannot read property '"+t.value+"' of "+t.object.toString()))):(t.doneProperty_=!0,t.object=t.value,this.stateStack.unshift({node:e.property,components:!e.computed})):(t.doneObject_=!0,this.stateStack.unshift({node:e.object}))},Interpreter.prototype.stepNewExpression=Interpreter.prototype.stepCallExpression,Interpreter.prototype.stepObjectExpression=function(){var t=this.stateStack[0],e=t.node,r=t.valueToggle,i=t.n||0;if(t.object?r?t.key=t.value:(t.properties[t.key]||(t.properties[t.key]={}),t.properties[t.key][t.kind]=t.value):(t.object=this.createObject(this.OBJECT),t.properties=Object.create(null)),e.properties[i])r?(t.n=i+1,this.stateStack.unshift({node:e.properties[i].value})):(t.kind=e.properties[i].kind,this.stateStack.unshift({node:e.properties[i].key,components:!0})),t.valueToggle=!r;else{for(var n in t.properties)"get"in(e=t.properties[n])||"set"in e?(e={configurable:!0,enumerable:!0,get:e.get,set:e.set},this.setProperty(t.object,n,null,e)):this.setProperty(t.object,n,e.init);this.stateStack.shift(),this.stateStack[0].value=t.object}},Interpreter.prototype.stepProgram=Interpreter.prototype.stepBlockStatement,Interpreter.prototype.stepReturnStatement=function(){var t=this.stateStack[0],e=t.node;if(e.argument&&!t.done)t.done=!0,this.stateStack.unshift({node:e.argument});else{e=t.value||this.UNDEFINED;do{if(this.stateStack.shift(),0==this.stateStack.length)throw SyntaxError("Illegal return statement");t=this.stateStack[0]}while("CallExpression"!=t.node.type&&"NewExpression"!=t.node.type);t.value=e}},Interpreter.prototype.stepSequenceExpression=function(){var t=this.stateStack[0],e=t.node,r=t.n||0;e.expressions[r]?(t.n=r+1,this.stateStack.unshift({node:e.expressions[r]})):(this.stateStack.shift(),this.stateStack[0].value=t.value)},Interpreter.prototype.stepSwitchStatement=function(){var t=this.stateStack[0];if(t.checked=t.checked||[],t.isSwitch=!0,t.test){t.switchValue||(t.switchValue=t.value);var e=t.index||0,r=t.node.cases[e];if(r)if(t.done||t.checked[e]||!r.test){if(t.done||!r.test||0==this.comp(t.value,t.switchValue)){t.done=!0;var i=t.n||0;if(r.consequent[i])return this.stateStack.unshift({node:r.consequent[i]}),void(t.n=i+1)}t.n=0,t.index=e+1}else t.checked[e]=!0,this.stateStack.unshift({node:r.test});else this.stateStack.shift()}else t.test=!0,this.stateStack.unshift({node:t.node.discriminant})},Interpreter.prototype.stepThisExpression=function(){this.stateStack.shift();for(var t=0;t<this.stateStack.length;t++)if(this.stateStack[t].thisExpression)return void(this.stateStack[0].value=this.stateStack[t].thisExpression);throw Error("No this expression found.")},Interpreter.prototype.stepThrowStatement=function(){var t=this.stateStack[0],e=t.node;t.argument?this.throwException(t.value):(t.argument=!0,this.stateStack.unshift({node:e.argument}))},Interpreter.prototype.stepTryStatement=function(){var t=this.stateStack[0],e=t.node;t.doneBlock?t.throwValue&&!t.doneHandler&&e.handler?(t.doneHandler=!0,this.stateStack.unshift({node:e.handler,throwValue:t.throwValue}),t.throwValue=null):!t.doneFinalizer&&e.finalizer?(t.doneFinalizer=!0,this.stateStack.unshift({node:e.finalizer})):t.throwValue?this.executeException(t.throwValue):this.stateStack.shift():(t.doneBlock=!0,this.stateStack.unshift({node:e.block}))},Interpreter.prototype.stepUnaryExpression=function(){var t=(r=this.stateStack[0]).node;if(r.done){if(this.stateStack.shift(),"-"==t.operator)t=-r.value.toNumber();else if("+"==t.operator)t=r.value.toNumber();else if("!"==t.operator)t=!r.value.toBoolean();else if("~"==t.operator)t=~r.value.toNumber();else if("delete"==t.operator||"typeof"==t.operator){if(r.value.length)var e=r.value[0],r=r.value[1];else e=this.getScope(),r=r.value;t="delete"==t.operator?this.deleteProperty(e,r):this.getProperty(e,r).type}else{if("void"!=t.operator)throw SyntaxError("Unknown unary operator: "+t.operator);t=void 0}this.stateStack[0].value=this.createPrimitive(t)}else r.done=!0,e={node:t.argument},"delete"!=t.operator&&"typeof"!=t.operator||(e.components=!0),this.stateStack.unshift(e)},Interpreter.prototype.stepUpdateExpression=function(){var t=this.stateStack[0],e=t.node;if(t.doneLeft){if(t.leftSide||(t.leftSide=t.value),t.doneGetter_&&(t.leftValue=t.value),!t.doneGetter_){if(t.leftValue=this.getValue(t.leftSide),!t.leftValue)return;if(t.leftValue.isGetter)return t.leftValue.isGetter=!1,t.doneGetter_=!0,void this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:t.leftSide[0],func_:t.leftValue,doneArgs_:!0,arguments:[]})}if(t.doneSetter_)this.stateStack.shift(),this.stateStack[0].value=t.doneSetter_;else{var r,i=t.leftValue.toNumber();if("++"==e.operator)r=this.createPrimitive(i+1);else{if("--"!=e.operator)throw SyntaxError("Unknown update expression: "+e.operator);r=this.createPrimitive(i-1)}e=e.prefix?r:this.createPrimitive(i),(i=this.setValue(t.leftSide,r))?(t.doneSetter_=e,this.stateStack.unshift({node:{type:"CallExpression"},doneCallee_:!0,funcThis_:t.leftSide[0],func_:i,doneArgs_:!0,arguments:[r]})):(this.stateStack.shift(),this.stateStack[0].value=e)}}else t.doneLeft=!0,this.stateStack.unshift({node:e.argument,components:!0})},Interpreter.prototype.stepVariableDeclaration=function(){var t=this.stateStack[0],e=t.node,r=t.n||0;e.declarations[r]?(t.n=r+1,this.stateStack.unshift({node:e.declarations[r]})):this.stateStack.shift()},Interpreter.prototype.stepVariableDeclarator=function(){var t=this.stateStack[0],e=t.node;e.init&&!t.done?(t.done=!0,this.stateStack.unshift({node:e.init})):(e.init&&this.setValue(this.createPrimitive(e.id.name),t.value),this.stateStack.shift())},Interpreter.prototype.stepWithStatement=function(){var t=this.stateStack[0],e=t.node;t.doneObject?t.doneBody?this.stateStack.shift():(t.doneBody=!0,t=this.createSpecialScope(this.getScope(),t.value),this.stateStack.unshift({node:e.body,scope:t})):(t.doneObject=!0,this.stateStack.unshift({node:e.object}))},Interpreter.prototype.stepWhileStatement=Interpreter.prototype.stepDoWhileStatement,(this.Interpreter=Interpreter).prototype.appendCode=Interpreter.prototype.appendCode,Interpreter.prototype.createAsyncFunction=Interpreter.prototype.createAsyncFunction,Interpreter.prototype.step=Interpreter.prototype.step,Interpreter.prototype.run=Interpreter.prototype.run;
var API={url:"https://www.ezblock.sunfounder.com/api/web/v1/",githubUrl:"./addPackageSim/",timeout:5e3,get:function(t,o){return new Promise(function(e,n){$.ajax({type:"POST",dataType:"json",url:API.url+t,data:o,timeout:API.timeout,success:function(t){e(t)},error:function(t){console.log(t),t.statusText,n(t)}})})},getLibs:function(u,a){return new Promise(function(e,n){var t="".concat(u,"/").concat(a),o=new XMLHttpRequest;o.timeout=API.timeout,o.onreadystatechange=function(t){4===o.readyState&&(200===o.status?e(o.response):n(o.status))},o.ontimeout=function(){n("timeout")},o.open("get",t,!0),o.send()})}};
Tutorials={count:1,stepList:"",height:80,display_block:!1,page_header_height:{home:"dragheader1",carouselCoding:"dragheader2",coding:"dragheader2",routing:"dragheader2",remote:"dragheader2",internetOfThings:"dragheader2",faq:"dragheader2",pInformation:"dragheader2",myProject:"dragheader2",tutorialsProject:"dragheader2",examplesProject:"dragheader2"}},$(function(){$(".tutorials_next").click(function(){Tutorials.next()}),$(".tutorials_back").click(function(){Tutorials.pervious()}),$("#tutorials_tips").click(function(){Tutorials.show_tutorials_modal()})}),Tutorials.show_tutorials_modal=function(){$("#tutorials_modal").modal("show"),$(".tutorials_modal_msg").html(Tutorials.stepList["step"+Tutorials.count].description),0<Choice.current.kits.length?$(".tutorials_modal_img img").attr("src","./products/".concat(window[Choice.current.product].id,"/tutorials/img/").concat(Tutorials.stepList["step"+Tutorials.count].image)):$(".tutorials_modal_img img").attr("src","./packages/".concat(window[Choice.current.product].id,"/tutorials/img/").concat(Tutorials.stepList["step"+Tutorials.count].image))},Tutorials.show=function(t,o){Tutorials.display_block=!0,EzBlock.renderPage("home");var e=$(window).height()-$(".tutorials_block").height();$(".homeContent").height(e),document.querySelector(".tutorials_block").style.display="flex",$(".footImg").hide(),Tutorials.loadData(t,o)},Tutorials.setPageHeight=function(t){if("home"==t)var o=0;else o=1;var e=$(window).height()-o*$("."+Tutorials.page_header_height[t]).height()-$(".tutorials_block").height();$(".ezblockContent").height(e)},Tutorials.hide=function(){Tutorials.display_block=!1,EzBlock.renderPage("home"),EzBlock.sizeHeight(),document.querySelector(".tutorials_block").style.display="none",$(".footImg").show()},Tutorials.loadData=function(t,o){var e=window[Choice.current.product].tutorials[Choice.current.platform];Tutorials.stepList=e[t][o].stepList,Tutorials.render(e[t][o].stepList,Tutorials.count),Tutorials.showDot(),Tutorials.heightLineDot(Tutorials.count)},Tutorials.render=function(t,o){$("#tutorials_tips").html(t["step"+o].description)},Tutorials.next=function(){if(Tutorials.count>=Object.keys(Tutorials.stepList).length)return!1;Tutorials.count++,Tutorials.render(Tutorials.stepList,Tutorials.count),Tutorials.heightLineDot(Tutorials.count),Tutorials.show_tutorials_modal()},Tutorials.pervious=function(){Tutorials.count<=1&&Tutorials.hide(),Tutorials.count--,Tutorials.render(Tutorials.stepList,Tutorials.count),Tutorials.heightLineDot(Tutorials.count),Tutorials.show_tutorials_modal()},Tutorials.openProject=function(){var t=window.localStorage.getItem("deleteCont"),o=window.localStorage.getItem("currentCont");o?o==t?(Home.clearDevice(),Utils.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2e3)):(EzBlock.renderPage("tutorialsProject"),Home.recentUsedDevice(o)):(Home.clearDevice(),Utils.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2e3))},Tutorials.showDot=function(){for(var t=0;t<Object.keys(Tutorials.stepList).length;t++)$(".dot").append('<li class="dot_item"></li>');Tutorials.setDotCenter()},Tutorials.setDotCenter=function(){var t=-$(".dot").width()/2;$(".dot").css("margin-left",t+"px")},Tutorials.heightLineDot=function(t){$(".dot_item").removeClass("dot_item_animation").css({background:"#ccc"}).html(""),$(".dot_item").eq(t-1).css({background:"rgb(255,202,75)"}).addClass("dot_item_animation").html(t)};
var ScriptCode=function(e){this.id=e+"code",this.initialFontSize=22,this.fontSize=this.initialFontSize,this.fontSizeStep=1,this.mode=e,this.runtime="",this.themeList=["chrome","ambiance","chaos","clouds","clouds_midnight","cobalt","crimson_editor","dawn","dracula","dreamweaver","eclipse","github","gob","gruvbox","idle_fingers","iplastic","katzenmilch","kr_theme","kuroir","merbivore","merbivore_soft","monokai","mono_industrial","pastel_on_dark","solarized_dark","solarized_light","sqlserver","terminal","textmate","tomorrow","tomorrow_night","tomorrow_night_blue","tomorrow_night_bright","tomorrow_night_eighties","twilight","vibrant_ink","xcode"]};ScriptCode.prototype.init=function(){$(".scriptcode .hbox").append('<div id="'+this.id+'" class="flex3" tabindex="-1" style="display:none"></div>');for(var e="",t=0;t<this.themeList.length;t++)e+="<option>".concat(this.themeList[t],"</option>");$("#ace-selectheme").append(e),this.ACE=ace.edit(this.id),ace.require("ace/ext/language_tools"),this.ACE.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.ACE.setTheme("ace/theme/chrome"),this.ACE.setAutoScrollEditorIntoView(!0),this.ACE.setHighlightActiveLine(!0),this.ACE.getSession().setTabSize(4),this.ACE.getSession().setUseSoftTabs(!0),this.ACE.setFontSize(this.initialFontSize),this.regExp(0),this.caseSensitive(0),this.wholeWord(0),this.findValue=""},ScriptCode.prototype.setTheme=function(){var e=$("#ace-selectheme option:selected").html();this.ACE.setTheme("ace/theme/"+e)},ScriptCode.prototype.setKeyboard=function(){this.ACE;this.ACE.commands.addCommand({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(t){ace.config.loadModule("ace/ext/keybinding_menu",function(e){e.init(t),t.showKeyboardShortcuts()})}}),this.ACE.execCommand("showKeyboardShortcuts")},ScriptCode.prototype.setCode=function(e){this.ACE.setValue(e)},ScriptCode.prototype.clear=function(){this.ACE.setValue("")},ScriptCode.prototype.getCode=function(){return this.ACE.getValue()},ScriptCode.prototype.focus=function(){this.ACE.focus()},ScriptCode.prototype.redo=function(){this.ACE.redo()},ScriptCode.prototype.undo=function(){this.ACE.undo()},ScriptCode.prototype.findIptShow=function(){$("#ace-search-ipt").modal("show")},ScriptCode.prototype.regExp=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null==e?($(".ace-regExp").toggleClass("ace-regExp-true"),this.regExpValue=!this.regExpValue,this.find(force=!0)):0==e?($(".ace-regExp").removeClass("ace-regExp-true"),this.regExpValue=!1):1==e&&($(".ace-regExp").addClass("ace-regExp-true"),this.regExpValue=!0)},ScriptCode.prototype.caseSensitive=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null==e?($(".ace-caseSensitive").toggleClass("ace-caseSensitive-true"),this.caseSensitiveValue=!this.caseSensitiveValue,this.find(force=!0)):0==e?($(".ace-caseSensitive").removeClass("ace-caseSensitive-true"),this.caseSensitiveValue=!1):1==e&&($(".ace-caseSensitive").addClass("ace-caseSensitive-true"),this.caseSensitiveValue=!0)},ScriptCode.prototype.wholeWord=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;null==e?($(".ace-wholeWord").toggleClass("ace-wholeWord-true"),this.wholeWordValue=!this.wholeWordValue,this.find(force=!0)):0==e?($(".ace-wholeWord").removeClass("ace-wholeWord-true"),this.wholeWordValue=!1):1==e&&($(".ace-wholeWord").addClass("ace-wholeWord-true"),this.wholeWordValue=!0)},ScriptCode.prototype.find=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=$(".searchForIpt").val();(t!=this.findValue||e)&&(this.findValue=t,this.ACE.find(t,{caseSensitive:this.caseSensitiveValue,wholeWord:this.wholeWordValue,regExp:this.regExpValue}))},ScriptCode.prototype.findNext=function(){this.find(),this.ACE.findNext()},ScriptCode.prototype.findPrevious=function(){this.find(),this.ACE.findPrevious()},ScriptCode.prototype.findAll=function(){var e=$(".searchForIpt").val();this.ACE.findAll(e,{caseSensitive:this.caseSensitiveValue,wholeWord:this.wholeWordValue,regExp:this.regExpValue})},ScriptCode.prototype.replace=function(){var e=$(".replaceWithIpt").val();this.ACE.replace(e)},ScriptCode.prototype.replaceAll=function(){var e=$(".replaceWithIpt").val();this.ACE.replaceAll(e)},ScriptCode.prototype.tab=function(){var e=new Event("keydown");e.keyCode=85,e.which=e.keyCode,e.altKey=!1,e.ctrlKey=!0,e.shiftKey=!1,e.metaKey=!1,e.bubbles=!0,Coding.platform.ACE.focus(),setTimeout(function(){document.querySelector(".ace_content").dispatchEvent(e)},1e3)},ScriptCode.prototype.selectMore=function(){this.ACE.selectMore(),this.ACE.focus()},ScriptCode.prototype.on_change=function(e){this.ACE.getSession().on("change",e)},ScriptCode.prototype.zoomReset=function(e){this.fontSize=this.initialFontSize,this.ACE.setFontSize(this.fontSize)},ScriptCode.prototype.zoomIn=function(e){this.fontSize-=this.fontSizeStep,this.ACE.setFontSize(this.fontSize)},ScriptCode.prototype.zoomOut=function(e){this.fontSize+=this.fontSizeStep,this.ACE.setFontSize(this.fontSize)},ScriptCode.prototype.sizeHeight=function(){var e=$(".codingContent").height();$(".python").height(e),$("#main").height(e)},ScriptCode.prototype.show=function(){document.querySelector(".scriptcode").style.display="block",document.querySelector("#"+this.id).style.display="block",document.querySelector(".video-block").style.display="block",this.ACE.getSession().setMode("ace/mode/"+this.mode),window.sessionStorage},ScriptCode.prototype.hide=function(){document.querySelector(".scriptcode").style.display="none",document.querySelector("#"+this.id).style.display="none",document.querySelector(".video-block").style.display="none",window.sessionStorage},ScriptCode.prototype.load=function(e){this.clear(),this.setCode(e)},ScriptCode.prototype.save=function(){return this.getCode()},ScriptCode.prototype.getSnippets=function(){return ace.require("ace/snippets").snippetManager.snippetMap.python},ScriptCode.prototype.triggerSnippet=function(e){var t=ace.require("ace/snippets").snippetManager;(e=t.snippetNameMap.python[e])&&t.insertSnippet(this.ACE,e.content)},ScriptCode.prototype.encrypt=function(e,t){var o=forge.random.getBytesSync(8),i=forge.pbe.opensslDeriveBytes(e,o,32),r=forge.util.createBuffer(i),s=r.getBytes(24),n=r.getBytes(8),c=forge.cipher.createCipher("AES-CBC",s);c.start({iv:n}),c.update(forge.util.createBuffer(t,"binary")),c.finish();var a=forge.util.createBuffer();return a.putBytes("Salted__"),a.putBytes(o),a.putBuffer(c.output),encodeURIComponent(btoa(a.getBytes()))},ScriptCode.prototype.decrypt=function(e,t){var o=atob(decodeURIComponent(t));(o=forge.util.createBuffer(o,"binary")).getBytes("Salted__".length);var i=o.getBytes(8),r=forge.pbe.opensslDeriveBytes(e,i,32),s=forge.util.createBuffer(r),n=s.getBytes(24),c=s.getBytes(8),a=forge.cipher.createDecipher("AES-CBC",n);a.start({iv:c}),a.update(o);a.finish();return a.output.getBytes()};
var PythonCode=new ScriptCode("python");PythonCode.runtime="#!/usr/bin/python3";
var SwiftCode=new ScriptCode("swift");SwiftCode.runtime="//!/usr/bin/swift";
goog.provide("Blockly.Blocks.basic"),goog.provide("Blockly.Constants.Basic"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Basic.RGB="#FFCB4A",Blockly.Blocks.basic.RGB=Blockly.Constants.Basic.RGB,Blockly.Blocks.basic_start={init:function(){this.appendDummyInput().appendField(Blockly.Msg.BASIC_START_TITLE1),this.appendStatementInput("statement"),this.setColour(Blockly.Constants.Basic.RGB),this.setTooltip(Blockly.Msg.BASIC_START_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.basic_forever={init:function(){this.appendDummyInput().appendField(Blockly.Msg.BASIC_FOREVER_TITLE1),this.appendStatementInput("statement"),this.setColour(Blockly.Constants.Basic.RGB),this.setTooltip(Blockly.Msg.BASIC_FOREVER_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.basic_print={init:function(){this.appendValueInput("msg").setCheck(null).appendField(Blockly.Msg.BASIC_PRINT_TITLE1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Basic.RGB),this.setTooltip(Blockly.Msg.BASIC_PRINT_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.basic_delay={init:function(){this.appendValueInput("ms").setCheck("Number").appendField(Blockly.Msg.BASIC_DELAY_TITLE1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Basic.RGB),this.setTooltip(Blockly.Msg.BASIC_DELAY_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.math_hex={init:function(){var l=new Blockly.FieldTextInput("",function(l){for(i in l=l.toUpperCase())if(-1=="0123456789ABCDEF".indexOf(l[i]))return"0";return l});this.appendDummyInput().appendField("0x").appendField(l,"NUM"),this.setOutput(!0,null),this.setColour(Blockly.Msg.MATH_HUE),this.setTooltip("Create hex value"),this.setHelpUrl("")}},Blockly.Blocks.math_mapping={init:function(){this.appendValueInput("in_value").setCheck(null).appendField("map value").setAlign(Blockly.ALIGN_RIGHT),this.appendValueInput("in_min").setCheck(null).appendField("from min").setAlign(Blockly.ALIGN_RIGHT),this.appendValueInput("in_max").setCheck(null).appendField("from max").setAlign(Blockly.ALIGN_RIGHT),this.appendValueInput("out_min").setCheck(null).appendField("to min").setAlign(Blockly.ALIGN_RIGHT),this.appendValueInput("out_max").setCheck(null).appendField("to max").setAlign(Blockly.ALIGN_RIGHT),this.setInputsInline(!1),this.setOutput(!0,null),this.setColour(Blockly.Msg.MATH_HUE),this.setTooltip("map value from [aaa, bbb] to [ccc, ddd]"),this.setHelpUrl("")}},Blockly.Constants.Colour.Colours=[["red",'"red"'],["green",'"green"'],["blue",'"blue"']],Blockly.Blocks.colour_led_picker={init:function(){this.appendDummyInput().appendField(new Blockly.FieldLedColour,"colour"),this.setOutput(!0,null),this.setColour(Blockly.Msg.COLOUR_HUE),this.setTooltip("Colour picker for LED light"),this.setHelpUrl("")}},Blockly.Blocks.colour_get_colour_from={init:function(){this.appendValueInput("colour").setCheck("Number").appendField(Blockly.Msg.COLOUR_GET_COLOUR_FROM_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.Colour.Colours),"rgb").appendField(Blockly.Msg.COLOUR_GET_COLOUR_FROM_TITLE2),this.setOutput(!0,null),this.setColour(Blockly.Msg.COLOUR_HUE),this.setTooltip(Blockly.Msg.COLOUR_GET_COLOUR_FROM_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.basic"),goog.require("Blockly.Python"),Blockly.Python.basic_start=function(o){var l=Blockly.Python.statementToCode(o,"statement");if(""!=l){var n=l.split("\n");for(i in n)n[i]=n[i].slice(2);l=n.join("\n")}var t="";return t+=l,Blockly.Python.definitions_.basic_start=t,null},Blockly.Python.basic_forever=function(o){for(var l,n,t=Blockly.Python.statementToCode(o,"statement"),e=[],r=o.workspace,y=Blockly.Variables.allUsedVarModels(r)||[],c=0;n=y[c];c++)l=n.name,e.push(Blockly.Python.variableDB_.getName(l,Blockly.Variables.NAME_TYPE));var a=Blockly.Variables.allDeveloperVariables(r);for(c=0;c<a.length;c++)e.push(Blockly.Python.variableDB_.getName(a[c],Blockly.Names.DEVELOPER_VARIABLE_TYPE));""==t&&(t="  pass\n");var i="";return i+="def forever():\n",i+=e=e.length?Blockly.Python.INDENT+"global "+e.join(", ")+"\n":"",i+=t},Blockly.Python.basic_print=function(o){var l="";return l+='print("%s"%'+Blockly.Python.valueToCode(o,"msg",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.basic_delay=function(o){var l="";return l+="delay(int("+Blockly.Python.valueToCode(o,"ms",Blockly.Python.ORDER_ATOMIC)+"))\n"},Blockly.Python.math_hex=function(o){var l="";return[l+="0x"+o.getFieldValue("NUM"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.math_mapping=function(o){var l="";return[l+="mapping("+Blockly.Python.valueToCode(o,"in_value",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"in_min",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"in_max",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"out_min",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"out_max",Blockly.Python.ORDER_ATOMIC)+")",Blockly.Python.ORDER_NONE]},Blockly.Python.colour_led_picker=function(o){var l="";return[l+='"'+o.getFieldValue("colour")+'"',Blockly.Python.ORDER_ATOMIC]},Blockly.Python.colour_get_colour_from=function(o){var l=o.getFieldValue("rgb"),n=Blockly.Python.valueToCode(o,"colour");Blockly.Python.definitions_.define_get_colour_from="def __get_colour_from__(rgb, c):\n  if rgb == 'red':\n    return int(c[1:3], 16)\n  elif rgb == 'green':\n    return int(c[3:5], 16)\n  elif rgb == 'blue':\n    return int(c[5:7], 16)\n",void 0===n&&(n='"#000000"');var t="";return[t+="__get_colour_from__(".concat(l,", ").concat(n,")"),Blockly.Python.ORDER_ATOMIC]};
goog.provide("Blockly.Blocks.music"),goog.provide("Blockly.Constants.Music"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Music.RGB="#A94AEC",Blockly.Blocks.music.RGB=Blockly.Constants.Music.RGB,Blockly.Constants.Music.NOTES=[["Low C","261.63"],["Low C#","277.18"],["Low D","293.66"],["Low D#","311.13"],["Low E","329.63"],["Low F","349.23"],["Low F#","369.99"],["Low G","392.00"],["Low G#","415.30"],["Low A","440.00"],["Low A#","466.16"],["Low B","493.88"],["Middle C","523.25"],["Middle C#","554.37"],["Middle D","587.33"],["Middle D#","622.25"],["Middle E","659.25"],["Middle F","698.46"],["Middle F#","739.99"],["Middle G","783.99"],["Middle G#","830.61"],["Middle A","880.00"],["Middle A#","932.33"],["Middle B","987.77"],["High C","1046.50"],["High C#","1108.73"],["High D","1174.66"],["High D#","1244.51"],["High E","1318.51"],["High F","1396.91"],["High F#","1479.98"],["High G","1567.98"],["High G#","1661.22"],["High A","1760.00"],["High A#","1864.66"],["High B","1975.53"]],Blockly.Constants.Music.BEATS=[["1","1"],["1/2","0.5"],["1/4","0.25"],["1/8","0.125"],["1/16","0.0625"],["2","2"],["4","4"]],Blockly.Blocks.music_notes={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Music.NOTES),"note"),this.setColour(Blockly.Constants.Music.RGB),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.MUSIC_NOTES_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.music_beat={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Music.BEATS),"beat").appendField(Blockly.Msg.MUSIC_BEAT_TITLE1),this.setColour(Blockly.Constants.Music.RGB),this.setOutput(!0,"Number"),this.setTooltip(Blockly.Msg.MUSIC_BEAT_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.music_set_tempo={init:function(){this.appendValueInput("tempo").setCheck("Number").appendField(Blockly.Msg.MUSIC_SET_TEMPO_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.MUSIC_SET_TEMPO_TITLE2),this.setColour(Blockly.Constants.Music.RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(Blockly.Msg.MUSIC_SET_TEMPO_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.music"),goog.require("Blockly.Python"),Blockly.Python.music_notes=function(o){var _=o.getFieldValue("note");Blockly.Python.definitions_.define_music_beat="__MUSIC_BEAT__ = 500";var n="";return[n+="int(".concat(_,")"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.music_beat=function(o){var _=o.getFieldValue("beat");Blockly.Python.definitions_.define_music_beat="__MUSIC_BEAT__ = 500";var n="";return[n+="int(".concat(_," * __MUSIC_BEAT__)"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.music_set_tempo=function(o){var _=Blockly.Python.valueToCode(o,"tempo",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.define_music_beat="__MUSIC_BEAT__ = 500";var n="";return n+="__MUSIC_BEAT__ = 60 / "+_+" * 1000\n"};
goog.provide("Blockly.Blocks.time"),goog.provide("Blockly.Constants.TIME"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.TIME.HUE=292,Blockly.Blocks.time.HUE=Blockly.Constants.TIME.HUE,Blockly.Blocks.time_localtime={init:function(){this.appendValueInput("secs").appendField(Blockly.Msg.TIME_LOCALTIME_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.TIME_LOCALTIME_TITLE2),this.setColour(Blockly.Constants.TIME.HUE),this.setOutput(!0,null),this.setTooltip(Blockly.Msg.TIME_LOCALTIME_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_mktime={init:function(){this.appendValueInput("localtime").appendField(Blockly.Msg.TIME_MKTIME_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.TIME_MKTIME_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_MKTIME_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_sleep={init:function(){this.appendValueInput("delay_secs").appendField(Blockly.Msg.TIME_SLEEP_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.TIME_SLEEP_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_SLEEP_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_sleep_ms={init:function(){this.appendValueInput("delay_secs").appendField(Blockly.Msg.TIME_SLEEP_MS_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.TIME_SLEEP_MS_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_SLEEP_MS_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_sleep_us={init:function(){this.appendValueInput("delay_secs").appendField(Blockly.Msg.TIME_SLEEP_US_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.TIME_SLEEP_US_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_SLEEP_US_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_ticks_ms={init:function(){this.appendDummyInput().appendField(Blockly.Msg.TIME_TICKS_MS_TITLE),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_TICKS_MS_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_ticks_us={init:function(){this.appendDummyInput().appendField(Blockly.Msg.TIME_TICKS_US_TITLE),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_TICKS_US_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_ticks_cpu={init:function(){this.appendDummyInput().appendField(Blockly.Msg.TIME_TICKS_CPU_TITLE),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_TICKS_CPU_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_ticks_add={init:function(){this.appendValueInput("ticks").appendField(Blockly.Msg.TIME_TICKS_ADD_TITLE1),this.appendValueInput("delta").appendField(Blockly.Msg.TIME_TICKS_ADD_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_TICKS_ADD_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_ticks_diff={init:function(){this.appendValueInput("ticks1").appendField(Blockly.Msg.TIME_TICKS_DIFF_TITLE1),this.appendValueInput("ticks2").appendField(Blockly.Msg.TIME_TICKS_DIFF_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_TICKS_DIFF_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.time_time={init:function(){this.appendDummyInput().appendField(Blockly.Msg.TIME_TIME_TITLE),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.TIME.HUE),this.setTooltip(Blockly.Msg.TIME_TIME_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.time"),goog.require("Blockly.Python"),Blockly.Python.time_localtime=function(t){var o=Blockly.Python.valueToCode(t,"secs",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time",["time.loacltime("+o+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_mktime=function(t){var o=Blockly.Python.valueToCode(t,"localtime",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time",["time.mktime(tuple("+o+"))",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_sleep=function(t){var o=Blockly.Python.valueToCode(t,"delay_secs",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time","time.sleep("+o+")\n"},Blockly.Python.time_sleep_ms=function(t){var o=Blockly.Python.valueToCode(t,"delay_secs",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time","time.sleep_ms("+o+")\n"},Blockly.Python.time_sleep_us=function(t){var o=Blockly.Python.valueToCode(t,"delay_secs",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time","time.sleep_us("+o+")\n"},Blockly.Python.time_ticks_ms=function(t){Blockly.Python.definitions_.import_time="import time";return["time.ticks_ms()",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_ticks_us=function(t){Blockly.Python.definitions_.import_time="import time";return["time.ticks_us()",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_ticks_cpu=function(t){Blockly.Python.definitions_.import_time="import time";return["time.ticks_cpu()",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_ticks_add=function(t){var o=Blockly.Python.valueToCode(t,"ticks",Blockly.Python.ORDER_ATOMIC),i=Blockly.Python.valueToCode(t,"delta",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time",["time.ticks_add("+o+", "+i+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_ticks_diff=function(t){var o=Blockly.Python.valueToCode(t,"ticks1",Blockly.Python.ORDER_ATOMIC),i=Blockly.Python.valueToCode(t,"ticks2",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_time="import time",["time.ticks_diff("+o+", "+i+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.time_time=function(t){Blockly.Python.definitions_.import_time="import time";return["time.time()",Blockly.Python.ORDER_ATOMIC]};
goog.provide("Blockly.Blocks.remote"),goog.provide("Blockly.Constants.Remote"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Remote.RGB="#58ce6a",Blockly.Blocks.remote.RGB=Blockly.Constants.Remote.RGB,Blockly.Constants.Remote.Joystick_Coordinate=[["X","X"],["Y","Y"]],Blockly.Constants.Remote.Compare=[["=","=="],["<","<"],[">",">"],["≥",">="],["≤","<="],["≠","!="]],Blockly.Constants.Remote.Direction=[["UP","U"],["DOWN","D"],["LEFT","L"],["RIGHT","R"]],Blockly.Constants.Remote.JoystickID=[["0","0"]],Blockly.Constants.Remote.SliderID=[["0","0"]],Blockly.Constants.Remote.DpadID=[["0","0"]],Blockly.Constants.Remote.ButtonID=[["0","0"]],Blockly.Constants.Remote.SliderID=[["0","0"]],Blockly.Blocks.remote_read_from={init:function(){this.appendDummyInput().appendField(Blockly.Msg.REMOTE_READ_FROM_TITLE1),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Remote.RGB),this.setTooltip(Blockly.Msg.REMOTE_READ_FROM_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.remote_joystick_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.REMOTE_JOYSTICK_GET_VALUE_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.JoystickID),"id"),this.appendDummyInput().appendField(Blockly.Msg.REMOTE_JOYSTICK_GET_VALUE_TITLE2).appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.Joystick_Coordinate),"coord"),this.appendDummyInput().appendField(Blockly.Msg.REMOTE_JOYSTICK_GET_VALUE_TITLE3),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.Remote.RGB),this.setTooltip(Blockly.Msg.REMOTE_JOYSTICK_GET_VALUE_TOOLTIP),this.setHelpUrl("")},onchange:function(){if(this.workspace.isDragging&&!this.workspace.isDragging()){var t=!1,e=this;do{if("remote_read_from"==e.type){t=!0;break}e=e.getSurroundParent()}while(e);t?this.isInFlyout||this.setDisabled(!1):(this.setWarningText(Blockly.Msg.REMOTE_NOT_IN_LOOP_WARNING),this.isInFlyout||this.setDisabled(!0))}}},Blockly.Blocks.remote_slider_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.REMOTE_SLIDER_GET_VALUE_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.SliderID),"id"),this.appendDummyInput().appendField(Blockly.Msg.REMOTE_SLIDER_GET_VALUE_TITLE2),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.Remote.RGB),this.setTooltip(Blockly.Msg.REMOTE_SLIDER_GET_VALUE_TOOLTIP),this.setHelpUrl("")},onchange:Blockly.Blocks.remote_joystick_get_value.onchange},Blockly.Blocks.remote_dpad_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.REMOTE_DPAD_GET_DIRECTION_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.DpadID),"id"),this.appendDummyInput().appendField(Blockly.Msg.REMOTE_DPAD_GET_DIRECTION_TITLE2),this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.Direction),"direction").appendField(Blockly.Msg.REMOTE_DPAD_GET_DIRECTION_TITLE3),this.setOutput(!0,"Number"),this.setInputsInline(!0),this.setColour(Blockly.Constants.Remote.RGB),this.setTooltip(Blockly.Msg.REMOTE_DPAD_GET_DIRECTION_TOOLTIP),this.setHelpUrl("")},onchange:Blockly.Blocks.remote_joystick_get_value.onchange},Blockly.Blocks.remote_button_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.REMOTE_BUTTON_GET_VALUE_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.ButtonID),"id"),this.appendDummyInput().appendField(Blockly.Msg.REMOTE_BUTTON_GET_VALUE_TITLE2),this.setOutput(!0,"Number"),this.setInputsInline(!0),this.setColour(Blockly.Constants.Remote.RGB),this.setTooltip(Blockly.Msg.REMOTE_BUTTON_GET_VALUE_TOOLTIP),this.setHelpUrl("")},onchange:Blockly.Blocks.remote_joystick_get_value.onchange},Blockly.Blocks.remote_switch_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.REMOTE_SWITCH_GET_VALUE_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.Remote.SwitchID),"id"),this.appendDummyInput().appendField(Blockly.Msg.REMOTE_SWITCH_GET_VALUE_TITLE2),this.setOutput(!0,"Number"),this.setInputsInline(!0),this.setColour(Blockly.Constants.Remote.RGB),this.setTooltip(Blockly.Msg.REMOTE_SWITCH_GET_VALUE_TOOLTIP),this.setHelpUrl("")},onchange:Blockly.Blocks.remote_joystick_get_value.onchange};
goog.provide("Blockly.Python.remote"),goog.require("Blockly.Python"),Blockly.Python.remote_read_from=function(e){var o=window[Choice.current.device];Blockly.Python.statementToCode(e,"statement");Blockly.Python.definitions_.import_remote="from "+o.series+" import Remote\n__RM_OBJECT__ = Remote()";return"__RM_OBJECT__.read()\n","__RM_OBJECT__.read()\n"},Blockly.Python.remote_joystick_get_value=function(e){var o=window[Choice.current.device],t=e.getFieldValue("id"),_=e.getFieldValue("coord");Blockly.Python.definitions_.import_remote="from "+o.series+" import Remote\n__RM_OBJECT__ = Remote()";var r="";return[r+='__RM_OBJECT__.get_joystick_value("'+t+'", "'+_+'")',Blockly.Python.ORDER_ATOMIC]},Blockly.Python.remote_slider_get_value=function(e){var o=window[Choice.current.device],t=e.getFieldValue("id");Blockly.Python.definitions_.import_remote="from "+o.series+" import Remote\n__RM_OBJECT__ = Remote()";var _="";return[_+='__RM_OBJECT__.get_slider_value("'+t+'")',Blockly.Python.ORDER_ATOMIC]},Blockly.Python.remote_dpad_get_value=function(e){var o=window[Choice.current.device],t=e.getFieldValue("id"),_=e.getFieldValue("direction");Blockly.Python.definitions_.import_remote="from "+o.series+" import Remote\n__RM_OBJECT__ = Remote()";var r="";return[r+='__RM_OBJECT__.get_dpad_value("'.concat(t,'", "').concat(_,'")'),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.remote_button_get_value=function(e){var o=window[Choice.current.device],t=e.getFieldValue("id");Blockly.Python.definitions_.import_remote="from "+o.series+" import Remote\n__RM_OBJECT__ = Remote()";var _="";return[_+='__RM_OBJECT__.get_button_value("'+t+'")',Blockly.Python.ORDER_ATOMIC]},Blockly.Python.remote_switch_get_value=function(e){var o=window[Choice.current.device],t=e.getFieldValue("id");Blockly.Python.definitions_.import_remote="from "+o.series+" import Remote\n__RM_OBJECT__ = Remote()";var _="";return[_+='__RM_OBJECT__.get_switch_value("'+t+'")',Blockly.Python.ORDER_ATOMIC]};
goog.provide("Blockly.Blocks.iot"),goog.provide("Blockly.Constants.IOT"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.IOT.RGB="#58ce6a",Blockly.Blocks.iot.RGB=Blockly.Constants.IOT.RGB,Blockly.Constants.IOT.ActuatorsID=[["Temperature","0"],["Actuators","1"],["Default","2"]],Blockly.Constants.IOT.SensorsID=[["Button","0"],["Switch","1"],["Slider","2"],["Default","3"]],Blockly.Blocks.iot_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.IOT_GET_VALUE_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.IOT.ActuatorsID),"sensorname").appendField(Blockly.Msg.IOT_GET_VALUE_TITLE2),this.setOutput(!0,null),this.setColour(Blockly.Constants.IOT.RGB),this.setTooltip(Blockly.Msg.IOT_GET_VALUE_TOOLIP),this.setHelpUrl("")}},Blockly.Blocks.iot_post_value={init:function(){this.appendValueInput("value").setCheck(null).appendField(Blockly.Msg.IOT_POST_VALUE_TITLE).appendField(new Blockly.FieldDropdown(Blockly.Constants.IOT.SensorsID),"sensorname"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.IOT.RGB),this.setTooltip(Blockly.Msg.IOT_POST_VALUE_TOOLIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.iot"),goog.require("Blockly.Python"),Blockly.Python.iot_post_value=function(o){var _=window[Choice.current.device],e=o.getFieldValue("sensorname"),n=Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC),t=_.id,i="";i+="from raspberrypi import IOT\n",i+='__IOT_TOKEN__ = "'+iot_token+'"\n',i+='__IOT__ = IOT(__IOT_TOKEN__, "'+t+'")\n',Blockly.Python.definitions_.define_iot=i;var r="";return r+='__IOT__.post("'+e+'", '+n+")\n"},Blockly.Python.iot_get_value=function(o){var _=window[Choice.current.device],e=o.getFieldValue("sensorname"),n=_.id,t="";t+="from raspberrypi import IOT\n",t+='__IOT_TOKEN__ = "'+iot_token+'"\n',t+='__IOT__ = IOT(__IOT_TOKEN__, "'+n+'")\n',Blockly.Python.definitions_.define_iot=t;var i="";return[i+='__IOT__.get("'+e+'")',Blockly.Python.ORDER_ATOMIC]};
BlockCode={workspace:null,id:"blockcode",runtime:"#!/usr/bin/python3",remoteToolboxText:"",iotToolboxText:"",addPackageToolboxText:'<category name="%{BKY_CATADDPACKAGE}" ></category>',mainToolboxText:"",basicToolboxText:"",deviceToolboxText:"",kitsToolboxText:"",loadBlocks:function(o){try{var e=window.sessionStorage.loadOnceBlocks}catch(o){e=null}if("BlocklyStorage"in window&&1<window.location.hash.length)BlocklyStorage.retrieveXml(window.location.hash.substring(1));else if(e){delete window.sessionStorage.loadOnceBlocks;var c=Blockly.Xml.textToDom(e);Blockly.Xml.domToWorkspace(c,BlockCode.workspace)}else if(o){c=Blockly.Xml.textToDom(o);Blockly.Xml.domToWorkspace(c,BlockCode.workspace)}else"BlocklyStorage"in window&&window.setTimeout(BlocklyStorage.restoreBlocks,0)},getBBox_:function(o){for(var e=o.offsetHeight,c=o.offsetWidth,l=0,t=0;l+=o.offsetLeft,t+=o.offsetTop,o=o.offsetParent;);return{height:e,width:c,x:l,y:t}},getToolboxXml:function(){deviceObj=window[Choice.current.device];var o=Blockly.mainToolboxText,e=BlockCode.basicToolboxText,c="<sep></sep>";if(deviceObj)var l=deviceObj.timeToolboxText;else l="";if(-1==distributor.Category.Boards.indexOf(Choice.current.device))var t="";else t=deviceObj.toolboxText;var a=window[Choice.current.product];if(a&&Choice.current.product!==Choice.current.device)var n=a.toolboxText;else n="";var r=e+o+c+t+n+l+c+BlockCode.kitsToolboxText+BlockCode.remoteToolboxText+BlockCode.iotToolboxText;return r="<xml>"+r+"</xml>",Blockly.Xml.textToDom(r)}},BlockCode.blockTreeRowIcon=function(){var o=$(".blocklyToolboxDiv .blocklyTreeRow .blocklyTreeLabel");o.length&&o.each(function(){if(cat=function(o,e){for(var c in MSG)if(0==c.indexOf("cat")&&MSG[c]==e)return c;return-1}(MSG,$(this).text()),-1!=cat){cat=cat.replace("cat","");var o=cat.toLowerCase(),e=(Choice.current.kits||[]).map(function(o){return o.toLowerCase()}),c=Choice.current.device.toLowerCase(),l=Choice.current.product.toLowerCase(),t="<icon style=\"background-image:url('"+CORE_DIR+"media/mark/default.png')\"></icon>";if(o==c)t="<icon style=\"background-image:url('".concat(CORE_DIR,"packages/").concat(c,"/img/").concat(c,"_icon.png')\" class=icon").concat(c,"></icon>");else if(o==l)t="<icon style=\"background-image:url('".concat(CORE_DIR,"products/").concat(l,"/img/").concat(l,"_icon.png')\" class=icon").concat(c,"></icon>");else if(-1!=e.indexOf(o))t="<icon style=\"background-image:url('".concat(CORE_DIR,"packages/").concat(o,"/img/").concat(cat,".png')\" class=icon").concat(cat,"></icon>");else t="<icon style=\"background-image:url('".concat(CORE_DIR,"media/mark/").concat(cat,".png')\" class=icon").concat(cat,"></icon>");$(this).before(t)}$(this).text()==MSG.catAddPackage&&$(this).parent().attr({id:"aaa"})})},BlockCode.reflashToolbox=function(){var o=BlockCode.getToolboxXml();BlockCode.workspace.updateToolbox(o),BlockCode.blockTreeRowIcon()},BlockCode.changeDevice=function(){BlockCode.reflashToolbox()},BlockCode.zoomReset=function(o){BlockCode.workspace.markFocused(),BlockCode.workspace.setScale(BlockCode.workspace.options.zoomOptions.startScale),BlockCode.workspace.scrollCenter(),Blockly.Touch.clearTouchIdentifier(),o.stopPropagation(),o.preventDefault()},BlockCode.zoomOut=function(o){BlockCode.workspace.markFocused(),BlockCode.workspace.zoomCenter(1),Blockly.Touch.clearTouchIdentifier(),o.stopPropagation(),o.preventDefault()},BlockCode.zoomIn=function(o){BlockCode.workspace.markFocused(),BlockCode.workspace.zoomCenter(-1),Blockly.Touch.clearTouchIdentifier(),o.stopPropagation(),o.preventDefault()},BlockCode.initColor=function(){Blockly.Msg.LOGIC_HUE="#7C56Cd",Blockly.Msg.LOOPS_HUE="#CF5889",Blockly.Msg.MATH_HUE="#CE7258",Blockly.Msg.TEXTS_HUE="#597ECE",Blockly.Msg.LISTS_HUE="#78C94D",Blockly.Msg.COLOUR_HUE="#CE58C2",Blockly.Msg.VARIABLES_HUE="#C44357",Blockly.Msg.PROCEDURES_HUE="#4DA8D2"},BlockCode.init=function(){for(var o in BlockCode.initColor(),MSG)0==o.indexOf("cat")&&(Blockly.Msg[o.toUpperCase()]=MSG[o]);var e=BlockCode.getToolboxXml();BlockCode.workspace=Blockly.inject("blockContent",{media:"./media/",rtl:RTL,toolbox:e,trashcan:!1,grid:{spacing:20,length:1,colour:"#ccc",snap:!0},zoom:{controls:!1,wheel:!0}}),$(".blocklyToolboxDiv").append('<div class="blocklyTrash"><i class="glyphicon glyphicon-trash"></i></div>'),BlockCode.blockTreeRowIcon(),"BlocklyStorage"in window&&BlocklyStorage.backupOnUnload(BlockCode.workspace),$(".read").click(function(){$(".see,.board_see").hide(),$(".see_read").toggle()}),BlockCode.workspace.addChangeListener(Blockly.Events.disableOrphans)},BlockCode.discard=function(){var o=BlockCode.workspace.getAllBlocks().length;(o<2||window.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",o)))&&(BlockCode.workspace.clear(),window.location.hash&&(window.location.hash=""))},BlockCode.sizeHeight=function(){var o=$(".ezblockContent").height();if($("#blockContent").height(o),"none"!=document.querySelector(".dragfooter-xs").style.display){var e=$(".dragfooter-xs").height(),c=$(window).height()-$(".dragheader2").height()-e;$("#blockContent").height(c)}setTimeout(function(){var o=parseInt($("#blockContent").height())-150,e=parseInt($("#blockContent").width())-100;$(".blocklyTrash").attr("transform","translate("+e+", "+o+")")},0)},BlockCode.show=function(){BlockCode.sizeHeight(),document.querySelector("#blockContent").style.display="block",Blockly.svgResize(BlockCode.workspace),setTimeout(function(){'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>'==BlockCode.save()&&BlockCode.loadBlocks('<xml xmlns="http://www.w3.org/1999/xhtml"> <block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block> <block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-230" y="-210" H="72.65"></block> </xml>')},30),BlockCode.workspace.addChangeListener(BlockCode.disableHandle)},BlockCode.hide=function(){document.querySelector("#blockContent").style.display="none"},BlockCode.getCode=function(){return Blockly.Python.workspaceToCode(BlockCode.workspace)},BlockCode.save=function(){var o=Blockly.Xml.workspaceToDom(BlockCode.workspace);return Blockly.Xml.domToText(o)},BlockCode.clear=function(){BlockCode.workspace.clear()},BlockCode.load=function(o){var e=Blockly.Xml.textToDom(o);Blockly.Xml.domToWorkspace(e,BlockCode.workspace)};
function asyncGeneratorStep(e,o,n,t,i,r,c){try{var a=e[r](c),d=a.value}catch(e){return void n(e)}a.done?o(d):Promise.resolve(d).then(t,i)}function _asyncToGenerator(a){return function(){var e=this,c=arguments;return new Promise(function(o,n){var t=a.apply(e,c);function i(e){asyncGeneratorStep(t,o,n,i,r,"next",e)}function r(e){asyncGeneratorStep(t,o,n,i,r,"throw",e)}i(void 0)})}}var Coding={id:"coding"};Coding.PLATFORMS={pythoncode:PythonCode,swiftcode:SwiftCode,blockcode:BlockCode},Coding.PLATFORMS_LIST=Object.keys(Coding.PLATFORMS).sort(),Coding.platform={},Coding.libs={},Coding.lastPlatform=BlockCode,Coding.flag=!0,Coding.changePlatform=function(e){Coding.platform=Coding.PLATFORMS[e]},Coding.menuConf={"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language","Create library","Add library"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},Coding.resizeFunctionButton=function(){if(window.localStorage.getItem("currentChoice"))var e=JSON.parse(window.localStorage.getItem("currentChoice"));else e=Choice.current;if(e.functions){var o=$(".dconbtn").width()-30,n=e.functions.length;$(".dconbtn .applyButton button").css({width:o/n})}},Coding.reflashFunctionButton=function(){if(window.localStorage.getItem("currentChoice"))var e=JSON.parse(window.localStorage.getItem("currentChoice")).functions;else e=["remote","bluetooth"];-1!=InternetOfThings.avaliableDevice.indexOf(Choice.current.device)&&-1==e.indexOf("iot")&&e.push("iot"),(0<Choice.current.kits.length||Choice.current.modules.length)&&-1==e.indexOf("routing")&&-1==e.indexOf("play")&&(e.push("routing"),e.push("play"),Choice.current.functions=e,window.localStorage&&window.localStorage.setItem("currentChoice",JSON.stringify(Choice.current))),Choice.current.functions=e,$(".applyButton button").hide(),$(".dconbtn").show();for(var o=0;o<e.length;o++)$(".applyButton ."+e[o]+"btn").show();Coding.resizeFunctionButton()},Coding.returnIndex=function(){Home.renderDevice(),EzBlock.renderPage("home");var e=Coding.menuConf.ShareConf,o=e.indexOf("Add kit"),n=e.indexOf("Add module");-1!=o&&e.splice(o,1),-1!=n&&e.splice(n,1),Coding.addKit=!1,Coding.addModule=!1},Coding.show=function(){document.querySelector(".codingContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".dragfooter").style.display="block",document.querySelector(".dragfooter-xs").style.display="block",document.querySelector(".dragheader2 .brand").style.display="block",document.querySelector(".video-block").style.display="block",document.querySelector(".project_title_block").style.display="block";var e=window[Choice.current.device];!Coding.addKit&&e.avalibleKits&&0<e.avalibleKits.length&&-1==Coding.menuConf.ShareConf.indexOf("Add Kit")&&(Coding.menuConf.ShareConf.push("Add kit"),Coding.addKit=!0),!Coding.addModule&&e.avalibleModules&&0<e.avalibleModules.length&&-1==Coding.menuConf.ShareConf.indexOf("Add Module")&&(Coding.menuConf.ShareConf.push("Add module"),Coding.addModule=!0),MakeOption.makeOptions(Coding.menuConf),MakeOption.show(Coding.menuConf),MyProject.setHeader(),MyProject.revealProjectName(),Coding.reflashFunctionButton(),Coding.platform.show(),document.querySelector(".dragheader2").style.display="block",WebBLE.airPrintOn(),Coding.sizeHeight()},Coding.hide=function(){document.querySelector(".codingContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".dragfooter").style.display="none",document.querySelector(".dragfooter-xs").style.display="none",document.querySelector(".dragheader2 .brand").style.display="none",document.querySelector(".video-block").style.display="none",document.querySelector(".project_title_block").style.display="none",MyProject.resetHeader(),MakeOption.hide(Coding.menuConf),Coding.platform.hide(),WebBLE.airPrintOff(),$(".dconbtn").hide()},Coding.sizeHeight=function(){var e=$(".ezblockContent").height();if($(".codingContent").height(e),"none"!=document.querySelector(".dragfooter-xs").style.display){var o=$(".dragfooter-xs").height(),n=$(window).height()-$(".dragheader2").height()-o;$(".codingContent").height(n)}BlockCode.sizeHeight(),PythonCode.sizeHeight(),Coding.resizeFunctionButton(),Tutorials.display_block&&$(".dragfooter").css({bottom:$(window).height()-$(".ezblockContent").height()-$(".dragheader2").height()})},Coding.changeDevice=function(){Coding.refreshDevice(),BlockCode.changeDevice()},Coding.refreshDevice=function(){var e=window[Choice.current.device],o=window[Choice.current.product],n=Choice.current.product.toLowerCase();if(e){if(e.init(),-1!=distributor.Category.Boards.indexOf(Choice.current.product))var t="./packages/".concat(e.id,"/img/").concat(e.id,".png"),i=e.name;else if(o)t="./products/".concat(n,"/img/").concat(n,".png"),i=o.name;else i="";var r="./img/series_".concat(e.series,"_small.png");$(".productName .icon").attr("src",r),$(".productName .name").html(i),$(".selectImg").attr("src",t),$(".selectSmallImg").attr("src",t)}},Coding.createPlatformChoice=function(){for(var e="",o=0;o<Coding.PLATFORMS_LIST.length;o++){var n=Coding.PLATFORMS_LIST[o];e+='\n\t\t\t<div class="'.concat(n.split("code")[0],'-part" onclick="SelectBoard.recentUsedDevice(\'').concat(n,"')\" style=\"background:url('./img/").concat(n,'.png\') center no-repeat">\n\t\t\t\t<span class="choose-mode-text">').concat(firstUpperCase(n.split("code")[0]),"</span>\n\t\t\t</div>\n\t\t")}$(".choose-mode-body").append(e)},Coding.init=function(){for(p in Coding.addKit=!1,Coding.addModule=!1,Coding.sizeHeight(),Coding.platform=BlockCode,Coding.PLATFORMS)Coding.PLATFORMS[p].init();Coding.refreshDevice(),Coding.createPlatformChoice(),$(".footer-expand").click(function(){if($(this).find("img").toggle(),"none"!=document.querySelector(".open-xs").style.display){$(".dragfooter-xs").height("90px"),Coding.sizeHeight(),Blockly.svgResize(BlockCode.workspace),$(".dragfooter-xs-btn").css("marginTop","0px");var e=window[Choice.current.device];$(".board-message-xs p").html(e.name),$(".board-message-xs img").attr("src","./products/".concat(e.id,"/img/").concat(e.id,".png")),$(".board-message-xs").show()}else"none"==document.querySelector(".open-xs").style.display&&($(".dragfooter-xs").height("60px"),Coding.sizeHeight(),Blockly.svgResize(BlockCode.workspace),$(".dragfooter-xs-btn").css("marginTop","5px"),$(".board-message-xs").hide())}),$(".expansion").click(function(){$(".board").toggle(),"none"==document.querySelector(".board").style.display&&($(".blockly").removeClass("col-sm-8"),$(".blockly").removeClass("col-lg-9"),$(".board").removeClass("col-sm-4"),$(".board").removeClass("col-lg-3"),$(".blockly").addClass("col-sm-12"),$(this).find("img:first-child").hide(),$(this).find("img:last-child").show(),Coding.platform==BlockCode&&Blockly.svgResize(BlockCode.workspace)),"block"==document.querySelector(".board").style.display&&(Blockly.svgResize(BlockCode.workspace),$(".blockly").removeClass("col-sm-12"),$(".blockly").addClass("col-sm-8"),$(".blockly").addClass("col-lg-9"),$(".board").addClass("col-sm-4"),$(".board").addClass("col-lg-3"),$(this).find("img:first-child").show(),$(this).find("img:last-child").hide(),Coding.platform==BlockCode&&Blockly.svgResize(BlockCode.workspace)),document.documentElement.clientWidth<768&&($(".see").toggle(),$(".board_see").toggle(),$(".see_read").hide(),Coding.platform==BlockCode&&Blockly.svgResize(BlockCode.workspace))}),$(".zoomreset").click(function(e){Coding.platform.zoomReset(e)}),$(".zoomax").click(function(e){Coding.platform.zoomOut(e)}),$(".zoomin").click(function(e){Coding.platform.zoomIn(e)})},Coding.iotFlashModal=function(e){e&&($(".text_msg").html(e),$("#iotFlash").modal("show"))},Coding.iotFlash=function(){var e=window[Choice.current.device];API.get("iots/script",{iotToken:iot_token,deviceId:e.id,script:"xxxxxxxxxxxxx"}).then(function(e){})},Coding.connectDevice=function(){$("#iotFlash").modal("hide"),Coding.connect()},$(function(){$(".iot_flash_btn").click(Coding.iotFlash)}),Coding.getCode=function(){var e=Coding.platform.runtime+"\n";return e+=Coding.platform.getCode()},Coding.download=_asyncToGenerator(regeneratorRuntime.mark(function e(){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(deviceObj=window[Choice.current.device],WebBLE.isConnected||"raspberrypi"!=deviceObj.series){e.next=4;break}return Coding.iotFlashModal("can not Connect your device first or you can use IOT flash."),e.abrupt("return",!1);case 4:return e.prev=4,o=Coding.getCode(),e.next=8,WebBLE.download("HEX",o,function(e,o){if("compiling"==e){var n="Compiling...";Utils.progressModal(n,o)}else if("downloading"==e){n="Download...";Utils.progressModal(n,o)}});case 8:return e.next=10,EzBlock.delay(500);case 10:return e.next=12,Utils.messageModal("Download finished");case 12:e.next=21;break;case 14:return e.prev=14,e.t0=e.catch(4),console.log(e.t0),e.next=19,EzBlock.delay(500);case 19:return e.next=21,Utils.messageModal("Download Failed: ".concat(e.t0));case 21:case 22:case"end":return e.stop()}},e,this,[[4,14]])})),Coding.getUnderGradedLibList=_asyncToGenerator(regeneratorRuntime.mark(function e(){var o,n,t,i,r,c,a,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o={},n={},e.prev=2,t=window[Choice.current.device],Choice.current.info==={})return WebBLE.debug("No info try again"),handler=function(e){Utils.progressModal("".concat(MSG.getting_infomation,"..."),e)},e.prev=7,e.next=10,WebBLE.getInfo(handler);e.next=18;break;case 10:Choice.current.info=e.sent,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(7),e.next=17,Utils.messageModal(MSG.get_infomation_error);case 17:return e.abrupt("return",{});case 18:for(void 0===t.libs&&(t.libs=[]),i=0;i<t.libs.length;i++)n[t.libs[i]]=t.libPath;i=0;case 21:if(!(i<Choice.current.kits.length)){e.next=29;break}if(void 0===(r=window[Choice.current.kits[i]]).libs)return e.abrupt("continue",26);e.next=25;break;case 25:for(c=0;c<r.libs.length;c++)n[r.libs[i]]=r.libPath;case 26:i++,e.next=21;break;case 29:for(a in void 0===Choice.current.info.libs&&(Choice.current.info.libs=[]),n){for(flag=!1,c=0;c<Choice.current.info.libs.length;c++)a==Choice.current.info.libs[c]&&(flag=!0);flag||(d=n[a],o[a]=d)}return e.abrupt("return",o);case 34:return e.prev=34,e.t1=e.catch(2),e.abrupt("return",{});case 37:case"end":return e.stop()}},e,this,[[2,34],[7,13]])})),Coding.downloadLibs=function(){if(!WebBLE.isConnected)return Utils.messageModal("Connect your device first."),!1;function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,i,o,n,r,c,a,d,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Coding.getUnderGradedLibList();case 3:if((t=e.sent).length==={})return e.abrupt("return","No library found");e.next=6;break;case 6:i=0,e.t0=regeneratorRuntime.keys(t);case 8:if((e.t1=e.t0()).done){e.next=32;break}return o=e.t1.value,n=function(e,o){if("compiling"==e){var n="".concat(MSG.coding_compile_message_library,"... (").concat(i+1,"/").concat(Object.keys(t).length,")");Utils.progressModal(n,o)}else if("downloading"==e){n="".concat(MSG.coding_download_message_library,"... (").concat(i+1,"/").concat(Object.keys(t).length,")");Utils.progressModal(n,o)}else 0==e&&Utils.progressModal(!1)},r=o.split("==")[0],e.prev=12,window[Choice.current.device],e.next=16,API.getLibs(t[o],"".concat(r,".py"));case 16:c=e.sent,e.next=22;break;case 19:return e.prev=19,e.t2=e.catch(12),e.abrupt("return","No library found");case 22:return e.next=24,WebBLE.download("LIB".concat(o),c,n);case 24:for(a=!1,d=0;d<Choice.current.info.libs.length;d++)0<(s=Choice.current.info.libs[d].indexOf(r))&&(a=!0,Choice.current.info.libs[s]=o);return a||Choice.current.info.libs.push(o),e.next=29,EzBlock.delay(1e3);case 29:i+=1,e.next=8;break;case 32:return e.abrupt("return",!0);case 35:throw e.prev=35,e.t3=e.catch(0),e.t3;case 38:case"end":return e.stop()}},e,this,[[0,35],[12,19]])}))).apply(this,arguments)}return function(){return e.apply(this,arguments)}()},Coding.connect=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(function(e){Utils.progressModal("".concat(MSG.getting_infomation,"..."),e)},WebBLE.isConnected)return e.next=4,WebBLE.disconnect();e.next=8;break;case 4:return Utils.messageModal(MSG.coding_bluetooth_disconnected),$(".bluetoothbtn .disconnected,.footer-bluetoothbtn .disconnected").show(),$(".bluetoothbtn .connected,.footer-bluetoothbtn .connected").hide(),e.abrupt("return","disconnected");case 8:return WebBLE.onDisconnect=function(){Utils.messageModal(MSG.coding_bluetooth_disconnected),Choice.current.info={},WebBLE.airPrintOff(),$(".bluetoothbtn .disconnected,.footer-bluetoothbtn .disconnected").show(),$(".bluetoothbtn .connected,.footer-bluetoothbtn .connected").hide()},Utils.messageModal("".concat(MSG.coding_bluetooth_connecting,"..."),-1),e.prev=10,e.next=13,WebBLE.connect();case 13:return e.next=15,Utils.messageModal(!1);case 15:return e.next=17,Utils.delay(500);case 17:return e.next=19,Utils.messageModal(MSG.coding_bluetooth_connected);case 19:return WebBLE.airPrintOn(),$(".bluetoothbtn .disconnected,.footer-bluetoothbtn .disconnected").hide(),$(".bluetoothbtn .connected,.footer-bluetoothbtn .connected").show(),e.abrupt("return","success");case 25:return e.prev=25,e.t0=e.catch(10),e.next=29,Utils.messageModal(e.t0);case 29:case 30:case"end":return e.stop()}},e,this,[[10,25]])})),Coding.clear=function(){Coding.platform.clear(),Coding.libs={}},Coding.save=function(){return{code:Coding.platform.save(),libs:Coding.libs}},Coding.load=function(e){setTimeout(function(){Coding.clear(),Coding.platform.load(e.code),Coding.libs=e.libs},50)};
var PInformation={id:"pInformation",emailReg:/^([A-Za-z\d])+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,5}$/,menuConf:{ShareConf:["New Project","My Project","Examples","Tutorials","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},username:"",verificationCode:"",message:["系统通知：您有一条未读信息尽快阅读！！！","您的问题：“怎么恢复出厂设置”有新的回复，请注意查看","系统消息：Raspad发布新版本啦!","系统通知：您有一条未读信息尽快阅读！！！","系统通消：欢迎使用Raspad,这里有详细的使用教程哦","系统通知：您有一条未读信息尽快阅读！！！","您的问题：“怎么恢复出厂设置”有新的回复，请注意查看","系统消息：Raspad发布新版本啦!","系统通知：您有一条未读信息尽快阅读！！！","系统通消：欢迎使用Raspad,这里有详细的使用教程哦","系统通知：您有一条未读信息尽快阅读！！！","您的问题：“怎么恢复出厂设置”有新的回复，请注意查看","系统消息：Raspad发布新版本啦!","系统通知：您有一条未读信息尽快阅读！！！","系统通消：欢迎使用Raspad,这里有详细的使用教程哦","系统通知：您有一条未读信息尽快阅读！！！","您的问题：“怎么恢复出厂设置”有新的回复，请注意查看","系统消息：Raspad发布新版本啦!","系统通知：您有一条未读信息尽快阅读！！！","系统通消：欢迎使用Raspad,这里有详细的使用教程哦","系统通知：您有一条未读信息尽快阅读！！！","您的问题：“怎么恢复出厂设置”有新的回复，请注意查看","系统消息：Raspad发布新版本啦!","系统通知：您有一条未读信息尽快阅读！！！","系统通消：欢迎使用Raspad,这里有详细的使用教程哦"],pageno:1,pagesize:8};if(PInformation.pageLength=PInformation.message.length,PInformation.pageLength%PInformation.pagesize==0)var pageall=PInformation.pageLength/PInformation.pagesize;else pageall=parseInt(PInformation.pageLength/PInformation.pagesize)+1;PInformation.setUserInfo=function(){var s=$(".essentialInformationIpt .p_username input").val(),a=$('.essentialInformationIpt .p_sex input:radio[name="sex"]:checked').val(),l=$(".essentialInformationIpt .p_age input").val(),m=$(".essentialInformationIpt .p_email input").val(),p=$(".essentialInformationIpt .p_country input").val(),d=$(".essentialInformationIpt .p_work input").val();window.sessionStorage.getItem("username");if(parseInt(l)!=l||l<=0)return $(".p_errorMsg").show(),$(".p_errorMsg").html(MSG.ageScope),void setTimeout(function(){$(".p_errorMsg").hide()},1200);var e={accessToken:"123",userToken:EzBlock.userToken,userInfo:{name:s,sex:a,age:l,country:p,job:d,email:"",img:$(".photoUpload").attr("src")}};API.get("users/lan",e).then(function(e){if(console.log(e),"修改失败"==e.errorMsg)PInformation.unedit(),PInformation.getUserInfo(),$(".p_saveMsg").show(),$(".p_saveMsg").html(MSG.failToModify),setTimeout(function(){$(".p_saveMsg").hide()},1200);else{for(var n=e.userInfo,t=["name","sex","age","country","job","email"],o={},i="",r=0;r<t.length;r++)for(key in n)t[r]==key&&("email"==key?o[key]=n[key]:o[key]=n[key]+" / ");i+=o.name.split("/")[0],n.img&&$(".headermaster img").attr("src",n.img),PInformation.unedit(),PInformation.getUserInfo(),Register.condition.userInfo.name=s,Register.condition.userInfo.sex=a,Register.condition.userInfo.age=l,Register.condition.userInfo.country=p,Register.condition.userInfo.job=d,Register.condition.userInfo.email=m,Register.condition.userInfo.img=$(".photoUpload").attr("src"),window.sessionStorage&&window.sessionStorage.setItem("username",s),$(".p_introduce").html(i),$(".p_saveMsg").html(MSG.saveSuccessfully)}})},PInformation.getIdentiCode=function(){var t=$(".e_authentication_ipt .emailMessage input").val();$(".e_authentication_ipt .verificationCode input").val();if(t.length<1)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.enterEmail),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if(PInformation.emailReg.test(t)){$("#e_authentication_shadow").show();var e={accessToken:"123",email:t};API.get("users/isemail",e).then(function(e){if(console.log(e),"该邮箱已注册"==e.errorMsg)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.emailRegistered),setTimeout(function(){$(".e_errorMsg").hide()},1200),$("#e_authentication_shadow").hide();else{var n={accessToken:"123",email:t};API.get("users/email",n).then(function(e){console.log(e),1==e.status&&($(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.verificatioCodeSent),setTimeout(function(){$(".e_errorMsg").hide()},1200),$("#e_authentication_shadow").hide(),PInformation.verificationCode=e.code)})}})}else $(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.emailFormat),setTimeout(function(){$(".e_errorMsg").hide()},1200)},PInformation.verificationCodeBack=function(){PInformation.enterPersonMessage()},PInformation.changeEmailAddress=function(){var u=$(".e_authentication_ipt .emailMessage input").val(),t=$(".e_authentication_ipt .verificationCode input").val();if(u.length<1)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.enterEmail),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if(PInformation.emailReg.test(u)){var e={accessToken:"123",email:u};API.get("users/isemail",e).then(function(e){if(console.log(e),"该邮箱已注册"==e.errorMsg)$(".e_errorMsg").html(MSG.emailRegistered),$(".e_errorMsg").show(),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if("该邮箱未注册"==e.errorMsg)if(""==t)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.verificationCodeNotNull),setTimeout(function(){$(".e_errorMsg").hide()},1200);else{$("#e_authentication_shadow").show(),Register.condition.userInfo.email=u,$(".essentialInformationIpt .p_email input").val(u);var s=$(".essentialInformationIpt .p_username input").val(),a=$('.essentialInformationIpt .p_sex input:radio[name="sex"]:checked').val(),l=$(".essentialInformationIpt .p_age input").val(),m=$(".essentialInformationIpt .p_email input").val(),p=$(".essentialInformationIpt .p_country input").val(),d=$(".essentialInformationIpt .p_work input").val(),n=(window.sessionStorage.getItem("usertoken"),{accessToken:"123",userToken:EzBlock.userToken,userInfo:{name:s,sex:a,age:l,country:p,job:d,email:m,verifyCode:t,img:$(".photoUpload").attr("src")}});API.get("users/lan",n).then(function(e){if(console.log(e),"修改失败"==e.errorMsg)PInformation.unedit(),$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.failToModify),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if("验证码错误"==e.errorMsg)$(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.verificationCodeError),$("#e_authentication_shadow").hide(),setTimeout(function(){$(".e_errorMsg").hide()},1200);else if(1==e.status){for(var n=e.userInfo,t=["name","sex","age","country","job","email"],o={},i="",r=0;r<t.length;r++)for(key in n)t[r]==key&&("email"==key?o[key]=n[key]:o[key]=n[key]+" / ");i+=o.name.split("/")[0],n.img&&$(".headermaster img").attr("src",n.img),PInformation.unedit(),console.log(u),Register.condition.userInfo.name=s,Register.condition.userInfo.sex=a,Register.condition.userInfo.age=l,Register.condition.userInfo.country=p,Register.condition.userInfo.job=d,Register.condition.userInfo.email=m,Register.condition.userInfo.img=$(".photoUpload").attr("src"),window.sessionStorage&&window.sessionStorage.setItem("email",m),$(".p_introduce").html(i),Utils.messageModal(MSG.changeEmailSuccessfully),setTimeout(function(){window.sessionStorage&&(window.sessionStorage.removeItem("usertoken"),EzBlock.renderPage("home"),$("#login").modal("show"),$("#login .userName").val(""),$("#login .password").val("")),$(".e_authentication_ipt .emailMessage input, .e_authentication_ipt .verificationCode input,.e_authentication_ipt .verificationCode input").val("")},2e3)}})}})}else $(".e_errorMsg").show(),$(".e_errorMsg").html(MSG.emailFormat),setTimeout(function(){$(".e_errorMsg").hide()},1200)},PInformation.resendIdentiCode=function(){PInformation.getIdentiCode()},PInformation.enterPersonMessage=function(){$(".personContentUl li").css("color","rgb(102,102,102)"),$(".personContentRight").find(".p_message").show(),$(".personContentRight").find(".p_message").siblings("div").hide(),$(".personContentUl_ul,.p_shrink").hide(),$(".p_expand").show(),$(".essentialInformationIpt .p_email .identiBtn").css("color","rgb(102,102,102)"),$(".per_mgs_li").css("color","rgb(255,202,75)")},PInformation.enterEmailAuthentPage=function(){$(".personContentUl li").css("color","rgb(102,102,102)"),$(event.target).css("color","rgb(255,202,75)"),$(".personContentRight").find(".e_authentication").show(),$(".personContentRight").find(".e_authentication").siblings("div").hide(),$(".personContentUl_ul,.p_shrink").show(),$(".p_expand").hide(),$(".personContentUl_ul li:first-child").show(),$(".personContentUl_ul li:first-child").css("color","rgb(255,202,75)")},PInformation.previewFile=function(e){var n=e;if(n.files){e.files[0];var t=n.files[0],o=new FileReader;o.onload=function(e){var n=e.target.result,o=new Image;o.src=n,o.onload=function(){var e=o.width,n=o.height,t=PInformation.resizeImages(o,e,n,.5);$(".photoUpload").attr("src",t)}},o.readAsDataURL(t)}},PInformation.resizeImages=function(e,n,t,o){var i;return(i=document.createElement("canvas")).width=n,i.height=t,i.getContext("2d").drawImage(e,0,0,n,t),i.toDataURL("image/jpeg",o)},PInformation.edit=function(){$(".essentialInformationIpt .p_username input").removeAttr("readonly"),$(".essentialInformationIpt .p_age input").removeAttr("readonly"),$(".essentialInformationIpt .p_country input").removeAttr("readonly"),$(".essentialInformationIpt .p_work input").removeAttr("readonly"),$(".essentialInformationIpt .p_email input").attr("readonly","readonly"),$(".essentialInformationIpt .p_sex input").removeAttr("disabled"),$(".essentialInformationIpt .p_username input").css("border","1px solid #ccc"),$(".essentialInformationIpt .p_age input").css("border","1px solid #ccc"),$(".essentialInformationIpt .p_country input").css("border","1px solid #ccc"),$(".essentialInformationIpt .p_work input").css("border","1px solid #ccc"),$(".essentialInformationIpt .p_email input").css("border","none"),$(".uploadPhoto input").attr("type","file"),$(".save_msg ._save").show(),$(".essentialInformationSpan .p_username,.essentialInformationSpan .p_sex,.essentialInformationSpan .p_age,.essentialInformationSpan .p_country,.essentialInformationSpan .p_work,.essentialInformationSpan .p_email").show(),$(".essentialInformationIpt .p_username,.essentialInformationIpt .p_sex,.essentialInformationIpt .p_age,.essentialInformationIpt .p_country,.essentialInformationIpt .p_work,.essentialInformationIpt .p_email").show(),$(".essentialInformationIpt .p_email .identiBtn").css("right","-140px"),$(".save_msg .edit").hide(),$(".essentialInformationIpt .p_email .identiBtn").show(),$(".manIpt,.femanIpt,.manSpan,.femanSpan").show(),$(".manSpan").css("margin-right","60px"),$(".selectSex").hide()},PInformation.unedit=function(){$(".essentialInformationIpt .p_username input").attr("readonly","readonly"),$(".essentialInformationIpt .p_age input").attr("readonly","readonly"),$(".essentialInformationIpt .p_country input").attr("readonly","readonly"),$(".essentialInformationIpt .p_work input").attr("readonly","readonly"),$(".essentialInformationIpt .p_email input").attr("readonly","readonly"),$(".essentialInformationIpt .p_sex input").attr("disabled","disabled"),$(".essentialInformationIpt .p_username input").css("border","none"),$(".essentialInformationIpt .p_age input").css("border","none"),$(".essentialInformationIpt .p_country input").css("border","none"),$(".essentialInformationIpt .p_work input").css("border","none"),$(".essentialInformationIpt .p_email input").css("border","none"),$(".uploadPhoto input").removeAttr("type"),$(".save_msg ._save").hide(),$(".essentialInformationSpan .p_username,.essentialInformationSpan .p_sex,.essentialInformationSpan .p_age,.essentialInformationSpan .p_country,.essentialInformationSpan .p_work,.essentialInformationSpan .p_email").hide(),$(".essentialInformationIpt .p_username,.essentialInformationIpt .p_sex,.essentialInformationIpt .p_age,.essentialInformationIpt .p_country,.essentialInformationIpt .p_work,.essentialInformationIpt .p_email").hide(),$(".essentialInformationIpt .p_email .identiBtn").css("right","-110px"),$(".save_msg .edit").show(),$(".essentialInformationIpt .p_email .identiBtn").hide(),$(".manIpt,.femanIpt,.manSpan,.femanSpan").hide(),$(".selectSex").show(),$(".selectSex").css({float:"left",marginLeft:"30px"})},PInformation.getUserInfo=function(){var e={accessToken:"123",userToken:EzBlock.userToken};API.get("users/member",e).then(function(e){var n=e.userInfo;console.log(n);for(var t=["name","sex","age","country","job","email"],o={},i="",r=0;r<t.length;r++)for(key in n)t[r]==key&&("email"==key?o[key]=n[key]:o[key]=n[key]+" / ");if(i+=o.name.split("/")[0],o.name&&($(".essentialInformationSpan .p_username,.essentialInformationIpt .p_username").show(),$(".essentialInformationIpt .p_username input").val(o.name.split("/")[0]),$(".essentialInformationIpt .p_username input").css("border","none")),o.sex){$(".essentialInformationSpan .p_sex,.essentialInformationIpt .p_sex").show(),$('.essentialInformationIpt .p_sex input:radio[name="sex"][value='+o.sex.split("/")[0]+"]").prop("checked",!0);var s=$('.essentialInformationIpt .p_sex input:radio[name="sex"][value='+o.sex.split("/")[0]+"]").val();s=MSG[s],$(".selectSex").html(s)}o.age&&($(".essentialInformationSpan .p_age,.essentialInformationIpt .p_age").show(),$(".essentialInformationIpt .p_age input").val(o.age.split("/")[0]),$(".essentialInformationIpt .p_age input").css("border","none")),o.country&&($(".essentialInformationSpan .p_country,.essentialInformationIpt .p_country").show(),$(".essentialInformationIpt .p_country input").val(o.country.split("/")[0]),$(".essentialInformationIpt .p_country input").css("border","none")),o.job&&($(".essentialInformationSpan .p_work,.essentialInformationIpt .p_work").show(),$(".essentialInformationIpt .p_work input").val(o.job.split("/")[0]),$(".essentialInformationIpt .p_work input").css("border","none")),o.email&&($(".essentialInformationIpt .p_email input").val(o.email.split("/")[0]),$(".essentialInformationIpt .p_email,.essentialInformationSpan .p_email").show(),$(".essentialInformationIpt .p_email input").css("border","none")),n.img&&($(".headermaster img").attr("src",n.img),$(".photoUpload").attr("src",n.img),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img").attr("src",n.img),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img").css({width:"35px",height:"35px"})),$(".p_introduce").html(i)})},PInformation.changePwd=function(){var e=$(".changePwdIpt .e_oldpwd input").val(),n=$(".changePwdIpt .e_newpwd input").val(),t=$(".changePwdIpt .e_test input").val();if(""==e||""==n||""==t)PInformation.errorShow(),$(".pwd_error").html(MSG.passWordEamilNotNull),PInformation.errorHide();else if(PInformation.emailReg.test(t)){var o={accessToken:123,email:t,password:e,newPassword:n};API.get("users/upuserpaw",o).then(function(e){console.log(e),"密码错误"==e.errorMsg?(PInformation.errorShow(),$(".pwd_error").html(MSG.oldPwdError),PInformation.errorHide()):"新旧密码一样"==e.errorMsg?(PInformation.errorShow(),$(".pwd_error").html(MSG.oldNewPwdSame),PInformation.errorHide()):"邮箱不存在"==e.errorMsg?(PInformation.errorShow(),$(".pwd_error").html(MSG.emailNotExist),PInformation.errorHide()):(PInformation.errorShow(),$(".pwd_error").html(MSG.pwdChangedSuccessfully),Register.condition.userInfo.password=n,PInformation.errorHide(),setTimeout(function(){$("#login .userName").val(""),$("#login .password").val(""),window.sessionStorage&&window.sessionStorage.setItem("usertoken",""),EzBlock.renderPage("home"),$(".changePwdIpt .e_oldpwd input, .changePwdIpt .e_newpwd input,.changePwdIpt .e_test input").val(""),$(".e_authentication_ipt .emailMessage input, .e_authentication_ipt .verificationCode input,.e_authentication_ipt .verificationCode input").val("")},1200))})}else PInformation.errorShow(),$(".pwd_error").html(MSG.emailFormat),PInformation.errorHide()},PInformation.appendMessage=function(){for(var e="",n=0;n<PInformation.message.length;n++)e+="\n\t\t\t<li onclick=\"javascript:this.firstElementChild.style.color='rgb(178,178,178)'\">\n\t\t\t\t<a href='#'>".concat(PInformation.message[n],'</a>\n\t\t\t\t<img src="./img/rightarrow.png"></img>\n\t\t\t</li>\n\t\t\t<hr/>\t\n\t\t');$(".system_msg ul").append(e),$(".p_msg_num").html(PInformation.message.length)},PInformation.renderPage=function(e,n){$(n.target).siblings("li").css("color","rgb(102,102,102)"),$(".essentialInformationIpt .p_email .identiBtn").css("color","rgb(102,102,102)"),$(".e_authentication .e_confirm").css("color","rgb(102,102,102)"),"personContentUl"!=$(n.target).context.parentElement.className?($(n.target).context.parentElement.style.display="block",$(".personContentUl").find("li").css("color","rgb(102,102,102)")):$(".personContentUl_ul li").css("color","rgb(102,102,102)"),$(n.target).css("color","rgb(255,202,75)"),$(".personContentRight").find("."+e).show(),$(".personContentRight").find("."+e).siblings("div").hide()},PInformation.msgNull=function(){$(".p_errorMsg").html(""),$(".essentialInformationIpt .p_username input").val(""),$(".essentialInformationIpt .p_age input").val(""),$(".essentialInformationIpt .p_country input").val(""),$(".essentialInformationIpt .p_work input").val(""),$(".essentialInformationIpt .p_email input").val(""),$(".essentialInformationIpt .p_sex input").removeAttr("checked"),$("#login .userName").val(""),$("#login_password").val(""),$("#register_username").val(""),$("#register_password").val(""),$("#register_repassword").val(""),$(".p_introduce").html(""),$(".e_authentication_ipt .emailMessage input").val(""),$(".e_authentication_ipt .verificationCode input").val(""),$(".uploadPhoto img").attr("src","../img/default-headshot.png"),$(".p_img_and_info div img").attr("src","../img/default-headshot.png"),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img:nth-of-type(1)").attr("src","../img/home_login_white.png"),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img:nth-of-type(2)").attr("src","../img/home_login_orange.png"),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img:nth-of-type(1)").show(),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img:nth-of-type(2)").hide(),$(".homeContent_sliderMenu_item").removeClass("menuActive"),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_text").css("color","white"),$(".homeContent_sliderMenu_login .homeContent_sliderMenu_item_icon img").css({width:"27px",height:"29px"}),PInformation.unedit(),$(".cancelUser").hide(),$(".leave_out").hide(),$(".personContentRight .save_msg").css("text-align","center"),$(".essentialInformationIpt .p_email,.essentialInformationSpan .p_email").hide()},PInformation.deleteUsertoken=function(){window.sessionStorage&&window.sessionStorage.removeItem("usertoken"),PInformation.msgNull(),EzBlock.renderPage("home"),$("#login").modal("show"),$("#register .userName").val(""),$("#register .password").val(""),$("#register .rePassword").val(""),$("#login .userName").val(""),$("#login .password").val(""),$(".deleteUserIpt .d_username input, .deleteUserIpt .d_password input").val("")},PInformation.cancelUser=function(e){var n={accessToken:123,name:$(".deleteUserIpt .d_username input").val(),password:$(".deleteUserIpt .d_password input").val()};API.get("users/deluser",n).then(function(e){console.log(e),"用户不存在"==e.errorMsg?($(".delete_error").html(MSG.userNotExist),$(".delete_error").show(),setTimeout(function(){$(".delete_error").hide()},1200)):"密码错误"==e.errorMsg?($(".delete_error").html(MSG.loginPwdError),$(".delete_error").show(),setTimeout(function(){$(".delete_error").hide()},1200)):1==e.status&&(PInformation.msgNull(),Utils.messageModal(MSG.cancelSuccessfully),setTimeout(function(){PInformation.deleteUsertoken()},2e3))})},PInformation.errorShow=function(){$(".pwd_error").show()},PInformation.errorHide=function(){setTimeout(function(){$(".pwd_error").hide()},1200)},PInformation.show=function(){document.querySelector(".personContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".dragheader2 .goBack").style.display="block",document.querySelector(".video-block").style.display="block",MakeOption.makeOptions(PInformation.menuConf),MakeOption.show(PInformation.menuConf),PInformation.unedit(),PInformation.changePageNo(PInformation.pageno);var e=window.sessionStorage.getItem("usertoken");""!=e&&null!=e&&(PInformation.getUserInfo(),$(".cancelUser").show(),$(".leave_out").show())},PInformation.hide=function(){document.querySelector(".personContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".dragfooter").style.display="none",document.querySelector(".dragheader2 .goBack").style.display="none",document.querySelector(".video-block").style.display="none",MakeOption.hide(PInformation.menuConf)},PInformation.sizeHeight=function(){var e=$(window).height()-$(".dragheader2").height();$(".personContent").height(e)},PInformation.init=function(){$(".personContentRight").width($(window).width()-$(".personContentLeft").width()),$(window).resize(function(){$(".personContentRight").width($(window).width()-$(".personContentLeft").width())}),$(".acc_safe").click(function(){$(".personContentUl_ul").toggle(),$(this).children("img").toggle()})},PInformation.changePageNo=function(e){e<1&&(e=1),pageall<e&&(e=pageall),$(".system_msg ul").html("");for(var n=0;n<PInformation.pagesize;n++){var t="\n\t\t\t<li onclick=\"javascript:this.firstElementChild.style.color='rgb(178,178,178)';\">\n\t\t\t\t<a href='#'>".concat(PInformation.message[(e-1)*PInformation.pagesize+n],'</a>\n\t\t\t\t<img src="./img/rightarrow.png"></img>\n\t\t\t</li>\n\t\t\t<hr/>\t\n\t\t');if($(".system_msg ul").append(t),null==PInformation.message[(e-1)*PInformation.pagesize+n+1])break}$(".system_msg .pager .pageNum").html(e),$(".p_msg_num").html(PInformation.message.length)};
var Simulator={};function Pin_(e){var i=this;this.pin=e,this.voltage=0,this.pulseWidth=0,this.frequency=0,this.period=0,this.prescaler=0,this.angle=0,this._voltage=-1,this._pulseWidth=-1,this._frequency=-1,this._period=4095,this._prescaler=352,this._angle=-1,this.linkPinObj={},this.onVoltageChange=function(e){},this.onPulseWidthChange=function(e){},this.onFrequencyChange=function(e){},this.onPeriodChange=function(e){},this.onPrescalerChange=function(e){},this.onAngleChange=function(e){},Object.defineProperty(this,"voltage",{get:function(){return i._voltage},set:function(e){i._voltage!=e&&(i._voltage=e,i.linkPinObj.voltage=e,this.onVoltageChange(i._voltage))}}),Object.defineProperty(this,"period",{get:function(){return i._period},set:function(e){i._period!=e&&(i._period=e,i.linkPinObj.period=e,this.onPeriodChange(i._period))}}),Object.defineProperty(this,"pulseWidth",{get:function(){return i._pulseWidth},set:function(e){i._pulseWidth!=e&&(i._pulseWidth=e,i.linkPinObj.pulseWidth=e,this.onPulseWidthChange(i._pulseWidth))}}),Object.defineProperty(this,"frequency",{get:function(){return i._frequency},set:function(e){i._frequency!=e&&(i._frequency=e,i.linkPinObj.frequency=e,this.onFrequencyChange(i._frequency))}}),Object.defineProperty(this,"prescaler",{get:function(){return i._prescaler},set:function(e){if(i._prescaler!=e){i._prescaler=e,i.linkPinObj.prescaler=e;var t=window[Choice.current.device];this.frequency=t.pwmClock/this._period/this._prescaler,this.onPrescalerChange(i._prescaler)}}}),Object.defineProperty(this,"angle",{get:function(){return i._angle},set:function(e){if(i._angle!=e){i._angle=e,i.linkPinObj.angle=e;var t=window[Choice.current.device];this.frequency=t.pwmClock/this._period/this._prescaler,this.onAngleChange(i._angle)}}})}function ValueOutput_(e,t,i,a){var o=this;this.pinObj=e[a.pin],this.modulesId=t,this.modulesName=i,this.element=$("#"+t),this.opacity=function(e){var t=e/Simulator.VOLT_REFERENCE,i="rgba(255,0,0,".concat(t,")");o.element.find(".moduleLED").remove();var n=document.createElement("div");n.setAttribute("class","moduleLED"),n.style.background="rgba(255,0,0,".concat(t,")"),n.style.boxShadow="0 0 40px 20px ".concat(i),o.element.append(n)},this.rotation=function(e){var t=parseInt(a.inputRange.split("=")[0]),i=parseInt(a.inputRange.split("=")[1]),n=parseInt(a.outputRange.split("=")[0]),o=parseInt(a.outputRange.split("=")[1]),r=parseInt((e-t)*(o-n)/(i-t)+n);console.log(e,r),this.element.css({transform:"rotate(".concat(r,"deg)")})},this.pinObj.onVoltageChange=function(e){"opacity"==a.mode&&o.opacity(e)},this.pinObj.onPulseWidthChange=function(e){"opacity"==a.mode?o.opacity(e):"musicFrequency"==a.mode&&o.musicPulseWidth(e)},this.pinObj.onAngleChange=function(e){"rotation"==a.mode&&o.rotation(e)},this.pinObj.onFrequencyChange=function(e){"musicFrequency"==a.mode&&o.musicFrequency(e)},this.musicFrequency=function(e){o.oscillator.frequency.value=e,console.log("Buzzer frequency set to ".concat(e))},this.musicPulseWidth=function(e){e<=3072&&1024<=e?(console.log("Buzzon on"),o.audioCtx.resume()):(console.log("Buzzon off"),o.audioCtx.suspend())},this.musicFrequencyOnRun=function(e){try{o.audioCtx=new AudioContext}catch(e){o.audioCtx=new webkitAudioContext}o.oscillator=o.audioCtx.createOscillator(),o.gainNode=o.audioCtx.createGain(),o.gainNode.gain.value=.5,o.oscillator.type="square",o.oscillator.frequency.value=261,o.oscillator.connect(o.gainNode),o.gainNode.connect(o.audioCtx.destination),o.oscillator.start()},this.musicFrequencyOnStop=function(e){console.log("musicFrequencyOnStop"),o.audioCtx.close(),document.removeEventListener("simulatorOnRun",o.musicFrequencyOnRun),document.removeEventListener("simulatorOnTop",o.musicFrequencyOnStop)},"musicFrequency"==a.mode&&(document.addEventListener("simulatorOnRun",this.musicFrequencyOnRun),document.addEventListener("simulatorOnStop",this.musicFrequencyOnStop))}function ValueInput_(e,t,i,n){var o=this,r=this;if(this.pinObj=e[n.pin],console.log(this.pinObj),this.modulesId=t,this.modulesName=i,this.element=$("#"+t),this.flag=!0,this.initValue=n.initValue,this.touchstartValue="",this.touchendValue="","toggle"==n.mode)this.touchendValue=this.initValue,this.touchstartValue=this.touchendValue+1&1,this.touchstartValue=this.touchstartValue*Simulator.VOLT_REFERENCE,this.touchendValue=this.touchendValue*Simulator.VOLT_REFERENCE,r.pinObj.voltage=this.touchendValue,this.element.on({touchstart:function(){console.log("0000"),r.pinObj.voltage=r.touchstartValue},touchend:function(){console.log("1111"),r.pinObj.voltage=r.touchendValue}}),this.element.mousedown(function(){console.log("0000"),r.pinObj.voltage=r.touchstartValue}),this.element.mouseup(function(){console.log("1111"),r.pinObj.voltage=o.touchendValue});else if("click"==n.mode)this.pinObj.voltage=this.initValue*Simulator.VOLT_REFERENCE,this.element.click(function(){var e=r.pinObj.voltage;e=e+1&1,e*=Simulator.VOLT_REFERENCE,r.pinObj.voltage=e});else if("slider"==n.mode){this.pinObj.voltage=this.initValue||0;var a=window[Choice.current.device];this.element.find(".simulatorSlider").slider({range:"min",animate:!0,min:n.min||0,max:n.max||a.adcReference,orientation:"vertical",step:1,slide:function(e,t){var i=r.element.find(".simulatorSlider").slider("option","value");r.element.find(".simulatorSlider").find("#amount").html(i),i=Math.round(i/a.adcReference*Simulator.VOLT_REFERENCE),r.pinObj.voltage=i}}),this.element.find(".simulatorSlider").find("#amount").html(this.element.find(".simulatorSlider").slider("value"))}}function moduleUltrasonic_(e,t,i,n){var o=window[Choice.current.device],r=this;this.pinObj=e,this.modulesId=t,this.modulesName=i,this.element=$("#"+t);o=window[Choice.current.device];this.element.find(".simulatorSlider").slider({range:"min",animate:!0,min:n.min||0,max:n.max||o.adcReference,orientation:"vertical",step:1,slide:function(e,t){var i=r.element.find(".simulatorSlider").slider("option","value");r.element.find(".simulatorSlider").find("#amount").html(i),i=Math.round(i/o.adcReference*Simulator.VOLT_REFERENCE),r.pinObj.trig.voltage=i,r.pinObj.echo.voltage=i}}),this.element.find(".simulatorSlider").find("#amount").html(this.element.find(".simulatorSlider").slider("value"))}function moduleRGB_(e,t,i,u){var s=window[Choice.current.device],d=this;for(key in this.pinObj=e,this.modulesId=t,this.modulesName=i,this.element=$("#"+t),this.R=0,this.G=0,this.B=0,this.opacity=1,this.pinObj)this.pinObj[key].onPulseWidthChange=function(e){this.pin==u.R?d.R=e:this.pin==u.G?d.G=e:this.pin==u.B&&(d.B=e);var t=255-Math.round(d.R/s.pwmReference*255),i=255-Math.round(d.G/s.pwmReference*255),n=255-Math.round(d.B/s.pwmReference*255),o=Math.max(t,i,n),r=255-o;t+=r,i+=r,n+=r,d.opacity=o/255;var a="rgba(".concat(t,",").concat(i,",").concat(n,",").concat(d.opacity,")");console.log(a),d.element.find(".moduleRGBHalo").remove();var l=document.createElement("div");l.setAttribute("class","moduleRGBHalo"),l.style.background=a,l.style.boxShadow="0 0 40px 20px ".concat(a),d.element.find(".moduleRGBLight").remove();var c=document.createElement("div");c.setAttribute("class","moduleRGBLight"),c.style.background="rgba(255,255,255,".concat(d.opacity,")"),c.style.boxShadow="0 0 30px 14px rgba(255,255,255,".concat(d.opacity,")"),d.element.append(c),d.element.append(l)}}function moduleJoystick_(e,t,i,n){window[Choice.current.device];var h=this;this.pinObj=e,console.log(e),this.modulesId=t,this.modulesName=i,this.element=$("#"+t),this.isDrag=!1,this.timmerHandle=null,console.log(this.element);var o=document.createElement("div"),r=document.createElement("div");o.setAttribute("class","circleOne"),r.setAttribute("class","circleTwo"),o.appendChild(r),this.element.append(o),this.circleOne={},this.circleOne.width=60,this.circleOne.height=this.circleOne.width,this.circleOne.radius=this.circleOne.width/2,this.circleTwo={},this.circleTwo.width=26,this.circleTwo.height=this.circleTwo.width,this.circleTwo.radius=this.circleTwo.width/2,this.circleTwo.initLeft=this.circleOne.radius-this.circleTwo.radius,this.circleTwo.initTop=this.circleTwo.initLeft,this.element.find(".circleTwo").css({top:h.circleTwo.initTop+"px",left:h.circleTwo.initLeft+"px"}),this.distance=function(e,t){var i=e[0],n=e[1],o=t[0],r=t[1];return Math.sqrt(Math.pow(i-o,2)+Math.pow(n-r,2))},this.element.find(".circleTwo").on({touchstart:function(e){e||window.event;console.log("touch start"),h.isDrag=!1,h.timmerHandle=setTimeout(function(){h.isDrag=!0},500)},touchmove:function(e){if(h.isDrag){var t=Number(e.originalEvent.changedTouches[0].clientX),i=Number(e.originalEvent.changedTouches[0].clientY),n=t-$(this).parent().offset().left-h.circleOne.radius,o=i-$(this).parent().offset().top-h.circleOne.radius;h.circleOne.center=[0,0],h.circleTwo.center=[n,o];var r=h.distance(h.circleTwo.center,h.circleOne.center),a=h.circleOne.radius-h.circleTwo.radius;if(r<=a)var l=h.circleTwo.center[0],c=h.circleTwo.center[1];else{var u=h.circleTwo.center[0]-h.circleOne.center[0],s=h.circleTwo.center[1]-h.circleOne.center[1],d=Math.atan2(s,u);l=Math.cos(d)*a,c=Math.sin(d)*a}l=h.circleOne.radius+l-h.circleTwo.radius,c=h.circleOne.radius+c-h.circleTwo.radius;var m=Math.round((l+h.circleTwo.radius-h.circleOne.radius)/a*100),p=Math.round((c+h.circleTwo.radius-h.circleOne.radius)/a*100);m=parseInt((m+100)/200*Simulator.VOLT_REFERENCE),p=parseInt((p+100)/200*Simulator.VOLT_REFERENCE),h.pinObj.Y.voltage=p,h.pinObj.X.voltage=m,$(this).css({left:l+"px",top:c+"px"})}},touchend:function(e){h.isDrag?(h.isDrag=!1,touchMove=null,$(this).css({left:h.circleTwo.initLeft+"px",top:h.circleTwo.initTop+"px"})):(clearTimeout(h.timmerHandle),console.log("touchend"))}})}function Pin(i){return{value:function(e){var t=window[Choice.current.device];if(0==arguments.length)return Simulator.devicePins[i].voltage>t.VOLTAGE_LEVEL_THRESHOLD/3.3*Simulator.VOLT_REFERENCE?1:0;e=Math.round(e*Simulator.VOLT_REFERENCE),Simulator.devicePins[i].voltage=e},on:function(){Simulator.devicePins[i].voltage=Simulator.VOLT_REFERENCE},off:function(){Simulator.devicePins[i].voltage=0},irq:function(e){}}}function ADC(t){return{read:function(){var e=window[Choice.current.device];return result=Simulator.devicePins[t].voltage,result=Math.round(result/Simulator.VOLT_REFERENCE*e.adcReference),result}}}function PWM(i){return{pulse_width:function(e){var t=window[Choice.current.device];e<0?e=0:e>t.pwmReference&&(e=t.pwmReference),e=Math.round(e/t.pwmReference*Simulator.VOLT_REFERENCE),Simulator.devicePins[i].pulseWidth=e},freq:function(e){var t=window[Choice.current.device];e<0?e=0:e>t.pwmReference&&(e=t.pwmReference),Simulator.devicePins[i].frequency=e},pulse_width_percentage:function(e){e<0?e=0:100<e&&(e=100),Simulator.devicePins[i].pulseWidth=e/100*Simulator.VOLT_REFERENCE},period:function(e){e<0?e=0:4095<e&&(e=4095),Simulator.devicePins[i].period=e},prescaler:function(e){e<0?e=0:4095<e&&(e=4095),Simulator.devicePins[i].prescaler=e}}}function Servo(n){var o={MIN_PW:500,MAX_PW:2500,angle:function(e){e<-90?e=-90:90<e&&(e=90);var t=(e- -90)*(o.MAX_PW-o.MIN_PW)/180+o.MIN_PW,i=parseInt(4095*(t/2e4));PWM(n).pulse_width(i)}};return o}function runCode(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;setTimeout(function(){null==e&&(e=Simulator.getCode()),console.log(e),Simulator.simulator=new Interpreter(e,Simulator.initApi),Simulator.runner=function(){Simulator.simulator&&(Simulator.simulator.run()&&setTimeout(Simulator.runner,10))},Simulator.runner()},1)}Simulator.devicePins={},Simulator.modulesPin={},Simulator.run_flag=!0,Simulator.connectModules={},Simulator.forever="",Simulator.simulator="",Simulator.runner=null,Simulator.VOLT_REFERENCE=4095,Simulator.interpreterFunctions={},Simulator.types={ValueOutput:ValueOutput_,ValueInput:ValueInput_,ModuleRGB:moduleRGB_,ModuleJoystick:moduleJoystick_,ModuleUltrasonic:moduleUltrasonic_},Simulator.pinSTypes={},Simulator.run=function(){console.log("=======>Simulator.run");window[Choice.current.device];for(var e in Routing.currentModule)for(var t in Routing.currentModule[e]){Simulator.modulesPin[t]={};var i=t.split("#")[0],n=t.split("#")[1],o=window[e].modules[i];for(var r in Simulator.connectModules[i]=o,Routing.currentModule[e][t].pins){var a=Routing.currentModule[e][t].pins[r].targetPoint;Simulator.modulesPin[t][r]=new Pin_(r),Simulator.devicePins[a]=new Pin_(a),Simulator.connect(Simulator.modulesPin[t][r],Simulator.devicePins[a])}var l=o.simulator.type,c=o.simulator;Simulator.pinSTypes[""+t]=new Simulator.types[l](Simulator.modulesPin[t],n,i,c)}document.dispatchEvent(Simulator.onRun),runCode()},Simulator.connect=function(e,t){console.log("已连接"),(e.linkPinObj=t).linkPinObj=e},Simulator.disConnect=function(e){for(var t in console.log("pin连接已断开"),Simulator.devicePins={},Simulator.modulesPin={},Simulator.pinSTypes)Simulator.unbindEvent(Simulator.pinSTypes[t].modulesId),Simulator.removeSlider(Simulator.pinSTypes[t].modulesId),Routing.garbage();Simulator.pinSTypes={}},Simulator.unbindEvent=function(e){$("#"+e).off("touchstart touchend mousedown mouseup click")},Simulator.removeSlider=function(e){$("#"+e).find(".simulatorSlider").remove(),$("#"+e).find("#amount").remove();var t=document.createElement("div"),i=document.createElement("span");t.setAttribute("class","simulatorSlider"),i.setAttribute("id","amount"),$("#"+e).append(t),$("#"+e).find(".simulatorSlider").append(i)},Simulator.runEvent=function(){EzBlock.renderPage("routing"),Routing.run()},Simulator.delay=function(i){return new Promise(function(e,t){setTimeout(function(){e()},i)})},Simulator.value=function(){if(0==arguments.length)return Simulator.devicePins[pin].value;Simulator.devicePins[pin].value=val},Simulator.print=function(e){var t=(e=e.toString()).replace(/\s/g,"&nbsp");$(".routingGetMessage").append('<div style="padding-left:10px;">'.concat(t,"</div>")),$(".routingGetMessage").scrollTop($(".routingGetMessage")[0].scrollHeight)},Simulator.getCode=function(){return Blockly.JavaScript.workspaceToCode(BlockCode.workspace)},Simulator.stop=function(){Simulator.simulator=null,document.dispatchEvent(Simulator.onStop),$(".moduleRGBHalo").remove(),$(".moduleRGBLight").remove(),$(".moduleLED").remove(),Simulator.runner&&(Simulator.runner=null)},Simulator.go=function(){Simulator.run_flag=!0},Simulator.changeModulesImages=function(e,t){$("#"+e).find("img").attr("src",t)},Blockly.JavaScript.controls_repeat_ext=function(e){var t=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):Blockly.JavaScript.valueToCode(e,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",i=Blockly.JavaScript.statementToCode(e,"DO");i=Blockly.JavaScript.addLoopTrap(i,e.id),e="";var n=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.Variables.NAME_TYPE),o=t;return t.match(/^\w+$/)||Blockly.isNumber(t)||(e+="var "+(o=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.Variables.NAME_TYPE))+" = "+t+";\n"),e+"for (var "+n+" = 0; "+n+" < "+o+"; "+n+"++) {\n"+i+"  delay(1)\n  }\n"},Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext,Blockly.JavaScript.controls_whileUntil=function(e){var t="UNTIL"==e.getFieldValue("MODE"),i=Blockly.JavaScript.valueToCode(e,"BOOL",t?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",n=Blockly.JavaScript.statementToCode(e,"DO");return t&&(i="!"+i),"while ("+i+") {\n"+(n=Blockly.JavaScript.addLoopTrap(n,e.id))+"  delay(1)\n  }\n"},Blockly.JavaScript.controls_for=function(e){var t=Blockly.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),i=Blockly.JavaScript.valueToCode(e,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",n=Blockly.JavaScript.valueToCode(e,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",o=Blockly.JavaScript.valueToCode(e,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",r=Blockly.JavaScript.statementToCode(e,"DO");if(r=Blockly.JavaScript.addLoopTrap(r,e.id),Blockly.isNumber(i)&&Blockly.isNumber(n)&&Blockly.isNumber(o)){var a=parseFloat(i)<=parseFloat(n);e="for ("+t+" = "+i+"; "+t+(a?" <= ":" >= ")+n+"; "+t,e=(1==(t=Math.abs(parseFloat(o)))?e+(a?"++":"--"):e+(a?" += ":" -= ")+t)+") {\n"+r+"  delay(1)\n  }\n"}else e="",(a=i).match(/^\w+$/)||Blockly.isNumber(i)||(e+="var "+(a=Blockly.JavaScript.variableDB_.getDistinctName(t+"_start",Blockly.Variables.NAME_TYPE))+" = "+i+";\n"),(i=n).match(/^\w+$/)||Blockly.isNumber(n)||(e+="var "+(i=Blockly.JavaScript.variableDB_.getDistinctName(t+"_end",Blockly.Variables.NAME_TYPE))+" = "+n+";\n"),e+="var "+(n=Blockly.JavaScript.variableDB_.getDistinctName(t+"_inc",Blockly.Variables.NAME_TYPE))+" = ",e=(e=Blockly.isNumber(o)?e+(Math.abs(o)+";\n"):e+"Math.abs("+o+");\n")+"if ("+a+" > "+i+") {\n"+(Blockly.JavaScript.INDENT+n)+" = -"+n+";\n",e+="  delay(1)\n  }\n",e+="for ("+t+" = "+a+"; "+n+" >= 0 ? "+t+" <= "+i+" : "+t+" >= "+i+"; "+t+" += "+n+") {\n"+r+"  delay(1)\n  }\n";return e},Blockly.JavaScript.controls_forEach=function(e){var t=Blockly.JavaScript.variableDB_.getName(e.getFieldValue("VAR"),Blockly.Variables.NAME_TYPE),i=Blockly.JavaScript.valueToCode(e,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",n=Blockly.JavaScript.statementToCode(e,"DO");n=Blockly.JavaScript.addLoopTrap(n,e.id),e="";var o=i;return i.match(/^\w+$/)||(e+="var "+(o=Blockly.JavaScript.variableDB_.getDistinctName(t+"_list",Blockly.Variables.NAME_TYPE))+" = "+i+";\n"),e+"for (var "+(i=Blockly.JavaScript.variableDB_.getDistinctName(t+"_index",Blockly.Variables.NAME_TYPE))+" in "+o+") {\n"+(n=Blockly.JavaScript.INDENT+t+" = "+o+"["+i+"];\n"+n)+"  delay(1)\n  }\n"},Simulator.initApi=function(o,e){var t=function(e){return Simulator.print(e)};o.setProperty(e,"print",o.createNativeFunction(t)),Blockly.JavaScript.addReservedWords("delay");t=function(e,t){setTimeout(t,e)};o.setProperty(e,"delay",o.createAsyncFunction(t)),Blockly.JavaScript.addReservedWords("mapping");t=function(e,t,i,n,o){return parshInt((e-t)*(o-n)/(i-t)+n)};o.setProperty(e,"mapping",o.createNativeFunction(t));t=function(t){var e=o.createObject(o.OBJECT);return o.setProperty(e,"value",o.createNativeFunction(function(e){if(0==arguments.length)return Simulator.devicePins[t].value;Simulator.devicePins[t].value=e})),o.setProperty(e,"on",o.createNativeFunction(function(){Simulator.devicePins[t].value=1})),o.setProperty(e,"off",o.createNativeFunction(function(){Simulator.devicePins[t].value=1})),e};o.setProperty(e,"Pin",o.createNativeFunction(t));t=function(t){var e=o.createObject(o.OBJECT);return o.setProperty(e,"read",o.createNativeFunction(function(){var e=window[Choice.current.device];return result=Simulator.devicePins[t].voltage,result=Math.round(result/Simulator.VOLT_REFERENCE*e.adcReference),result})),e};o.setProperty(e,"ADC",o.createNativeFunction(t));t=function(i){var e=o.createObject(o.OBJECT);return o.setProperty(e,"pulse_width",o.createNativeFunction(function(e){var t=window[Choice.current.device];e<0?e=0:e>t.pwmReference&&(e=t.pwmReference),e=Math.round(e/t.pwmReference*Simulator.VOLT_REFERENCE),Simulator.devicePins[i].value=e})),o.setProperty(e,"freq",o.createNativeFunction(function(e){e<0?e=0:e>deviceObj.pwmReference&&(e=deviceObj.pwmReference),Simulator.devicePins[i].freq=e})),e};o.setProperty(e,"PWM",o.createNativeFunction(t));t=function(n){var e=o.createObject(o.OBJECT);return o.setProperty(e,"MIN_PW",o.createPrimitive(500)),o.setProperty(e,"MAX_PW",o.createPrimitive(2500)),o.setProperty(e,"angle",o.createNativeFunction(function(e){e<-90?e=-90:90<e&&(e=90);var t=(e- -90)*(result.MAX_PW-result.MIN_PW)/180+result.MIN_PW,i=parseInt(t/2e4*4095);PWM(n).pulse_width(i)})),e};o.setProperty(e,"Servo",o.createNativeFunction(t));t=function(e){return alert(e)};o.setProperty(e,"alert",o.createNativeFunction(t));t=function(e){return console.log(e)};for(key in o.setProperty(e,"debug",o.createNativeFunction(t)),Simulator.interpreterFunctions){var i=Simulator.interpreterFunctions[key],n=i.name,r=i.type,a=i.func;o.setProperty(e,n,o[r](a))}},Simulator.init=function(){Simulator.onRun=new Event("simulatorOnRun"),Simulator.onStop=new Event("simulatorOnStop")};
goog.provide("Blockly.Blocks.modules"),goog.provide("Blockly.Constants.Modules"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Modules.RGB="#58ce6a",Blockly.Blocks.modules.RGB=Blockly.Constants.Modules.RGB,Blockly.Constants.Modules.joystick=[["Y","0"],["X","1"],["Btn","2"]],Blockly.Blocks.modules_set_value=function(l){return{init:function(){this.appendValueInput("SIG").setCheck(["Digital_Pin","PWM_Pin"]).appendField(Blockly.Msg["MODULES_"+l+"_SET_VALUE_TITLE1"]),this.appendValueInput("value").setCheck(null).appendField(Blockly.Msg["MODULES_"+l+"_SET_VALUE_TITLE2"]),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg["MODULES_"+l+"_SET_VALUE_TOOLTIP"]),this.setHelpUrl("")}}},Blockly.Blocks.modules_get_value=function(l,e){return{init:function(){this.appendValueInput("SIG").setCheck(l+"_Pin").appendField(Blockly.Msg["MODULES_"+e+"_GET_VALUE_TITLE1"]),this.appendDummyInput().appendField(Blockly.Msg["MODULES_"+e+"_GET_VALUE_TITLE2"]),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg["MODULES_"+e+"_GET_VALUE_TOOLTIP"]),this.setHelpUrl("")}}},Blockly.Blocks.modules_digital_set_value=function(l){return Blockly.Blocks.modules_set_value(l)},Blockly.Blocks.modules_pwm_set_value=function(l){return Blockly.Blocks.modules_set_value(l)},Blockly.Blocks.modules_digital_get_value=function(l){return Blockly.Blocks.modules_get_value("Digital",l)},Blockly.Blocks.modules_analog_get_value=function(l){return Blockly.Blocks.modules_get_value("Analog",l)},Blockly.Blocks.modules_ledmodule_set_value={init:function(){this.appendValueInput("SIG").setCheck(["PWM_Pin","Digital_Pin"]).appendField(Blockly.Msg.MODULES_LEDMODULE_SET_VALUE_TITLE1),this.appendValueInput("value").setCheck("Number").appendField(Blockly.Msg.MODULES_LEDMODULE_SET_VALUE_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_LEDMODULE_SET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_rgbled_set_value={init:function(){this.appendValueInput("R").setCheck(["PWM_Pin","Digital_Pin"]).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MODULES_RGBLED_SET_VALUE_TITLE1),this.appendValueInput("G").setCheck(["PWM_Pin","Digital_Pin"]).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MODULES_RGBLED_SET_VALUE_TITLE2),this.appendValueInput("B").setCheck(["PWM_Pin","Digital_Pin"]).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MODULES_RGBLED_SET_VALUE_TITLE3),this.appendValueInput("color").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MODULES_RGBLED_SET_VALUE_TITLE4),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_RGBLED_SET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_button_get_value=Blockly.Blocks.modules_digital_get_value("BUTTON"),Blockly.Blocks.modules_tiltswitch_get_value=Blockly.Blocks.modules_digital_get_value("TILTSWITCH"),Blockly.Blocks.modules_vibrationswitch_get_value=Blockly.Blocks.modules_digital_get_value("VIBRATIONSWITCH"),Blockly.Blocks.modules_buzzer_set_value={init:function(){this.appendValueInput("SIG").setAlign(Blockly.ALIGN_RIGHT).setCheck("PWM_Pin").appendField(Blockly.Msg.MODULES_BUZZER_SET_STATUS_TITLE1),this.appendValueInput("note").setAlign(Blockly.ALIGN_RIGHT).setCheck("Number").appendField(Blockly.Msg.MODULES_BUZZER_SET_STATUS_TITLE2),this.appendValueInput("beat").setAlign(Blockly.ALIGN_RIGHT).setCheck("Number").appendField(Blockly.Msg.MODULES_BUZZER_SET_STATUS_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_BUZZER_SET_STATUS_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_joystick_get_value={init:function(){this.appendValueInput("X").setAlign(Blockly.ALIGN_RIGHT).setCheck("Analog_Pin").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_VALUE_TITLE1),this.appendValueInput("Y").setAlign(Blockly.ALIGN_RIGHT).setCheck("Analog_Pin").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_VALUE_TITLE2),this.appendValueInput("Btn").setAlign(Blockly.ALIGN_RIGHT).setCheck("Digital_Pin").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_VALUE_TITLE3),this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Modules.joystick),"joystick").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_VALUE_TITLE4),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_JOYSTICK_GET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_joystick_get_status={init:function(){this.appendValueInput("X").setAlign(Blockly.ALIGN_RIGHT).setCheck("Analog_Pin").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_STATUS_TITLE1),this.appendValueInput("Y").setAlign(Blockly.ALIGN_RIGHT).setCheck("Analog_Pin").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_STATUS_TITLE2),this.appendValueInput("Btn").setAlign(Blockly.ALIGN_RIGHT).setCheck("Digital_Pin").appendField(Blockly.Msg.MODULES_JOYSTICK_GET_STATUS_TITLE3),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_JOYSTICK_GET_STATUS_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_potentiometer_get_value=Blockly.Blocks.modules_analog_get_value("POTENTIOMETER"),Blockly.Blocks.modules_soundsensor_get_value=Blockly.Blocks.modules_analog_get_value("SOUNDSENSOR"),Blockly.Blocks.modules_photoresistor_get_value=Blockly.Blocks.modules_analog_get_value("PHOTORESISTOR"),Blockly.Blocks.modules_touchswitch_get_value=Blockly.Blocks.modules_digital_get_value("TOUCHSWITCH"),Blockly.Blocks.modules_ultrasonic_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.MODULES_ULTRASONIC_GET_VALUE_TITLE1),this.appendValueInput("Trig").setCheck("Digital_Pin").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MODULES_ULTRASONIC_GET_VALUE_TITLE2),this.appendValueInput("Echo").setCheck("Digital_Pin").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.MODULES_ULTRASONIC_GET_VALUE_TITLE3),this.setInputsInline(!1),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_ULTRASONIC_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_ds18b20_get_value={init:function(){this.appendValueInput("SIG").setCheck("Digital_Pin").appendField(Blockly.Msg.MODULES_DS18B20_GET_VALUE_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.MODULES_DS18B20_GET_VALUE_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_DS18B20_GET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_servo_set_angle={init:function(){this.appendValueInput("SIG").setCheck("PWM_Pin").appendField(Blockly.Msg.MODULES_SERVO_SET_ANGLE_TITLE1),this.appendValueInput("angle").setCheck(null).appendField(Blockly.Msg.MODULES_SERVO_SET_ANGLE_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_SERVO_SET_ANGLE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_moisturesensor_get_value={init:function(){this.appendValueInput("SIG").setCheck("Analog_Pin").appendField(Blockly.Msg.MODULES_MOISTURESENSOR_GET_VALUE_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.MODULES_MOISTURESENSOR_GET_VALUE_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_MOISTURESENSOR_GET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.modules_adxl345_get_value={init:function(){this.appendDummyInput().appendField(Blockly.Msg.MODULES_ADXL345_GET_VALUE_TITLE1),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Modules.RGB),this.setTooltip(Blockly.Msg.MODULES_ADXL345_GET_VALUE_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.modules"),goog.require("Blockly.Python"),Blockly.Python.modules_ledmodule_set_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var e="";return e+="LEDModule_set_value("+l+", "+t+")\n"},Blockly.Python.modules_rgbled_set_value=function(o){var l=Blockly.Python.valueToCode(o,"R",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"G",Blockly.Python.ORDER_ATOMIC),e=Blockly.Python.valueToCode(o,"B",Blockly.Python.ORDER_ATOMIC),y=Blockly.Python.valueToCode(o,"color",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var n="";return n+="RGBLED_set_value("+l+", "+t+", "+e+", "+y+")\n"},Blockly.Python.modules_button_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="Button_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_tiltswitch_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="TiltSwitch_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_vibrationswitch_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="VibrationSwitch_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_buzzer_set_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"note",Blockly.Python.ORDER_ATOMIC),e=Blockly.Python.valueToCode(o,"beat",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var y="";return y+="Buzzer_play("+l+", "+t+", "+e+")\n"},Blockly.Python.modules_joystick_get_value=function(o){var l=Blockly.Python.valueToCode(o,"X",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"Y",Blockly.Python.ORDER_ATOMIC),e=Blockly.Python.valueToCode(o,"Btn",Blockly.Python.ORDER_ATOMIC),y=o.getFieldValue("joystick");Blockly.Python.definitions_.import_modules="from modules import *";var n="";return[n+="Joystick_get_value("+l+", "+t+", "+e+", "+y+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_joystick_get_status=function(o){var l=Blockly.Python.valueToCode(o,"X",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"Y",Blockly.Python.ORDER_ATOMIC),e=Blockly.Python.valueToCode(o,"Btn",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var y="";return[y+="Joystick_get_status("+l+", "+t+", "+e+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_potentiometer_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="Potentiometer_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_soundsensor_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="SoundSensor_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_photoresistor_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="Photoresistor_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_touchswitch_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="TouchSwitch_get_value("+l+")",Blockly.Python.ORDER_NONE]},Blockly.Python.modules_ultrasonic_get_value=function(o){var l=Blockly.Python.valueToCode(o,"Trig",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"Echo",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";return["UltrasonicSensor_get_value("+l+", "+t+")",Blockly.Python.ORDER_NONE]},Blockly.Python.modules_ds18b20_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="DS18B20_get_value("+l+")",Blockly.Python.ORDER_NONE]},Blockly.Python.modules_servo_set_angle=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"angle",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var e="";return e+="Servo_set_value("+l+", "+t+")\n"},Blockly.Python.modules_moisturesensor_get_value=function(o){var l=Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_modules="from modules import *";var t="";return[t+="MoistureSensor_get_value("+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.modules_adxl345_get_value=function(o){Blockly.Python.definitions_.import_modules="from modules import *";return"ADXL345_get_value()",["ADXL345_get_value()",Blockly.Python.ORDER_ATOMIC]};
var Module=function(e){var o=this;this.sname=e.sname,this.name="",this.img="".concat(this.sname,".png"),this.blocks=e.blocks,this.simulator=e.simulator,this.pins=e.pins,Object.defineProperty(this,"name",{get:function(){var e=o.sname.toUpperCase().replace(/-+/g,"");return Blockly.Msg["MODULES_".concat(e,"_NAME")]}})},Modules={simulator:{},id:"modules",libPath:"",libs:["modules==v0.2"],init:function(){}};Object.defineProperty(Modules,"libPath",{get:function(){var e=window[Choice.current.device].series;return"./packages/modules/lib/".concat(e)},set:function(e){}}),Modules["led-module"]=new Module({sname:"led-module",blocks:['<block type="modules_ledmodule_set_value">   <value name="value">     <shadow type="math_number">     </shadow>   </value> </block> '],simulator:{type:"ValueOutput",onHigh:"module-led_on.png",onLow:"module-led_off.png",pin:"SIG",mode:"opacity"},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["din","pwm"],type:"digital"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["rgb-led"]=new Module({sname:"rgb-led",blocks:['<block type="modules_rgbled_set_value"> <value name="color"> <shadow type="colour_led_picker"> <field name="COLOUR">#ff0000</field> </shadow> </value> </block>'],simulator:{type:"ModuleRGB",R:"R",G:"G",B:"B",initValue:0},pins:{VCC:{id:0,name:"VCC",x:.2,y:1,isSource:!0,property:["3V3"],type:"power"},R:{id:1,name:"R",x:.4,y:1,isSource:!0,property:["pwm"],type:"pwm"},G:{id:2,name:"G",x:.6,y:1,isSource:!0,property:["pwm"],type:"pwm"},B:{id:3,name:"B",x:.8,y:1,isSource:!0,property:["pwm"],type:"pwm"}}}),Modules.button=new Module({sname:"button",blocks:['<block type="modules_button_get_value"></block> '],simulator:{type:"ValueInput",mode:"toggle",initValue:1,pin:"SIG"},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["din"],type:"digital"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["tilt-switch"]=new Module({sname:"tilt-switch",blocks:['<block type="modules_tiltswitch_get_value"> </block> '],simulator:{type:"ValueInput",pin:"SIG",mode:"click",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["din"],type:"digital"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["vibration-switch"]=new Module({sname:"vibration-switch",blocks:['<block type="modules_vibrationswitch_get_value"> </block> '],simulator:{type:"ValueInput",mode:"toggle",initValue:0,pin:"SIG"},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["din"],type:"digital"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.buzzer=new Module({sname:"buzzer",blocks:['<block type="modules_buzzer_set_value"><value name="note"> <shadow type="music_notes"> </shadow> </value> <value name="beat"> <shadow type="music_beat"> </shadow> </value> </block>'],simulator:{type:"ValueOutput",pin:"SIG",mode:"musicFrequency",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["pwm"],type:"pwm"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.joystick=new Module({sname:"joystick",blocks:['<block type="modules_joystick_get_status"> </block>','<block type="modules_joystick_get_value"> </block>'],simulator:{type:"ModuleJoystick",Y:"Y",X:"X",Btn:"Btn",initValue:0},pins:{Y:{id:0,name:"Y",x:.1,y:1,isSource:!0,property:["ain"],type:"analog"},X:{id:1,name:"X",x:.3,y:1,isSource:!0,property:["ain"],type:"analog"},Btn:{id:2,name:"Btn",x:.5,y:1,isSource:!0,property:["din"],type:"digital"},VCC:{id:3,name:"VCC",x:.7,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:4,name:"GND",x:.9,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.potentiometer=new Module({sname:"potentiometer",blocks:['<block type="modules_potentiometer_get_value"> </block> '],simulator:{type:"ValueInput",pin:"SIG",mode:"slider",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["ain"],type:"analog"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["sound-sensor"]=new Module({sname:"sound-sensor",blocks:['<block type="modules_soundsensor_get_value"> </block> '],simulator:{type:"ValueInput",pin:"SIG",mode:"slider",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["ain"],type:"analog"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.photoresistor=new Module({sname:"photoresistor",blocks:['<block type="modules_photoresistor_get_value"></block> '],simulator:{type:"ValueInput",pin:"SIG",mode:"slider",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["ain"],type:"analog"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["touch-switch"]=new Module({sname:"touch-switch",blocks:['<block type="modules_touchswitch_get_value"></block> '],simulator:{type:"ValueInput",pin:"SIG",mode:"click",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["din"],type:"digital"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.ultrasonic=new Module({sname:"ultrasonic",blocks:['<block type="modules_ultrasonic_get_value"></block>'],simulator:{type:"ModuleUltrasonic",min:0,max:700,unit:"mm",initValue:0},pins:{Trig:{id:0,name:"Trig",x:.2,y:1,isSource:!0,property:["din"],type:"digital"},Echo:{id:1,name:"Echo",x:.4,y:1,isSource:!0,property:["din"],type:"digital"},VCC:{id:2,name:"VCC",x:.6,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:3,name:"GND",x:.8,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.ds18b20=new Module({sname:"ds18b20",blocks:['<block type="modules_ds18b20_get_value"></block> '],simulator:{type:"ValueInput",pin:"SIG",mode:"slider",min:-55,max:125,unit:"℃",initValue:0},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["1wire"],type:"digital"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["5V"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules.servo=new Module({sname:"servo",blocks:['<block type="modules_servo_set_angle"> <value name="angle">    <shadow type="math_number">    </shadow> </value> </block> '],simulator:{type:"ValueOutput",mode:"rotation",inputRange:"102=511",outputRange:"-90=90",pin:"SIG"},pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["pwm"],type:"pwm"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["5V"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["moisture-sensor"]=new Module({sname:"moisture-sensor",blocks:['<block type="modules_moisturesensor_get_value"> </block>'],pins:{SIG:{id:0,name:"SIG",x:.3,y:1,isSource:!0,property:["ain"],type:"analog"},VCC:{id:1,name:"VCC",x:.5,y:1,isSource:!0,property:["3V3"],type:"power"},GND:{id:2,name:"GND",x:.7,y:1,isSource:!0,property:["GND"],type:"ground"}}}),Modules["switchbot-s1"]=new Module({sname:"switchbot-s1",blocks:['<block type="switchbot_s1_get_value"><value name="port"></value></block >'],pins:null}),Modules.adxl345=new Module({sname:"adxl345",blocks:['<block type="modules_adxl345_get_value"> </block> '],pins:{GND:{id:0,name:"GND",x:.15,y:1,isSource:!0,property:["GND"],type:"ground"},"3V3":{id:1,name:"3V3",x:.3,y:1,isSource:!0,property:["3V3"],type:"power"},SCL:{id:2,name:"SCL",x:.45,y:1,isSource:!0,property:["SCL"],type:"com"},SDA:{id:3,name:"SDA",x:.6,y:1,isSource:!0,property:["SDA"],type:"com"},CS:{id:4,name:"CS",x:.75,y:1,isSource:!0,property:["3V3"],type:"com"},SDO:{id:5,name:"SDO",x:.9,y:1,isSource:!0,property:["GND"],type:"ground"}}});
function asyncGeneratorStep(t,e,a,o,r,l,u){try{var n=t[l](u),i=n.value}catch(t){return void a(t)}n.done?e(i):Promise.resolve(i).then(o,r)}function _asyncToGenerator(n){return function(){var t=this,u=arguments;return new Promise(function(e,a){var o=n.apply(t,u);function r(t){asyncGeneratorStep(o,e,a,r,l,"next",t)}function l(t){asyncGeneratorStep(o,e,a,r,l,"throw",t)}r(void 0)})}}goog.provide("Blockly.JavaScript.modules"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.modules_ledmodule_set_value=function(t){var e="";return e+="LEDModule_set_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Modules.simulator.LEDModule_set_value=function(t,e){t=t.toString(),e=parseInt(e),"D"==t.slice(0,1)?(t=Pin(t)).value(e):"P"==t.slice(0,1)&&(t=PWM(t)).pulse_width(e)},Simulator.interpreterFunctions.LEDModule_set_value={name:"LEDModule_set_value",type:"createNativeFunction",func:function(t,e){Modules.simulator.LEDModule_set_value(t,e)}},Blockly.JavaScript.modules_rgbled_set_value=function(t){var e="";return e+="RGBLED_set_value("+Blockly.JavaScript.valueToCode(t,"R",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"G",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"B",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"color",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Modules.simulator.RGBLED_set_value=function(t,e,a,o,r){t=t.toString(),e=e.toString(),a=a.toString(),o=o.toString(),r=void 0===r?1:r.toString(),t=PWM(t),e=PWM(e),a=PWM(a),o=o.slice(1);for(var l=parseInt(o,16),u=(16711680&l)>>16,n=(65280&l)>>8,i=(255&l)>>0,c=[u,n,i],v=0;v<3;v++)c[v]=c[v]/255*4095;1==r&&(u=4095-c[0],n=4095-c[1],i=4095-c[2]),t.pulse_width(u),e.pulse_width(n),a.pulse_width(i)},Simulator.interpreterFunctions.RGBLED_set_value={name:"RGBLED_set_value",type:"createNativeFunction",func:function(t,e,a,o,r){Modules.simulator.RGBLED_set_value(t,e,a,o,r)}},Blockly.JavaScript.modules_button_get_value=function(t){var e="";return[e+="Button_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.Button_get_value=function(t){return t=t.toString(),(t=Pin(t)).value()},Simulator.interpreterFunctions.Button_get_value={name:"Button_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.Button_get_value(t)}},Blockly.JavaScript.modules_tiltswitch_get_value=function(t){var e="";return[e+="TiltSwitch_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.TiltSwitch_get_value=function(t){return t=t.toString(),(t=Pin(t)).value()},Simulator.interpreterFunctions.TiltSwitch_get_value={name:"TiltSwitch_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.TiltSwitch_get_value(t)}},Blockly.JavaScript.modules_vibrationswitch_get_value=function(t){var e="";return[e+="VibrationSwitch_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.VibrationSwitch_get_value=function(t){return t=t.toString(),(t=Pin(t)).value()},Simulator.interpreterFunctions.VibrationSwitch_get_value={name:"VibrationSwitch_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.VibrationSwitch_get_value(t)}},Blockly.JavaScript.modules_buzzer_set_value=function(t){var e="";return e+="Buzzer_play("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"note",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"beat",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Modules.simulator.Buzzer_play=function(a,o,r){function t(){return(t=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=a.toString(),o=o.toString(),r=parseInt(r),(e=PWM(a)).freq(o),e.pulse_width_percentage(50),t.next=8,Simulator.delay(r);case 8:return e.freq(0),e.pulse_width_percentage(0),t.next=12,Simulator.delay(r);case 12:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}return function(){return t.apply(this,arguments)}()},Simulator.interpreterFunctions.Buzzer_play={name:"Buzzer_play",type:"createAsyncFunction",func:function(t,e,a,o){Modules.simulator.Buzzer_play(t,e,a).then(o)}},Blockly.JavaScript.modules_joystick_get_value=function(t){var e="";return[e+="Joystick_get_value("+Blockly.JavaScript.valueToCode(t,"X",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"Y",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"Btn",Blockly.JavaScript.ORDER_ATOMIC)+", "+t.getFieldValue("joystick")+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.Joystick_get_value=function(t,e,a,o){var r=[t=t.toString(),e=e.toString(),a=a.toString()][o=parseInt(o)];if(2==o)var l=(r=Pin(r)).value();else l=ADC(r).read();return l},Simulator.interpreterFunctions.Joystick_get_value={name:"Joystick_get_value",type:"createNativeFunction",func:function(t,e,a,o){return Modules.simulator.Joystick_get_value(t,e,a,o)}},Blockly.JavaScript.modules_joystick_get_status=function(t){var e="";return[e+="Joystick_get_status("+Blockly.JavaScript.valueToCode(t,"X",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"Y",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"Btn",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.Joystick_get_status=function(t,e,a){t=t.toString(),e=e.toString(),a=a.toString();var o=ADC(t),r=ADC(e),l=Pin(a),u=0;return o.read()<=1024?u=1:3072<=o.read()?u=2:r.read()<=1024?u=3:3072<=r.read()?u=4:0==l.value()&&(u=5),1024<read()&&o.read()<3072&&1024<r.read()&&r.read()<3072&&1==l.value()&&(u=0),["home","up","down","left","right","pressed"][u]},Simulator.interpreterFunctions.Joystick_get_status={name:"Joystick_get_status",type:"createNativeFunction",func:function(t,e,a){return Modules.simulator.Joystick_get_status(t,e,a)}},Blockly.JavaScript.modules_potentiometer_get_value=function(t){var e="";return[e+="Potentiometer_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.Potentiometer_get_value=function(t){return t=t.toString(),ADC(t).read()},Simulator.interpreterFunctions.Potentiometer_get_value={name:"Potentiometer_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.Potentiometer_get_value(t)}},Blockly.JavaScript.modules_soundsensor_get_value=function(t){var e="";return[e+="SoundSensor_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.SoundSensor_get_value=function(t){t=t.toString();var e=ADC(t),a=[],o=0;for(i=0;i<50;i++){var r=e.read();a.push(r)}return a.forEach(function(t){o+=parseInt(t)}),r=o/50},Simulator.interpreterFunctions.SoundSensor_get_value={name:"SoundSensor_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.SoundSensor_get_value(t)}},Blockly.JavaScript.modules_photoresistor_get_value=function(t){var e="";return[e+="Photoresistor_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.Photoresistor_get_value=function(t){return t=t.toString(),ADC(t).read()},Simulator.interpreterFunctions.Photoresistor_get_value={name:"Photoresistor_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.Photoresistor_get_value(t)}},Blockly.JavaScript.modules_touchswitch_get_value=function(t){var e="";return[e+="TouchSwitch_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_NONE]},Modules.simulator.TouchSwitch_get_value=function(t){return t=t.toString(),(t=Pin(t)).value()},Simulator.interpreterFunctions.TouchSwitch_get_value={name:"TouchSwitch_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.TouchSwitch_get_value(t)}},Blockly.JavaScript.modules_ultrasonic_get_value=function(t){return["UltrasonicSensor_get_value("+Blockly.JavaScript.valueToCode(t,"Trig",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"Echo",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_NONE]},Modules.simulator.UltrasonicSensor_get_value=function(t,e){return t=t.toString(),e=e.toString(),pin=Pin(t),pin.value()},Simulator.interpreterFunctions.UltrasonicSensor_get_value={name:"UltrasonicSensor_get_value",type:"createNativeFunction",func:function(t,e){return Modules.simulator.UltrasonicSensor_get_value(t,e)}},Blockly.JavaScript.modules_ds18b20_get_value=function(t){var e="";return[e+="DS18B20_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_NONE]},Modules.simulator.DS18B20_get_value=function(t){return t=t.toString(),ADC(t).read()},Simulator.interpreterFunctions.DS18B20_get_value={name:"DS18B20_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.DS18B20_get_value(t)}},Blockly.JavaScript.modules_servo_set_angle=function(t){var e="";return e+="Servo_set_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(t,"angle",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Modules.simulator.Servo_set_value=function(t,e){t=t.toString(),e=parseInt(e);var a=PWM(t);e<-90&&(e=-90),90<e&&(e=90);var o=parseInt(4095*((2e3*(e- -90)/180+500)/2e4));a.pulse_width(o)},Simulator.interpreterFunctions.Servo_set_value={name:"Servo_set_value",type:"createNativeFunction",func:function(t,e){return Modules.simulator.Servo_set_value(t,e)}},Blockly.JavaScript.modules_moisturesensor_get_value=function(t){var e="";return[e+="MoistureSensor_get_value("+Blockly.JavaScript.valueToCode(t,"SIG",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.MoistureSensor_get_value=function(t){return t=t.toString(),ADC(t).read()},Simulator.interpreterFunctions.MoistureSensor_get_value={name:"MoistureSensor_get_value",type:"createNativeFunction",func:function(t){return Modules.simulator.MoistureSensor_get_value(t)}},Blockly.JavaScript.modules_adxl345_get_value=function(t){return"ADXL345_get_value()",["ADXL345_get_value()",Blockly.JavaScript.ORDER_ATOMIC]},Modules.simulator.ADXL345_get_value=function(){},Simulator.interpreterFunctions.ADXL345_get_value={name:"ADXL345_get_value",type:"createNativeFunction",func:function(){return Modules.simulator.ADXL345_get_value()}};
goog.provide("Blockly.Blocks.jelly"),goog.provide("Blockly.Constants.Jelly"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Jelly.RGB="#58ce6a",Blockly.Blocks.jelly.RGB=Blockly.Constants.Jelly.RGB,Blockly.Constants.Jelly.Note=[["Low C","LC"],["Low C#","LC#"],["Low D","LD"],["Low D#","LD#"],["Low E","LE"],["Low E#","LE#"],["Low F","LF"],["Low G","LG"],["Low G#","LG#"],["Low A","LA"],["Low A#","LA#"],["Low B","LB"],["Middle C","MC"],["Middle C#","MC#"],["Middle D","MD"],["Middle D#","MD#"],["Middle E","ME"],["Middle E#","ME#"],["Middle F","MF"],["Middle G","MG"],["Middle G#","MG#"],["Middle A","MA"],["Middle A#","MA#"],["Middle B","MB"],["High C","HC"],["High C#","HC#"],["High D","HD"],["High D#","HD#"],["High E","HE"],["High E#","HE#"],["High F","HF"],["High G","HG"],["High G#","HG#"],["High A","HA"],["High A#","HA#"],["High B","HB"]],Blockly.Blocks.jelly_note={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Jelly.Note),"NAME"),this.setOutput(!0,"Jelly_Note"),this.setColour(Blockly.Constants.Jelly.RGB),this.setTooltip(Blockly.Msg.JELLY_NOTE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.jelly_set_value=function(l,e){return void 0===e&&(e=null),{init:function(){this.appendValueInput("port").setCheck("Jelly_Output_Port").appendField(Blockly.Msg["JELLY_"+l+"_TITLE1"]),this.appendValueInput("value").setCheck(e).appendField(Blockly.Msg["JELLY_"+l+"_TITLE2"]),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Jelly.RGB),this.setTooltip(Blockly.Msg["JELLY_"+l+"_TOOLTIP"]),this.setHelpUrl("")}}},Blockly.Blocks.jelly_get_value=function(l){return{init:function(){this.appendValueInput("port").setCheck("Jelly_Input_Port").appendField(Blockly.Msg["JELLY_"+l+"_TITLE1"]),this.appendDummyInput().appendField(Blockly.Msg["JELLY_"+l+"_TITLE2"]),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Jelly.RGB),this.setTooltip(Blockly.Msg["JELLY_"+l+"_TOOLTIP"]),this.setHelpUrl("")}}},Blockly.Blocks.jelly_distance_sensor_get_value=Blockly.Blocks.jelly_get_value("DISTANCE_SENSOR"),Blockly.Blocks.jelly_sound_sensor_get_value=Blockly.Blocks.jelly_get_value("SOUND_SENSOR"),Blockly.Blocks.jelly_light_sensor_get_value=Blockly.Blocks.jelly_get_value("LIGHT_SENSOR"),Blockly.Blocks.jelly_slider_get_value=Blockly.Blocks.jelly_get_value("SLIDER"),Blockly.Blocks.jelly_button_get_value=Blockly.Blocks.jelly_get_value("BUTTON"),Blockly.Blocks.jelly_led_set_value=Blockly.Blocks.jelly_set_value("LED"),Blockly.Blocks.jelly_led_bar_set_value=Blockly.Blocks.jelly_set_value("LED_BAR"),Blockly.Blocks.jelly_motor_set_value=Blockly.Blocks.jelly_set_value("MOTOR"),Blockly.Blocks.jelly_servo_set_value=Blockly.Blocks.jelly_set_value("SERVO"),Blockly.Blocks.jelly_rgb_set_value=Blockly.Blocks.jelly_set_value("RGB","colour"),Blockly.Blocks.jelly_buzzer_set_value=Blockly.Blocks.jelly_set_value("BUZZER","Jelly_Note");
goog.provide("Blockly.Python.jelly"),goog.require("Blockly.Python"),Blockly.Python.jelly_get_value=function(l){var e="";return[e+=Blockly.Python.valueToCode(l,"port",Blockly.Python.ORDER_ATOMIC)+".read()",Blockly.Python.ORDER_NONE]},Blockly.Python.jelly_set_value=function(l){var e="";return e+=Blockly.Python.valueToCode(l,"port",Blockly.Python.ORDER_ATOMIC)+".write("+Blockly.Python.valueToCode(l,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.jelly_distance_sensor_get_value=Blockly.Python.jelly_get_value,Blockly.Python.jelly_sound_sensor_get_value=Blockly.Python.jelly_get_value,Blockly.Python.jelly_light_sensor_get_value=Blockly.Python.jelly_get_value,Blockly.Python.jelly_slider_get_value=Blockly.Python.jelly_get_value,Blockly.Python.jelly_button_get_value=Blockly.Python.jelly_get_value,Blockly.Python.jelly_led_set_value=Blockly.Python.jelly_set_value,Blockly.Python.jelly_led_bar_set_value=Blockly.Python.jelly_set_value,Blockly.Python.jelly_motor_set_value=Blockly.Python.jelly_set_value,Blockly.Python.jelly_servo_set_value=Blockly.Python.jelly_set_value,Blockly.Python.jelly_rgb_set_value=Blockly.Python.jelly_set_value,Blockly.Python.jelly_buzzer_set_value=Blockly.Python.jelly_set_value;
var Jelly={name:"Jelly",id:"jelly",libPath:"./packages/jelly/lib",modules:{"distance-sensor":{id:0,name:"Distance Sensor",blocks:['<block type="jelly_distance_sensor_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"distance_sensor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},"sound-sensor":{id:1,name:"Sound Sensor",blocks:['<block type="jelly_sound_sensor_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"sound_sensor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},"light-sensor":{id:2,name:"Light Sensor",blocks:['<block type="jelly_light_sensor_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"light_sensor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},slider:{id:3,name:"Slider",blocks:['<block type="jelly_slider_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"slider.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},button:{id:4,name:"Button",blocks:['<block type="jelly_button_get_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"button.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["ain"],type:"analog"}}},servo:{id:5,name:"Servo",blocks:['<block type="jelly_servo_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"servo.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},motor:{id:6,name:"Motor",blocks:['<block type="jelly_motor_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"motor.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},led:{id:7,name:"LED",blocks:['<block type="jelly_led_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"led.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},"led-bar":{id:8,name:"LED Bar",blocks:['<block type="jelly_led_bar_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"led_bar.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},rgb:{id:9,name:"RGB",blocks:['<block type="jelly_rgb_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"rgb.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}},buzzer:{id:10,name:"Buzzer",blocks:['<block type="jelly_buzzer_set_value"><value name="port"><shadow type="jelly_port"></shadow></value></block >'],img:"buzzer.png",pins:{port:{id:0,name:"port",x:.5,y:1,isSource:!0,property:["pwm"],type:"pwm"}}}}};
goog.provide("Blockly.JavaScript.jelly"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.jelly_get_value=function(l){var a="";return[a+=Blockly.JavaScript.valueToCode(l,"port",Blockly.JavaScript.ORDER_ATOMIC)+".read()",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.jelly_set_value=function(l){var a="";return a+=Blockly.JavaScript.valueToCode(l,"port",Blockly.JavaScript.ORDER_ATOMIC)+".write("+Blockly.JavaScript.valueToCode(l,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.jelly_distance_sensor_get_value=Blockly.JavaScript.jelly_get_value,Blockly.JavaScript.jelly_sound_sensor_get_value=Blockly.JavaScript.jelly_get_value,Blockly.JavaScript.jelly_light_sensor_get_value=Blockly.JavaScript.jelly_get_value,Blockly.JavaScript.jelly_slider_get_value=Blockly.JavaScript.jelly_get_value,Blockly.JavaScript.jelly_button_get_value=Blockly.JavaScript.jelly_get_value,Blockly.JavaScript.jelly_led_set_value=Blockly.JavaScript.jelly_set_value,Blockly.JavaScript.jelly_led_bar_set_value=Blockly.JavaScript.jelly_set_value,Blockly.JavaScript.jelly_motor_set_value=Blockly.JavaScript.jelly_set_value,Blockly.JavaScript.jelly_servo_set_value=Blockly.JavaScript.jelly_set_value,Blockly.JavaScript.jelly_rgb_set_value=Blockly.JavaScript.jelly_set_value,Blockly.JavaScript.jelly_buzzer_set_value=Blockly.JavaScript.jelly_set_value;
goog.provide("Blockly.JavaScript.robothat"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.robothat_motor=function(o){return["set_motor_speed("+Blockly.Python.valueToCode(o,"motor",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n",Blockly.JavaScript.ORDER_ATOMIC]};
goog.provide("Blockly.Blocks.robothat"),goog.provide("Blockly.Constants.RobotHat"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.RobotHat.RGB="#3F34D1",Blockly.Blocks.robothat.RGB=Blockly.Constants.RobotHat.RGB,Blockly.Constants.RobotHat.DIGITAL_PINS=[["D0",'"D0"'],["D1",'"D1"'],["D2",'"D2"'],["D3",'"D3"']],Blockly.Constants.RobotHat.ANALOG_PINS=[["A0",'"A0"'],["A1",'"A1"'],["A2",'"A2"'],["A3",'"A3"']],Blockly.Constants.RobotHat.DEVICE_PINS=[["LED",'"LED"'],["switch",'"SW"']],Blockly.Constants.RobotHat.PWM_PINS=[["P0",'"P0"'],["P1",'"P1"'],["P2",'"P2"'],["P3",'"P3"']],Blockly.Constants.RobotHat.Line_follower_channel=[["U1","'A0'"],["U2","'A1'"]],Blockly.Constants.RobotHat.motor_select=[["Motor1","1"],["Motor2","2"]],Blockly.Blocks.robothat_digital_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.DIGITAL_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Digital_Pin"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_DIGITAL_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_analog_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.ANALOG_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Analog_Pin"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_ANALOG_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_device_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.DEVICE_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Digital_Pin"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_DEVICE_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_pwm_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.PWM_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"PWM_Pin"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_PWM_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_motor_select={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.motor_select),"motor_select"),this.setInputsInline(!0),this.setOutput(!0,"MOTOR"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_MOTOR_SELECT_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_ultarsonic_distance={init:function(){this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.ROBOTHAT_ULTARSONIC_DISTANCE_TITLE1),this.appendValueInput("Triq").setAlign(Blockly.ALIGN_RIGHT).setCheck(null).appendField(Blockly.Msg.ROBOTHAT_ULTARSONIC_DISTANCE_TITLE2),this.appendValueInput("Echo").setAlign(Blockly.ALIGN_RIGHT).setCheck(null).appendField(Blockly.Msg.ROBOTHAT_ULTARSONIC_DISTANCE_TITLE3),this.setInputsInline(!1),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_ULTARSONIC_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_motor={init:function(){this.appendValueInput("speed").setCheck("Number").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.ROBOTHAT_MOTOR_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.motor_select),"motor").appendField(Blockly.Msg.ROBOTHAT_MOTOR_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_MOTOR_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_motor_direction_calibration={init:function(){this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.ROBOTHAT_MOTOR_DIRECTION_CALIBRATION_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotHat.motor_select),"motor"),this.appendValueInput("value").setCheck("Number").appendField(Blockly.Msg.ROBOTHAT_MOTOR_DIRECTION_CALIBRATION_TITLE2),this.setInputsInline(!0),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_MOTOR_DIRECTION_CALIBRATION_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robothat_motor_speed_calibration={init:function(){this.appendValueInput("value").setCheck(null).appendField(Blockly.Msg.ROBOTHAT_MOTOR_SPEED_CALIBRATION_TITLE1),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.RobotHat.RGB),this.setTooltip(Blockly.Msg.ROBOTHAT_MOTOR_SPEED_CALIBRATION_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.robothat"),goog.require("Blockly.Python"),Blockly.Python.robothat_digital_pin=function(o){var t="";return[t+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.robothat_analog_pin=function(o){var t="";return[t+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.robothat_device_pin=function(o){var t="";return[t+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.robothat_pwm_pin=function(o){var t="";return[t+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.robothat_ultarsonic_distance=function(o){var t=Blockly.Python.valueToCode(o,"Triq",Blockly.Python.ORDER_ATOMIC),l=Blockly.Python.valueToCode(o,"Echo",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_robothat="import robothat";return["robothat.get_distance("+t+", "+l+")",Blockly.Python.ORDER_ATOMIC]},Blockly.Python.robothat_motor=function(o){var t=o.getFieldValue("motor"),l=Blockly.Python.valueToCode(o,"speed",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_robothat="import robothat";return"robothat.set_motor_speed("+t+", "+l+")\n"},Blockly.Python.robothat_motor_direction_calibration=function(o){var t=o.getFieldValue("motor"),l=Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_robothat="import robothat";return"motor_direction_calibration("+t+", "+l+")\n"},Blockly.Python.robothat_motor_speed_calibration=function(o){var t=Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_robothat="import robothat";return["Motor_speed_calibration("+t+")",Blockly.Python.ORDER_ATOMIC]};
var RobotHat={id:"robothat",kits:{},series:"raspberrypi",nameEn:"RobotHat",type:"raspberrypi",libPath:"./packages/robothat/lib",libs:["robothat==v0.2"],avalibleModules:["tilt-switch","vibration-switch"],width:87,height:58,pinWidth:8,pinHeight:8,examples:{},examplesHasKit:{},tutorials:{},tutorialsHasKit:{},VOLTAGE_LEVEL_THRESHOLD:1.5,pwmReference:4095,adcReference:4095,routingOffset:{x:.7,y:2.6}};RobotHat.pins=[{id:1,name:"GND",x:36.27+RobotHat.routingOffset.x,y:10.51+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:2,name:"GND",x:38.8+RobotHat.routingOffset.x,y:10.51+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:3,name:"GND",x:41.33+RobotHat.routingOffset.x,y:10.51+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:4,name:"GND",x:43.86+RobotHat.routingOffset.x,y:10.51+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:5,name:"5V",x:36.27+RobotHat.routingOffset.x,y:13.1+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:6,name:"5V",x:38.8+RobotHat.routingOffset.x,y:13.1+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:7,name:"5V",x:41.33+RobotHat.routingOffset.x,y:13.1+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:8,name:"5V",x:43.86+RobotHat.routingOffset.x,y:13.1+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:9,name:"P0",x:36.27+RobotHat.routingOffset.x,y:15.69+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:10,name:"P1",x:38.8+RobotHat.routingOffset.x,y:15.69+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:11,name:"P2",x:41.33+RobotHat.routingOffset.x,y:15.69+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:12,name:"P3",x:43.86+RobotHat.routingOffset.x,y:15.69+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:13,name:"GND",x:36.27+RobotHat.routingOffset.x,y:19.68+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:14,name:"GND",x:38.8+RobotHat.routingOffset.x,y:19.68+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:15,name:"GND",x:41.33+RobotHat.routingOffset.x,y:19.68+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:16,name:"GND",x:43.86+RobotHat.routingOffset.x,y:19.68+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:17,name:"3V3",x:36.27+RobotHat.routingOffset.x,y:22.27+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:18,name:"3V3",x:38.8+RobotHat.routingOffset.x,y:22.27+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:19,name:"3V3",x:41.33+RobotHat.routingOffset.x,y:22.27+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:20,name:"3V3",x:43.86+RobotHat.routingOffset.x,y:22.27+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:21,name:"P0",x:36.27+RobotHat.routingOffset.x,y:24.86+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:22,name:"P1",x:38.8+RobotHat.routingOffset.x,y:24.86+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:23,name:"P2",x:41.33+RobotHat.routingOffset.x,y:24.86+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:24,name:"P3",x:43.86+RobotHat.routingOffset.x,y:24.86+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:25,name:"GND",x:36.27+RobotHat.routingOffset.x,y:28.85+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:26,name:"GND",x:38.8+RobotHat.routingOffset.x,y:28.85+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:27,name:"GND",x:41.33+RobotHat.routingOffset.x,y:28.85+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:28,name:"GND",x:43.86+RobotHat.routingOffset.x,y:28.85+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:29,name:"3V3",x:36.27+RobotHat.routingOffset.x,y:31.44+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:30,name:"3V3",x:38.8+RobotHat.routingOffset.x,y:31.44+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:31,name:"3V3",x:41.33+RobotHat.routingOffset.x,y:31.44+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:32,name:"3V3",x:43.86+RobotHat.routingOffset.x,y:31.44+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:33,name:"D0",x:36.27+RobotHat.routingOffset.x,y:34.03+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:34,name:"D1",x:38.8+RobotHat.routingOffset.x,y:34.03+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:35,name:"D2",x:41.33+RobotHat.routingOffset.x,y:34.03+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:36,name:"D3",x:43.86+RobotHat.routingOffset.x,y:34.03+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:37,name:"GND",x:36.27+RobotHat.routingOffset.x,y:39.53+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:38,name:"3V3",x:38.8+RobotHat.routingOffset.x,y:39.53+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:39,name:"SDA",x:41.33+RobotHat.routingOffset.x,y:39.53+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["SDA"],type:"com"},{id:40,name:"SCL",x:43.86+RobotHat.routingOffset.x,y:39.53+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["SCL"],type:"com"},{id:41,name:"GND",x:36.27+RobotHat.routingOffset.x,y:42.12+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:42,name:"3V3",x:38.8+RobotHat.routingOffset.x,y:42.12+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:43,name:"SDA",x:41.33+RobotHat.routingOffset.x,y:42.12+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["SDA"],type:"com"},{id:44,name:"SCL",x:43.86+RobotHat.routingOffset.x,y:42.12+RobotHat.routingOffset.y,width:RobotHat.pinWidth,height:RobotHat.pinHeight,isSource:!1,property:["SCL"],type:"com"}],RobotHat.init=function(){RobotHat.name=MSG.catRobothat,RobotHat.description=MSG.robothat_description};
goog.provide("Blockly.JavaScript.robothat"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.robothat_motor=function(o){return["set_motor_speed("+Blockly.Python.valueToCode(o,"motor",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n",Blockly.JavaScript.ORDER_ATOMIC]};
goog.provide("Blockly.Blocks.robotshield"),goog.provide("Blockly.Constants.RobotShield"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.RobotShield.RGB="#3F34D1",Blockly.Blocks.robotshield.RGB=Blockly.Constants.RobotShield.RGB,Blockly.Constants.RobotShield.SENSOR_PINS=[["Sensor 1",'"A4"'],["Sensor 2",'"A5"'],["Sensor 3",'"A6"'],["Sensor 4",'"A7"']],Blockly.Constants.RobotShield.SERVO_PINS=[["Servo 1",'"D0"'],["Servo 2",'"D1"'],["Servo 3",'"D2"'],["Servo 4",'"D3"'],["Servo 5",'"D6"'],["Servo 6",'"D7"'],["Servo 7",'"D8"'],["Servo 8",'"A9"'],["Servo 9",'"A10"'],["Servo 10",'"A11"'],["Servo 11",'"A12"'],["Servo 12",'"A13"']],Blockly.Blocks.robotshield_sensor_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotShield.SENSOR_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,["Analog_Pin","Digital_Pin"]),this.setColour(Blockly.Constants.RobotShield.RGB),this.setTooltip(Blockly.Msg.ROBOTSHIELD_SENSOR_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.robotshield_servo_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RobotShield.SERVO_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Servo_Pin"),this.setColour(Blockly.Constants.RobotShield.RGB),this.setTooltip(Blockly.Msg.ROBOTSHIELD_SERVO_PIN_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.robotshield"),goog.require("Blockly.Python"),Blockly.Python.robotshield_sensor_pin=function(o){var l="";return[l+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.robotshield_servo_pin=function(o){var l="";return[l+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]};
var RobotShield={id:"robotshield",kits:{},series:"leaf",nameEn:"RobotShield",type:"leaf",libPath:"./packages/robotshield/lib",libs:["robotshield==v0.2"],avalibleModules:[],width:87,height:58,pinWidth:8,pinHeight:8,examples:{},examplesHasKit:{},tutorials:{},tutorialsHasKit:{},VOLTAGE_LEVEL_THRESHOLD:1.5,pwmReference:4095,adcReference:4095,routingOffset:{x:.7,y:2.6}};RobotShield.pins=[{id:1,name:"GND",x:36.27+RobotShield.routingOffset.x,y:10.51+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:2,name:"GND",x:38.8+RobotShield.routingOffset.x,y:10.51+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:3,name:"GND",x:41.33+RobotShield.routingOffset.x,y:10.51+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:4,name:"GND",x:43.86+RobotShield.routingOffset.x,y:10.51+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:5,name:"5V",x:36.27+RobotShield.routingOffset.x,y:13.1+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:6,name:"5V",x:38.8+RobotShield.routingOffset.x,y:13.1+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:7,name:"5V",x:41.33+RobotShield.routingOffset.x,y:13.1+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:8,name:"5V",x:43.86+RobotShield.routingOffset.x,y:13.1+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:9,name:"P0",x:36.27+RobotShield.routingOffset.x,y:15.69+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:10,name:"P1",x:38.8+RobotShield.routingOffset.x,y:15.69+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:11,name:"P2",x:41.33+RobotShield.routingOffset.x,y:15.69+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:12,name:"P3",x:43.86+RobotShield.routingOffset.x,y:15.69+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:13,name:"GND",x:36.27+RobotShield.routingOffset.x,y:19.68+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:14,name:"GND",x:38.8+RobotShield.routingOffset.x,y:19.68+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:15,name:"GND",x:41.33+RobotShield.routingOffset.x,y:19.68+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:16,name:"GND",x:43.86+RobotShield.routingOffset.x,y:19.68+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:17,name:"3V3",x:36.27+RobotShield.routingOffset.x,y:22.27+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:18,name:"3V3",x:38.8+RobotShield.routingOffset.x,y:22.27+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:19,name:"3V3",x:41.33+RobotShield.routingOffset.x,y:22.27+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:20,name:"3V3",x:43.86+RobotShield.routingOffset.x,y:22.27+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:21,name:"P0",x:36.27+RobotShield.routingOffset.x,y:24.86+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:22,name:"P1",x:38.8+RobotShield.routingOffset.x,y:24.86+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:23,name:"P2",x:41.33+RobotShield.routingOffset.x,y:24.86+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:24,name:"P3",x:43.86+RobotShield.routingOffset.x,y:24.86+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:25,name:"GND",x:36.27+RobotShield.routingOffset.x,y:28.85+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:26,name:"GND",x:38.8+RobotShield.routingOffset.x,y:28.85+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:27,name:"GND",x:41.33+RobotShield.routingOffset.x,y:28.85+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:28,name:"GND",x:43.86+RobotShield.routingOffset.x,y:28.85+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:29,name:"3V3",x:36.27+RobotShield.routingOffset.x,y:31.44+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:30,name:"3V3",x:38.8+RobotShield.routingOffset.x,y:31.44+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:31,name:"3V3",x:41.33+RobotShield.routingOffset.x,y:31.44+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:32,name:"3V3",x:43.86+RobotShield.routingOffset.x,y:31.44+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:33,name:"D0",x:36.27+RobotShield.routingOffset.x,y:34.03+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:34,name:"D1",x:38.8+RobotShield.routingOffset.x,y:34.03+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:35,name:"D2",x:41.33+RobotShield.routingOffset.x,y:34.03+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:36,name:"D3",x:43.86+RobotShield.routingOffset.x,y:34.03+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["din"],type:"digital"},{id:37,name:"GND",x:36.27+RobotShield.routingOffset.x,y:39.53+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"grpund"},{id:38,name:"3V3",x:38.8+RobotShield.routingOffset.x,y:39.53+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:39,name:"SDA",x:41.33+RobotShield.routingOffset.x,y:39.53+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["SDA"],type:"com"},{id:40,name:"SCL",x:43.86+RobotShield.routingOffset.x,y:39.53+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["SCL"],type:"com"},{id:41,name:"GND",x:36.27+RobotShield.routingOffset.x,y:42.12+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:42,name:"3V3",x:38.8+RobotShield.routingOffset.x,y:42.12+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:43,name:"SDA",x:41.33+RobotShield.routingOffset.x,y:42.12+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["SDA"],type:"com"},{id:44,name:"SCL",x:43.86+RobotShield.routingOffset.x,y:42.12+RobotShield.routingOffset.y,width:RobotShield.pinWidth,height:RobotShield.pinHeight,isSource:!1,property:["SCL"],type:"com"}],RobotShield.init=function(){RobotShield.name=MSG.catRobotshield,RobotShield.description=MSG.robotshield_description};
"use strict";goog.provide("Blockly.JavaScript.switchbot"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.switchbot_s1_get_value=function(t){var o=Blockly.JavaScript.valueToCode(t,"mac",Blockly.JavaScript.ORDER_ATOMIC),i=t.getFieldValue("value");Blockly.JavaScript.definitions_.import_modules_switchbot="from switchbot import SwitchBot";var c="";return c+="SwitchBot("+o+").write("+i+")\n"};
goog.provide("Blockly.Blocks.switchbot"),goog.provide("Blockly.Constants.SwitchBot"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.SwitchBot.RGB="#58ce6a",Blockly.Blocks.switchbot.RGB=Blockly.Constants.SwitchBot.RGB,Blockly.Constants.SwitchBot.value=[["ON","'on'"],["OFF","'off'"]],Blockly.Blocks.switchbot_s1_get_value={init:function(){this.appendValueInput("mac").setCheck("String").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SWITCHBOT_S1_TITLE1),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SWITCHBOT_S1_TITLE2).appendField(new Blockly.FieldDropdown(Blockly.Constants.SwitchBot.value),"value"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.SwitchBot.RGB),this.setTooltip(Blockly.Msg.SWITCHBOT_S1_TOOLTIP),this.setHelpUrl("")}};
"use strict";goog.provide("Blockly.Python.switchbot"),goog.require("Blockly.Python"),Blockly.Python.switchbot_s1_get_value=function(o){var t=Blockly.Python.valueToCode(o,"mac",Blockly.Python.ORDER_ATOMIC),l=o.getFieldValue("value");Blockly.Python.definitions_.import_modules_switchbot="from switchbot import SwitchBot";var i="";return i+="SwitchBot("+t+").write("+l+")\n"};
"use strict";var SwitchBot={name:"SwitchBot",id:"switchbot",libPath:"./packages/switchbot/lib",modules:{"switchbot-s1":Modules["switchbot-s1"]}};
var SensorKit={name:"Sensor Kit",id:"sensorkit",simulator:{},modules:{"led-module":Modules["led-module"],"rgb-led":Modules["rgb-led"],button:Modules.button,"tilt-switch":Modules["tilt-switch"],"vibration-switch":Modules["vibration-switch"],buzzer:Modules.buzzer,joystick:Modules.joystick,potentiometer:Modules.potentiometer,"sound-sensor":Modules["sound-sensor"],photoresistor:Modules.photoresistor,"touch-switch":Modules["touch-switch"],ultrasonic:Modules.ultrasonic,ds18b20:Modules.ds18b20,servo:Modules.servo,"moisture-sensor":Modules["moisture-sensor"],adxl345:Modules.adxl345}};SensorKit.libs=Modules.libs,Object.defineProperty(SensorKit,"libPath",{get:function(){return Modules.libPath},set:function(o){}}),SensorKit.functions=["routing","play"],SensorKit.init=function(){SensorKit.name=MSG.catSensorkit,SensorKit.description=MSG.sensorkit_description,Blockly.Blocks.sensorkit={},Blockly.Blocks.sensorkit.RGB=Blockly.Blocks.modules.RGB};
goog.provide("Blockly.JavaScript.basic"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.basic_start=function(a){var l=Blockly.JavaScript.statementToCode(a,"statement");if(""!=l){var r=l.split("\n");for(i in r)r[i]=r[i].slice(2);l=r.join("\n")}var c="";return c+=l,Blockly.JavaScript.definitions_.basic_start=c,null},Blockly.JavaScript.basic_forever=function(a){var l="";return l+="function forever(){\n",l+=Blockly.JavaScript.statementToCode(a,"statement"),l+="}\n",l+="while(true){forever();delay(1)}"},Blockly.JavaScript.basic_print=function(a){var l="";return l+="print("+Blockly.JavaScript.valueToCode(a,"msg",Blockly.JavaScript.ORDER_ATOMIC)+");\n"},Blockly.JavaScript.basic_delay=function(a){var l="";return l+="delay(parseInt("+Blockly.JavaScript.valueToCode(a,"ms",Blockly.JavaScript.ORDER_ATOMIC)+"));\n"},Blockly.JavaScript.math_hex=function(a){var l="";return[l+="0x"+a.getFieldValue("NUM"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.math_mapping=function(a){var l=Blockly.JavaScript.valueToCode(a,"in_value",Blockly.JavaScript.ORDER_ATOMIC),r=Blockly.JavaScript.valueToCode(a,"in_min",Blockly.JavaScript.ORDER_ATOMIC),c=Blockly.JavaScript.valueToCode(a,"in_max",Blockly.JavaScript.ORDER_ATOMIC),e=Blockly.JavaScript.valueToCode(a,"out_min",Blockly.JavaScript.ORDER_ATOMIC),o=Blockly.JavaScript.valueToCode(a,"out_max",Blockly.JavaScript.ORDER_ATOMIC),t="";return[t+="mapping(".concat(l,", ").concat(r,", ").concat(c,", ").concat(e,", ").concat(o,")"),Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.colour_led_picker=function(a){var l="";return[l+='"'+a.getFieldValue("colour")+'"',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.colour_get_colour_from=function(a){var l=a.getFieldValue("rgb"),r=Blockly.JavaScript.valueToCode(a,"colour");Blockly.JavaScript.definitions_.define_get_colour_from="function __get_colour_from__(rgb, c){\n  if (rgb == 'red')\n    return parseInt(c.slice(1,3), 16)\n  else if (rgb == 'green')\n    return parseInt(c.slice(3,5), 16)\n  else if (rgb == 'blue')\n    return parseInt(c.slice(5,7), 16)\n}\n",void 0===r&&(r='"#000000"');var c="";return[c+="__get_colour_from__(".concat(l,", ").concat(r,")"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.procedures_defreturn=function(a){var l=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),r=Blockly.JavaScript.statementToCode(a,"STACK");if(Blockly.JavaScript.STATEMENT_PREFIX){var c=a.id.replace(/\$/g,"$$$$");r=Blockly.JavaScript.prefixLines(Blockly.JavaScript.STATEMENT_PREFIX.replace(/%1/g,"'"+c+"'"),Blockly.JavaScript.INDENT)+r}Blockly.JavaScript.INFINITE_LOOP_TRAP&&(r=Blockly.JavaScript.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+a.id+"'")+r),(c=Blockly.JavaScript.valueToCode(a,"RETURN",Blockly.JavaScript.ORDER_NONE)||"")&&(c=Blockly.JavaScript.INDENT+"return "+c+";\n");for(var e=[],o=0;o<a.arguments_.length;o++)e[o]=Blockly.JavaScript.variableDB_.getName(a.arguments_[o],Blockly.Variables.NAME_TYPE);return r=l+"=function ("+e.join(", ")+") {\n"+r+c+"}",r=Blockly.JavaScript.scrub_(a,r),Blockly.JavaScript.definitions_["%"+l]=r,null},Blockly.JavaScript.procedures_defnoreturn=Blockly.JavaScript.procedures_defreturn,Blockly.JavaScript.procedures_callreturn=function(a){for(var l=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),r=[],c=0;c<a.arguments_.length;c++)r[c]=Blockly.JavaScript.valueToCode(a,"ARG"+c,Blockly.JavaScript.ORDER_COMMA)||"null";return[l+"("+r.join(", ")+")",Blockly.JavaScript.ORDER_FUNCTION_CALL]},Blockly.JavaScript.procedures_callnoreturn=function(a){for(var l=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("NAME"),Blockly.Procedures.NAME_TYPE),r=[],c=0;c<a.arguments_.length;c++)r[c]=Blockly.JavaScript.valueToCode(a,"ARG"+c,Blockly.JavaScript.ORDER_COMMA)||"null";return l+"("+r.join(", ")+");\n"},Blockly.JavaScript.procedures_ifreturn=function(a){var l="if ("+(Blockly.JavaScript.valueToCode(a,"CONDITION",Blockly.JavaScript.ORDER_NONE)||"false")+") {\n";return a.hasReturnValue_?(a=Blockly.JavaScript.valueToCode(a,"VALUE",Blockly.JavaScript.ORDER_NONE)||"null",l+=Blockly.JavaScript.INDENT+"return "+a+";\n"):l+=Blockly.JavaScript.INDENT+"return;\n",l+"}\n"},Blockly.JavaScript.text_changeCase=function(a){var l={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[a.getFieldValue("CASE")],r=l?Blockly.JavaScript.ORDER_MEMBER:Blockly.JavaScript.ORDER_NONE,c=Blockly.JavaScript.valueToCode(a,"TEXT",r)||"''";if(l)var e=c+l;else e=Blockly.JavaScript.provideFunction_("textToTitleCase",["".concat(Blockly.JavaScript.FUNCTION_NAME_PLACEHOLDER_," = function(str) {"),'  var l = str.split(" ");',"  for (var i = 0; i<l.length; i++){",'    if (l[i] != "") {',"      l[i] = l[i][0].toUpperCase() + l[i].substring(1).toLowerCase();","    }","  }","  return l.join(' ')","}"])+"("+c+")";return[e,Blockly.JavaScript.ORDER_FUNCTION_CALL]};
goog.provide("Blockly.JavaScript.music"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.music_notes=function(_){var a=_.getFieldValue("note");Blockly.JavaScript.definitions_.define_music_beat="__MUSIC_BEAT__ = 500";var i="";return[i+=a,Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.music_beat=function(_){var a=_.getFieldValue("beat");Blockly.JavaScript.definitions_.define_music_beat="__MUSIC_BEAT__ = 500";var i="";return[i+=a+" * __MUSIC_BEAT__",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.music_set_tempo=function(_){var a=Blockly.JavaScript.valueToCode(_,"tempo",Blockly.JavaScript.ORDER_ATOMIC);Blockly.JavaScript.definitions_.define_music_beat="__MUSIC_BEAT__ = 500";var i="";return i+="__MUSIC_BEAT__ = 60 / "+a+" * 1000\n"};
goog.provide("Blockly.JavaScript.time"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.time_localtime=function(c){return["time.loacltime("+Blockly.JavaScript.valueToCode(c,"secs",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_mktime=function(c){return["time.mktime(tuple("+Blockly.JavaScript.valueToCode(c,"localtime",Blockly.JavaScript.ORDER_ATOMIC)+"))",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_sleep=function(c){return"time.sleep("+Blockly.JavaScript.valueToCode(c,"delay_secs",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.time_sleep_ms=function(c){return"time.sleep_ms("+Blockly.JavaScript.valueToCode(c,"delay_secs",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.time_sleep_us=function(c){return"time.sleep_us("+Blockly.JavaScript.valueToCode(c,"delay_secs",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.time_ticks_ms=function(c){return["time.ticks_ms()",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_ticks_us=function(c){return["time.ticks_us()",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_ticks_cpu=function(c){return["time.ticks_cpu()",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_ticks_add=function(c){return["time.ticks_add("+Blockly.JavaScript.valueToCode(c,"ticks",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(c,"delta",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_ticks_diff=function(c){return["time.ticks_diff("+Blockly.JavaScript.valueToCode(c,"ticks1",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(c,"ticks2",Blockly.JavaScript.ORDER_ATOMIC)+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.time_time=function(c){return["time.time()",Blockly.JavaScript.ORDER_ATOMIC]};
goog.provide("Blockly.JavaScript.remote"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.remote_start=function(_){var e="";return e+="def start_ble():\n",e+="  global __BLE_REMOTE_VALUE__\n",e+="  _ = __BLE_OBJECT__.read(60)\n",e+="  if _:\n",e+="    _ = _.decode('utf-8')\n",e+="    __DATA_TYPE__, _, __STATUS__ = __BLE_OBJECT__.verify(_)\n",e+="    if __STATUS__ and __DATA_TYPE__ == 'REMOTE':\n",e+='      _ = _.split("#")\n',e+="      __BUILDIN_DEVICE__ = _[0]\n",e+="      __BUILDIN_ID__ = _[1]\n",e+="      __BUILDIN_NAME__ = _[2]\n",e+="      __BUILDIN_VALUE__ = int(_[3])\n",e+="    __BLE_REMOTE_VALUE__[__BUILDIN_DEVICE__] = {__BUILDIN_ID__: {__BUILDIN_NAME__: __BUILDIN_VALUE__}}\n",e+=Blockly.JavaScript.statementToCode(_,"statement"),e+="start_ble()\n"},Blockly.JavaScript.remote_joystick_get_value=function(_){var e="";return[e+='__BLE_REMOTE_VALUE__.get("JOYSTICK", {}).get("'+_.getFieldValue("id")+'", {}).get("'+_.getFieldValue("coord")+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.remote_slider_get_value=function(_){var e="";return[e+='__BLE_REMOTE_VALUE__.get("SLIDER", {}).get("'+_.getFieldValue("id")+'", {}).get("VALUE", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.remote_dpad_get_value=function(_){var e="";return[e+='__BLE_REMOTE_VALUE__.get("DPAD", {}).get("'+_.getFieldValue("id")+'", {}).get("'+_.getFieldValue("direction")+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.remote_button_get_value=function(_){var e="";return[e+='__BLE_REMOTE_VALUE__.get("BUTTON", {}).get("'+_.getFieldValue("id")+'", {}).get("VALUE", 0)',Blockly.JavaScript.ORDER_ATOMIC]};
goog.provide("Blockly.JavaScript.iot"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.remote_start=function(t){Blockly.JavaScript.statementToCode(t,"statement");Blockly.JavaScript.definitions_.define_iot="__IOT_TOKEN__ = "+iot},Blockly.JavaScript.iot_actuators_post_value=function(t){var e="";return[e+='__IOT_TOKEN_VALUE__.get("ACTUATORS", {}).get("'+t.getFieldValue("id")+'", {}).set("'+t.getFieldValue("value")+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.iot_sensors_get_value=function(t){var e="";return[e+='__IOT_TOKEN_VALUE__.get("SENSORS", {}).get("'+t.getFieldValue("id")+'", {}).set("'+t.getFieldValue("value")+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.iot_button_get_value=function(t){var e="";return[e+='__IOT_TOKEN_VALUE__.get("BUTTON", {}).get("'+t.getFieldValue("id")+'", {}).get("'+t.getFieldValue("button")+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.iot_switch_get_value=function(t){var e=t.getFieldValue("id"),l=(t.getFieldValue("value"),"");return[l+='__IOT_TOKEN_VALUE__.get("SWITCH", {}).get("'+e+'", {}).get("'+button+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.iot_slider_get_value=function(t){var e="";return[e+='__IOT_TOKEN_VALUE__.get("SLIDER", {}).get("'+t.getFieldValue("id")+'", {}).get("'+t.getFieldValue("slider")+'", 0)',Blockly.JavaScript.ORDER_ATOMIC]};
var Routing={id:"routing",count:0,draggableId:"",left:"",top:"",inited:!1,stop:!1,isRunning:!1,exampleDropOption:{tolerance:"touch",hoverClass:"dropHover",activeClass:"dropActive"},loadcont:0,currentModule:{},deviceInitPostionX:"50%",deviceInitPostionY:"50%",deviceInitPostionId:"_0"};Routing.devicePostion={x:Routing.deviceInitPostionX,y:Routing.deviceInitPostionY,id:Routing.deviceInitPostionId},Routing.connect={},Routing.scope={type:{power:{color:"rgb(255,0,0)"},com:{color:"#fecb49"},pwm:{color:"#fecb49"},digital:{color:"#fecb49"},analog:{color:"#fecb49"},ground:{color:"#a22edc"},other:{color:"#000000"}}},Routing.menuConf={"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},Routing.createBlocks=function(){var t=window[Choice.current.device];BlockCode.kitsToolboxText="";var e=!1;if(Routing.blocks={},isEmptyObject(Routing.currentModule))return BlockCode.reflashToolbox(),!1;var n=[];for(key in Routing.currentModule){if("Modules"==key)var o=window.Modules;else o=window[key];var i='<category name="%{BKY_CAT'.concat(o.id.toUpperCase(),'}" colour="').concat(Blockly.Blocks[o.id].RGB,'">');for(k in Routing.blocks[key]="",Routing.currentModule[key]){if("Modules"==key)var r=o[k.split("#")[0]];else r=o.modules[k.split("#")[0]];var u=r.blocks;if(u)for(var a=0;a<u.length;a++){var c=Blockly.Xml.textToDom(u[a]);for(var g in r.pins){var d=r.pins[g],l=null;if(Routing.currentModule[key][k].pins[d.name]&&(l=Routing.currentModule[key][k].pins[d.name].targetPoint),-1<["digital","analog","pwm"].indexOf(d.type)&&null!=l){var s=document.createElement("value"),p=document.createElement("block"),R=document.createElement("field");s.setAttribute("name",d.name),p.setAttribute("type",t.id+"_"+d.type+"_pin"),R.setAttribute("name","pin"),R.innerHTML='"'.concat(l,'"'),p.appendChild(R),s.appendChild(p),c.appendChild(s)}}i+=Blockly.Xml.domToText(c),e=!0}}i+="</category>",e||(i=""),n.push(i)}BlockCode.kitsToolboxText=n.join(" "),BlockCode.reflashToolbox()},Routing.createConnectionTable=function(t,e){var n=window[Choice.current.device];if(t){var o=window[t];if(Routing.isRunning)$(".routingContent #cart #list").html(" ");else{if("Modules"==t)var r=o[e.split("#")[0]].sname;else r=o.modules[e.split("#")[0]].sname;var u='<table class="connectTable"><tr><th>'+r+"</th><th>"+n.name+"</th></tr>",a=!0;if(Routing.currentModule[t]&&Routing.currentModule[t][e]&&Routing.currentModule[t][e].pins)for(key in Routing.currentModule[t][e].pins)for(i in Routing.currentModule[t][e].pins[key])"sourceUuid"!=i&&"targetUuid"!=i&&(u+="<tr><td> "+key+"</td><td>"+Routing.currentModule[t][e].pins[key][i]+"</td></tr>"),a=!1;u+="</table>",a?($("#list").html(""),$("#list").hide()):($("#list").html(u),$("#list").show(),$("#list").draggable({containment:"#contain_routing"}))}}},Routing.connectionList=function(){jsPlumb.bind("connection",function(t){var e=t.source.dataset.kit,n=t.source.dataset.name+"#"+t.source.id,o=t.sourceEndpoint.name,i=t.targetEndpoint.name,r=t.sourceEndpoint.getUuid(),u=t.targetEndpoint.getUuid();Routing.currentModule[e][n].pins[o]={targetPoint:i,sourceUuid:r,targetUuid:u},Routing.createConnectionTable(e,n),Routing.isRunning&&Routing.stop()}),jsPlumb.bind("connectionDetached",function(o){setTimeout(function(){var t=o.source.dataset.kit,e=o.source.dataset.name+"#"+o.source.id,n=o.sourceEndpoint.name;o.targetEndpoint.name;Routing.currentModule[t]&&Routing.currentModule[t][e]&&Routing.currentModule[t][e].pins&&delete Routing.currentModule[t][e].pins[n],Routing.createConnectionTable(t,e),Routing.isRunning&&Routing.stop()},100)})},Routing.createEndpoint=function(t,e,n,o,i,r){return color=Routing.scope.type[n].color,img=Routing.scope.type[n].img,{isSource:t,isTarget:!t,scope:e=e.join(" "),endpoint:r,paintStyle:{fill:color},connectorStyle:{stroke:color,strokeWidth:3},connector:["Bezier",{curviness:63}],maxConnections:1,dropOptions:o,cssClass:i}},Routing.createModelFromUi=function(t){var e=$(t.helper[0]).attr("src"),n=($(t.helper[0]).attr("class").split("-")[0],$(t.helper[0]).attr("data-name")),o=$(t.helper[0]).attr("data-kit"),i=t.position.left,r=t.position.top,u=Routing.createModel(e,o,n,i,r);Routing.currentModule[o]||(Routing.currentModule[o]={}),Routing.currentModule[o][u]||(Routing.currentModule[o][u]={}),Routing.currentModule[o][u].x=i,Routing.currentModule[o][u].y=r,Routing.currentModule[o][u].src=e,Routing.currentModule[o][u].pins={}},Routing.garbage=function(){$(".r-garbage").droppable({drop:function(t,e){if($(e.helper.context).is($(".node"))){jsPlumb.removeAllEndpoints(Routing.draggableId),Routing.draggableKit=e.helper.context.dataset.kit;var n=Routing.draggableName+"#"+Routing.draggableId;e.draggable.remove(),setTimeout(function(){delete Routing.currentModule[Routing.draggableKit][n],isEmptyObject(Routing.currentModule[Routing.draggableKit])&&delete Routing.currentModule[Routing.draggableKit]},2)}},activate:function(t,e){},deactivate:function(){$(".trashcan-lid").css({transform:"rotate(0)","-webkit-transform":"rotate(0)"}),$(".trashcan-lid img").css("marginTop","0")}})},Routing.createModel=function(t,e,n,o,i){Routing.count++;var r=document.createElement("div"),u=document.createElement("img"),a=document.createElement("div"),c=document.createElement("span");r.setAttribute("class","node"),a.setAttribute("class","simulatorSlider"),c.setAttribute("id","amount"),r.setAttribute("data-name",n),r.setAttribute("data-kit",e),u.setAttribute("src",t),r.appendChild(u),r.appendChild(a),a.appendChild(c),$(".routingContent #cart .contain_routing").append(r),$(r).css({position:"absolute",left:o+"px",top:i+"px"}),jsPlumb.draggable(r,{containment:".routingContent #cart .ui-widget-content"});var g=r.getAttribute("id"),d=n+"#"+g;if($("#"+g).draggable({containment:$(".routingContent #cart .ui-widget-content"),drag:function(t,e){Routing.draggableId=e.helper.context.id,Routing.draggableKit=e.helper.context.dataset.kit,Routing.draggableName=e.helper.context.dataset.name;var n=Routing.draggableName+"#"+Routing.draggableId;Routing.createConnectionTable(Routing.draggableKit,n),350<e.position.top&&710<e.position.left&&($(".trashcan-lid").css({transform:"rotate(45deg)","-webkit-transform":"rotate(45deg)"}),$(".trashcan-lid img").css("marginTop","-20px"))},stop:function(t,e){Routing.draggableId=e.helper.context.id,Routing.draggableKit=e.helper.context.dataset.kit,Routing.draggableName=e.helper.context.dataset.name;var n=Routing.draggableName+"#"+Routing.draggableId;Routing.currentModule[Routing.draggableKit]||(Routing.currentModule[Routing.draggableKit]={}),Routing.currentModule[Routing.draggableKit][n]||(Routing.currentModule[Routing.draggableKit][n]={}),Routing.currentModule[Routing.draggableKit][n].x=e.position.left,Routing.currentModule[Routing.draggableKit][n].y=e.position.top}}),$("#"+g).click(function(t){var e=t.currentTarget.id,n=t.currentTarget.dataset.name,o=t.currentTarget.dataset.kit,i=n+"#"+e;Routing.createConnectionTable(o,i)}),e){var l=window[e];if("Modules"==e)var s=l[n].pins;else s=l.modules[n].pins;if(s)for(var p in s){o=s[p].x,i=s[p].y;var R=s[p].isSource,m=s[p].property,b=s[p].type,h=Routing.createEndpoint(R,m,b," ","dotEndpoint",["Dot",{radius:10}]),v=jsPlumb.addEndpoint(g,{anchor:[o,i],uuid:"source-"+g+"-"+p},h);v.canvas.id=v.id,$("#"+v.id).css("background-image",'url("./img/rectangle.png")'),$("#"+v.id).addClass("routingBlank"),s[p].jsPlumb=v.id,v.name=s[p].name;v.addOverlay(["Label",{label:v.name,zIndex:999,location:[o,i-1.5],id:g,cssClass:"kitOverlay"}])}}return d},Routing.stop=function(){Routing.isRunning=!1,Simulator.stop(),Simulator.disConnect(),$(".kitRun .kitstop").hide(),$(".kitRun .kitplay").show(),$(".routingDebug").hide(),$(".routingToggle").html("x"),$(".routingContent .r-garbage,.routingToggle").show(),$(".routingContent #products").show(),$(".node").draggable("enable"),jsPlumb.setDraggable($(".node"),!0),jsPlumb.setDraggable($(".electric_board"),!0),$("#list").show()},Routing.run=function(){$(".routingDebug").show(),$(".routingDebug").draggable({containment:$(".routingContent #cart .ui-widget-content")}),Routing.isRunning=!0,Simulator.run(),$(".kitRun .kitstop").show(),$(".kitRun .kitplay").hide(),$(".routingContent #cart #list").hide(),$(".routingContent .r-garbage,.routingToggle").hide(),$(".routingContent #products").hide(),$(".node").draggable("disable"),jsPlumb.setDraggable($(".node"),!1),jsPlumb.setDraggable($(".electric_board"),!1)},Routing.cloneEndpoint=function(){$(".routingContent #catalog").accordion(),$(".routingContent #catalog li img").draggable({helper:"clone",scope:"cart",containment:$(".routingContent #cart .ui-widget-content"),appendTo:$(".routingContent #cart .ui-widget-content"),opacity:1,zIndex:999,start:function(t,e){Routing.routingToggle()},drag:function(t,e){}}),$(".routingContent #cart .ui-widget-content").droppable({scope:"cart",drop:function(t,e){Routing.createModelFromUi(e)}})},Routing.addDevicePins=function(){var t=window[Choice.current.device],e=Routing.devicePostion.x,n=Routing.devicePostion.y,o=Routing.devicePostion.id;Routing.sizeHeight();var i="./packages/".concat(t.id,"/img/").concat(t.id,"_board.png"),r=document.createElement("img"),u=document.createElement("div");u.style.minWidth="333px",u.style.width="333px",u.style.minHeight="221px",u.style.height="221px";var a=u.style.width,c=u.style.height;parseInt(a),parseInt(c);u.setAttribute("class","electric_board"),u.setAttribute("id","electric_board"+o),r.setAttribute("src",i),u.appendChild(r),$(".routingContent #contain_routing").append(u),$(".electric_board").css({position:"absolute",left:e+"px",top:n+"px"});var g="electric_board"+o;jsPlumb.draggable(g,{containment:"#contain_routing",stop:function(t){Routing.devicePostion.x=t.finalPos[0],Routing.devicePostion.y=t.finalPos[1],Routing.devicePostion.id=t.finalPos[0]}});var d=t.pins;if(d)for(var l=0;l<d.length;l++){var s=d[l].x/t.width,p=d[l].y/t.height,R=(a=d[l].width,c=d[l].height,d[l].isSource),m=d[l].property,b=d[l].type,h=Routing.createEndpoint(R,m,b,Routing.exampleDropOption,"rectEndpoint",["Rectangle",{width:a,height:c}]);h.cssClass="undis endpoint"+l;var v=jsPlumb.addEndpoint("electric_board"+o,{anchor:[s,p],uuid:"target"+l},h);v.name=d[l].name,v.pinId=d[l].id;v.pinId.toLocaleString(),v.addOverlay(["Label",{label:v.name,location:[s,p-8],id:"electric_board"+o,cssClass:"opacityZero deviceOverlay deviceOverlay"+l}]);!function(t){$(".endpoint"+t).mouseover(function(){$(".deviceOverlay"+t).css({opacity:1}),$(".deviceOverlay"+t).css({display:"block"})}),$(".endpoint"+t).mouseout(function(){$(".deviceOverlay"+t).css({display:"none"})})}(l)}},Routing.renderKit=function(){if(window.localStorage.getItem("currentChoice"))var t=JSON.parse(window.localStorage.getItem("currentChoice"));else t=Choice.current;var e=t.kits,n=t.modules;window[t.device];if(0<e.length)for(var o=0;o<e.length;o++){var i=window[e[o]],r='<h2 class="ui-widget-header">'+i.name+'</h2><div class="kitContainer"><ul>',u=($(".ezblockContent").height(),i.modules);for(var a in u){var c=(u=i.modules[a]).sname,g=u.name,d=u.img,l=CORE_DIR+"packages/modules/img/"+d;u.actuatorBlocks,u.sensorBlocks;r+="<li><img src = "+l+" data-name = "+c+" data-kit = "+e[o]+" class = "+c+' onerror=""><h3>'+g+"</h3></li>"}r+="</ul></div>",$(".routingContent #catalog").append(r)}if(0<n.length){for(var s='<h2 class="ui-widget-header">Modules</h2><div class="kitContainer"><ul>',p=0;p<n.length;p++){var R=Modules[n[p]],m=R.name,b=R.sname,h=R.img;l=CORE_DIR+"packages/modules/img/"+h,m.toLocaleLowerCase().split(" ").join("-");s+="<li><img src = "+l+" data-name = "+b+' data-kit = "Modules"  class = '+b+' onerror=""><h3>'+m+"</h3></li>"}s+="</ul></div>",$(".routingContent #catalog").append(s)}Routing.sizeHeight(),$(".routingContent #products #catalog").accordion({collapsible:!0}),$(".routingContent #products #catalog").accordion("destroy").accordion({collapsible:!0})},Routing.sizeHeight=function(){var t=$(".ezblockContent").height();$(".routingContent").height(t),$(".routingContent #cart .contain_routing").height(t)},Routing.init=function(){Routing.isRunning=!1,Routing.sizeHeight(),Routing.running=!1,Routing.garbage()},Routing.changeDevice=function(){Routing.clear()},Routing.loadModel=function(){var t=[];for(index in Routing.currentModule){var e=Routing.currentModule[index];for(var n in e){var o=index+"~"+n;t.push(o)}}for(i in t){var r=t[i].split("~")[0],u=t[i].split("~")[1],a=Routing.currentModule[r][u].src,c=t[i].split("~")[1].split("#")[0],g=Routing.currentModule[r][u].x,d=Routing.currentModule[r][u].y,l=Routing.currentModule[r][u].pins;if(nameID=Routing.createModel(a,r,c,g,d),nameID!=u&&(Routing.currentModule[r][nameID]=Routing.currentModule[r][u],delete Routing.currentModule[r][u]),Routing.currentModule[r][nameID].pins)for(pin in Routing.currentModule[r][nameID].pins)(uuid=Routing.currentModule[r][nameID].pins[pin].sourceUuid)&&(uuid=Routing.currentModule[r][nameID].pins[pin].sourceUuid,Routing.currentModule[r][nameID].pins[pin].sourceUuid=uuid.split("-")[0]+"-"+nameID.split("#")[1]+"-"+uuid.split("-")[2]);for(k in l){var s=l[k].sourceUuid,p=l[k].targetUuid;jsPlumb.connect({uuids:[s,p]})}}},Routing.routingToggle=function(){"x"==$(".routingToggle").html()?$(".routingToggle").html("+"):$(".routingToggle").html("x"),"x"==$(".routingToggle").html()?$(".routingContent #products").show():$(".routingContent #products").hide()},Routing.clear=function(){Routing.devicePostion={x:Routing.deviceInitPostionX,y:Routing.deviceInitPostionY,id:Routing.deviceInitPostionId},$(".routingContent #cart .contain_routing").html(""),Routing.currentModule={},Routing.createBlocks(),$(".routingContent #products #catalog").html(""),$(".electric_board").remove(),$("#list").hide(),jsPlumb.reset(),Routing.inited=!1},Routing.reflash=function(){Routing.inited||(Routing.deviceCont=0,Routing.renderKit(),Routing.addDevicePins(),Routing.cloneEndpoint(),Routing.connectionList(),Routing.loadModel(),Routing.inited=!0)},Routing.load=function(t){Routing.clear(),Routing.devicePostion.x=t.device.x,Routing.devicePostion.y=t.device.y,Routing.devicePostion.id="_"+t.device.x,t.currentModules?Routing.currentModule=t.currentModules:Routing.currentModule={},Routing.createBlocks()},Routing.save=function(){return Routing.connect.device=Routing.devicePostion,Routing.connect.currentModules=Routing.currentModule,Routing.connect},Routing.show=function(){$(".dragheader2").show(),document.querySelector(".video-block").style.display="block",document.querySelector(".bug_print").style.display="block",document.querySelector(".bug_print").setAttribute("onclick",'Utils.debugModal("routingDebug")'),MakeOption.makeOptions(Routing.menuConf),MakeOption.show(Routing.menuConf),$(".routingContent").show(),$(".routingToggle").click(function(){Routing.routingToggle()}),Routing.reflash(),$(".pageBack,.kitRun").show(),$(".routingToggle").show(),$(".kitRun .kitplay").click(function(){Routing.run()}),Routing.stop(),$(".kitRun .kitstop").click(function(){Routing.stop()})},Routing.hide=function(){$(".dragheader2").hide(),document.querySelector(".video-block").style.display="none",document.querySelector(".bug_print").style.display="none",document.querySelector(".bug_print").removeAttribute("onclick"),MakeOption.hide(Routing.menuConf),$(".routingContent").hide(),$(".routingToggle").hide(),$(".routingToggle").unbind(),$(".pageBack,.kitRun").hide(),$(".kitstop,.kitplay").hide(),$(".routingDebug").hide(),$(".kitplay").unbind(),Routing.createBlocks(),Routing.stop()},Routing.debugClear=function(){$(".routingGetMessage").html("")},Routing.expand=function(){$(".routingGetMessage").toggle(),$(".toggleExpand img").toggle()};
function imgdragstart(){return!1}for(i in Controller={createNode:function(e,t){var n=document.createElement("div");return null!=e&&n.setAttribute("id","node-"+t+"-"+e),n},idAdder:function(e){var t=e.charCodeAt();return t+=1,String.fromCharCode(t)},Joystick:{}},Controller.Joystick.id="A",Controller.Joystick.idAdder=function(){Controller.Joystick.id=Controller.idAdder(Controller.Joystick.id)},Controller.Joystick.template="<div class='joystick common' data-name='joystick'><div class='circle_one'><div class='circle_two'></div></div></div>",Controller.Joystick.circleOne={},Controller.Joystick.circleOne.width=140,Controller.Joystick.circleOne.height=Controller.Joystick.circleOne.width,Controller.Joystick.circleOne.radius=Controller.Joystick.circleOne.width/2,Controller.Joystick.circleTwo={},Controller.Joystick.circleTwo.width=50,Controller.Joystick.circleTwo.height=Controller.Joystick.circleTwo.width,Controller.Joystick.circleTwo.radius=Controller.Joystick.circleTwo.width/2,Controller.Joystick.circleTwo.initLeft=Controller.Joystick.circleOne.radius-Controller.Joystick.circleTwo.radius,Controller.Joystick.circleTwo.initTop=Controller.Joystick.circleTwo.initLeft,Controller.Joystick.init=function(e){Controller.Joystick.element=Controller.createNode(e,"joystick"),Controller.Joystick.h3='<h3 class="joystick_title">'+MSG.controller_joystick_name+"</h3>",Controller.Joystick.name=MSG.controller_joystick_name,$(Controller.Joystick.element).append(Controller.Joystick.template),$(Controller.Joystick.element).append(Controller.Joystick.h3),$(Controller.Joystick.element).find(".circle_two").draggable({containment:"parent"}),$(Controller.Joystick.element).find(".circle_two").draggable("disable")},Controller.Joystick.setDragable=function(e){$(".contain_remote .remote-node .joystick").each(function(){if(e)scope="#contain_remote",$(this).parent().draggable({drag:function(e,t){},containment:scope,stop:function(e,t){var n=t.helper.context.id.split("node-joystick-")[1],o=t.helper.context.firstElementChild.dataset.name.toString();o+=n,Remote.currentControllers[o].x=t.position.left,Remote.currentControllers[o].y=t.position.top}}),$(this).parent().find(".circle_two").draggable("disable"),$(this).parent().draggable("enable");else{scope="#"+$(this).parent().attr("id")+" .circle_one",$(this).parent().draggable("disable"),$(this).parent().find(".circle_two").draggable("enable");$(this).parent().attr("id"),$(this).parent().attr("id");$(this).parent().find(".circle_two").draggable({drag:function(e,t){t.helper.context.parentElement.parentElement.dataset.name.toUpperCase();var n=t.helper.context.parentElement.parentElement.parentElement.id.split("node-joystick-")[1],c=Controller.Joystick.circleOne,o=Controller.Joystick.circleTwo;c.center=[c.radius,c.radius],o.center=[t.position.left+o.radius,t.position.top+o.radius];var s=c.radius-o.radius;var r=function(e){var t,n,o,r,l,i;if(t=e,n=c.center,o=t[0],r=t[1],l=n[0],i=n[1],Math.sqrt(Math.pow(o-l,2)+Math.pow(r-i,2))<=s)return e;deltaX=e[0]-c.center[0],deltaY=e[1]-c.center[1];var a=Math.atan2(deltaY,deltaX);return x=Math.cos(a)*s+c.radius,y=Math.sin(a)*s+c.radius,[x,y]}(o.center);t.position.left=r[0]-o.radius,t.position.top=r[1]-o.radius,xValue=Math.round((t.position.left+o.radius-c.radius)/s*100),yValue=Math.round(-(t.position.top+o.radius-c.radius)/s*100),Remote.bleValue="JS#".concat(n,"#V#").concat(xValue,"+").concat(yValue)},stop:function(e,t){t.helper.context.parentElement.parentElement.dataset.name.toUpperCase();var n=t.helper.context.parentElement.parentElement.parentElement.id.split("node-joystick-")[1],o=Controller.Joystick.circleOne,r=Controller.Joystick.circleTwo,l=o.radius-r.radius,i=Math.round((Controller.Joystick.circleTwo.initTop+r.radius-o.radius)/l*100),a=Math.round(-(Controller.Joystick.circleTwo.initLeft+r.radius-o.radius)/l*100);Remote.bleValue="JS#".concat(n,"#V#").concat(i,"+").concat(a),$(this).parent().find(".circle_two").css({top:Controller.Joystick.circleTwo.initTop+"px",left:Controller.Joystick.circleTwo.initLeft+"px"})}})}})},Controller.Slider={},Controller.Slider.id="A",Controller.Slider.idAdder=function(){Controller.Slider.id=Controller.idAdder(Controller.Slider.id)},Controller.Slider.template='<div class="slider common" data-name="slider"><div><span class="amount_title"></span><span class="amount"></span></div><div><div id="slider"></div></div></div>',Controller.Slider.init=function(o){Controller.Slider.element=Controller.createNode(o,"slider"),Controller.Slider.h3='<h3 class="slider_title">'+MSG.controller_slider_name+"</h3>",Controller.Slider.name=MSG.controller_slider_name,$(Controller.Slider.element).append(Controller.Slider.template),$(Controller.Slider.element).append(Controller.Slider.h3),$(Controller.Slider.element).find("#slider").slider({range:"min",value:0,disabled:!0,min:0,max:100,slide:function(e,t){var n=t.handle.parentElement.parentElement.parentElement.parentElement.id.split("node-slider-")[1];t.handle.parentElement.parentElement.parentElement.dataset.name.toUpperCase();$(".contain_remote #node-slider-"+o).find(".amount").html(t.value),Remote.bleValue="SL#".concat(n,"#V#").concat(t.value)}}),$(Controller.Slider.element).find(".amount").html($(Controller.Slider.element).find("#slider").slider("value"))},Controller.Slider.setDragable=function(e){$(".contain_remote .remote-node .slider").each(function(){e?(scope="#contain_remote",$(this).parent().draggable({drag:function(e,t){},containment:scope,stop:function(e,t){var n=t.helper.context.id.split("node-slider-")[1],o=t.helper.context.firstElementChild.dataset.name.toString();o+=n,Remote.currentControllers[o].x=t.position.left,Remote.currentControllers[o].y=t.position.top}}),$(this).parent().draggable("enable"),$(this).parent().find("#slider").slider({disabled:!0})):($(this).parent().draggable("disable"),$(this).parent().find("#slider").slider("enable"))})},Controller.Dpad={},Controller.Dpad.id="A",Controller.Dpad.idAdder=function(){Controller.Dpad.id=Controller.idAdder(Controller.Dpad.id)},Controller.Dpad.template='<div class="dpad  common" data-name="dpad"><div class="up"><img src="./img/unremote-top.png" alt="unRemoteTop" class="unRemoteTop"/><img src="./img/remote-top.png" alt="remoteTop"/ class="remoteTop"></div><div class="down"><img src="./img/unremote-top.png" alt="unRemoteDown" class="unRemoteDown"/><img src="./img/remote-top.png" alt="remoteDown" class="remoteDown"/></div><div class="left"><img src="./img/unremote-top.png" alt="unRemoteLeft" class="unRemoteLeft"/><img src="./img/remote-top.png" alt="remoteLeft" class="remoteLeft"/></div><div style="" class="right"><img src="./img/unremote-top.png" alt="unRemoteRight" class="unRemoteRight"/><img src="./img/remote-top.png" alt="remoteRight" class="remoteRight"/></div><div class="remote-center"></div></div>',Controller.Dpad.init=function(e){Controller.Dpad.element=Controller.createNode(e,"dpad"),Controller.Dpad.h3='<h3 class="dpad_title">'+MSG.controller_dpad_name+"</h3>",Controller.Dpad.name=MSG.controller_dpad_name,$(Controller.Dpad.element).append(Controller.Dpad.template),$(Controller.Dpad.element).append(Controller.Dpad.h3)},document.images)document.images[i].ondragstart=imgdragstart;Controller.Dpad.setDragable=function(n){$(".contain_remote .remote-node .dpad").each(function(){var i=$(this);if(n)$(this).off(),scope="#contain_remote",$(this).parent().draggable({drag:function(e,t){},containment:scope,stop:function(e,t){var n=t.helper.context.id.split("-")[2],o=t.helper.context.firstElementChild.dataset.name.toString();o+=n,Remote.currentControllers[o].x=t.position.left,Remote.currentControllers[o].y=t.position.top}}),$(this).parent().draggable("enable"),$(this).parent().find(".up,.down,.left,.right").unbind();else{var e=function(o){i.parent().find(o).mousedown(function(e){e.currentTarget.parentElement.dataset.name;var t=e.currentTarget.parentElement.parentElement.id.split("-")[2],n=o.split(".")[1].toUpperCase().slice(0,1);Remote.bleValue="DP#".concat(t,"#").concat(n,"#").concat(1),e.preventDefault(),i.children(o).children("img").toggle()}),i.parent().find(o).mouseup(function(e){e.currentTarget.parentElement.dataset.name;var t=e.currentTarget.parentElement.parentElement.id.split("-")[2],n=o.split(".")[1].toUpperCase().slice(0,1);Remote.bleValue="DP#".concat(t,"#").concat(n,"#").concat(0),e.preventDefault(),i.children(o).children("img").toggle()})},t=function(o,r,l){i.parent().find(o).on({touchstart:function(e){e.currentTarget.parentElement.dataset.name.toUpperCase();var t=e.currentTarget.parentElement.parentElement.id.split("-")[2],n=o.split(".")[1].toUpperCase().slice(0,1);e.preventDefault(),longClick=0,i.find(o).find(r).show(),i.find(o).find(l).hide();Remote.bleValue="DP#".concat(t,"#").concat(n,"#").concat(1),timeOutEvent=setTimeout(function(){longClick=1},100)},touchmove:function(e){e.preventDefault(),clearTimeout(timeOutEvent),timeOutEvent=0},touchend:function(e){e.currentTarget.parentElement.dataset.name.toUpperCase();var t=e.currentTarget.parentElement.parentElement.id.split("-")[2],n=o.split(".")[1].toUpperCase().slice(0,1);e.preventDefault(),clearTimeout(timeOutEvent),i.find(o).find(l).show(),i.find(o).find(r).hide();return Remote.bleValue="DP#".concat(t,"#").concat(n,"#").concat(0),0!=timeOutEvent&&longClick,!1}})};$(this).parent().draggable("disable"),e(".up"),e(".down"),e(".left"),e(".right"),t(".up",".remoteTop",".unRemoteTop"),t(".down",".remoteDown",".unRemoteDown"),t(".left",".remoteLeft",".unRemoteLeft"),t(".right",".remoteRight",".unRemoteRight")}})},Controller.Button={},Controller.Button.id="A",Controller.Button.idAdder=function(){Controller.Button.id=Controller.idAdder(Controller.Button.id)},Controller.Button.template='<div class="button common" data-name="button"><div class="btnTwo"></div></div>',Controller.Button.init=function(e){Controller.Button.element=Controller.createNode(e,"button"),Controller.Button.name=MSG.controller_btn_name,Controller.Button.h3='<h3 class="btn_title">'+MSG.controller_btn_name+"</h3>",$(Controller.Button.element).append(Controller.Button.template),$(Controller.Button.element).append(Controller.Button.h3)},Controller.Button.setDragable=function(e){$(".contain_remote .remote-node .button").each(function(){e?(scope="#contain_remote",$(this).off(),$(this).parent().draggable({containment:scope,stop:function(e,t){var n=t.helper.context.id.split("-")[2],o=t.helper.context.firstElementChild.dataset.name.toString();o+=n,Remote.currentControllers[o].x=t.position.left,Remote.currentControllers[o].y=t.position.top}}),$(this).parent().draggable("enable")):($(this).parent().draggable("disable"),$(this).mousedown(function(e){e.preventDefault();e.currentTarget.dataset.name.toUpperCase();var t=e.currentTarget.parentElement.id.split("-")[2];$(this).children(".btnTwo").addClass("remoteButtonActive"),Remote.bleValue="BT#".concat(t,"#V#").concat(1)}),$(this).mouseup(function(e){e.preventDefault();e.currentTarget.dataset.name.toUpperCase();var t=e.currentTarget.parentElement.id.split("-")[2];$(this).children(".btnTwo").removeClass("remoteButtonActive"),Remote.bleValue="BT#".concat(t,"#V#").concat(0)}),$(this).on({touchstart:function(e){e.preventDefault();var t=e.currentTarget.dataset.name.toUpperCase(),n=e.currentTarget.parentElement.id.split("-")[2],o=t+"#"+n+"#VALUE#1";return $(this).children(".btnTwo").addClass("remoteButtonActive"),Remote.bleValue="BT#".concat(n,"#V#").concat(1),o},touchmove:function(e){e.preventDefault()},touchend:function(e){e.currentTarget.dataset.name.toUpperCase();var t=e.currentTarget.parentElement.id.split("-")[2];e.preventDefault();return $(this).children(".btnTwo").removeClass("remoteButtonActive"),Remote.bleValue="BT#".concat(t,"#V#").concat(0),!1}}))})},Controller.Switch={},Controller.Switch.id="A",Controller.Switch.idAdder=function(){Controller.Switch.id=Controller.idAdder(Controller.Switch.id)},Controller.Switch.template='<div class="switch common" data-name="switch"><span class="switchBtn">OFF</span></div>',Controller.Switch.init=function(e){Controller.Switch.element=Controller.createNode(e,"switch"),Controller.Switch.h3='<h3 class="switch_title">'+MSG.controller_switch_name+"</h3>",Controller.Switch.name=MSG.controller_switch_name,$(Controller.Switch.element).append(Controller.Switch.template),$(Controller.Switch.element).append(Controller.Switch.h3)},Controller.Switch.setDragable=function(e){$(".contain_remote .remote-node .switch").each(function(){e?(scope="#contain_remote",$(this).off(),$(this).parent().draggable({drag:function(e,t){},containment:scope,stop:function(e,t){var n=t.helper.context.id.split("node-switch-")[1],o=t.helper.context.firstElementChild.dataset.name.toString();o+=n,Remote.currentControllers[o].x=t.position.left,Remote.currentControllers[o].y=t.position.top}}),$(this).parent().draggable("enable")):($(this).parent().draggable("disable"),$(this).mousedown(function(e){if(e.preventDefault(),$(this).find(".switchBtn").toggleClass("switchOn"),$(this).find(".switchBtn").hasClass("switchOn")){e.currentTarget.dataset.name.toUpperCase(),t=e.currentTarget.parentElement.id.split("node-switch-")[1],n=1;$(this).find(".switchBtn").html("ON"),Remote.bleValue="SW#".concat(t,"#V#").concat(n)}else{var t,n;e.currentTarget.dataset.name.toUpperCase(),t=e.currentTarget.parentElement.id.split("node-switch-")[1],n=0;$(this).find(".switchBtn").html("OFF"),Remote.bleValue="SW#".concat(t,"#V#").concat(n)}}),$(this).on({touchstart:function(e){if(e.preventDefault(),$(this).find(".switchBtn").toggleClass("switchOn"),$(this).find(".switchBtn").hasClass("switchOn")){e.currentTarget.dataset.name.toUpperCase(),t=e.currentTarget.parentElement.id.split("node-switch-")[1],n=1;$(this).find(".switchBtn").html("ON"),Remote.bleValue="SW#".concat(t,"#V#").concat(n)}else{var t,n;e.currentTarget.dataset.name.toUpperCase(),t=e.currentTarget.parentElement.id.split("node-switch-")[1],n=0;$(this).find(".switchBtn").html("OFF"),Remote.bleValue="SW#".concat(t,"#V#").concat(n)}},touchmove:function(e){e.preventDefault()},touchend:function(e){return!1}}))})};
Remote={render:!1,id:"remote",inited:!1,currentControllers:{},offsetLeft:"",offsetTop:""},Remote.controllers={joystick:Controller.Joystick,slider:Controller.Slider,dpad:Controller.Dpad,button:Controller.Button,switch:Controller.Switch},Remote.bleInterval="",Remote.bleDelay=100,Remote.bleValue="",Remote.isRunning=!1,Remote.clearCont="",Remote.blocks={},Remote.menuConf={"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},Remote.deleteController=function(e){var t=e.split("node-")[1].replace("-","");Remote.isRunning||($(".remoteContent #cart").append(Remote.clearCont),$(".kitClear").draggable({containment:".remoteContent #cart"}),$(".kitClear").draggable({containment:".remoteContent #cart"}),$(".kitYes").click(function(){$("#"+e).remove(),$(".kitClear").remove(),delete Remote.currentControllers[t]}),$(".kitNo").click(function(){$(".kitClear").remove()}))},Remote.createModelFromUi=function(e){var t=$(e.helper)[0].dataset.name,o=Controller[firstUpperCase(t)].id,n=e.position.left,r=e.position.top;Remote.createModel(t,o,n,r),Controller[firstUpperCase(t)].idAdder()},Remote.createModel=function(e,t,o,n){Remote.currentControllers[e+t.toString()]={},Remote.currentControllers[e+t.toString()].name=e,Remote.currentControllers[e+t.toString()].x=o,Remote.currentControllers[e+t.toString()].y=n,Remote.currentControllers[e+t.toString()].id=t;var r=Remote.controllers[e];r.init(t),r.element.setAttribute("class","remote-node"),$(".remoteContent #cart .contain_remote").append(r.element),$(".remote-node h3").remove(),r.setDragable(!0);var l="#node-"+e+"-"+t;$(l).css({left:o,top:n}),$(l).append("<div class='remote-names'>"+Remote.controllers[e].name+" "+t+"</div>"),$(l).dblclick(function(){t=$(this)[0].id,Remote.deleteController(t)}),$(l).on({touchstart:function(e){e.preventDefault(),longClick=0,timeOutEvent=setTimeout(function(){longClick=1,t=$(l)[0].id,Remote.deleteController(t)},500)},touchmove:function(e){e.preventDefault(),clearTimeout(timeOutEvent),timeOutEvent=0},touchend:function(e){return e.preventDefault(),clearTimeout(timeOutEvent),0!=timeOutEvent&&longClick,!1}})},Remote.changeDevice=function(){Remote.clear()},Remote.clear=function(){for(key in $(".remoteContent #cart .contain_remote").html(" "),Remote.controllers)Controller[firstUpperCase(key)].id="A";Remote.currentControllers={},Remote.createBlock()},Remote.sizeHeight=function(){var e=$(".ezblockContent").height();$(".remoteContent").height(e),$(".remoteContent #cart .contain_remote").height(e)},Remote.renderKit=function(){for(key in Remote.controllers){var e=document.createElement("li");e.setAttribute("data-name",key),e.setAttribute("id","li-"+key),"button"==key&&$("#li-"+key).css({padding:"20px 70px 5px 50px"}),Remote.controllers[key].init(),e.appendChild(Remote.controllers[key].element),$(".remoteContent ul").append(e)}},Remote.cloneNode=function(){for(key in $("#catalog").accordion(),Remote.controllers)$("#catalog li").find("."+key).draggable({helper:"clone",scope:"cart",appendTo:$("#contain_remote"),opacity:.5,stack:!1,containment:$("#contain_remote"),zIndex:999,start:function(){Remote.remoteToggle()},drag:function(e,t){},stop:function(){}});$("#cart .contain_remote").droppable({scope:"cart",drop:function(e,t){Remote.createModelFromUi(t)}})},Remote.init=function(){Remote.isRunning=!1,Remote.sizeHeight(),Remote.renderKit(),Remote.clearCont='<div class="kitClear"><div class="clearTitle">'+MSG.clearTitle+'</div><div class="clearRemoteButton clearfix"><button class="kitYes">'+MSG.kitYes+'</button><button class="kitNo">'+MSG.kitNo+"</button></div></div>"},Remote.run=function(){for(key in Remote.isRunning=!0,$(".kitRun .kitstop").show(),$(".kitRun .kitplay").hide(),Remote.controllers)Remote.controllers[key].setDragable(!1);Remote.bleInterval=setInterval(function(){WebBLE.remote.send(Remote.bleValue)},Remote.bleDelay),$(".debugPrompt").show(),$(".debugPrompt").draggable({containment:$(".remoteContent #cart .ui-widget-content")}),$(".remoteContent #products,.remoteToggle").hide()},Remote.stop=function(){for(key in Remote.isRunning=!1,$(".kitRun .kitstop").hide(),$(".kitRun .kitplay").show(),Remote.controllers)Remote.controllers[key].setDragable(!0);clearInterval(Remote.bleInterval),$(".debugPrompt").hide(),$(".remoteContent #products,.remoteToggle").show(),$(".remoteToggle").html("x")},Remote.reflash=function(){Remote.inited||(Remote.cloneNode(),Remote.inited=!0)},Remote.load=function(e){for(key in Remote.clear(),Remote.currentControllers=e)Controller[firstUpperCase(e[key].name)].id.charCodeAt()<=e[key].id.charCodeAt()&&(Controller[firstUpperCase(e[key].name)].id=e[key].id,Controller[firstUpperCase(e[key].name)].idAdder()),Remote.createModel(e[key].name,e[key].id,e[key].x,e[key].y);Remote.createBlock()},Remote.save=function(){return Remote.currentControllers},Remote.remoteToggle=function(){"x"==$(".remoteToggle").html()?$(".remoteToggle").html("+"):$(".remoteToggle").html("x"),"x"==$(".remoteToggle").html()?$(".remoteContent #products").show():$(".remoteContent #products").hide(),"x"==$(".remoteToggle").html()&&Remote.stop()},Remote.createBlock=function(){if(Remote.blocks={},BlockCode.remoteToolboxText="",isEmptyObject(Remote.currentControllers))return BlockCode.reflashToolbox(),!1;var e="<category name='%{BKY_CATREMOTE}' colour='#58ce6a'><block type='remote_read_from'></block>";for(key in Remote.currentControllers)Blockly.Constants.Remote[firstUpperCase(Remote.currentControllers[key].name)+"ID"]=[];for(key in Remote.currentControllers)Remote.blocks[Remote.currentControllers[key].name+"Block"]='<block type="remote_'+Remote.currentControllers[key].name+'_get_value"></block>',id=key.replace(Remote.currentControllers[key].name,""),Blockly.Constants.Remote[firstUpperCase(Remote.currentControllers[key].name)+"ID"].push([id,id]);for(key in Remote.blocks)e+=Remote.blocks[key];e+="</category>",BlockCode.remoteToolboxText=e,BlockCode.reflashToolbox()},Remote.show=function(){$(".dragheader2").show(),document.querySelector(".video-block").style.display="block",$(".remoteContent").show(),Remote.reflash(),$(".pageBack,.kitRun").show(),Remote.stop(),$(".kitRun .kitstop").click(function(){Remote.stop(),WebBLE.airPrintOff()}),$(".remoteToggle").show(),$(".remoteToggle").click(function(){Remote.remoteToggle()}),$(".kitRun .kitplay").click(function(){Remote.run(),WebBLE.airPrintOn()}),MakeOption.makeOptions(Remote.menuConf),MakeOption.show(Remote.menuConf),Tutorials.display_block&&EzBlock.sizeHeight()},Remote.hide=function(){$(".dragheader2").hide(),document.querySelector(".video-block").style.display="none",$(".remoteContent").hide(),$(".remoteButtons").hide(),$(".remoteToggle").hide(),$(".remoteToggle").unbind(),$(".pageBack,.kitRun").hide(),$(".kitstop,.kitplay").hide(),$(".kitplay").unbind(),Remote.stop(),Remote.createBlock(),WebBLE.airPrintOff(),MakeOption.hide(Remote.menuConf)};
var Video={id:"video",link:[{sequence:"First lesson",describe:"Demonstration text",link:"https://www.youtube.com/embed/-T0ylQ7CmUU"},{sequence:"second lesson",describe:"introduction of tools",link:"xxxxx"},{sequence:"First lesson",describe:"Demonstration text",link:"https://www.youtube.com/embed/-T0ylQ7CmUU"},{sequence:"second lesson",describe:"introduction of tools",link:"https://www.youtube.com/embed/-T0ylQ7CmUU"}],show:function(){$(".video-block").addClass("move"),$(document).on("click",function(e){var i=$(".video-block");target=e.target,0==i.has(e.target).length&&Video.hide()})},hide:function(){$(".video-block").removeClass("move")},init:function(){for(var e="",i=0;i<Video.link.length;i++)e+='<li onclick="Video.changeStyle('+i+')" data="'+Video.link[i].link+'">',e+='    <span class="text-round"><img src="./img/文字圆点-灰.png" alt=""></span>',e+='    <span class="sequence">'+Video.link[i].sequence+"</span>",e+='    <p class="describe">'+Video.link[i].describe+"</p>",e+="</li>";$(".video-list").append(e)},changeStyle:function(e){$(".video-list li").find("span").css({color:"rgb(178,178,178)"}),$(".video-list li").find("p").css({color:"rgb(153,153,153)"}),$(".video-list li").find("img").attr({src:"./img/文字圆点-灰.png"}),$(".video-list li").eq(e).find("span").css({color:"rgb(255, 202, 75)"}),$(".video-list li").eq(e).find("p").css({color:"rgb(255, 202, 75)"}),$(".video-list li").eq(e).find("img").attr({src:"./img/文字圆点-橙.png"}),console.log($(".video-list li").eq(e).attr("data"));var i=$(".video-list li").eq(e).attr("data"),o=i.lastIndexOf("/"),n=i.slice(o+1);console.log(n),$(".miniVideo").attr({src:Video.link[e].link})},load:function(){}};window.addEventListener("load",Video.load);
var AddPackage={id:"addPackage",packagesData:[],xmlDom:"",xmlCodeString:"",packagesListModal:function(){$("#created-packages").modal("show"),AddPackage.getPackagesName(),AddPackage.renderPackagesName()},getPackagesName:function(){AddPackage.packagesData=[];var e=Blockly.Xml.workspaceToDom(BlockCode.workspace),a=Blockly.Xml.domToText(e),t=new DOMParser;AddPackage.xmlDom=t.parseFromString(a,"text/xml"),x=AddPackage.xmlDom.documentElement.childNodes;for(var c=0;c<x.length;c++)if(-1!=x[c].getAttribute("type").indexOf("procedures_def")){var d=x[c].getElementsByTagName("field")[0].innerHTML,s=x[c].getAttribute("id");console.log(x[c].getElementsByTagName("field")[0].innerHTML),AddPackage.packagesData.push({name:d,id:s})}},renderPackagesName:function(){$(".created-packages-name-list").html("");for(var e=0;e<AddPackage.packagesData.length;e++)$(".created-packages-name-list").append('<li data-id="'.concat(AddPackage.packagesData[e].id,'" class="created-packages-name-items">').concat(AddPackage.packagesData[e].name,'<img class="select-img" src="../img/true.png"></li>'));AddPackage.packagesNameEvent()},selectPackages:function(){AddPackage.xmlCodeString="<xml>";for(var e=document.getElementsByClassName("selected-packages"),a=0;a<e.length;a++){var t=e[a].getAttribute("data-id"),c=AddPackage.xmlDom.getElementById(t);c.setAttribute("collapsed",!0),AddPackage.xmlCodeString+=Blockly.Xml.domToText(c)}AddPackage.xmlCodeString+="<xml>",console.log(AddPackage.xmlCodeString)},packagesNameEvent:function(){$(".created-packages-name-items").click(function(){$(this).hasClass("selected-packages")?($(this).removeClass("selected-packages"),$(this).find(".select-img").hide()):($(this).addClass("selected-packages"),$(this).find(".select-img").show())})}};
var SelectBoard={id:"selectBoard",recentDev:{},recentArray:[],cont:-1,menuConf:{"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},chooseKit:function(){for(var e="",t=window[Choice.current.device].avalibleKits,o=0;o<t.length;o++)e+='\n\t\t\t\t<li style="padding:5px;font-size:15px"  onclick="SelectBoard.selectNewKit(event)">\n\t\t\t\t\t'.concat(firstUpperCase(t[o]),"\n\t\t\t\t</li>\n\t\t\t");$(".add-kit-ul").html(e)},chooseModule:function(){for(var e="",t=window[Choice.current.device].avalibleModules,o=0;o<t.length;o++){var n=Modules[t[o]].name,d=Modules[t[o]].sname;e+='\n\t\t\t\t<li style="padding:5px;font-size:15px"  onclick="SelectBoard.selectNewModule(event)" data-ename='.concat(d,">\n\t\t\t\t\t").concat(n,"\n\t\t\t\t</li>\n\t\t\t")}$(".add-module-ul").html(e)},selectNewKit:function(e){var t=$(e.target).html();$(".add-kit-mode-ipt").val(t),$(".add-kit-image").html(t)},selectNewModule:function(e,t){var o=$(e.target).html().toLowerCase().replace(" ","-").trim();t=e.target.dataset.ename;$(".add-module-mode-ipt").val(o),$(".add-module-mode-ipt").attr("data-ename",t),$(".add-module-image img").attr("src","./packages/modules/img/".concat(t,".png"))},addKitSuccess:function(){window[Choice.current.device];var e=$(".add-kit-mode-ipt").val().replace(/\s*/g,"");e==MSG.kitName?($("#add-kit-mode").modal("hide"),$(".add-tip-mode-body").html(MSG.kitNameNotEmpty),$("#add-tip-mode").modal("show"),setTimeout(function(){$("#add-tip-mode").modal("hide")},1e3)):-1==Choice.current.kits.indexOf(e)?(Choice.current.kits.push(e),window.localStorage&&window.localStorage.setItem("currentChoice",JSON.stringify(Choice.current)),$("#add-kit-mode").modal("hide"),$(".add-tip-mode-body").html(MSG.addKitSuccess),$("#add-tip-mode").modal("show"),setTimeout(function(){$("#add-tip-mode").modal("hide")},1e3),setTimeout(function(){$("#add-tip-mode").modal("hide"),$(".add-kit-mode-ipt").val(MSG.kitName),$(".add-kit-image").html("")},1e3),Coding.reflashFunctionButton(),$(".routingContent #products #catalog").html(""),Routing.inited=!1):-1!=Choice.current.kits.indexOf(e)&&($(".add-tip-mode-body").html(MSG.addKitFailed),$("#add-tip-mode").modal("show"),setTimeout(function(){$("#add-tip-mode").modal("hide")},1e3))},addModuleSuccess:function(){window[Choice.current.device];var e=$(".add-module-mode-ipt").attr("data-ename");$(".add-module-mode-ipt").val()==MSG.moduleName?($("#add-module-mode").modal("hide"),$(".add-tip-mode-body").html(MSG.moduleNameNotEmoty),$("#add-tip-mode").modal("show"),setTimeout(function(){$("#add-tip-mode").modal("hide")},1e3)):-1==Choice.current.modules.indexOf(e)?(Choice.current.modules.push(e),window.localStorage&&window.localStorage.setItem("currentChoice",JSON.stringify(Choice.current)),$("#add-module-mode").modal("hide"),$(".add-tip-mode-body").html(MSG.addModuleSuccess),$("#add-tip-mode").modal("show"),setTimeout(function(){$("#add-tip-mode").modal("hide"),$(".add-module-mode-ipt").val(MSG.moduleName)},1e3),Coding.reflashFunctionButton(),$(".routingContent #products #catalog").html(""),$(".add-module-image img").attr("src",""),Routing.inited=!1):-1!=Choice.current.modules.indexOf(e)&&($(".add-tip-mode-body").html(MSG.addModuleFailed),$("#add-tip-mode").modal("show"),setTimeout(function(){$("#add-tip-mode").modal("hide")},1e3))},show:function(){document.querySelector(".selectBoardContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".dragheader2 .brand").style.display="block",document.querySelector(".video-block").style.display="block",document.querySelector(".select_return").style.display="block",MakeOption.makeOptions(SelectBoard.menuConf),MakeOption.show(SelectBoard.menuConf),Tutorials.display_block&&EzBlock.sizeHeight()},hide:function(){document.querySelector(".selectBoardContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".dragheader2 .brand").style.display="none",document.querySelector(".video-block").style.display="none",document.querySelector(".select_return").style.display="none",MakeOption.hide(SelectBoard.menuConf)},sizeHeight:function(){var e=$(".ezblockContent").height();$(".recentUsedUl").height(.76*e),$(".selectBoardLeft").height(.85*e),$(".selectBoardContent").height(e),$(".selectBoard").height(e)},loadDevice:function(){function e(e){categoryObj=distributor.Category[e];for(var t="",o=0;o<categoryObj.length;o++){var n=categoryObj[o],d=window[n],c=d.name;if(-1!=distributor.Category.Boards.indexOf(n))var a="./packages/".concat(d.id,"/img/").concat(d.id,".png");else a="./products/".concat(d.id,"/img/").concat(d.id,".png");t+="<li onclick=\"EzBlock.changeProduct('".concat(n,'\');">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<img src="').concat(a,'" class="SelectBoardImg" alt="').concat(c,'">\n\t\t\t\t\t\t<p>').concat(c,"</p>\n\t\t\t\t\t</div>\n\t\t\t\t</li>")}return'\t<div class="'.concat(e,'Series">\n\t\t\t\t<p class="selectTitle">').concat(MSG[e],'</p>\n\t\t\t\t<ul class="clearfix">\n\t\t\t\t\t').concat(t,"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t")}var t="";t+=e("Boards"),t+=e("Kits"),t+=e("Robots"),$(".selectBoardLeft").append(t)},clickCurrentDevice:function(e){window.localStorage&&(window.localStorage.setItem("currentCont",e),console.log(e)),Home.recentUsedDevice(e),EzBlock.renderPage("home");var t=Coding.menuConf.ShareConf,o=t.indexOf("Add kit"),n=t.indexOf("Add module");-1!=o&&t.splice(o,1),-1!=n&&t.splice(n,1),Coding.addKit=!1,Coding.addModule=!1},touchAndClick:function(){$(".resent").on({touchstart:function(e){e.preventDefault(),longClick=0,timeOutEvent=setTimeout(function(){longClick=1,$(e.currentTarget).siblings(".delete_board").show()},500)},touchmove:function(e){e.preventDefault(),clearTimeout(timeOutEvent),timeOutEvent=0},touchend:function(e){if(e.preventDefault(),clearTimeout(timeOutEvent),0!=timeOutEvent&&0==longClick){var t=e.currentTarget.id.split("-")[1];SelectBoard.clickCurrentDevice(t)}return!1}})},mouseRight:function(e,t){(e=window.event||e).preventDefault(),3==e.which&&$(".resent-"+t).find(".delete_board").show()},renderUsedCont:function(e,t){var o=window[e[t].device],n=e[t].platform,d="./img/series_".concat(o.series,"_small.png"),c="./packages/".concat(o.id,"/img/").concat(o.id,".png");return'\t<li class="resent-'.concat(t,'">\n\t\t\t\t<div class="resent" id=\'resent-').concat(t,"' onclick=\"SelectBoard.clickCurrentDevice(").concat(t,')" onmousedown="SelectBoard.mouseRight(event,').concat(t,')">\n\t\t\t\t\t<div class="recent_top">\n\t\t\t\t\t\t<img src="').concat(c,'" alt="').concat(o.nameEn,'">\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clearfix recent_bottom">\n\t\t\t\t\t\t<div class="recent_bottom_left">\n\t\t\t\t\t\t\t<img src="').concat(d,'" alt="').concat(o.nameEn,'" class="').concat(o.nameEn,'Img">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="recent_bottom_right">\n\t\t\t\t\t\t\t<img src="./img/').concat(n,'.png" alt="').concat(n.split("code")[0],'" style="width:50px;">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\t\n\t\t\t\t<img src="./img/删除.png" alt="删除" class="delete_board" onclick="SelectBoard.delete(\'.resent-').concat(t,"', ").concat(t,', event);" style="display:none;" >\n\t\t\t</li>\n\t\t')},update:function(){var e=JSON.parse(window.localStorage.getItem("recentDev"));for(key in e){if(!e[key].device){var t=window[e[key].split("-")[0]],o=e[key].split("-")[1],n=JSON.parse(e[key].split("-")[3]);n.jelly?n.sensorkit||(Choice.current.kits.sensorkit=SensorKit):Choice.current.kits.jelly=Jelly,Choice.current.device=t.nameEn,Choice.current.platform=o,EzBlock.changePlatform(o),SelectBoard.recentDev[key]=Choice.current,window.localStorage&&window.localStorage.setItem("recentDev",JSON.stringify(SelectBoard.recentDev))}for(var d=JSON.parse(window.localStorage.getItem("recentDev")),c=Object.keys(d).reverse(),a="",i=0;i<c.length;i++){var l=c[i];a+=SelectBoard.renderUsedCont(d,l)}}$(".recentUsedUl").html(a),SelectBoard.recentDev=e},sessionStorage:function(){window.localStorage.getItem("recentDev")&&(SelectBoard.update(),SelectBoard.touchAndClick())},recentUsedDevice:function(e){EzBlock.changePlatform(e),window.localStorage.getItem("cont")&&(SelectBoard.cont=parseInt(window.localStorage.getItem("cont"))),SelectBoard.cont+=1,SelectBoard.recentDev[SelectBoard.cont]=Choice.current,window.localStorage&&(window.localStorage.setItem("recentDev",JSON.stringify(SelectBoard.recentDev)),window.localStorage.setItem("cont",SelectBoard.cont),window.localStorage.setItem("currentCont",SelectBoard.cont)),SelectBoard.recentDev=JSON.parse(window.localStorage.getItem("recentDev")),SelectBoard.sessionStorage(),Home.recentUsedDevice(window.localStorage.getItem("currentCont")),EzBlock.renderPage("home")},delete:function(e,t,o){(o=window.event||o).stopPropagation(),o.preventDefault(),delete SelectBoard.recentDev[t],$(e).remove(),window.localStorage&&(window.localStorage.setItem("deleteCont",t),window.localStorage.setItem("recentDev",JSON.stringify(SelectBoard.recentDev)))},return:function(){Coding.returnIndex()},addKit:function(){$(".routingContent #cart .contain_routing").html(""),$("#add-kit-mode").modal("show"),SelectBoard.chooseKit()},addModule:function(){$(".routingContent #cart .contain_routing").html(""),$("#add-module-mode").modal("show"),SelectBoard.chooseModule()},next:function(){$("#choose-kit-mode").modal("hide"),$("#choose-mode").modal("show")},clear:function(){window.localStorage&&window.localStorage.removeItem("currentChoice"),$(".add-next-btn").hide(),$(".choose-kit-mode-cont").html("")},init:function(){$(".add-kit-mode-ipt").val(MSG.kitName),$(".add-module-mode-ipt").val(MSG.moduleName),SelectBoard.loadDevice(),SelectBoard.sessionStorage()}};
var Register={id:"register",condition:{accessToken:"123",email:"",name:"",password:"",verifyCode:"",allowUpload:"",distributor:"",userInfo:{name:"",email:"",password:"",allowUpload:""}},usertoken:""};$(function(){$(".login-label").click(function(){$("#register").modal("hide"),$("#login").modal("show"),$("#login .userName").val(""),$("#login .password").val("")}),$(".close-this").click(function(){return""==$("#register_username").val()||""==$("#register_password").val()?($(".register_errorMsg").html(MSG.emailUsernamePwdNotNull),$(".register_errorMsg").show(),setTimeout(function(){$(".register_errorMsg").hide()},1200),!1):(Register.condition.name=$("#register_username").val(),Register.condition.userInfo.name=$("#register_username").val(),$("#register_password").val()!=$("#register_repassword").val()?($(".register_errorMsg").html(MSG.pwdNotSame),$(".register_errorMsg").show(),setTimeout(function(){$(".register_errorMsg").hide()},1200),!1):(Register.condition.password=$("#register_password").val(),Register.condition.userInfo.password=$("#register_password").val(),$("#register").modal("hide"),void $("#email").modal("show")))}),$("#email .private").bind("click",function(){var e=$("#email .private").is(":checked");console.log(e)}),$(".close-abvoe").click(function(){var i=$("#email_address").val();if(Register.checkEmailOrName(i)){var e="users/isemail",r={accessToken:"123",email:i};API.get(e,r).then(function(e){if(console.log(e),"该邮箱已注册"==e.errorMsg)$(".email_errorMsg").html(MSG.emailRegistered),$(".email_errorMsg").show(),setTimeout(function(){$(".email_errorMsg").hide()},1200);else if($("#email .private").is(":checked")){if(Register.condition.email=i,Register.condition.userInfo.email=i,window.sessionStorage)window.sessionStorage.setItem("email",i);Register.verifyEmail(Register.condition.email)}else $(".email_errorMsg").html(MSG.privatePolicy),$(".email_errorMsg").show(),setTimeout(function(){$(".email_errorMsg").hide()},1200)});var o=API.get(e,r);console.log(o)}else if(!Register.checkEmailOrName(i))return $(".email_errorMsg").html(MSG.emailFormat),$(".email_errorMsg").show(),setTimeout(function(){$(".email_errorMsg").hide()},1200),!1}),$(".Verification-back").click(function(){$("#Verification").modal("hide"),$("#email").modal("show"),$("#Verification #verifyCode").val("")}),$("#ensure_register").click(function(){Register.condition.verifyCode=$("#verifyCode").val(),Register.condition.allowUpload=$("#email .allowUpload").is(":checked"),Register.condition.userInfo.allowUpload=$("#email .allowUpload").is(":checked"),Register.signUp()}),$(".register-label").click(function(){$("#login").modal("hide"),$("#register").modal("show"),$("#register #register_username").val(""),$("#register #register_password").val(""),$("#register #register_repassword").val(""),$("#email_address").val(""),$("#Verification #verifyCode").val("")}),$(".findPwd-label").click(function(){""==$("#login .userName").val()?($(".login_errMsg").html(MSG.userNameEmailAddress),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):($("#login").modal("hide"),$("#findPwd").modal("show"),$("#login .userName").val(""),$("#login .password").val(""))}),$(".findPwdBack").click(function(){$("#findPwd").modal("hide"),$("#login").modal("show"),$("#find_password").val(""),$("#findPwdCode").val("")}),$(".setPwdBack").click(function(){$("#setPwd").modal("hide"),$("#findPwd").modal("show"),$("#set_password").val(""),$("#set_repassword").val("")}),$("#findPwdCode").click(function(){$(this).attr("placeholder","")}),$("#findPwdCode").blur(function(){$(this).attr("placeholder",MSG.verificatioCode)}),$("#Verification #verifyCode").click(function(){$(this).attr("placeholder","")}),$("#Verification #verifyCode").blur(function(){$(this).attr("placeholder",MSG.verificatioCode)}),$(".login-in").click(Register.login),$(".dragheader2 .parent_login .login").click(function(){Register.isLogin()}),$(".homeContent_sliderMenu_login").click(function(){Register.isLogin()})}),Register.isLogin=function(){if(window.sessionStorage){var e=window.sessionStorage.getItem("usertoken");""!=e&&null!=e?(EzBlock.userToken=e,EzBlock.renderPage("pInformation")):$("#login").modal("show")}},Register.privateConfirm=function(){$("#privateTerms .checkBox").is(":checked")?($("#privateTerms").modal("hide"),$("#emial").modal("show"),$("#email .private").attr("checked",!0)):($(".private_error").show(),$(".private_error").html(MSG.privatePolicy),setTimeout(function(){$(".private_error").hide()},1200))},Register.automaticLogin=function(){var e={accessToken:"123",password:$("#register_password").val()};e.email=$("#email_address").val(),e.name=$("#register_username").val(),API.get("users/login",e).then(function(e){if(console.log(e),$(".changePwd .e_oldpwd input").val(""),$(".changePwd .e_newpwd input").val(""),$(".changePwd .e_test input").val(""),Utils.messageModal(MSG.loginSuccessfully),$(".cancelUser").show(),$(".leave_out").show(),$(".personContentRight .save_msg").css("text-align","right"),e.userInfo.password=$("#register_password").val(),Register.password=$("#register_password").val(),Register.username=$("#register_username").val(),window.sessionStorage){EzBlock.userToken=e.userToken,window.sessionStorage.setItem("usertoken",e.userToken);window.sessionStorage.setItem("username",Register.username)}PInformation.getUserInfo(),PInformation.enterPersonMessage()})},Register.login=function(){var e={accessToken:"123",password:$("#login_password").val()};""==$("#login .userName").val()||""==$("#login_password").val()?($(".login_errMsg").html(MSG.emailUsernamePwdNotNull),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200)):(Register.checkEmailOrName($("#login .userName").val())?e.email=$("#login .userName").val():Register.checkEmailOrName($("#login .userName").val())||(e.name=$("#login .userName").val()),API.get("users/login",e).then(function(e){if("用户不存在"==e.errorMsg)$(".login_errMsg").html(MSG.userNotExist),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200);else if("邮箱不存在"==e.errorMsg)$(".login_errMsg").html(MSG.emailNotExist),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200);else if("密码错误"==e.errorMsg)$(".login_errMsg").html(MSG.loginPwdError),$(".login_errMsg").show(),setTimeout(function(){$(".login_errMsg").hide()},1200);else{if(console.log(e),$("#login").modal("hide"),$(".changePwd .e_oldpwd input").val(""),$(".changePwd .e_newpwd input").val(""),$(".changePwd .e_test input").val(""),Utils.messageModal(MSG.loginSuccessfully),$(".cancelUser").show(),$(".leave_out").show(),$(".personContentRight .save_msg").css("text-align","right"),e.userInfo.password=$("#login_password").val(),Register.password=$("#login_password").val(),Register.username=$("#login .userName").val(),window.sessionStorage){EzBlock.userToken=e.userToken,window.sessionStorage.setItem("usertoken",e.userToken);window.sessionStorage.setItem("username",Register.username)}PInformation.getUserInfo(),setTimeout(function(){PInformation.enterPersonMessage()})}}))},Register.getIdentiCode=function(){var r=$("#find_password").val();$("#findPwdCode").val();if(r.length<1)$(".findPwd_errorMsg").html(MSG.enterEmail),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200);else if(Register.checkEmailOrName(r)){var e={accessToken:"123",email:r};API.get("users/isemail",e).then(function(e){if(console.log(e),"该邮箱未注册"==e.errorMsg)$(".findPwd_errorMsg").html(MSG.emailUnRegistered),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200);else{var i={accessToken:"123",email:r};API.get("users/email",i).then(function(e){console.log(e),1==e.status&&($(".findPwd_errorMsg").html(MSG.verificatioCodeSent),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200))})}})}else $(".findPwd_errorMsg").html(MSG.emailFormat),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)},Register.findPwd=function(){var e=$("#findPwdCode").val(),i=$("#set_password").val(),r=$("#set_repassword").val(),o=window.sessionStorage.getItem("pwdEmail");if(""==e)$(".findPwd_errorMsg").html(MSG.verificationCodeNotNull),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200);else if(""==i||""==r)$(".findPwd_errorMsg").html(MSG.pwdNotNull),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200);else if(i!=r)$(".findPwd_errorMsg").html(MSG.pwdNotSame),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200);else{var s={accessToken:123,email:o,verifyCode:e,newPassword:r};API.get("users/upuserpaw",s).then(function(e){console.log(e),"验证码错误"==e.errorMsg?($(".findPwd_errorMsg").html(MSG.verificationCodeError),$(".findPwd_errorMsg").show(),setTimeout(function(){$(".findPwd_errorMsg").hide()},1200)):1==e.status&&($(".findPwd_errorMsg").html(MSG.pwdChangedSuccessfully),$(".findPwd_errorMsg").show(),Register.condition.userInfo.password=r,setTimeout(function(){$(".findPwd_errorMsg").hide()},1200),setTimeout(function(){$("#findPwd").modal("hide"),$("#login").modal("show"),$("#login .userName").val(""),$("#login .password").val(""),$("#find_password").val(""),$("#findPwdCode").val(""),$("#set_password").val(""),$("#set_repassword").val("")},1200))})}},Register.checkEmailOrName=function(e){return!!/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/.test(e)},Register.signUp=function(){console.log(Register.condition),$("#verShadow").show(),API.get("users/info",Register.condition).then(function(e){console.log(e),"验证码错误"==e.errorMsg?($(".v_error").html(MSG.verificationCodeError),$(".v_error").show(),$("#verShadow").hide(),setTimeout(function(){$(".v_error").hide()},1200)):e.status&&($("#verShadow").hide(),$("#Verification").modal("hide"),Register.automaticLogin(),$("#email .private").attr("checked",!1),$("#email .allowUpload").attr("checked",!1),$("#email_address").val(""))})},Register.verifyEmail=function(e){var i={accessToken:"123",email:e};$("#emailShadow").show(),API.get("users/email",i).then(function(e){console.log(e),1==e.status?($(".email_errorMsg").html(MSG.verificatioCodeSent),$(".email_errorMsg").show(),$("#emailShadow").hide(),setTimeout(function(){$(".email_errorMsg").hide()},1200),setTimeout(function(){$("#Verification").modal("show"),$("#email").modal("hide"),e.userInfo={name:Register.condition.name,email:Register.condition.email,allowUpload:Register.condition.allowUpload}},1200)):($(".email_errorMsg").html(MSG.verificatioCodeSent),$(".email_errorMsg").show(),$("#emailShadow").hide())})},Register.init=function(){var e=-$(".register-width").width()/2+"px",i=-$(".register-width").height()/2+"px";$(".register-width").css("margin","".concat(i," 0 0 ").concat(e))};
var ProjectList=function(e){this.name="",this.list={},this.id=e,this.localList="",this.tutorialsList="",this.tab="",this.project={name:"",dateTime:"",device:"",platform:"",code:"",readOnly:!1},this.menuConf={"Sign in":[],ShareConf:["New Project","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials"]}};ProjectList.prototype.show=function(){document.querySelector(".myProjectContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".goBack").style.display="block",document.querySelector(".video-block").style.display="block",EzBlock.page.init(),EzBlock.page.renderProject(),setTimeout(function(){EzBlock.page.event(".myProject-main-item"),EzBlock.page.deleteProject(),EzBlock.page.cancelDelete()},1),MakeOption.makeOptions(this.menuConf),MakeOption.show(this.menuConf)},ProjectList.prototype.openProjectName=function(){var e=window.localStorage.getItem("deleteCont"),t=window.localStorage.getItem("currentCont");t?t==e?(Home.clearDevice(),Utils.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2e3)):($("#projectName").modal("show"),Home.recentUsedDevice(t)):(Home.clearDevice(),Utils.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2e3))},ProjectList.prototype.hide=function(){document.querySelector(".myProjectContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".goBack").style.display="none",document.querySelector(".video-block").style.display="none",MakeOption.hide(this.menuConf)},ProjectList.prototype.sizeHeight=function(){var e=$(".ezblockContent").height();$(".myProjectContent").height(e-120)},ProjectList.prototype.init=function(){var t=this;this.sizeHeight(),this.addCate(),document.querySelector(".product").style.display="none",$(".draw").click(function(){$(".myProject-main-list").show(),$(".myProject-main-table").hide()}),$(".tableList").click(function(){$(".myProject-main-list").hide(),$(".myProject-main-table").show()}),$(".saveAsBtn").click(function(){""!=$(".saveAsNameInput").val()?($("#saveAsProjectName").modal("hide"),t.name=$(".saveAsNameInput").val(),t.save()):alert("请输入项目名字")}),$(".project_title").focus(function(){$(".project_title").css({background:"white"}),$(".project_title_save").show()}),$(".project_title").blur(function(){setTimeout(function(){$(".project_title").css({background:"rgb(255,202,75)"}),MyProject.revealProjectName(),$(".project_title_save").hide()},500)}),$(".project_title_save").click(function(){console.log("wodianjile"),MyProject.name=$(".project_title").val(),MyProject.revealProjectName()}),$(".searchFileInput").keydown(function(e){13==e.keyCode&&t.renderProject($(this).val())})},ProjectList.prototype.loadProject=function(e){},ProjectList.prototype.unRender=function(){$(".myProject-main").html("")},ProjectList.prototype.unbindEvent=function(){},ProjectList.prototype.event=function(e){var o=this;$(e).off();var r,c=0;$(e).on({touchstart:function(e){var t=this;c=0,e.preventDefault(),$(t).addClass("myProject-main-item-scale"),timeOutEvent=setTimeout(function(){o.project.readOnly||($(t).find(".myProject-close").show(),c=1,o.deleteProject(),o.cancelDelete())},500)},touchMove:function(e){clearTimeout(timeOutEvent),timeOutEvent=0,e.preventDefault()},touchend:function(e){return clearTimeout(timeOutEvent),0!=timeOutEvent&&0==c&&(o.loadProject(this),$("body").off()),!1}}),$(e).on({mousedown:function(e){var t=this;c=0,e.preventDefault(),$(t).addClass("myProject-main-item-scale"),r=setTimeout(function(){$(t).find(".myProject-close").show(),c=1,o.deleteProject(),o.cancelDelete()},500)},mouseup:function(e){return clearTimeout(r),0!=r&&0==c&&(o.loadProject(this),$("body").off()),!1}})},ProjectList.prototype.deleteProject=function(e){var c=this;$(".myProject-close").off(),$(".myProject-close").on({touchstart:function(e){},touchMove:function(e){e.preventDefault()},touchend:function(e){if(e.preventDefault(),!c.project.readOnly){var t=$(this).attr("data-id"),o=$(this).parent().attr("isLocal");if(console.log(o),"true"==o){var r=JSON.parse(localStorage.projectList);delete r[t],window.localStorage.setItem("projectList",JSON.stringify(r))}else c.deleteProjectMethod(t);c.renderProject(),c.event(".myProject-main-item")}return!1}}),$(".myProject-close").on({mousedown:function(e){},mousemove:function(e){e.preventDefault()},mouseup:function(e){if(e.preventDefault(),!c.project.readOnly){var t=$(this).attr("data-id"),o=JSON.parse(localStorage.projectList);delete o[t],window.localStorage.setItem("projectList",JSON.stringify(o)),c.deleteProjectMethod(t),c.renderProject(),c.event(".myProject-main-item")}return!1}})},ProjectList.prototype.cancelDelete=function(){var t,o=this;$("body").on({touchstart:function(e){e.stopPropagation()},touchMove:function(e){clearTimeout(t),e.preventDefault(),e.stopPropagation()},touchend:function(e){return e.stopPropagation(),$(".myProject-close").hide(),o.deleteProject(),$("body").off(),!1}}),$("body").on({mousedown:function(e){e.stopPropagation()},mousemove:function(e){e.preventDefault(),e.stopPropagation()},mouseup:function(e){return e.stopPropagation(),$(".myProject-close").hide(),o.deleteProject(),$("body").off(),!1}})},ProjectList.prototype.getCurrentProject=function(){return this.project.name=this.name,this.project.datetime=(new Date).getTime(),this.project.device=Choice.current.device,this.project.platform=Choice.current.platform,this.project.libs=Choice.current.libs,this.project.code=Coding.save(),this.project.route=Routing.save(),this.project.remote=Remote.save(),this.project.iot=InternetOfThings.save(),this.project.kits="",this.project},ProjectList.prototype.save=function(){if(""!=this.name){var e,t=this.getCurrentProject();if(window.localStorage.getItem("projectList"))(e=JSON.parse(window.localStorage.getItem("projectList")))[this.project.name]=t,window.localStorage.setItem("projectList",JSON.stringify(e));else(e={})[this.project.name]=t,window.localStorage.setItem("projectList",JSON.stringify(e));window.navigator.onLine&&API.get("projects/info",{accessToken:"123",userToken:EzBlock.userToken,name:this.project.name,project:t}).then(function(e){console.log(e)}),this.renderProject(),Utils.messageModal(MSG.saveSuccessfully)}else Utils.messageModal(MSG.newProject)},ProjectList.prototype.renderProject=function(e){},ProjectList.prototype.renderNetProject=function(){},ProjectList.prototype.renderLocalProject=function(){},ProjectList.prototype.getProject=function(e){},ProjectList.prototype.getLocalProject=function(){},ProjectList.prototype.addCate=function(){},ProjectList.prototype.renderTutorialsProject=function(){},ProjectList.prototype.newProject=function(){"myProject"!=EzBlock.page.id?($("#newProjectWindow").modal("show"),Routing.connect={},$(".remindBtn").click(function(){"false"==$(this).attr("data-id")?(console.log("not save"),$("#newProjectWindow").modal("hide"),MyProject.openProjectName(),Coding.clear(),Routing.clear(),Remote.clear(),InternetOfThings.clear()):"true"==$(this).attr("data-id")&&($("#newProjectWindow").modal("hide"),MyProject.save(),setTimeout(function(){MyProject.openProjectName(),Coding.clear(),Routing.clear(),Remote.clear(),InternetOfThings.clear()},500))})):MyProject.openProjectName()},ProjectList.prototype.revealProjectName=function(){$(".project_title").val(this.name)},ProjectList.prototype.setHeader=function(){$(".dragheader2 .col-xs-6").css({width:"33%"})},ProjectList.prototype.resetHeader=function(){$(".dragheader2 .col-xs-6").css({width:"50%"})},ProjectList.prototype.newProjectMethod=function(){console.log("123123"),this.openProjectName()},ProjectList.prototype.searchProject=function(e){},ProjectList.prototype.load=function(e){};
function asyncGeneratorStep(e,t,o,n,r,i,c){try{var a=e[i](c),s=a.value}catch(e){return void o(e)}a.done?t(s):Promise.resolve(s).then(n,r)}function _asyncToGenerator(a){return function(){var e=this,c=arguments;return new Promise(function(t,o){var n=a.apply(e,c);function r(e){asyncGeneratorStep(n,t,o,r,i,"next",e)}function i(e){asyncGeneratorStep(n,t,o,r,i,"throw",e)}r(void 0)})}}var MyProject=new ProjectList("myProject");MyProject.loadProject=function(e){var t=this,o=$(e).find(".text-center").find(".myProject-main-item-name").html();if(localStorage.projectList)var n=JSON.parse(localStorage.projectList);if("true"==$(e).attr("isLocal"))return t.load(n[o]),!1;window.navigator.onLine&&""!=EzBlock.userToken?API.get("projects/getinfo",{accessToken:"123",name:o,userToken:EzBlock.userToken}).then(function(e){console.log(e),t.load(e.project.project)}):t.load(n[o]),$("body").off()},MyProject.renderProject=function(r){this.unRender();var i=this;function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,o,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.getProject(r);case 2:for(t in i.unRender(),i.list){for(n in $(".myProject-main").append('<h2 class="myProject_cate">'.concat(MSG["project"+firstUpperCase(t)],"</h2>")),o='<ul class="myProject-main-list">',i.list[t])o+="local"==t?'<li class="myProject-main-item" isLocal= true><img class="myProject-close" data-id="'+i.list[t][n].name+'" src="./img/删除.png"><div class="myProject-main-item-img"><img src=\'./img/'+i.list[t][n].platform+'.png\'></div><div class="text-center"><span class="myProject-main-item-name">'+i.list[t][n].name+'</span><div class="myProject-main-item-icon"><img src=\'./img/'+i.list[t][n].platform+".png'></div></div></li>":'<li class="myProject-main-item"><img class="myProject-close" data-id="'+i.list[t][n].name+'" src="./img/删除.png"><div class="myProject-main-item-img"><img src=\'./img/'+i.list[t][n].platform+'.png\'></div><div class="text-center"><span class="myProject-main-item-name">'+i.list[t][n].name+'</span><div class="myProject-main-item-icon"><img src=\'./img/'+i.list[t][n].platform+".png'></div></div></li>";o+="</ul>",$(".myProject-main").append(o)}i.event(".myProject-main-item"),i.deleteProject(),i.cancelDelete();case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},MyProject.load=function(e){var t={raspberrypi:"RaspberryPi",leaf:"Leaf"};this.name=e.name,device=e.device,device in t&&(device=t[device]),Choice.current.device=device,EzBlock.changePlatform(e.platform),EzBlock.renderPage("coding"),Coding.changePlatform(e.platform),Coding.load(e.code),Routing.load(e.route),Remote.load(e.remote),InternetOfThings.load(e.iot)},MyProject.getProject=function(){var o=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return new Promise(function(e,t){o.getRemoteProject(n).then(e,t),o.getLocalProject(n)})},MyProject.getRemoteProject=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=this;return API.get("projects/search",{accessToken:"123",userToken:EzBlock.userToken,keywords:e}).then(function(e){console.log(e),e.status?t.list.remote=e.projectList:t.list.remote={}},function(e){console.log("network error")})},MyProject.getLocalProject=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=JSON.parse(window.localStorage.getItem("projectList"));if(this.list.local={},""==e)this.list.local=t;else{var o=Object.keys(t);for(i in o){var n=o[i];-1!=n.indexOf(e)&&(this.list.local[n]=t[o[i]])}}},MyProject.unbindEvent=function(){$(".searchFileInput").off()},MyProject.unRender=function(){$(".myProject-main").html("")},MyProject.deleteProjectMethod=function(e){var t=this;API.get("projects/info",{accessToken:"123",userToken:EzBlock.userToken,name:e,delete:!0}).then(function(e){console.log(e),t.renderProject()})};
function asyncGeneratorStep(t,e,r,n,o,c,a){try{var i=t[c](a),s=i.value}catch(t){return void r(t)}i.done?e(s):Promise.resolve(s).then(n,o)}function _asyncToGenerator(i){return function(){var t=this,a=arguments;return new Promise(function(e,r){var n=i.apply(t,a);function o(t){asyncGeneratorStep(n,e,r,o,c,"next",t)}function c(t){asyncGeneratorStep(n,e,r,o,c,"throw",t)}o(void 0)})}}var TutorialsProject=new ProjectList("tutorialsProject");TutorialsProject.getProject=function(t){var e=window[t.product].tutorials[t.platform];this.list=e},TutorialsProject.loadProject=function(t,e){},TutorialsProject.renderProject=function(t){this.unRender();var o=this;function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function t(){var e,r,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.getProject(Choice.current);case 2:for(e in o.list){for(n in $(".myProject-main").append('<h2 class="myProject_cate">'.concat(MSG["tutorials"+firstUpperCase(e).replace(/\s*/g,"")],"</h2>")),r='<ul class="myProject-main-list">',o.list[e])r+='<li cate="'.concat(e,'" class="myProject-main-item" style="background-image: url(\'./img/" + ').concat(o.list[e][n].platform,' + ".png\')" onclick="Tutorials.show(\'').concat(e,"', '").concat(o.list[e][n].name,'\')"><img class="myProject-close" data-id="').concat(o.list[e][n].name,'" src="./img/删除.png"><div class="text-center">').concat(o.list[e][n].name,"</div></li>");r+="</ul>",$(".myProject-main").append(r)}o.event(".myProject-main-item"),o.deleteProject(),o.cancelDelete();case 6:case"end":return t.stop()}},t,this)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},TutorialsProject.event=function(){},TutorialsProject.deleteProject=function(){},TutorialsProject.cancelDelete=function(){};
function asyncGeneratorStep(e,t,o,n,r,c,a){try{var i=e[c](a),l=i.value}catch(e){return void o(e)}i.done?t(l):Promise.resolve(l).then(n,r)}function _asyncToGenerator(i){return function(){var e=this,a=arguments;return new Promise(function(t,o){var n=i.apply(e,a);function r(e){asyncGeneratorStep(n,t,o,r,c,"next",e)}function c(e){asyncGeneratorStep(n,t,o,r,c,"throw",e)}r(void 0)})}}var ExamplesProject=new ProjectList("examplesProject");ExamplesProject.load=function(e){this.name=e.name,MyProject.name=e.name,Choice.current.device=e.device,EzBlock.changePlatform(e.platform),EzBlock.renderPage("coding"),Coding.changePlatform(e.platform),Coding.load(e.code),Routing.load(e.route),Remote.load(e.remote),InternetOfThings.load(e.iot)},ExamplesProject.addCate=function(){$(".project_cate_block").remove();$(".myProject-header-menu").after('<div class="project_cate_block">\n        <button class="project_cate_btn" onclick="ExamplesProject.ChangePlatform(\'block\')">BlockCode</button>\n        <button class="project_cate_btn" onclick="ExamplesProject.ChangePlatform(\'PythonCode\')">PythonCode</button>\n        <button class="project_cate_btn" onclick="ExamplesProject.ChangePlatform(\'SwiftCode\')">SwiftCode</button>\n    </div>')},ExamplesProject.openProject=function(){var e=window.localStorage.getItem("deleteCont"),t=window.localStorage.getItem("currentCont");t?t==e?(Home.clearDevice(),Utils.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2e3)):(EzBlock.renderPage("examplesProject"),Home.recentUsedDevice(t)):(Home.clearDevice(),Utils.messageModal(MSG.selectBoard),setTimeout(function(){EzBlock.renderPage("selectBoard")},2e3))},ExamplesProject.getProject=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"block",t={};this.tab=e;var o=Choice.current.kits.length,n=window[Choice.current.device];t[n.id]=0!=o?n.examplesHasKit[e]:n.examples[e],this.list=t},ExamplesProject.ChangePlatform=function(e){this.getProject(e)},ExamplesProject.renderProject=function(r){this.unRender();var c=this;function e(){return(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,o,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getProject(r);case 2:for(t in c.list){for(n in $(".myProject-main").append('<h2 class="myProject_cate">'.concat(MSG["examples"+firstUpperCase(t)],"</h2>")),o='<ul class="myProject-main-list">',c.list[t])o+='<li class="myProject-main-item" style="background-image: url(\'./img/'+c.list[t][n].platform+'.png\')"><img class="myProject-close" data-id="'+c.list[t][n].name+'" src="./img/删除.png"><div class="text-center">'+c.list[t][n].name+"</div></li>";o+="</ul>",$(".myProject-main").append(o)}c.event(".myProject-main-item"),c.deleteProject(),c.cancelDelete();case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},ExamplesProject.loadProject=function(e){var t=$(e).find(".text-center").html(),o=Choice.current.kits.length,n=window[Choice.current.device];0!=o?this.load(n.examplesHasKit[this.tab][t].project):this.load(n.examples[this.tab][t].project)};
var InternetOfThings={};function IotCategory(t,e,n,i,o){var s=this;this.id=t,this.name=e,this.flag=!0,this.type=i,this.cate=n,this.timeOut=null,this.user_def_name=o,this.deleteInit=function(){InternetOfThings.showCloseBtn(),InternetOfThings.deleteIot()},this.event={buttonClickEvent:function(){var t=window[Choice.current.device];s.flag?($("#"+s.name).find(".lamp").attr({src:"./img/button-01.png"}),s.flag=!1,InternetOfThings.postValue({iotToken:iot_token,sensorname:s.id,deviceId:t.id,value:0})):s.flag||($("#"+s.name).find(".lamp").attr({src:"./img/button.png"}),s.flag=!0,InternetOfThings.postValue({iotToken:iot_token,sensorname:s.id,deviceId:t.id,value:1}))},switchClickEvent:function(){var t=window[Choice.current.device];s.flag?($("#"+s.name).find(".flag").attr({src:"./img/Switch-01.png"}),s.flag=!1,InternetOfThings.postValue({iotToken:iot_token,sensorname:s.id,deviceId:t.id,value:0})):s.flag||($("#"+s.name).find(".flag").attr({src:"./img/Switch.png"}),s.flag=!0,InternetOfThings.postValue({iotToken:iot_token,sensorname:s.id,deviceId:t.id,value:1}))},temperatureClickEvent:function(){$("#borken").modal("show")},humidityClickEvent:function(){},sliderClickEvent:function(){}},this.init=function(){console.log($("#"+s.name)),"actuators"==s.cate?-1!=s.name.indexOf("Button")?InternetOfThings.touchEvent("#"+s.name,s.event.buttonClickEvent):-1!=s.name.indexOf("Switch")?InternetOfThings.touchEvent("#"+s.name,s.event.switchClickEvent):-1!=s.name.indexOf("Slider")?($("#slider").slider(),InternetOfThings.touchEvent("#"+s.name,s.event.sliderClickEvent)):s.name.indexOf("Default"):"sensors"==s.cate&&(s.timeOut=setInterval(function(){var t=window[Choice.current.device];InternetOfThings.getValue({iotToken:iot_token,sensorname:s.id,deviceId:t.id}).then(function(t){console.log(t),$("#"+s.name).find(".number").find("span").eq(0).html(t)})},1e3),InternetOfThings.touchEvent("#"+s.name,s.event.temperatureClickEvent))}}function verdictHasId(t){var e=Object.keys(InternetOfThings.objectOfId);return 0==e.length||-1==e.indexOf(t)}InternetOfThings.id="internetOfThings",InternetOfThings.blocks={},InternetOfThings.saveIotData=[],InternetOfThings.avaliableDevice=["RaspberryPi"],InternetOfThings.menuConf={"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},InternetOfThings.showImage={sensors:{Temperature:'<div class="temperatureBox box cloneBox">\n     <div class="temperature-line">\n         <img src="./img/输出.png" alt="">\n     </div>\n     <div class="temperature-text textClass">Temperature</div>\n     <div class="number">\n         <span>32</span>\n         <span>℃</span>\n     </div>\n     <div class="temperature-block">\n         <img class="temp" src="./img/温度.png" alt="">\n     </div>\n     <img class="temperature-close iot-close" src="./img/删除.png" alt="">\n  </div>',Humidity:'<div class="humidityBox box cloneBox">\n    <div class="humidity-line">\n        <img src="./img/输出.png" alt="">\n    </div>\n    <div class="humidity-text textClass">Humidity</div>\n    <div class="number humidity-number">\n        <span>70</span>\n        <span>%</span>\n    </div>\n    <div class="humidity-block">\n        <img class="humi" src="./img/湿度.png" alt="">\n    </div>\n    <img class="humidity-close iot-close" src="./img/删除.png" alt="">\n</div>',Default:'<div class="defaultBox box cloneBox">\n     <div class="default-line">\n         <img src="./img/输出.png" alt="">\n     </div>\n     <div class="default-text textClass">Default</div>\n     <div class="number default-number">\n         <span>160</span>\n     </div>\n     <div class="default-block">\n         <img class="defa" src="./img/其他数值.png" alt="">\n     </div>\n     <img class="default-close iot-close" src="./img/删除.png" alt="">\n </div>'},actuators:{Default:'<div class="defaultBox box cloneBox">\n     <div class="default-line">\n         <img src="./img/输入.png" alt="">\n     </div>\n     <div class="default-text textClass">Default</div>\n     <div class="number default-number">\n         <span>160</span>\n     </div>\n     <div class="default-block">\n         <img class="defa" src="./img/其他数值.png" alt="">\n     </div>\n     <img class="default-close iot-close" src="./img/删除.png" alt="">\n </div>',Button:'<div class="button-box box cloneBox">\n      <div class="button-line">\n          <img src="./img/输入.png" alt="">\n      </div>\n      <div class="button-text textClass">Button</div>\n      <div class="lamp-block imgBox">\n          <img class="lamp" src="./img/button.png" alt="">\n      </div>\n      <img class="default-close iot-close" src="./img/删除.png" alt="">\n  </div>',Switch:'<div class="switchBox box cloneBox">\n      <div class="switch-line">\n          <img src="./img/输入.png" alt="">\n      </div> \n      <div class="switch-text textClass">Switch</div>\n      <div class="switch-block imgBox">\n          <img class="flag" src="./img/Switch.png" alt="">\n      </div>\n      <img class="default-close iot-close" src="./img/删除.png" alt="">\n  </div>',Slider:'<div class="slider-box box cloneBox">\n      <div class="slider-line">\n          <img src="./img/输入.png" alt="">\n      </div>\n      <div class="slider-text textClass">Slider</div>\n      <div class="slider-space"></div>\n      <div id="slider">\n      </div>\n      <img class="default-close iot-close" src="./img/删除.png" alt="">\n  </div>'}},InternetOfThings.changeShowImage=function(t,e){$(".show-image").html(""),$(".show-image").append(InternetOfThings.showImage[t][e]),$("#slider").slider()},InternetOfThings.iotSum={},InternetOfThings.objectOfId={},InternetOfThings.show=function(){$(".kitstop").unbind(),$(".kitplay").unbind(),$(".iotDebug").show(),$(".iotDebug").draggable({containment:$(".internetOfThingsContent")}),$(".iotDebug").css({top:"-733px",left:"747px",width:"27%"}),document.querySelector(".internetOfThingsContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".video-block").style.display="block",document.querySelector(".bug_print").style.display="block",document.querySelector(".bug_print").setAttribute("onclick",'Utils.debugModal("iotDebug")'),document.querySelector(".kitplay").setAttribute("onclick","InternetOfThings.run()"),document.querySelector(".kitstop").setAttribute("onclick","InternetOfThings.stop()"),$(".pageBack,.kitRun").show(),$(".kitRun .kitplay").show(),$(".kitRun .kitstop").click(function(){$(this).hide(),$(".kitRun .kitplay").show()}),$(".kitRun .kitplay").click(function(){$(this).hide(),$(".kitRun .kitstop").show()}),MakeOption.makeOptions(InternetOfThings.menuConf),MakeOption.show(InternetOfThings.menuConf),Tutorials.display_block&&EzBlock.sizeHeight()},InternetOfThings.hide=function(){$(".iotDebug").hide(),document.querySelector(".internetOfThingsContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".video-block").style.display="none",document.querySelector(".bug_print").style.display="block",document.querySelector(".bug_print").removeAttribute("onclick"),document.querySelector(".kitplay").removeAttribute("onclick"),document.querySelector(".kitstop").removeAttribute("onclick"),$(".pageBack,.kitRun").hide(),$(".kitstop,.kitplay").hide(),$(".pageBack,.kitRun").unbind(),MakeOption.hide(InternetOfThings.menuConf),InternetOfThings.stop(),InternetOfThings.createBlocks()},InternetOfThings.sizeHeight=function(){var t=$(".ezblockContent").height();$(".internetOfThingsContent").height(t)},InternetOfThings.init=function(){InternetOfThings.sizeHeight()},$(function(){echarts.init(document.getElementById("borkenMain")).setOption({xAxis:{type:"category",data:["5:30","5:32","5:34","5:40","5:44"]},yAxis:{type:"value"},series:[{data:["30","40","43","20"],type:"line"}]}),$(".temperatureBox").click(function(){$("#borken").modal("show")}),$("#slider").slider(),$(".appendBox").click(function(){$("#appendIot").modal("show")}),$(".actuators").click(function(){$(".choose-type-select-input").val(""),$(".input-menu").html(""),$(".choose-name-btn").val("actuators"),$(".choose-type-text").html("actuators:"),$(".input-menu").append('<li><a href="#">Button</a></li><li><a href="#">Switch</a></li><li><a href="#">Slider</a></li><li><a href="#">Default</a></li>')}),$(".sensors").click(function(){$(".choose-type-select-input").val(""),$(".input-menu").html(""),$(".choose-name-btn").val("sensors"),$(".choose-type-text").html("sensors:"),$(".input-menu").append('<li><a href="#">Temperature</a></li><li><a href="#">Humidity</a></li><li><a href="#">Default</a></li>')}),$(".input-menu").on("click","li",function(){$(".choose-type-select-input").val($(this).find("a").html()),InternetOfThings.changeShowImage($(".choose-name-btn").val(),$(this).find("a").html())}),$(".iotName").change(function(){$(this).parent().parent().parent().find(".show-image").find(".textClass").html($(".iotName").val())}),$(".sendBtn").click(InternetOfThings.createIot)}),InternetOfThings.createIot=function(){var t=$(".iotName").val(),e=$(".choose-name-btn").val()+"#"+$(".choose-type-select-input").val(),n=$(".choose-name-btn").val(),i=$(".choose-type-select-input").val();if(console.log(e),""==t)return Utils.messageModal("Please fill in the name"),!1;for(var o in InternetOfThings.iotSum)if(o==t)return Utils.messageModal("Name already exist"),!1;verdictHasId(e)?InternetOfThings.objectOfId[e]=1:++InternetOfThings.objectOfId[e],InternetOfThings.iotSum[t]=new IotCategory(e+"#"+InternetOfThings.objectOfId[e],$(".choose-type-select-input").val()+InternetOfThings.objectOfId[e],n,i,t),console.log(InternetOfThings.iotSum[t]),$(this).siblings().find(".cloneBox").attr("id",$(".choose-type-select-input").val()+InternetOfThings.objectOfId[e]),$(this).siblings().find(".cloneBox").insertBefore(".appendBox"),InternetOfThings.iotSum[t].deleteInit(),InternetOfThings.cancelDelete(),$("#appendIot").modal("hide"),InternetOfThings.iotSave(e,n,i,t),$(".choose-name input").val(""),$(".choose-type-text").html("")},InternetOfThings.run=function(){for(var t in InternetOfThings.iotSum)$("#"+InternetOfThings.iotSum[t].name).off(),InternetOfThings.iotSum[t].init()},InternetOfThings.stop=function(){for(var t in InternetOfThings.iotSum)$("#"+InternetOfThings.iotSum[t].name).off(),clearInterval(InternetOfThings.iotSum[t].timeOut),InternetOfThings.iotSum[t].deleteInit(),InternetOfThings.cancelDelete()},InternetOfThings.createIotFromSave=function(t){for(key in InternetOfThings.iotSum={},t){var e=t[key].id,n=t[key].name,i=t[key].type,o=t[key].cate;verdictHasId(e)?InternetOfThings.objectOfId[e]=1:++InternetOfThings.objectOfId[e],InternetOfThings.iotSum[n]=new IotCategory(e+"#"+InternetOfThings.objectOfId[e],o,i+InternetOfThings.objectOfId[e],i),$(".appendBox").before(InternetOfThings.showImage[o][i]),$(".cloneBox").eq(key).attr("id",i+InternetOfThings.objectOfId[e]),$(".textClass").eq(key).html(n),InternetOfThings.iotSum[n].deleteInit()}},InternetOfThings.load=function(t){InternetOfThings.clear(),InternetOfThings.createIotFromSave(t),InternetOfThings.createBlocks()},InternetOfThings.createBlocks=function(){if(InternetOfThings.blocks={},BlockCode.iotToolboxText="",isEmptyObject(InternetOfThings.iotSum))return BlockCode.reflashToolbox(),!1;var t="<category name='%{BKY_CATIOT}' colour='#58ce6a'>";for(key in InternetOfThings.iotSum)Blockly.Constants.IOT.ActuatorsID=[],Blockly.Constants.IOT.SensorsID=[];for(key in InternetOfThings.iotSum){var e=InternetOfThings.iotSum[key].id,n=InternetOfThings.iotSum[key].id.split("#")[2];-1!=InternetOfThings.iotSum[key].id.indexOf("actuators")?(InternetOfThings.blocks.actuatorBlock='<block type="iot_get_value"></block>',Blockly.Constants.IOT.ActuatorsID.push([key+"-"+n,e])):-1!=InternetOfThings.iotSum[key].id.indexOf("sensors")&&(InternetOfThings.blocks.sensorBlock='<block type="iot_post_value"></block>',Blockly.Constants.IOT.SensorsID.push([key+"-"+n,e]))}for(key in InternetOfThings.blocks)t+=InternetOfThings.blocks[key];t+="</category>",BlockCode.iotToolboxText=t,navigator.onLine||window.localStorage.setItem("iotToolboxText",t),BlockCode.reflashToolbox()},InternetOfThings.touchEvent=function(t,e){var n=0;$(t).on({touchstart:function(t){n=0,timeOutEvent=setTimeout(function(){n=1,console.log("长按事件生效了")},500)},touchMove:function(t){clearTimeout(timeOutEvent),timeOutEvent=0,t.preventDefault()},touchend:function(t){return t.stopPropagation(),clearTimeout(timeOutEvent),0!=timeOutEvent&&0==n&&e(),!1}}),$(t).on({mousedown:function(t){n=0,timeOutEvent=setTimeout(function(){n=1,console.log("长按事件生效了")},500)},mousemove:function(t){clearTimeout(timeOutEvent),timeOutEvent=0,t.preventDefault()},mouseup:function(t){return t.stopPropagation(),clearTimeout(timeOutEvent),0!=timeOutEvent&&0==n&&e(),!1}})},InternetOfThings.cancelDelete=function(){$("body").click(function(){$(".iot-close").hide()})},InternetOfThings.showCloseBtn=function(){console.log("showclose"),$(".cloneBox").on({touchstart:function(t){var e=this;longClick=0,timeOutEvent=setTimeout(function(){$(e).find(".iot-close").show(),InternetOfThings.deleteIot(e)},1e3)},touchMove:function(t){clearTimeout(timeOutEvent),timeOutEvent=0,t.preventDefault()},touchend:function(t){return t.stopPropagation(),clearTimeout(timeOutEvent),0!=timeOutEvent&&longClick,!1}})},InternetOfThings.deleteIot=function(t){console.log("adasd"),$(t).find(".iot-close").on({touchstart:function(t){longClick=0,timeOutEvent=setTimeout(function(){},1e3)},touchMove:function(t){clearTimeout(timeOutEvent),timeOutEvent=0,t.preventDefault()},touchend:function(t){if(t.stopPropagation(),clearTimeout(timeOutEvent),0!=timeOutEvent&&0==longClick){var e=$(this).parent().find(".textClass").html();delete InternetOfThings.iotSum[e],$(this).parent().remove()}return!1}})},InternetOfThings.iotSave=function(t,e,n,i){var o={id:t,cate:e,type:n,name:i};InternetOfThings.saveIotData.push(o)},InternetOfThings.save=function(){return InternetOfThings.saveIotData},InternetOfThings.clear=function(){$(".cloneBox").remove()},InternetOfThings.postValue=function(t){API.get("iots/info",t).then(function(t){console.log(t)})},InternetOfThings.getValue=function(n){return p=new Promise(function(e,t){API.get("iots/iotget",n).then(function(t){console.log(t),(t.status=!0)&&e(t.value)})})};
var AfterSaleProblem={id:"afterSaleProblem",menuConf:{"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},sendEmail:function(){var e=$(".from input").val(),t=$(".to span").html(),o=$(".theme .subject").val(),n=$("#problemText").val();if(!e)return $(".from span").html(MSG.enterEmail),$(".from input").val(""),void $(".from input").removeAttr("placeholder");if(!/^([A-ZA-z0-9_\-\.])+\@([A-ZA-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(e))return $(".from span").html(MSG.emailFormat),$(".from input").val(""),void $(".from input").removeAttr("placeholder");if(o)if(n){var a={accessToken:"123",userEmail:e,targetEmail:t,subject:o,context:n};API.get("compilers/email",a).then(function(e){e.status?Utils.messageModal(MSG.sendSuccessfully):Utils.messageModal(MSG.sendFailed),console.log(e)})}else $(".mainPart span").html(MSG.bodyNotNull);else $(".theme span").html(MSG.themeNotNull)},show:function(){document.querySelector(".afterSaleProblemContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".dragheader2 .goBack").style.display="block",document.querySelector(".video-block").style.display="block",MakeOption.makeOptions(AfterSaleProblem.menuConf),MakeOption.show(AfterSaleProblem.menuConf),Tutorials.display_block&&EzBlock.sizeHeight()},hide:function(){$(".from input").val(""),$(".theme .subject").val(""),$("#problemText").val(""),document.querySelector(".afterSaleProblemContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".dragfooter").style.display="none",document.querySelector(".dragheader2 .goBack").style.display="none",document.querySelector(".video-block").style.display="none",MakeOption.hide(AfterSaleProblem.menuConf)},sizeHeight:function(){var e=$(".ezblockContent").height();$(".afterSaleProblemContent").height(e)},init:function(){AfterSaleProblem.sizeHeight(),$(".from input").focus(function(){$(".from span").html(""),$(".from input").attr("placeholder",MSG.enterEmail)}),$(".to input").focus(function(){$(".to span").html(""),$(".to input").attr("placeholder",MSG.enterEmail)}),$(".theme input").focus(function(){$(".theme span").html("")}),$(".mainPart textarea").focus(function(){$(".mainPart span").html("")}),$(".from span").click(function(){$(".from span").html(""),$(".from input").attr("placeholder",MSG.enterEmail),$(".from input").focus()}),$(".to span").click(function(){$(".to span").html(""),$(".to input").attr("placeholder",MSG.enterEmail),$(".to input").focus()}),$(".theme span").click(function(){$(".theme span").html(""),$(".theme input").focus()}),$(".mainPart span").click(function(){$(".mainPart span").html(""),$(".mainPart textarea").focus()})}};
var Faq={id:"faq",menuConf:{"Sign in":[],ShareConf:["New Project","My Project","Save","Save As","Examples","Forum","Language"],ContactConf:["FAQ","Contact Us","Tutorials","About Us"]},pageno:1,pagesize:8,getAllMsgUrl:"faqs/info",getMessage:function(e,a){return Faq.getAllMsgPayload={accessToken:"123",keyword:a},API.get(e,Faq.getAllMsgPayload).then(function(e){for(var a in console.log(e),Faq.message=[],$(".faqPage ul").html(""),e.faqList)Faq.message.push(a+","+e.faqList[a]);if(0<Faq.message.length){Faq.pageLength=Faq.message.length,Faq.pageLength%Faq.pagesize==0?Faq.pageall=Faq.pageLength/Faq.pagesize:Faq.pageall=parseInt(Faq.pageLength/Faq.pagesize)+1;var t=$(".faqPage .pager .pageNum").html();t?Faq.changePageNo(t):Faq.changePageNo(1),$(".faqCont .faqPage").show(),$(".faqPage .pager").show(),$(".faqAnswer").hide()}else $(".faqCont .faqPage").show(),$(".faqPage ul").html("No results found."),$(".faqPage .pager").hide(),$(".faqAnswer").hide()}),Faq.message},answer:function(e){Faq.answerUrl="faqs/con",$(".faqCont .faqPage").hide(),Faq.answerPayload={accessToken:"123",id:e},API.get(Faq.answerUrl,Faq.answerPayload).then(function(e){$(".faqContent .faqAnswer").html("\n\t\t\t <div onclick=\"$('.faqCont .faqPage').show();$('.faqPage .pager').show();$('.faqAnswer').hide();\" class=\"back-Img\">\n\t\t\t   back\n\t\t\t </div>\n\t\t\t <div class=\"question\">Question:<br/><span>".concat(e.context.question,'</span></div>\n\t\t\t <div class="answer">Answer:').concat(e.context.answer,"</div>\n\t\t\t")),$(".faqAnswer").show()})},changePageNo:function(e){e<1&&(e=1),e>Faq.pageall&&(e=Faq.pageall),$(".faqPage ul").html("");for(var a=0;a<Faq.pagesize;a++){var t=Faq.message[(e-1)*Faq.pagesize+a].split(",")[0],n=Faq.message[(e-1)*Faq.pagesize+a].split(",")[1],s="\n\t\t\t<li onclick=\"javascript:this.firstElementChild.style.color='rgb(178,178,178)';Faq.answer(".concat(t,")\">\n\t\t\t\t<a href='#' onclick=\"javascript:this.style.color='rgb(178,178,178)';\">").concat(n,'</a>\n\t\t\t\t<img src="./img/rightarrow.png"></img>\n\t\t\t</li>\n\t\t\t<hr/>\t\n\t\t');if($(".faqPage ul").append(s),null==Faq.message[(e-1)*Faq.pagesize+a+1])break}$(".faqPage .pager .pageNum").html(e),1==e&&($(".prevMsg").hide(),$(".nextMsg").show()),e==Faq.pageall&&($(".nextMsg").hide(),$(".prevMsg").show()),1==Faq.pageall&&e==Faq.pageall&&($(".prevMsg").hide(),$(".nextMsg").hide())},show:function(){document.querySelector(".faqContent").style.display="block",document.querySelector(".dragheader2").style.display="block",document.querySelector(".dragheader2 .goBack").style.display="block",document.querySelector(".video-block").style.display="block",MakeOption.makeOptions(Faq.menuConf),MakeOption.show(Faq.menuConf),Faq.getMessage(Faq.getAllMsgUrl,""),Tutorials.display_block&&EzBlock.sizeHeight()},hide:function(){document.querySelector(".faqContent").style.display="none",document.querySelector(".dragheader2").style.display="none",document.querySelector(".dragfooter").style.display="none",document.querySelector(".dragheader2 .goBack").style.display="none",document.querySelector(".video-block").style.display="none",MakeOption.hide(Faq.menuConf)},sizeHeight:function(){var e=$(".ezblockContent").height();$(".faqContent").height(e)},init:function(){}};
var Home={id:"home",newProject:function(){""!=$(".nameInput").val()?(MyProject.name=$(".nameInput").val(),Coding.clear(),Routing.clear(),Remote.clear(),SelectBoard.clear(),InternetOfThings.clear(),window.localStorage.removeItem("currentChoice"),EzBlock.renderPage("coding"),$("#projectName").modal("hide"),MyProject.name=$(".nameInput").val(),createIotToken()):alert("请输入你们的项目名称"),$(".nameInput").val("")}};$(function(){$(".nameInput").keydown(function(e){13==e.keyCode&&Home.newProject()}),$(".homeContent_sliderMenu_item").each(function(){$(this).on({touchstart:function(e){longClick=0,srcSplitFirst=$(this).find("img").attr("src").split("/")[2].split(".")[0].split("_")[0],srcSplitSecond=$(this).find("img").attr("src").split("/")[2].split(".")[0].split("_")[1];var t=srcSplitFirst+"_"+srcSplitSecond;$(this).addClass("menuActive"),$(this).find("img").attr("src","./img/".concat(t,"_orange.png")),$(this).find(".homeContent_sliderMenu_item_text").css("color","rgb(255,202,75)"),timeOutEvent=setTimeout(function(){longClick=1},500)},touchmove:function(e){e.preventDefault(),clearTimeout(timeOutEvent),timeOutEvent=0},touchend:function(e){clearTimeout(timeOutEvent),$(this).removeClass("menuActive");var t=srcSplitFirst+"_"+srcSplitSecond;$(this).find("img").attr("src","./img/".concat(t,"_white.png")),$(this).find(".homeContent_sliderMenu_item_text").css("color","white")}}),$(this).mousedown(function(e){srcSplitFirst=$(this).find("img").attr("src").split("/")[2].split(".")[0].split("_")[0],srcSplitSecond=$(this).find("img").attr("src").split("/")[2].split(".")[0].split("_")[1];var t=srcSplitFirst+"_"+srcSplitSecond;$(this).addClass("menuActive"),$(this).find("img").attr("src","./img/".concat(t,"_orange.png")),$(this).find(".homeContent_sliderMenu_item_text").css("color","rgb(255,202,75)")}),$(this).mouseup(function(e){$(this).removeClass("menuActive");var t=srcSplitFirst+"_"+srcSplitSecond;$(this).find("img").attr("src","./img/".concat(t,"_white.png")),$(this).find(".homeContent_sliderMenu_item_text").css("color","white")})})}),Home.menuConf={"Sign in":[],ListConf:["Forum","Language","FAQ","Contact Us","About Us"]},Home.recentUsedDevice=function(e){var t=JSON.parse(window.localStorage.getItem("recentDev"));if(isEmptyObject(t))Home.clearDevice();else{if(Choice.current=t[e],deviceObj=window[Choice.current.device],productObj=window[Choice.current.product],platform=Choice.current.platform,EzBlock.changePlatform(platform),-1!=distributor.Category.Boards.indexOf(Choice.current.product))var i="./packages/".concat(deviceObj.id,"/img/").concat(deviceObj.id,".png");else if(productObj)i="./products/".concat(productObj.id,"/img/").concat(productObj.id,".png");else i="";var o="<img src="+i+" alt="+deviceObj.description+">",n="./img/series_".concat(deviceObj.series,"_medium.png");$(".homeContent_device_header_title").html(productObj.name),$(".homeContent_device_choice_device").html(o),$(".homeContent_device_choice_series_name").html(deviceObj.name),$(".homeContent_device_choice_plaform_name").html(firstUpperCase(platform.split("code")[0])),$(".homeContent_device_choice_series_img img").attr("src",n),"lizard"==deviceObj.id?$(".homeContent_device_choice_series_img img").addClass("selectedWidth"):$(".homeContent_device_choice_series_img img").removeClass("selectedWidth"),$(".homeContent_device_choice_plaform_img img").attr("src","./img/"+platform+".png")}},Home.clearDevice=function(){$(".homeContent_device_choice_device").html(""),$(".homeContent_device_choice_series_name").html(""),$(".homeContent_device_choice_plaform_name").html(""),$(".homeContent_device_choice_series_img img").attr("src",""),$(".homeContent_device_choice_plaform_img img").attr("src","")},Home.show=function(){document.querySelector(".homeContent").style.display="block",document.querySelector(".headImg").style.display="block",document.querySelector(".video-block").style.display="block",MakeOption.makeOptions(Home.menuConf),MakeOption.show(Home.menuConf)},Home.hide=function(){document.querySelector(".homeContent").style.display="none",document.querySelector(".headImg").style.display="none",document.querySelector(".video-block").style.display="none",MakeOption.hide(Home.menuConf)},Home.openNameInput=function(){$("#saveAsProjectName").modal("show")},Home.sizeHeight=function(){var e=$(".ezblockContent").height()+80,t=Math.min($(window).height(),600)/7,i=parseInt(t/6),o=parseInt(t/12);$(".homeContent_sliderMenu_item, .homeContent_sliderMenu_item_first").height(t),$(".homeContent_sliderMenu_item_icon").css("padding","".concat(i,"px 0")),$(".homeContent_sliderMenu_item_text").css("margin-top","".concat(o,"px")),$(".homeContent").height(e)},Home.renderDevice=function(){var e=window.localStorage.getItem("deleteCont"),t=window.localStorage.getItem("currentCont");t?t==e?Home.clearDevice():Home.recentUsedDevice(t):Home.clearDevice()},Home.init=function(){Home.sizeHeight(),Home.renderDevice()};
function asyncGeneratorStep(e,o,t,n,i,r,a){try{var c=e[r](a),l=c.value}catch(e){return void t(e)}c.done?o(l):Promise.resolve(l).then(n,i)}function _asyncToGenerator(c){return function(){var e=this,a=arguments;return new Promise(function(o,t){var n=c.apply(e,a);function i(e){asyncGeneratorStep(n,o,t,i,r,"next",e)}function r(e){asyncGeneratorStep(n,o,t,i,r,"throw",e)}i(void 0)})}}var EzBlock={userToken:"",LANGUAGE_NAME:{en:"English","zh-hans":"简体中文"},LANGUAGE_RTL:["ar","fa","he","lki"],getStringParamFromUrl:function(e,o){var t=location.search.match(new RegExp("[?&]"+e+"=([^&]+)"));return t?decodeURIComponent(t[1].replace(/\+/g,"%20")):o},getLang:function(){var e=EzBlock.getStringParamFromUrl("lang","");return void 0===EzBlock.LANGUAGE_NAME[e]&&(e="en"),e},delay:function(t){return new Promise(function(e,o){setTimeout(function(){e(!0)},t)})},isRtl:function(){return-1!=EzBlock.LANGUAGE_RTL.indexOf(LANG)},changeLanguage:function(e){if(window.sessionStorage){var o=Blockly.Xml.workspaceToDom(BlockCode.workspace),t=Blockly.Xml.domToText(o);window.sessionStorage.loadOnceBlocks=t}var n=e,i=window.location.search;i=i.length<=1?"?lang="+n:i.match(/[?&]lang=[^&]*/)?i.replace(/([?&]lang=)[^&]*/,"$1"+n):i.replace(/\?/,"?lang="+n+"&"),window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+i,window.sessionStorage&&window.sessionStorage.setItem("currentProject",JSON.stringify(MyProject.getCurrentProject()))},bindClick:function(e,o){"string"==typeof e&&(e=document.getElementById(e)),e.addEventListener("click",o,!0),e.addEventListener("touchend",o,!0)}},LANG=EzBlock.getLang(),RTL=EzBlock.isRtl();EzBlock.PAGES={coding:Coding,routing:Routing,remote:Remote,selectBoard:SelectBoard,internetOfThings:InternetOfThings,home:Home,myProject:MyProject,pInformation:PInformation,afterSaleProblem:AfterSaleProblem,faq:Faq,tutorialsProject:TutorialsProject,examplesProject:ExamplesProject},EzBlock.lastPage=[],EzBlock.sizeHeight=function(){var e=$(window).height()-$(".dragheader2").height()-Tutorials.display_block*Tutorials.height;$(".ezblockContent").height(e),Home.sizeHeight(),SelectBoard.sizeHeight(),Coding.sizeHeight(),Routing.sizeHeight(),MyProject.sizeHeight(),InternetOfThings.sizeHeight(),Remote.sizeHeight(),PInformation.sizeHeight(),AfterSaleProblem.sizeHeight(),Faq.sizeHeight(),TutorialsProject.sizeHeight(),ExamplesProject.sizeHeight()},EzBlock.resizeHeight=function(){$(window).resize(function(){EzBlock.sizeHeight()})},EzBlock.initLanguage=function(){var e=EzBlock.isRtl();document.dir=e?"rtl":"ltr",document.head.parentElement.setAttribute("lang",EzBlock.LANG);var o=[];for(var t in EzBlock.LANGUAGE_NAME)o.push([EzBlock.LANGUAGE_NAME[t],t]);o.sort(function(e,o){return e[0]>o[0]?1:e[0]<o[0]?-1:0})},EzBlock.changeProduct=function(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(productObj=window[e],SelectBoard.clear(),productObj.list){if(Choice.current.device=productObj.list.device,Choice.current.kits=[],productObj.list.kits&&0<productObj.list.kits.length)for(var t=0;t<productObj.list.kits.length;t++)Choice.current.kits.push(productObj.list.kits[t]);if(Choice.current.modules=[],productObj.list.modules&&0<productObj.list.modules.length)for(t=0;t<productObj.list.modules.length;t++)Choice.current.modules.push(productObj.list.modules[t])}else Choice.current.device=e,Choice.current.kits=[],Choice.current.modules=[];if(Choice.current.product=e,$("#choose-mode").modal("show"),null!=o)return EzBlock.changePlatform(o),Choice.current.platform=o,null},EzBlock.changePlatform=function(e){$("#choose-mode").modal("hide"),Coding.changePlatform(e),Coding.changeDevice(),Routing.changeDevice(),Remote.changeDevice(),Choice.current.platform=e},EzBlock.renderPage=function(e){EzBlock.page&&(EzBlock.lastPage.push(EzBlock.page),EzBlock.lastPage[EzBlock.lastPage.length-1].hide()),EzBlock.page=EzBlock.PAGES[e],window.sessionStorage&&window.sessionStorage.setItem("page",EzBlock.page.id),EzBlock.page.show(),Tutorials.display_block&&Tutorials.setPageHeight(e)},EzBlock.back=function(){EzBlock.page.hide(),EzBlock.page=EzBlock.PAGES[EzBlock.lastPage[EzBlock.lastPage.length-1].id],window.sessionStorage&&window.sessionStorage.setItem("page",EzBlock.page.id),EzBlock.lastPage[EzBlock.lastPage.length-1].show(),EzBlock.lastPage.splice(EzBlock.lastPage.length-1,1),"selectBoard"==EzBlock.page.id&&EzBlock.lastPage.push(SelectBoard)},EzBlock.init=function(){for(i in distributor.Category)for(var e=distributor.Category[i],o=0;o<e.length;o++){var t=window[e[o]];null==t?console.log("".concat(e[o]," have no init")):t.init()}window.sessionStorage.getItem("usertoken")||$("#login").modal("show"),Simulator.init(),EzBlock.sizeHeight(),EzBlock.resizeHeight(),SelectBoard.init(),Coding.init(),Routing.init(),Remote.init(),Home.init(),InternetOfThings.init(),PInformation.init(),AfterSaleProblem.init(),Faq.init(),WebBLE.init(),TutorialsProject.init();var n='<ul id="choiceLans" >';for(var i in EzBlock.LANGUAGE_NAME){n+='<li class="choiceLans" onclick="EzBlock.changeLanguage(\''+i+"');\">"+EzBlock.LANGUAGE_NAME[i]+"<li>"}if(n+="</ul>",$(".lan_modal").append(n),MakeOption.init(),Video.init(),EzBlock.initLanguage(),window.sessionStorage.page in EzBlock.PAGES){var r=window.sessionStorage.page,a=window.sessionStorage.platform;if(window.sessionStorage.device in distributor.Category.Boards){var c=window.sessionStorage.device;EzBlock.changeProduct(c,a)}else EzBlock.renderPage("home");var l=JSON.parse(window.sessionStorage.getItem("currentProject"));l&&MyProject.load(l),EzBlock.renderPage(r)}else EzBlock.renderPage("home")},EzBlock._prompt=function(n,i){return new Promise(function(e,o){$(".promptInput").val(i),$("#promptModal").modal("show"),$("#prompt-title").html(n);var t=i;$(".promptBtn").off(),$(".promptBtn").click(function(){t=$(".promptInput").val(),e(t)}),$("#promptModal").on("hide.bs.modal",function(){o()})})},EzBlock.openLanguage=function(){$("#changeLangulage").modal("show")},Blockly.prompt=function(e,o,t){EzBlock._prompt(e,o).then(function(e){t(e),$("#promptModal").modal("hide")},function(){})},Blockly.alert=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function e(o,t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Utils.messageModal(o);case 2:t&&t();case 3:case"end":return e.stop()}},e,this)}));return function(e,o){return t.apply(this,arguments)}}(),_distributor=getStringParamFromUrl("distributor","SunFounder"),distributor=Distributor[_distributor.toLocaleLowerCase()],window.addEventListener("load",EzBlock.init);
MakeOption={makeOptions:function(e){for(key in e)if($("#"+key).html(""),0<e[key].length){for(var o=0;o<e[key].length;o++){var c=e[key][o];if("Tutorials"==c)var n='<li class="help"><a '+MakeOption.allOptions[c].onclick+">"+MakeOption.allOptions[c].msg+"</a></li>";else n="<li><a "+MakeOption.allOptions[c].onclick+">"+MakeOption.allOptions[c].msg+"</a></li>";$("#"+key).append(n)}$(".help").click(function(e){e.stopPropagation()})}},init:function(){MakeOption.allOptions={"New Project":{msg:MSG.new_project,onclick:"onclick='MyProject.newProject()'"},"My Project":{msg:MSG.my_project,onclick:"onclick='EzBlock.renderPage(\"myProject\")'"},Save:{msg:MSG.save,onclick:"onclick='MyProject.save()'"},"Save As":{msg:MSG.save_as,onclick:"onclick='Home.openNameInput()'"},Examples:{msg:MSG.examples,onclick:"onclick='EzBlock.renderPage(\"examplesProject\")'"},Forum:{msg:MSG.forum,onclick:""},Language:{msg:MSG.language,onclick:"onclick = 'EzBlock.openLanguage()'"},Tutorials:{msg:MSG.tutorials,onclick:"onclick='EzBlock.renderPage(\"tutorialsProject\")'"},FAQ:{msg:MSG.faq,onclick:"onclick = 'EzBlock.renderPage(\"faq\")'"},"Contact Us":{msg:MSG.contact_us,onclick:"onclick='EzBlock.renderPage(\"afterSaleProblem\")'"},"About Us":{msg:MSG.about_us,onclick:'onclick=$("#aboutUs").modal("show")'},"Create library":{msg:MSG.create_library,onclick:"onclick='AddPackage.packagesListModal()'"},"Add library":{msg:MSG.add_library,onclick:""},"Add kit":{msg:MSG.add_kit,onclick:"onclick=SelectBoard.addKit();"},"Add module":{msg:MSG.add_module,onclick:"onclick=SelectBoard.addModule();"}}},buttons:{"Sign in":".dragheader2 .login",ContactConf:".dragheader2 .connect_us",ShareConf:".dragheader2 .share",ListConf:".dragheader2 .share"},show:function(e){for(key in e)document.querySelector(MakeOption.buttons[key]).style.display="block"},hide:function(e){for(key in e)document.querySelector(MakeOption.buttons[key]).style.display="none"}};
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}(function(){var e=function(){return this}();!e&&"undefined"!=typeof window&&(e=window);var o=function e(t,i,n){"string"==typeof t?(2==arguments.length&&(n=i),e.modules[t]||(e.payloads[t]=n,e.modules[t]=null)):e.original?e.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};o.modules={},o.payloads={};var t,i,r=function(e,t,i){if("string"==typeof t){var n=h(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],o=0,r=t.length;o<r;++o){var a=h(e,t[o]);if(null==a&&l.original)return;s.push(a)}return i&&i.apply(null,s)||!0}},l=function e(t,i){var n=r("",t,i);return null==n&&e.original?e.original.apply(this,arguments):n},h=function(e,i){i=function e(t,i){if(-1!==i.indexOf("!")){var n=i.split("!");return e(t,n[0])+"!"+e(t,n[1])}if("."==i.charAt(0))for(i=t.split("/").slice(0,-1).join("/")+"/"+i;-1!==i.indexOf(".")&&s!=i;){var s=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return i}(e,i);var t=o.modules[i];if(!t){if(t=o.payloads[i],"function"==typeof t){var n={},s={id:i,uri:"",exports:n,packaged:!0};n=t(function(e,t){return r(i,e,t)},n,s)||s.exports,o.modules[i]=n,delete o.payloads[i]}t=o.modules[i]=n||t}return t};i=e,(t="ace")&&(e[t]||(e[t]={}),i=e[t]),i.define&&i.define.packaged||(o.original=i.define,i.define=o,i.define.packaged=!0),i.require&&i.require.packaged||(l.original=i.require,i.require=l,i.require.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,i){"use strict";var n,r={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},a=void 0===r.exec.call(/()??/,"")[1],l=(n=/^/g,r.test.call(n,""),!n.lastIndex);l&&a||(RegExp.prototype.exec=function(e){var t,i,n,s=r.exec.apply(this,arguments);if("string"==typeof e&&s){if(!a&&1<s.length&&-1<function(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}(s,"")&&(i=RegExp(this.source,r.replace.call(((n=this).global?"g":"")+(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.extended?"x":"")+(n.sticky?"y":""),"g","")),r.replace.call(e.slice(s.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(s[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var o=1;o<s.length;o++)(t=this._xregexp.captureNames[o-1])&&(s[t]=s[o]);!l&&this.global&&!s[0].length&&this.lastIndex>s.index&&this.lastIndex--}return s},l||(RegExp.prototype.test=function(e){var t=r.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,i){function o(){}function n(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function s(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(i){var n=this;if("function"!=typeof n)throw new TypeError("Function.prototype.bind called on incompatible "+n);var s=f.call(arguments,1),e=function e(){if(this instanceof e){var t=n.apply(this,s.concat(f.call(arguments)));return Object(t)===t?t:this}return n.apply(i,s.concat(f.call(arguments)))};return n.prototype&&(o.prototype=n.prototype,e.prototype=new o,o.prototype=null),e});var r,a,l,h,c,u=Function.prototype.call,d=Array.prototype,g=Object.prototype,f=d.slice,m=u.bind(g.toString),p=u.bind(g.hasOwnProperty);if((c=p(g,"__defineGetter__"))&&(r=u.bind(g.__defineGetter__),a=u.bind(g.__defineSetter__),l=u.bind(g.__lookupGetter__),h=u.bind(g.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,i=[];if(i.splice.apply(i,e(20)),i.splice.apply(i,e(26)),t=i.length,i.splice(5,0,"XXX"),i.length,t+1==i.length)return!0}()){var v=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?v.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var i=this.length;0<e?i<e&&(e=i):null==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var n=this.slice(e,e+t),s=f.call(arguments,2),o=s.length;if(e===i)o&&this.push.apply(this,s);else{var r=Math.min(t,i-e),a=e+r,l=a+o-r,h=i-a,c=i-r;if(l<a)for(var u=0;u<h;++u)this[l+u]=this[a+u];else if(a<l)for(u=h;u--;)this[l+u]=this[a+u];if(o&&e===c)this.length=c,this.push.apply(this,s);else for(this.length=c+o,u=0;u<o;++u)this[e+u]=s[u]}return n};Array.isArray||(Array.isArray=function(e){return"[object Array]"==m(e)});var w,$,b=Object("a"),y="a"!=b[0]||!(0 in b);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=T(this),i=y&&"[object String]"==m(this)?this.split(""):t,n=arguments[1],s=-1,o=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError;for(;++s<o;)s in i&&e.call(n,i[s],s,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=T(this),i=y&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,s=Array(n),o=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var r=0;r<n;r++)r in i&&(s[r]=e.call(o,i[r],r,t));return s}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=T(this),n=y&&"[object String]"==m(this)?this.split(""):i,s=n.length>>>0,o=[],r=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var a=0;a<s;a++)a in n&&(t=n[a],e.call(r,t,a,i)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=T(this),i=y&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&!e.call(s,i[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=T(this),i=y&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&e.call(s,i[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=T(this),i=y&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var s,o=0;if(2<=arguments.length)s=arguments[1];else for(;;){if(o in i){s=i[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;o<n;o++)o in i&&(s=e.call(void 0,s,i[o],o,t));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=T(this),i=y&&"[object String]"==m(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=m(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var s,o=n-1;if(2<=arguments.length)s=arguments[1];else for(;;){if(o in i){s=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;o in this&&(s=e.call(void 0,s,i[o],o,t)),o--;);return s}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=y&&"[object String]"==m(this)?this.split(""):T(this),i=t.length>>>0;if(!i)return-1;var n=0;for(1<arguments.length&&(n=s(arguments[1])),n=0<=n?n:Math.max(0,i+n);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=y&&"[object String]"==m(this)?this.split(""):T(this),i=t.length>>>0;if(!i)return-1;var n=i-1;for(1<arguments.length&&(n=Math.min(n,s(arguments[1]))),n=0<=n?n:i-Math.abs(n);0<=n;n--)if(n in t&&e===t[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:g)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=_typeof(e)&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(p(e,t)){var i;if(i={enumerable:!0,configurable:!0},c){var n=e.__proto__;e.__proto__=g;var s=l(e,t),o=h(e,t);if(e.__proto__=n,s||o)return s&&(i.get=s),o&&(i.set=o),i}return i.value=e[t],i}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(w=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var i;if(null===e)i=w();else{if("object"!=_typeof(e))throw new TypeError("typeof prototype["+_typeof(e)+"] != 'object'");var n=function(){};n.prototype=e,(i=new n).__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i});if(Object.defineProperty){var C=n({}),S="undefined"==typeof document||n(document.createElement("div"));if(!C||!S)var x=Object.defineProperty}if(!Object.defineProperty||x){Object.defineProperty=function(e,t,i){if("object"!=_typeof(e)&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=_typeof(i)&&"function"!=typeof i||null===i)throw new TypeError("Property description must be an object: "+i);if(x)try{return x.call(Object,e,t,i)}catch(e){}if(p(i,"value"))if(c&&(l(e,t)||h(e,t))){var n=e.__proto__;e.__proto__=g,delete e[t],e[t]=i.value,e.__proto__=n}else e[t]=i.value;else{if(!c)throw new TypeError("getters & setters can not be defined on this javascript engine");p(i,"get")&&r(e,t,i.get),p(i,"set")&&a(e,t,i.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)p(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=($=Object.freeze,function(e){return"function"==typeof e?e:$(e)})}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";p(e,t);)t+="?";e[t]=!0;var i=p(e,t);return delete e[t],i}),!Object.keys){var A=!0,k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=k.length;for(var R in{toString:null})A=!1;Object.keys=function(e){if("object"!=_typeof(e)&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var i in e)p(e,i)&&t.push(i);if(A)for(var n=0,s=L;n<s;n++){var o=k[n];p(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var E="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||E.trim()){E="["+E+"]";var M=new RegExp("^"+E+E+"*"),_=new RegExp(E+E+"*$");String.prototype.trim=function(){return String(this).replace(M,"").replace(_,"")}}var T=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,i){"use strict";e("./regexp"),e("./es5-shim"),"undefined"!=typeof Element&&!Element.prototype.remove&&Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==("undefined"==typeof navigator?"undefined":_typeof(navigator))){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),s=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\/\d+/),t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(s.split(" Edge/")[1])||void 0,t.isAIR=0<=s.indexOf("AdobeAIR"),t.isIPad=0<=s.indexOf("iPad"),t.isAndroid=0<=s.indexOf("Android"),t.isChromeOS=0<=s.indexOf(" CrOS "),t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIPad||t.isAndroid}}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(e,a,t){"use strict";var i=e("./useragent");if(a.buildDom=function e(t,i,n){if("string"==typeof t&&t){var s=document.createTextNode(t);return i&&i.appendChild(s),s}if(!Array.isArray(t))return t;if("string"!=typeof t[0]||!t[0]){for(var o=[],r=0;r<t.length;r++){var a=e(t[r],i,n);a&&o.push(a)}return o}var l=document.createElement(t[0]),h=t[1],c=1;h&&"object"==_typeof(h)&&!Array.isArray(h)&&(c=2);for(r=c;r<t.length;r++)e(t[r],l,n);return 2==c&&Object.keys(h).forEach(function(e){var t=h[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e?l[e]=t:"ref"===e?n&&(n[t]=l):null!=t&&l.setAttribute(e,t)}),i&&i.appendChild(l),l},a.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},a.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},a.removeChildren=function(e){e.innerHTML=""},a.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},a.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},a.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},a.addCssClass=function(e,t){a.hasCssClass(e,t)||(e.className+=" "+t)},a.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(" ")},a.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var s=i.indexOf(t);if(-1==s)break;n=!1,i.splice(s,1)}return n&&i.push(t),e.className=i.join(" "),n},a.setCssClass=function(e,t,i){i?a.addCssClass(e,t):a.removeCssClass(e,t)},a.hasCssString=function(e,t){var i,n=0;if(i=(t=t||document).querySelectorAll("style"))for(;n<i.length;)if(i[n++].id===e)return!0},a.importCssString=function(e,t,i){var n=i&&i.getRootNode?i.getRootNode():document,s=n.ownerDocument||n;if(t&&a.hasCssString(t,n))return null;t&&(e+="\n/*# sourceURL=ace/css/"+t+" */");var o=a.createElement("style");o.appendChild(s.createTextNode(e)),t&&(o.id=t),n==s&&(n=a.getDocumentHead(s)),n.insertBefore(o,n.firstChild)},a.importCssStylsheet=function(e,t){a.buildDom(["link",{rel:"stylesheet",href:e}],a.getDocumentHead(t))},a.scrollbarWidth=function(e){var t=a.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var i=a.createElement("ace_outer"),n=i.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",n.display="block",i.appendChild(t);var s=e.documentElement;s.appendChild(i);var o=t.offsetWidth;n.overflow="scroll";var r=t.offsetWidth;return o==r&&(r=i.clientWidth),s.removeChild(i),o-r},"undefined"==typeof document&&(a.importCssString=function(){}),a.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},a.setStyle=function(e,t,i){e[t]!==i&&(e[t]=i)},a.HAS_CSS_ANIMATION=!1,a.HAS_CSS_TRANSFORMS=!1,a.HI_DPI=!i.isWin||"undefined"!=typeof window&&1.5<=window.devicePixelRatio,"undefined"!=typeof document){var n=document.createElement("div");a.HI_DPI&&void 0!==n.style.transform&&(a.HAS_CSS_TRANSFORMS=!0),!i.isEdge&&void 0!==n.style.animationName&&(a.HAS_CSS_ANIMATION=!0),n=null}a.HAS_CSS_TRANSFORMS?a.translate=function(e,t,i){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(i)+"px)"}:a.translate=function(e,t,i){e.style.top=Math.round(i)+"px",e.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,i,t){"use strict";i.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},i.implement=function(e,t){i.mixin(e,t)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,i){"use strict";e("./fixoldbrowsers");var n=e("./oop"),s=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,u,t){"use strict";function o(e,t,i){var n=c(t);if(!d.isMac&&l){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(n|=8),l.altGr){if(3==(3&n))return;l.altGr=0}if(18===i||17===i){var s="location"in t?t.location:t.keyLocation;if(17===i&&1===s)1==l[i]&&(h=t.timeStamp);else if(18===i&&3===n&&2===s){t.timeStamp-h<50&&(l.altGr=!0)}}}if((i in a.MODIFIER_KEYS&&(i=-1),8&n&&91<=i&&i<=93&&(i=-1),!n&&13===i)&&(3===(s="location"in t?t.location:t.keyLocation)&&(e(t,n,-i),t.defaultPrevented)))return;if(d.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in a.FUNCTION_KEYS||i in a.PRINTABLE_KEYS)&&e(t,n,i)}function r(){l=Object.create(null)}var a=e("./keys"),d=e("./useragent"),l=null,h=0;u.addListener=function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent){var n=function(){i.call(e,window.event)};i._wrapper=n,e.attachEvent("on"+t,n)}},u.removeListener=function(e,t,i){if(e.removeEventListener)return e.removeEventListener(t,i,!1);e.detachEvent&&e.detachEvent("on"+t,i._wrapper||i)},u.stopEvent=function(e){return u.stopPropagation(e),u.preventDefault(e),!1},u.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},u.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},u.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||d.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},u.capture=function(e,t,i){function n(e){t&&t(e),i&&i(e),u.removeListener(document,"mousemove",t,!0),u.removeListener(document,"mouseup",n,!0),u.removeListener(document,"dragstart",n,!0)}return u.addListener(document,"mousemove",t,!0),u.addListener(document,"mouseup",n,!0),u.addListener(document,"dragstart",n,!0),n},u.addTouchMoveListener=function(e,n){var s,o;u.addListener(e,"touchstart",function(e){var t=e.touches[0];s=t.clientX,o=t.clientY}),u.addListener(e,"touchmove",function(e){var t=e.touches;if(!(1<t.length)){var i=t[0];e.wheelX=s-i.clientX,e.wheelY=o-i.clientY,s=i.clientX,o=i.clientY,n(e)}})},u.addMouseWheelListener=function(e,t){"onmousewheel"in e?u.addListener(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}):"onwheel"in e?u.addListener(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}):u.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)})},u.addMultiMouseDownListener=function(e,i,n,s){function t(e){if(0!==u.getButton(e)?h=0:1<e.detail?4<++h&&(h=1):h=1,d.isIE){var t=5<Math.abs(e.clientX-r)||5<Math.abs(e.clientY-a);l&&!t||(h=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},i[h-1]||600),1==h&&(r=e.clientX,a=e.clientY)}if(e._clicks=h,n[s]("mousedown",e),4<h)h=0;else if(1<h)return n[s](c[h],e)}function o(e){h=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},i[h-1]||600),n[s]("mousedown",e),n[s](c[h],e)}var r,a,l,h=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){u.addListener(e,"mousedown",t),d.isOldIE&&u.addListener(e,"dblclick",o)})};var c=!d.isMac||!d.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(u.getModifierString=function(e){return a.KEY_MODS[c(e)]},u.addCommandKeyListener=function(e,i){var t=u.addListener;if(d.isOldGecko||d.isOpera&&!("KeyboardEvent"in window)){var n=null;t(e,"keydown",function(e){n=e.keyCode}),t(e,"keypress",function(e){return o(i,e,n)})}else{var s=null;t(e,"keydown",function(e){l[e.keyCode]=(l[e.keyCode]||0)+1;var t=o(i,e,e.keyCode);return s=e.defaultPrevented,t}),t(e,"keypress",function(e){s&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(u.stopEvent(e),s=null)}),t(e,"keyup",function(e){l[e.keyCode]=null}),l||(r(),t(window,"focus",r))}},"object"==("undefined"==typeof window?"undefined":_typeof(window))&&window.postMessage&&!d.isOldIE){var g=1;u.nextTick=function(i,n){n=n||window;var s="zero-timeout-message-"+g++;u.addListener(n,"message",function e(t){t.data==s&&(u.stopPropagation(t),u.removeListener(n,"message",e),i())}),n.postMessage(s,"*")}}u.$idleBlocked=!1,u.onIdle=function(t,e){return setTimeout(function e(){u.$idleBlocked?setTimeout(e,100):t()},e)},u.$idleBlockId=null,u.blockIdle=function(e){u.$idleBlockId&&clearTimeout(u.$idleBlockId),u.$idleBlocked=!0,u.$idleBlockId=setTimeout(function(){u.$idleBlocked=!1},e||100)},u.nextFrame="object"==("undefined"==typeof window?"undefined":_typeof(window))&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),u.nextFrame?u.nextFrame=u.nextFrame.bind(window):u.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";var o=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return 1==(t=this.compare(i.row,i.column))?1==(t=this.compare(n.row,n.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(n.row,n.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==_typeof(e)?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==_typeof(e)?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)i={row:e,column:0};if(this.start.row>t)var n={row:t+1,column:0};else if(this.start.row<e)n={row:e,column:0};return o.fromPoints(n||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var n={row:e,column:t};else var s={row:e,column:t};return o.fromPoints(n||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new o(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(o.prototype),o.fromPoints=function(e,t){return new o(e.row,e.column,t.row,t.column)},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=o}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";0<t;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==_typeof(e[i])?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!=_typeof(t)||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){var i=null,n=function(){i=null,e()},t=function e(t){return e.cancel(),i=setTimeout(n,t||0),e};return(t.schedule=t).call=function(){return this.cancel(),e(),t},t.cancel=function(){return clearTimeout(i),i=null,t},t.isPending=function(){return i},t},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},s=function(e){null==i&&(i=setTimeout(n,e||t))};return s.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},(s.schedule=s).call=function(){this.cancel(),e()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(e,t,i){"use strict";var M=e("../lib/event"),_=e("../lib/useragent"),T=e("../lib/dom"),O=e("../lib/lang"),F=e("../lib/keys"),I=F.KEY_MODS,W=_.isChrome<18,D=_.isIE;t.TextInput=function(e,l){function n(e){if(!a){if(a=!0,p)t=0,i=e?0:c.value.length-1;else var t=4,i=5;try{c.setSelectionRange(t,i)}catch(e){}a=!1}}function s(){a||(c.value=t,_.isWebKit&&m.schedule())}function h(){clearTimeout(A),A=setTimeout(function(){u&&(c.style.cssText=u,u=""),null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}var c=T.createElement("textarea");c.className=_.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",_.isTouchPad&&c.setAttribute("x-palm-disable-auto-cap",!0),c.setAttribute("wrap","off"),c.setAttribute("autocorrect","off"),c.setAttribute("autocapitalize","off"),c.setAttribute("spellcheck",!1),c.style.opacity="0",e.insertBefore(c,e.firstChild);var t="\n aaaa a\n",o=!1,r=!1,i=!1,a=!1,u="",d=!0;try{var g=document.activeElement===c}catch(e){}M.addListener(c,"blur",function(e){l.onBlur(e),g=!1}),M.addListener(c,"focus",function(e){g=!0,l.onFocus(e),n()}),this.focus=function(){if(u)return c.focus();c.style.position="fixed",c.focus()},this.blur=function(){c.blur()},this.isFocused=function(){return g};var f=O.delayedCall(function(){g&&n(d)}),m=O.delayedCall(function(){a||(c.value=t,g&&n())});_.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=d&&(d=!d,f.schedule())}),s(),g&&l.onFocus();var p=null;this.setInputHandler=function(e){p=e};var v=(this.getInputHandler=function(){return p},!1),w=function(e){4===c.selectionStart&&5===c.selectionEnd||(p&&(e=p(e),p=null),i?(n(),e&&l.onPaste(e),i=!1):e==t.substr(0)&&4===c.selectionStart?v?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):o||(e.substring(0,9)==t&&e.length>t.length?e=e.substr(9):e.substr(0,4)==t.substr(0,4)?e=e.substr(4,e.length-t.length+1):e.charAt(e.length-1)==t.charAt(0)&&(e=e.slice(0,-1)),e!=t.charAt(0)&&e.charAt(e.length-1)==t.charAt(0)&&(e=e.slice(0,-1)),e&&l.onTextInput(e)),o&&(o=!1),v&&(v=!1))},$=function(e){if(!a){var t=c.value;w(t),s()}},b=function e(t,i,n){var s=t.clipboardData||window.clipboardData;if(s&&!W){var o=D||n?"Text":"text/plain";try{return i?!1!==s.setData(o,i):s.getData(o)}catch(t){if(!n)return e(t,i,!0)}}},y=function(e,t){var i=l.getCopyText();if(!i)return M.preventDefault(e);b(e,i)?(_.isIOS&&(r=t,c.value="\n aa"+i+"a a\n",c.setSelectionRange(4,4+i.length),o={value:i}),t?l.onCut():l.onCopy(),_.isIOS||M.preventDefault(e)):(o=!0,c.value=i,c.select(),setTimeout(function(){o=!1,s(),n(),t?l.onCut():l.onCopy()}))};M.addCommandKeyListener(c,l.onCommandKey.bind(l)),M.addListener(c,"select",function(e){var t;0===(t=c).selectionStart&&t.selectionEnd===t.value.length?(l.selectAll(),n()):p&&n(l.selection.isEmpty())}),M.addListener(c,"input",$),M.addListener(c,"cut",function(e){y(e,!0)}),M.addListener(c,"copy",function(e){y(e,!1)}),M.addListener(c,"paste",function(e){var t=b(e);"string"==typeof t?(t&&l.onPaste(t,e),_.isIE&&setTimeout(n),M.preventDefault(e)):(c.value="",i=!0)});var C=function(){if(a&&l.onCompositionUpdate&&!l.$readOnly){var e=c.value.replace(/\x01/g,"");if(a.lastValue!==e&&(l.onCompositionUpdate(e),a.lastValue&&l.undo(),a.canUndo&&(a.lastValue=e),a.lastValue)){var t=l.selection.getRange();l.insert(a.lastValue),l.session.markUndoGroup(),a.range=l.selection.getRange(),l.selection.setRange(t),l.selection.clearSelection()}}},S=function e(t){if(l.onCompositionEnd&&!l.$readOnly){var i=a;a=!1;var n=setTimeout(function(){n=null;var e=c.value.replace(/\x01/g,"");a||(e==i.lastValue?s():!i.lastValue&&e&&(s(),w(e)))});p=function(e){return n&&clearTimeout(n),(e=e.replace(/\x01/g,""))==i.lastValue?"":(i.lastValue&&n&&l.undo(),e)},l.onCompositionEnd(),l.removeListener("mousedown",e),"compositionend"==t.type&&i.range&&l.selection.setRange(i.range),(_.isChrome&&53<=_.isChrome||_.isWebKit&&603<=_.isWebKit)&&$()}},x=O.delayedCall(C,50);M.addListener(c,"compositionstart",function(e){a||!l.onCompositionStart||l.$readOnly||((a={}).canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(C,0),l.on("mousedown",S),a.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())}),M.addListener(c,"compositionupdate",function(){x.schedule()}),M.addListener(c,"keyup",function(){x.schedule()}),M.addListener(c,"keydown",function(){x.schedule()}),M.addListener(c,"compositionend",S),this.getElement=function(){return c},this.setReadOnly=function(e){c.readOnly=e},this.onContextMenu=function(e){v=!0,n(l.selection.isEmpty()),l._emit("nativecontextmenu",{target:l,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,t){u||(u=c.style.cssText),c.style.cssText=(t?"z-index:100000;":"")+"height:"+c.style.height+";"+(_.isIE?"opacity:0.1;":"");var i=l.container.getBoundingClientRect(),n=T.computedStyle(l.container),s=i.top+(parseInt(n.borderTopWidth)||0),o=i.left+(parseInt(i.borderLeftWidth)||0),r=i.bottom-s-c.clientHeight-2,a=function(e){c.style.left=e.clientX-o-2+"px",c.style.top=Math.min(e.clientY-s-2,r)+"px"};a(e),"mousedown"==e.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(A),_.isWin&&M.capture(l.container,a,h))},this.onContextMenuClose=h;var A,k=function(e){l.textInput.onContextMenu(e),h()};if(M.addListener(c,"mouseup",k),M.addListener(c,"mousedown",function(e){e.preventDefault(),h()}),M.addListener(l.renderer.scroller,"contextmenu",k),M.addListener(c,"contextmenu",k),_.isIOS){var L=null,R=!1;e.addEventListener("keydown",function(e){L&&clearTimeout(L),R=!0}),e.addEventListener("keyup",function(e){L=setTimeout(function(){R=!1},100)});var E=function(e){if(document.activeElement===c&&!R){if(r)return setTimeout(function(){r=!1},100);var t=c.selectionStart,i=c.selectionEnd;if(c.setSelectionRange(4,5),t==i)switch(t){case 0:l.onCommandKey(null,0,F.up);break;case 1:l.onCommandKey(null,0,F.home);break;case 2:l.onCommandKey(null,I.option,F.left);break;case 4:l.onCommandKey(null,0,F.left);break;case 5:l.onCommandKey(null,0,F.right);break;case 7:l.onCommandKey(null,I.option,F.right);break;case 8:l.onCommandKey(null,0,F.end);break;case 9:l.onCommandKey(null,0,F.down)}else{switch(i){case 6:l.onCommandKey(null,I.shift,F.right);break;case 7:l.onCommandKey(null,I.shift|I.option,F.right);break;case 8:l.onCommandKey(null,I.shift,F.end);break;case 9:l.onCommandKey(null,I.shift,F.down)}switch(t){case 0:l.onCommandKey(null,I.shift,F.up);break;case 1:l.onCommandKey(null,I.shift,F.home);break;case 2:l.onCommandKey(null,I.shift|I.option,F.left);break;case 3:l.onCommandKey(null,I.shift,F.left)}}}};document.addEventListener("selectionchange",E),l.on("destroy",function(){document.removeEventListener("selectionchange",E)})}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(e,t,i){"use strict";var _=e("../lib/event"),T=e("../lib/useragent"),O=e("../lib/dom"),F=e("../lib/lang"),I=T.isChrome<18,W=T.isIE,D=63<T.isChrome,B=e("./textinput_ios").TextInput;t.TextInput=function(e,c){function u(){if(!h&&!f&&(b||y)){h=!0;var e=c.selection,t=e.getRange(),i=e.cursor.row,n=t.start.column,s=t.end.column,o=c.session.getLine(i);if(t.start.row!=i){var r=c.session.getLine(i-1);n=t.start.row<i-1?0:n,s+=r.length+1,o=r+"\n"+o}else if(t.end.row!=i){var a=c.session.getLine(i+1);s=t.end.row>i+1?a.length:s,s+=o.length+1,o=o+"\n"+a}400<o.length&&(n<400&&s<400?o=o.slice(0,400):(o="\n",n=0,s=1));var l=o+"\n\n";if(l!=v&&(d.value=v=l,w=$=l.length),y&&(w=d.selectionStart,$=d.selectionEnd),$!=s||w!=n)try{d.setSelectionRange(n,s),w=n,$=s}catch(e){}h=!1}}function i(){t=!0,d.blur(),d.focus(),t=!1}function l(){clearTimeout(E),E=setTimeout(function(){m&&(d.style.cssText=m,m=""),null==c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=!0,c.renderer.$moveTextAreaToCursor())},0)}if(T.isIOS)return B.call(this,e,c);var d=O.createElement("textarea");d.className="ace_text-input",d.setAttribute("wrap","off"),d.setAttribute("autocorrect","off"),d.setAttribute("autocapitalize","off"),d.setAttribute("spellcheck",!1),d.style.opacity="0",e.insertBefore(d,e.firstChild);var n=!1,g=!1,h=!1,f=!1,m="";T.isMobile||(d.style.fontSize="1px");var p=!1,t=!1,v="",w=0,$=0;try{var b=document.activeElement===d}catch(e){}_.addListener(d,"blur",function(e){t||(c.onBlur(e),b=!1)}),_.addListener(d,"focus",function(e){t||(b=!0,c.onFocus(e),u())}),this.$focusScroll=!1,this.focus=function(){if(m||D||"browser"==this.$focusScroll)return d.focus({preventScroll:!0});if(document.documentElement.contains(d)){var e=d.style.top;d.style.position="fixed",d.style.top="0px";var t=0!=d.getBoundingClientRect().top,i=[];if(t)for(var n=d.parentElement;n&&1==n.nodeType;)i.push(n),n.setAttribute("ace_nocontext",!0),n=!n.parentElement&&n.getRootNode?n.getRootNode().host:n.parentElement;d.focus({preventScroll:!0}),t&&i.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){d.style.position="","0px"==d.style.top&&(d.style.top=e)},0)}},this.blur=function(){d.blur()},this.isFocused=function(){return b},c.on("beforeEndOperation",function(){c.curOp&&"insertstring"==c.curOp.command.name||(h&&(v=d.value="",L()),u())}),b&&c.onFocus();var s=null;this.setInputHandler=function(e){s=e};var y=(this.getInputHandler=function(){return s},!1),o=function(e,t){if(y&&(y=!1),g)return u(),e&&c.onPaste(e),g=!1,"";for(var i=d.selectionStart,n=d.selectionEnd,s=w,o=v.length-$,r=e,a=e.length-i,l=e.length-n,h=0;0<s&&v[h]==e[h];)h++,s--;for(r=r.slice(h),h=1;0<o&&v.length-h>w-1&&v[v.length-h]==e[e.length-h];)h++,o--;return a-=h-1,l-=h-1,r=r.slice(0,r.length-h+1),t||a!=r.length||s||o||l?(f=!0,r&&!s&&!o&&!a&&!l||p?c.onTextInput(r):c.onTextInput(r,{extendLeft:s,extendRight:o,restoreStart:a,restoreEnd:l}),f=!1,v=e,w=i,$=n,r):""},r=function(e){if(h)return k();var t=d.value,i=o(t,!0);(500<t.length||/\n/.test(i))&&u()},a=function e(t,i,n){var s=t.clipboardData||window.clipboardData;if(s&&!I){var o=W||n?"Text":"text/plain";try{return i?!1!==s.setData(o,i):s.getData(o)}catch(t){if(!n)return e(t,i,!0)}}},C=function(e,t){var i=c.getCopyText();if(!i)return _.preventDefault(e);a(e,i)?(t?c.onCut():c.onCopy(),_.preventDefault(e)):(n=!0,d.value=i,d.select(),setTimeout(function(){n=!1,u(),t?c.onCut():c.onCopy()}))},S=function(e){C(e,!0)},x=function(e){C(e,!1)},A=function(e){var t=a(e);"string"==typeof t?(t&&c.onPaste(t,e),T.isIE&&setTimeout(u),_.preventDefault(e)):(d.value="",g=!0)};_.addCommandKeyListener(d,c.onCommandKey.bind(c)),_.addListener(d,"select",function(e){var t;h||(n?n=!1:0===(t=d).selectionStart&&t.selectionEnd>=v.length&&t.value===v&&v&&t.selectionEnd!==$&&(c.selectAll(),u()))}),_.addListener(d,"input",r),_.addListener(d,"cut",S),_.addListener(d,"copy",x),_.addListener(d,"paste",A),(!("oncut"in d)||!("oncopy"in d)||!("onpaste"in d))&&_.addListener(e,"keydown",function(e){if((!T.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:x(e);break;case 86:A(e);break;case 88:S(e)}});var k=function(){if(h&&c.onCompositionUpdate&&!c.$readOnly){if(p)return i();if(h.useTextareaForIME)c.onCompositionUpdate(d.value);else{var e=d.value;o(e),h.markerRange&&(h.context&&(h.markerRange.start.column=h.selectionStart=h.context.compositionStartOffset),h.markerRange.end.column=h.markerRange.start.column+$-h.selectionStart)}}},L=function(e){c.onCompositionEnd&&!c.$readOnly&&(h=!1,c.onCompositionEnd(),c.off("mousedown",i),e&&r())},R=F.delayedCall(k,50).schedule.bind(null,null);_.addListener(d,"compositionstart",function(e){if(!h&&c.onCompositionStart&&!c.$readOnly&&(h={},!p)){setTimeout(k,0),c.on("mousedown",i);var t=c.getSelectionRange();t.end.row=t.start.row,t.end.column=t.start.column,h.markerRange=t,h.selectionStart=w,c.onCompositionStart(h),h.useTextareaForIME?(d.value="",v="",$=w=0):(d.msGetInputContext&&(h.context=d.msGetInputContext()),d.getInputContext&&(h.context=d.getInputContext()))}}),_.addListener(d,"compositionupdate",k),_.addListener(d,"keyup",function(e){27==e.keyCode&&d.value.length<d.selectionStart&&(h||(v=d.value),w=$=-1,u()),R()}),_.addListener(d,"keydown",R),_.addListener(d,"compositionend",L),this.getElement=function(){return d},this.setCommandMode=function(e){p=e,d.readOnly=!1},this.setReadOnly=function(e){p||(d.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){y=!0,u(),c._emit("nativecontextmenu",{target:c,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,t){m||(m=d.style.cssText),d.style.cssText=(t?"z-index:100000;":"")+(T.isIE?"opacity:0.1;":"")+"text-indent: -"+(w+$)*c.renderer.characterWidth*.5+"px;";var i=c.container.getBoundingClientRect(),n=O.computedStyle(c.container),s=i.top+(parseInt(n.borderTopWidth)||0),o=i.left+(parseInt(i.borderLeftWidth)||0),r=i.bottom-s-d.clientHeight-2,a=function(e){d.style.left=e.clientX-o-2+"px",d.style.top=Math.min(e.clientY-s-2,r)+"px"};a(e),"mousedown"==e.type&&(c.renderer.$keepTextAreaAtCursor&&(c.renderer.$keepTextAreaAtCursor=null),clearTimeout(E),T.isWin&&_.capture(c.container,a,l))},this.onContextMenuClose=l;var E,M=function(e){c.textInput.onContextMenu(e),l()};_.addListener(d,"mouseup",M),_.addListener(d,"mousedown",function(e){e.preventDefault(),l()}),_.addListener(c.renderer.scroller,"contextmenu",M),_.addListener(d,"contextmenu",M)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(e,t,i){"use strict";function n(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function l(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,s=e.getButton();return 0!==s?((n.getSelectionRange().isEmpty()||1==s)&&n.selection.moveToPosition(i),void(2==s&&(n.textInput.onContextMenu(e.domEvent),o.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimeout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,1<e.domEvent._clicks),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var s=l(this.$clickSelection,i);i=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),s=i.selection[e](n.row,n.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),r=this.$clickSelection.comparePoint(s.end);if(-1==o&&r<=0)t=this.$clickSelection.end,s.end.row==n.row&&s.end.column==n.column||(n=s.start);else if(1==r&&0<=o)t=this.$clickSelection.start,s.start.row==n.row&&s.start.column==n.column||(n=s.end);else if(-1==o&&1==r)n=s.end,t=s.start;else{var a=l(this.$clickSelection,n);n=a.cursor,t=a.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,i,n,s=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,i=this.x,n=this.y,Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))),o=Date.now();(0<s||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,s=n-i.t,o=s?e.wheelX/s:i.vx,r=s?e.wheelY/s:i.vy;s<250&&(o=(o+i.vx)/2,r=(r+i.vy)/2);var a=Math.abs(o/r),l=!1;if(1<=a&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)i.allowed=n;else if(n-i.allowed<250){var h=Math.abs(o)<=1.1*Math.abs(i.vx)&&Math.abs(r)<=1.1*Math.abs(i.vy);i.allowed=h?(l=!0,n):0}return i.t=n,i.vx=o,i.vy=r,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){this.editor._emit("mousewheel",e)}}).call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var s=e("./lib/dom");(function(){this.$init=function(){return this.$element=s.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){s.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";function n(e){r.call(this,e)}var s=e("../lib/dom"),o=e("../lib/oop"),f=e("../lib/event"),r=e("../tooltip").Tooltip;o.inherits(n,r),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();i<(e+=15)+s&&(e-=e+s-i),n<(t+=15)+o&&(t-=20+o),r.prototype.setPosition.call(this,e,t)}}.call(n.prototype),t.GutterHandler=function(r){function a(){i&&(i=clearTimeout(i)),c&&(g.hide(),c=null,u._signal("hideGutterTooltip",g),u.removeEventListener("mousewheel",a))}function l(e){g.setPosition(e.x,e.y)}var i,h,c,u=r.editor,d=u.renderer.$gutterLayer,g=new n(u.container);r.editor.setDefaultHandler("guttermousedown",function(e){if(u.isFocused()&&0==e.getButton()&&"foldWidgets"!=d.getRegion(e)){var t=e.getDocumentPosition().row,i=u.session.selection;if(e.getShiftKey())i.selectTo(t,0);else{if(2==e.domEvent.detail)return u.selectAll(),e.preventDefault();r.$clickSelection=u.selection.getLineRange(t)}return r.setState("selectByLines"),r.captureMouse(e),e.preventDefault()}}),r.editor.setDefaultHandler("guttermousemove",function(e){var t=e.domEvent.target||e.domEvent.srcElement;if(s.hasCssClass(t,"ace_fold-widget"))return a();c&&r.$tooltipFollowsMouse&&l(e),h=e,i||(i=setTimeout(function(){i=null,h&&!r.isMousePressed?function(){var e=h.getDocumentPosition().row,t=d.$annotations[e];if(!t)return a();if(e==u.session.getLength()){var i=u.renderer.pixelToScreenCoordinates(0,h.y).row,n=h.$pos;if(i>u.session.documentToScreenRow(n.row,n.column))return a()}if(c!=t)if(c=t.text.join("<br/>"),g.setHtml(c),g.show(),u._signal("showGutterTooltip",g),u.on("mousewheel",a),r.$tooltipFollowsMouse)l(h);else{var s=h.domEvent.target.getBoundingClientRect(),o=g.getElement().style;o.left=s.right+"px",o.top=s.bottom+"px"}}():a()},50))}),f.addListener(u.renderer.$gutter,"mouseout",function(e){h=null,c&&!i&&(i=setTimeout(function(){i=null,a()},50))}),u.on("changeSession",a)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(t){function e(){var e,t,i,n,s,o=u;u=g.renderer.screenToTextCoordinates(f,m),e=u,t=o,i=Date.now(),n=!t||e.row!=t.row,s=!t||e.column!=t.column,!w||n||s?(g.moveCursorToPosition(e),w=i,$={x:f,y:m}):5<S($.x,$.y,f,m)?w=null:200<=i-w&&(g.renderer.scrollCursorIntoView(),w=null),function(e,t){var i=Date.now(),n=g.renderer.layerConfig.lineHeight,s=g.renderer.layerConfig.characterWidth,o=g.renderer.scroller.getBoundingClientRect(),r={x:{left:f-o.left,right:o.right-f},y:{top:m-o.top,bottom:o.bottom-m}},a=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),h={row:e.row,column:e.column};a/s<=2&&(h.column+=r.x.left<r.x.right?-3:2),l/n<=1&&(h.row+=r.y.top<r.y.bottom?-1:1);var c=e.row!=h.row,u=e.column!=h.column,d=!t||e.row!=t.row;c||u&&!d?v?200<=i-v&&g.renderer.scrollCursorIntoView(h):v=i:v=null}(u,o)}function i(){c=g.selection.toOrientedRange(),l=g.session.addMarker(c,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),e(),h=setInterval(e,20),y=0,A.addListener(document,"mousemove",s)}function n(){clearInterval(h),g.session.removeMarker(l),l=null,g.selection.fromOrientedRange(c),g.isFocused()&&!p&&g.renderer.$cursorLayer.setBlinking(!g.getReadOnly()),y=0,w=v=u=c=null,A.removeListener(document,"mousemove",s)}function s(){null==C&&(C=setTimeout(function(){null!=C&&l&&n()},20))}function o(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function r(e){var t=["copy","copymove","all","uninitialized"],i=k.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return i&&0<=t.indexOf(n)?s="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(n)?s="move":0<=t.indexOf(n)&&(s="copy"),s}var g=t.editor,a=x.createElement("img");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",k.isOpera&&(a.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(e){t[e]=this[e]},this),g.addEventListener("mousedown",this.onMouseDown.bind(t));var l,f,m,h,c,u,d,p,v,w,$,b=g.container,y=0;this.onDragStart=function(e){if(this.cancelDrag||!b.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}c=g.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=g.getReadOnly()?"copy":"copyMove",k.isOpera&&(g.container.appendChild(a),a.scrollTop=0),i.setDragImage&&i.setDragImage(a,0,0),k.isOpera&&g.container.removeChild(a),i.clearData(),i.setData("Text",g.session.getTextRange()),p=!0,this.setState("drag")},this.onDragEnd=function(e){if(b.draggable=!1,p=!1,this.setState(null),!g.getReadOnly()){var t=e.dataTransfer.dropEffect;!d&&"move"==t&&g.session.remove(g.getSelectionRange()),g.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!g.getReadOnly()&&o(e.dataTransfer))return f=e.clientX,m=e.clientY,l||i(),y++,e.dataTransfer.dropEffect=d=r(e),A.preventDefault(e)},this.onDragOver=function(e){if(!g.getReadOnly()&&o(e.dataTransfer))return f=e.clientX,m=e.clientY,l||(i(),y++),null!==C&&(C=null),e.dataTransfer.dropEffect=d=r(e),A.preventDefault(e)},this.onDragLeave=function(e){if(--y<=0&&l)return n(),d=null,A.preventDefault(e)},this.onDrop=function(e){if(u){var t=e.dataTransfer;if(p)switch(d){case"move":c=c.contains(u.row,u.column)?{start:u,end:u}:g.moveText(c,u);break;case"copy":c=g.moveText(c,u,!0)}else{var i=t.getData("Text");c={start:u,end:g.session.insert(u,i)},g.focus(),d=null}return n(),A.preventDefault(e)}},A.addListener(b,"dragstart",this.onDragStart.bind(t)),A.addListener(b,"dragend",this.onDragEnd.bind(t)),A.addListener(b,"dragenter",this.onDragEnter.bind(t)),A.addListener(b,"dragover",this.onDragOver.bind(t)),A.addListener(b,"dragleave",this.onDragLeave.bind(t)),A.addListener(b,"drop",this.onDrop.bind(t));var C=null}function S(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}var x=e("../lib/dom"),A=e("../lib/event"),k=e("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=k.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;k.isIE&&"dragReady"==this.state&&(3<S(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&t.dragDrop());"dragWait"===this.state&&(0<S(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in s&&(s.unselectable="on"),t.getDragDelay()){if(k.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var s=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,i){var t=s.getDocumentHead(),n=document.createElement("script");n.src=e,t.appendChild(n),n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(n=n.onload=n.onreadystatechange=null,t||i())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";var n={},o=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==_typeof(t)&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=r),i=i.slice();for(var s=0;s<i.length&&(i[s](t,this),!t.propagationStopped);s++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(t,i){var n=this;i&&this.addEventListener(t,function e(){n.removeEventListener(t,e),i.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t)n&&this.setDefaultHandler(e,n.pop());else if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var i=new Error(e);i.data=t,"object"==("undefined"==typeof console?"undefined":_typeof(console))&&console.error&&console.error(i),setTimeout(function(){throw i})}var o=e("./oop"),r=e("./event_emitter").EventEmitter,a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var i=this.$options;e=Object.keys(i).filter(function(e){return!i[e].hidden})}return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].setOption(e,t):(i.handlesSet||(this["$"+e]=t),void(i&&i.set&&i.set.call(this,t))):n('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,r),this.defineOptions=function(i,e,n){return i.$options||(this.$defaultOptions[e]=i.$options={}),Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t&&(t={forwardTo:t}),t.name||(t.name=e),"initialValue"in(i.$options[t.name]=t)&&(i["$"+t.name]=t.initialValue)}),o.implement(i,a),this},this.resetOptions=function(i){Object.keys(i.$options).forEach(function(e){var t=i.$options[e];"value"in t&&i.setOption(e,t.value)})},this.setDefaultValue=function(e,t,i){var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(t,i){Object.keys(i).forEach(function(e){this.setDefaultValue(t,e,i[e])},this)},this.warn=n,this.reportError=s}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(m,p,v){var e=m("./lib/lang"),o=(m("./lib/oop"),m("./lib/net")),t=m("./lib/app_config").AppConfig;v.exports=p=new t;var w=function(){return this||"undefined"!=typeof window&&window}(),$={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};p.get=function(e){if(!$.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return $[e]},p.set=function(e,t){if(!$.hasOwnProperty(e))throw new Error("Unknown config key: "+e);$[e]=t},p.all=function(){return e.copyObject($)},p.$modes={},p.moduleUrl=function(e,t){if($.$moduleUrls[e])return $.$moduleUrls[e];var i=e.split("/"),n="snippets"==(t=t||i[i.length-2]||"")?"/":"-",s=i[i.length-1];if("worker"==t&&"-"==n){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(o,"")}(!s||s==t)&&1<i.length&&(s=i[i.length-2]);var r=$[t+"Path"];return null==r?r=$.basePath:"/"==n&&(t=n=""),r&&"/"!=r.slice(-1)&&(r+="/"),r+t+n+s+this.get("suffix")},p.setModuleUrl=function(e,t){return $.$moduleUrls[e]=t},p.$loading={},p.loadModule=function(i,e){var t,n;Array.isArray(i)&&(n=i[0],i=i[1]);try{t=m(i)}catch(e){}if(t&&!p.$loading[i])return e&&e(t);if(p.$loading[i]||(p.$loading[i]=[]),p.$loading[i].push(e),!(1<p.$loading[i].length)){var s=function(){m([i],function(t){p._emit("load.module",{name:i,module:t});var e=p.$loading[i];p.$loading[i]=null,e.forEach(function(e){e&&e(t)})})};if(!p.get("packaged"))return s();o.loadScript(p.moduleUrl(i,n),s),r()}};var r=function(){!$.basePath&&!$.workerPath&&!$.modePath&&!$.themePath&&!Object.keys($.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),r=function(){})};p.init=function(e){if(w&&w.document){$.packaged=e||m.packaged||v.packaged||w.define&&define.packaged;for(var t,i={},n="",s=document.currentScript||document._currentScript,o=(s&&s.ownerDocument||document).getElementsByTagName("script"),r=0;r<o.length;r++){var a=o[r],l=a.src||a.getAttribute("src");if(l){for(var h=a.attributes,c=0,u=h.length;c<u;c++){var d=h[c];0===d.name.indexOf("data-ace-")&&(i[(t=d.name.replace(/^data-ace-/,""),t.replace(/-(.)/g,function(e,t){return t.toUpperCase()}))]=d.value)}var g=l.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);g&&(n=g[1])}}for(var f in n&&(i.base=i.base||n,i.packaged=!0),i.basePath=i.base,i.workerPath=i.workerPath||i.base,i.modePath=i.modePath||i.base,i.themePath=i.themePath||i.base,delete i.base,i)void 0!==i[f]&&p.set(f,i[f])}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,i){"use strict";var c=e("../lib/event"),u=e("../lib/useragent"),n=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,d=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,s=e("../config"),o=function(s){var o=this;this.editor=s,new n(this),new r(this),new a(this);var e=function(e){var t=!document.hasFocus||!document.hasFocus()||!s.isFocused()&&document.activeElement==(s.textInput&&s.textInput.getElement());t&&window.focus(),s.focus()},t=s.renderer.getMouseEventTarget();c.addListener(t,"click",this.onMouseEvent.bind(this,"click")),c.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove")),c.addMultiMouseDownListener([t,s.renderer.scrollBarV&&s.renderer.scrollBarV.inner,s.renderer.scrollBarH&&s.renderer.scrollBarH.inner,s.textInput&&s.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),c.addMouseWheelListener(s.container,this.onMouseWheel.bind(this,"mousewheel")),c.addTouchMoveListener(s.container,this.onTouchMove.bind(this,"touchmove"));var i=s.renderer.$gutter;c.addListener(i,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),c.addListener(i,"click",this.onMouseEvent.bind(this,"gutterclick")),c.addListener(i,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),c.addListener(i,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),c.addListener(t,"mousedown",e),c.addListener(i,"mousedown",e),u.isIE&&s.renderer.scrollBarV&&(c.addListener(s.renderer.scrollBarV.element,"mousedown",e),c.addListener(s.renderer.scrollBarH.element,"mousedown",e)),s.on("mousemove",function(e){if(!o.state&&!o.$dragDelay&&o.$dragEnabled){var t=s.renderer.screenToTextCoordinates(e.x,e.y),i=s.session.selection.getRange(),n=s.renderer;!i.isEmpty()&&i.insideStart(t.row,t.column)?n.setCursorStyle("default"):n.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new d(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new d(t,this.editor))},this.onMouseWheel=function(e,t){var i=new d(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.onTouchMove=function(e,t){var i=new d(t,this.editor);i.speed=1,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){if(e)return u.isWebKit&&!e.which&&s.releaseMouse?s.releaseMouse():(s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new d(e,s.editor),void(s.$mouseMoved=!0))},r=function(e){i.off("beforeEndOperation",l),clearInterval(h),a(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),i.endOperation()},a=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(u.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){r(e)});var l=function(e){s.releaseMouse&&i.curOp.command.name&&i.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};i.on("beforeEndOperation",l),i.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=o,s.releaseMouse=c.capture(this.editor.container,o,r);var h=setInterval(a,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&c.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(o.prototype),s.defineOptions(o.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:u.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=o}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var o=e("../lib/dom");t.FoldHandler=function(r){r.on("click",function(e){var t=e.getDocumentPosition(),i=r.session,n=i.getFoldAt(t.row,t.column,1);n&&(e.getAccelKey()?i.removeFold(n):i.expandFold(n),e.stop());var s=e.domEvent&&e.domEvent.target;s&&o.hasCssClass(s,"ace_inline_button")&&o.hasCssClass(s,"ace_toggle_wrap")&&(i.setOption("wrap",!0),r.renderer.scrollCursorIntoView())}),r.on("gutterclick",function(e){if("foldWidgets"==r.renderer.$gutterLayer.getRegion(e)){var t=e.getDocumentPosition().row,i=r.session;i.foldWidgets&&i.foldWidgets[t]&&r.session.onFoldWidgetClick(t,e),r.isFocused()||r.focus(),e.stop()}}),r.on("gutterdblclick",function(e){if("foldWidgets"==r.renderer.$gutterLayer.getRegion(e)){var t=e.getDocumentPosition().row,i=r.session,n=i.getParentFoldRangeData(t,!0),s=n.range||n.firstRange;if(s){t=s.start.row;var o=i.getFoldAt(t,i.getLine(t).length,1);o?i.removeFold(o):(i.addFold("...",s),r.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var s=e("../lib/keys"),l=e("../lib/event"),n=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,i=t.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(i,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var s,o=!1,r=this.$editor.commands,a=this.$handlers.length;a--&&!((s=this.$handlers[a].handleKeyboard(this.$data,e,t,i,n))&&s.command&&((o="null"==s.command||r.exec(s.command,this.$editor,s.args,n))&&n&&-1!=e&&1!=s.passEvent&&1!=s.command.passEvent&&l.stopEvent(n),o)););return!o&&-1==e&&(s={command:"insertstring"},o=r.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,i){var n=s.keyCodeToString(i);this.$callKeyboardHandlers(t,n,i,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(n.prototype),t.KeyBinding=n}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,l,t){"use strict";function h(e,t,i){if(!(w<e))if(1!=e||1!=v||b)for(var n,s,o,r,a=i.length,l=0;l<a;){if(t[l]>=e){for(n=l+1;n<a&&t[n]>=e;)n++;for(s=l,o=n-1;s<o;s++,o--)r=i[s],i[s]=i[o],i[o]=r;l=n}l++}else i.reverse()}function m(e,t,i,n){var s,o,r,a,l=t[n];switch(l){case u:case d:$=!1;case x:case f:return l;case g:return $?f:g;case L:return $=!0,d;case R:return x;case E:return n<1||n+1>=t.length||(s=i[n-1])!=g&&s!=f||(o=t[n+1])!=g&&o!=f?x:($&&(o=f),o==s?o:x);case M:return(s=0<n?i[n-1]:A)==g&&n+1<t.length&&t[n+1]==g?g:x;case _:if(0<n&&i[n-1]==g)return g;if($)return x;for(a=n+1,r=t.length;a<r&&t[a]==_;)a++;return a<r&&t[a]==g?g:x;case T:for(r=t.length,a=n+1;a<r&&t[a]==T;)a++;if(a<r){var h=e[n],c=1425<=h&&h<=2303||64286==h;if(s=t[a],c&&(s==d||s==L))return d}return n<1||(s=t[n-1])==A?x:i[n-1];case A:return b=!($=!1),v;case k:return y=!0,x;case O:case F:case W:case D:case I:$=!1;case B:return x}}function p(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?191<t?u:n[t]:5==i?/[\u0591-\u05f4]/.test(e)?d:u:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?T:/[\u0660-\u0669\u066b-\u066c]/.test(e)?f:1642==t?_:/[\u06f0-\u06f9]/.test(e)?g:L:32==i&&t<=8287?s[255&t]:254==i&&65136<=t?L:x}var v=0,w=0,$=!1,b=!1,y=!1,C=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],S=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,d=1,g=2,f=3,x=4,A=5,k=6,L=7,R=8,E=9,M=10,_=11,T=12,O=13,F=14,I=15,W=16,D=17,B=18,n=[B,B,B,B,B,B,B,B,B,k,A,k,R,A,B,B,B,B,B,B,B,B,B,B,B,B,B,B,A,A,A,k,R,x,x,_,_,_,x,x,x,x,x,M,E,M,E,E,g,g,g,g,g,g,g,g,g,g,E,x,x,x,x,x,x,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,x,x,x,x,x,x,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,x,x,x,x,B,B,B,B,B,B,A,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,B,E,x,_,_,_,_,x,x,x,x,u,x,x,B,x,x,_,_,g,g,x,u,x,x,x,g,u,x,x,x,x,x],s=[R,R,R,R,R,R,R,R,R,R,R,B,B,B,u,d,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,R,A,O,F,I,W,D,E,_,_,_,_,_,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,E,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,R];l.L=u,l.R=d,l.EN=g,l.ON_R=3,l.AN=4,l.R_H=5,l.B=6,l.RLE=7,l.DOT="·",l.doBidiReorder=function(e,t,i){if(e.length<2)return{};var n=e.split(""),s=new Array(n.length),o=new Array(n.length),r=[];v=i?1:0,function(e,t,i,n){var s=v?S:C,o=null,r=null,a=null,l=0,h=null,c=-1,u=null,d=null,g=[];if(!n)for(u=0,n=[];u<i;u++)n[u]=p(e[u]);for(w=v,y=b=$=!1,d=0;d<i;d++){if(o=l,g[d]=r=m(e,n,g,d),h=240&(l=s[o][r]),l&=15,t[d]=a=s[l][5],0<h)if(16==h){for(u=c;u<d;u++)t[u]=1;c=-1}else c=-1;if(s[l][6])-1==c&&(c=d);else if(-1<c){for(u=c;u<d;u++)t[u]=a;c=-1}n[d]==A&&(t[d]=0),w|=a}if(y)for(u=0;u<i;u++)if(n[u]==k){t[u]=v;for(var f=u-1;0<=f&&n[f]==R;f--)t[f]=v}}(n,r,n.length,t);for(var a=0;a<s.length;s[a]=a,a++);h(2,r,s),h(1,r,s);for(a=0;a<s.length-1;a++)t[a]===f?r[a]=l.AN:r[a]===d&&(t[a]>L&&t[a]<O||t[a]===x||t[a]===B)?r[a]=l.ON_R:0<a&&"ل"===n[a-1]&&/\u0622|\u0623|\u0625|\u0627/.test(n[a])&&(r[a-1]=r[a]=l.R_H,a++);n[n.length-1]===l.DOT&&(r[n.length-1]=l.B),"‫"===n[0]&&(r[0]=l.RLE);for(a=0;a<s.length;a++)o[a]=r[s[a]];return{logicalFromVisual:s,bidiLevels:o}},l.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=p(e.charAt(n)),!i&&(t[n]==d||t[n]==L||t[n]==f)&&(i=!0);return i},l.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(e,t,i){"use strict";var a=e("./lib/bidiutil"),l=e("./lib/lang"),n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=a,this.charWidths=[],this.EOL="¬",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.EOF="¶",this.RLE="‫",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=n.test(e.getValue())};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&n.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);0<=i&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);0<this.currentRow-e&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var i=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var n=this.session.$wrapData[e];n&&(void 0===t&&(t=this.getSplitIndex()),0<t&&n.length?(this.wrapIndent=n.indent,this.wrapOffset=this.wrapIndent*this.charWidths[a.L],this.line=t<n.length?this.line.substring(n[t-1],n[t]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[t])),t==n.length&&(this.line+=this.showInvisibles?i:a.DOT)}else this.line+=this.showInvisibles?i:a.DOT;var s,o=this.session,r=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return"\t"===e||o.isFullWidth(e.charCodeAt(0))?(s="\t"===e?o.getScreenTabSize(t+r):2,r+=s-1,l.stringRepeat(a.DOT,s)):e}),this.isRtlDir&&(this.fontMetrics.$main.innerHTML=this.line.charAt(this.line.length-1)==a.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];a.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=a.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("ה");this.charWidths[a.L]=this.charWidths[a.EN]=this.charWidths[a.ON_R]=t,this.charWidths[a.R]=this.charWidths[a.AN]=i,this.charWidths[a.R_H]=.45*i,this.charWidths[a.B]=this.charWidths[a.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir},this.setRtlDirection=function(e,t){for(var i=e.getCursorPosition(),n=e.selection.getSelectionAnchor().row;n<=i.row;n++)t||e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(n).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:n},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(n,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=t<e?this.session.getOverwrite()?e:e-1:t,n=a.getVisualFromLogicalIdx(i,this.bidiMap),s=this.bidiMap.bidiLevels,o=0;!this.session.getOverwrite()&&e<=t&&s[n]%2!=0&&n++;for(var r=0;r<n;r++)o+=this.charWidths[s[r]];return!this.session.getOverwrite()&&t<e&&s[n]%2==0&&(o+=this.charWidths[s[n]]),this.wrapIndent&&(o+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(o+=this.rtlLineOffset),o},this.getSelections=function(e,t){var i,n=this.bidiMap,s=n.bidiLevels,o=[],r=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,h=!1,c=!1,u=0;this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,g=0;g<s.length;g++)d=n.logicalFromVisual[g],i=s[g],(h=a<=d&&d<l)&&!c?u=r:!h&&c&&o.push({left:u,width:r-u}),r+=this.charWidths[i],c=h;if(h&&g===s.length&&o.push({left:u,width:r-u}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,i=(e=Math.max(e,0),0),n=0,s=this.bidiMap.bidiLevels,o=this.charWidths[s[n]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i+o/2<e;){if(i+=o,n===s.length-1){o=0;break}o=this.charWidths[s[++n]]}return 0===(t=0<n&&s[n-1]%2!=0&&s[n]%2==0?(e<i&&n--,this.bidiMap.logicalFromVisual[n]):0<n&&s[n-1]%2==0&&s[n]%2!=0?1+(i<e?this.bidiMap.logicalFromVisual[n]:this.bidiMap.logicalFromVisual[n-1]):this.isRtlDir&&n===s.length-1&&0===o&&s[n-1]%2==0||!this.isRtlDir&&0===n&&s[n]%2!=0?1+this.bidiMap.logicalFromVisual[n]:(0<n&&s[n-1]%2!=0&&0!==o&&n--,this.bidiMap.logicalFromVisual[n]))&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,o=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")})};(function(){n.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,n=t?e.start:e.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(e,t,i,n){var s=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||s!=this.$isEmpty||o)&&this._emit("changeSelection")},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(n);return i=s?(n=s.start.row,s.end.row):n,!0===t?new a(n,0,i,this.session.getLine(i).length):new a(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,s=e.column+t;return i<0&&(n=e.column-t,s=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,s).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)0<t.row&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),s=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(n.column+=s[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);0<n&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var s=r.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(i-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(0<t&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(s.lastIndex=0;(t=e[i])&&!s.test(t);)if(s.lastIndex=0,i++,n.test(t)){if(2<i){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(2<i)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==i.length){for(var o=this.doc.getLength();e++,n=this.doc.getLine(e),e<o&&/^\s*$/.test(n););/^\s+/.test(n)||(n=""),t=0}var r=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){for(;t--,n=this.doc.getLine(t),0<t&&/^\s*$/.test(n););i=n.length,/\s+$/.test(n)||(n="")}var s=r.stringReverse(n),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,i-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var s=this.session.screenToDocumentPosition(n.row+e,n.column,i);0!==e&&0===t&&s.row===this.lead.row&&s.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[s.row]&&(0<s.row||0<e)&&s.row++,this.moveCursorTo(s.row,s.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;var s=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(s.charAt(t))&&s.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return a.fromPoints(t,i)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(o.prototype),t.Selection=o}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){"use strict";var n=e("./config"),w=2e3,s=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],s=0,o=this.matchMappings[t]={defaultToken:"text"},r="g",a=[],l=0;l<i.length;l++){var h=i[l];if(h.defaultToken&&(o.defaultToken=h.defaultToken),h.caseInsensitive&&(r="gi"),null!=h.regex){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var c=h.regex,u=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(h.token)?1==h.token.length||1==u?h.token=h.token[0]:u-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:u-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):"function"==typeof h.token&&!h.onMatch&&(h.onMatch=1<u?this.$applyToken:h.token),1<u&&(c=/\\\d/.test(h.regex)?h.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+s+1)}):(u=1,this.removeCapturingGroups(h.regex)),!h.splitRegex&&"string"!=typeof h.token&&a.push(h)),o[s]=l,s+=u,n.push(c),h.onMatch||(h.onMatch=null)}}n.length||(o[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(e){w=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],s=0,o=i.length;s<o;s++)t[s]&&(n[n.length]={type:i[s],value:t[s]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,s=0,o=n.length;s<o;s++)t[s+1]&&(i[i.length]={type:n[s],value:t[s+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var r=0,a=!1,l={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,i,n,s,o){return a?a="]"!=s:s?a=!0:n?(r==l.stack&&(l.end=o+1,l.stack=-1),r--):i&&(r++,1!=i.length&&(l.stack=r,l.start=o)),e}),null!=l.end&&/^\)*$/.test(e.substr(l.end))&&(e=e.substring(0,l.start)+e.substr(l.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t)"#tmp"===(t=(i=t.slice(0))[0])&&(i.shift(),t=i.shift());else var i=[];var n=t||"start",s=this.states[n];s||(n="start",s=this.states[n]);for(var o,r=this.matchMappings[n],a=this.regExps[n],l=[],h=a.lastIndex=0,c=0,u={type:null,value:""};o=a.exec(e);){var d=r.defaultToken,g=null,f=o[0],m=a.lastIndex;if(m-f.length>h){var p=e.substring(h,m-f.length);u.type==d?u.value+=p:(u.type&&l.push(u),u={type:d,value:p})}for(var v=0;v<o.length-2;v++)if(void 0!==o[v+1]){d=(g=s[r[v]]).onMatch?g.onMatch(f,n,i,e):g.token,g.next&&(n="string"==typeof g.next?g.next:g.next(n,i),(s=this.states[n])||(this.reportError("state doesn't exist",n),n="start",s=this.states[n]),r=this.matchMappings[n],h=m,(a=this.regExps[n]).lastIndex=m),g.consumeLineEnd&&(h=m);break}if(f)if("string"==typeof d)g&&!1===g.merge||u.type!==d?(u.type&&l.push(u),u={type:d,value:f}):u.value+=f;else if(d){u.type&&l.push(u),u={type:null,value:""};for(v=0;v<d.length;v++)l.push(d[v])}if(h==e.length)break;if(h=m,c++>w){for(c>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});h<e.length;)u.type&&l.push(u),u={value:e.substring(h,h+=2e3),type:"overflow"};n="start",i=[];break}}return u.type&&l.push(u),1<i.length&&i[0]!==n&&i.unshift("#tmp",n),{tokens:l,state:i.length?i:n}},this.reportError=n.reportError}).call(s.prototype),t.Tokenizer=s}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var h=e("../lib/lang"),n=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],s=0;s<n.length;s++){var o=n[s];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,n,s){var o="function"==typeof e?(new e).getRules():e;if(n)for(var r=0;r<n.length;r++)n[r]=t+n[r];else for(var a in n=[],o)n.push(t+a);if(this.addRules(o,t),i){var l=Array.prototype[s?"push":"unshift"];for(r=0;r<n.length;r++)l.apply(this.$rules[n[r]],h.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var g=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},f=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var u=0,d=this.$rules;Object.keys(d).forEach(function e(t){var i=d[t];i.processed=!0;for(var n=0;n<i.length;n++){var s=i[n],o=null;Array.isArray(s)&&(o=s,s={}),!s.regex&&s.start&&(s.regex=s.start,s.next||(s.next=[]),s.next.push({defaultToken:s.token},{token:s.token+".end",regex:s.end||s.start,next:"pop"}),s.token=s.token+".start",s.push=!0);var r=s.next||s.push;if(r&&Array.isArray(r)){var a=s.stateName;a||("string"!=typeof(a=s.token)&&(a=a[0]||""),d[a]&&(a+=u++)),d[a]=r,e(s.next=a)}else"pop"==r&&(s.next=f);if(s.push&&(s.nextState=s.next||s.push,s.next=g,delete s.push),s.rules)for(var l in s.rules)d[l]?d[l].push&&d[l].push.apply(d[l],s.rules[l]):d[l]=s.rules[l];var h="string"==typeof s?s:s.include;if(h&&(o=Array.isArray(h)?h.map(function(e){return d[e]}):d[h]),o){var c=[n,1].concat(o);s.noEscape&&(c=c.filter(function(e){return!e.next})),i.splice.apply(i,c),n--}s.keywordMap&&(s.token=this.createKeywordMapper(s.keywordMap,s.defaultToken||"text",s.caseInsensitive),delete s.defaultToken)}},this)},this.createKeywordMapper=function(s,t,o,r){var a=Object.create(null);return Object.keys(s).forEach(function(e){var t=s[e];o&&(t=t.toLowerCase());for(var i=t.split(r||"|"),n=i.length;n--;)a[i[n]]=e}),Object.getPrototypeOf(a)&&(a.__proto__=null),this.$keywordList=Object.keys(a),s=null,o?function(e){return a[e.toLowerCase()]||t}:function(e){return a[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(n.prototype),t.TextHighlightRules=n}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range,s=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;0<t;)i+=e[t-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)}}).call(s.prototype),t.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var m,n=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,p=e("../../lib/lang"),r=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l={},y={'"':'"',"'":"'"},C=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount})),l[t])return m=l[t];m=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},S=function(e,t,i,n){var s=e.end.row-e.start.row;return{text:i+t+n,selection:[0,e.start.column+1,s,e.end.column+(s?0:1)]}},h=function g(f){this.add("braces","insertion",function(e,t,i,n,s){var o=i.getCursorPosition(),r=n.doc.getLine(o.row);if("{"==s){C(i);var a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(""!==l&&"{"!==l&&i.getWrapBehavioursEnabled())return S(a,l,"{","}");if(g.isSaneInsertion(i,n))return/[\]\}\)]/.test(r[o.column])||i.inMultiSelectMode||f&&f.braces?(g.recordAutoInsert(i,n,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(i,n,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(C(i),"}"==r.substring(o.column,o.column+1))if(null!==n.$findOpeningBracket("}",{column:o.column+1,row:o.row})&&g.isAutoInsertedClosing(o,r,s))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){C(i);var h="";if(g.isMaybeInsertedClosing(o,r)&&(h=p.stringRepeat("}",m.maybeInsertedBrackets),g.clearMaybeInsertedClosing()),"}"===r.substring(o.column,o.column+1)){var c=n.findMatchingBracket({row:o.row,column:o.column+1},"}");if(!c)return null;var u=this.$getIndent(n.getLine(c.row))}else{if(!h)return void g.clearMaybeInsertedClosing();u=this.$getIndent(r)}var d=u+n.getTabString();return{text:"\n"+d+"\n"+u+h,selection:[1,d.length,1,d.length]}}g.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(C(i),"}"==n.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;m.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,s){if("("==s){C(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(""!==r&&i.getWrapBehavioursEnabled())return S(o,r,"(",")");if(g.isSaneInsertion(i,n))return g.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==s){C(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&g.isAutoInsertedClosing(a,l,s))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"("==o&&(C(i),")"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s}),this.add("brackets","insertion",function(e,t,i,n,s){if("["==s){C(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(""!==r&&i.getWrapBehavioursEnabled())return S(o,r,"[","]");if(g.isSaneInsertion(i,n))return g.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){C(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&g.isAutoInsertedClosing(a,l,s))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"["==o&&(C(i),"]"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s}),this.add("string_dquotes","insertion",function(e,t,i,n,s){var o=n.$mode.$quotes||y;if(1==s.length&&o[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;C(i);var r=s,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(""!==l&&(1!=l.length||!o[l])&&i.getWrapBehavioursEnabled())return S(a,l,r,r);if(!l){var h=i.getCursorPosition(),c=n.doc.getLine(h.row),u=c.substring(h.column-1,h.column),d=c.substring(h.column,h.column+1),g=n.getTokenAt(h.row,h.column),f=n.getTokenAt(h.row,h.column+1);if("\\"==u&&g&&/escape/.test(g.type))return null;var m,p=g&&/string|escape/.test(g.type),v=!f||/string|escape/.test(f.type);if(d==r)(m=p!==v)&&/string\.end/.test(f.type)&&(m=!1);else{if(p&&!v)return null;if(p&&v)return null;var w=n.$mode.tokenRe;w.lastIndex=0;var $=w.test(u);w.lastIndex=0;var b=w.test(u);if($||b)return null;if(d&&!/[\s;,.})\]\\]/.test(d))return null;m=!0}return{text:m?r+r:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,s){var o=n.$mode.$quotes||y,r=n.doc.getTextRange(s);if(!s.isMultiLine()&&o.hasOwnProperty(r)&&(C(i),n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==r))return s.end.column++,s})};h.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new o(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",r)){var s=new o(t,i.row,i.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",r))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",a)},h.$matchTokenType=function(e,t){return-1<t.indexOf(e.type||e)},h.recordAutoInsert=function(e,t,i){var n=e.getCursorPosition(),s=t.doc.getLine(n.row);this.isAutoInsertedClosing(n,s,m.autoInsertedLineEnd[0])||(m.autoInsertedBrackets=0),m.autoInsertedRow=n.row,m.autoInsertedLineEnd=i+s.substr(n.column),m.autoInsertedBrackets++},h.recordMaybeInsert=function(e,t,i){var n=e.getCursorPosition(),s=t.doc.getLine(n.row);this.isMaybeInsertedClosing(n,s)||(m.maybeInsertedBrackets=0),m.maybeInsertedRow=n.row,m.maybeInsertedLineStart=s.substr(0,n.column)+i,m.maybeInsertedLineEnd=s.substr(n.column),m.maybeInsertedBrackets++},h.isAutoInsertedClosing=function(e,t,i){return 0<m.autoInsertedBrackets&&e.row===m.autoInsertedRow&&i===m.autoInsertedLineEnd[0]&&t.substr(e.column)===m.autoInsertedLineEnd},h.isMaybeInsertedClosing=function(e,t){return 0<m.maybeInsertedBrackets&&e.row===m.maybeInsertedRow&&t.substr(e.column)===m.maybeInsertedLineEnd&&t.substr(0,e.column)==m.maybeInsertedLineStart},h.popAutoInsertedClosing=function(){m.autoInsertedLineEnd=m.autoInsertedLineEnd.substr(1),m.autoInsertedBrackets--},h.clearMaybeInsertedClosing=function(){m&&(m.maybeInsertedBrackets=0,m.maybeInsertedRow=-1)},n.inherits(h,s),t.CstyleBehaviour=h}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,o=[],r=0;r<n.length;r+=2)o.push(s+=n[r]),n[r+1]&&o.push(45,s+=n[r+1]);t.wordChars=String.fromCharCode.apply(null,o)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var r=e("../config"),n=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),y=e("../lib/lang"),m=e("../token_iterator").TokenIterator,p=e("../range").Range,l=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,s,i,n){function t(e){for(var t=i;t<=n;t++)e(o.getLine(t),t)}var o=s.doc,r=!0,a=!0,l=1/0,h=s.getTabSize(),c=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(y.escapeRegExp).join("|"),g=this.lineCommentStart[0];else m=y.escapeRegExp(this.lineCommentStart),g=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),c=s.getUseSoftTabs();w=function(e,t){var i=e.match(m);if(i){var n=i[1].length,s=i[0].length;!d(e,n,s)&&" "==i[0][s-1]&&s--,o.removeInLine(t,n,s)}};var u=g+" ",d=(v=function(e,t){r&&!/\S/.test(e)||(d(e,l,l)?o.insertInLine({row:t,column:l},u):o.insertInLine({row:t,column:l},g))},$=function(e,t){return m.test(e)},function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%h!=0)return!1;for(n=0;" "==e.charAt(i++);)n++;return 2<h?n%h!=h-1:n%h==0})}else{if(!this.blockComment)return!1;var g=this.blockComment.start,f=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+y.escapeRegExp(g)+")"),p=new RegExp("(?:"+y.escapeRegExp(f)+")\\s*$"),v=function(e,t){$(e,t)||r&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},f),o.insertInLine({row:t,column:l},g))},w=function(e,t){var i;(i=e.match(p))&&o.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(m))&&o.removeInLine(t,i[1].length,i[0].length)},$=function(e,t){if(m.test(e))return!0;for(var i=s.getTokens(t),n=0;n<i.length;n++)if("comment"===i[n].type)return!0}}var b=1/0;t(function(e,t){var i=e.search(/\S/);-1!==i?(i<l&&(l=i),a&&!$(e,t)&&(a=!1)):b>e.length&&(b=e.length)}),l==1/0&&(l=b,a=r=!1),c&&l%h!=0&&(l=Math.floor(l/h)*h),t(a?w:v)},this.toggleBlockComment=function(e,t,i,n){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(g=new m(t,n.row,n.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,c;a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(s.start))){var u=g.getCurrentTokenRow(),d=g.getCurrentTokenColumn()+f;h=new p(u,d,u,d+s.start.length);break}a=g.stepBackward()}var g;for(a=(g=new m(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var f;if(-1!=(f=a.value.indexOf(s.end))){u=g.getCurrentTokenRow(),d=g.getCurrentTokenColumn()+f;c=new p(u,d,u,d+s.end.length);break}a=g.stepForward()}c&&t.remove(c),h&&(t.remove(h),o=h.start.row,r=-s.start.length)}else r=s.start.length,o=i.start.row,t.insert(i.end,s.end),t.insert(i.start,s.start);l.start.row==o&&(l.start.column+=r),l.end.row==o&&(l.end.column+=r),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var n in this.$embeds=[],this.$modes={},e)if(e[n]){var t=e[n],i=t.prototype.$id,s=r.$modes[i];s||(r.$modes[i]=s=new t),r.$modes[n]||(r.$modes[n]=s),this.$embeds.push(n),this.$modes[n]=s}var o=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(n=0;n<o.length;n++)!function(e){var t=o[n],i=e[t];e[o[n]]=function(){return this.$delegator(t,arguments,i)}}(this)},this.$delegator=function(e,t,i){var n=t[0];if("string"!=typeof n){if(Array.isArray(n[2])){var s=n[2][n[2].length-1];if(r=this.$modes[s])return r[e].apply(r,[n[1]].concat([].slice.call(t,1)))}n=n[0]}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r,a=n.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(r=this.$modes[this.$embeds[o]])[e].apply(r,t)}var l=i.apply(this,t);return i?l:void 0},this.transformAction=function(e,t,i,n,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var s=t[n],o=0,r=s.length;o<r;o++)if("string"==typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&i.push(s[o].regex);else if("object"==_typeof(s[o].token))for(var a=0,l=s[o].token.length;a<l;a++)if(/keyword|support|storage/.test(s[o].token[a])){n=s[o].regex.match(/\(.+?\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(l.prototype),t.Mode=l}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){"use strict";t.applyDelta=function(e,t,i){var n=t.start.row,s=t.start.column,o=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=o.substring(0,s)+t.lines[0]+o.substring(s);else{var r=[n,1].concat(t.lines);e.splice.apply(e,r),e[n]=o.substring(0,s)+e[n],e[n+t.lines.length-1]+=o.substring(s)}break;case"remove":var a=t.end.column,l=t.end.row;n===l?e[n]=o.substring(0,s)+o.substring(a):e.splice(n,l-n+1,o.substring(0,s)+e[l].substring(a))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function c(e,t,i){var n=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t,i,n,s,o,r,a,l,h=(t=e,i={row:this.row,column:this.column},n=this.$insertRight,s="insert"==t.action,o=(s?1:-1)*(t.end.row-t.start.row),r=(s?1:-1)*(t.end.column-t.start.column),a=t.start,l=s?a:t.end,c(i,a,n)?{row:i.row,column:i.column}:c(l,i,!n)?{row:i.row+o,column:i.column+(i.row==l.row?r:0)}:{row:a.row,column:a.column});this.setPosition(h.row,h.column,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:s,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):i.column=e<0?i.row=0:(i.row=e,Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,c=e("./range").Range,r=e("./anchor").Anchor,a=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new c(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new r(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:i<=e&&(e=i-1,t=void 0);var n=this.getLine(e);return null==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0;i=(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),0):(t=[""].concat(t),e--,this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),s=this.clippedPos(e,i);return this.applyDelta({start:n,end:s,action:"remove",lines:this.getLinesForRange({start:n,end:s})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&0<e,n=t<this.getLength()-1,s=i?e-1:e,o=i?this.getLine(s).length:0,r=n?t+1:t,a=n?0:this.getLine(r).length,l=new c(s,o,r,a),h=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&0<=e&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof c||(e=c.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;0<=t;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!c.comparePoints(e.start,e.end))||(i&&2e4<e.lines.length?this.$splitAndapplyLargeDelta(e,2e4):(s(this.$lines,e,t),this._signal("change",e)))},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length-t+1,s=e.start.row,o=e.start.column,r=0,a=0;r<n;r=a){a+=t-1;var l=i.slice(r,a);l.push(""),this.applyDelta({start:this.pos(s+r,o),end:this.pos(s+a,o=0),action:e.action,lines:l},!0)}e.lines=i.slice(r),e.start.row=s+r,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=t||0,o=i.length;s<o;s++)if((e-=i[s].length+n)<0)return{row:s,column:e+i[s].length+n};return{row:o-1,column:e+i[o-1].length+n}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,i.length),r=t||0;r<o;++r)s+=i[r].length+n;return s+e.column}}).call(a.prototype),t.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var a=this;this.$worker=function(){if(a.running){for(var e=new Date,t=a.currentLine,i=-1,n=a.doc,s=t;a.lines[t];)t++;var o=n.getLength(),r=0;for(a.running=!1;t<o;){for(a.$tokenizeRow(t),i=t;t++,a.lines[t];);if(++r%5==0&&20<new Date-e){a.running=setTimeout(a.$worker,20);break}}a.currentLine=t,-1==i&&(i=t),s<=i&&a.fireUpdateEvent(s,i)}}};(function(){n.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,i+1,null),this.states.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var h=e("./lib/lang"),c=(e("./lib/oop"),e("./range").Range),n=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,n){if(this.regExp)for(var s=n.firstRow,o=n.lastRow,r=s;r<=o;r++){var a=this.cache[r];null==a&&((a=h.getMatchOffsets(i.getLine(r),this.regExp)).length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map(function(e){return new c(r,e.offset,r,e.offset+e.length)}),this.cache[r]=a.length?a:"");for(var l=a.length;l--;)t.drawSingleLineMarker(e,a[l].toScreenRange(i),this.clazz,n)}}}).call(n.prototype),t.SearchHighlight=n}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";function h(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var n=e("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),0<this.range.compareEnd(e.start.row,e.start.column)?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(n=r[l]).range.compareStart(t,i)))return void e(null,t,i,o,a);if(!e(null,n.start.row,n.start.column,o,a)&&e(n.placeholder,n.start.row,n.start.column,o)||0===s)return;a=!n.sameRow,o=n.end.column}e(null,t,i,o,a)},this.getNextFoldTo=function(e,t){for(var i,n,s=0;s<this.folds.length;s++){if(-1==(n=(i=this.folds[s]).range.compareEnd(e,t)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,s,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var r=(s=this.folds).indexOf(n);for(0===r&&(this.start.column+=i);r<s.length;r++){if((n=s[r]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var n=i.fold,s=this.folds,o=this.foldData,r=s.indexOf(n),a=s[r-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new h(o,s=s.splice(r,s.length-r));return o.splice(o.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(h.prototype),t.FoldLine=h}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var l=e("./range").Range.comparePoints,n=function(){this.ranges=[]};(function(){this.comparePoints=l,this.pointIndex=function(e,t,i){for(var n=this.ranges,s=i||0;s<n.length;s++){var o=n[s],r=l(e,o.end);if(!(0<r)){var a=l(e,o.start);return 0===r?t&&0!==a?-s-2:s:0<a||0===a&&!t?s:-s-1}}return-s-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,n=(i=i.sort(function(e,t){return l(e.start,t.start)}))[0],s=1;s<i.length;s++){e=n,n=i[s];var o=l(e.end,n.start);o<0||(0!=o||e.isEmpty()||n.isEmpty())&&(l(e.end,n.end)<0&&(e.end.row=n.end.row,e.end.column=n.end.column),i.splice(s,1),t.push(n),n=e,s--)}return this.ranges=i,t},this.contains=function(e,t){return 0<=this.pointIndex({row:e,column:t})},this.containsPoint=function(e){return 0<=this.pointIndex(e)},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var s=this.pointIndex({row:t,column:0},n);s<0&&(s=-s-1);for(var o=[],r=n;r<s;r++)o.push(i[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,i=e.end,n=t.row,s=i.row,o=this.ranges,r=0,a=o.length;r<a;r++){if((c=o[r]).end.row>=n)break}if("insert"==e.action)for(var l=s-n,h=-t.column+i.column;r<a;r++){if((c=o[r]).start.row>n)break;if(c.start.row==n&&c.start.column>=t.column&&(c.start.column!=t.column||!this.$insertRight)&&(c.start.column+=h,c.start.row+=l),c.end.row==n&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&0<h&&r<a-1&&c.end.column>c.start.column&&c.end.column==o[r+1].start.column&&(c.end.column-=h),c.end.column+=h,c.end.row+=l}}else for(l=n-s,h=t.column-i.column;r<a;r++){if((c=o[r]).start.row>s)break;c.end.row<s&&(c.end.row=n,c.end.column=t.column),(c.start.row<s||c.start.row==s&&c.start.column<=i.colum)&&(c.start.row=n,c.start.column=t.column),c.end.row==s&&(c.end.column<=i.column?(l||c.end.column>t.column)&&(c.end.column=t.column,c.end.row=t.row):(c.end.column+=h,c.end.row+=l)),c.start.row==s&&(c.start.column<=i.column?(l||c.start.column>t.column)&&(c.start.column=t.column,c.start.row=t.row):(c.start.column+=h,c.start.row+=l))}if(0!=l&&r<a)for(;r<a;r++){var c;(c=o[r]).start.row+=l,c.end.row+=l}}}).call(n.prototype),t.RangeList=n}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";function h(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function n(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}e("../range").Range;var s=e("../range_list").RangeList,o=e("../lib/oop"),r=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};o.inherits(r,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var e=this.range.clone(),t=new r(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);var t,i;t=e,i=this.start,h(t.start,i),h(t.end,i);for(var n=e.start.row,s=e.start.column,o=0,r=-1;o<this.subFolds.length&&1==(r=this.subFolds[o].range.compare(n,s));o++);var a=this.subFolds[o];if(0==r)return a.addSubFold(e);n=e.range.end.row,s=e.range.end.column;var l=o;for(r=-1;l<this.subFolds.length&&1==(r=this.subFolds[l].range.compare(n,s));l++);this.subFolds[l];if(0==r)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(o,l-o,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return t=e,i=this.start,n(t.start,i),void n(t.end,i);var t,i}}.call(r.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";var c=e("../range").Range,m=e("./fold_line").FoldLine,p=e("./fold").Fold,u=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var s=n.folds,o=0;o<s.length;o++){var r=s[o];if(r.range.contains(e,t)){if(1==i&&r.range.isEnd(e,t))continue;if(-1==i&&r.range.isStart(e,t))continue;return r}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,s=[];t.column+=1,i.column-=1;for(var o=0;o<n.length;o++){var r=n[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=n[o].folds,l=0;l<a.length;l++){var h=a[l];if(-2==(r=h.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(h)}}}}return t.column-=1,i.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==i?s.substring(0,t-r.end.column):1==i?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,s=0;s<i.length;s++){var o=i[s],r=o.end.row,a=o.start.row;if(t<=r){a<t&&(e<=a?n-=t-a:n=0);break}e<=r&&(n-=e<=a?r-a:r-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,s=!1;e instanceof p?i=e:(i=new p(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var o=i.start.row,r=i.start.column,a=i.end.row,l=i.end.column;if(o<a||o==a&&r<=l-2){var h=this.getFoldAt(o,r,1),c=this.getFoldAt(a,l,-1);if(h&&c==h)return h.addSubFold(i);h&&!h.range.isStart(o,r)&&this.removeFold(h),c&&!c.range.isEnd(a,l)&&this.removeFold(c);var u=this.getFoldsInRange(i.range);0<u.length&&(this.removeFolds(u),u.forEach(function(e){i.addSubFold(e)}));for(var d=0;d<n.length;d++){var g=n[d];if(a==g.start.row){g.addFold(i),s=!0;break}if(o==g.end.row){if(g.addFold(i),s=!0,!i.sameRow){var f=n[d+1];if(f&&f.start.row==a){g.merge(f);break}}break}if(a<=g.start.row)break}return s||(g=this.$addFoldLine(new m(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),0<t.collapseChildren&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i,n;if(null==e?(i=new c(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new c(e,0,e,this.getLine(e).length):"row"in e?c.fromPoints(e,e):e,n=this.getFoldsInRangeList(i),t)this.removeFolds(n);else for(var s=n;s.length;)this.expandFolds(s),s=this.getFoldsInRangeList(i);if(n.length)return n},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,s,o){null==s&&(s=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var r=this.doc,a="";return e.walk(function(e,t,i,n){if(!(t<s)){if(t==s){if(i<o)return;n=Math.max(o,n)}a+=null!=e?e:r.getLine(t).substring(n,i)}},t,i),a},this.getDisplayLine=function(e,t,i,n){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,i,n):(s=this.doc.getLine(e)).substring(n||0,t||s.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(e){var t=e.folds.map(function(e){return e.clone()});return new m(i,t)})},this.toggleFold=function(e){var t,i,n=this.selection.getRange();if(n.isEmpty()){var s=n.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(i=this.findMatchingBracket(s))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var r="...";if(!n.isMultiLine()){if((r=this.getTextRange(n)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,n)}},this.getCommentFoldRange=function(e,t,i){var n=new u(this,e,t),s=n.getCurrentToken(),o=s.type;if(s&&/^comment|string/.test(o)){"comment"==(o=o.match(/comment|string/)[0])&&(o+="|doc-start");var r=new RegExp(o),a=new c;if(1!=i){for(;(s=n.stepBackward())&&r.test(s.type););n.stepForward()}if(a.start.row=n.getCurrentTokenRow(),a.start.column=n.getCurrentTokenColumn()+2,n=new u(this,e,t),-1!=i){var l=-1;do{if(s=n.stepForward(),-1==l){var h=this.getState(n.$row);r.test(h)||(l=n.$row)}else if(n.$row>l)break}while(s&&r.test(s.type));s=n.stepBackward()}else s=n.getCurrentToken();return a.end.row=n.getCurrentTokenRow(),a.end.column=n.getCurrentTokenColumn()+s.value.length-2,a}},this.foldAll=function(e,t,i){null==i&&(i=1e5);var n=this.foldWidgets;if(n){t=t||this.getLength();for(var s=e=e||0;s<t;s++)if(null==n[s]&&(n[s]=this.getFoldWidget(s)),"start"==n[s]){var o=this.getFoldWidgetRange(s);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){s=o.end.row;try{var r=this.addFold("...",o);r&&(r.collapseChildren=i)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){"manual"==(this.$foldStyle=e)&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,s=e-1;0<=s;){var o=i[s];if(null==o&&(o=i[s]=this.getFoldWidget(s)),"start"==o){var r=this.getFoldWidgetRange(s);if(n||(n=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:n}},this.onFoldWidgetClick=function(e,t){var i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,i)){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),s="end"===i?-1:1,o=this.getFoldAt(e,-1===s?0:n.length,s);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var r=this.getFoldWidgetRange(e,!0);if(r&&!r.isMultiLine()&&(o=this.getFoldAt(r.start.row,r.start.column,1))&&r.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,h=a.range.end.row;this.foldAll(l,h,t.all?1e4:0)}else t.children?(h=r?r.end.row:this.getLength(),this.foldAll(e+1,h,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold("...",r));return r}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0===i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,i+1,null);else{var n=Array(i+1);n.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var u=e("../token_iterator").TokenIterator,a=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,s=i.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=i.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1),!o)return null;if(o[1]){if(!(r=this.$findClosingBracket(o[1],e)))return null;t=a.fromPoints(e,r),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var r;if(!(r=this.$findOpeningBracket(o[2],e)))return null;t=a.fromPoints(r,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,i){var n=this.$brackets[e],s=1,o=new u(this,t.row,t.column),r=o.getCurrentToken();if(r||(r=o.stepForward()),r){i||(i=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var a=t.column-o.getCurrentTokenColumn()-2,l=r.value;;){for(;0<=a;){var h=l.charAt(a);if(h==n){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else h==e&&(s+=1);a-=1}for(;(r=o.stepBackward())&&!i.test(r.type););if(null==r)break;a=(l=r.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var n=this.$brackets[e],s=1,o=new u(this,t.row,t.column),r=o.getCurrentToken();if(r||(r=o.stepForward()),r){i||(i=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var a=t.column-o.getCurrentTokenColumn();;){for(var l=r.value,h=l.length;a<h;){var c=l.charAt(a);if(c==n){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a+=1}for(;(r=o.stepForward())&&!i.test(r.type););if(null==r)break;a=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),o=e("./bidihandler").BidiHandler,r=e("./config"),l=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,h=e("./mode/text").Mode,c=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,g=e("./search_highlight").SearchHighlight,f=function e(t,i){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==_typeof(t)&&t.getLine||(t=new u(t)),this.setDocument(t),this.selection=new a(this),this.$bidiHandler=new o(this),r.resetOptions(this),this.setMode(i),r._signal("session",this)};f.$uid=0,function(){function a(e){return!(e<4352)&&(4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12288<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510)}n.implement(this,l),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=e).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;i<t&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=e[s];if(o<t)i=s+1;else{if(!(t<o))return s;n=s-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),s=0;if(null==t){var o=n.length-1;s=this.getLine(e).length}else for(o=0;o<n.length&&!(t<=(s+=n[o].value.length));o++);return(i=n[o])?(i.index=o,i.start=s-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var s=this.$markerId++,o={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:s};return n?(this.$frontMarkers[s]=o,this._signal("changeFrontMarker")):(this.$backMarkers[s]=o,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var s=new c(e,0,t,1/0);return s.id=this.addMarker(s,i,"fullLine",n),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(0<t&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var s=this.tokenRe;else if(/^\s+$/.test(i.slice(t-1,t+1)))s=/\s/;else s=this.nonTokenRe;var o=t;if(0<o){for(;0<=--o&&i.charAt(o).match(s););o++}for(var r=t;r<i.length&&i.charAt(r).match(s);)r++;return new c(e,o,e,r)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=r.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==_typeof(e)){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new h),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,r.loadModule(["mode",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||((this.$modes[n]=e).$id=n),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var s=this;this.bgTokenizer.addEventListener("update",function(e){s._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(r<l){if(a<=(l=o.end.row+1))break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];("insert"==n.action||"remove"==n.action)&&this.doc.applyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var n,s,o=0;o<e.length;o++){var r=e[o];r.start&&(n?i(r)?(s=r.start,-1==n.compare(s.row,s.column)&&n.setStart(s),s=r.end,1==n.compare(s.row,s.column)&&n.setEnd(s),!0):(s=r.start,-1==n.compare(s.row,s.column)&&(n=c.fromPoints(r.start,r.start)),!1):i(r)?(n=c.fromPoints(r.start,r.end),!0):(n=c.fromPoints(r.start,r.start),!1))}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),s=this.getFoldsInRange(e),o=c.fromPoints(t,t);if(!i){this.remove(e);var r=e.start.row-e.end.row;(h=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=h),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=h)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,n),s.length){var a=e.start,l=o.start,h=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map(function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=h),e.end.row==a.row&&(e.end.column+=h),e.start.row+=r,e.end.row+=r,e}))}return o},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new c(0,0,0,0),n=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);i.start.row=s,i.end.row=s;for(var r=0;r<n&&" "==o.charAt(r);++r);r<n&&"\t"==o.charAt(r)?(i.start.column=r,i.end.column=r+1):(i.start.column=0,i.end.column=r),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((s=this.getRowFoldStart(e+i))<0)return 0;var n=s-e}else if(0<i){var s;if((s=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=s-t}else{e=this.$clipRowToDocument(e);n=(t=this.$clipRowToDocument(t))-e+1}var o=new c(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map(function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),r.length&&this.addFolds(r),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)t=e=0;else{var i=this.doc.getLength();t=i<=e?(e=i-1,this.doc.getLine(i-1).length):Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&1<n&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,s=e.end,o=n.row,r=s.row,a=r-o,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var h=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var c=0;if(m=this.getFoldLine(s.row)){m.addRemoveChars(s.row,s.column,n.column-s.column),m.shiftRow(-a);var u=this.getFoldLine(o);u&&u!==m&&(u.merge(m),m=u),c=h.indexOf(m)+1}for(;c<h.length;c++){(m=h[c]).start.row>=s.row&&m.shiftRow(-a)}r=o}else{var d=Array(a);d.unshift(o,0);var g=t?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,d);h=this.$foldData,c=0;if(m=this.getFoldLine(o)){var f=m.range.compareInside(n.row,n.column);0==f?(m=m.split(n.row,n.column))&&(m.shiftRow(a),m.addRemoveChars(r,0,s.column-n.column)):-1==f&&(m.addRemoveChars(o,0,s.column-n.column),m.shiftRow(a)),c=h.indexOf(m)+1}for(;c<h.length;c++){var m;(m=h[c]).start.row>=o&&m.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(m=this.getFoldLine(o))&&m.addRemoveChars(o,n.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r,i,a=this.doc.getAllLines(),n=this.getTabSize(),s=this.$wrapData,o=this.$wrapLimit,l=e;for(t=Math.min(t,a.length-1);l<=t;)(i=this.getFoldLine(l,i))?(r=[],i.walk(function(e,t,i,n){var s;if(null!=e){(s=this.$getDisplayTokens(e,r.length))[0]=f;for(var o=1;o<s.length;o++)s[o]=m}else s=this.$getDisplayTokens(a[t].substring(n,i),r.length);r=r.concat(s)}.bind(this),i.end.row,a[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(r,o,n),l=i.end.row+1):(r=this.$getDisplayTokens(a[l]),s[l]=this.$computeWrapSplits(r,o,n),l++)};var f=3,m=4;this.$computeWrapSplits=function(s,e,o){function t(e){for(var t=e-a,i=a;i<e;i++){var n=s[i];12!==n&&2!==n||(t-=1)}r.length||(d=function(){var e=0;if(0===u)return e;if(c)for(var t=0;t<s.length;t++){var i=s[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=o}}return h&&!1!==c&&(e+=o),Math.min(e,u)}(),r.indent=d),l+=t,r.push(l),a=e}if(0==s.length)return[];for(var r=[],i=s.length,a=0,l=0,h=this.$wrapAsCode,c=this.$indentedSoftWrap,u=e<=Math.max(2*o,8)||!1===c?0:Math.floor(e/2),d=0;e-d<i-a;){var n=a+e-d;if(10<=s[n-1]&&10<=s[n])t(n);else if(s[n]!=f&&s[n]!=m){for(var g=Math.max(n-(e-(e>>2)),a-1);g<n&&s[n]<f;)n--;if(h){for(;g<n&&s[n]<f;)n--;for(;g<n&&9==s[n];)n--}else for(;g<n&&s[n]<10;)n--;g<n?t(++n):(2==s[n=a+e]&&n--,t(n-d))}else{for(;n!=a-1&&s[n]!=f;n--);if(a<n){t(n);continue}for(n=a+e;n<s.length&&s[n]==m;n++);if(n==s.length)break;t(n)}}return r},this.$getDisplayTokens=function(e,t){var i,n=[];t=t||0;for(var s=0;s<e.length;s++){var o=e.charCodeAt(s);if(9==o){i=this.getScreenTabSize(n.length+t),n.push(11);for(var r=1;r<i;r++)n.push(12)}else 32==o?n.push(10):39<o&&o<48||57<o&&o<64?n.push(9):4352<=o&&a(o)?n.push(1,2):n.push(1)}return n},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var n,s;for(null==t&&(t=1/0),i=i||0,s=0;s<e.length&&(9==(n=e.charCodeAt(s))?i+=this.getScreenTabSize(i):4352<=n&&a(n)?i+=2:i+=1,!(t<i));s++);return[i,s]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var n,s,o=0,r=0,a=0,l=0,h=this.$screenRowCache,c=this.$getRowCacheIndex(h,e),u=h.length;if(u&&0<=c){a=h[c],o=this.$docRowCache[c];var d=e>h[u-1]}else d=!u;for(var g=this.getLength()-1,f=this.getNextFoldLine(o),m=f?f.start.row:1/0;a<=e&&!(e<a+(l=this.getRowLength(o))||g<=o);)a+=l,m<++o&&(o=f.end.row+1,m=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)n=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||g<o)return{row:g,column:this.getLine(g).length};n=this.getLine(o),f=null}var p=0,v=Math.floor(e-a);if(this.$useWrapMode){var w=this.$wrapData[o];w&&(s=w[v],0<v&&w.length&&(p=w.indent,r=w[v-1]||w[w.length-1],n=n.substring(r)))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(i)),r+=this.$getStringScreenWidth(n,t-p)[1],this.$useWrapMode&&s<=r&&(r=s-1),f?f.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if(void 0===t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n,s=0,o=null;(n=this.getFoldAt(e,t,1))&&(e=n.start.row,t=n.start.column);var r,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,e),c=l.length;if(c&&0<=h){a=l[h],s=this.$screenRowCache[h];var u=e>l[c-1]}else u=!c;for(var d=this.getNextFoldLine(a),g=d?d.start.row:1/0;a<e;){if(g<=a){if(e<(r=d.end.row+1))break;g=(d=this.getNextFoldLine(r,d))?d.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var f="";o=d&&g<=a?(f=this.getFoldDisplayLine(d,e,t),d.start.row):(f=this.getLine(e).substring(0,t),e);var m=0;if(this.$useWrapMode){var p=this.$wrapData[o];if(p){for(var v=0;f.length>=p[v];)s++,v++;f=f.substring(p[v-1]||0,f.length),m=0<v?p.indent:0}}return{row:s,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);n<i;){var o=this.$wrapData[n];e+=o?o.length+1:1,s<++n&&(n=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(o){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,t,i){if(0===t)return[0,0];var n,s;for(t||(t=1/0),i=i||0,s=0;s<e.length&&!(t<(i+="\t"===(n=e.charAt(s))?this.getScreenTabSize(i):o.getCharacterWidth(n)));s++);return[i,s]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=a}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),r.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var b=e("./lib/lang"),n=e("./lib/oop"),y=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return n.mixin(this.$options,e),this},this.getOptions=function(){return b.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var s=this.$options,t=this.$matchIterator(e,s);if(!t)return!1;var o=null;return t.forEach(function(e,t,i,n){return o=new y(e,t,i,n),!(t==n&&s.start&&s.start.start&&0!=s.skipCurrent&&o.isEqual(s.start))||(o=null,!1)}),o},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,n=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],o=t.re;if(t.$isMultiLine){var r,a=o.length,l=n.length-a;e:for(var h=o.offset||0;h<=l;h++){for(var c=0;c<a;c++)if(-1==n[h+c].search(o[c]))continue e;var u=n[h],d=n[h+a-1],g=u.length-u.match(o[0])[0].length,f=d.match(o[a-1])[0].length;r&&r.end.row===h&&r.end.column>g||(s.push(r=new y(h,g,h+a-1,f)),2<a&&(h=h+a-2))}}else for(var m=0;m<n.length;m++){var p=b.getMatchOffsets(n[m],o);for(c=0;c<p.length;c++){var v=p[c];s.push(new y(m,v.offset,m,v.offset+v.length))}}if(i){var w=i.start.column,$=i.start.column;for(m=0,c=s.length-1;m<c&&s[m].start.column<w&&s[m].start.row==i.start.row;)m++;for(;m<c&&s[c].end.column>$&&s[c].end.row==i.end.row;)c--;for(s=s.slice(m,c+1),m=0,c=s.length;m<c;m++)s[m].start.row+=i.start.row,s[m].end.row+=i.start.row}return s},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var s=n.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=b.escapeRegExp(i)),e.wholeWord&&(i=function(e,t){function i(e){return/\w/.test(e)||t.regExp?"\\b":""}return i(e[0])+e+i(e[e.length-1])}(i,e));var n=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,n);try{var s=new RegExp(i,n)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],s=0;s<i.length;s++)try{n.push(new RegExp(i[s],t))}catch(e){return!1}return n},this.$matchIterator=function(c,i){var u=this.$assembleRegExp(i);if(!u)return!1;var l=1==i.backwards,e=0!=i.skipCurrent,t=i.range,n=i.start;n||(n=t?t[l?"end":"start"]:c.selection.getRange()),n.start&&(n=n[e!=l?"end":"start"]);var s=t?t.start.row:0,o=t?t.end.row:c.getLength()-1;if(l)var r=function(e){var t=n.row;if(!a(t,n.column,e)){for(t--;s<=t;t--)if(a(t,Number.MAX_VALUE,e))return;if(0!=i.wrap)for(t=o,s=n.row;s<=t;t--)if(a(t,Number.MAX_VALUE,e))return}};else r=function(e){var t=n.row;if(!a(t,n.column,e)){for(t+=1;t<=o;t++)if(a(t,0,e))return;if(0!=i.wrap)for(t=s,o=n.row;t<=o;t++)if(a(t,0,e))return}};if(i.$isMultiLine)var h=u.length,a=function(e,t,i){var n=l?e-h+1:e;if(!(n<0)){var s=c.getLine(n),o=s.search(u[0]);if(!(!l&&o<t||-1===o)){for(var r=1;r<h;r++)if(-1==(s=c.getLine(n+r)).search(u[r]))return;var a=s.match(u[h-1])[0].length;if(!(l&&t<a))return!!i(n,o,n+h-1,a)||void 0}}};else if(l)a=function(e,t,i){var n,s=c.getLine(e),o=[],r=0;for(u.lastIndex=0;n=u.exec(s);){var a=n[0].length;if(r=n.index,!a){if(r>=s.length)break;u.lastIndex=r+=1}if(n.index+a>t)break;o.push(n.index,a)}for(var l=o.length-1;0<=l;l-=2){var h=o[l-1];if(i(e,h,e,h+(a=o[l])))return!0}};else a=function(e,t,i){var n,s,o=c.getLine(e);for(u.lastIndex=t;s=u.exec(o);){var r=s[0].length;if(i(e,n=s.index,e,n+r))return!0;if(!r&&(u.lastIndex=n+=1,n>=o.length))return!1}};return{forEach:r}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){n.call(this,e,t),this.$singleCommand=!1}var a=e("../lib/keys"),o=e("../lib/useragent"),l=a.KEY_MODS;s.prototype=n.prototype,function(){function r(e){return"object"==_typeof(e)&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),(this.commands[e.name]=e).bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var s in n){var o=n[s];if(o==e)delete n[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(n[s]=o[0]))}}},this.bindKey=function(e,o,r){if("object"==_typeof(e)&&e&&(null==r&&(r=e.position),e=e[this.platform]),e)return"function"==typeof o?this.addCommand({exec:o,bindKey:e,name:o.name||e}):void e.split("|").forEach(function(e){var n="";if(-1!=e.indexOf(" ")){var t=e.split(/\s+/);e=t.pop(),t.forEach(function(e){var t=this.parseKeys(e),i=l[t.hashId]+t.key;n+=(n?" ":"")+i,this._addCommandToBinding(n,"chainKeys")},this),n+=" "}var i=this.parseKeys(e),s=l[i.hashId]+i.key;this._addCommandToBinding(n+s,o,r)},this)},this._addCommandToBinding=function(e,t,i){var n,s=this.commandKeyBinding;if(t)if(!s[e]||this.$singleCommand)s[e]=t;else{Array.isArray(s[e])?-1!=(n=s[e].indexOf(t))&&s[e].splice(n,1):s[e]=[s[e]],"number"!=typeof i&&(i=r(t));var o=s[e];for(n=0;n<o.length;n++){if(i<r(o[n]))break}o.splice(n,0,t)}else delete s[e]},this.addCommands=function(i){i&&Object.keys(i).forEach(function(e){var t=i[e];if(t){if("string"==typeof t)return this.bindKey(t,e);"function"==typeof t&&(t={exec:t}),"object"==_typeof(t)&&(t.name||(t.name=e),this.addCommand(t))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=a[i];if(a.FUNCTION_KEYS[n])i=a.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var s=0,o=t.length;o--;){var r=a.KEY_MODS[t[o]];if(null==r)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;s|=r}return{key:i,hashId:s}},this.findKeyCommand=function(e,t){var i=l[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var s=l[t]+i,o=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||0<n)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:o}):(e.$keyChain=e.$keyChain||s,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=s}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(r,s),function(){n.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var s={editor:t,command:e,args:i};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(r.prototype),t.CommandManager=r}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";function n(e,t){return{win:e,mac:t}}var h=e("../lib/lang"),s=e("../config"),c=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(t){s.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(t){s.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(t){s.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t&&(t=parseInt(prompt("Enter line number:"),10)),isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(t){s.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(t){s.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(h.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(i.row).length,o=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,r=e.session.doc.getLine(i.row),a=i.row+1;a<=n.row+1;a++){var l=h.stringTrimLeft(h.stringTrimRight(e.session.doc.getLine(a)));0!==l.length&&(l=" "+l),r+=l}n.row+1<e.session.doc.getLength()-1&&(r+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new c(i.row,0,n.row+2,0),r),0<o?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+o)):(s=e.session.doc.getLine(i.row).length>s?s+1:s,e.selection.moveCursorTo(i.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,s=[];n.length<1&&(n=[e.selection.getRange()]);for(var o=0;o<n.length;o++)o==n.length-1&&(n[o].end.row!==t||n[o].end.column!==i)&&s.push(new c(n[o].end.row,n[o].end.column,t,i)),0===o?(0!==n[o].start.row||0!==n[o].start.column)&&s.push(new c(0,0,n[o].start.row,n[o].start.column)):s.push(new c(n[o-1].end.row,n[o-1].end.column,n[o].start.row,n[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(o=0;o<s.length;o++)e.selection.addRange(s[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,i){"use strict";i.exports={lineMode:!1}}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var o=e("./lib/oop"),n=e("./lib/dom"),p=e("./lib/lang"),r=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,h=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,m=e("./range").Range,s=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,f=e("./commands/default_commands").commands,v=e("./config"),w=e("./token_iterator").TokenIterator,$=e("./clipboard"),b=function e(t,i,n){var s=t.getContainerElement();this.container=s,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(r.isMac?"mac":"win",f),"object"==("undefined"==typeof document?"undefined":_typeof(document))&&(this.textInput=new a(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new h(this)),this.keyBinding=new c(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=p.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(i||n&&n.session||new u("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};b.$uid=0,function(){o.implement(this,s),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=p.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),s=this.renderer.layerConfig;(n.start.row>=s.lastRow||n.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,i){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var n=this;v.loadModule(["keybinding",t],function(e){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(e&&e.handler),i&&i()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),i&&i()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}(this.session=e)?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||n.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var n=this;this.$highlightPending=!0,setTimeout(function(){n.$highlightPending=!1;var e=n.session;if(e&&e.bgTokenizer){var t=e.findMatchingBracket(n.getCursorPosition());if(t)var i=new m(t.row,t.column,t.row,t.column+1);else if(e.$mode.getMatching)i=e.$mode.getMatching(n.session);i&&(e.$bracketHighlight=e.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var u=this;this.$highlightTagPending=!0,setTimeout(function(){u.$highlightTagPending=!1;var e=u.session;if(e&&e.bgTokenizer){var t=u.getCursorPosition(),i=new w(u.session,t.row,t.column),n=i.getCurrentToken();if(!n||!/\b(?:tag-open|tag-name)/.test(n.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==n.type.indexOf("tag-open")||(n=i.stepForward())){var s=n.value,o=0,r=i.stepBackward();if("<"==r.value)for(;r=n,(n=i.stepForward())&&n.value===s&&-1!==n.type.indexOf("tag-name")&&("<"===r.value?o++:"</"===r.value&&o--),n&&0<=o;);else{for(;n=r,r=i.stepBackward(),n&&n.value===s&&-1!==n.type.indexOf("tag-name")&&("<"===r.value?o++:"</"===r.value&&o--),r&&o<=0;);i.stepForward()}if(!n)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var a=i.getCurrentTokenRow(),l=i.getCurrentTokenColumn(),h=new m(a,l,a,l+n.value.length),c=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=c&&0!==h.compareRange(c.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),e.$tagHighlight||(e.$tagHighlight=e.addMarker(h,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(1<this.renderer.$minLines)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new m(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,s=e.getLine(t.start.row),o=s.substring(i,n);if(!(5e3<o.length)&&/[\w\d]/.test(o)){var r=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=s.substring(i-1,n+1);if(r.test(a))return r}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),s=0;s<n.length;s++){var o=n[s];s&&n[s-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var r={text:e};return this._signal("copy",r),$.lineMode=i?r.text:"",r.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec("paste",this,i)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,i=t==$.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach(function(e){n.insert({row:e.start.row,column:0},t)});else{var s=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(s.length>o.length||s.length<2||!s[1])return this.commands.exec("insertstring",this,t);for(var r=o.length;r--;){var a=o[r];a.isEmpty()||n.remove(a),n.insert(a.start,s[r])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=n.transformAction(i.getState(s.row),"insertion",this,i,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(r=new m.fromPoints(s,s)).end.column+=e.length,this.session.remove(r)}}else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);i.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var h=s.column,c=i.getState(s.row),u=(a=i.getLine(s.row),n.checkOutdent(c,a,e));i.insert(s,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new m(s.row,h+o.selection[0],s.row,h+o.selection[1])):this.selection.setSelectionRange(new m(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),i.getDocument().isNewLine(e)){var d=n.getNextLineIndent(c,a.slice(0,s.column),i.getTabString());i.insert({row:s.row+1,column:0},d)}u&&n.autoOutdent(c,i,s.row)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var i=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(i):i(),this.endOperation()},this.applyComposition=function(e,t){var i;(t.extendLeft||t.extendRight)&&((i=this.selection.getRange()).start.column-=t.extendLeft,i.end.column+=t.extendRight,this.selection.setRange(i),!e&&!i.isEmpty()&&this.remove());((e||!this.selection.isEmpty())&&this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((i=this.selection.getRange()).start.column-=t.restoreStart,i.end.column-=t.restoreEnd,this.selection.setRange(i))},this.onCommandKey=function(e,t,i){this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),s=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if("\n"==o[o.length-1]){var r=i.getLine(t.end.row);/^\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,s=this.session.getLine(e.row);n=t<s.length?(i=s.charAt(t)+s.charAt(t-1),new m(e.row,t-1,e.row,t+1)):(i=s.charAt(t-1)+s.charAt(t-2),new m(e.row,t-2,e.row,t)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){h=this.$getSelectedRows();return void e.indentRows(h.first,h.last,"\t")}}var n=e.getLine(t.start.row),s=t.start,o=e.getTabSize(),r=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var a=o-r%o,l=p.stringRepeat(" ",a);else{for(a=r%o;" "==n[t.start.column-1]&&a;)t.start.column--,a--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var s=new m(0,0,0,0);for(n=e.first;n<=e.last;n++){var o=t.getLine(n);s.start.row=n,s.end.row=n,s.end.column=o.length,t.replace(s,i[n-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var s=i.exec(n);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new m(t,i-1,t,i),s=this.session.getTextRange(n);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,i);if(o){var r=0<=o.value.indexOf(".")?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&i<r?e*=Math.pow(10,o.end-i-1):e*=Math.pow(10,o.end-i),l+=e;var h=(l/=Math.pow(10,a)).toFixed(a),c=new m(t,o.start,t,o.end);this.session.replace(c,h),this.moveCursorTo(t,Math.max(o.start+1,i+h.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var i=this.selection.getCursor().row,e=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),s=this.selection.getWordRange().start.column,t=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=e-s-1;o<0&&(o=0);var r=0,a=0,l=this;n.match(/[A-Za-z0-9_]+/)&&t.forEach(function(e,t){a=r+e.length,r<=o&&o<=a&&(n=e,l.selection.clearSelection(),l.moveCursorTo(i,r+s),l.selection.selectTo(i,a+s)),r=a});for(var h,c=this.$toggleWordPairs,u=0;u<c.length;u++)for(var d=c[u],g=0;g<=1;g++){var f=+!g,m=n.match(new RegExp("^\\s?_?("+p.escapeRegExp(d[g])+")\\s?$","i"));if(m)n.match(new RegExp("([_]|^|\\s)("+p.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=n.replace(new RegExp(p.escapeRegExp(d[g]),"i"),function(e){var t=d[f];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+d[f].charAt(0).toUpperCase()+t.substr(1)),t}),this.insert(h),h="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var s=i.start.row;t.duplicateLines(s,s)}else{var o=n?i.start:i.end,r=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=r,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();i=this.$getSelectedRows(o),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(n=0),o.moveBy(n,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,h=r.length,c=0;c<h;c++){var u=c;r[c].moveBy(a,0);for(var d=(i=this.$getSelectedRows(r[c])).first,g=i.last;++c<h;){l&&r[c].moveBy(l,0);var f=this.$getSelectedRows(r[c]);if(t&&f.first!=g)break;if(!t&&f.first>g+1)break;g=f.last}for(c--,a=this.session.$moveLines(d,g,t?0:e),t&&-1==e&&(u=c+1);u<=c;)r[u].moveBy(a,0),u++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,s=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(s,0)}):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection());var o=i.scrollTop;i.scrollBy(0,s*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new w(this.session,i.row,i.column),s=n.getCurrentToken(),o=s||n.stepForward();if(o){var r,a,l=!1,h={},c=i.column-o.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!l;c++)if(u[o.value[c]])switch(a=u[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(h[a])&&(h[a]=0),o.value[c]){case"(":case"[":case"{":h[a]++;break;case")":case"]":case"}":h[a]--,-1===h[a]&&(r="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(h[o.value])&&(h[o.value]=0),"<"===s.value?h[o.value]++:"</"===s.value&&h[o.value]--,-1===h[o.value]&&(r="tag",l=!0));l||(s=o,o=n.stepForward(),c=0)}while(o&&!l);if(r){var d,g;if("bracket"===r)(d=this.session.getBracketRange(i))||(g=(d=new m(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1)).start,(t||g.row===i.row&&Math.abs(g.column-i.column)<2)&&(d=this.session.getBracketRange(g)));else if("tag"===r){if(!o||-1===o.type.indexOf("tag-name"))return;var f=o.value;if(0===(d=new m(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column))for(l=!1;o=s,(s=n.stepBackward())&&(-1!==s.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),o.value===f&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?h[f]++:"</"===s.value&&h[f]--,0===h[f]&&(l=!0))),s&&!l;);o&&o.type.indexOf("tag-name")&&((g=d.start).row==i.row&&Math.abs(g.column-i.column)<2&&(g=d.end))}(g=d&&d.cursor||g)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i&&(this.$tryReplace(i,e)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;0<=o;--o)this.$tryReplace(i[o],e)&&n++;return this.selection.setSelectionRange(s),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==_typeof(e)&&o.mixin(t,e);var n=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(n)||this.$search.$options.needle)||(n=this.session.getWordRange(n.start.row,n.start.column),e=this.session.getTextRange(n)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:n});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,i),s):(t.backwards?n.start=n.end:n.end=n.start,void this.selection.setRange(n))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var s,o=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var a=this.$scrollAnchor;a.style.cssText="position:absolute",this.container.insertBefore(a,this.container.firstChild);var t=this.on("changeSelection",function(){r=!0}),i=this.renderer.on("beforeRender",function(){r&&(s=o.renderer.container.getBoundingClientRect())}),n=this.renderer.on("afterRender",function(){if(r&&s&&(o.isFocused()||o.searchBox&&o.searchBox.isFocused())){var e=o.renderer,t=e.$cursorLayer.$pixelPos,i=e.layerConfig,n=t.top-i.offset;null!=(r=0<=t.top&&n+s.top<0||!(t.top<i.height&&t.top+s.top+i.lineHeight>window.innerHeight)&&null)&&(a.style.top=n+"px",a.style.left=t.left+"px",a.style.height=i.lineHeight+"px",a.scrollIntoView(r)),r=s=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",t),this.renderer.off("afterRender",n),this.renderer.off("beforeRender",i))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,n.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}.call(b.prototype),v.defineOptions(b.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?y.attach(this):y.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?y.attach(this):y.detach(this)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var y={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"·":""))+""},getWidth:function(e,t,i){return Math.max(t.toString().length,(i.lastRow+1).toString().length,2)*i.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=b}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,i){"use strict";function a(e){return{row:e.row,column:e.column}}function n(e){if(e=e||this,Array.isArray(e))return e.map(n).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(s).join("\n"):s(e.value)),e.start&&(t+=s(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function s(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function o(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)if(0<=m(t.start,e.end))h(t,e,-1);else{if(!(m(t.start,e.start)<=0))return null;h(e,t,1)}else if(i&&!n)if(0<=m(t.start,e.end))h(t,e,-1);else{if(!(m(t.end,e.start)<=0))return null;h(e,t,-1)}else if(!i&&n)if(0<=m(t.start,e.start))h(t,e,1);else{if(!(m(t.start,e.start)<=0))return null;h(e,t,1)}else if(!i&&!n)if(0<=m(t.start,e.start))h(t,e,1);else{if(!(m(t.end,e.start)<=0))return null;h(e,t,-1)}return[t,e]}function r(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!o(e[i],t[n])){for(;i<e.length;){for(;n--;)o(t[n],e[i]);n=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function l(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)m(e.start,t.start)<0?h(t,e,1):h(e,t,1);else if(i&&!n)0<=m(e.start,t.end)?h(e,t,-1):(m(e.start,t.start)<=0||h(e,f.fromPoints(t.start,e.start),-1),h(t,e,1));else if(!i&&n)0<=m(t.start,e.end)?h(t,e,-1):(m(t.start,e.start)<=0||h(t,f.fromPoints(e.start,t.start),-1),h(e,t,1));else if(!i&&!n)if(0<=m(t.start,e.end))h(t,e,-1);else{var s,o;if(!(m(t.end,e.start)<=0))return m(e.start,t.start)<0&&(e=u(s=e,t.start)),0<m(e.end,t.end)&&(o=u(e,t.end)),c(t.end,e.start,e.end,-1),o&&!s&&(e.lines=o.lines,e.start=o.start,e.end=o.end,o=e),[t,s,o].filter(Boolean);h(e,t,-1)}return[t,e]}function h(e,t,i){c(e.start,t.start,t.end,i),c(e.end,t.start,t.end,i)}function c(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row)}function u(e,t){var i=e.lines,n=e.end;e.end=a(t);var s=e.end.row-e.start.row,o=i.splice(s,i.length),r=s?t.column:t.column-e.start.column;return i.push(o[0].substring(0,r)),o[0]=o[0].substr(r),{start:a(t),end:n,lines:o,action:e.action}}function d(e,t){var i;t={start:a((i=t).start),end:a(i.end),action:i.action,lines:i.lines.slice()};for(var n=e.length;n--;){for(var s=e[n],o=0;o<s.length;o++){var r=l(s[o],t);t=r[0],2!=r.length&&(r[2]?(s.splice(o+1,1,r[1],r[2]),o++):r[1]||(s.splice(o,1),o--))}s.length||e.splice(n,1)}return e}var g=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var s=i[n][0];if(s.id<=e)break;s.id<t&&(s.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var s=i[n];if(s.rev<e)return t&&(s=i[n+1]),s}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,s=0,o=i.length;o--;){var r=i[o][0];if(r.id<t&&!n&&(n=o+1),r.id<=e){s=o+1;break}}return i.slice(s,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(function(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var s=r(e[i],e[i+1]);e[i]=s[0],e[i+1]=s[1],i++}return!0}}}(i,i.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),s=null;return n&&n.length&&(s=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],s=0;s<n.length;s++)d(e,n[s])})(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var n=this.$redoStack.pop(),s=null;return n&&(s=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return 0<this.$undoStack.length},this.canRedo=function(){return 0<this.$redoStack.length},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?n(e):n(this.$undoStack)+"\n---\n"+n(this.$redoStack)}}).call(g.prototype);var f=e("./range").Range,m=f.comparePoints;f.comparePoints;t.UndoManager=g}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var r=e("../lib/dom"),n=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,i){var n=t.firstRowScreen*t.lineHeight,s=Math.floor(n/this.canvasHeight);return i.documentToScreenRow(e,0)*t.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(e,t,i){return t.lineHeight*i.getRowLength(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),i=0;i<e.length;i++)t.appendChild(e[i].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,i,n){var s=this.cellCache.pop();if(!s){var o=r.createElement("div");n&&n(o),this.element.appendChild(o),s={element:o,text:"",row:e}}return s.row=e,s}}).call(n.prototype),t.Lines=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],function(e,t,i){"use strict";function h(e){var t=document.createTextNode("");e.appendChild(t);var i=w.createElement("span");return e.appendChild(i),e}var w=e("../lib/dom"),n=e("../lib/oop"),a=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,o=e("./lines").Lines,r=function(e){this.element=w.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new o(this.element),this.$lines.$offsetCoefficient=1};(function(){n.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),(this.session=e)&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,s=this.$annotations[n];s||(s=this.$annotations[n]={text:[]});var o=i.text;o=o?a.escapeHTML(o):i.html||"",-1===s.text.indexOf(o)&&s.text.push(o);var r=i.type;"error"==r?s.className=" ace_error":"warning"==r&&" ace_error"!=s.className?s.className=" ace_warning":"info"==r&&!s.className&&(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0!==i)if("remove"==e.action)this.$annotations.splice(t,i+1,null);else{var n=new Array(i+1);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){this.config=e;var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=n,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var s=t.getNextFoldLine(i),o=s?s.start.row:1/0,r=null,a=-1,l=i;;){if(o<l&&(l=s.end.row+1,o=(s=t.getNextFoldLine(l,s))?s.start.row:1/0),n<l){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(r=this.$lines.get(++a))?r.row=l:(r=this.$lines.createCell(l,e,this.session,h),this.$lines.push(r)),this.$renderCell(r,e,s,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,i=t.gutterRenderer||this.$renderer,n=t.$firstLineNumber,s=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(s=t.getLength()+n);var o=i?i.getWidth(t,s,e):s.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(o+=r.left+r.right)!==this.gutterWidth&&!isNaN(o)&&(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var i=0;i<t.length;i++){var n=t[i];if(n.row>=this.$cursorRow){if(n.row>this.$cursorRow){var s=this.session.getFoldLine(this.$cursorRow);if(!(0<i&&s&&s.start.row==t[i-1].row))break;n=t[i-1]}n.element.className="ace_gutter-active-line "+n.element.className,this.$cursorCell=n;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),n=this.oldLastRow;if(this.oldLastRow=i,!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<s;s--)this.$lines.shift();if(i<n)for(s=this.session.getFoldedRowCount(i+1,n);0<s;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n<i&&this.$lines.push(this.$renderLines(e,n+1,i)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,i){for(var n=[],s=t,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;r<s&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(i<s);){var a=this.$lines.createCell(s,e,this.session,h);this.$renderCell(a,e,o,s),n.push(a),s++}return n},this.$renderCell=function(e,t,i,n){var s=e.element,o=this.session,r=s.childNodes[0],a=s.childNodes[1],l=o.$firstLineNumber,h=o.$breakpoints,c=o.$decorations,u=o.gutterRenderer||this.$renderer,d=this.$showFoldWidgets&&o.foldWidgets,g=i?i.start.row:Number.MAX_VALUE,f="ace_gutter-cell ";if(this.$highlightGutterLine&&(n==this.$cursorRow||i&&n<this.$cursorRow&&g<=n&&this.$cursorRow<=i.end.row)&&(f+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[n]&&(f+=h[n]),c[n]&&(f+=c[n]),this.$annotations[n]&&(f+=this.$annotations[n].className),s.className!=f&&(s.className=f),d){var m=d[n];null==m&&(m=d[n]=o.getFoldWidget(n))}if(m){f="ace_fold-widget ace_"+m;"start"==m&&n==g&&n<i.end.row?f+=" ace_closed":f+=" ace_open",a.className!=f&&(a.className=f);var p=t.lineHeight+"px";w.setStyle(a.style,"height",p),w.setStyle(a.style,"display","inline-block")}else a&&w.setStyle(a.style,"display","none");var v=(u?u.getText(o,n):n+l).toString();return v!==r.data&&(r.data=v),w.setStyle(e.element.style,"height",this.$lines.computeLineHeight(n,t,o)+"px"),w.setStyle(e.element.style,"top",this.$lines.computeLineTop(n,t,o)+"px"),e.text=v,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?w.addCssClass(this.element,"ace_folding-enabled"):w.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=w.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(r.prototype),t.Gutter=r}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var g=e("../range").Range,n=e("../lib/dom"),s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var i=-1!=this.i&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=e},this.update=function(e){if(e){var t;for(var i in this.config=e,this.i=0,this.markers){var n=this.markers[i];if(n.range){var s=n.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+s.start.column*e.characterWidth;n.renderer(t,s,r,o,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,s,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,s,n.clazz,e):s.isMultiLine()?"text"==n.type?this.drawTextMarker(t,s,n.clazz,e):this.drawMultiLineMarker(t,s,n.clazz,e):this.drawSingleLineMarker(t,s,n.clazz+" ace_start ace_br15",e)}else n.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,n,s){for(var o=this.session,r=t.start.row,a=t.end.row,l=r,h=0,c=0,u=o.getScreenLastRowColumn(l),d=new g(l,t.start.column,l,c);l<=a;l++)d.start.row=d.end.row=l,d.start.column=l==r?t.start.column:o.getRowWrapIndent(l),h=c,c=d.end.column=u,u=l+1<a?o.getScreenLastRowColumn(l+1):l==a?0:t.end.column,this.drawSingleLineMarker(e,d,i+(l==r?" ace_start":"")+" ace_br"+((l==r||l==r+1&&t.start.column?1:0)|(h<c?2:0)|(u<c?4:0)|(l==a?8:0)),n,l==a?0:1,s)},this.drawMultiLineMarker=function(e,t,i,n,s){var o=this.$padding,r=n.lineHeight,a=this.$getTop(t.start.row,n),l=o+t.start.column*n.characterWidth;(s=s||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((h=t.clone()).end.row=h.start.row,h.end.column=this.session.getLine(h.start.row).length,this.drawBidiSingleLineMarker(e,h,i+" ace_br1 ace_start",n,null,s)):this.elt(i+" ace_br1 ace_start","height:"+r+"px;right:0;top:"+a+"px;left:"+l+"px;"+(s||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var h;(h=t.clone()).start.row=h.end.row,h.start.column=0,this.drawBidiSingleLineMarker(e,h,i+" ace_br12",n,null,s)}else{a=this.$getTop(t.end.row,n);var c=t.end.column*n.characterWidth;this.elt(i+" ace_br12","height:"+r+"px;width:"+c+"px;top:"+a+"px;left:"+o+"px;"+(s||""))}if(!((r=(t.end.row-t.start.row-1)*n.lineHeight)<=0)){a=this.$getTop(t.start.row+1,n);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(i+(u?" ace_br"+u:""),"height:"+r+"px;right:0;top:"+a+"px;left:"+o+"px;"+(s||""))}},this.drawSingleLineMarker=function(e,t,i,n,s,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,i,n,s,o);var r=n.lineHeight,a=(t.end.column+(s||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),h=this.$padding+t.start.column*n.characterWidth;this.elt(i,"height:"+r+"px;width:"+a+"px;top:"+l+"px;left:"+h+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,i,n,s,o){var r=n.lineHeight,a=this.$getTop(t.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach(function(e){this.elt(i,"height:"+r+"px;width:"+e.width+(s||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))},this)},this.drawFullLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,n)-o),this.elt(i,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))},this.drawScreenLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;this.elt(i,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))}}).call(s.prototype),t.Marker=s}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),w=e("../lib/dom"),$=e("../lib/lang"),s=e("./lines").Lines,o=e("../lib/event_emitter").EventEmitter,r=function(e){this.dom=w,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){n.implement(this,o),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="—",this.SPACE_CHAR="·",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){(this.session=e)&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++){if(this.showInvisibles)(n=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",n.textContent=$.stringRepeat(this.TAB_CHAR,i),t.push(n);else t.push(this.dom.createTextNode($.stringRepeat(" ",i),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n,s="ace_indent-guide",o="",r="";if(this.showInvisibles){s+=" ace_invisible",o=" ace_invisible_space",r=" ace_invisible_tab";var a=$.stringRepeat(this.SPACE_CHAR,this.tabSize),l=$.stringRepeat(this.TAB_CHAR,this.tabSize)}else l=a=$.stringRepeat(" ",this.tabSize);(n=this.dom.createElement("span")).className=s+o,n.textContent=a,this.$tabStrings[" "]=n,(n=this.dom.createElement("span")).className=s+r,n.textContent=l,this.$tabStrings["\t"]=n}},this.updateLines=function(e,t,i){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var n=Math.max(t,e.firstRow),s=Math.min(i,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}r++}for(var l,h=!1,c=(a=n,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);c<a&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(s<a);){var u=o[r++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==c&&l);var d=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(h=!0,u.style.height=d)}a++}if(h)for(;r<this.$lines.cells.length;){var g=this.$lines.cells[r++];g.element.style.top=this.$lines.computeLineTop(g.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var i=e.lastRow,n=t?t.lastRow:-1;if(!t||n<e.firstRow)return this.update(e);if(i<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<s;s--)this.$lines.shift();if(t.lastRow>e.lastRow)for(s=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);0<s;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,i){for(var n=[],s=t,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;r<s&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(i<s);){var a=this.$lines.createCell(s,e,this.session),l=a.element;this.dom.removeChildren(l),w.setStyle(l.style,"height",this.$lines.computeLineHeight(s,e,this.session)+"px"),w.setStyle(l.style,"top",this.$lines.computeLineTop(s,e,this.session)+"px"),this.$renderLine(l,s,s==r&&o),this.$useLineGroups()?l.className="ace_line_group":l.className="ace_line",n.push(a),s++}return n},this.update=function(e){this.$lines.moveContainer(e);for(var t=(this.config=e).firstRow,i=e.lastRow,n=this.$lines;n.getLength();)n.pop();n.push(this.$renderLinesFragment(e,t,i))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){for(var s,o=this,r=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,a=this.dom.createFragment(this.element),l=0;s=r.exec(n);){var h=s[1],c=s[2],u=s[3],d=s[4],g=s[5];if(o.showInvisibles||!c){var f=l!=s.index?n.slice(l,s.index):"";if(l=s.index+s[0].length,f&&a.appendChild(this.dom.createTextNode(f,this.element)),h){var m=o.session.getScreenTabSize(t+s.index);a.appendChild(o.$tabStrings[m].cloneNode(!0)),t+=m-1}else if(c){if(o.showInvisibles)(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=$.stringRepeat(o.SPACE_CHAR,c.length),a.appendChild(v);else a.appendChild(this.com.createTextNode(c,this.element))}else if(u){(v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=$.stringRepeat(o.SPACE_CHAR,u.length),a.appendChild(v)}else if(d){o.showInvisibles&&o.SPACE_CHAR;t+=1,(v=this.dom.createElement("span")).style.width=2*o.config.characterWidth+"px",v.className=o.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=o.showInvisibles?o.SPACE_CHAR:"",a.appendChild(v)}else if(g){t+=1,(v=w.createElement("span")).style.width=2*o.config.characterWidth+"px",v.className="ace_cjk",v.textContent=g,a.appendChild(v)}}}if(a.appendChild(this.dom.createTextNode(l?n.slice(l):n,this.element)),this.$textToken[i.type])e.appendChild(a);else{var p="ace_"+i.type.replace(/\./g," ace_"),v=this.dom.createElement("span");"fold"==i.type&&(v.style.width=i.value.length*this.config.characterWidth+"px"),v.className=p,v.appendChild(a),e.appendChild(v)}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);if(n<=0||i<=n)return t;if(" "==t[0]){for(var s=(n-=n%this.tabSize)/this.tabSize,o=0;o<s;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(n)}if("\t"!=t[0])return t;for(o=0;o<n;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(n)},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,i){var n=0,s=0,o=i[0],r=0,a=this.$createLineElement();e.appendChild(a);for(var l=0;l<t.length;l++){var h=t[l],c=h.value;if(0==l&&this.displayIndentGuides){if(n=c.length,!(c=this.renderIndentGuide(a,c,o)))continue;n-=c.length}if(n+c.length<o)r=this.$renderToken(a,r,h,c),n+=c.length;else{for(;n+c.length>=o;)r=this.$renderToken(a,r,h,c.substring(0,o-n)),c=c.substring(o-n),n=o,a=this.$createLineElement(),e.appendChild(a),a.appendChild(this.dom.createTextNode($.stringRepeat(" ",i.indent),this.element)),r=0,o=i[++s]||Number.MAX_VALUE;0!=c.length&&(n+=c.length,r=this.$renderToken(a,r,h,c))}}},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],s=n.value;this.displayIndentGuides&&(s=this.renderIndentGuide(e,s)),s&&(i=this.$renderToken(e,i,n,s));for(var o=1;o<t.length;o++){if(i+(s=(n=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,n,s);i=this.$renderToken(e,i,n,s)}},this.$renderOverflowMessage=function(e,t,i,n){this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t));var s=this.dom.createElement("span");s.className="ace_inline_button ace_keyword ace_toggle_wrap",s.style.position="absolute",s.style.right="0",s.textContent="<click to see more...>",e.appendChild(s)},this.$renderLine=function(e,t,i){if(!i&&0!=i&&(i=this.session.getFoldLine(t)),i)var n=this.$getFoldLineTokens(t,i);else n=this.session.getTokens(t);var s=e;if(n.length){var o=this.session.getRowSplitData(t);if(o&&o.length){this.$renderWrappedLine(e,n,o);s=e.lastChild}else{s=e;this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,n)}}else this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s));if(this.showInvisibles&&s){i&&(t=i.end.row);var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_eol",r.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(r)}},this.$getFoldLineTokens=function(e,t){var o=this.session,r=[],a=o.getTokens(e);return t.walk(function(e,t,i,n,s){null!=e?r.push({type:"fold",value:e}):(s&&(a=o.getTokens(t)),a.length&&function(e,t,i){for(var n=0,s=0;s+e[n].value.length<t;)if(s+=e[n].value.length,++n==e.length)return;for(s!=t&&((o=e[n].value.substring(t-s)).length>i-t&&(o=o.substring(0,i-t)),r.push({type:e[n].type,value:o}),s=t+o.length,n+=1);s<i&&n<e.length;){var o;(o=e[n].value).length+s>i?r.push({type:e[n].type,value:o.substring(0,i-s)}):r.push(e[n]),s+=o.length,n+=1}}(a,n,i))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(r.prototype),t.Text=r}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var h=e("../lib/dom"),n=function(e){this.element=h.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),h.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)h.setStyle(t[i].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout(function(){h.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){h.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,h.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=h.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(1<this.cursors.length){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,h.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,h.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&h.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&setTimeout(function(){h.addCssClass(this.element,"ace_smooth-blinking")}.bind(this)),h.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return 0<=e.top&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);i=0;for(var s=t.length;i<s;i++){var o=this.getPixelPosition(t[i].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&1<i)){var r=this.cursors[n++]||this.addCursor(),a=r.style;this.drawCursor?this.drawCursor(r,o,e,t[i],this.session):this.isCursorInView(o,e)?(h.setStyle(a,"display","block"),h.translate(r,o.left,o.top),h.setStyle(a,"width",Math.round(e.characterWidth)+"px"),h.setStyle(a,"height",e.lineHeight+"px")):h.setStyle(a,"display","none")}}for(;this.cursors.length>n;)this.removeCursor();var l=this.session.getOverwrite();this.$setOverwrite(l),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&((this.overwrite=e)?h.addCssClass(this.element,"ace_overwrite-cursors"):h.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(n.prototype),t.Cursor=n}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){n.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){32768<(this.scrollHeight=e)?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var h=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(h,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(h.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=h,t.VScrollBar=l,t.HScrollBar=h}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var n=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window;var i=this;this._flush=function(e){var t=i.changes;t&&(n.blockIdle(100),i.changes=0,i.onRender(t)),i.changes&&i.schedule()}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&n.nextFrame(this._flush)}}).call(s.prototype),t.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,h="function"==typeof ResizeObserver,c=t.FontMetrics=function(e){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.innerHTML=o.stringRepeat("X",256),this.$characterSize={width:0,height:0},h?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var i=this;this.$observer=new window.ResizeObserver(function(e){var t=e[0].contentRect;i.checkForSizeChanges({height:t.height,width:t.width/256})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var t=this;return this.$pollSizeChangesTimer=r.onIdle(function e(){t.checkForSizeChanges(),r.onIdle(e,500)},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=o.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=s.buildDom([e(0,0),e(200,0),e(0,200),e(200,200)],this.el)},this.transformCoordinates=function(e,t){function i(e,t,i){var n=e[1]*t[0]-e[0]*t[1];return[(-t[1]*i[0]+t[0]*i[1])/n,(+e[1]*i[0]-e[0]*i[1])/n]}function n(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function r(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e));this.els||this.$initTransformMeasureNodes();var a=r(this.els[0]),l=r(this.els[1]),h=r(this.els[2]),c=r(this.els[3]),u=i(n(c,l),n(c,h),n(s(l,h),s(c,a))),d=o(1+u[0],n(l,a)),g=o(1+u[1],n(h,a));if(t){var f=t;return s(o(1/(u[0]*f[0]/200+u[1]*f[1]/200+1)/200,s(o(f[0],d),o(f[1],g))),a)}var m=n(e,a);return o(200,i(n(d,o(u[0],m)),n(g,o(u[1],m)),m))}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("./lib/oop"),h=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,r=e("./layer/marker").Marker,a=e("./layer/text").Text,l=e("./layer/cursor").Cursor,c=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,m='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',p=e("./lib/useragent"),v=p.isIE;h.importCssString(m,"ace_editor.css");var w=function(e,t){var i=this;this.container=e||h.createElement("div"),h.addCssClass(this.container,"ace_editor"),h.HI_DPI&&h.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=h.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=h.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=h.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new r(this.content);var n=this.$textLayer=new a(this.content);this.canvas=n.element,this.$markerFront=new r(this.content),this.$cursorLayer=new l(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!0,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=e)&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=e?1:0;var s=this.container;n||(n=s.clientHeight||s.scrollHeight),i||(i=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var s=0,o=this.$size,r={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};if(n&&(e||o.height!=n)&&(o.height=n,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(e||o.width!=i)){s|=this.CHANGE_SIZE,o.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,h.setStyle(this.scrollBarH.element.style,"left",t+"px"),h.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),o.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()-this.margin.h),h.setStyle(this.$gutter.style,"left",this.margin.left+"px");var a=this.scrollBarV.getWidth()+"px";h.setStyle(this.scrollBarH.element.style,"right",a),h.setStyle(this.scroller.style,"right",a),h.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)}return o.$dirty=!i||!n,s&&this._signal("resize",r),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=h.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=h.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e=this.textarea.style;if(this.$keepTextAreaAtCursor){var t=this.$cursorLayer.$pixelPos;if(t){var i=this.$composition;i&&i.markerRange&&(t=this.$cursorLayer.getPixelPosition(i.markerRange.start,!0));var n=this.layerConfig,s=t.top,o=t.left;s-=n.offset;var r=i&&i.useTextareaForIME?this.lineHeight:v?0:1;if(s<0||s>n.height-r)h.translate(this.textarea,0,0);else{var a=1;if(i)if(i.useTextareaForIME){var l=this.textarea.value;a=this.characterWidth*this.session.$getStringScreenWidth(l)[0],r+=2}else s+=this.lineHeight+2;else s+=this.lineHeight;(o-=this.scrollLeft)>this.$size.scrollerWidth-a&&(o=this.$size.scrollerWidth-a),o+=this.gutterWidth+this.margin.left,h.setStyle(e,"height",r+"px"),h.setStyle(e,"width",a+"px"),h.translate(this.textarea,Math.min(o,this.$size.scrollerWidth-a),Math.min(s,this.$size.height-r))}}}else h.translate(this.textarea,-100,0)},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.setMargin=function(e,t,i,n){var s=this.margin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;0<n&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),h.translate(this.content,-this.scrollLeft,-i.offset);var s=i.width+2*this.$padding+"px",o=i.minHeight+"px";h.setStyle(this.content.style,"width",s),h.setStyle(this.content.style,"height",o)}return e&this.CHANGE_H_SCROLL&&(h.translate(this.content,-this.scrollLeft,-i.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor()):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(i):this.$gutterLayer.scrollLines(i)),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor()):(e&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(i):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i)),void this._signal("afterRender")}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=!(i<=2*this.lineHeight)&&t<e;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var s=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,s=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),r=this.$horizScroll!==o;r&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=this.scrollTop%this.lineHeight,h=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,n-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+u.right)));var d=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+c<0||this.scrollTop>u.top),g=a!==d;g&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var f,m,p=Math.ceil(h/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),w=v+p,$=this.lineHeight;v=e.screenToDocumentRow(v,0);var b=e.getFoldLine(v);b&&(v=b.start.row),f=e.documentToScreenRow(v,0),m=e.getRowLength(v)*$,w=Math.min(e.screenToDocumentRow(w,0),e.getLength()-1),h=t.scrollerHeight+e.getRowLength(w)*$+m,l=this.scrollTop-f*$;var y=0;return(this.layerConfig.width!=s||r)&&(y=this.CHANGE_H_SCROLL),(r||g)&&(y=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),g&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:v,firstRowScreen:f,lastRow:w,lineHeight:$,characterWidth:this.characterWidth,minHeight:h,maxHeight:n,offset:l,gutterOffset:$?Math.max(0,Math.ceil((l+t.height-t.scrollerHeight)/$)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),y},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),s=n.left,o=n.top,r=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;o<l+r?(t&&l+r>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var h=this.scrollLeft;s<h?(s<this.$padding+2*this.layerConfig.characterWidth&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):h+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):h<=this.$padding&&s-h<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,s=i.top-n*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var i,n,s=0,o=this.STEPS,r=[];for(s=0;s<o;++s)r.push((i=s/this.STEPS,(t-(n=e))*(Math.pow(i-1,3)+1)+n));return r},this.scrollToLine=function(e,t,i,n){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==i&&this.animateScrolling(o,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==i)return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(0<t&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(0<e&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-i.left-this.$padding,o=s/this.characterWidth,r=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:r,column:a,side:0<o-a?1:-1,offsetX:s}},this.screenToTextCoordinates=function(e,t){var i;if(this.$hasCssTransforms){i={top:0,left:0};var n=this.$fontMetrics.transformCoordinates([e,t]);e=n[1]-this.gutterWidth-this.margin.left,t=n[0]}else i=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-i.left-this.$padding,o=s/this.characterWidth,r=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-i.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(r,0),s)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),o=n.row*this.lineHeight;return{pageX:i.left+s-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){h.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){h.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){(this.$composition=e).cssText||(e.cssText=this.textarea.style.cssText,e.keepTextAreaAtCursor=this.$keepTextAreaAtCursor),e.useTextareaForIME=this.$useTextareaForIME,this.$useTextareaForIME?(this.$keepTextAreaAtCursor=!0,h.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),h.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(e,t,i,n){var s=this.session;s.bgTokenizer.lines[i]=null;var o={type:t,value:e},r=s.getTokens(i);if(null==n)r.push(o);else for(var a=0,l=0;l<r.length;l++){var h=r[l];if(n<=(a+=h.value.length)){var c=h.value.length-(a-n),u=h.value.slice(0,c),d=h.value.slice(c);r.splice(l,1,{type:h.type,value:u},o,{type:h.type,value:d});break}}this.updateLines(i,i)},this.setTheme=function(i,n){function e(e){if(s.$themeId!=i)return n&&n();if(!e||!e.cssClass)throw new Error("couldn't load module "+i+" or it didn't call define");e.$id&&(s.$themeId=e.$id),h.importCssString(e.cssText,e.cssClass,s.container),s.theme&&h.removeCssClass(s.container,s.theme.cssClass);var t="padding"in e?e.padding:"padding"in(s.theme||{})?4:s.$padding;s.$padding&&t!=s.$padding&&s.setPadding(t),s.$theme=e.cssClass,s.theme=e,h.addCssClass(s.container,e.cssClass),h.setCssClass(s.container,"ace_dark",e.isDark),s.$size&&(s.$size.width=0,s.$updateSizeAsync()),s._dispatchEvent("themeLoaded",{theme:e}),n&&n()}var s=this;if(this.$themeId=i,s._dispatchEvent("themeChange",{theme:i}),i&&"string"!=typeof i)e(i);else{var t=i||this.$options.theme.initialValue;o.loadModule(["theme",t],e)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){h.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){h.removeCssClass(this.container,e)},this.setCursorStyle=function(e){h.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){h.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){h.importCssString(m,"ace_editor.css",this.container)},this.destroy=function(){this.$fontMetrics.destroy(),this.$cursorLayer.destroy()}}).call(w.prototype),o.defineOptions(w.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){h.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!p.isMobile&&!p.isIE}}),t.VirtualRenderer=w}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,e,t){"use strict";function l(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};var t=function(e){var t="importScripts('"+n.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob("application/javascript")}}(e),i=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(i)}var i=a("../lib/oop"),n=a("../lib/net"),h=a("../lib/event_emitter").EventEmitter,c=a("../config"),s=function(e,t,i,n,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),c.get("packaged")||!a.toUrl)n=n||c.moduleUrl(t,"worker");else{var o=this.$normalizePath;n=n||o(a.toUrl("ace/worker/worker.js",null,"_"));var r={};e.forEach(function(e){r[e]=o(a.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=l(n),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:r,module:t,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,h),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return n.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,50<e.length&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(s.prototype);var o=function(e,t,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,s=!1,o=Object.create(h),r=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){r.messageBuffer.push(e),n&&(s?setTimeout(a):a())},this.setEmitSync=function(e){s=e};var a=function(){var e=r.messageBuffer.shift();e.command?n[e.command].apply(n,e.args):e.event&&o._signal(e.event,e.data)};o.postMessage=function(e){r.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},c.loadModule(["worker",t],function(e){for(n=new e[i](o);r.messageBuffer.length;)a()})};o.prototype=s.prototype,e.UIWorkerClient=o,e.WorkerClient=s,e.createWorker=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var l=e("./range").Range,n=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,i,n,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){r.onCursorChange()})},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,n),this.setup=function(){var i=this,n=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=e.addMarker(new l(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){var t=n.createAnchor(e.row,e.column);t.$insertRight=!0,t.detach(),i.others.push(t)}),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,i=this;this.othersActive=!0,this.others.forEach(function(e){e.markerId=t.addMarker(new l(e.row,e.column,e.row,e.column+i.length),i.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),n&&(this.length+=i),n&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;0<=o;o--){var r={row:(a=this.others[o]).row,column:a.column+s};this.doc.insertMergedLines(r,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;0<=o;o--){var a;r={row:(a=this.others[o]).row,column:a.column+s};this.doc.remove(new l(r.row,r.column,r.row,r.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var i=this,n=this.session,e=function(e,t){n.removeMarker(e.markerId),e.markerId=n.addMarker(new l(e.row,e.column,e.row,e.column+i.length),t,null,!1)};e(this.pos,this.mainClass);for(var t=this.others.length;t--;)e(this.others[t],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){function k(e,t){return e.row==t.row&&e.column==t.column}var L=e("../lib/event"),R=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,n=t.shiftKey,s=t.ctrlKey,o=e.getAccelKey(),r=e.getButton();if(s&&R.isMac&&(r=t.button),e.editor.inMultiSelectMode&&2==r)e.editor.textInput.onContextMenu(e.domEvent);else if(s||i||o){if(0===r){var a,l=e.editor,h=l.selection,c=l.inMultiSelectMode,u=e.getDocumentPosition(),d=h.getCursor(),g=e.inSelection()||h.isEmpty()&&k(u,d),f=e.x,m=e.y,p=l.session,v=l.renderer.pixelToScreenCoordinates(f,m),w=v;if(l.$mouseHandler.$enableJumpToDef)s&&i||o&&i?a=n?"block":"add":i&&l.$blockSelectEnabled&&(a="block");else if(o&&!i){if(a="add",!c&&n)return}else i&&l.$blockSelectEnabled&&(a="block");if(a&&R.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu(),"add"==a){if(!c&&g)return;if(!c){var $=h.toOrientedRange();l.addSelectionMarker($)}var b=h.rangeList.rangeAtPoint(u);l.inVirtualSelectionMode=!0,n&&(b=null,$=h.ranges[0]||$,l.removeSelectionMarker($)),l.once("mouseup",function(){var e=h.toOrientedRange();b&&e.isEmpty()&&k(b.cursor,e.cursor)?h.substractPoint(e.cursor):(n?h.substractPoint($.cursor):$&&(l.removeSelectionMarker($),h.addRange($)),h.addRange(e)),l.inVirtualSelectionMode=!1})}else if("block"==a){e.stop(),l.inVirtualSelectionMode=!0;var y,C=[],S=function(){var e=l.renderer.pixelToScreenCoordinates(f,m),t=p.screenToDocumentPosition(e.row,e.column,e.offsetX);k(w,e)&&k(t,h.lead)||(w=e,l.selection.moveToPosition(t),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(C),C=h.rectangularRangeBlock(w,v),l.$mouseHandler.$clickSelection&&1==C.length&&C[0].isEmpty()&&(C[0]=l.$mouseHandler.$clickSelection.clone()),C.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())};c&&!o?h.toSingleRange():!c&&o&&(y=h.toOrientedRange(),l.addSelectionMarker(y)),n?v=p.documentToScreenPosition(h.lead):h.moveToPosition(u),w={row:-1,column:-1};var x=S;L.capture(l.container,function(e){f=e.clientX,m=e.clientY},function(e){S(),clearInterval(A),l.removeSelectionMarkers(C),C.length||(C=[h.toOrientedRange()]),y&&(l.removeSelectionMarker(y),h.toSingleRange(y));for(var t=0;t<C.length;t++)h.addRange(C[t]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null});var A=setInterval(function(){x()},20);return e.preventDefault()}}}else 0===r&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){function n(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(a.defaultCommands),function(i){function n(e){s&&(i.renderer.setMouseCursor(""),s=!1)}var e=i.textInput.getElement(),s=!1;r.addListener(e,"keydown",function(e){var t=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);i.$blockSelectEnabled&&t?s||(i.renderer.setMouseCursor("crosshair"),s=!0):s&&n()}),r.addListener(e,"keyup",n),r.addListener(e,"blur",n)}(e))}var s=e("./range_list").RangeList,b=e("./range").Range,m=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,r=e("./lib/event"),p=e("./lib/lang"),a=e("./commands/multi_select_commands");t.commands=a.defaultCommands.concat(a.multiSelectCommands);var c=new(e("./search").Search),l=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(l.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(1<this.rangeCount){var e=this.rangeList.ranges,t=e[e.length-1],i=b.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{i=this.getRange();var n=this.isBackwards(),s=i.start.row,o=i.end.row;if(s==o){if(n)var r=i.end,a=i.start;else r=i.start,a=i.end;return this.addRange(b.fromPoints(a,a)),void this.addRange(b.fromPoints(r,r))}var l=[],h=this.getLineRange(s,!0);h.start.column=i.start.column,l.push(h);for(var c=s+1;c<o;c++)l.push(this.getLineRange(c,!0));(h=this.getLineRange(o,!0)).end.column=i.end.column,l.push(h),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(1<this.rangeCount){var e=this.rangeList.ranges,t=e[e.length-1],i=b.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],s=e.column<t.column;if(s)var o=e.column,r=t.column,a=e.offsetX,l=t.offsetX;else o=t.column,r=e.column,a=t.offsetX,l=e.offsetX;var h,c,u,d=e.row<t.row;if(d)var g=e.row,f=t.row;else g=t.row,f=e.row;o<0&&(o=0),g<0&&(g=0),g==f&&(i=!0);for(var m=g;m<=f;m++){var p=b.fromPoints(this.session.screenToDocumentPosition(m,o,a),this.session.screenToDocumentPosition(m,r,l));if(p.isEmpty()){if(h&&(c=p.end,u=h,c.row==u.row&&c.column==u.column))break;h=p.end}p.cursor=s?p.start:p.end,n.push(p)}if(d&&n.reverse(),!i){for(var v=n.length-1;n[v].isEmpty()&&0<v;)v--;if(0<v)for(var w=0;n[w].isEmpty();)w++;for(var $=v;w<=$;$--)n[$].isEmpty()&&n.splice($,1)}return n}}.call(m.prototype);var h=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var s=t.indexOf(n);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)n="forEach"==t.multiSelectAction?i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),t.exec(i,e.args||{})):t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,s=i&&i.keepOrder,o=1==i||i&&i.$byLines,r=this.session,a=this.selection,l=a.rangeList,h=(s?a:l).ranges;if(!h.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=a._eventRegistry;a._eventRegistry={};var u=new m(r);this.inVirtualSelectionMode=!0;for(var d=h.length;d--;){if(o)for(;0<d&&h[d].start.row==h[d-1].end.row;)d--;u.fromOrientedRange(h[d]),u.index=d,this.selection=r.selection=u;var g=e.exec?e.exec(this,t||{}):e(this,t||{});!n&&void 0!==g&&(n=g),u.toOrientedRange(h[d])}u.detach(),this.selection=r.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=c,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var s=this.session.getDocument().getNewLineCharacter();(e=i.join(s)).length==(i.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,i){if((t=t||{}).needle=e||t.needle,null==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;var o=this.multiSelect;i||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),s.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,s=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,r=this.session.screenToDocumentPosition(s.row+e,s.column);if(i.isEmpty())l=r;else var a=this.session.documentToScreenPosition(n?i.end:i.start),l=this.session.screenToDocumentPosition(a.row+e,a.column);n?(o=b.fromPoints(r,l)).cursor=o.start:(o=b.fromPoints(l,r)).cursor=o.end;if(o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(t)var h=i.cursor}else this.selection.addRange(i);this.selection.addRange(o),h&&this.selection.substractPoint(h)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,s=n.length;s--;){if((a=n[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}i.mergeOverlappingRanges();var r=[];for(s=n.length;s--;){var a=n[s];r.unshift(t.getTextRange(a))}e<0?r.unshift(r.pop()):r.push(r.shift());for(s=n.length;s--;){o=(a=n[s]).clone();t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column}i.fromOrientedRange(i.ranges[0])},this.selectMore=function(e,t,i){var n=this.session,s=n.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=n.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var o,r,a,l=n.getTextRange(s),h=(o=n,r=l,a=e,c.$options.wrap=!0,c.$options.needle=r,c.$options.backwards=-1==a,c.find(o));h&&(h.cursor=-1==e?h.start:h.end,this.session.unfold(h),this.multiSelect.addRange(h),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var o=this.session,t=o.multiSelect,e=t.ranges,i=-1,n=e.filter(function(e){if(e.cursor.row==i)return!0;i=e.cursor.row});if(e.length&&n.length!=e.length-1){n.forEach(function(e){t.substractPoint(e.cursor)});var r=0,a=1/0,l=e.map(function(e){var t=e.cursor,i=o.getLine(t.row).substr(t.column).search(/\S/g);return-1==i&&(i=0),t.column>r&&(r=t.column),i<a&&(a=i),i});e.forEach(function(e,t){var i=e.cursor,n=r-i.column,s=l[t]-a;s<n?o.insert(i,p.stringRepeat(" ",n-s)):o.remove(new b(i.row,i.column,i.row,i.column-n+s)),e.start.column=e.end.column=r,e.start.row=e.end.row=i.row,e.cursor=e.end}),t.fromOrientedRange(e[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var s=this.selection.getRange(),h=s.start.row,c=s.end.row,u=h==c;if(u){for(var d,g=this.session.getLength();d=this.session.getLine(c),/[=:]/.test(d)&&++c<g;);for(;d=this.session.getLine(h),/[=:]/.test(d)&&0<--h;);h<0&&(h=0),g<=c&&(c=g-1)}var f=this.session.removeFullLines(h,c);f=this.$reAlignText(f,u),this.session.insert({row:h,column:0},f.join("\n")+"\n"),u||(s.start.column=0,s.end.column=f[f.length-1].length),this.selection.setRange(s)}},this.$reAlignText=function(e,t){function i(e){return p.stringRepeat(" ",e)}function n(e){return e[2]?i(s)+e[2]+i(o-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,o,r,a=!0,l=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?(null==s?(s=t[1].length,o=t[2].length,r=t[3].length):(s+o+r!=t[1].length+t[2].length+t[3].length&&(l=!1),s!=t[1].length&&(a=!1),s>t[1].length&&(s=t[1].length),o<t[2].length&&(o=t[2].length),r>t[3].length&&(r=t[3].length)),t):[e]}).map(t?n:a?l?function(e){return e[2]?i(s+o-e[2].length)+e[2]+i(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:n:function(e){return e[2]?i(s)+e[2]+i(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=n,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){n(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var d=e("../../range").Range,n=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var n=/\S/,s=e.getLine(t),o=s.search(n);if(-1!=o){for(var r=i||s.length,a=e.getLength(),l=t,h=t;++t<a;){var c=e.getLine(t).search(n);if(-1!=c){if(c<=o)break;h=t}}if(l<h){var u=e.getLine(h).length;return new d(l,r,h,u)}}},this.openingBracketBlock=function(e,t,i,n,s){var o={row:i,column:n+1},r=e.$findClosingBracket(t,o,s);if(r){var a=e.foldWidgets[r.row];return null==a&&(a=e.getFoldWidget(r.row)),"start"==a&&r.row>o.row&&(r.row--,r.column=e.getLine(r.row).length),d.fromPoints(o,r)}},this.closingBracketBlock=function(e,t,i,n,s){var o={row:i,column:n},r=e.$findOpeningBracket(t,o);if(r)return r.column++,o.column--,d.fromPoints(r,o)}}).call(n.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function n(e){this.session=e,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}e("./lib/oop");var o=e("./lib/dom");e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),(this.editor=e)&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,s=n.start.row,o=n.end.row,r="add"==e.action,a=s+1;a<o;a++)i[a]&&(i[a].hidden=r);i[o]&&(r?i[s]?i[o].hidden=r:i[s]=i[o]:(i[s]==i[o]&&(i[s]=void 0),i[o].hidden=r))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,n=e.end.row-i;if(0!==n)if("remove"==e.action){t.splice(i+1,n).forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(n);s.unshift(i,0),t.splice.apply(t,s),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var i=!0;e.forEach(function(e,t){if(e)for(i=!1,e.row=t;e.$oldWidget;)e.$oldWidget.row=t,e=e.$oldWidget}),i&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&((e.$oldWidget=t).el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),(this.session.lineWidgets[e.row]=e).session=this.session;var i=this.editor.renderer;e.html&&!e.el&&(e.el=o.createElement("div"),e.el.innerHTML=e.html),e.el&&(o.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,i.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/i.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n){var s=this.session.lineWidgets;e.row!=n.end.row||s[n.start.row]?e.hidden=!0:s[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var s=1/0,o=0;o<i.length;o++){var r=i[o];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,t.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/n.characterWidth));var a=r.h/n.lineHeight;r.coverLine&&((a-=this.session.getRowLineCount(r.row))<0&&(a=0)),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var s=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);0<s&&!n[s];)s--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var r=s;r<=o;r++){var a=n[r];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var h=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(h-=t.scrollLeft),a.el.style.left=h+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";var f=e("../line_widgets").LineWidgets,m=e("../lib/dom"),p=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new f(i),i.widgetManager.attach(e));var n=e.getCursorPosition(),s=n.row,o=i.widgetManager.getWidgetsAtRow(s).filter(function(e){return"errorMarker"==e.type})[0];o?o.destroy():s-=t;var r,a=function(e,t,i){var n=e.getAnnotations().sort(p.comparePoints);if(n.length){var s=function(e,t,i){for(var n=0,s=e.length-1;n<=s;){var o=n+s>>1,r=i(t,e[o]);if(0<r)n=o+1;else{if(!(r<0))return o;s=o-1}}return-(n+1)}(n,{row:t,column:-1},p.comparePoints);s<0&&(s=-s-1),s>=n.length?s=0<i?0:n.length-1:0===s&&i<0&&(s=n.length-1);var o=n[s];if(o&&i){if(o.row===t){for(;(o=n[s+=i])&&o.row===t;);if(!o)return n.slice()}var r=[];for(t=o.row;r[i<0?"unshift":"push"](o),(o=n[s+=i])&&o.row==t;);return r.length&&r}}}(i,s,t);if(a){var l=a[0];n.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,n.row=l.row,r=e.renderer.$gutterLayer.$annotations[n.row]}else{if(o)return;r={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(n.row),e.selection.moveToPosition(n);var h={row:n.row,fixedWidth:!0,coverGutter:!0,el:m.createElement("div"),type:"errorMarker"},c=h.el.appendChild(m.createElement("div")),u=h.el.appendChild(m.createElement("div"));u.className="error_widget_arrow "+r.className;var d=e.renderer.$cursorLayer.getPixelPosition(n).left;u.style.left=d+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",c.className="error_widget "+r.className,c.innerHTML=r.text.join("<br>"),c.appendChild(m.createElement("div"));var g=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),i.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},m.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,l,t){"use strict";e("./lib/fixoldbrowsers");var h=e("./lib/dom"),c=e("./lib/event"),i=e("./range").Range,u=e("./editor").Editor,n=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,d=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),l.config=e("./config"),l.require=e,"function"==typeof define&&(l.define=define),l.edit=function(e,t){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof u)return e.env.editor;var n="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;n=s.value,e=h.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(n=e.textContent,e.innerHTML="");var o=l.createEditSession(n),r=new u(new d(e),o,t),a={document:o,editor:r,onResize:r.resize.bind(r,null)};return s&&(a.textarea=s),c.addListener(window,"resize",a.onResize),r.on("destroy",function(){c.removeListener(window,"resize",a.onResize),a.editor.container.env=null}),r.container.env=r.env=a,r},l.createEditSession=function(e,t){var i=new n(e,t);return i.setUndoManager(new s),i},l.Range=i,l.EditSession=n,l.UndoManager=s,l.VirtualRenderer=d,l.version="1.4.1"}),ace.require(["ace/ace"],function(e){for(var t in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t]);window.ace.default=window.ace,"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&module&&(module.exports=window.ace)});
function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}ace.define("ace/snippets",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/anchor","ace/keyboard/hash_handler","ace/tokenizer","ace/lib/dom","ace/editor"],function(e,s,t){"use strict";var i=e("./lib/oop"),n=e("./lib/event_emitter").EventEmitter,l=e("./lib/lang"),h=e("./range").Range,o=e("./anchor").Anchor,r=e("./keyboard/hash_handler").HashHandler,a=e("./tokenizer").Tokenizer,p=h.comparePoints,c=function(){this.snippetMap={},this.snippetNameMap={}};(function(){i.implement(this,n),this.getTokenizer=function(){function o(e,t,i){return e=e.substr(1),/^\d+$/.test(e)&&!i.inFormatString?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function e(e){return"(?:[^\\\\"+e+"]|\\\\.)"}return c.$tokenizer=new a({start:[{regex:/:/,onMatch:function(e,t,i){return i.length&&i[0].expectIf?(i[0].expectIf=!1,i[0].elseBranch=i[0],[i[0]]):":"}},{regex:/\\./,onMatch:function(e,t,i){var n=e[1];return"}"==n&&i.length?e=n:-1!="`$\\".indexOf(n)?e=n:i.inFormatString&&("n"==n?e="\n":"t"==n?e="\n":-1!="ulULE".indexOf(n)&&(e={changeCase:n,local:"a"<n})),[e]}},{regex:/}/,onMatch:function(e,t,i){return[i.length?i.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:o},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(e,t,i){var n=o(e.substr(1),0,i);return i.unshift(n[0]),n},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+e("\\|")+"*\\|",onMatch:function(e,t,i){i[0].choices=e.slice(1,-1).split(",")},next:"start"},{regex:"/("+e("/")+"+)/(?:("+e("/")+"*)/)(\\w*):?",onMatch:function(e,t,i){var n=i[0];return n.fmtString=e,e=this.splitRegex.exec(e),n.guard=e[1],n.fmt=e[2],n.flag=e[3],""},next:"start"},{regex:"`"+e("`")+"*`",onMatch:function(e,t,i){return i[0].code=e.splice(1,-1),""},next:"start"},{regex:"\\?",onMatch:function(e,t,i){i[0]&&(i[0].expectIf=!0)},next:"start"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:"/("+e("/")+"+)/",token:"regex"},{regex:"",onMatch:function(e,t,i){i.inFormatString=!0},next:"start"}]}),c.prototype.getTokenizer=function(){return c.$tokenizer},c.$tokenizer},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(e){return e.value||e})},this.$getDefaultValue=function(e,t){if(/^[A-Z]\d+$/.test(t)){var i=t.substr(1);return(this.variables[t[0]+"__"]||{})[i]}if(/^\d+$/.test(t))return(this.variables.__||{})[t];if(t=t.replace(/^TM_/,""),e){var n=e.session;switch(t){case"CURRENT_WORD":var o=n.getWordRange();case"SELECTION":case"SELECTED_TEXT":return n.getTextRange(o);case"CURRENT_LINE":return n.getLine(e.getCursorPosition().row);case"PREV_LINE":return n.getLine(e.getCursorPosition().row-1);case"LINE_INDEX":return e.getCursorPosition().column;case"LINE_NUMBER":return e.getCursorPosition().row+1;case"SOFT_TABS":return n.getUseSoftTabs()?"YES":"NO";case"TAB_SIZE":return n.getTabSize();case"FILENAME":case"FILEPATH":return"";case"FULLNAME":return"Ace"}}},this.variables={},this.getVariableValue=function(e,t){return this.variables.hasOwnProperty(t)?this.variables[t](e,t)||"":this.$getDefaultValue(e,t)||""},this.tmStrFormat=function(e,t,r){var i=t.flag||"",n=t.guard;n=new RegExp(n,i.replace(/[^gi]/,""));var s=this.tokenizeTmSnippet(t.fmt,"formatString"),a=this,o=e.replace(n,function(){a.variables.__=arguments;for(var e=a.resolveVariables(s,r),t="E",i=0;i<e.length;i++){var n=e[i];if("object"==_typeof(n))if(e[i]="",n.changeCase&&n.local){var o=e[i+1];o&&"string"==typeof o&&("u"==n.changeCase?e[i]=o[0].toUpperCase():e[i]=o[0].toLowerCase(),e[i+1]=o.substr(1))}else n.changeCase&&(t=n.changeCase);else"U"==t?e[i]=n.toUpperCase():"L"==t&&(e[i]=n.toLowerCase())}return e.join("")});return this.variables.__=null,o},this.resolveVariables=function(i,e){function t(e){var t=i.indexOf(e,o+1);-1!=t&&(o=t)}for(var n=[],o=0;o<i.length;o++){var r=i[o];if("string"==typeof r)n.push(r);else{if("object"!=_typeof(r))continue;if(r.skip)t(r);else{if(r.processed<o)continue;if(r.text){var s=this.getVariableValue(e,r.text);s&&r.fmtString&&(s=this.tmStrFormat(s,r)),r.processed=o,null==r.expectIf?s&&(n.push(s),t(r)):s?r.skip=r.elseBranch:t(r)}else null!=r.tabstopId?n.push(r):null!=r.changeCase&&n.push(r)}}}return n},this.insertSnippetForSelection=function(e,t){function i(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];if("object"==_typeof(n)){if(l[n.tabstopId])continue;n=t[e.lastIndexOf(n,i-1)]||{tabstopId:n.tabstopId}}t[i]=n}return t}var n=e.getCursorPosition(),o=e.session.getLine(n.row),r=e.session.getTabString(),s=o.match(/^\s*/)[0];n.column<s.length&&(s=s.slice(0,n.column)),t=t.replace(/\r/g,"");var a=this.tokenizeTmSnippet(t);a=(a=this.resolveVariables(a,e)).map(function(e){return"\n"==e?e+s:"string"==typeof e?e.replace(/\t/g,r):e});var c=[];a.forEach(function(e,t){if("object"==_typeof(e)){var i=e.tabstopId,n=c[i];if(n||((n=c[i]=[]).index=i,n.value=""),-1===n.indexOf(e)){n.push(e);var o=a.indexOf(e,t+1);if(-1!==o){var r=a.slice(t+1,o);r.some(function(e){return"object"==_typeof(e)})&&!n.value?n.value=r:r.length&&(!n.value||"string"!=typeof n.value)&&(n.value=r.join(""))}}}}),c.forEach(function(e){e.length=0});for(var l={},h=0;h<a.length;h++){var p=a[h];if("object"==_typeof(p)){var u=p.tabstopId,d=a.indexOf(p,h+1);if(l[u])l[u]===p&&(l[u]=null);else{var f=c[u],g="string"==typeof f.value?[f.value]:i(f.value);g.unshift(h+1,Math.max(0,d-h)),g.push(p),l[u]=p,a.splice.apply(a,g),-1===f.indexOf(p)&&f.push(p)}}}var m=0,b=0,v="";a.forEach(function(e){if("string"==typeof e){var t=e.split("\n");1<t.length?(b=t[t.length-1].length,m+=t.length-1):b+=e.length,v+=e}else e.start?e.end={row:m,column:b}:e.start={row:m,column:b}});var x=e.getSelectionRange(),w=e.session.replace(x,v),y=new S(e),T=e.inVirtualSelectionMode&&e.selection.index;y.addTabstops(c,x.start,w,T)},this.insertSnippet=function(e,t){var i=this;if(e.inVirtualSelectionMode)return i.insertSnippetForSelection(e,t);e.forEachSelection(function(){i.insertSnippetForSelection(e,t)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"===t&&!e.session.$mode.inlinePhp&&(t="html");var i=e.getCursorPosition(),n=e.session.getState(i.row);"object"==_typeof(n)&&(n=n[0]),n.substring&&("js-"==n.substring(0,3)?t="javascript":"css-"==n.substring(0,4)?t="css":"php-"==n.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),i=[t],n=this.snippetMap;return n[t]&&n[t].includeScopes&&i.push.apply(i,n[t].includeScopes),i.push("_"),i},this.expandWithTab=function(e,t){var i=this,n=e.forEachSelection(function(){return i.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return n&&e.tabstopManager&&e.tabstopManager.tabNext(),n},this.expandSnippetForSelection=function(e,t){var i,n=e.getCursorPosition(),o=e.session.getLine(n.row),r=o.substring(0,n.column),s=o.substr(n.column),a=this.snippetMap;return this.getActiveScopes(e).some(function(e){var t=a[e];return t&&(i=this.findMatchingSnippet(t,r,s)),!!i},this),!!i&&(t&&t.dryRun||(e.session.doc.removeInLine(n.row,n.column-i.replaceBefore.length,n.column+i.replaceAfter.length),this.variables.M__=i.matchBefore,this.variables.T__=i.matchAfter,this.insertSnippetForSelection(e,i.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,i){for(var n=e.length;n--;){var o=e[n];if((!o.startRe||o.startRe.test(t))&&((!o.endRe||o.endRe.test(i))&&(o.startRe||o.endRe)))return o.matchBefore=o.startRe?o.startRe.exec(t):[""],o.matchAfter=o.endRe?o.endRe.exec(i):[""],o.replaceBefore=o.triggerRe?o.triggerRe.exec(t)[0]:"",o.replaceAfter=o.endTriggerRe?o.endTriggerRe.exec(i)[0]:"",o}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,n){function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function r(e,t,i){return e=o(e),t=o(t),i?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function t(e){e.scope||(e.scope=n||"_"),n=e.scope,s[n]||(s[n]=[],a[n]={});var t=a[n];if(e.name){var i=t[e.name];i&&c.unregister(i),t[e.name]=e}s[n].push(e),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=l.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=r(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=r(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}var s=this.snippetMap,a=this.snippetNameMap,c=this;e||(e=[]),e&&e.content?t(e):Array.isArray(e)&&e.forEach(t),this._signal("registerSnippets",{scope:n})},this.unregister=function(e,o){function t(e){var t=s[e.scope||o];if(t&&t[e.name]){delete t[e.name];var i=r[e.scope||o],n=i&&i.indexOf(e);0<=n&&i.splice(n,1)}}var r=this.snippetMap,s=this.snippetNameMap;e.content?t(e):Array.isArray(e)&&e.forEach(t)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,i=[],n={},o=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=o.exec(e);){if(t[1])try{n=JSON.parse(t[1]),i.push(n)}catch(e){}if(t[4])n.content=t[4].replace(/^\t/gm,""),i.push(n),n={};else{var r=t[2],s=t[3];if("regex"==r){var a=/\/((?:[^\/\\]|\\.)*)|$/g;n.guard=a.exec(s)[1],n.trigger=a.exec(s)[1],n.endTrigger=a.exec(s)[1],n.endGuard=a.exec(s)[1]}else"snippet"==r?(n.tabTrigger=s.match(/^\S*/)[0],n.name||(n.name=s)):n[r]=s}}return i},this.getSnippetByName=function(i,e){var n,o=this.snippetNameMap;return this.getActiveScopes(e).some(function(e){var t=o[e];return t&&(n=t[i]),!!n},this),n}}).call(c.prototype);var S=function(e){if(e.tabstopManager)return e.tabstopManager;(e.tabstopManager=this).$onChange=this.onChange.bind(this),this.$onChangeSelection=l.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){var t="r"==e.action[0],i=e.start,n=e.end,o=i.row,r=n.row-o,s=n.column-i.column;if(t&&(r=-r,s=-s),!this.$inChange&&t){var a=this.selectedTabstop;if(a&&!a.some(function(e){return p(e.start,i)<=0&&0<=p(e.end,n)}))return this.detach()}for(var c=this.ranges,l=0;l<c.length;l++){var h=c[l];h.end.row<i.row||(t&&p(i,h.start)<0&&0<p(n,h.end)?(this.removeRange(h),l--):(h.start.row==o&&h.start.column>i.column&&(h.start.column+=s),h.end.row==o&&h.end.column>=i.column&&(h.end.column+=s),h.start.row>=o&&(h.start.row+=r),h.end.row>=o&&(h.end.row+=r),0<p(h.start,h.end)&&this.removeRange(h)))}c.length||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges){this.$inChange=!0;for(var t=this.editor.session,i=t.getTextRange(e.firstNonLinked),n=e.length;n--;){var o=e[n];if(o.linked){var r=s.snippetManager.tmStrFormat(i,o.original);t.replace(o,r)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,i=this.editor.selection.isEmpty(),n=this.ranges.length;n--;)if(!this.ranges[n].linked){var o=this.ranges[n].contains(e.row,e.column),r=i||this.ranges[n].contains(t.row,t.column);if(o&&r)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,i=this.index+(e||1);(i=Math.min(Math.max(i,1),t))==t&&(i=0),this.selectTabstop(i),0===i&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){if(this.selectedTabstop=t,this.editor.inVirtualSelectionMode)this.editor.selection.setRange(t.firstNonLinked);else{var i=this.editor.multiSelect;i.toSingleRange(t.firstNonLinked.clone());for(var n=t.length;n--;)t.hasLinkedRanges&&t[n].linked||i.addRange(t[n].clone(),!0);i.ranges[0]&&i.addRange(i.ranges[0].clone())}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)}},this.addTabstops=function(e,s,t){if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var i=h.fromPoints(t,t);f(i.start,s),f(i.end,s),e[0]=[i],e[0].index=0}var a=[this.index+1,0],c=this.ranges;e.forEach(function(e,t){for(var i=this.$openTabstops[t]||e,n=e.length;n--;){var o=e[n],r=h.fromPoints(o.start,o.end||o.start);d(r.start,s),d(r.end,s),r.original=o,r.tabstop=i,c.push(r),i!=e?i.unshift(r):i[n]=r,o.fmtString?(r.linked=!0,i.hasLinkedRanges=!0):i.firstNonLinked||(i.firstNonLinked=r)}i.firstNonLinked||(i.hasLinkedRanges=!1),i===e&&(a.push(i),this.$openTabstops[t]=i),this.addTabstopMarkers(i)},this),2<a.length&&(this.tabstops.length&&a.push(a.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,a))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))})},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach(function(e){t.removeMarker(e.markerId),e.markerId=null})},this.removeRange=function(e){var t=e.tabstop.indexOf(e);e.tabstop.splice(t,1),t=this.ranges.indexOf(e),this.ranges.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new r,this.keyboardHandler.bindKeys({Tab:function(e){s.snippetManager&&s.snippetManager.expandWithTab(e)||e.tabstopManager.tabNext(1)},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1)},Esc:function(e){e.tabstopManager.detach()},Return:function(e){return!1}})}).call(S.prototype);var u={};u.onChange=o.prototype.onChange,u.setPosition=function(e,t){this.pos.row=e,this.pos.column=t},u.update=function(e,t,i){this.$insertRight=i,this.pos=e,this.onChange(t)};var d=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},f=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};e("./lib/dom").importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}"),s.snippetManager=new c;var g=e("./editor").Editor;(function(){this.insertSnippet=function(e,t){return s.snippetManager.insertSnippet(this,e,t)},this.expandSnippet=function(e){return s.snippetManager.expandWithTab(this,e)}}).call(g.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],function(e,t,i){"use strict";var n=e("../virtual_renderer").VirtualRenderer,o=e("../editor").Editor,c=e("../range").Range,l=e("../lib/event"),h=e("../lib/lang"),d=e("../lib/dom"),f=function(e){var t=new n(e);t.$maxLines=4;var i=new o(t);return i.setHighlightActiveLine(!1),i.setShowPrintMargin(!1),i.renderer.setShowGutter(!1),i.renderer.setHighlightGutterLine(!1),i.$mouseHandler.$focusTimeout=0,i.$highlightTagPending=!0,i};d.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css"),t.AcePopup=function(e){var t=d.createElement("div"),u=new f(t);e&&e.appendChild(t),t.style.display="none",u.renderer.content.style.cursor="default",u.renderer.setStyle("ace_autocomplete"),u.setOption("displayIndentGuides",!1),u.setOption("dragDelay",150);var i=function(){};u.focus=i,u.$isFocused=!0,u.renderer.$cursorLayer.restartTimer=i,u.renderer.$cursorLayer.element.style.opacity=0,u.renderer.$maxLines=8,u.renderer.$keepTextAreaAtCursor=!1,u.setHighlightActiveLine(!1),u.session.highlight(""),u.session.$searchHighlight.clazz="ace_highlight-marker",u.on("mousedown",function(e){var t=e.getDocumentPosition();u.selection.moveToPosition(t),o.start.row=o.end.row=t.row,e.stop()});var p,n=new c(-1,0,-1,1/0),o=new c(-1,0,-1,1/0);o.id=u.session.addMarker(o,"ace_active-line","fullLine"),u.setSelectOnHover=function(e){e?n.id&&(u.session.removeMarker(n.id),n.id=null):n.id=u.session.addMarker(n,"ace_line-hover","fullLine")},u.setSelectOnHover(!1),u.on("mousemove",function(e){if(p){if(p.x!=e.x||p.y!=e.y){(p=e).scrollTop=u.renderer.scrollTop;var t=p.getDocumentPosition().row;n.start.row!=t&&(n.id||u.setRow(t),s(t))}}else p=e}),u.renderer.on("beforeRender",function(){if(p&&-1!=n.start.row){p.$pos=null;var e=p.getDocumentPosition().row;n.id||u.setRow(e),s(e,!0)}}),u.renderer.on("afterRender",function(){var e=u.getRow(),t=u.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow];i!=t.selectedNode&&(t.selectedNode&&d.removeCssClass(t.selectedNode,"ace_selected"),(t.selectedNode=i)&&d.addCssClass(i,"ace_selected"))});var r=function(){s(-1)},s=function(e,t){e!==n.start.row&&(n.start.row=n.end.row=e,t||u.session._emit("changeBackMarker"),u._emit("changeHoverMarker"))};u.getHoveredRow=function(){return n.start.row},l.addListener(u.container,"mouseout",r),u.on("hide",r),u.on("changeSelection",r),u.session.doc.getLength=function(){return u.data.length},u.session.doc.getLine=function(e){var t=u.data[e];return"string"==typeof t?t:t&&t.value||""};var a=u.session.bgTokenizer;return a.$tokenizeRow=function(e){function t(e,t){e&&n.push({type:(i.className||"")+(t||""),value:e})}var i=u.data[e],n=[];if(!i)return n;"string"==typeof i&&(i={value:i});for(var o=i.caption||i.value||i.name,r=o.toLowerCase(),s=(u.filterText||"").toLowerCase(),a=0,c=0,l=0;l<=s.length;l++)if(l!=c&&(i.matchMask&1<<l||l==s.length)){var h=s.slice(c,l);c=l;var p=r.indexOf(h);if(-1==p)continue;t(o.slice(a,p),""),a=p+h.length,t(o.slice(p,a),"completion-highlight")}return t(o.slice(a,o.length),""),i.meta&&n.push({type:"completion-meta",value:i.meta}),n},a.$updateOnChange=i,a.start=i,u.session.$computeWidth=function(){return this.screenWidth=0},u.isOpen=!1,u.isTopdown=!1,u.autoSelect=!0,u.filterText="",u.data=[],u.setData=function(e,t){u.filterText=t||"",u.setValue(h.stringRepeat("\n",e.length),-1),u.data=e||[],u.setRow(0)},u.getData=function(e){return u.data[e]},u.getRow=function(){return o.start.row},u.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),o.start.row!=e&&(u.selection.clearSelection(),o.start.row=o.end.row=e||0,u.session._emit("changeBackMarker"),u.moveCursorTo(e||0,0),u.isOpen&&u._signal("select"))},u.on("changeSelection",function(){u.isOpen&&u.setRow(u.selection.lead.row),u.renderer.scrollCursorIntoView()}),u.hide=function(){this.container.style.display="none",this._signal("hide"),u.isOpen=!1},u.show=function(e,t,i){var n=this.container,o=window.innerHeight,r=window.innerWidth,s=this.renderer,a=s.$maxLines*t*1.4,c=e.top+this.$borderSize,l=o/2<c&&!i;u.isTopdown=l&&o<c+t+a?(s.$maxPixelHeight=c-2*this.$borderSize,n.style.top="",n.style.bottom=o-c+"px",!1):(c+=t,s.$maxPixelHeight=o-c-.2*t,n.style.top=c+"px",!(n.style.bottom="")),n.style.display="",this.renderer.$textLayer.checkForSizeChanges();var h=e.left;h+n.offsetWidth>r&&(h=r-n.offsetWidth),n.style.left=h+"px",this._signal("show"),p=null,u.isOpen=!0},u.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},u.$imageSize=0,u.$borderSize=1,u}}),ace.define("ace/autocomplete/util",["require","exports","module"],function(e,t,i){"use strict";t.parForEach=function(e,t,i){var n=0,o=e.length;0===o&&i();for(var r=0;r<o;r++)t(e[r],function(e,t){++n===o&&i(e,t)})};var r=/[a-zA-Z_0-9\$\-\u00A2-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,i){i=i||r;for(var n=[],o=t-1;0<=o&&i.test(e[o]);o--)n.push(e[o]);return n.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,i){i=i||r;for(var n=[],o=t;o<e.length&&i.test(e[o]);o++)n.push(e[o]);return n},t.getCompletionPrefix=function(e){var t,i=e.getCursorPosition(),n=e.session.getLine(i.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(n,i.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(n,i.column)}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/snippets"],function(e,t,i){"use strict";var n=e("./keyboard/hash_handler").HashHandler,o=e("./autocomplete/popup").AcePopup,l=e("./autocomplete/util"),r=(e("./lib/event"),e("./lib/lang")),s=e("./lib/dom"),a=e("./snippets").snippetManager,c=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new n,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=r.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=r.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new o(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,i){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var n=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),i)i&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var o=n.layerConfig.lineHeight,r=n.$cursorLayer.getPixelPosition(this.base,!0);r.left-=this.popup.getTextLeftOffset();var s=e.container.getBoundingClientRect();r.top+=s.top-n.layerConfig.offset,r.left+=s.left-e.renderer.scrollLeft,r.left+=n.gutterWidth,this.popup.show(r,o)}},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,i=this.editor.textInput.getElement(),n=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),o=this.popup&&this.popup.container;t!=i&&t.parentNode!=o&&!n&&t!=this.tooltipNode&&e.relatedTarget!=i&&this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){var t=this.popup.getRow(),i=this.popup.session.getLength()-1;switch(e){case"up":t=t<=0?i:t-1;break;case"down":t=i<=t?-1:t+1;break;case"start":t=0;break;case"end":t=i}this.popup.setRow(t)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;if(e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(this.completions.filterText)for(var i,n=this.editor.selection.getAllRanges(),o=0;i=n[o];o++)i.start.column-=this.completions.filterText.length,this.editor.session.remove(i);e.snippet?a.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.detach()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(i,n){var o=i.getSession(),r=i.getCursorPosition(),s=l.getCompletionPrefix(i);this.base=o.doc.createAnchor(r.row,r.column-s.length),this.base.$insertRight=!0;var a=[],c=i.completers.length;return i.completers.forEach(function(e,t){e.getCompletions(i,o,r,s,function(e,t){!e&&t&&(a=a.concat(t)),n(null,{prefix:l.getCompletionPrefix(i),matches:a,finished:0==--c})})}),!0},this.showPopup=function(e){this.editor&&this.detach(),this.activated=!0,(this.editor=e).completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions()},this.updateCompletions=function(s){if(s&&this.base&&this.completions){var e=this.editor.getCursorPosition(),t=this.editor.session.getTextRange({start:this.base,end:e});if(t==this.completions.filterText)return;return this.completions.setFilter(t),this.completions.filtered.length?1!=this.completions.filtered.length||this.completions.filtered[0].value!=t||this.completions.filtered[0].snippet?void this.openPopup(this.editor,t,s):this.detach():this.detach()}var a=this.gatherCompletionsId;this.gatherCompletions(this.editor,function(e,t){var i=function(){if(t.finished)return this.detach()}.bind(this),n=t.prefix,o=t&&t.matches;if(!o||!o.length)return i();if(0===n.indexOf(t.prefix)&&a==this.gatherCompletionsId){this.completions=new h(o),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(n);var r=this.completions.filtered;return r.length&&(1!=r.length||r[0].value!=n||r[0].snippet)?this.autoInsert&&1==r.length&&t.finished?this.insertMatch(r[0]):void this.openPopup(this.editor,n,s):i()}}.bind(this))},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,i=t&&(t[e.getHoveredRow()]||t[e.getRow()]),n=null;return i&&this.editor&&this.popup.isOpen?(this.editor.completers.some(function(e){return e.getDocTooltip&&(n=e.getDocTooltip(i)),n}),n||(n=i),"string"==typeof n&&(n={docText:n}),n&&(n.docHTML||n.docText)?void this.showDocTooltip(n):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=s.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var i=this.popup,n=i.container.getBoundingClientRect();t.style.top=i.container.style.top,t.style.bottom=i.container.style.bottom,t.style.display="block",window.innerWidth-n.right<320?n.left<320?(i.isTopdown?t.style.top=n.bottom+"px":t.style.top=i.container.offsetTop-t.offsetHeight+"px",t.style.left=n.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-n.left+"px",t.style.left=""):(t.style.left=n.right+1+"px",t.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==e&&this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}}}).call(c.prototype),c.startCommand={name:"startAutocomplete",exec:function(e){e.completer||(e.completer=new c),e.completer.autoInsert=!1,e.completer.autoSelect=!0,e.completer.showPopup(e),e.completer.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort(function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value)<(t.caption||t.value)});var i=null;t=t.filter(function(e){var t=e.snippet||e.caption||e.value;return t!==i&&(i=t,!0)}),this.filtered=t},this.filterCompletions=function(e,t){var i=[],n=t.toUpperCase(),o=t.toLowerCase();e:for(var r,s=0;r=e[s];s++){var a=r.caption||r.value||r.snippet;if(a){var c,l,h=-1,p=0,u=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else{var d=a.toLowerCase().indexOf(o);if(-1<d)u=d;else for(var f=0;f<t.length;f++){var g=a.indexOf(o[f],h+1),m=a.indexOf(n[f],h+1);if((c=0<=g&&(m<0||g<m)?g:m)<0)continue e;0<(l=c-h-1)&&(-1===h&&(u+=10),u+=l,p|=1<<f),h=c}}r.matchMask=p,r.exactMatch=u?0:1,r.$score=(r.score||0)-u,i.push(r)}}return i}}).call(h.prototype),t.Autocomplete=c,t.FilteredList=h}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(e,t,i){function s(e,t){var i,o=(i=t,e.getTextRange(n.fromPoints({row:0,column:0},i)).split(c).length-1),r=e.getValue().split(c),s=Object.create(null),a=r[o];return r.forEach(function(e,t){if(e&&e!==a){var i=Math.abs(o-t),n=r.length-i;s[e]?s[e]=Math.max(n,s[e]):s[e]=n}}),s}var n=e("../range").Range,c=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,i,n,o){var r=s(t,i);o(null,Object.keys(r).map(function(e){return{caption:e,value:e,score:r[e],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(e,t,i){"use strict";var l=e("../snippets").snippetManager,n=e("../autocomplete").Autocomplete,o=e("../config"),r=e("../lib/lang"),s=e("../autocomplete/util"),a=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,i,n,o){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,i,n,o);var r=e.session.getState(i.row);o(null,t.$mode.getCompletions(r,t,i,n))}},h={getCompletions:function(e,t,i,n,o){var r=[],s=t.getTokenAt(i.row,i.column);s&&s.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?r.push("html-tag"):r=l.getActiveScopes(e);var a=l.snippetMap,c=[];r.forEach(function(e){for(var t=a[e]||[],i=t.length;i--;){var n=t[i],o=n.name||n.tabTrigger;o&&c.push({caption:o,snippet:n.content,meta:n.tabTrigger&&!n.name?n.tabTrigger+"⇥ ":"snippet",type:"snippet"})}},this),o(null,c)},getDocTooltip:function(e){"snippet"==e.type&&!e.docHTML&&(e.docHTML=["<b>",r.escapeHTML(e.caption),"</b>","<hr></hr>",r.escapeHTML(e.snippet)].join(""))}},p=[h,a,c];t.setCompleters=function(e){p.length=0,e&&p.push.apply(p,e)},t.addCompleter=function(e){p.push(e)},t.textCompleter=a,t.keyWordCompleter=c,t.snippetCompleter=h;var u={name:"expandSnippet",exec:function(e){return l.expandWithTab(e)},bindKey:"Tab"},d=function(e,t){f(t.session.$mode)},f=function e(t){var i=t.$id;l.files||(l.files={}),g(i),t.modes&&t.modes.forEach(e)},g=function t(i){if(i&&!l.files[i]){var e=i.replace("mode","snippets");l.files[i]={},o.loadModule(e,function(e){e&&(!(l.files[i]=e).snippets&&e.snippetText&&(e.snippets=l.parseSnippetFile(e.snippetText)),l.register(e.snippets||[],e.scope),e.includeScopes&&(l.snippetMap[e.scope].includeScopes=e.includeScopes,e.includeScopes.forEach(function(e){t("ace/mode/"+e)})))})}},m=function(e){var t=e.editor,i=t.completer&&t.completer.activated;if("backspace"===e.command.name)i&&!s.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name){s.getCompletionPrefix(t)&&!i&&(t.completer||(t.completer=new n),t.completer.autoInsert=!1,t.completer.showPopup(t))}},b=e("../editor").Editor;e("../config").defineOptions(b.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:p),this.commands.addCommand(n.startCommand)):this.commands.removeCommand(n.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:p),this.commands.on("afterExec",m)):this.commands.removeListener("afterExec",m)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(u),this.on("changeMode",d),d(0,this)):(this.commands.removeCommand(u),this.off("changeMode",d))},value:!1}})}),ace.require(["ace/ext/language_tools"],function(e){"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&module&&(module.exports=e)});
goog.provide("Blockly.Blocks.raspberrypi"),goog.provide("Blockly.Constants.RaspberryPi"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.RaspberryPi.RGB="#CF5889",Blockly.Blocks.raspberrypi.RGB=Blockly.Constants.RaspberryPi.RGB,Blockly.Constants.RaspberryPi.DIGITAL_PINS=[["D0",'"D0"'],["D1",'"D1"'],["D2",'"D2"'],["D3",'"D3"'],["D4",'"D4"'],["D5",'"D5"'],["D6",'"D6"'],["D7",'"D7"'],["D8",'"D8"'],["D9",'"D9"']],Blockly.Constants.RaspberryPi.ANALOG_PINS=[["A0",'"A0"'],["A1",'"A1"'],["A2",'"A2"'],["A3",'"A3"'],["A4",'"A4"'],["A5",'"A5"'],["A6",'"A6"'],["A7",'"A7"']],Blockly.Constants.RaspberryPi.DEVICE_PINS=[["LED",'"LED"'],["switch",'"SW"']],Blockly.Constants.RaspberryPi.PWM_PINS=[["P0",'"P0"'],["P1",'"P1"'],["P2",'"P2"'],["P3",'"P3"'],["P4",'"P4"'],["P5",'"P5"'],["P6",'"P6"'],["P7",'"P7"']],Blockly.Constants.RaspberryPi.PIN_IRQ_TRIGGER=[["falling","Pin.IRQ_FALLING"],["rising","Pin.IRQ_RISING"]],Blockly.Constants.RaspberryPi.taskmgr=[["cpu temperature","cpu_temperature"],["gpu temperature","gpu_temperature"],["cpu usage","cpu_usage"],["disk used","disk_used"],["ram used","ram_used"]],Blockly.Constants.RaspberryPi.TTS_LANGUAGE=[["English-United States","'en-US'"],["English-United Kingdom","'en-GB'"],["Germany-Deutsch","'de-DE'"],["España-Español","'es-ES'"],["France-Le français","'fr-FR'"],["Italia-lingua italiana","'it-IT'"]],Blockly.Blocks.raspberrypi_connect_wifi={init:function(){this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_CONNECT_WIFI_TITLE1),this.appendValueInput("country").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_CONNECT_WIFI_TITLE2),this.appendValueInput("ssid").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_CONNECT_WIFI_TITLE3),this.appendValueInput("password").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_CONNECT_WIFI_TITLE4),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_CONNECT_WIFI_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_taskmgr={init:function(){this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_TASKMGR_TITLE1).appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.taskmgr),"taskmgr"),this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_TASKMGR_TITLE2),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_TASKMGR_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_digital_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.DIGITAL_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Digital_Pin"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_DIGITAL_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_analog_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.ANALOG_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Analog_Pin"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_ANALOG_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_device_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.DEVICE_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Digital_Pin"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_DEVICE_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_pwm_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.PWM_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"PWM_Pin"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PWM_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_pin_irq_trigger={init:function(){this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TRIGGER),this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.PIN_IRQ_TRIGGER),"irq_trigger"),this.setInputsInline(!0),this.setOutput(!0,"IRQ_TRIGGER"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TRIGGER_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_tts_language={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.TTS_LANGUAGE),"language"),this.setInputsInline(!0),this.setOutput(!0,"String"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_TTS_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_pin_set_value={init:function(){this.appendValueInput("pin").setCheck(["Digital_Pin","PWM_Pin"]).appendField(Blockly.Msg.RASPBERRYPI_PIN_SET_VALUE_TITLE1),this.appendValueInput("value").setCheck(null).appendField(Blockly.Msg.RASPBERRYPI_PIN_SET_VALUE_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PIN_SET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_pin_get_value={init:function(){this.appendValueInput("pin").setCheck(["Digital_Pin","Analog_Pin","Device_Pin"]).appendField(Blockly.Msg.RASPBERRYPI_PIN_GET_VALUE_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_PIN_GET_VALUE_TITLE2),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PIN_GET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_pin_on={init:function(){this.appendValueInput("pin").setCheck("Digital_Pin").appendField(Blockly.Msg.RASPBERRYPI_PIN_ON_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_PIN_ON_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PIN_ON_TOOLTIP)}},Blockly.Blocks.raspberrypi_pin_off={init:function(){this.appendValueInput("pin").setCheck("Digital_Pin").appendField(Blockly.Msg.RASPBERRYPI_PIN_OFF_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_PIN_OFF_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PIN_OFF_TOOLTIP)}},Blockly.Blocks.raspberrypi_pin_irq={init:function(){this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TITLE1),this.appendValueInput("pin").setCheck("Digital_Pin").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TITLE2),this.appendValueInput("irq_trigger").setCheck("IRQ_TRIGGER").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TITLE3),this.appendStatementInput("irq_handler").appendField(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TITLE4),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(Blockly.Msg.RASPBERRYPI_PIN_IRQ_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_servo_set_angle={init:function(){this.appendValueInput("servo_pin").setCheck("PWM_Pin").appendField(Blockly.Msg.RASPBERRYPI_SERVO_SET_ANGLE_TITLE1),this.appendValueInput("angle").setCheck("Number").appendField(Blockly.Msg.RASPBERRYPI_SERVO_SET_ANGLE_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_SERVO_SET_ANGLE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_spi={init:function(){this.appendValueInput("bus").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_SPI_TITLE1),this.appendValueInput("device").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_SPI_TITLE2),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(Blockly.Msg.RASPBERRYPI_SPI_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_i2c_is_ready={init:function(){this.appendValueInput("address").setCheck(null).appendField(Blockly.Msg.RASPBERRYPI_I2C_IS_READY_TITLE1),this.setHelpUrl(""),this.setInputsInline(!1),this.setOutput(!0,"Boolean"),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_I2C_IS_READY_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_i2c_scan={init:function(){this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_I2C_SCAN_TITLE1),this.setOutput(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_WRITE_I2C_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_i2c_send={init:function(){this.appendValueInput("send").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_SEND_TITLE1),this.appendValueInput("addr").setCheck("math_hex").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_SEND_TITLE2),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(Blockly.Msg.RASPBERRYPI_I2C_SEND_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_i2c_recv={init:function(){this.appendValueInput("recv").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_RECV_TITLE1),this.appendValueInput("addr").setCheck("math_hex").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_RECV_TITLE2),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setInputsInline(!1),this.setOutput(!0,null),this.setTooltip(Blockly.Msg.RASPBERRYPI_I2C_RECV_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_i2c_mem_write={init:function(){this.appendValueInput("data").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_MEM_WRITE_TITLE1),this.appendValueInput("addr").setCheck("math_hex").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_MEM_WRITE_TITLE2),this.appendValueInput("memaddr").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_MEM_WRITE_TITLE3),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(Blockly.Msg.RASPBERRYPI_I2C_MEM_WRITE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_i2c_mem_read={init:function(){this.appendValueInput("data").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_MEM_READ_TITLE1),this.appendValueInput("addr").setCheck("math_hex").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_MEM_READ_TITLE2),this.appendValueInput("memaddr").setCheck(null).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_I2C_MEM_READ_TITLE3),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setInputsInline(!1),this.setOutput(!0,null),this.setTooltip(Blockly.Msg.RASPBERRYPI_I2C_MEM_READ_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberrypi_pwm=function(t){return{init:function(){this.appendValueInput("SIG").setCheck("PWM_Pin").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg["RASPBERRYPI_PWM_"+t+"_TITLE1"]),this.appendValueInput("value").setCheck("Number").appendField(Blockly.Msg["RASPBERRYPI_PWM_"+t+"_TITLE2"]),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg["RASPBERRYPI_PWM_"+t+"_TOOLTIP"]),this.setHelpUrl("")}}},Blockly.Blocks.raspberrypi_pwm_pulse_width=Blockly.Blocks.raspberrypi_pwm("PULSE_WIDTH"),Blockly.Blocks.raspberrypi_freq=Blockly.Blocks.raspberrypi_pwm("FREQ"),Blockly.Blocks.raspberrypi_prescaler=Blockly.Blocks.raspberrypi_pwm("PRESCALER"),Blockly.Blocks.raspberrypi_period=Blockly.Blocks.raspberrypi_pwm("PERIOD"),Blockly.Blocks.raspberrypi_pwm_pulse_width_precentage={init:function(){this.appendValueInput("SIG").setCheck("PWM_Pin").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1),this.appendValueInput("value").setCheck("Number").appendField(Blockly.Msg.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE2),this.appendDummyInput().appendField(Blockly.Msg.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberry_text_to_speech={init:function(){this.appendValueInput("text").setCheck("String").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_TEXT_TO_SPEECH_TITLE1),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_TEXT_TO_SPEECH_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.raspberry_text_to_speech_language={init:function(){this.appendValueInput("lang").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.RASPBERRYPI_TEXT_TO_SPEECH_LANGUAGE_TITLE1),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.RASPBERRYPI_TEXT_TO_SPEECH_LANGUAGE_TOOLTIP),this.setHelpUrl("")}},Blockly.Constants.RaspberryPi.value=[["ON","'on'"],["OFF","'off'"]],Blockly.Blocks.raspberry_switchbot_s1_get_value={init:function(){this.appendValueInput("mac").setCheck("String").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SWITCHBOT_S1_TITLE1),this.appendDummyInput().setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.SWITCHBOT_S1_TITLE2).appendField(new Blockly.FieldDropdown(Blockly.Constants.RaspberryPi.value),"value"),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.RaspberryPi.RGB),this.setTooltip(Blockly.Msg.SWITCHBOT_S1_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.raspberrypi"),goog.require("Blockly.Python"),Blockly.Python.raspberrypi_digital_pin=function(o){var l=o.getFieldValue("pin");Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import Pin";var r="";return[r+=l,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.raspberrypi_analog_pin=function(o){var l=o.getFieldValue("pin");Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import ADC";var r="";return[r+=l,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.raspberrypi_device_pin=function(o){var l="";return[l+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.raspberrypi_pwm_pin=function(o){var l="";return[l+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.raspberrypi_pin_irq_trigger=function(o){var l="";return[l+=o.getFieldValue("irq_trigger"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.raspberrypi_pin_set_value=function(o){var l=Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC),r=Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC);if(l.startsWith('"D')||l in['"LED"','"SW"']){Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import Pin";var n="Pin("+l+")",y="value"}else if(l.startsWith('"P')){Blockly.Python.definitions_.import_raspberrypi_pwm="from raspberrypi import PWM";n="PWM("+l+")",y="pulse_width"}var e="";return e+=n+"."+y+"("+r+")\n"},Blockly.Python.raspberrypi_pin_get_value=function(o){var l=Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC);if(l.startsWith('"D')||l in["LED","SW"]){Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import Pin";var r="Pin("+l+")",n="value"}else if(l.startsWith('"A')){Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import ADC";r="ADC("+l+")",n="read"}var y="";return[y+=r+"."+n+"()",Blockly.Python.ORDER_NONE]},Blockly.Python.raspberrypi_pin_on=function(o){var l=Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import Pin","Pin("+l+").on()\n"},Blockly.Python.raspberrypi_pin_off=function(o){var l=Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_raspberrypi_pin="from raspberrypi import Pin","Pin("+l+").off()\n"},Blockly.Python.raspberrypi_pin_irq=function(o){var l=Blockly.Python.valueToCode(o,"irq_pin",Blockly.Python.ORDER_ATOMIC),r=Blockly.Python.valueToCode(o,"irq_trigger",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.statementToCode(o,"irq_handler"),y="callback_"+l.replace("(","").replace(")",""),e="";return e+="def "+y+"(chn):\n",e+=n+"\n",e+="Pin("+l+").irq("+y+", "+r+")\n"},Blockly.Python.raspberrypi_servo_set_angle=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC),r=Blockly.Python.valueToCode(o,"angle",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from raspberrypi import Servo","Servo("+l+").angle("+r+")\n"},Blockly.Python.raspberrypi_taskmgr=function(o){var l="";return[l+="Taskmgr()."+o.getFieldValue("taskmgr")+"()",Blockly.Python.ORDER_NONE]},Blockly.Python.raspberrypi_connect_wifi=function(o){var l=Blockly.Python.valueToCode(o,"country",Blockly.Python.ORDER_ATOMIC),r=Blockly.Python.valueToCode(o,"ssid",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"password",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_raspberrypi_wifi="from raspberrypi import WiFi";var y="";return y+="WiFi("+l+", "+r+"，"+n+").write()\n"},Blockly.Python.raspberrypi_write_i2c=function(o){var l="";return l+="I2C().send("+Blockly.Python.valueToCode(o,"address",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"Register_address",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_read_i2c=function(o){var l="";return l+="I2C().recv("+Blockly.Python.valueToCode(o,"data",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_spi=function(o){var l="";return l+="SPI("+Blockly.Python.valueToCode(o,"bus",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"device",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_i2c_is_ready=function(o){var l="";return[l+="I2C().is_ready("+Blockly.Python.valueToCode(o,"address",Blockly.Python.ORDER_ATOMIC)+")",Blockly.Python.ORDER_NONE]},Blockly.Python.raspberrypi_i2c_scan=function(o){return"I2C().scan()",["I2C().scan()",Blockly.Python.ORDER_NONE]},Blockly.Python.raspberrypi_i2c_send=function(o){var l="";return l+="I2C().send("+Blockly.Python.valueToCode(o,"send",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"addr",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_i2c_recv=function(o){var l="";return[l+="I2C().recv("+Blockly.Python.valueToCode(o,"recv",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"addr",Blockly.Python.ORDER_ATOMIC)+")",Blockly.Python.ORDER_NONE]},Blockly.Python.raspberrypi_i2c_mem_write=function(o){var l="";return l+="I2C().mem_write("+Blockly.Python.valueToCode(o,"data",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"addr",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"memaddr",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_i2c_mem_read=function(o){var l="";return[l+="I2C().mem_read("+Blockly.Python.valueToCode(o,"data",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"addr",Blockly.Python.ORDER_ATOMIC)+", "+Blockly.Python.valueToCode(o,"memaddr",Blockly.Python.ORDER_ATOMIC)+")",Blockly.Python.ORDER_NONE]},Blockly.Python.raspberrypi_pwm_pulse_width=function(o){var l="",r="";return r+=(l+="PWM("+Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC)+")")+".pulse_width("+Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_pwm_pulse_width_precentage=function(o){var l="",r="";return r+=(l+="PWM("+Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC)+")")+".pulse_width_percentage("+Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_freq=function(o){var l="",r="";return r+=(l+="PWM("+Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC)+")")+".freq("+Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_prescaler=function(o){var l="",r="";return r+=(l+="PWM("+Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC)+")")+".prescaler("+Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_period=function(o){var l="",r="";return r+=(l+="PWM("+Blockly.Python.valueToCode(o,"SIG",Blockly.Python.ORDER_ATOMIC)+")")+".period("+Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.raspberrypi_tts_language=function(o){var l="";return[l+=o.getFieldValue("language"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.raspberry_text_to_speech=function(o){var l=Blockly.Python.valueToCode(o,"text",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_TTS="from raspberrypi import TTS";var r="";return r+="TTS().say("+l+")\n"},Blockly.Python.raspberry_text_to_speech_language=function(o){var l=Blockly.Python.valueToCode(o,"lang",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_TTS="from raspberrypi import TTS";var r="";return r+="TTS().lang("+l+")\n"};
goog.provide("Blockly.JavaScript.raspberrypi"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.raspberrypi_digital_pin=function(a){var r="";return[r+=a.getFieldValue("pin"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.raspberrypi_analog_pin=function(a){var r="";return[r+=a.getFieldValue("pin"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.raspberrypi_device_pin=function(a){var r="";return[r+=a.getFieldValue("pin"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.raspberrypi_pwm_pin=function(a){var r="";return[r+=a.getFieldValue("pin"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.raspberrypi_pin_irq_trigger=function(a){var r="";return[r+=a.getFieldValue("irq_trigger"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.raspberrypi_pin_set_value=function(a){var r=Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC),l=Blockly.JavaScript.valueToCode(a,"value",Blockly.JavaScript.ORDER_ATOMIC);if(r.startsWith('"D')||r in["LED","SW"])var c="Pin("+r+")",i="value";else if(r.startsWith('"P'))c="PWM("+r+")",i="pulse_width";return c+"."+i+"("+l+")\n"},Blockly.JavaScript.raspberrypi_pin_get_value=function(a){var r=Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC);if(r.startsWith('"D')||r in["LED","SW"])var l="Pin("+r+")",c="value";else if(r.startsWith('"A'))l="ADC("+r+")",c="read";var i="";return[i+=l+"."+c+"()\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.raspberrypi_pin_on=function(a){return"Pin("+Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC)+").on()\n"},Blockly.JavaScript.raspberrypi_pin_off=function(a){return"Pin("+Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC)+").off()\n"},Blockly.JavaScript.raspberrypi_pin_irq=function(a){var r=Blockly.JavaScript.valueToCode(a,"irq_pin",Blockly.JavaScript.ORDER_ATOMIC),l=Blockly.JavaScript.valueToCode(a,"irq_trigger",Blockly.JavaScript.ORDER_ATOMIC),c=Blockly.JavaScript.statementToCode(a,"irq_handler"),i="callback_"+r.replace("(","").replace(")",""),e="";return e+="def "+i+"(chn):\n",e+=c+"\n",e+="Pin("+r+").irq("+i+", "+l+")\n"},Blockly.JavaScript.raspberrypi_servo_set_angle=function(a){return"Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").angle("+Blockly.JavaScript.valueToCode(a,"angle",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_taskmgr=function(a){var r="";return[r+="Taskmgr()."+a.getFieldValue("taskmgr")+"()\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.raspberrypi_connect_wifi=function(a){return"WiFi("+Blockly.JavaScript.valueToCode(a,"country",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"ssid",Blockly.JavaScript.ORDER_ATOMIC)+"，"+Blockly.JavaScript.valueToCode(a,"password",Blockly.JavaScript.ORDER_ATOMIC)+").write()\n"},Blockly.JavaScript.raspberrypi_write_i2c=function(a){return"I2C().send("+Blockly.JavaScript.valueToCode(a,"address",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"Register_address",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_read_i2c=function(a){return"I2C().recv("+Blockly.JavaScript.valueToCode(a,"data",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_spi=function(a){return"SPI("+Blockly.JavaScript.valueToCode(a,"bus",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"device",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_i2c_is_ready=function(a){return["I2C().is_ready("+Blockly.JavaScript.valueToCode(a,"address",Blockly.JavaScript.ORDER_ATOMIC)+")\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.raspberrypi_i2c_scan=function(a){return["I2C().scan()\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.raspberrypi_i2c_send=function(a){return"I2C().send("+Blockly.JavaScript.valueToCode(a,"send",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"addr",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_i2c_recv=function(a){return["I2C().recv("+Blockly.JavaScript.valueToCode(a,"recv",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"addr",Blockly.JavaScript.ORDER_ATOMIC)+")\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.raspberrypi_i2c_mem_write=function(a){return"I2C().mem_write("+Blockly.JavaScript.valueToCode(a,"data",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"addr",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"memaddr",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_i2c_mem_read=function(a){return["I2C().mem_read("+Blockly.JavaScript.valueToCode(a,"data",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"addr",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"memaddr",Blockly.JavaScript.ORDER_ATOMIC)+")\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.raspberrypi_pwm_pulse_width=function(a){return"pulse_width("+Blockly.JavaScript.valueToCode(a,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.raspberrypi_pwm_pulse_width_precentage=function(a){return"pulse_width_percentage("+Blockly.JavaScript.valueToCode(a,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n"};
var RaspberryPi={id:"raspberrypi",series:"raspberrypi",libs:[],name:"Raspberry Pi",libPath:"./packages/raspberrypi/lib",width:87,height:58,pinWidth:8,pinHeight:8,examples:{},examplesHasKit:{},tutorials:{},tutorialsHasKit:{},VOLTAGE_LEVEL_THRESHOLD:1.5,pwmReference:4095,adcReference:4095,avalibleKits:["SensorKit","SwitchBot"],functions:["iot","remote","bluetooth"],routingOffset:{x:.7,y:2.6}};RaspberryPi.pins=[{id:1,name:"P0",x:76.73+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:2,name:"P1",x:74.19+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:3,name:"P2",x:71.65+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:4,name:"P3",x:69.11+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:5,name:"P4",x:66.57+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:6,name:"P5",x:64.03+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:7,name:"P6",x:61.49+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:8,name:"P7",x:58.95+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:9,name:"A0",x:56.41+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:10,name:"A1",x:53.87+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:11,name:"A2",x:51.33+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:12,name:"A3",x:48.79+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:13,name:"A4",x:46.25+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:14,name:"A5",x:43.71+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:15,name:"A6",x:41.17+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:16,name:"A7",x:38.63+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:17,name:"GND",x:36.09+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:18,name:"GND",x:33.55+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:19,name:"5V",x:31.01+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:20,name:"5V",x:28.47+RaspberryPi.routingOffset.x,y:1.27+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:21,name:"D0",x:76.73+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:22,name:"D1",x:74.19+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:23,name:"D2",x:71.65+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:24,name:"D3",x:69.11+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:25,name:"D4",x:66.57+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:26,name:"D5",x:64.03+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:27,name:"D6",x:61.49+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:28,name:"D7",x:58.95+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout","1wire"],type:"digital"},{id:29,name:"D8",x:56.41+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:30,name:"D9",x:53.87+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:31,name:"SDA",x:51.33+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["SDA"],type:"com"},{id:32,name:"SCL",x:48.79+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["SCL"],type:"com"},{id:33,name:"MOSI",x:46.25+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["MOSI"],type:"com"},{id:34,name:"MISO",x:43.71+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["MISO"],type:"com"},{id:35,name:"SCLK",x:41.17+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["SCLK"],type:"com"},{id:36,name:"CE",x:38.63+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["CE"],type:"com"},{id:37,name:"GND",x:36.09+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:38,name:"GND",x:33.55+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:39,name:"3V3",x:31.01+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:40,name:"3V3",x:28.47+RaspberryPi.routingOffset.x,y:46.55+RaspberryPi.routingOffset.y,width:RaspberryPi.pinWidth,height:RaspberryPi.pinHeight,isSource:!1,property:["3V3"],type:"power"}],RaspberryPi.init=function(){RaspberryPi.name=MSG.catRaspberryPi,RaspberryPi.description=MSG.raspberrypi_description};
RaspberryPi.toolboxText='  <category name="%{BKY_CATRASPBERRYPI}" colour="#CF5889">    <block type="raspberrypi_digital_pin"></block>    <block type="raspberrypi_analog_pin"></block>    <block type="raspberrypi_pwm_pin"></block>    <block type="raspberrypi_device_pin"></block>    <block type="raspberrypi_pin_set_value">      <value name="pin">        <shadow type="raspberrypi_digital_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pin_set_value">      <value name="pin">        <shadow type="raspberrypi_pwm_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pin_get_value">      <value name="pin">        <shadow type="raspberrypi_digital_pin">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_get_value">      <value name="pin">        <shadow type="raspberrypi_analog_pin">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_on">      <value name="pin">        <shadow type="raspberrypi_pin_number">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_off">      <value name="pin">        <shadow type="raspberrypi_pin_number">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_irq">      <value name="irq_pin">        <shadow type="raspberrypi_pin_number">        </shadow>      </value>      <value name="irq_trigger">        <shadow type="raspberrypi_pin_irq_trigger">        </shadow>      </value>    </block>    <label> Servo </label>    <block type="raspberrypi_servo_set_angle">      <value name="servo_pin">        <shadow type="raspberrypi_pwm_pin">        </shadow>      </value>      <value name="angle">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>      <value name="time">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pwm_pulse_width">        <value name="SIG">            <shadow type="raspberrypi_pwm_pin">            </shadow>        </value>      <value name="value">        <shadow type="math_number">        </shadow>      </value>    </block>    <block type="raspberrypi_pwm_pulse_width_precentage">        <value name="SIG">            <shadow type="raspberrypi_pwm_pin">            </shadow>        </value>      <value name="value">        <shadow type="math_number">        </shadow>      </value>    </block>    <block type="raspberrypi_freq">       <value name="SIG">        <shadow type="raspberrypi_pwm_pin">        </shadow>       </value>       <value name="value">        <shadow type="math_number">        </shadow>       </value>    </block>    <block type="raspberrypi_prescaler">       <value name="SIG">        <shadow type="raspberrypi_pwm_pin">        </shadow>        </value>       <value name="value">        <shadow type="math_number">        </shadow>       </value>    </block>    <block type="raspberrypi_period">       <value name="SIG">        <shadow type="raspberrypi_pwm_pin">        </shadow>       </value>       <value name="value">        <shadow type="math_number">        </shadow>       </value>    </block>    <label> System </label>    <block type="raspberrypi_connect_wifi">        <value name="country">            <shadow type="text">                <field name="TEXT">abc</field>            </shadow>        </value>        <value name="ssid">            <shadow type="text">                <field name="TEXT">abc</field>            </shadow>        </value>        <value name="password">            <shadow type="text">                <field name="TEXT">abc</field>            </shadow>        </value>        </block>    <block type="raspberrypi_taskmgr"></block>    <block type="raspberrypi_i2c_is_ready">        <value name="address">        <shadow type="math_hex">            <field name="NUM">00</field>        </shadow>        </value>    </block>    <block type="raspberrypi_i2c_scan"></block>    <block type="raspberrypi_i2c_send">        <value name="send">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>        <value name="addr">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>    </block>   <block type="raspberrypi_i2c_recv">        <value name="recv">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>        <value name="addr">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>    </block>    <block type="raspberrypi_i2c_mem_write">        <value name="data">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>        <value name="addr">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>        <value name="memaddr">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>    </block>    <block type="raspberrypi_i2c_mem_read">        <value name="data">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>        <value name="addr">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>        <value name="memaddr">            <shadow type="math_hex">                <field name="NUM">00</field>            </shadow>        </value>    </block><block type="raspberry_text_to_speech_language">   <value name="lang">     <shadow type="raspberrypi_tts_language">     </shadow>   </value> </block> <block type="raspberry_text_to_speech">   <value name="text">     <shadow type="text">       <field name="TEXT">Hello</field>     </shadow>   </value> </block> <block type="raspberry_switchbot_s1_get_value">   <value name="mac">     <shadow type="text">       <field name="TEXT">aa:aa:aa:aa:aa:aa</field>     </shadow>   </value> </block> </category>',RaspberryPi.timeToolboxText='  <category name="%{BKY_CATTIME}" colour="292">    <block type="time_localtime">    </block>    <block type="time_mktime">    </block>    <block type="time_sleep">      <value name="delay_secs">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>    </block>    <block type="time_time">    </block>  </category>';
RaspberryPi.examples.block={},RaspberryPi.examples.block["Blink LED"]={name:"Blink LED",project:{code:{code:"<xml xmlns='http://www.w3.org/1999/xhtml'><block type='basic_start' id='qrswBI$2J**dCagSbF$0' x='-230' y='-290'></block><block type='basic_forever' id='(.X9-M;L7,PGS[je0yNt' x='-190' y='-170'><statement name='statement'><block type='controls_repeat_ext' id='pI6q7blNr1(Qw#)+:Ch}'><value name='TIMES'><shadow type='math_number' id='BI!m:|9C0W6`HB=kOHVE'><field name='NUM'>10</field></shadow></value><statement name='DO'><block type='basic_print' id='-H4?7gf::[VXZ2!H2.iX'><value name='msg'><shadow type='text' id='5K=XYU9LPM-{r`WsT:r^'><field name='TEXT'>abc</field></shadow></value></block></statement><next><block type='basic_delay' id=';DSq;%l?o;y)|v9MuRGq'><value name='ms'><shadow type='math_number' id='VMgAzxp|_N}ERGy}}kPR'><field name='NUM'>100</field></shadow></value></block></next></block></statement></block></xml>",libs:{}},datetime:1542880086479,device:"raspberrypi",iot:[],name:"c",platform:"blockcode",readOnly:!1,remote:{},route:{device:{x:453,y:351,id:453},currentModules:{}}}},RaspberryPi.examples.block["Breath LED"]={name:"Breath LED",project:{name:"",dateTime:"",device:"raspberrypi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>',libs:{}},readOnly:!1,datetime:1548381077631,route:{device:{x:"50%",y:"50%",id:"_0"},currentModules:{}},remote:{},iot:[],kits:""}};
RaspberryPi.tutorials.blockcode={"Getting Start":{},Advance:{}},RaspberryPi.tutorials.blockcode["Getting Start"]["Hello world"]={name:"Hello world",stepList:{step1:{description:"First project using the Raspberry Pi and the EZblock App. This project is used to learn more about Debug Monitor, it is a very useful tool to finish your projects.",image:""},step2:{description:"After we create a new project, we can see a debug monitor in the left functional area. The debug monitor is used to print string, values or debug your code.",image:"tutorial-basic-hello-world-debug-monitor.png"},step3:{description:"Drag out 2 print block from the Basic category and drop to forever block, then input “What is your dream” and “My dream is world peace”. After flash the code to the Raspberry Pi, you can see the 2 string appear on the debug monitor.",image:"tutorial-basic-hello-world-print-string.png"},step4:{description:"It is a great tool if you want to read the value of one pins in your Raspberry Pi. Place a print block from the Basic category into forever block. Add a get pin A0 value block after the print block to print the A0 value. After flash the code to the Raspberry Pi, you can see the analog value of A0.",image:"tutorial-basic-hello-world-print-value.png"},step5:{description:"DO NOT ignore any errors appeared on the debug monitor, if you can’t solve the error, then the code will never download successfully.",image:""}}},RaspberryPi.tutorials.blockcode["Getting Start"]["Breath LED"]={name:"Breath LED",stepList:{step1:{description:"step1",image:"tutorial-basic-hello-world-print-string.png"},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},RaspberryPi.tutorials.blockcode.Advance.Wiring={name:"Wiring",stepList:{step1:{description:"step1",image:"tutorial-basic-hello-world-print-string.png"},step2:{description:"",image:"tutorial-basic-hello-world-debug-monitor.png"},step3:{description:"step3",image:"tutorial-basic-hello-world-print-string.png"},step4:{description:"step4",image:"tutorial-basic-hello-world-debug-monitor.png"},step5:{description:"step5",image:"tutorial-basic-hello-world-print-string.png"},step6:{description:"step6",image:"tutorial-basic-hello-world-debug-monitor.png"}}};
goog.provide("Blockly.Blocks.leaf"),goog.provide("Blockly.Constants.Leaf"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Leaf.RGB=80,Blockly.Blocks.leaf.RGB=Blockly.Constants.Leaf.RGB,Blockly.Constants.Leaf.DIGITAL_PINS=[["D0",'"D0"'],["D1",'"D1"'],["D2",'"D2"'],["D3",'"D3"'],["D4",'"D4"'],["D5",'"D5"'],["D6",'"D6"'],["D7",'"D7"'],["D8",'"D8"'],["D9",'"D9"'],["D10",'"D10"'],["D11",'"D11"'],["D12",'"D12"'],["D13",'"D13"']],Blockly.Constants.Leaf.ANALOG_PINS=[["A0",'"A0"'],["A1",'"A1"'],["A2",'"A2"'],["A3",'"A3"'],["A4",'"A4"'],["A5",'"A5"'],["A6",'"A6"'],["A7",'"A7"'],["A8",'"A8"'],["A9",'"A9"'],["A10",'"A10"'],["A11",'"A11"'],["A12",'"A12"'],["A13",'"A13"']],Blockly.Constants.Leaf.DEVICE_PINS=[["switch",'"SW"'],["LED",'"LED"']],Blockly.Constants.Leaf.SERVO_PINS=[["S0","1"],["S1","2"],["S2","3"],["S3","4"]],Blockly.Constants.Leaf.PIN_STATUS=[[Blockly.Msg.LEAF_PIN_OUTPUT,"Pin.OUT"],[Blockly.Msg.LEAF_PIN_INPUT,"Pin.IN"],[Blockly.Msg.LEAF_PIN_OPEN_DRAIN,"Pin.OPEN_DRAIN"]],Blockly.Constants.Leaf.PWM_PINS=[["A0",'"A0"'],["A1",'"A1"'],["A2",'"A2"'],["A3",'"A3"'],["D4",'"D4"'],["D5",'"D5"'],["D6",'"D6"'],["D7",'"D7"']],Blockly.Constants.Leaf.PWM_PIN_DICT={A0:[2,1],A1:[2,2],A2:[2,3],A3:[2,4],D4:[4,1],D5:[4,2],D6:[4,3],D7:[4,4]},Blockly.Constants.Leaf.PIN_PULL=[["pull_up","Pin.PULL_UP"],["pull_down","Pin.PULL_DOWN"],["none","Pin.PULL_NONE"]],Blockly.Constants.Leaf.IRQ_TRIGGER=[["rising","ExtInt.IRQ_RISING"],["falling","ExtInt.IRQ_FALLING"],["rising_falling","ExtInt.IRQ_RISING_FALLING"]],Blockly.Constants.Leaf.I2C_MODE=[["master","I2C.MASTER"],["slave","I2C.SLAVE"]],Blockly.Blocks.leaf_digital_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.DIGITAL_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Digital_Pin"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_DIGITAL_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_analog_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.ANALOG_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Analog_Pin"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_ANALOG_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_device_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.DEVICE_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Device_Pin"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_DEVICE_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.SERVO_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Servo_Pin"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_SERVO_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pin_pull={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.PIN_PULL),"pin_pull"),this.setInputsInline(!0),this.setOutput(!0,"Pin_pull"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_PULL_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pin_irq_trigger={init:function(){this.appendDummyInput().appendField(Blockly.Msg.LEAF_PIN_IRQ_TRIGGER_TITLE),this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.IRQ_TRIGGER),"irq_trigger"),this.setInputsInline(!0),this.setOutput(!0,"Irq_trigger"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_IRQ_TRIGGER_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pwm_pin={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.Leaf.PWM_PINS),"pin"),this.setInputsInline(!0),this.setOutput(!0,"Pwm_Pin"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PWM_PIN_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pin_set_value={init:function(){this.appendValueInput("pin").setCheck(["Digital_Pin","Device_Pin","Analog_Pin"]).appendField(Blockly.Msg.LEAF_PIN_SET_VALUE_TITLE1),this.appendValueInput("value").setCheck("Number").appendField(Blockly.Msg.LEAF_PIN_SET_VALUE_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_SET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pin_get_value={init:function(){this.appendValueInput("pin").setCheck(["Digital_Pin","Device_Pin"]).appendField(Blockly.Msg.LEAF_PIN_GET_VALUE_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_PIN_GET_VALUE_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_GET_VALUE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pin_on={init:function(){this.appendValueInput("pin").setCheck(["Digital_Pin","Device_Pin"]).appendField(Blockly.Msg.LEAF_PIN_ON_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_PIN_ON_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_ON_TOOLTIP)}},Blockly.Blocks.leaf_pin_off={init:function(){this.appendValueInput("pin").setCheck(["Digital_Pin","Device_Pin"]).appendField(Blockly.Msg.LEAF_PIN_OFF_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_PIN_OFF_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PIN_OFF_TOOLTIP)}},Blockly.Blocks.leaf_pin_irq={init:function(){this.appendDummyInput().appendField(Blockly.Msg.LEAF_PIN_IRQ_TITLE1),this.appendValueInput("irq_pin").setCheck(["Digital_Pin","Device_Pin"]).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.LEAF_PIN_IRQ_TITLE2),this.appendValueInput("irq_mode").setCheck("Irq_trigger").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.LEAF_PIN_IRQ_TITLE3),this.appendValueInput("pin_pull").setCheck("Pin_pull").setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.LEAF_PIF_IRQ_TITLE4),this.appendStatementInput("irq_handler").setCheck(null).appendField(Blockly.Msg.LEAF_PIN_IRQ_TITLE5),this.setColour(Blockly.Constants.Leaf.RGB),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(Blockly.Msg.LEAF_PIN_IRQ_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_adc_read={init:function(){this.appendValueInput("analog_pin").setCheck("Analog_Pin").appendField(Blockly.Msg.LEAF_ADC_READ_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_ADC_READ_TITLE2),this.setInputsInline(!0),this.setOutput(!0,"Number"),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_ADC_READ_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_dac_write={init:function(){this.appendValueInput("analog_pin").setCheck("Analog_Pin").appendField(Blockly.Msg.LEAF_DAC_WRITE_TITLE1),this.appendValueInput("analog_value").setCheck("Number").appendField(Blockly.Msg.LEAF_DAC_WRITE_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_DAC_WRITE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_get_angle={init:function(){this.appendValueInput("servo_pin").setCheck("Servo_Pin").appendField(Blockly.Msg.LEAF_SERVO_GET_ANGLE_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_SERVO_GET_ANGLE_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_SERVO_GET_ANGLE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_set_angle={init:function(){this.appendValueInput("servo_pin").setCheck("Servo_Pin").appendField(Blockly.Msg.LEAF_SERVO_SET_ANGLE_TITLE1),this.appendValueInput("angle").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_ANGLE_TITLE2),this.appendValueInput("time").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_ANGLE_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_SERVO_SET_ANGLE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_get_speed={init:function(){this.appendValueInput("servo_pin").setCheck("Servo_Pin").appendField(Blockly.Msg.LEAF_SERVO_GET_SPEED_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_SERVO_GET_SPEED_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_SERVO_GET_SPEED_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_set_speed={init:function(){this.appendValueInput("servo_pin").setCheck("Servo_Pin").appendField(Blockly.Msg.LEAF_SERVO_SET_SPEED_TITLE1),this.appendValueInput("speed").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_SPEED_TITLE2),this.appendValueInput("time").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_SPEED_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_SERVO_SET_SPEED_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_get_calibration={init:function(){this.appendValueInput("servo_pin").setCheck("Servo_Pin").appendField(Blockly.Msg.LEAF_SERVO_GET_CALIBRATION_TITLE1),this.appendDummyInput().appendField(Blockly.Msg.LEAF_SERVO_GET_CALIBRATION_TITLE2),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_SERVO_GET_CALIBRATION_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_servo_set_calibration={init:function(){this.appendDummyInput().appendField(Blockly.Msg.LEAF_SERVO_GET_CALIBRATION_TITLE1),this.appendValueInput("servo_pin").setCheck("Servo_Pin").appendField(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TITLE2),this.appendValueInput("pulse_min").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TITLE3),this.appendValueInput("pulse_max").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TITLE4),this.appendValueInput("pulse_centre").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TITLE5),this.appendValueInput("pulse_angle_90").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TITLE6),this.appendValueInput("pulse_speed_100").setCheck("Number").appendField(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TITLE7),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_SERVO_SET_CALIBRATION_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pwm_pulse_width={init:function(){this.appendValueInput("pwm_pin").setCheck("Pwm_Pin").appendField(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_TITLE1),this.appendValueInput("analog_value").setCheck("Number").appendField(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_pwm_pulse_width_precentage={init:function(){this.appendValueInput("pwm_pin").setCheck("Pwm_Pin").appendField(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1),this.appendValueInput("analog_value").setCheck("Number").appendField(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE2),this.appendDummyInput().appendField(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_freq={init:function(){this.appendValueInput("pwm_pin").setCheck("Pwm_Pin").appendField(Blockly.Msg.LEAF_PWM_FREQ_TITLE1),this.appendValueInput("analog_value").setCheck("Number").appendField(Blockly.Msg.LEAF_PWM_FREQ_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PWM_FREQ_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_prescaler={init:function(){this.appendValueInput("pwm_pin").setCheck("Pwm_Pin").appendField(Blockly.Msg.LEAF_PWM_PRESCALER_TITLE1),this.appendValueInput("analog_value").setCheck("Number").appendField(Blockly.Msg.LEAF_PWM_PRESCALER_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PWM_PRESCALER_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.leaf_period={init:function(){this.appendValueInput("pwm_pin").setCheck("Pwm_Pin").appendField(Blockly.Msg.LEAF_PWM_PERIOD_TITLE1),this.appendValueInput("analog_value").setCheck("Number").appendField(Blockly.Msg.LEAF_PWM_PERIOD_TITLE2),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Leaf.RGB),this.setTooltip(Blockly.Msg.LEAF_PWM_PERIOD_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.leaf"),goog.require("Blockly.Python"),Blockly.Python.leaf_digital_pin=function(o){var l=o.getFieldValue("pin");Blockly.Python.definitions_.import_pin="from leaf import Pin";var n="";return[n+=l,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.leaf_analog_pin=function(o){var l=o.getFieldValue("pin");Blockly.Python.definitions_.import_adc="from leaf import ADC";var n="";return[n+=l,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.leaf_device_pin=function(o){var l=o.getFieldValue("pin");Blockly.Python.definitions_.import_pin="from leaf import Pin";var n="";return[n+=l,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.leaf_servo_pin=function(o){var l="";return[l+=o.getFieldValue("pin"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.leaf_pin_pull=function(o){var l=o.getFieldValue("pin_pull");Blockly.Python.definitions_.import_pin="from leaf import Pin";var n="";return[n+=l,Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_pin_irq_trigger=function(o){var l=o.getFieldValue("irq_trigger");Blockly.Python.definitions_.import_extint="from leaf import ExtInt";var n="";return[n+=l,Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_pwm_pin=function(o){var l=o.getFieldValue("pin");Blockly.Python.definitions_.define_pwm_pin_dict='Pwm_Pin_Dict = {"A0":[2,1],"A1":[2,2],"A2":[2,3],"A3":[2,4],"D4":[4,1],"D5":[4,2],"D6":[4,3],"D7":[4,4]}';var n="";return[n+=l,Blockly.Python.ORDER_ATOMIC]},Blockly.Python.leaf_pin_set_value=function(o){return"Pin("+Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC)+", Pin.OUT_PP).value("+Blockly.Python.valueToCode(o,"value",Blockly.Python.ORDER_ATOMIC)+")\n"},Blockly.Python.leaf_pin_get_value=function(o){return["Pin("+Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC)+").value()\n",Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_pin_on=function(o){return"Pin("+Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC)+", Pin.OUT_PP).on()\n"},Blockly.Python.leaf_pin_off=function(o){return"Pin("+Blockly.Python.valueToCode(o,"pin",Blockly.Python.ORDER_ATOMIC)+", Pin.OUT_PP).off()\n"},Blockly.Python.leaf_pin_irq=function(o){var l=Blockly.Python.valueToCode(o,"irq_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"irq_mode",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"pin_pull",Blockly.Python.ORDER_ATOMIC),e=Blockly.Python.statementToCode(o,"irq_handler");Blockly.Python.definitions_.import_extint="from leaf import ExtInt";var i="def callback():\n";return i+=e,i+="ExtInt(pin="+l+", mode="+n+", pull="+t+",callback=callback())\n"},Blockly.Python.leaf_adc_read=function(o){var l=Blockly.Python.valueToCode(o,"analog_pin",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_adc="from leaf import ADC",["ADC("+l+").read()",Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_dac_write=function(o){var l=Blockly.Python.valueToCode(o,"analog_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"analog_value",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_dac="from leaf import DAC","DAC("+l+").write("+n+")"},Blockly.Python.leaf_servo_get_angle=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from leaf import Servo",["Servo("+l+").angle()\n",Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_servo_set_angle=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"angle",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"time",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from leaf import Servo","Servo("+l+").angle("+n+", "+t+")\n"},Blockly.Python.leaf_servo_get_speed=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from leaf import Servo",["Servo("+l+").speed()",Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_servo_set_speed=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"speed",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"time",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from leaf import Servo","Servo("+l+").speed("+n+", "+t+")\n"},Blockly.Python.leaf_servo_get_calibration=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from leaf import Servo",["Servo("+l+").calibration()",Blockly.Python.ORDER_NONE]},Blockly.Python.leaf_servo_set_calibration=function(o){var l=Blockly.Python.valueToCode(o,"servo_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"pulse_min",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"pulse_max",Blockly.Python.ORDER_ATOMIC),e=Blockly.Python.valueToCode(o,"pulse_centre",Blockly.Python.ORDER_ATOMIC),i=Blockly.Python.valueToCode(o,"pulse_angle_90",Blockly.Python.ORDER_ATOMIC),y=Blockly.Python.valueToCode(o,"pulse_speed_100",Blockly.Python.ORDER_ATOMIC);return Blockly.Python.definitions_.import_servo="from leaf import Servo","Servo("+l+").calibration("+n+", "+t+", "+e+", "+i+", "+y+")\n"},Blockly.Python.leaf_pwm_pulse_width=function(o){var l=Blockly.Python.valueToCode(o,"pwm_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"analog_value",Blockly.Python.ORDER_ATOMIC),t=Blockly.Constants.Leaf.PWM_PIN_DICT[l.replace(/"+/g,"")][0],e="ch_".concat(l.replace(/"+/g,""));Blockly.Python.definitions_.import_pwm="from leaf import Pin, Timer",Blockly.Python.definitions_["define_pwm_tim_".concat(t)]="tim".concat(t," = Timer(").concat(t,", freq=50)"),Blockly.Python.definitions_["define_".concat(e)]="".concat(e," = tim").concat(t,".channel(Pwm_Pin_Dict[").concat(l,"][1], Timer.PWM, pin=Pin(").concat(l,"))");var i="";return i+="".concat(e,".pulse_width(int(").concat(n,"))\n")},Blockly.Python.leaf_pwm_pulse_width_precentage=function(o){var l=Blockly.Python.valueToCode(o,"pwm_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"analog_value",Blockly.Python.ORDER_ATOMIC),t=Blockly.Constants.Leaf.PWM_PIN_DICT[l.replace(/"+/g,"")][0],e="ch_".concat(l.replace(/"+/g,""));Blockly.Python.definitions_.import_pwm="from leaf import Pin, Timer",Blockly.Python.definitions_["define_pwm_tim_".concat(t)]="tim".concat(t," = Timer(").concat(t,", freq=50)"),Blockly.Python.definitions_["define_".concat(e)]="".concat(e," = tim").concat(t,".channel(Pwm_Pin_Dict[").concat(l,"][1], Timer.PWM, pin=Pin(").concat(l,"))");var i="";return i+="".concat(e,".pulse_width_percent(").concat(n,")\n")},Blockly.Python.leaf_freq=function(o){var l=Blockly.Python.valueToCode(o,"pwm_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"analog_value",Blockly.Python.ORDER_ATOMIC),t=Blockly.Constants.Leaf.PWM_PIN_DICT[l.replace(/"+/g,"")][0];Blockly.Python.definitions_.import_pwm="from leaf import Pin, Timer",Blockly.Python.definitions_["define_pwm_tim_".concat(t)]="tim".concat(t," = Timer(").concat(t,", freq=50)");var e="";return e+="tim".concat(t,".freq(").concat(n,")\n")},Blockly.Python.leaf_prescaler=function(o){var l=Blockly.Python.valueToCode(o,"pwm_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"analog_value",Blockly.Python.ORDER_ATOMIC),t=Blockly.Constants.Leaf.PWM_PIN_DICT[l.replace(/"+/g,"")][0];Blockly.Python.definitions_.import_pwm="from leaf import Pin, Timer",Blockly.Python.definitions_["define_pwm_tim_".concat(t)]="tim".concat(t," = Timer(").concat(t,", freq=50)");var e="";return e+="tim".concat(t,".prescaler(").concat(n,")\n")},Blockly.Python.leaf_period=function(o){var l=Blockly.Python.valueToCode(o,"pwm_pin",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"analog_value",Blockly.Python.ORDER_ATOMIC),t=Blockly.Constants.Leaf.PWM_PIN_DICT[l.replace(/"+/g,"")][0];Blockly.Python.definitions_.import_pwm="from leaf import Pin, Timer",Blockly.Python.definitions_["define_pwm_tim_".concat(t)]="tim".concat(t," = Timer(").concat(t,", freq=50)");var e="";return e+="tim".concat(t,".period(").concat(n,")\n")};
goog.provide("Blockly.JavaScript.leaf"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.leaf_digital_pin=function(a){var l="";return[l+="Pin("+a.getFieldValue("pin")+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.leaf_analog_pin=function(a){var l="";return[l+="ADC("+a.getFieldValue("pin")+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.leaf_device_pin=function(a){var l="";return[l+="Pin("+a.getFieldValue("pin")+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.leaf_servo_pin=function(a){var l="";return[l+=a.getFieldValue("pin"),Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.leaf_pin_pull=function(a){var l="";return[l+=a.getFieldValue("pin_pull"),Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_pin_irq_trigger=function(a){var l="";return[l+=a.getFieldValue("irq_trigger"),Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_pin_set_value=function(a){return Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC)+".value("+Blockly.JavaScript.valueToCode(a,"value",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.leaf_pin_get_value=function(a){return[Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC)+".value()",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_pin_on=function(a){return Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC)+".on()\n"},Blockly.JavaScript.leaf_pin_off=function(a){return Blockly.JavaScript.valueToCode(a,"pin",Blockly.JavaScript.ORDER_ATOMIC)+".off()\n"},Blockly.JavaScript.leaf_pin_irq=function(a){return"ExtInt(pin="+Blockly.JavaScript.valueToCode(a,"irq_pin",Blockly.JavaScript.ORDER_ATOMIC)+", mode="+Blockly.JavaScript.valueToCode(a,"irq_mode",Blockly.JavaScript.ORDER_ATOMIC)+", pull="+Blockly.JavaScript.valueToCode(a,"pin_pull",Blockly.JavaScript.ORDER_ATOMIC)+", lambda e:"+Blockly.JavaScript.statementToCode(a,"irq_handler")+")\n"},Blockly.JavaScript.leaf_adc_read=function(a){return["ADC("+Blockly.JavaScript.valueToCode(a,"analog_pin",Blockly.JavaScript.ORDER_ATOMIC)+").read()",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_dac_write=function(a){return"DAC("+Blockly.JavaScript.valueToCode(a,"analog_pin",Blockly.JavaScript.ORDER_ATOMIC)+").write("+Blockly.JavaScript.valueToCode(a,"analog_value",Blockly.JavaScript.ORDER_ATOMIC)+")"},Blockly.JavaScript.leaf_servo_get_angle=function(a){return["Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").angle()\n",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_servo_set_angle=function(a){return"Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").angle("+Blockly.JavaScript.valueToCode(a,"angle",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"time",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.leaf_servo_get_speed=function(a){return["Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").speed()",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_servo_set_speed=function(a){return"Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").speed("+Blockly.JavaScript.valueToCode(a,"speed",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"time",Blockly.JavaScript.ORDER_ATOMIC)+")\n"},Blockly.JavaScript.leaf_servo_get_calibration=function(a){return["Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").calibration()",Blockly.JavaScript.ORDER_NONE]},Blockly.JavaScript.leaf_servo_set_calibration=function(a){return"Servo("+Blockly.JavaScript.valueToCode(a,"servo_pin",Blockly.JavaScript.ORDER_ATOMIC)+").calibration("+Blockly.JavaScript.valueToCode(a,"pulse_min",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"pulse_max",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"pulse_centre",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"pulse_angle_90",Blockly.JavaScript.ORDER_ATOMIC)+", "+Blockly.JavaScript.valueToCode(a,"pulse_speed_100",Blockly.JavaScript.ORDER_ATOMIC)+")\n"};
var Leaf={id:"leaf",series:"leaf",libPath:"./packages/leaf/lib",width:64.14,height:40.65,pinWidth:8,pinHeight:8,name:"Leaf",kitName:"SensorKit For Leaf",nameEn:"Leaf",active:"active",libs:[],avalibleKits:["SensorKit"]};Leaf.pins=[{id:1,name:"A0",x:50.17,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:2,name:"A1",x:48.01,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:3,name:"A2",x:45.86,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:4,name:"A3",x:43.7,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:5,name:"A4",x:41.55,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:6,name:"A5",x:39.38,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:7,name:"A6",x:37.24,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:8,name:"A7",x:35.08,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:9,name:"A8",x:32.93,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:10,name:"A9",x:30.77,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain","pwm"],type:"analog"},{id:11,name:"A10",x:28.62,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:12,name:"A11",x:26.46,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:13,name:"A12",x:24.31,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:14,name:"A13",x:22.15,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:15,name:"GND",x:20.01,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:16,name:"3V3",x:17.85,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:17,name:"RST",x:15.69,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["RST"],type:"other"},{id:18,name:"DFU",x:13.54,y:2.94,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["DFU"],type:"other"},{id:19,name:"VIN",x:13.54,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["VIN"],type:"power"},{id:20,name:"5V",x:15.69,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["5V"],type:"power"},{id:21,name:"3V3",x:17.85,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["3V3"],type:"power"},{id:22,name:"GND",x:20.01,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["GND"],type:"ground"},{id:23,name:"D0",x:22.15,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:24,name:"D1",x:24.31,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:25,name:"D2",x:26.46,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:26,name:"D3",x:28.62,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:27,name:"D4",x:30.77,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:28,name:"D5",x:32.93,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout","SCL"],type:"digital"},{id:29,name:"D6",x:35.08,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout","SDA"],type:"digital"},{id:30,name:"D7",x:37.24,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:31,name:"D8",x:39.38,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:32,name:"D9",x:41.55,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:33,name:"D10",x:43.7,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:34,name:"D11",x:45.86,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:35,name:"D12",x:48.01,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"},{id:36,name:"D13",x:50.17,y:38.11,width:Leaf.pinWidth,height:Leaf.pinHeight,isSource:!1,property:["din","dout"],type:"digital"}],Leaf.init=function(){Leaf.name=MSG.catLeaf,Leaf.kitName=MSG.catSensorKitForLeaf};
Leaf.toolboxText='<category name="%{BKY_CATLEAF}" colour="80">  <label text="Pin"></label>  <block type="leaf_digital_pin"></block>  <block type="leaf_device_pin"></block>  <block type="leaf_pin_get_value">    <value name="pin">      <shadow type="leaf_digital_pin">      </shadow>    </value>  </block>  <block type="leaf_pin_set_value">    <value name="pin">      <shadow type="leaf_digital_pin">      </shadow>    </value>    <value name="value">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_pin_on">    <value name="pin">      <shadow type="leaf_digital_pin">      </shadow>    </value>  </block>  <block type="leaf_pin_off">    <value name="pin">      <shadow type="leaf_digital_pin">      </shadow>    </value>  </block>  <block type="leaf_pin_irq">    <value name="irq_pin">      <shadow type="leaf_digital_pin">      </shadow>    </value>    <value name="irq_mode">      <shadow type="leaf_pin_irq_trigger">      </shadow>    </value>    <value name="pin_pull">      <shadow type="leaf_pin_pull">      </shadow>    </value>  </block>  <label text="ADC"></label>  <block type="leaf_analog_pin"></block>  <block type="leaf_adc_read">    <value name="analog_pin">      <shadow type="leaf_analog_pin">      </shadow>    </value>  </block>  <label text="DAC"></label>  <block type="leaf_dac_write">    <value name="analog_pin">      <shadow type="leaf_analog_pin">      </shadow>    </value>    <value name="analog_value">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <label text="Servo"></label>  <block type="leaf_servo_pin"></block>  <block type="leaf_servo_set_angle">    <value name="servo_pin">      <shadow type="leaf_servo_pin">      </shadow>    </value>    <value name="angle">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>    <value name="time">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_servo_set_speed">    <value name="servo_pin">      <shadow type="leaf_servo_pin">      </shadow>    </value>    <value name="speed">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>    <value name="time">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_servo_set_calibration">    <value name="servo_pin">      <shadow type="leaf_servo_pin">      </shadow>    </value>    <value name="pulse_min">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>    <value name="pulse_max">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>    <value name="pulse_centre">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>    <value name="pulse_angle_90">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>    <value name="pulse_speed_100">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_servo_get_angle">    <value name="servo_pin">      <shadow type="leaf_servo_pin">      </shadow>    </value>  </block>  <block type="leaf_servo_get_speed">    <value name="servo_pin">      <shadow type="leaf_servo_pin">      </shadow>    </value>  </block>  <block type="leaf_servo_get_calibration">    <value name="servo_pin">      <shadow type="leaf_servo_pin">      </shadow>    </value>  </block>  <label text="PWM"></label>  <block type="leaf_pwm_pin"></block>  <block type="leaf_pwm_pulse_width">    <value name="pwm_pin">      <shadow type="leaf_pwm_pin">      </shadow>    </value>    <value name="analog_value">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_pwm_pulse_width_precentage">    <value name="pwm_pin">      <shadow type="leaf_pwm_pin">      </shadow>    </value>    <value name="analog_value">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_freq">    <value name="pwm_pin">      <shadow type="leaf_pwm_pin">      </shadow>    </value>    <value name="analog_value">      <shadow type="math_number">        <field name="NUM">50</field>      </shadow>    </value>  </block>  <block type="leaf_prescaler">    <value name="pwm_pin">      <shadow type="leaf_pwm_pin">      </shadow>    </value>    <value name="analog_value">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block>  <block type="leaf_period">    <value name="pwm_pin">      <shadow type="leaf_pwm_pin">      </shadow>    </value>    <value name="analog_value">      <shadow type="math_number">        <field name="NUM">0</field>      </shadow>    </value>  </block></category>',Leaf.timeToolboxText='<category name="%{BKY_CATTIME}" colour="292">  <block type="time_localtime">  </block>  <block type="time_mktime">  </block>  <block type="time_sleep">    <value name="delay_secs">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>  </block>  <block type="time_sleep_ms">    <value name="delay_secs">      <shadow type="math_number">        <field name="NUM">1000</field>      </shadow>    </value>  </block>  <block type="time_sleep_us">    <value name="delay_secs">      <shadow type="math_number">        <field name="NUM">1000000</field>      </shadow>    </value>  </block>  <block type="time_ticks_ms">  </block>  <block type="time_ticks_us">  </block>  <block type="time_ticks_cpu">  </block>  <block type="time_ticks_add">    <value name="ticks">      <shadow type="time_ticks_ms">      </shadow>    </value>    <value name="delta">      <shadow type="math_number">        <field name="NUM">1000</field>      </shadow>    </value>  </block>  <block type="time_ticks_diff">    <value name="ticks1">      <shadow type="time_ticks_ms">      </shadow>    </value>    <value name="ticks2">      <shadow type="time_ticks_ms">      </shadow>    </value>  </block>  <block type="time_time">  </block></category>';
RobotHat.toolboxText='    <block type="robothat_digital_pin"></block>    <block type="robothat_analog_pin"></block>    <block type="robothat_pwm_pin"></block>    <block type="robothat_device_pin"></block>    <block type="raspberrypi_pin_set_value">      <value name="pin">        <shadow type="robothat_digital_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pin_set_value">      <value name="pin">        <shadow type="robothat_pwm_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pin_get_value">      <value name="pin">        <shadow type="robothat_digital_pin">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_get_value">      <value name="pin">        <shadow type="robothat_analog_pin">        </shadow>      </value>    </block>    <block type="robothat_ultarsonic_distance">         <value name="Triq">         <shadow type="raspberrypi_digital_pin">         </shadow>         </value>         <value name="Echo">         <shadow type="raspberrypi_digital_pin">             <field name="NUM">"P1"</field>         </shadow>         </value>     </block>     <block type="robothat_motor">         <value name="speed">             <shadow type="math_number">                 <field name="NUM">75</field>             </shadow>         </value>     </block>    <block type="robothat_motor_direction_calibration">         <value name="value">         <shadow type="math_number">         </shadow>         </value>     </block>   <block type="robothat_motor_speed_calibration">        <value name="speed">            <shadow type="math_number">            </shadow>        </value>        <value name="value">            <shadow type="math_number">                <field name="NUM">0</field>            </shadow>        </value>    </block> ',RobotHat.timeToolboxText=RaspberryPi.timeToolboxText;
RobotShield.toolboxText='    <block type="robotshield_sensor_pin"></block>    <block type="robotshield_servo_pin"></block>    <block type="leaf_pin_set_value">      <value name="pin">        <shadow type="robotshield_sensor_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="leaf_adc_read">      <value name="pin">        <shadow type="robotshield_sensor_pin">        </shadow>      </value>    </block>',RobotShield.timeToolboxText=Leaf.timeToolboxText;
goog.provide("Blockly.Blocks.jellypi"),goog.provide("Blockly.Constants.JellyPi"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.JellyPi.RGB="#CF5889",Blockly.Blocks.jellypi.RGB=Blockly.Constants.JellyPi.RGB,Blockly.Constants.JellyPi.INPUT_PORT=[["IN0",'"IN0"'],["IN1",'"IN1"'],["IN2",'"IN2"'],["IN3",'"IN3"']],Blockly.Constants.JellyPi.OUTPUT_PORT=[["OUT0",'"OUT0"'],["OUT1",'"OUT1"'],["OUT2",'"OUT2"'],["OUT3",'"OUT3"']],Blockly.Constants.JellyPi.I2C_PORT=[["I2C0",'"I2C"'],["I2C1",'"I2C"']],Blockly.Blocks.jellypi_input_port={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.JellyPi.INPUT_PORT),"port"),this.setInputsInline(!0),this.setOutput(!0,"Jelly_Input_Port"),this.setColour(Blockly.Constants.JellyPi.RGB),this.setTooltip(Blockly.Msg.JELLYPI_INPUT_PORT_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.jellypi_output_port={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.JellyPi.OUTPUT_PORT),"port"),this.setInputsInline(!0),this.setOutput(!0,"Jelly_Output_Port"),this.setColour(Blockly.Constants.JellyPi.RGB),this.setTooltip(Blockly.Msg.JELLYPI_OUTPUT_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.jellypi_i2c_port={init:function(){this.appendDummyInput().appendField(new Blockly.FieldDropdown(Blockly.Constants.JellyPi.I2C_PORT),"port"),this.setInputsInline(!0),this.setOutput(!0,"Jelly_I2C_Port"),this.setColour(Blockly.Constants.JellyPi.RGB),this.setTooltip(Blockly.Msg.JELLYPI_I2C_PORT_TOOLTIP),this.setHelpUrl("")}};
goog.provide("Blockly.Python.jellypi"),goog.require("Blockly.Python"),Blockly.Python.jellypi_port=function(l){var o="";return[o+=l.getFieldValue("port"),Blockly.Python.ORDER_ATOMIC]},Blockly.Python.jellypi_output_port=Blockly.Python.jellypi_port,Blockly.Python.jellypi_input_port=Blockly.Python.jellypi_port,Blockly.Python.jellypi_i2c_port=Blockly.Python.jellypi_port;
goog.provide("Blockly.JavaScript.jellypi"),goog.require("Blockly.JavaScript"),Blockly.JavaScript.jellypi_input_port=function(l){var i="";return[i+="Pin("+l.getFieldValue("pin")+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.jellypi_output_port=function(l){var i="";return[i+="Pin("+l.getFieldValue("pin")+")",Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.jellypi_i2c_port=function(l){var i="";return[i+="ADC("+l.getFieldValue("pin")+")",Blockly.JavaScript.ORDER_ATOMIC]};
var JellyPi={id:"jellypi",series:"raspberrypi",seriesClass:"jellyPiSeries"};JellyPi.kits={jelly:Jelly},JellyPi.name="Jelly Pi",JellyPi.nameEn="Jelly Pi",JellyPi.width=96,JellyPi.height=72,JellyPi.pinWidth=8,JellyPi.pinHeight=8,JellyPi.active="active",JellyPi.functions=["routing","play","iot","remote","bluetooth"],JellyPi.routingOffset={x:2.3,y:2.2},JellyPi.pins=[{id:1,name:"OUT0",x:53+JellyPi.routingOffset.x,y:20+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:2,name:"OUT1",x:47+JellyPi.routingOffset.x,y:20+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:3,name:"OUT2",x:40.7+JellyPi.routingOffset.x,y:20+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:4,name:"OUT3",x:34.7+JellyPi.routingOffset.x,y:20+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["pwm"],type:"pwm"},{id:5,name:"I2C0",x:34.7+JellyPi.routingOffset.x,y:30.8+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["i2c"],type:"com"},{id:6,name:"I2C1",x:34.7+JellyPi.routingOffset.x,y:41.2+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["i2c"],type:"com"},{id:7,name:"IN3",x:34.7+JellyPi.routingOffset.x,y:52.3+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:8,name:"IN2",x:40.7+JellyPi.routingOffset.x,y:52.3+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:9,name:"IN1",x:47+JellyPi.routingOffset.x,y:52.3+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["ain"],type:"analog"},{id:10,name:"IN0",x:53+JellyPi.routingOffset.x,y:52.3+JellyPi.routingOffset.y,width:JellyPi.pinWidth,height:JellyPi.pinHeight,isSource:!1,property:["ain"],type:"analog"}],JellyPi.init=function(){JellyPi.name=MSG.catJellyPi,JellyPi.description=MSG.jellypi_description};
JellyPi.toolboxText='  <category name="%{BKY_CATRASPBERRYPI}" colour="#CF5889">    <block type="raspberrypi_digital_pin"></block>    <block type="raspberrypi_analog_pin"></block>    <block type="raspberrypi_pwm_pin"></block>    <block type="raspberrypi_device_pin"></block>    <block type="raspberrypi_pin_set_value">      <value name="pin">        <shadow type="raspberrypi_digital_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pin_set_value">      <value name="pin">        <shadow type="raspberrypi_pwm_pin">        </shadow>      </value>      <value name="value">        <shadow type="math_number">          <field name="NUM">0</field>        </shadow>      </value>    </block>    <block type="raspberrypi_pin_get_value">      <value name="pin">        <shadow type="raspberrypi_digital_pin">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_get_value">      <value name="pin">        <shadow type="raspberrypi_analog_pin">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_on">      <value name="pin">        <shadow type="raspberrypi_pin_number">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_off">      <value name="pin">        <shadow type="raspberrypi_pin_number">        </shadow>      </value>    </block>    <block type="raspberrypi_pin_irq">      <value name="irq_pin">        <shadow type="raspberrypi_pin_number">        </shadow>      </value>      <value name="irq_trigger">        <shadow type="raspberrypi_pin_irq_trigger">        </shadow>      </value>    </block>  </category>  <category name="%{BKY_CATTIME}" colour="292">    <block type="time_localtime">    </block>    <block type="time_mktime">    </block>    <block type="time_sleep">      <value name="delay_secs">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>    </block>    <block type="time_time">    </block>  </category>';
var Lizard={id:"lizard",name:"Lizard",nameEn:"Lizard",series:"leaf",seriesClass:"lizardSeries",kits:{},active:"active",functions:["remote","bluetooth"],libs:["lizard==v0.1","pw==v0.1","robot==v0.1"],init:function(){Lizard.name=MSG.catLizard,Lizard.description=MSG.lizard_description}};
goog.provide("Blockly.Blocks.lizard"),goog.provide("Blockly.Constants.Lizard"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Lizard.HUE=50,Blockly.Blocks.lizard.HUE=Blockly.Constants.Lizard.HUE,console.log(Blockly.Msg.LIZARD_WALK_FORWARD_TITLE1),Blockly.Constants.Lizard.ACTIONS=[["forward",'"forward"'],["backward",'"backward"'],["turn left",'"turn left"'],["turn right",'"turn right"']],Blockly.Blocks.lizard_do_action={init:function(){this.appendValueInput("step").appendField(new Blockly.FieldDropdown(Blockly.Constants.Lizard.ACTIONS),"action"),this.appendValueInput("speed").appendField(Blockly.Msg.LIZARD_WALK_FORWARD_TITLE2),this.appendDummyInput().appendField(Blockly.Msg.LIZARD_WALK_FORWARD_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Lizard.HUE),this.setTooltip(Blockly.Msg.LIZARD_WALK_FOEWARD_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.set_offset={init:function(){this.appendDummyInput().appendField(Blockly.Msg.LIZARD_SET_OFFSET_TITLE),this.appendValueInput("angle1").appendField(Blockly.Msg.LIZARD_SET_OFFSET_TITLE1),this.appendValueInput("angle2").appendField(Blockly.Msg.LIZARD_SET_OFFSET_TITLE2),this.appendValueInput("angle3").appendField(Blockly.Msg.LIZARD_TURN_RIGHT_TITLE3),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Lizard.HUE),this.setTooltip(Blockly.Msg.LIZARD_WALK_BACKWARD_TITLE1),this.setHelpUrl("")}};
goog.provide("Blockly.Python.lizard"),goog.require("Blockly.Python"),Blockly.Python.lizard_do_action=function(o){var l=o.getFieldValue("action"),n=Blockly.Python.valueToCode(o,"step",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"speed",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_lizard="from lizard import Lizard\n__LIZARD__ = Lizard([1,2,3])";var y="";return y+="__LIZARD__.do_action("+l+", "+n+", "+t+")\n"},Blockly.Python.set_offset=function(o){var l=Blockly.Python.valueToCode(o,"angle1",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"angle2",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"angle3",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_lizard="from lizard import Lizard\n__LIZARD__ = Lizard([1,2,3])";var y="";return y+="__LIZARD__.set_offset(["+l+","+n+","+t+"]))\n"};
Lizard.toolboxText='<category name="%{BKY_CATLIZARD}" colour="55">  <block type="lizard_do_action">      <value name="step">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>      <value name="speed">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>  </block>  <block type="set_offset">      <value name="angle1">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>      <value name="angle2">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>      <value name="angle3">        <shadow type="math_number">          <field name="NUM">1</field>        </shadow>      </value>  </block></category><category name="%{BKY_CATTIME}" colour="292">  <block type="time_localtime">  </block>  <block type="time_mktime">  </block>  <block type="time_sleep">    <value name="delay_secs">      <shadow type="math_number">        <field name="NUM">1</field>      </shadow>    </value>  </block>  <block type="time_sleep_ms">    <value name="delay_secs">      <shadow type="math_number">        <field name="NUM">1000</field>      </shadow>    </value>  </block>  <block type="time_sleep_us">    <value name="delay_secs">      <shadow type="math_number">        <field name="NUM">1000000</field>      </shadow>    </value>  </block>  <block type="time_ticks_ms">  </block>  <block type="time_ticks_us">  </block>  <block type="time_ticks_cpu">  </block>  <block type="time_ticks_add">    <value name="ticks">      <shadow type="time_ticks_ms">      </shadow>    </value>    <value name="delta">      <shadow type="math_number">        <field name="NUM">1000</field>      </shadow>    </value>  </block>  <block type="time_ticks_diff">    <value name="ticks1">      <shadow type="time_ticks_ms">      </shadow>    </value>    <value name="ticks2">      <shadow type="time_ticks_ms">      </shadow>    </value>  </block>  <block type="time_time">  </block></category>';
var PiMobile={id:"pimobile",list:{device:"RobotHat",Modules:["ultrasonic"]},name:"",init:function(){PiMobile.name=MSG.catPiMobile,PiMobile.description=MSG.pimobile_description}};
PiMobile.toolboxText='<category name="%{BKY_CATPIMOBILE}" colour="#3F34D1">\n'.concat(RobotHat.toolboxText,"\n</category>");
goog.provide("Blockly.Blocks.sloth"),goog.provide("Blockly.Constants.Sloth"),goog.require("Blockly.Blocks"),goog.require("Blockly.Msg"),Blockly.Constants.Sloth.HUE=50,Blockly.Blocks.sloth.HUE=Blockly.Constants.Sloth.HUE,Blockly.Constants.Sloth.ACTIONS=[["forward",'"forward"'],["backward",'"backward"'],["turn left",'"turn_left"'],["turn right",'"turn_right"'],["stop",'"stop"']],Blockly.Blocks.sloth_do_action={init:function(){this.appendValueInput("step").appendField(new Blockly.FieldDropdown(Blockly.Constants.Sloth.ACTIONS),"action"),this.appendValueInput("speed").appendField(Blockly.Msg.SLOTH_WALK_FORWARD_TITLE2),this.appendDummyInput().appendField(Blockly.Msg.SLOTH_WALK_FORWARD_TITLE3),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Sloth.HUE),this.setTooltip(Blockly.Msg.SLOTH_WALK_FOEWARD_TOOLTIP),this.setHelpUrl("")}},Blockly.Blocks.sloth_set_offset={init:function(){this.appendDummyInput().appendField(Blockly.Msg.SLOTH_SET_OFFSET_TITLE),this.appendValueInput("right_leg_angle").appendField(Blockly.Msg.SLOTH_SET_OFFSET_TITLE1),this.appendValueInput("left_leg_angle").appendField(Blockly.Msg.SLOTH_SET_OFFSET_TITLE2),this.appendValueInput("right_foot_angle").appendField(Blockly.Msg.SLOTH_SET_OFFSET_TITLE3),this.appendValueInput("left_foot_angle").appendField(Blockly.Msg.SLOTH_SET_OFFSET_TITLE4),this.setInputsInline(!1),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(Blockly.Constants.Sloth.HUE),this.setTooltip(Blockly.Msg.SLOTH_WALK_BACKWARD_TITLE1),this.setHelpUrl("")}};
goog.provide("Blockly.Python.sloth"),goog.require("Blockly.Python"),Blockly.Python.sloth_do_action=function(o){var l=o.getFieldValue("action"),t=Blockly.Python.valueToCode(o,"step",Blockly.Python.ORDER_ATOMIC),_=Blockly.Python.valueToCode(o,"speed",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_sloth="from sloth import Sloth\n__SLOTH__ = Sloth([1,2,3,4])";var n="";return n+="__SLOTH__.do_action("+l+", "+t+", "+_+")\n"},Blockly.Python.sloth_set_offset=function(o){var l=Blockly.Python.valueToCode(o,"right_leg_angle",Blockly.Python.ORDER_ATOMIC),t=Blockly.Python.valueToCode(o,"left_leg_angle",Blockly.Python.ORDER_ATOMIC),_=Blockly.Python.valueToCode(o,"right_foot_angle",Blockly.Python.ORDER_ATOMIC),n=Blockly.Python.valueToCode(o,"left_foot_angle",Blockly.Python.ORDER_ATOMIC);Blockly.Python.definitions_.import_sloth="from sloth import Sloth\n__SLOTH__ = Sloth([1,2,3,4])";var e="";return e+="__SLOTH__.set_offset(["+l+","+t+","+_+","+n+"])\n"};
var Sloth={id:"sloth",list:{device:"RobotShield",Modules:["ultrasonic"]},name:"",init:function(){Sloth.name=MSG.catSloth,Sloth.description=MSG.sloth_description}};
Sloth.toolboxText='\n<category name="%{BKY_CATSLOTH}" colour="#FFCB6A">\n'.concat(RobotShield.toolboxText,'\n<block type="sloth_do_action">\n  <value name="step">\n    <shadow type="math_number">\n      <field name="NUM">1</field>\n    </shadow>\n  </value>\n  <value name="speed">\n    <shadow type="math_number">\n      <field name="NUM">1</field>\n    </shadow>\n   </value>\n</block>\n<block type="sloth_set_offset">\n  <value name="right_leg_angle">\n    <shadow type="math_number">\n      <field name="NUM">1</field>\n    </shadow>\n  </value>\n    <value name="left_leg_angle">\n    <shadow type="math_number">\n      <field name="NUM">1</field>\n    </shadow>\n  </value>\n  <value name="right_foot_angle">\n    <shadow type="math_number">\n      <field name="NUM">1</field>\n    </shadow>\n  </value>\n  <value name="left_foot_angle">\n    <shadow type="math_number">\n      <field name="NUM">1</field>\n    </shadow>\n  </value>\n</block>\n  <block type="modules_ultrasonic_get_value">\n      <value name="Trig">\n          <shadow type="robotshield_sensor_pin">\n              <field name="pin">"A4"</field>\n          </shadow>\'\n      </value>\n      <value name="Echo">\n          <shadow type="robotshield_sensor_pin">\n              <field name="pin">"A5"</field>\n          </shadow>\'\n      </value>\n  </block>\n</category>\n\n');
var SensorKitForPi={id:"sensorkit-for-pi",list:{device:"RaspberryPi",kits:["SensorKit"]},name:"",tutorials:{},init:function(){SensorKitForPi.name=MSG.catSensorKitForPi,SensorKitForPi.description=MSG.sensorkitforpi_description}};
var SensorKitForLeaf={id:"sensorkit-for-leaf",list:{device:"Leaf",kits:["SensorKit"]},name:"",init:function(){SensorKitForLeaf.name=MSG.catSensorKitForLeaf,SensorKitForLeaf.description=MSG.sensorkitforleaf_description}};
SensorKitForPi.tutorials.blockcode={"Getting Start":{},Advance:{}},SensorKitForPi.tutorials.blockcode["Getting Start"]["Blink LED kit"]={name:"Blink LED kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},SensorKitForPi.tutorials.blockcode["Getting Start"]["Breath LED kit"]={name:"Breath LED kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},SensorKitForPi.tutorials.blockcode.Advance["Remote kit"]={name:"Remote kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},SensorKitForPi.tutorials.blockcode.Advance["Wiring kit"]={name:"Wiring kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}};
RaspberryPi.tutorialsHasKit.blockcode={"Getting Start":{},Advance:{}},RaspberryPi.tutorialsHasKit.blockcode["Getting Start"]["Blink LED kit"]={name:"Blink LED kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},RaspberryPi.tutorialsHasKit.blockcode["Getting Start"]["Breath LED kit"]={name:"Breath LED kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},RaspberryPi.tutorialsHasKit.blockcode.Advance["Remote kit"]={name:"Remote kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}},RaspberryPi.tutorialsHasKit.blockcode.Advance["Wiring kit"]={name:"Wiring kit",stepList:{step1:{description:"step1",image:""},step2:{description:"step2",image:""},step3:{description:"step3",image:""},step4:{description:"step4",image:""},step5:{description:"step5",image:""},step6:{description:"step6",image:""}}};
RaspberryPi.examplesHasKit.block={},RaspberryPi.examplesHasKit.block["Blink LED"]={name:"Blink LEDxxxxxxx",project:{code:{code:"<xml xmlns='http://www.w3.org/1999/xhtml'><block type='basic_start' id='qrswBI$2J**dCagSbF$0' x='-230' y='-290'></block><block type='basic_forever' id='(.X9-M;L7,PGS[je0yNt' x='-190' y='-170'><statement name='statement'><block type='controls_repeat_ext' id='pI6q7blNr1(Qw#)+:Ch}'><value name='TIMES'><shadow type='math_number' id='BI!m:|9C0W6`HB=kOHVE'><field name='NUM'>10</field></shadow></value><statement name='DO'><block type='basic_print' id='-H4?7gf::[VXZ2!H2.iX'><value name='msg'><shadow type='text' id='5K=XYU9LPM-{r`WsT:r^'><field name='TEXT'>abc</field></shadow></value></block></statement><next><block type='basic_delay' id=';DSq;%l?o;y)|v9MuRGq'><value name='ms'><shadow type='math_number' id='VMgAzxp|_N}ERGy}}kPR'><field name='NUM'>100</field></shadow></value></block></next></block></statement></block></xml>",libs:{}},datetime:1542880086479,device:"RaspberryPi",iot:[],name:"c",platform:"blockcode",readOnly:!1,remote:{},route:{device:{x:453,y:351,id:453},currentModules:{}}}},RaspberryPi.examplesHasKit.block[Blockly.Msg.SENSORKIT_EXAMPLE_BLOCKLY_BREATH_LED]={name:Blockly.Msg.SENSORKIT_EXAMPLE_BLOCKLY_BREATH_LED,project:{name:"Breath LED",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-230" y="-210"><statement name="statement"><block type="sensorkit_led_module_set_value" id="O5j1N]2m6qyNb/=`wd7/"><value name="SIG"><block type="raspberrypi_digital_pin" id="BZB[aQ+jb0,0HL$lmV?e"><field name="pin">"D0"</field></block></value><value name="value"><shadow type="math_number" id="8*)X9G8ot|)inO5^H$0}"><field name="NUM">0</field></shadow></value></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1548386969062,route:{device:{x:"50%",y:"50%",id:"_0"},currentModules:{sensorkit:{"led-module#jsPlumb_1_121":{x:522,y:121,src:"http://127.0.0.1:5500/packages/sensorkit/img/led-module.png",pins:{SIG:{targetPoint:"D0",sourceUuid:"source-jsPlumb_1_121-SIG",targetUuid:"target20"}}}}}},remote:{},iot:[],kits:""}},RaspberryPi.examplesHasKit.block["RGB LED"]={name:"RGB LED",project:{name:"RGB LED",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-90" y="-190"><statement name="statement"><block type="sensorkit_rgb_set_value" id="whC3I`gH-#gjn@`F,qR9"><value name="R"><block type="raspberrypi_pwm_pin" id="jy#)Ye[B`+0?T=[]HW8y"><field name="pin">"P0"</field></block></value><value name="G"><block type="raspberrypi_pwm_pin" id="]z%gr)?:wV#U.QHI!.Bc"><field name="pin">"P1"</field></block></value><value name="B"><block type="raspberrypi_pwm_pin" id="HaYFi8,TO@8vPa0G[7|k"><field name="pin">"P2"</field></block></value><value name="color"><shadow type="colour_led_picker" id="xE|U7u$c3^aC^K,5mY.@"><field name="colour">#ff0000</field></shadow></value><next><block type="basic_delay" id="$3.yQeD^U);{27=(nUTm"><value name="ms"><shadow type="math_number" id="+xL,~81XuRnC2SjgiG0D"><field name="NUM">1000</field></shadow></value><next><block type="sensorkit_rgb_set_value" id="RcHh%frA0TYsqXSSoGi0"><value name="R"><block type="raspberrypi_pwm_pin" id="eHNU7mP$.U$DnlzOPd1?"><field name="pin">"P0"</field></block></value><value name="G"><block type="raspberrypi_pwm_pin" id="8Nq[I]ExF0ndT7H;Js_o"><field name="pin">"P1"</field></block></value><value name="B"><block type="raspberrypi_pwm_pin" id="PM,}6o5}#Vl2Est#CgY+"><field name="pin">"P2"</field></block></value><value name="color"><shadow type="colour_led_picker" id="B2U=dlypQ#$MI8G`Pm.R"><field name="colour">#33ff33</field></shadow></value><next><block type="basic_delay" id=",grP@?:+ipu,TegQ]ers"><value name="ms"><shadow type="math_number" id="%s{wlpRK54{]]4NK9UtP"><field name="NUM">1000</field></shadow></value><next><block type="sensorkit_rgb_set_value" id="u[l1m32.[y*8[mb6L9%d"><value name="R"><block type="raspberrypi_pwm_pin" id="HuM+ZS@9*5v+fs]Hp3zu"><field name="pin">"P0"</field></block></value><value name="G"><block type="raspberrypi_pwm_pin" id="XLwa~(Gs7IOyKdNi%Of]"><field name="pin">"P1"</field></block></value><value name="B"><block type="raspberrypi_pwm_pin" id="F2{J{zy[,rf_Rn.1H#Zo"><field name="pin">"P2"</field></block></value><value name="color"><shadow type="colour_led_picker" id="ek{m(e]4F,6y^RTQk:|="><field name="colour">#3333ff</field></shadow></value><next><block type="basic_delay" id="i/8CD@8qMFY?G|J62N`F"><value name="ms"><shadow type="math_number" id="8qX70@$5VE5ul9p3t=J/"><field name="NUM">1000</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1548404547334,route:{device:{x:474,y:331,id:474},currentModules:{sensorkit:{"rgb-led#jsPlumb_1_131":{x:616,y:111,src:"http://127.0.0.1:5500/packages/sensorkit/img/rgb-led.png",pins:{R:{targetPoint:"P0",sourceUuid:"source-jsPlumb_1_131-R",targetUuid:"target0"},G:{targetPoint:"P1",sourceUuid:"source-jsPlumb_1_131-G",targetUuid:"target1"},B:{targetPoint:"P2",sourceUuid:"source-jsPlumb_1_131-B",targetUuid:"target2"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_131-VCC",targetUuid:"target38"}}}}}},remote:{},iot:[],kits:""}},RaspberryPi.examplesHasKit.block["Control LED by Button"]={name:"Control LED by Button",project:{name:"Control LED by Button",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><variables><variable type="" id="Ug7LYYneAGw(;z0K%vbc">value</variable></variables><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-170" y="-150"><statement name="statement"><block type="variables_set" id="r5Zg-7xh7?Hxk8Bc(W}p"><field name="VAR" id="Ug7LYYneAGw(;z0K%vbc" variabletype="">value</field><value name="VALUE"><block type="sensorkit_button_get_value" id="HUS1xutJ=|f6WN!daCgW"><value name="SIG"><block type="raspberrypi_digital_pin" id="^s5M%%].#mVaN(%HQ!7U"><field name="pin">"D1"</field></block></value></block></value><next><block type="controls_if" id="-%jgvDiSzF@a/_bp@A}]"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="0jC|31hIa+eGcFUsA5s;"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="{;C(}):Nw,S]xu-|a6Xn"><field name="VAR" id="Ug7LYYneAGw(;z0K%vbc" variabletype="">value</field></block></value><value name="B"><block type="math_number" id="]8qP%@K|=noq0(Xm3WGn"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="sensorkit_led_module_set_value" id="%%KqS5MK5/gmr)l*@UMM"><value name="SIG"><block type="raspberrypi_digital_pin" id="bJ^rW6G89rv]1B^cp}jO"><field name="pin">"D0"</field></block></value><value name="value"><shadow type="math_number" id="PFFNMNs+-H2/#ibU6.Q+"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="sensorkit_led_module_set_value" id="h:rF(S#A_8ZIZD}ao0J6"><value name="SIG"><block type="raspberrypi_digital_pin" id="uEO_yTxQpg?K~[#]:$.X"><field name="pin">"D0"</field></block></value><value name="value"><shadow type="math_number" id="{u|c7Oa(BCJs4${w+z%-"><field name="NUM">0</field></shadow></value></block></statement></block></next></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1548404979945,route:{device:{x:401,y:354,id:401},currentModules:{sensorkit:{"led-module#jsPlumb_1_121":{x:594,y:181,src:"http://127.0.0.1:5500/packages/sensorkit/img/led-module.png",pins:{SIG:{targetPoint:"D0",sourceUuid:"source-jsPlumb_1_121-SIG",targetUuid:"target20"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_121-VCC",targetUuid:"target39"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_121-GND",targetUuid:"target37"}}},"button#jsPlumb_1_164":{x:435,y:183,src:"http://127.0.0.1:5500/packages/sensorkit/img/button.png",pins:{SIG:{targetPoint:"D1",sourceUuid:"source-jsPlumb_1_164-SIG",targetUuid:"target21"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_164-VCC",targetUuid:"target38"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_164-GND",targetUuid:"target36"}}}}}},remote:{},iot:[],kits:""}},RaspberryPi.examplesHasKit.block["Touch Switch"]={name:"Touch Switch",project:{name:"Touch Switch",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><variables><variable type="" id="t{6ph#B~|puEL4Y2)G2/">status</variable><variable type="" id="57[9!mjeA+#.yP@~C]oe">value</variable></variables><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-130" y="-210"><statement name="statement"><block type="variables_set" id="NMdvd]Fay[~V9/`8Is_l"><field name="VAR" id="t{6ph#B~|puEL4Y2)G2/" variabletype="">status</field><value name="VALUE"><block type="math_number" id="]i7KF3N6{Q$~Wf^70{Q@"><field name="NUM">2</field></block></value></block></statement></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-130" y="-110"><statement name="statement"><block type="variables_set" id="kGa~Jh4%6{38z?IvQ`Gc"><field name="VAR" id="57[9!mjeA+#.yP@~C]oe" variabletype="">value</field><value name="VALUE"><block type="sensorkit_touchswitch_get_value" id="3L)qndC.zz(__]Lz6/2h"><value name="SIG"><block type="raspberrypi_digital_pin" id="C}Io!s(?(6uGi?^],lMr"><field name="pin">"D0"</field></block></value></block></value><next><block type="controls_if" id="N)0(]7d19IT_WL8,ZR9$"><value name="IF0"><block type="logic_compare" id="`en^IW0A:m_SN/Dz=5hS"><field name="OP">NEQ</field><value name="A"><block type="variables_get" id="sf4aW0UEbKlp^^-iiUC;"><field name="VAR" id="t{6ph#B~|puEL4Y2)G2/" variabletype="">status</field></block></value><value name="B"><block type="variables_get" id="]^uD`7_$#sWPrgr9@:Y,"><field name="VAR" id="57[9!mjeA+#.yP@~C]oe" variabletype="">value</field></block></value></block></value><statement name="DO0"><block type="sensorkit_rgb_set_value" id="6na%3goV#ceZA,,$48UN"><value name="R"><block type="raspberrypi_pwm_pin" id="+lp`i_:)[cD:@=3z~JZ%"><field name="pin">"P0"</field></block></value><value name="G"><block type="raspberrypi_pwm_pin" id="$/d|,)IvH@FDC;kfGt1;"><field name="pin">"P1"</field></block></value><value name="B"><block type="raspberrypi_pwm_pin" id="i*=!8_ByZv^C5(k:cCAI"><field name="pin">"P2"</field></block></value><value name="color"><shadow type="colour_led_picker" id="[)GM[%N,hM0TBlae38hq"><field name="colour">#ffffff</field></shadow><block type="colour_random" id="HA0kUx`MWW2#VI46N2yA"></block></value><next><block type="variables_set" id="Mm:umr;u6hEYjnWs[q(#"><field name="VAR" id="t{6ph#B~|puEL4Y2)G2/" variabletype="">status</field><value name="VALUE"><block type="variables_get" id="Z4,$ry8B*DjQM#l:pt{m"><field name="VAR" id="57[9!mjeA+#.yP@~C]oe" variabletype="">value</field></block></value></block></next></block></statement></block></next></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1548405331767,route:{device:{x:326,y:382,id:326},currentModules:{sensorkit:{"rgb-led#jsPlumb_1_121":{x:534,y:165,src:"http://127.0.0.1:5500/packages/sensorkit/img/rgb-led.png",pins:{VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_121-VCC",targetUuid:"target38"},R:{targetPoint:"P0",sourceUuid:"source-jsPlumb_1_121-R",targetUuid:"target0"},G:{targetPoint:"P1",sourceUuid:"source-jsPlumb_1_121-G",targetUuid:"target1"},B:{targetPoint:"P2",sourceUuid:"source-jsPlumb_1_121-B",targetUuid:"target2"}}},"touch-switch#jsPlumb_1_134":{x:354,y:164,src:"http://127.0.0.1:5500/packages/sensorkit/img/touch-switch.png",pins:{SIG:{targetPoint:"D0",sourceUuid:"source-jsPlumb_1_134-0",targetUuid:"target20"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_134-1",targetUuid:"target39"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_134-2",targetUuid:"target37"}}}}}},remote:{},iot:[],kits:""}},RaspberryPi.examplesHasKit.block["Moisture Sensor"]={name:"Moisture Sensor",project:{name:"Moisture Sensor",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><variables><variable type="" id="LIusRtA#TwdYb[$P#UAm">Value</variable></variables><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-210" y="-210"><statement name="statement"><block type="variables_set" id="8/4]O}C$XMmxP/B@8M2)"><field name="VAR" id="LIusRtA#TwdYb[$P#UAm" variabletype="">Value</field><value name="VALUE"><block type="sensorkit_moisture_sensor_get_value" id=";:G)wt9#H7-y6{UaORWl"><value name="SIG"><block type="raspberrypi_analog_pin" id="i8|4^CB7%Ww8Vm5xZQcw"><field name="pin">"A0"</field></block></value></block></value><next><block type="controls_if" id="~26u{]`vnh.0qxN;dNv$"><value name="IF0"><block type="logic_compare" id="$i879}bctBUyKuq]QJbU"><field name="OP">LT</field><value name="A"><block type="variables_get" id="H-0BC5h)1buNJBIe+xj2"><field name="VAR" id="LIusRtA#TwdYb[$P#UAm" variabletype="">Value</field></block></value><value name="B"><block type="math_number" id="6A#~OFn.dR;o`Ejx,~4D"><field name="NUM">1000</field></block></value></block></value><statement name="DO0"><block type="sensorkit_buzzer_set_value" id="|BA*TSPAGnc9FWVHVUMH"><value name="SIG"><block type="raspberrypi_pwm_pin" id="R6,jLFI_G)ycya#DAzO`"><field name="pin">"P0"</field></block></value><value name="note"><shadow type="music_notes" id="U1`^z)VlLz-|1e?Mb]f$"><field name="note">587.33</field></shadow></value><value name="beat"><shadow type="music_beat" id="ezR/Lz}6QDM6qlug;%BE"><field name="beat">1</field></shadow></value></block></statement></block></next></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1549848455970,route:{device:{x:335,y:350,id:335},currentModules:{sensorkit:{"moisture-sensor#jsPlumb_1_121":{x:359,y:93,src:"http://127.0.0.1:5500/packages/sensorkit/img/moisture-sensor.png",pins:{SIG:{targetPoint:"A0",sourceUuid:"source-jsPlumb_1_121-0",targetUuid:"target8"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_121-1",targetUuid:"target39"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_121-2",targetUuid:"target37"}}},"buzzer#jsPlumb_1_131":{x:550,y:102,src:"http://127.0.0.1:5500/packages/sensorkit/img/buzzer.png",pins:{SIG:{targetPoint:"P0",sourceUuid:"source-jsPlumb_1_131-0",targetUuid:"target0"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_131-1",targetUuid:"target38"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_131-2",targetUuid:"target36"}}}}}},remote:{},iot:[],kits:""}},RaspberryPi.examplesHasKit.block["Vibration Switch"]={name:"Vibration Switch",project:{name:"Vibration Switch",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><variables><variable type="" id="H#zIjE0wPb[|Xk%^tB0-">Value</variable></variables><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-170" y="-210"><statement name="statement"><block type="variables_set" id="|sP|Kwu`ivq7Bt%/~E*6"><field name="VAR" id="H#zIjE0wPb[|Xk%^tB0-" variabletype="">Value</field><value name="VALUE"><block type="sensorkit_vibrationswitch_get_value" id="PARgQU^OWVF*^$#{@(k]"><value name="SIG"><block type="raspberrypi_digital_pin" id="2GW%7Wbyt8]GKSe4.BxK"><field name="pin">"D0"</field></block></value></block></value><next><block type="controls_if" id="zPfIwsxO7X$UCVBfst^8"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare" id="4a1X/L~Ide{!5x?`lF3."><field name="OP">EQ</field><value name="A"><block type="variables_get" id="DhBfExUgFT!@|,czej+]"><field name="VAR" id="H#zIjE0wPb[|Xk%^tB0-" variabletype="">Value</field></block></value><value name="B"><block type="math_number" id="]RI}`HE^mPh,H2abJUZy"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="sensorkit_led_module_set_value" id="NPH^1qJl1XnF_-HqGTog"><value name="SIG"><block type="raspberrypi_digital_pin" id="DtlI[ID/WvS;Kzg._Ko+"><field name="pin">"D1"</field></block></value><value name="value"><shadow type="math_number" id=")c{IcpUHa`:[G=Y,~ii="><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="sensorkit_led_module_set_value" id="+A8b02lOqH2bEQ/.Y?8R"><value name="SIG"><block type="raspberrypi_digital_pin" id="-*$NxvKU47!3BlcLhalP"><field name="pin">"D1"</field></block></value><value name="value"><shadow type="math_number" id="MGj$kK)=n4Z.9wch[voY"><field name="NUM">0</field></shadow></value></block></statement><next><block type="basic_delay" id="nFTAfUpm^KzzW5!dEI=N"><value name="ms"><shadow type="math_number" id="i3FP2xxNnzNqFn!w;get"><field name="NUM">1000</field></shadow></value></block></next></block></next></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1549848979922,route:{device:{x:242,y:331,id:242},currentModules:{sensorkit:{"vibration-switch#jsPlumb_1_121":{x:263,y:107,src:"http://127.0.0.1:5500/packages/sensorkit/img/vibration-switch.png",pins:{SIG:{targetPoint:"D0",sourceUuid:"source-jsPlumb_1_121-0",targetUuid:"target20"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_121-1",targetUuid:"target39"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_121-2",targetUuid:"target37"}}},"led-module#jsPlumb_1_131":{x:443,y:107,src:"http://127.0.0.1:5500/packages/sensorkit/img/led-module.png",pins:{SIG:{targetPoint:"D1",sourceUuid:"source-jsPlumb_1_131-SIG",targetUuid:"target21"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_131-VCC",targetUuid:"target38"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_131-GND",targetUuid:"target36"}}}}}},remote:{},iot:[],kits:""}},RaspberryPi.examplesHasKit.block["Temperature Sensor-DS18B20"]={name:"Temperature Sensor-DS18B20",project:{name:"Temperature Sensor-DS18B20",dateTime:"",device:"RaspberryPi",platform:"blockcode",code:{code:'<xml xmlns="http://www.w3.org/1999/xhtml"><variables><variable type="" id="/g:`X5h9!;Mj02/XH%F~">Value</variable></variables><block type="basic_start" id="qrswBI$2J**dCagSbF$0" x="-230" y="-290"></block><block type="basic_forever" id="(.X9-M;L7,PGS[je0yNt" x="-190" y="-210"><statement name="statement"><block type="variables_set" id="G+Gp*71/DwOx+u8yPW}w"><field name="VAR" id="/g:`X5h9!;Mj02/XH%F~" variabletype="">Value</field><value name="VALUE"><block type="sensorkit_ds18b20_get_value" id="dGlLAu@@mx2*+*1AgJU{"><value name="SIG"><block type="raspberrypi_digital_pin" id=":F32sOS5q}V/Jde$eyM{"><field name="pin">"D7"</field></block></value></block></value><next><block type="controls_if" id="dwF++l,?QL+}j/6.B}-*"><value name="IF0"><block type="logic_compare" id="Nq?u1v+m}vYkz.D*8rFk"><field name="OP">GT</field><value name="A"><block type="variables_get" id="0BvA_V59#E^m;}`-]*W="><field name="VAR" id="/g:`X5h9!;Mj02/XH%F~" variabletype="">Value</field></block></value><value name="B"><block type="math_number" id="2X3(%V*aR_J5qkhZ4u*("><field name="NUM">31</field></block></value></block></value><statement name="DO0"><block type="sensorkit_buzzer_set_value" id="i[gRY?^+D=UeBnXF}gwZ"><value name="SIG"><block type="raspberrypi_pwm_pin" id="Z6c}4$Nyd/:5{.(xiQb{"><field name="pin">"P0"</field></block></value><value name="note"><shadow type="music_notes" id="2|(gHr?Kxe%LgW~%PVjp"><field name="note">587.33</field></shadow></value><value name="beat"><shadow type="music_beat" id="_nUP1x)/5T]Mzrc%/N[3"><field name="beat">1</field></shadow></value><next><block type="basic_delay" id="E*/gu@(]|TpJ5/XFKTRs"><value name="ms"><shadow type="math_number" id="$T5k$[6~HbwJH#JMoX%G"><field name="NUM">1000</field></shadow></value></block></next></block></statement></block></next></block></statement></block></xml>',libs:{}},readOnly:!1,datetime:1549850024131,route:{device:{x:296,y:307,id:296},currentModules:{sensorkit:{"buzzer#jsPlumb_1_121":{x:494,y:110,src:"http://127.0.0.1:5500/packages/sensorkit/img/buzzer.png",pins:{SIG:{targetPoint:"P0",sourceUuid:"source-jsPlumb_1_121-0",targetUuid:"target0"},VCC:{targetPoint:"3V3",sourceUuid:"source-jsPlumb_1_121-1",targetUuid:"target39"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_121-2",targetUuid:"target36"}}},"ds18b20#jsPlumb_1_131":{x:334,y:109,src:"http://127.0.0.1:5500/packages/sensorkit/img/ds18b20.png",pins:{SIG:{targetPoint:"D7",sourceUuid:"source-jsPlumb_1_131-0",targetUuid:"target27"},VCC:{targetPoint:"5V",sourceUuid:"source-jsPlumb_1_131-1",targetUuid:"target18"},GND:{targetPoint:"GND",sourceUuid:"source-jsPlumb_1_131-2",targetUuid:"target37"}}}}}},remote:{},iot:[],kits:""}};
var _Local$en$MSG;function _defineProperty(e,o,n){return o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}Local.en.MSG=(_defineProperty(_Local$en$MSG={home_menu:"Menu",home_login:"Sign in",home_my_project:"My Projects",home_new_project:"New Project",home_tutorial:"Tutorials",home_example:"Examples",home_products:"Products",loading_cache:"Updating resources...",language_language:"Language",programinglanguage_block:"",programinglanguage_python:"",programinglanguage_swift:"",new_project_new_project:"New Project",new_project_project_name:"Untitle",new_project_next:"OK",coding_bluetooth_connecting:"Connecting",coding_bluetooth_connected:"Connected",coding_bluetooth_disconnected:"Disconnected",coding_download_message_library:"Update Library downloading",coding_compile_message_library:"Update Library compiling",getting_infomation:"Getting device informations",get_infomation_error:"Get information error, skipping.",products_recent:"Recent",share:"Share",new_project:"NewProject",my_project:"My Project",save:"Save",save_as:"Save As",load_from_local:"Load from local",examples:"Examples",forum:"Forum",language:"Language",tutorials:"Tutorials",faq:"FAQ",contact_us:"Contact Us",menu:"Menu",about_us:"About Us"},"menu","Menu"),_defineProperty(_Local$en$MSG,"create_library","Create library"),_defineProperty(_Local$en$MSG,"add_library","Add library"),_defineProperty(_Local$en$MSG,"add_kit","Add kit"),_defineProperty(_Local$en$MSG,"add_module","Add module"),_defineProperty(_Local$en$MSG,"login","Sign in"),_defineProperty(_Local$en$MSG,"signAccount","Sign in to your account"),_defineProperty(_Local$en$MSG,"emailAddress","Email address"),_defineProperty(_Local$en$MSG,"passWord","Password"),_defineProperty(_Local$en$MSG,"forgot_your_name","Forgot your Password?"),_defineProperty(_Local$en$MSG,"signIn","Sign In"),_defineProperty(_Local$en$MSG,"notAccount","Don't have an account?"),_defineProperty(_Local$en$MSG,"create_a_new_account","Create a new account"),_defineProperty(_Local$en$MSG,"create_your_account","Create your account"),_defineProperty(_Local$en$MSG,"firstName","First Name"),_defineProperty(_Local$en$MSG,"lastName","Last Name"),_defineProperty(_Local$en$MSG,"confirmPassword","Confirm Password"),_defineProperty(_Local$en$MSG,"privacyPolicy","By clicking Create Account, you acknowledge you have read and agreed to our Terms of Use and Privacy Policy"),_defineProperty(_Local$en$MSG,"creatAccount","Create Account"),_defineProperty(_Local$en$MSG,"emailMe","Email me about Rollbacks,special priceing,hot new items,gift ideas and more"),_defineProperty(_Local$en$MSG,"catBasic","Basic"),_defineProperty(_Local$en$MSG,"catLogic","Logic"),_defineProperty(_Local$en$MSG,"catLoops","Loops"),_defineProperty(_Local$en$MSG,"catMath","Math"),_defineProperty(_Local$en$MSG,"catText","Text"),_defineProperty(_Local$en$MSG,"catLists","Lists"),_defineProperty(_Local$en$MSG,"catColour","Colour"),_defineProperty(_Local$en$MSG,"catVariables","Variables"),_defineProperty(_Local$en$MSG,"catFunctions","Functions"),_defineProperty(_Local$en$MSG,"catAddPackage","Add packages"),_defineProperty(_Local$en$MSG,"controller_joystick_name","Joystick"),_defineProperty(_Local$en$MSG,"controller_slider_value","value:"),_defineProperty(_Local$en$MSG,"controller_slider_name","Slider"),_defineProperty(_Local$en$MSG,"controller_dpad_name","D-pad"),_defineProperty(_Local$en$MSG,"controller_btn_name","Button"),_defineProperty(_Local$en$MSG,"controller_switch_name","Switch"),_defineProperty(_Local$en$MSG,"clearTitle","Delete this kit?"),_defineProperty(_Local$en$MSG,"kitYes","Yes"),_defineProperty(_Local$en$MSG,"kitNo","No"),_defineProperty(_Local$en$MSG,"my_project","My project"),_defineProperty(_Local$en$MSG,"new_project","New project"),_defineProperty(_Local$en$MSG,"projectRemote","Cloud Storage"),_defineProperty(_Local$en$MSG,"projectLocal","Local Storage"),_defineProperty(_Local$en$MSG,"select","select"),_defineProperty(_Local$en$MSG,"undo","undo"),_defineProperty(_Local$en$MSG,"redo","redo"),_defineProperty(_Local$en$MSG,"find","find"),_defineProperty(_Local$en$MSG,"keyboard","keyboard"),_defineProperty(_Local$en$MSG,"tab","tab"),_defineProperty(_Local$en$MSG,"personalInformation","Information"),_defineProperty(_Local$en$MSG,"accountSecurity","Security"),_defineProperty(_Local$en$MSG,"changeEmailAddress","Change email"),_defineProperty(_Local$en$MSG,"changeEmail","Change"),_defineProperty(_Local$en$MSG,"changePwd","Change password"),_defineProperty(_Local$en$MSG,"systemMessages","Inbox"),_defineProperty(_Local$en$MSG,"essentialInformation","Information"),_defineProperty(_Local$en$MSG,"uploadPhoto","Upload"),_defineProperty(_Local$en$MSG,"username","User Name"),_defineProperty(_Local$en$MSG,"enterUsername","Please enter user name"),_defineProperty(_Local$en$MSG,"sex","Gender"),_defineProperty(_Local$en$MSG,"male","Male"),_defineProperty(_Local$en$MSG,"female","Female"),_defineProperty(_Local$en$MSG,"age","Age"),_defineProperty(_Local$en$MSG,"enterAge","Please enter your age"),_defineProperty(_Local$en$MSG,"country","Country"),_defineProperty(_Local$en$MSG,"enterCountry","Please enter your country"),_defineProperty(_Local$en$MSG,"work","Job"),_defineProperty(_Local$en$MSG,"enterWork","Please enter your job"),_defineProperty(_Local$en$MSG,"email","Email"),_defineProperty(_Local$en$MSG,"enterEmail","Please enter email address"),_defineProperty(_Local$en$MSG,"verification","Verification"),_defineProperty(_Local$en$MSG,"password","Password"),_defineProperty(_Local$en$MSG,"enterPassword","Please enter password"),_defineProperty(_Local$en$MSG,"saveInformation","Save"),_defineProperty(_Local$en$MSG,"editInformation","Edit"),_defineProperty(_Local$en$MSG,"exit","Log out"),_defineProperty(_Local$en$MSG,"verificationCode","Verification code"),_defineProperty(_Local$en$MSG,"enterVerificationCode","Please enter verification code"),_defineProperty(_Local$en$MSG,"sendAgain","Send again"),_defineProperty(_Local$en$MSG,"confirm","Confirm"),_defineProperty(_Local$en$MSG,"oldPwd","Old password"),_defineProperty(_Local$en$MSG,"enterOldPwd","Please enter old password"),_defineProperty(_Local$en$MSG,"newPwd","New password"),_defineProperty(_Local$en$MSG,"enterNewPwd","Please enter new password"),_defineProperty(_Local$en$MSG,"width","width_en"),_defineProperty(_Local$en$MSG,"confirmLeft","left_en"),_defineProperty(_Local$en$MSG,"cancelUser","Delete Account"),_defineProperty(_Local$en$MSG,"cancelSuccessfully","Delete successfully"),_defineProperty(_Local$en$MSG,"changeEmailSuccessfully","Change email address successfully"),_defineProperty(_Local$en$MSG,"verificatioCodeSent","The verification code is sent"),_defineProperty(_Local$en$MSG,"requestFailed","Request failed,please try again"),_defineProperty(_Local$en$MSG,"verificationCodeError","The verification code is error"),_defineProperty(_Local$en$MSG,"verificationCodeNotNull","The verification code is requied"),_defineProperty(_Local$en$MSG,"passWordEamilNotNull","The password or email address is requied"),_defineProperty(_Local$en$MSG,"ageScope","The age must be older than zero year old"),_defineProperty(_Local$en$MSG,"emailFormat","Please enter the correct email address format"),_defineProperty(_Local$en$MSG,"enterPassWord","Please enter login password"),_defineProperty(_Local$en$MSG,"passwordNullError","Checked haven't login, please login in first"),_defineProperty(_Local$en$MSG,"emialNotRegister","Not same as login email, please verification fist"),_defineProperty(_Local$en$MSG,"passwordError","Password error"),_defineProperty(_Local$en$MSG,"failToModify","Fail to modify"),_defineProperty(_Local$en$MSG,"saveSuccessfully","Save successfully"),_defineProperty(_Local$en$MSG,"emailRegistered","Email address registered, please change others"),_defineProperty(_Local$en$MSG,"emailUnRegistered","Email address unregistered"),_defineProperty(_Local$en$MSG,"oldPwdError","The old password is error"),_defineProperty(_Local$en$MSG,"oldNewPwdSame","The old and new password are the same"),_defineProperty(_Local$en$MSG,"emailNotExist","The email address does not exist"),_defineProperty(_Local$en$MSG,"pwdChangedSuccessfully","Password changed successfully"),_defineProperty(_Local$en$MSG,"emailUsernamePwdNotNull","Email/Username/Password is requied"),_defineProperty(_Local$en$MSG,"userNotExist","The user is not exist"),_defineProperty(_Local$en$MSG,"loginPwdError","The password is error"),_defineProperty(_Local$en$MSG,"loginSuccessfully","Sign in successfully"),_defineProperty(_Local$en$MSG,"pwdNotNull","The password is not empty"),_defineProperty(_Local$en$MSG,"pwdNotSame","Passwords didn't match"),_defineProperty(_Local$en$MSG,"prev","prev"),_defineProperty(_Local$en$MSG,"next","next"),_defineProperty(_Local$en$MSG,"from","From"),_defineProperty(_Local$en$MSG,"to","To"),_defineProperty(_Local$en$MSG,"theme","Subject"),_defineProperty(_Local$en$MSG,"body","Contents"),_defineProperty(_Local$en$MSG,"send","Send"),_defineProperty(_Local$en$MSG,"themeNotNull","Please fill in the subject"),_defineProperty(_Local$en$MSG,"bodyNotNull","Please fill in the content"),_defineProperty(_Local$en$MSG,"sendSuccessfully","Send successfully"),_defineProperty(_Local$en$MSG,"sendFailed","Send failed"),_defineProperty(_Local$en$MSG,"return","Return"),_defineProperty(_Local$en$MSG,"nextStup","Next"),_defineProperty(_Local$en$MSG,"signIn","Sign In"),_defineProperty(_Local$en$MSG,"userNameEmailAddress","User Name/Email Address"),_defineProperty(_Local$en$MSG,"haveAnAccount","Have an account?"),_defineProperty(_Local$en$MSG,"signUp","Sign Up"),_defineProperty(_Local$en$MSG,"or","or"),_defineProperty(_Local$en$MSG,"creatAnAccount","Creat An Account"),_defineProperty(_Local$en$MSG,"signUpUsername","User Name"),_defineProperty(_Local$en$MSG,"signUpPassword","PassWord"),_defineProperty(_Local$en$MSG,"signUpPwdConfirm","Pouble confirm"),_defineProperty(_Local$en$MSG,"privatePolicy","Please read and agree to the privacy policy first"),_defineProperty(_Local$en$MSG,"readAcceptPolicy","I have read and agree to the privacy policy"),_defineProperty(_Local$en$MSG,"delete_left","delete_en"),_defineProperty(_Local$en$MSG,"newUserRegistration","New User Registration"),_defineProperty(_Local$en$MSG,"addEmail","Add your email address"),_defineProperty(_Local$en$MSG,"accept","I accept all the"),_defineProperty(_Local$en$MSG,"termsConditions","Terms&Conditions"),_defineProperty(_Local$en$MSG,"anonymousData","Send anonymous data to us to improve our service quality"),_defineProperty(_Local$en$MSG,"sendVerification","Send Verification"),_defineProperty(_Local$en$MSG,"verificationEmail","Verification Email"),_defineProperty(_Local$en$MSG,"verificatioCode","Verification code"),_defineProperty(_Local$en$MSG,"canNotReceive","Can't receive email?"),_defineProperty(_Local$en$MSG,"checkTrashEmail","Please check the inbox an the trash or"),_defineProperty(_Local$en$MSG,"sendAgain","send again"),_defineProperty(_Local$en$MSG,"back","Back"),_defineProperty(_Local$en$MSG,"ok","OK"),_defineProperty(_Local$en$MSG,"timeout","The request timed out,Please try again"),_defineProperty(_Local$en$MSG,"findPwd","Find password"),_defineProperty(_Local$en$MSG,"enterNewPwdAgain","Please enter  password again"),_defineProperty(_Local$en$MSG,"forgotPwd","Forgot password?"),_defineProperty(_Local$en$MSG,"tutorialsGettingStart","Getting start"),_defineProperty(_Local$en$MSG,"tutorialsAdvance","Advance"),_defineProperty(_Local$en$MSG,"examplesRaspberrypi","Raspberrypi examples"),_defineProperty(_Local$en$MSG,"searchFiles","Search Files..."),_defineProperty(_Local$en$MSG,"selectBoard","Please select the board first"),_defineProperty(_Local$en$MSG,"products","Products"),_defineProperty(_Local$en$MSG,"recentlyUsed","Recently Used"),_defineProperty(_Local$en$MSG,"returnHome","Return"),_defineProperty(_Local$en$MSG,"Boards","Boards"),_defineProperty(_Local$en$MSG,"iKits","iKits"),_defineProperty(_Local$en$MSG,"Kits","Kits"),_defineProperty(_Local$en$MSG,"Robots","Robots"),_defineProperty(_Local$en$MSG,"aboutUsHeader","About Us"),_defineProperty(_Local$en$MSG,"aboutUs","\n  <p>SunFounder is a company focused on STEM education with products like opensource robots, aircraft models, and smart devices distributed globally.In SunFounder, we strive to help elementary and middle school students as well as hobbyists, through STEM education, strengthen their hands - on practices and problem - solving abilities.In this way, we hope to disseminate knowledge and provide skill training in a full - of - joy way, thus fostering your interest in programming and making, and exposing you to a fascinating world of science and engineering.To embrace the future of artificial intelligence, it is urgent and meaningful to learn abundant STEM knowledge.</p>\n  <p>We always prioritize the experience and feeling of our customers.For easy learning, tutorials are provided for each product to put you in touch with science in a simple manner; also software using visual / graphical programming language is offered for beginning students to manage experiments in short time.In SunFounder, we believe everyone can become a scientist.We find creative ideas in life and they will enrich life in return.Keeping that mission in mind, we will keep on working to provide you good service and innovative product of interest, and at the same time bring joy when imparting knowledge to you.</p>\n  <p>Ezblock ".concat(VERSION,"</p>\n  ")),_defineProperty(_Local$en$MSG,"addKitSuccess","Kit added successfully"),_defineProperty(_Local$en$MSG,"addKitFailed","The kit already exists,please select again"),_defineProperty(_Local$en$MSG,"addModuleSuccess","Module added successfully"),_defineProperty(_Local$en$MSG,"addModuleFailed","The module already exists,please select again"),_defineProperty(_Local$en$MSG,"selectPageages","Please select packages"),_defineProperty(_Local$en$MSG,"isSaveProject","Save project?"),_defineProperty(_Local$en$MSG,"cancel","Cancel"),_defineProperty(_Local$en$MSG,"newProject","Please new a project"),_defineProperty(_Local$en$MSG,"selectProgramEnv","Select programming environment"),_defineProperty(_Local$en$MSG,"selectKit","Select kit"),_defineProperty(_Local$en$MSG,"kit","Kit"),_defineProperty(_Local$en$MSG,"kitName","Kit name"),_defineProperty(_Local$en$MSG,"kitNameNotEmpty","Kit name is not empty"),_defineProperty(_Local$en$MSG,"selectModule","Select module"),_defineProperty(_Local$en$MSG,"module","Module"),_defineProperty(_Local$en$MSG,"moduleName","Module name"),_defineProperty(_Local$en$MSG,"moduleNameNotEmoty","Module name is not empty"),_defineProperty(_Local$en$MSG,"clear","Clear"),_defineProperty(_Local$en$MSG,"private","\n  <h3>How we collect, use collected information?</h3>\n\n  <h3>Why do we collect this information?</h3>\n  <p>\n    Sunfounder collects and uses your personal information for the following purposes:</br>\n    - To improve our services, and our communications with you.</br> \n    - To personalize your experience</br> \n    - To maintain, improve, and administer our information systems</br> \n    - To process payments</br> \n    - To identify and prevent fraud</br> \n    - To enhance the security of our network and information systems</br> \n    - Better understand how you use our services, and to determine the effectiveness of promotional campaigns and advertising</br> \n  </p>\n  \n  <h3>Who has access to your information?</h3>\n  <p>\n    We limit access to your information to employees who have a need to use the information and are obligated to protect that information and keep it confidential. We do not share your information with other companies. \n    We may share the information as required or permitted by law, such as when we believe such disclosure is appropriate to cooperate with an investigation of activities claimed to be unlawful, to enforce our Terms of Use, or to protect our rights or property or those of others. \n    Finally, we may provide your information to one or more third parties in the event of a merger, acquisition, or corporate reorganization involving us.\n  </p>\n  \n  <h3>How long do we keep your information?</h3>\n  <p>We only retain your personal information for as long as is necessary for the purpose for which it is provided or because we are legally required to do so.</p>\n  \n  <h3>What rights do you have to access and control the use of your information?</h3>\n  <p>\n    You have the right to?<br>\n    - Access your personal information</br> \n    - Withdraw any specific consents you gave us</br> \n    - Request a copy of the personal information that is being processed by us</br> \n    - Have errors in your personal information corrected</br> \n    - Have your personal information deleted (or altered so that you are not identifiable) or to restrict the ways in which we use your information – but in either case, only under specific circumstances prescribed by law</br> \n    - Lodge a complaint with your local data protection authority</br> \n  </p>  \n  \n  <h3>How you can exercise these rights?</h3>\n <p>You can contact us to exercise any of the rights listed above by using the listed email address.</p>\n  \n  <h3>How do we protect your information?</h3>\n  <p>\n    We maintain physical, electronic, and procedural safeguards designed to help us protect your personal information. You should select a strong password and keep it safe. \n    We will not sell, trade, or rent your personal information to others.\n  </p> \n  \n  <h3>Your acceptance of these terms?</h3>\n  <p>By using our Site, you signify your acceptance of this policy and terms of service.</p>\n  "),_Local$en$MSG);
var _Local$zhHans$MSG;function _defineProperty(e,o,n){return o in e?Object.defineProperty(e,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[o]=n,e}Local["zh-hans"].MSG=(_defineProperty(_Local$zhHans$MSG={home_menu:"菜单",home_login:"登录",home_my_project:"我的项目",home_new_project:"新建项目",home_tutorial:"教程",home_example:"示例",home_products:"产品",loading_cache:"正在更新资源，请稍后",language_language:"语言",new_project_new_project:"新项目",new_project_project_name:"项目名称",new_project_next:"确定",coding_bluetooth_connecting:"正在连接",coding_bluetooth_connected:"连接成功",coding_bluetooth_disconnected:"断开连接",coding_compile_message_library:"正在编译库",coding_download_message_library:"正在下载库",getting_infomation:"正在获取设备信息",get_infomation_error:"获取设备信息失败，正在跳过",products_recent:"最近使用",share:"分享",new_project:"新项目",my_project:"我的项目",save:"保存",save_as:"另存为",load_from_local:"从本地加载",examples:"案例",forum:"论坛",language:"语言",tutorials:"教程",faq:"常见问题",contact_us:"联系我们",menu:"菜单",about_us:"关于我们",create_library:"创建库",add_library:"添加库",add_kit:"添加套件",add_module:"添加模块",login:"登录",signAccount:"登录到您的账户",emailAddress:"邮箱地址 *",passWord:"密码 *",forgot_your_password:"忘记您的密码？",signIn:"登录",notAccount:"没有一个账户？",create_a_new_account:"创建一个新的账户",create_your_account:"创建您的账户",firstName:"名 *",lastName:"姓 *",confirmPassword:"确认密码 *",privacyPolicy:"通过点击创建帐户，你承认你已经阅读并同意了我们的使用条款和隐私政策",creatAccount:"创建账户",emailMe:"给我发邮件，关于回滚，特价，热门新产品，礼物创意等等",catBasic:"基本",catLogic:"逻辑",catLoops:"循环",catMath:"数学",catText:"文本",catLists:"列表",catColour:"颜色",catVariables:"变量",catFunctions:"函数",catAddPackage:"添加软件包",controller_joystick_name:"遥杆",controller_slider_value:"值:",controller_slider_name:"滑块",controller_dpad_name:"手柄",controller_btn_name:"按钮",controller_switch_name:"开关",clearTitle:"是否删除此套件？",kitYes:"是",kitNo:"否"},"my_project","我的项目"),_defineProperty(_Local$zhHans$MSG,"new_project","新建项目"),_defineProperty(_Local$zhHans$MSG,"projectRemote","云端储存"),_defineProperty(_Local$zhHans$MSG,"projectLocal","本地储存"),_defineProperty(_Local$zhHans$MSG,"select","选择"),_defineProperty(_Local$zhHans$MSG,"undo","撤销"),_defineProperty(_Local$zhHans$MSG,"redo","还原"),_defineProperty(_Local$zhHans$MSG,"find","查找"),_defineProperty(_Local$zhHans$MSG,"keyboard","高亮"),_defineProperty(_Local$zhHans$MSG,"tab","tab"),_defineProperty(_Local$zhHans$MSG,"products","产品"),_defineProperty(_Local$zhHans$MSG,"recentlyUsed","最近使用"),_defineProperty(_Local$zhHans$MSG,"returnHome","返回"),_defineProperty(_Local$zhHans$MSG,"Boards","主板"),_defineProperty(_Local$zhHans$MSG,"iKits","内部套件"),_defineProperty(_Local$zhHans$MSG,"Kits","产品套件"),_defineProperty(_Local$zhHans$MSG,"Robots","机器人"),_defineProperty(_Local$zhHans$MSG,"personalInformation","个人信息"),_defineProperty(_Local$zhHans$MSG,"accountSecurity","账户安全"),_defineProperty(_Local$zhHans$MSG,"changeEmailAddress","更换邮箱"),_defineProperty(_Local$zhHans$MSG,"changeEmail","更换邮箱"),_defineProperty(_Local$zhHans$MSG,"changePwd","修改密码"),_defineProperty(_Local$zhHans$MSG,"systemMessages","系统消息"),_defineProperty(_Local$zhHans$MSG,"essentialInformation","基本信息"),_defineProperty(_Local$zhHans$MSG,"uploadPhoto","上传头像"),_defineProperty(_Local$zhHans$MSG,"username","用户名"),_defineProperty(_Local$zhHans$MSG,"enterUsername","请输入用户名"),_defineProperty(_Local$zhHans$MSG,"sex","性别"),_defineProperty(_Local$zhHans$MSG,"male","男"),_defineProperty(_Local$zhHans$MSG,"female","女"),_defineProperty(_Local$zhHans$MSG,"age","年龄"),_defineProperty(_Local$zhHans$MSG,"enterAge","请输入年龄"),_defineProperty(_Local$zhHans$MSG,"country","国家"),_defineProperty(_Local$zhHans$MSG,"enterCountry","请输入国家"),_defineProperty(_Local$zhHans$MSG,"work","工作"),_defineProperty(_Local$zhHans$MSG,"enterWork","请输入职业"),_defineProperty(_Local$zhHans$MSG,"email","邮箱"),_defineProperty(_Local$zhHans$MSG,"enterEmail","请输入邮箱号"),_defineProperty(_Local$zhHans$MSG,"verification","验证"),_defineProperty(_Local$zhHans$MSG,"password","密码"),_defineProperty(_Local$zhHans$MSG,"enterPassword","请输入登录密码"),_defineProperty(_Local$zhHans$MSG,"saveInformation","保存"),_defineProperty(_Local$zhHans$MSG,"editInformation","编辑"),_defineProperty(_Local$zhHans$MSG,"exit","退出登录"),_defineProperty(_Local$zhHans$MSG,"verificationCode","验证码"),_defineProperty(_Local$zhHans$MSG,"enterVerificationCode","请输入验证码"),_defineProperty(_Local$zhHans$MSG,"sendAgain","再次发送"),_defineProperty(_Local$zhHans$MSG,"confirm","确认"),_defineProperty(_Local$zhHans$MSG,"oldPwd","原密码"),_defineProperty(_Local$zhHans$MSG,"enterOldPwd","请输入原密码"),_defineProperty(_Local$zhHans$MSG,"newPwd","新密码"),_defineProperty(_Local$zhHans$MSG,"enterNewPwd","请输入新密码"),_defineProperty(_Local$zhHans$MSG,"width","width_zh-hans"),_defineProperty(_Local$zhHans$MSG,"confirmLeft","left_zh-hans"),_defineProperty(_Local$zhHans$MSG,"cancelUser","注销用户"),_defineProperty(_Local$zhHans$MSG,"cancelSuccessfully","注销成功"),_defineProperty(_Local$zhHans$MSG,"changeEmailSuccessfully","更换邮箱成功"),_defineProperty(_Local$zhHans$MSG,"verificatioCodeSent","验证码已发送"),_defineProperty(_Local$zhHans$MSG,"requestFailed","请求失败，请重试"),_defineProperty(_Local$zhHans$MSG,"verificationCodeError","验证码错误"),_defineProperty(_Local$zhHans$MSG,"verificationCodeNotNull","验证码不为空"),_defineProperty(_Local$zhHans$MSG,"passWordEamilNotNull","密码或邮箱号不为空"),_defineProperty(_Local$zhHans$MSG,"ageScope","年龄为大于0的整数"),_defineProperty(_Local$zhHans$MSG,"emailFormat","请输入正确的邮箱格式"),_defineProperty(_Local$zhHans$MSG,"enterPassWord","请输入登录密码"),_defineProperty(_Local$zhHans$MSG,"passwordNullError","账号未登录，请先登录"),_defineProperty(_Local$zhHans$MSG,"emialNotRegister","非登录时邮箱请先进行验证"),_defineProperty(_Local$zhHans$MSG,"passwordError","登录密码错误"),_defineProperty(_Local$zhHans$MSG,"failToModify","修改失败"),_defineProperty(_Local$zhHans$MSG,"saveSuccessfully","保存成功"),_defineProperty(_Local$zhHans$MSG,"emailRegistered","该邮箱已注册,请跟换其它邮箱"),_defineProperty(_Local$zhHans$MSG,"emailUnRegistered","该邮箱未注册"),_defineProperty(_Local$zhHans$MSG,"oldPwdError","原密码错误"),_defineProperty(_Local$zhHans$MSG,"oldNewPwdSame","新旧密码一样"),_defineProperty(_Local$zhHans$MSG,"emailNotExist","邮箱不存在"),_defineProperty(_Local$zhHans$MSG,"pwdChangedSuccessfully","密码修改成功"),_defineProperty(_Local$zhHans$MSG,"emailUsernamePwdNotNull","邮箱/用户名/密码不为空"),_defineProperty(_Local$zhHans$MSG,"userNotExist","用户不存在"),_defineProperty(_Local$zhHans$MSG,"loginPwdError","密码错误"),_defineProperty(_Local$zhHans$MSG,"loginSuccessfully","登陆成功"),_defineProperty(_Local$zhHans$MSG,"pwdNotNull","密码不为空"),_defineProperty(_Local$zhHans$MSG,"pwdNotSame","密码输入不一致"),_defineProperty(_Local$zhHans$MSG,"prev","上一页"),_defineProperty(_Local$zhHans$MSG,"next","下一页"),_defineProperty(_Local$zhHans$MSG,"from","发件人"),_defineProperty(_Local$zhHans$MSG,"to","收件人"),_defineProperty(_Local$zhHans$MSG,"theme","主题"),_defineProperty(_Local$zhHans$MSG,"body","正文"),_defineProperty(_Local$zhHans$MSG,"send","发送"),_defineProperty(_Local$zhHans$MSG,"themeNotNull","主题不为空"),_defineProperty(_Local$zhHans$MSG,"bodyNotNull","正文不为空"),_defineProperty(_Local$zhHans$MSG,"sendSuccessfully","发送成功"),_defineProperty(_Local$zhHans$MSG,"sendFailed","发送失败"),_defineProperty(_Local$zhHans$MSG,"return","返回"),_defineProperty(_Local$zhHans$MSG,"nextStup","下一步"),_defineProperty(_Local$zhHans$MSG,"signIn","登录"),_defineProperty(_Local$zhHans$MSG,"userNameEmailAddress","请输入用户名/邮箱号"),_defineProperty(_Local$zhHans$MSG,"haveAnAccount","是否有一个账户？"),_defineProperty(_Local$zhHans$MSG,"signUp","注册"),_defineProperty(_Local$zhHans$MSG,"or","或"),_defineProperty(_Local$zhHans$MSG,"creatAnAccount","创建一个账户"),_defineProperty(_Local$zhHans$MSG,"signUpUsername","请输入用户名"),_defineProperty(_Local$zhHans$MSG,"signUpPassword","请输入密码"),_defineProperty(_Local$zhHans$MSG,"signUpPwdConfirm","请再次输入密码"),_defineProperty(_Local$zhHans$MSG,"privatePolicy","请先阅读并同意该隐私条款"),_defineProperty(_Local$zhHans$MSG,"readAcceptPolicy","我已阅读并同意该隐私条款"),_defineProperty(_Local$zhHans$MSG,"delete_left","delete_zh-hans"),_defineProperty(_Local$zhHans$MSG,"newUserRegistration","新用户注册"),_defineProperty(_Local$zhHans$MSG,"addEmail","添加您的电子邮件地址"),_defineProperty(_Local$zhHans$MSG,"accept","我接受所有的"),_defineProperty(_Local$zhHans$MSG,"termsConditions","协议与条件"),_defineProperty(_Local$zhHans$MSG,"anonymousData","请允许匿名数据发送给我们，以提高我们的服务质量"),_defineProperty(_Local$zhHans$MSG,"sendVerification","发送验证码"),_defineProperty(_Local$zhHans$MSG,"verificationEmail","验证邮箱"),_defineProperty(_Local$zhHans$MSG,"verificatioCode","验证码"),_defineProperty(_Local$zhHans$MSG,"canNotReceive","收不到电子邮件？"),_defineProperty(_Local$zhHans$MSG,"checkTrashEmail","请检查邮箱中的垃圾邮件或者"),_defineProperty(_Local$zhHans$MSG,"sendAgain","再次发送"),_defineProperty(_Local$zhHans$MSG,"back","返回"),_defineProperty(_Local$zhHans$MSG,"ok","完成"),_defineProperty(_Local$zhHans$MSG,"timeout","请求超时，请重试"),_defineProperty(_Local$zhHans$MSG,"findPwd","找回密码"),_defineProperty(_Local$zhHans$MSG,"enterNewPwdAgain","请再次输入新密码"),_defineProperty(_Local$zhHans$MSG,"forgotPwd","忘记密码？"),_defineProperty(_Local$zhHans$MSG,"tutorialsGettingStart","初级"),_defineProperty(_Local$zhHans$MSG,"tutorialsAdvance","高级"),_defineProperty(_Local$zhHans$MSG,"searchFiles","搜索项目"),_defineProperty(_Local$zhHans$MSG,"selectBoard","请先选板子"),_defineProperty(_Local$zhHans$MSG,"aboutUsHeader","关于我们"),_defineProperty(_Local$zhHans$MSG,"aboutUs",'\n  <p style="letter-spacing:1px">SunFounder是一家专注于STEM教育的公司，其产品包括开源机器人，飞机模型，智能设备， 产品遍布全球。在SunFounder，我们努力帮助中小学生和爱好者，通过STEM教育，加强他们的动手实践和解决问题的能力。通过这种方式，我们希望以一种充满乐趣的方式传播知识和提供技能培训，从而培养您对编程和制作的兴趣，并让您接触到一个迷人的科学和工程技术的世界。为了迎接人工智能的未来，学习丰富的STEM知识是迫切而有意义的。</p>\n  <p style="letter-spacing:1px">我们总是优先考虑客户的体验和感受。为了便于学习，每个产品都提供了教程，让您以一种简单的方式接触科学，此外，还提供了可视化/图形化编程的软件，供初学的学生在短时间内完成实验。在SunFounder，我们相信每个人都可以成为一名科学家，我们在生活中发现创造性的想法，反过来它们也会丰富我们的生活。秉承这一使命，我们会一如既往地为您提供优质的服务和创新的产品，同时为您带来冲击知识的快乐。</p>\n  <p>Ezblock '.concat(VERSION,"</p>\n")),_defineProperty(_Local$zhHans$MSG,"addKitSuccess","套件添加成功"),_defineProperty(_Local$zhHans$MSG,"addKitFailed","套件已存在，请重新添加"),_defineProperty(_Local$zhHans$MSG,"addModuleSuccess","模块添加成功"),_defineProperty(_Local$zhHans$MSG,"addModuleFailed","模块已存在，请重新添加"),_defineProperty(_Local$zhHans$MSG,"selectPageages","请选择包"),_defineProperty(_Local$zhHans$MSG,"isSaveProject","是否保存项目"),_defineProperty(_Local$zhHans$MSG,"cancel","取消"),_defineProperty(_Local$zhHans$MSG,"newProject","请新建项目"),_defineProperty(_Local$zhHans$MSG,"selectProgramEnv","选择编程环境"),_defineProperty(_Local$zhHans$MSG,"selectKit","选择套件"),_defineProperty(_Local$zhHans$MSG,"kit","套件"),_defineProperty(_Local$zhHans$MSG,"kitName","套件名"),_defineProperty(_Local$zhHans$MSG,"kitNameNotEmpty","套件名不为空"),_defineProperty(_Local$zhHans$MSG,"selectModule","选择模块"),_defineProperty(_Local$zhHans$MSG,"module","模块"),_defineProperty(_Local$zhHans$MSG,"moduleName","模块名"),_defineProperty(_Local$zhHans$MSG,"moduleNameNotEmoty","模块名不为空"),_defineProperty(_Local$zhHans$MSG,"clear","清除"),_defineProperty(_Local$zhHans$MSG,"private","\n  <h3>How we collect, use collected information?</h3>\n\n  <h3>Why do we collect this information?</h3>\n  <p>\n    Sunfounder collects and uses your personal information for the following purposes:</br>\n    - To improve our services, and our communications with you.</br> \n    - To personalize your experience</br> \n    - To maintain, improve, and administer our information systems</br> \n    - To process payments</br> \n    - To identify and prevent fraud</br> \n    - To enhance the security of our network and information systems</br> \n    - Better understand how you use our services, and to determine the effectiveness of promotional campaigns and advertising</br> \n  </p>\n  \n  <h3>Who has access to your information?</h3>\n  <p>\n    We limit access to your information to employees who have a need to use the information and are obligated to protect that information and keep it confidential. We do not share your information with other companies. \n    We may share the information as required or permitted by law, such as when we believe such disclosure is appropriate to cooperate with an investigation of activities claimed to be unlawful, to enforce our Terms of Use, or to protect our rights or property or those of others. \n    Finally, we may provide your information to one or more third parties in the event of a merger, acquisition, or corporate reorganization involving us.\n  </p>\n  \n  <h3>How long do we keep your information?</h3>\n  <p>We only retain your personal information for as long as is necessary for the purpose for which it is provided or because we are legally required to do so.</p>\n  \n  <h3>What rights do you have to access and control the use of your information?</h3>\n  <p>\n    You have the right to?<br>\n    - Access your personal information</br> \n    - Withdraw any specific consents you gave us</br> \n    - Request a copy of the personal information that is being processed by us</br> \n    - Have errors in your personal information corrected</br> \n    - Have your personal information deleted (or altered so that you are not identifiable) or to restrict the ways in which we use your information – but in either case, only under specific circumstances prescribed by law</br> \n    - Lodge a complaint with your local data protection authority</br> \n  </p>  \n  \n  <h3>How you can exercise these rights?</h3>\n <p>You can contact us to exercise any of the rights listed above by using the listed email address.</p>\n  \n  <h3>How do we protect your information?</h3>\n  <p>\n    We maintain physical, electronic, and procedural safeguards designed to help us protect your personal information. You should select a strong password and keep it safe. \n    We will not sell, trade, or rent your personal information to others.\n  </p> \n  \n  <h3>Your acceptance of these terms?</h3>\n  <p>By using our Site, you signify your acceptance of this policy and terms of service.</p>\n  "),_Local$zhHans$MSG);
Local.en.ADD_COMMENT="Add Comment",Local.en.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",Local.en.CHANGE_VALUE_TITLE="Change value:",Local.en.CLEAN_UP="Clean up Blocks",Local.en.COLLAPSE_ALL="Collapse Blocks",Local.en.COLLAPSE_BLOCK="Collapse Block",Local.en.COLOUR_BLEND_COLOUR1="colour 1",Local.en.COLOUR_BLEND_COLOUR2="colour 2",Local.en.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",Local.en.COLOUR_BLEND_RATIO="ratio",Local.en.COLOUR_BLEND_TITLE="blend",Local.en.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",Local.en.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",Local.en.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",Local.en.COLOUR_RANDOM_HELPURL="http://randomcolour.com",Local.en.COLOUR_RANDOM_TITLE="random colour",Local.en.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",Local.en.COLOUR_RGB_BLUE="blue",Local.en.COLOUR_RGB_GREEN="green",Local.en.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",Local.en.COLOUR_RGB_RED="red",Local.en.COLOUR_RGB_TITLE="colour with",Local.en.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",Local.en.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",Local.en.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",Local.en.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",Local.en.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",Local.en.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",Local.en.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",Local.en.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",Local.en.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",Local.en.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",Local.en.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",Local.en.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",Local.en.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",Local.en.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",Local.en.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",Local.en.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",Local.en.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",Local.en.CONTROLS_IF_MSG_ELSE="else",Local.en.CONTROLS_IF_MSG_ELSEIF="else if",Local.en.CONTROLS_IF_MSG_IF="if",Local.en.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",Local.en.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",Local.en.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",Local.en.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",Local.en.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",Local.en.CONTROLS_REPEAT_INPUT_DO="do",Local.en.CONTROLS_REPEAT_TITLE="repeat %1 times",Local.en.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",Local.en.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",Local.en.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",Local.en.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",Local.en.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",Local.en.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",Local.en.DELETE_ALL_BLOCKS="Delete all %1 blocks?",Local.en.DELETE_BLOCK="Delete Block",Local.en.DELETE_VARIABLE="Delete the '%1' variable",Local.en.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",Local.en.DELETE_X_BLOCKS="Delete %1 Blocks",Local.en.DISABLE_BLOCK="Disable Block",Local.en.DUPLICATE_BLOCK="Duplicate",Local.en.ENABLE_BLOCK="Enable Block",Local.en.EXPAND_ALL="Expand Blocks",Local.en.EXPAND_BLOCK="Expand Block",Local.en.EXTERNAL_INPUTS="External Inputs",Local.en.HELP="Help",Local.en.INLINE_INPUTS="Inline Inputs",Local.en.IOS_CANCEL="Cancel",Local.en.IOS_ERROR="Error",Local.en.IOS_OK="OK",Local.en.IOS_PROCEDURES_ADD_INPUT="+ Add Input",Local.en.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",Local.en.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",Local.en.IOS_PROCEDURES_INPUTS="INPUTS",Local.en.IOS_VARIABLES_ADD_BUTTON="Add",Local.en.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",Local.en.IOS_VARIABLES_DELETE_BUTTON="Delete",Local.en.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",Local.en.IOS_VARIABLES_RENAME_BUTTON="Rename",Local.en.IOS_VARIABLES_VARIABLE_NAME="Variable name",Local.en.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",Local.en.LISTS_CREATE_EMPTY_TITLE="create empty list",Local.en.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",Local.en.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",Local.en.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",Local.en.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",Local.en.LISTS_CREATE_WITH_INPUT_WITH="create list with",Local.en.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",Local.en.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",Local.en.LISTS_GET_INDEX_FIRST="first",Local.en.LISTS_GET_INDEX_FROM_END="# from end",Local.en.LISTS_GET_INDEX_FROM_START="#",Local.en.LISTS_GET_INDEX_GET="get",Local.en.LISTS_GET_INDEX_GET_REMOVE="get and remove",Local.en.LISTS_GET_INDEX_LAST="last",Local.en.LISTS_GET_INDEX_RANDOM="random",Local.en.LISTS_GET_INDEX_REMOVE="remove",Local.en.LISTS_GET_INDEX_TAIL="",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",Local.en.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",Local.en.LISTS_GET_SUBLIST_END_FROM_END="to # from end",Local.en.LISTS_GET_SUBLIST_END_FROM_START="to #",Local.en.LISTS_GET_SUBLIST_END_LAST="to last",Local.en.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",Local.en.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",Local.en.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",Local.en.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",Local.en.LISTS_GET_SUBLIST_TAIL="",Local.en.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",Local.en.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",Local.en.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",Local.en.LISTS_INDEX_OF_FIRST="find first occurrence of item",Local.en.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",Local.en.LISTS_INDEX_OF_LAST="find last occurrence of item",Local.en.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",Local.en.LISTS_INLIST="in list",Local.en.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",Local.en.LISTS_ISEMPTY_TITLE="%1 is empty",Local.en.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",Local.en.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",Local.en.LISTS_LENGTH_TITLE="length of %1",Local.en.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",Local.en.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",Local.en.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",Local.en.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",Local.en.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",Local.en.LISTS_REVERSE_MESSAGE0="reverse %1",Local.en.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",Local.en.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",Local.en.LISTS_SET_INDEX_INPUT_TO="as",Local.en.LISTS_SET_INDEX_INSERT="insert at",Local.en.LISTS_SET_INDEX_SET="set",Local.en.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",Local.en.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",Local.en.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",Local.en.LISTS_SORT_ORDER_ASCENDING="ascending",Local.en.LISTS_SORT_ORDER_DESCENDING="descending",Local.en.LISTS_SORT_TITLE="sort %1 %2 %3",Local.en.LISTS_SORT_TOOLTIP="Sort a copy of a list.",Local.en.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",Local.en.LISTS_SORT_TYPE_NUMERIC="numeric",Local.en.LISTS_SORT_TYPE_TEXT="alphabetic",Local.en.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",Local.en.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",Local.en.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",Local.en.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",Local.en.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",Local.en.LISTS_SPLIT_WITH_DELIMITER="with delimiter",Local.en.LOGIC_BOOLEAN_FALSE="false",Local.en.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",Local.en.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",Local.en.LOGIC_BOOLEAN_TRUE="true",Local.en.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",Local.en.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",Local.en.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",Local.en.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",Local.en.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",Local.en.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",Local.en.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",Local.en.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",Local.en.LOGIC_NEGATE_TITLE="not %1",Local.en.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",Local.en.LOGIC_NULL="null",Local.en.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",Local.en.LOGIC_NULL_TOOLTIP="Returns null.",Local.en.LOGIC_OPERATION_AND="and",Local.en.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",Local.en.LOGIC_OPERATION_OR="or",Local.en.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",Local.en.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",Local.en.LOGIC_TERNARY_CONDITION="test",Local.en.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",Local.en.LOGIC_TERNARY_IF_FALSE="if false",Local.en.LOGIC_TERNARY_IF_TRUE="if true",Local.en.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",Local.en.MATH_ADDITION_SYMBOL="+",Local.en.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",Local.en.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",Local.en.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",Local.en.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",Local.en.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",Local.en.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",Local.en.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",Local.en.MATH_CHANGE_TITLE="change %1 by %2",Local.en.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",Local.en.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",Local.en.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",Local.en.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",Local.en.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",Local.en.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",Local.en.MATH_DIVISION_SYMBOL="÷",Local.en.MATH_IS_DIVISIBLE_BY="is divisible by",Local.en.MATH_IS_EVEN="is even",Local.en.MATH_IS_NEGATIVE="is negative",Local.en.MATH_IS_ODD="is odd",Local.en.MATH_IS_POSITIVE="is positive",Local.en.MATH_IS_PRIME="is prime",Local.en.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",Local.en.MATH_IS_WHOLE="is whole",Local.en.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",Local.en.MATH_MODULO_TITLE="remainder of %1 ÷ %2",Local.en.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",Local.en.MATH_MULTIPLICATION_SYMBOL="×",Local.en.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",Local.en.MATH_NUMBER_TOOLTIP="A number.",Local.en.MATH_ONLIST_HELPURL="",Local.en.MATH_ONLIST_OPERATOR_AVERAGE="average of list",Local.en.MATH_ONLIST_OPERATOR_MAX="max of list",Local.en.MATH_ONLIST_OPERATOR_MEDIAN="median of list",Local.en.MATH_ONLIST_OPERATOR_MIN="min of list",Local.en.MATH_ONLIST_OPERATOR_MODE="modes of list",Local.en.MATH_ONLIST_OPERATOR_RANDOM="random item of list",Local.en.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",Local.en.MATH_ONLIST_OPERATOR_SUM="sum of list",Local.en.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",Local.en.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",Local.en.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",Local.en.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",Local.en.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",Local.en.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",Local.en.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",Local.en.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",Local.en.MATH_POWER_SYMBOL="^",Local.en.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",Local.en.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",Local.en.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",Local.en.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",Local.en.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",Local.en.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",Local.en.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",Local.en.MATH_ROUND_OPERATOR_ROUND="round",Local.en.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",Local.en.MATH_ROUND_OPERATOR_ROUNDUP="round up",Local.en.MATH_ROUND_TOOLTIP="Round a number up or down.",Local.en.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",Local.en.MATH_SINGLE_OP_ABSOLUTE="absolute",Local.en.MATH_SINGLE_OP_ROOT="square root",Local.en.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",Local.en.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",Local.en.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",Local.en.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",Local.en.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",Local.en.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",Local.en.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",Local.en.MATH_SUBTRACTION_SYMBOL="-",Local.en.MATH_TRIG_ACOS="acos",Local.en.MATH_TRIG_ASIN="asin",Local.en.MATH_TRIG_ATAN="atan",Local.en.MATH_TRIG_COS="cos",Local.en.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",Local.en.MATH_TRIG_SIN="sin",Local.en.MATH_TRIG_TAN="tan",Local.en.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",Local.en.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",Local.en.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",Local.en.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",Local.en.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",Local.en.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",Local.en.NEW_VARIABLE="Create variable...",Local.en.NEW_VARIABLE_TITLE="New variable name:",Local.en.ORDINAL_NUMBER_SUFFIX="",Local.en.PROCEDURES_ALLOW_STATEMENTS="allow statements",Local.en.PROCEDURES_BEFORE_PARAMS="with:",Local.en.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Local.en.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",Local.en.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Local.en.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",Local.en.PROCEDURES_CALL_BEFORE_PARAMS="with:",Local.en.PROCEDURES_CREATE_DO="Create '%1'",Local.en.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",Local.en.PROCEDURES_DEFNORETURN_DO="",Local.en.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Local.en.PROCEDURES_DEFNORETURN_PROCEDURE="do something",Local.en.PROCEDURES_DEFNORETURN_TITLE="to",Local.en.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",Local.en.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",Local.en.PROCEDURES_DEFRETURN_RETURN="return",Local.en.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",Local.en.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",Local.en.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",Local.en.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",Local.en.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",Local.en.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",Local.en.PROCEDURES_MUTATORARG_TITLE="input name:",Local.en.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",Local.en.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",Local.en.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",Local.en.PROCEDURE_ALREADY_EXISTS="A procedure named '%1' already exists.",Local.en.REDO="Redo",Local.en.REMOVE_COMMENT="Remove Comment",Local.en.RENAME_VARIABLE="Rename variable...",Local.en.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",Local.en.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",Local.en.TEXT_APPEND_TITLE="to %1 append text %2",Local.en.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",Local.en.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",Local.en.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",Local.en.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",Local.en.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",Local.en.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",Local.en.TEXT_CHARAT_FIRST="get first letter",Local.en.TEXT_CHARAT_FROM_END="get letter # from end",Local.en.TEXT_CHARAT_FROM_START="get letter #",Local.en.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",Local.en.TEXT_CHARAT_LAST="get last letter",Local.en.TEXT_CHARAT_RANDOM="get random letter",Local.en.TEXT_CHARAT_TAIL="",Local.en.TEXT_CHARAT_TITLE="in text %1 %2",Local.en.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",Local.en.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",Local.en.TEXT_COUNT_MESSAGE0="count %1 in %2",Local.en.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",Local.en.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",Local.en.TEXT_CREATE_JOIN_TITLE_JOIN="join",Local.en.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",Local.en.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",Local.en.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",Local.en.TEXT_GET_SUBSTRING_END_LAST="to last letter",Local.en.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",Local.en.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",Local.en.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",Local.en.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",Local.en.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",Local.en.TEXT_GET_SUBSTRING_TAIL="",Local.en.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",Local.en.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",Local.en.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",Local.en.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",Local.en.TEXT_INDEXOF_TITLE="in text %1 %2 %3",Local.en.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",Local.en.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",Local.en.TEXT_ISEMPTY_TITLE="%1 is empty",Local.en.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",Local.en.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",Local.en.TEXT_JOIN_TITLE_CREATEWITH="create text with",Local.en.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",Local.en.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",Local.en.TEXT_LENGTH_TITLE="length of %1",Local.en.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",Local.en.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",Local.en.TEXT_PRINT_TITLE="print %1",Local.en.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",Local.en.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",Local.en.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",Local.en.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",Local.en.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",Local.en.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",Local.en.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",Local.en.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",Local.en.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",Local.en.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",Local.en.TEXT_REVERSE_MESSAGE0="reverse %1",Local.en.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",Local.en.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",Local.en.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",Local.en.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",Local.en.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",Local.en.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",Local.en.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",Local.en.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",Local.en.TODAY="Today",Local.en.UNDO="Undo",Local.en.VARIABLES_DEFAULT_NAME="item",Local.en.VARIABLES_GET_CREATE_SET="Create 'set %1'",Local.en.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",Local.en.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",Local.en.VARIABLES_SET="set %1 to %2",Local.en.VARIABLES_SET_CREATE_GET="Create 'get %1'",Local.en.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",Local.en.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",Local.en.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",Local.en.PROCEDURES_DEFRETURN_TITLE=Local.en.PROCEDURES_DEFNORETURN_TITLE,Local.en.CONTROLS_IF_IF_TITLE_IF=Local.en.CONTROLS_IF_MSG_IF,Local.en.CONTROLS_WHILEUNTIL_INPUT_DO=Local.en.CONTROLS_REPEAT_INPUT_DO,Local.en.CONTROLS_IF_MSG_THEN=Local.en.CONTROLS_REPEAT_INPUT_DO,Local.en.CONTROLS_IF_ELSE_TITLE_ELSE=Local.en.CONTROLS_IF_MSG_ELSE,Local.en.PROCEDURES_DEFRETURN_PROCEDURE=Local.en.PROCEDURES_DEFNORETURN_PROCEDURE,Local.en.LISTS_GET_SUBLIST_INPUT_IN_LIST=Local.en.LISTS_INLIST,Local.en.LISTS_GET_INDEX_INPUT_IN_LIST=Local.en.LISTS_INLIST,Local.en.MATH_CHANGE_TITLE_ITEM=Local.en.VARIABLES_DEFAULT_NAME,Local.en.PROCEDURES_DEFRETURN_DO=Local.en.PROCEDURES_DEFNORETURN_DO,Local.en.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=Local.en.CONTROLS_IF_MSG_ELSEIF,Local.en.LISTS_GET_INDEX_HELPURL=Local.en.LISTS_INDEX_OF_HELPURL,Local.en.CONTROLS_FOREACH_INPUT_DO=Local.en.CONTROLS_REPEAT_INPUT_DO,Local.en.LISTS_SET_INDEX_INPUT_IN_LIST=Local.en.LISTS_INLIST,Local.en.CONTROLS_FOR_INPUT_DO=Local.en.CONTROLS_REPEAT_INPUT_DO,Local.en.LISTS_CREATE_WITH_ITEM_TITLE=Local.en.VARIABLES_DEFAULT_NAME,Local.en.TEXT_APPEND_VARIABLE=Local.en.VARIABLES_DEFAULT_NAME,Local.en.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=Local.en.VARIABLES_DEFAULT_NAME,Local.en.LISTS_INDEX_OF_INPUT_IN_LIST=Local.en.LISTS_INLIST,Local.en.PROCEDURES_DEFRETURN_COMMENT=Local.en.PROCEDURES_DEFNORETURN_COMMENT,Local.en.MATH_HUE="230",Local.en.LOOPS_HUE="120",Local.en.LISTS_HUE="260",Local.en.LOGIC_HUE="210",Local.en.VARIABLES_HUE="330",Local.en.TEXTS_HUE="160",Local.en.PROCEDURES_HUE="290",Local.en.COLOUR_HUE="20";
Local["zh-hans"].ADD_COMMENT="添加注释",Local["zh-hans"].CANNOT_DELETE_VARIABLE_PROCEDURE="不能删除变量“%1”，因为它是功能“%2”定义的一部分",Local["zh-hans"].CHANGE_VALUE_TITLE="更改值：",Local["zh-hans"].CLEAN_UP="整理块",Local["zh-hans"].COLLAPSE_ALL="折叠块",Local["zh-hans"].COLLAPSE_BLOCK="折叠块",Local["zh-hans"].COLOUR_BLEND_COLOUR1="颜色1",Local["zh-hans"].COLOUR_BLEND_COLOUR2="颜色2",Local["zh-hans"].COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",Local["zh-hans"].COLOUR_BLEND_RATIO="比例",Local["zh-hans"].COLOUR_BLEND_TITLE="混合",Local["zh-hans"].COLOUR_BLEND_TOOLTIP="用一个给定的比率(0.0-1.0)混合两种颜色。",Local["zh-hans"].COLOUR_PICKER_HELPURL="https://zh.wikipedia.org/wiki/颜色",Local["zh-hans"].COLOUR_PICKER_TOOLTIP="从调色板中选择一种颜色。",Local["zh-hans"].COLOUR_RANDOM_HELPURL="http://randomcolour.com",Local["zh-hans"].COLOUR_RANDOM_TITLE="随机颜色",Local["zh-hans"].COLOUR_RANDOM_TOOLTIP="随机选择一种颜色。",Local["zh-hans"].COLOUR_RGB_BLUE="蓝色",Local["zh-hans"].COLOUR_RGB_GREEN="绿色",Local["zh-hans"].COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",Local["zh-hans"].COLOUR_RGB_RED="红色",Local["zh-hans"].COLOUR_RGB_TITLE="颜色",Local["zh-hans"].COLOUR_RGB_TOOLTIP="通过指定红色、绿色和蓝色的量创建一种颜色。所有的值必须在0和100之间。",Local["zh-hans"].CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",Local["zh-hans"].CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="中断循环",Local["zh-hans"].CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="继续下一次循环",Local["zh-hans"].CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="中断包含它的循环。",Local["zh-hans"].CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="跳过这个循环的剩余部分，并继续下一次迭代。",Local["zh-hans"].CONTROLS_FLOW_STATEMENTS_WARNING="警告：此块仅可用于在一个循环内。",Local["zh-hans"].CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",Local["zh-hans"].CONTROLS_FOREACH_TITLE="为每个项目 %1 在列表中 %2",Local["zh-hans"].CONTROLS_FOREACH_TOOLTIP="遍历每个列表中的项目，将变量“%1”设定到该项中，然后执行某些语句。",Local["zh-hans"].CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",Local["zh-hans"].CONTROLS_FOR_TITLE="使用 %1 从范围 %2 到 %3 每隔 %4",Local["zh-hans"].CONTROLS_FOR_TOOLTIP="从起始数到结尾数中取出变量“%1”的值，按指定的时间间隔，执行指定的块。",Local["zh-hans"].CONTROLS_IF_ELSEIF_TOOLTIP="在if语句块中增加一个条件。",Local["zh-hans"].CONTROLS_IF_ELSE_TOOLTIP="添加一个最终的，包括所有情况的节到if块中。",Local["zh-hans"].CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",Local["zh-hans"].CONTROLS_IF_IF_TOOLTIP="增加、删除或重新排列各节来重新配置“if”块。",Local["zh-hans"].CONTROLS_IF_MSG_ELSE="否则",Local["zh-hans"].CONTROLS_IF_MSG_ELSEIF="否则如果",Local["zh-hans"].CONTROLS_IF_MSG_IF="如果",Local["zh-hans"].CONTROLS_IF_TOOLTIP_1="如果值为真，执行一些语句。",Local["zh-hans"].CONTROLS_IF_TOOLTIP_2="如果值为真，则执行第一块语句。否则，则执行第二块语句。",Local["zh-hans"].CONTROLS_IF_TOOLTIP_3="如果第一个值为真，则执行第一块的语句。否则，如果第二个值为真，则执行第二块的语句。",Local["zh-hans"].CONTROLS_IF_TOOLTIP_4="如果第一个值为真，则执行第一块对语句。否则，如果第二个值为真，则执行语句的第二块。如果没有值为真，则执行最后一块的语句。",Local["zh-hans"].CONTROLS_REPEAT_HELPURL="https://zh.wikipedia.org/wiki/For循环",Local["zh-hans"].CONTROLS_REPEAT_INPUT_DO="执行",Local["zh-hans"].CONTROLS_REPEAT_TITLE="重复 %1 次",Local["zh-hans"].CONTROLS_REPEAT_TOOLTIP="多次执行一些语句。",Local["zh-hans"].CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",Local["zh-hans"].CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="重复直到",Local["zh-hans"].CONTROLS_WHILEUNTIL_OPERATOR_WHILE="重复当",Local["zh-hans"].CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="只要值为假，执行一些语句。",Local["zh-hans"].CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="只要值为真，执行一些语句。",Local["zh-hans"].DELETE_ALL_BLOCKS="删除所有%1块吗？",Local["zh-hans"].DELETE_BLOCK="删除块",Local["zh-hans"].DELETE_VARIABLE="删除“%1”变量",Local["zh-hans"].DELETE_VARIABLE_CONFIRMATION="删除“%2”变量的%1用途么？",Local["zh-hans"].DELETE_X_BLOCKS="删除 %1 块",Local["zh-hans"].DISABLE_BLOCK="禁用块",Local["zh-hans"].DUPLICATE_BLOCK="复制",Local["zh-hans"].ENABLE_BLOCK="启用块",Local["zh-hans"].EXPAND_ALL="展开块",Local["zh-hans"].EXPAND_BLOCK="展开块",Local["zh-hans"].EXTERNAL_INPUTS="外部输入",Local["zh-hans"].HELP="帮助",Local["zh-hans"].INLINE_INPUTS="单行输入",Local["zh-hans"].IOS_CANCEL="取消",Local["zh-hans"].IOS_ERROR="错误",Local["zh-hans"].IOS_OK="确定",Local["zh-hans"].IOS_PROCEDURES_ADD_INPUT="+添加输入",Local["zh-hans"].IOS_PROCEDURES_ALLOW_STATEMENTS="允许声明",Local["zh-hans"].IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="此功能有重复输入内容。",Local["zh-hans"].IOS_PROCEDURES_INPUTS="输入",Local["zh-hans"].IOS_VARIABLES_ADD_BUTTON="添加",Local["zh-hans"].IOS_VARIABLES_ADD_VARIABLE="+添加变量",Local["zh-hans"].IOS_VARIABLES_DELETE_BUTTON="删除",Local["zh-hans"].IOS_VARIABLES_EMPTY_NAME_ERROR="您不能使用空变量名称。",Local["zh-hans"].IOS_VARIABLES_RENAME_BUTTON="重命名",Local["zh-hans"].IOS_VARIABLES_VARIABLE_NAME="变量名称",Local["zh-hans"].LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",Local["zh-hans"].LISTS_CREATE_EMPTY_TITLE="创建空列表",Local["zh-hans"].LISTS_CREATE_EMPTY_TOOLTIP="返回一个列表，长度为 0，不包含任何数据记录",Local["zh-hans"].LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="列表",Local["zh-hans"].LISTS_CREATE_WITH_CONTAINER_TOOLTIP="增加、删除或重新排列各部分以此重新配置这个列表块。",Local["zh-hans"].LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",Local["zh-hans"].LISTS_CREATE_WITH_INPUT_WITH="建立列表使用",Local["zh-hans"].LISTS_CREATE_WITH_ITEM_TOOLTIP="将一个项添加到列表中。",Local["zh-hans"].LISTS_CREATE_WITH_TOOLTIP="建立一个具有任意数量项目的列表。",Local["zh-hans"].LISTS_GET_INDEX_FIRST="第一",Local["zh-hans"].LISTS_GET_INDEX_FROM_END="倒数第#",Local["zh-hans"].LISTS_GET_INDEX_FROM_START="#",Local["zh-hans"].LISTS_GET_INDEX_GET="取得",Local["zh-hans"].LISTS_GET_INDEX_GET_REMOVE="取出并移除",Local["zh-hans"].LISTS_GET_INDEX_LAST="最后",Local["zh-hans"].LISTS_GET_INDEX_RANDOM="随机",Local["zh-hans"].LISTS_GET_INDEX_REMOVE="移除",Local["zh-hans"].LISTS_GET_INDEX_TAIL="空白",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_FIRST="返回列表中的第一个项目。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_FROM="返回在列表中的指定位置的项。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_LAST="返回列表中的最后一项。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="随机返回列表中的一个项目。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="移除并返回列表中的第一个项目。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="移除并返回列表中的指定位置的项。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="移除并返回列表中的最后一个项目。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="移除并返回列表中的一个随机项目中。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="移除列表中的第一项",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="移除在列表中的指定位置的项。",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="移除列表中的最后一项",Local["zh-hans"].LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="删除列表中的一个随机的项。",Local["zh-hans"].LISTS_GET_SUBLIST_END_FROM_END="到倒数第#",Local["zh-hans"].LISTS_GET_SUBLIST_END_FROM_START="到#",Local["zh-hans"].LISTS_GET_SUBLIST_END_LAST="到最后",Local["zh-hans"].LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",Local["zh-hans"].LISTS_GET_SUBLIST_START_FIRST="从头获得子列表",Local["zh-hans"].LISTS_GET_SUBLIST_START_FROM_END="从倒数#取得子列表",Local["zh-hans"].LISTS_GET_SUBLIST_START_FROM_START="从#取得子列表",Local["zh-hans"].LISTS_GET_SUBLIST_TAIL="空白",Local["zh-hans"].LISTS_GET_SUBLIST_TOOLTIP="复制列表中指定的部分。",Local["zh-hans"].LISTS_INDEX_FROM_END_TOOLTIP="%1是最后一项。",Local["zh-hans"].LISTS_INDEX_FROM_START_TOOLTIP="%1是第一个项目。",Local["zh-hans"].LISTS_INDEX_OF_FIRST="找出第一个项出现",Local["zh-hans"].LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",Local["zh-hans"].LISTS_INDEX_OF_LAST="找出最后一个项出现",Local["zh-hans"].LISTS_INDEX_OF_TOOLTIP="返回在列表中的第一/最后一个匹配项的索引值。如果找不到项目则返回%1。",Local["zh-hans"].LISTS_INLIST="在列表中",Local["zh-hans"].LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",Local["zh-hans"].LISTS_ISEMPTY_TITLE="%1是空的",Local["zh-hans"].LISTS_ISEMPTY_TOOLTIP="如果改列表为空，则返回真。",Local["zh-hans"].LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",Local["zh-hans"].LISTS_LENGTH_TITLE="%1的长度",Local["zh-hans"].LISTS_LENGTH_TOOLTIP="返回列表的长度。",Local["zh-hans"].LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",Local["zh-hans"].LISTS_REPEAT_TITLE="建立列表使用项 %1 重复 %2 次",Local["zh-hans"].LISTS_REPEAT_TOOLTIP="建立包含指定重复次数的值的列表。",Local["zh-hans"].LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",Local["zh-hans"].LISTS_REVERSE_MESSAGE0="倒转%1",Local["zh-hans"].LISTS_REVERSE_TOOLTIP="倒转一个列表的拷贝。",Local["zh-hans"].LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",Local["zh-hans"].LISTS_SET_INDEX_INPUT_TO="为",Local["zh-hans"].LISTS_SET_INDEX_INSERT="插入在",Local["zh-hans"].LISTS_SET_INDEX_SET="设置",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="在列表的起始处添加该项。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="插入在列表中指定位置的项。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="将该项追加到列表的末尾。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="在列表中随机插入项。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_SET_FIRST="设置列表中的第一个项目。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_SET_FROM="设置在列表中指定位置的项。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_SET_LAST="设置列表中的最后一项。",Local["zh-hans"].LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="设置列表中一个随机的项目。",Local["zh-hans"].LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",Local["zh-hans"].LISTS_SORT_ORDER_ASCENDING="升序",Local["zh-hans"].LISTS_SORT_ORDER_DESCENDING="降序",Local["zh-hans"].LISTS_SORT_TITLE="排序%1 %2 %3",Local["zh-hans"].LISTS_SORT_TOOLTIP="排序一个列表的拷贝。",Local["zh-hans"].LISTS_SORT_TYPE_IGNORECASE="按字母排序，忽略大小写",Local["zh-hans"].LISTS_SORT_TYPE_NUMERIC="按数字排序",Local["zh-hans"].LISTS_SORT_TYPE_TEXT="按字母排序",Local["zh-hans"].LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",Local["zh-hans"].LISTS_SPLIT_LIST_FROM_TEXT="从文本制作列表",Local["zh-hans"].LISTS_SPLIT_TEXT_FROM_LIST="从列表拆出文本",Local["zh-hans"].LISTS_SPLIT_TOOLTIP_JOIN="加入文本列表至一个文本，由分隔符分隔。",Local["zh-hans"].LISTS_SPLIT_TOOLTIP_SPLIT="拆分文本到文本列表，按每个分隔符拆分。",Local["zh-hans"].LISTS_SPLIT_WITH_DELIMITER="用分隔符",Local["zh-hans"].LOGIC_BOOLEAN_FALSE="假",Local["zh-hans"].LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",Local["zh-hans"].LOGIC_BOOLEAN_TOOLTIP="返回真或假。",Local["zh-hans"].LOGIC_BOOLEAN_TRUE="真",Local["zh-hans"].LOGIC_COMPARE_HELPURL="https://zh.wikipedia.org/wiki/不等",Local["zh-hans"].LOGIC_COMPARE_TOOLTIP_EQ="如果两个输入结果相等，则返回真。",Local["zh-hans"].LOGIC_COMPARE_TOOLTIP_GT="如果第一个输入结果比第二个大，则返回真。",Local["zh-hans"].LOGIC_COMPARE_TOOLTIP_GTE="如果第一个输入结果大于或等于第二个输入结果，则返回真。",Local["zh-hans"].LOGIC_COMPARE_TOOLTIP_LT="如果第一个输入结果比第二个小，则返回真。",Local["zh-hans"].LOGIC_COMPARE_TOOLTIP_LTE="如果第一个输入结果小于或等于第二个输入结果，则返回真。",Local["zh-hans"].LOGIC_COMPARE_TOOLTIP_NEQ="如果两个输入结果不相等，则返回真。",Local["zh-hans"].LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",Local["zh-hans"].LOGIC_NEGATE_TITLE="非%1",Local["zh-hans"].LOGIC_NEGATE_TOOLTIP="如果输入结果为假，则返回真；如果输入结果为真，则返回假。",Local["zh-hans"].LOGIC_NULL="空",Local["zh-hans"].LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",Local["zh-hans"].LOGIC_NULL_TOOLTIP="返回空值。",Local["zh-hans"].LOGIC_OPERATION_AND="和",Local["zh-hans"].LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",Local["zh-hans"].LOGIC_OPERATION_OR="或",Local["zh-hans"].LOGIC_OPERATION_TOOLTIP_AND="如果两个输入结果都为真，则返回真。",Local["zh-hans"].LOGIC_OPERATION_TOOLTIP_OR="如果至少有一个输入结果为真，则返回真。",Local["zh-hans"].LOGIC_TERNARY_CONDITION="测试",Local["zh-hans"].LOGIC_TERNARY_HELPURL="https://zh.wikipedia.org/wiki/条件运算符",Local["zh-hans"].LOGIC_TERNARY_IF_FALSE="如果为假",Local["zh-hans"].LOGIC_TERNARY_IF_TRUE="如果为真",Local["zh-hans"].LOGIC_TERNARY_TOOLTIP="检查“test”中的条件。如果条件为真，则返回“if true”的值，否则，则返回“if false”的值。",Local["zh-hans"].MATH_ADDITION_SYMBOL="+",Local["zh-hans"].MATH_ARITHMETIC_HELPURL="https://zh.wikipedia.org/wiki/算术",Local["zh-hans"].MATH_ARITHMETIC_TOOLTIP_ADD="返回两个数字的和。",Local["zh-hans"].MATH_ARITHMETIC_TOOLTIP_DIVIDE="返回两个数字的商。",Local["zh-hans"].MATH_ARITHMETIC_TOOLTIP_MINUS="返回两个数字的区别。",Local["zh-hans"].MATH_ARITHMETIC_TOOLTIP_MULTIPLY="返回两个数字的乘积。",Local["zh-hans"].MATH_ARITHMETIC_TOOLTIP_POWER="返回第一个数的第二个数次幂。",Local["zh-hans"].MATH_CHANGE_HELPURL="https://zh.wikipedia.org/wiki/加法",Local["zh-hans"].MATH_CHANGE_TITLE="更改 %1 从 %2",Local["zh-hans"].MATH_CHANGE_TOOLTIP="将一个数添加到变量“%1”。",Local["zh-hans"].MATH_CONSTANT_HELPURL="https://zh.wikipedia.org/wiki/数学常数",Local["zh-hans"].MATH_CONSTANT_TOOLTIP="返回一个常见常量：π (3.141…)、e (2.718…)、φ (1.618…)、平方根 (1.414…)、开平方根 (0.707…)或∞ (infinity)。",Local["zh-hans"].MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",Local["zh-hans"].MATH_CONSTRAIN_TITLE="限制数字 %1 介于 (低) %2 到 (高) %3",Local["zh-hans"].MATH_CONSTRAIN_TOOLTIP="限制数字介于两个指定的数字之间",Local["zh-hans"].MATH_DIVISION_SYMBOL="÷",Local["zh-hans"].MATH_IS_DIVISIBLE_BY="可被整除",Local["zh-hans"].MATH_IS_EVEN="是偶数",Local["zh-hans"].MATH_IS_NEGATIVE="为负",Local["zh-hans"].MATH_IS_ODD="是奇数",Local["zh-hans"].MATH_IS_POSITIVE="为正",Local["zh-hans"].MATH_IS_PRIME="是质数",Local["zh-hans"].MATH_IS_TOOLTIP="如果数字是偶数、奇数、非负整数、正数、负数或如果它可被某数字整除，则返回真或假。",Local["zh-hans"].MATH_IS_WHOLE="为整数",Local["zh-hans"].MATH_MODULO_HELPURL="https://zh.wikipedia.org/wiki/模除",Local["zh-hans"].MATH_MODULO_TITLE="取余数自 %1 ÷ %2",Local["zh-hans"].MATH_MODULO_TOOLTIP="返回这两个数字相除后的余数。",Local["zh-hans"].MATH_MULTIPLICATION_SYMBOL="×",Local["zh-hans"].MATH_NUMBER_HELPURL="https://zh.wikipedia.org/wiki/数",Local["zh-hans"].MATH_NUMBER_TOOLTIP="一个数字。",Local["zh-hans"].MATH_ONLIST_HELPURL="",Local["zh-hans"].MATH_ONLIST_OPERATOR_AVERAGE="列表中的平均数",Local["zh-hans"].MATH_ONLIST_OPERATOR_MAX="列表中的最大值",Local["zh-hans"].MATH_ONLIST_OPERATOR_MEDIAN="列表中位数",Local["zh-hans"].MATH_ONLIST_OPERATOR_MIN="列表中的最小值",Local["zh-hans"].MATH_ONLIST_OPERATOR_MODE="列表模式",Local["zh-hans"].MATH_ONLIST_OPERATOR_RANDOM="列表的随机项",Local["zh-hans"].MATH_ONLIST_OPERATOR_STD_DEV="列表中的标准差",Local["zh-hans"].MATH_ONLIST_OPERATOR_SUM="列表中的数的总和",Local["zh-hans"].MATH_ONLIST_TOOLTIP_AVERAGE="返回列表中的数值的平均值。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_MAX="返回列表中最大数。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_MEDIAN="返回列表中的中位数。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_MIN="返回列表中最小数。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_MODE="返回列表中的最常见的项的列表。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_RANDOM="从列表中返回一个随机的元素。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_STD_DEV="返回列表的标准偏差。",Local["zh-hans"].MATH_ONLIST_TOOLTIP_SUM="返回列表中的所有数字的和。",Local["zh-hans"].MATH_POWER_SYMBOL="^",Local["zh-hans"].MATH_RANDOM_FLOAT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",Local["zh-hans"].MATH_RANDOM_FLOAT_TITLE_RANDOM="随机分数",Local["zh-hans"].MATH_RANDOM_FLOAT_TOOLTIP="返回介于（包含）0.0到1.0之间的随机数。",Local["zh-hans"].MATH_RANDOM_INT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",Local["zh-hans"].MATH_RANDOM_INT_TITLE="从 %1 到 %2 之间的随机整数",Local["zh-hans"].MATH_RANDOM_INT_TOOLTIP="返回两个指定的范围（含）之间的随机整数。",Local["zh-hans"].MATH_ROUND_HELPURL="https://zh.wikipedia.org/wiki/数值修约",Local["zh-hans"].MATH_ROUND_OPERATOR_ROUND="向下舍入",Local["zh-hans"].MATH_ROUND_OPERATOR_ROUNDDOWN="向下舍入",Local["zh-hans"].MATH_ROUND_OPERATOR_ROUNDUP="向上舍入",Local["zh-hans"].MATH_ROUND_TOOLTIP="数字向上或向下舍入。",Local["zh-hans"].MATH_SINGLE_HELPURL="https://zh.wikipedia.org/wiki/平方根",Local["zh-hans"].MATH_SINGLE_OP_ABSOLUTE="绝对",Local["zh-hans"].MATH_SINGLE_OP_ROOT="平方根",Local["zh-hans"].MATH_SINGLE_TOOLTIP_ABS="返回一个数的绝对值。",Local["zh-hans"].MATH_SINGLE_TOOLTIP_EXP="返回一个数的e次幂。",Local["zh-hans"].MATH_SINGLE_TOOLTIP_LN="返回一个数的自然对数。",Local["zh-hans"].MATH_SINGLE_TOOLTIP_LOG10="返回一个数的对数。",Local["zh-hans"].MATH_SINGLE_TOOLTIP_NEG="返回一个数的逻辑非。",Local["zh-hans"].MATH_SINGLE_TOOLTIP_POW10="返回一个数的10次幂。",Local["zh-hans"].MATH_SINGLE_TOOLTIP_ROOT="返回一个数的平方根。",Local["zh-hans"].MATH_SUBTRACTION_SYMBOL="-",Local["zh-hans"].MATH_TRIG_ACOS="acos",Local["zh-hans"].MATH_TRIG_ASIN="asin",Local["zh-hans"].MATH_TRIG_ATAN="atan",Local["zh-hans"].MATH_TRIG_COS="cos",Local["zh-hans"].MATH_TRIG_HELPURL="https://zh.wikipedia.org/wiki/三角函数",Local["zh-hans"].MATH_TRIG_SIN="sin",Local["zh-hans"].MATH_TRIG_TAN="tan",Local["zh-hans"].MATH_TRIG_TOOLTIP_ACOS="返回一个数的反余弦值。",Local["zh-hans"].MATH_TRIG_TOOLTIP_ASIN="返回一个数的反正弦值。",Local["zh-hans"].MATH_TRIG_TOOLTIP_ATAN="返回指定角度的反正切值。",Local["zh-hans"].MATH_TRIG_TOOLTIP_COS="返回指定角度的余弦值(非弧度）。",Local["zh-hans"].MATH_TRIG_TOOLTIP_SIN="返回指定角度的正弦值(非弧度）。",Local["zh-hans"].MATH_TRIG_TOOLTIP_TAN="返回指定角度的正切值(非弧度）。",Local["zh-hans"].NEW_VARIABLE="创建变量...",Local["zh-hans"].NEW_VARIABLE_TITLE="新变量的名称：",Local["zh-hans"].ORDINAL_NUMBER_SUFFIX="空白",Local["zh-hans"].PROCEDURES_ALLOW_STATEMENTS="允许声明",Local["zh-hans"].PROCEDURES_BEFORE_PARAMS="与：",Local["zh-hans"].PROCEDURES_CALLNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",Local["zh-hans"].PROCEDURES_CALLNORETURN_TOOLTIP="运行用户定义的函数“%1”。",Local["zh-hans"].PROCEDURES_CALLRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",Local["zh-hans"].PROCEDURES_CALLRETURN_TOOLTIP="运行用户定义的函数“%1”，并使用它的输出值。",Local["zh-hans"].PROCEDURES_CALL_BEFORE_PARAMS="与：",Local["zh-hans"].PROCEDURES_CREATE_DO="创建“%1”",Local["zh-hans"].PROCEDURES_DEFNORETURN_COMMENT="描述该功能...",Local["zh-hans"].PROCEDURES_DEFNORETURN_DO="空白",Local["zh-hans"].PROCEDURES_DEFNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",Local["zh-hans"].PROCEDURES_DEFNORETURN_PROCEDURE="做点什么",Local["zh-hans"].PROCEDURES_DEFNORETURN_TITLE="至",Local["zh-hans"].PROCEDURES_DEFNORETURN_TOOLTIP="创建一个不带输出值的函数。",Local["zh-hans"].PROCEDURES_DEFRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",Local["zh-hans"].PROCEDURES_DEFRETURN_RETURN="返回",Local["zh-hans"].PROCEDURES_DEFRETURN_TOOLTIP="创建一个有输出值的函数。",Local["zh-hans"].PROCEDURES_DEF_DUPLICATE_WARNING="警告: 此函数具有重复参数。",Local["zh-hans"].PROCEDURES_HIGHLIGHT_DEF="突出显示函数定义",Local["zh-hans"].PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",Local["zh-hans"].PROCEDURES_IFRETURN_TOOLTIP="如果值为真，则返回第二个值。",Local["zh-hans"].PROCEDURES_IFRETURN_WARNING="警告: 仅在定义函数内可使用此块。",Local["zh-hans"].PROCEDURES_MUTATORARG_TITLE="输入名称：",Local["zh-hans"].PROCEDURES_MUTATORARG_TOOLTIP="添加函数输入。",Local["zh-hans"].PROCEDURES_MUTATORCONTAINER_TITLE="输入",Local["zh-hans"].PROCEDURES_MUTATORCONTAINER_TOOLTIP="添加、删除或重新排此函数的输入。",Local["zh-hans"].PROCEDURE_ALREADY_EXISTS="A procedure named '%1' already exists.",Local["zh-hans"].REDO="重做",Local["zh-hans"].REMOVE_COMMENT="删除注释",Local["zh-hans"].RENAME_VARIABLE="重命名变量...",Local["zh-hans"].RENAME_VARIABLE_TITLE="将所有“%1”变量重命名为:",Local["zh-hans"].TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",Local["zh-hans"].TEXT_APPEND_TITLE="to %1 append text %2",Local["zh-hans"].TEXT_APPEND_TOOLTIP="将一些文本追加到变量“%1”。",Local["zh-hans"].TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",Local["zh-hans"].TEXT_CHANGECASE_OPERATOR_LOWERCASE="转为小写",Local["zh-hans"].TEXT_CHANGECASE_OPERATOR_TITLECASE="将首字母大写",Local["zh-hans"].TEXT_CHANGECASE_OPERATOR_UPPERCASE="转为大写",Local["zh-hans"].TEXT_CHANGECASE_TOOLTIP="在不同大小写下复制并返回这段文字。",Local["zh-hans"].TEXT_CHARAT_FIRST="获得第一个字符",Local["zh-hans"].TEXT_CHARAT_FROM_END="获得倒数第#个字符",Local["zh-hans"].TEXT_CHARAT_FROM_START="获得字符#",Local["zh-hans"].TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",Local["zh-hans"].TEXT_CHARAT_LAST="获得最后一个字符",Local["zh-hans"].TEXT_CHARAT_RANDOM="获取随机的字母",Local["zh-hans"].TEXT_CHARAT_TAIL="空白",Local["zh-hans"].TEXT_CHARAT_TITLE="在文本%1 %2中",Local["zh-hans"].TEXT_CHARAT_TOOLTIP="返回位于指定位置的字母。",Local["zh-hans"].TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",Local["zh-hans"].TEXT_COUNT_MESSAGE0="将%1计算在%2之内",Local["zh-hans"].TEXT_COUNT_TOOLTIP="计算在一些其他文本中，部分文本重现了多少次。",Local["zh-hans"].TEXT_CREATE_JOIN_ITEM_TOOLTIP="将一个项添加到文本中。",Local["zh-hans"].TEXT_CREATE_JOIN_TITLE_JOIN="加入",Local["zh-hans"].TEXT_CREATE_JOIN_TOOLTIP="添加、移除或重新排列各节来重新配置这个文本块。",Local["zh-hans"].TEXT_GET_SUBSTRING_END_FROM_END="到倒数第#个字符",Local["zh-hans"].TEXT_GET_SUBSTRING_END_FROM_START="到字符#",Local["zh-hans"].TEXT_GET_SUBSTRING_END_LAST="到最后一个字符",Local["zh-hans"].TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",Local["zh-hans"].TEXT_GET_SUBSTRING_INPUT_IN_TEXT="自文本",Local["zh-hans"].TEXT_GET_SUBSTRING_START_FIRST="取得一段字串自第一个字符",Local["zh-hans"].TEXT_GET_SUBSTRING_START_FROM_END="取得一段字串自倒数第#个字符",Local["zh-hans"].TEXT_GET_SUBSTRING_START_FROM_START="取得一段字串自#",Local["zh-hans"].TEXT_GET_SUBSTRING_TAIL="空白",Local["zh-hans"].TEXT_GET_SUBSTRING_TOOLTIP="返回指定的部分文本。",Local["zh-hans"].TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",Local["zh-hans"].TEXT_INDEXOF_OPERATOR_FIRST="寻找第一个出现的文本",Local["zh-hans"].TEXT_INDEXOF_OPERATOR_LAST="寻找最后一个出现的文本",Local["zh-hans"].TEXT_INDEXOF_TITLE="在文本%1 %2 %3中",Local["zh-hans"].TEXT_INDEXOF_TOOLTIP="返回在第二个字串中的第一/最后一个匹配项的索引值。如果未找到则返回%1。",Local["zh-hans"].TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",Local["zh-hans"].TEXT_ISEMPTY_TITLE="%1是空的",Local["zh-hans"].TEXT_ISEMPTY_TOOLTIP="如果提供的文本为空，则返回真。",Local["zh-hans"].TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",Local["zh-hans"].TEXT_JOIN_TITLE_CREATEWITH="建立字串使用",Local["zh-hans"].TEXT_JOIN_TOOLTIP="通过串起任意数量的项以建立一段文字。",Local["zh-hans"].TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",Local["zh-hans"].TEXT_LENGTH_TITLE="%1的长度",Local["zh-hans"].TEXT_LENGTH_TOOLTIP="返回提供文本的字母数（包括空格）。",Local["zh-hans"].TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",Local["zh-hans"].TEXT_PRINT_TITLE="打印%1",Local["zh-hans"].TEXT_PRINT_TOOLTIP="打印指定的文字、数字或其他值。",Local["zh-hans"].TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",Local["zh-hans"].TEXT_PROMPT_TOOLTIP_NUMBER="提示用户输入数字。",Local["zh-hans"].TEXT_PROMPT_TOOLTIP_TEXT="提示用户输入一些文本。",Local["zh-hans"].TEXT_PROMPT_TYPE_NUMBER="输入数字并显示提示消息",Local["zh-hans"].TEXT_PROMPT_TYPE_TEXT="输入数字并显示提示消息",Local["zh-hans"].TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",Local["zh-hans"].TEXT_REPLACE_MESSAGE0="在%3中，将%1替换为%2",Local["zh-hans"].TEXT_REPLACE_TOOLTIP="在某些其他文本中，替换部分文本的所有事件。",Local["zh-hans"].TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",Local["zh-hans"].TEXT_REVERSE_MESSAGE0="倒转%1",Local["zh-hans"].TEXT_REVERSE_TOOLTIP="倒转文本中字符的排序。",Local["zh-hans"].TEXT_TEXT_HELPURL="https://zh.wikipedia.org/wiki/字符串",Local["zh-hans"].TEXT_TEXT_TOOLTIP="一个字母、单词或一行文本。",Local["zh-hans"].TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",Local["zh-hans"].TEXT_TRIM_OPERATOR_BOTH="消除两侧空格",Local["zh-hans"].TEXT_TRIM_OPERATOR_LEFT="消除左侧空格",Local["zh-hans"].TEXT_TRIM_OPERATOR_RIGHT="消除右侧空格",Local["zh-hans"].TEXT_TRIM_TOOLTIP="复制这段文字的同时删除两端多余的空格。",Local["zh-hans"].TODAY="今天",Local["zh-hans"].UNDO="撤销",Local["zh-hans"].VARIABLES_DEFAULT_NAME="项目",Local["zh-hans"].VARIABLES_GET_CREATE_SET="创建“设定%1”",Local["zh-hans"].VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",Local["zh-hans"].VARIABLES_GET_TOOLTIP="返回此变量的值。",Local["zh-hans"].VARIABLES_SET="赋值 %1 到 %2",Local["zh-hans"].VARIABLES_SET_CREATE_GET="创建“获得%1”",Local["zh-hans"].VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",Local["zh-hans"].VARIABLES_SET_TOOLTIP="设置此变量，以使它和输入值相等。",Local["zh-hans"].VARIABLE_ALREADY_EXISTS="已存在名为“%1”的变量。",Local["zh-hans"].PROCEDURES_DEFRETURN_TITLE=Local["zh-hans"].PROCEDURES_DEFNORETURN_TITLE,Local["zh-hans"].CONTROLS_IF_IF_TITLE_IF=Local["zh-hans"].CONTROLS_IF_MSG_IF,Local["zh-hans"].CONTROLS_WHILEUNTIL_INPUT_DO=Local["zh-hans"].CONTROLS_REPEAT_INPUT_DO,Local["zh-hans"].CONTROLS_IF_MSG_THEN=Local["zh-hans"].CONTROLS_REPEAT_INPUT_DO,Local["zh-hans"].CONTROLS_IF_ELSE_TITLE_ELSE=Local["zh-hans"].CONTROLS_IF_MSG_ELSE,Local["zh-hans"].PROCEDURES_DEFRETURN_PROCEDURE=Local["zh-hans"].PROCEDURES_DEFNORETURN_PROCEDURE,Local["zh-hans"].LISTS_GET_SUBLIST_INPUT_IN_LIST=Local["zh-hans"].LISTS_INLIST,Local["zh-hans"].LISTS_GET_INDEX_INPUT_IN_LIST=Local["zh-hans"].LISTS_INLIST,Local["zh-hans"].MATH_CHANGE_TITLE_ITEM=Local["zh-hans"].VARIABLES_DEFAULT_NAME,Local["zh-hans"].PROCEDURES_DEFRETURN_DO=Local["zh-hans"].PROCEDURES_DEFNORETURN_DO,Local["zh-hans"].CONTROLS_IF_ELSEIF_TITLE_ELSEIF=Local["zh-hans"].CONTROLS_IF_MSG_ELSEIF,Local["zh-hans"].LISTS_GET_INDEX_HELPURL=Local["zh-hans"].LISTS_INDEX_OF_HELPURL,Local["zh-hans"].CONTROLS_FOREACH_INPUT_DO=Local["zh-hans"].CONTROLS_REPEAT_INPUT_DO,Local["zh-hans"].LISTS_SET_INDEX_INPUT_IN_LIST=Local["zh-hans"].LISTS_INLIST,Local["zh-hans"].CONTROLS_FOR_INPUT_DO=Local["zh-hans"].CONTROLS_REPEAT_INPUT_DO,Local["zh-hans"].LISTS_CREATE_WITH_ITEM_TITLE=Local["zh-hans"].VARIABLES_DEFAULT_NAME,Local["zh-hans"].TEXT_APPEND_VARIABLE=Local["zh-hans"].VARIABLES_DEFAULT_NAME,Local["zh-hans"].TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=Local["zh-hans"].VARIABLES_DEFAULT_NAME,Local["zh-hans"].LISTS_INDEX_OF_INPUT_IN_LIST=Local["zh-hans"].LISTS_INLIST,Local["zh-hans"].PROCEDURES_DEFRETURN_COMMENT=Local["zh-hans"].PROCEDURES_DEFNORETURN_COMMENT,Local["zh-hans"].MATH_HUE="230",Local["zh-hans"].LOOPS_HUE="120",Local["zh-hans"].LISTS_HUE="260",Local["zh-hans"].LOGIC_HUE="210",Local["zh-hans"].VARIABLES_HUE="330",Local["zh-hans"].TEXTS_HUE="160",Local["zh-hans"].PROCEDURES_HUE="290",Local["zh-hans"].COLOUR_HUE="20";
Local.en.MSG.catBasic="Basic",Local.en.BASIC_START_TITLE1="Start",Local.en.BASIC_START_TOOLTIP="Start function",Local.en.BASIC_FOREVER_TITLE1="Forever",Local.en.BASIC_FOREVER_TOOLTIP="Forever function",Local.en.BASIC_PRINT_TITLE1="print",Local.en.BASIC_PRINT_TOOLTIP="Print message over the Air",Local.en.BASIC_DELAY_TITLE1="delay",Local.en.BASIC_DELAY_TOOLTIP="delay in milisecond",Local.en.COLOUR_CONSTANTS_COLORS_RED="red",Local.en.COLOUR_CONSTANTS_COLORS_GREEN="green",Local.en.COLOUR_CONSTANTS_COLORS_BLUE="blue",Local.en.COLOUR_GET_COLOUR_FROM_TITLE1="get",Local.en.COLOUR_GET_COLOUR_FROM_TITLE2="value from",Local.en.COLOUR_GET_COLOUR_FROM_TOOLTIP="Get R/G/B Value from a colour";
Local["zh-hans"].MSG.catBasic="基础",Local["zh-hans"].BASIC_START_TITLE1="开始",Local["zh-hans"].BASIC_START_TOOLTIP="把只在开始时运行的模块放这里",Local["zh-hans"].BASIC_FOREVER_TITLE1="循环",Local["zh-hans"].BASIC_FOREVER_TOOLTIP="把需要循环运行的模块放这里",Local["zh-hans"].BASIC_PRINT_TITLE1="打印",Local["zh-hans"].BASIC_PRINT_TOOLTIP="打印调试信息",Local["zh-hans"].BASIC_DELAY_TITLE1="延时",Local["zh-hans"].BASIC_DELAY_TOOLTIP="延时，毫秒为单位",Local["zh-hans"].COLOUR_CONSTANTS_COLORS_RED="红色",Local["zh-hans"].COLOUR_CONSTANTS_COLORS_GREEN="绿色",Local["zh-hans"].COLOUR_CONSTANTS_COLORS_BLUE="蓝色",Local["zh-hans"].COLOUR_GET_COLOUR_FROM_TITLE1="获取",Local["zh-hans"].COLOUR_GET_COLOUR_FROM_TITLE2="值来自",Local["zh-hans"].COLOUR_GET_COLOUR_FROM_TOOLTIP="从颜色里获取 红色/绿色/蓝色 值";
Local.en.MSG.catIot="IoT",Local.en.IOT_POST_VALUE_TITLE="post",Local.en.IOT_POST_VALUE_TOOLTIP="Post actuators value.",Local.en.IOT_GET_VALUE_TITLE1="get",Local.en.IOT_GET_VALUE_TITLE2="value",Local.en.IOT_GET_VALUE_TOOLTIP="get sensors value.";
Local["zh-hans"].MSG.catIot="物联网",Local["zh-hans"].IOT_POST_VALUE_TITLE="上传",Local["zh-hans"].IOT_POST_VALUE_TOOLTIP="上传执行器的值",Local["zh-hans"].IOT_GET_VALUE_TITLE1="获取",Local["zh-hans"].IOT_GET_VALUE_TITLE2="值",Local["zh-hans"].IOT_GET_VALUE_TOOLTIP="获取传感器的值";
Local.en.MSG.catMusic="Music",Local.en.MUSIC_NOTES_TOOLTIP="Returns the frequency of the note in hz",Local.en.MUSIC_BEAT_TITLE1="beat",Local.en.MUSIC_BEAT_TOOLTIP="Returns the duration of a beat in milisecond",Local.en.MUSIC_SET_TEMPO_TITLE1="set tempo to",Local.en.MUSIC_SET_TEMPO_TITLE2="bpm",Local.en.MUSIC_SET_TEMPO_TOOLTIP="Set tempo in bpm(beats per minute)";
Local["zh-hans"].MSG.catMusic="音乐",Local["zh-hans"].MUSIC_NOTES_TOOLTIP="返回相应音符的频率（hz）",Local["zh-hans"].MUSIC_BEAT_TITLE1="个节拍",Local["zh-hans"].MUSIC_BEAT_TOOLTIP="返回相应节拍的时间（ms）",Local["zh-hans"].MUSIC_SET_TEMPO_TITLE1="设置音乐速度为",Local["zh-hans"].MUSIC_SET_TEMPO_TITLE2="bpm",Local["zh-hans"].MUSIC_SET_TEMPO_TOOLTIP="设置音乐速度 bpm(每分钟节拍数)";
Local.en.MSG.catRemote="Remote",Local.en.REMOTE_NOT_IN_LOOP_WARNING='Controller block should be in "read from loop"',Local.en.REMOTE_READ_FROM_TITLE1="read from remote",Local.en.REMOTE_READ_FROM_TOOLTIP="read value from remote",Local.en.REMOTE_JOYSTICK_GET_VALUE_TITLE1="Joystick",Local.en.REMOTE_JOYSTICK_GET_VALUE_TITLE2="get",Local.en.REMOTE_JOYSTICK_GET_VALUE_TITLE3="value",Local.en.REMOTE_JOYSTICK_GET_VALUE_TOOLTIP="get joystick x/y value",Local.en.REMOTE_SLIDER_GET_VALUE_TITLE1="Slider",Local.en.REMOTE_SLIDER_GET_VALUE_TITLE2="get value",Local.en.REMOTE_SLIDER_GET_VALUE_TOOLTIP="slider get value",Local.en.REMOTE_DPAD_GET_DIRECTION_TITLE1="D-pad",Local.en.REMOTE_DPAD_GET_DIRECTION_TITLE2="get",Local.en.REMOTE_DPAD_GET_DIRECTION_TITLE3="value",Local.en.REMOTE_DPAD_GET_DIRECTION_TOOLTIP="get dpad diretion",Local.en.REMOTE_BUTTON_GET_VALUE_TITLE1="Button",Local.en.REMOTE_BUTTON_GET_VALUE_TITLE2="get value",Local.en.REMOTE_BUTTON_GET_VALUE_TOOLTIP="get button value",Local.en.REMOTE_SWITCH_GET_VALUE_TITLE1="Switch",Local.en.REMOTE_SWITCH_GET_VALUE_TITLE2="get value",Local.en.REMOTE_SWITCH_GET_VALUE_TOOLTIP="get switch value";
Local["zh-hans"].MSG.catRemote="远程遥控",Local["zh-hans"].REMOTE_NOT_IN_LOOP_WARNING='遥控器模块需要放在"从遥控器读"的代码块里面',Local["zh-hans"].REMOTE_READ_FROM_TITLE1="从遥控器读",Local["zh-hans"].REMOTE_READ_FROM_TOOLTIP="从遥控器读",Local["zh-hans"].REMOTE_JOYSTICK_GET_VALUE_TITLE1="摇杆",Local["zh-hans"].REMOTE_JOYSTICK_GET_VALUE_TITLE2="获取",Local["zh-hans"].REMOTE_JOYSTICK_GET_VALUE_TITLE3="值",Local["zh-hans"].REMOTE_JOYSTICK_GET_VALUE_TOOLTIP="获取摇杆x/y的值",Local["zh-hans"].REMOTE_SLIDER_GET_VALUE_TITLE1="滑条",Local["zh-hans"].REMOTE_SLIDER_GET_VALUE_TITLE2="获取值",Local["zh-hans"].REMOTE_SLIDER_GET_VALUE_TOOLTIP="获取滑条的值",Local["zh-hans"].REMOTE_DPAD_GET_DIRECTION_TITLE1="方向盘",Local["zh-hans"].REMOTE_DPAD_GET_DIRECTION_TITLE2="获取",Local["zh-hans"].REMOTE_DPAD_GET_DIRECTION_TITLE3="值",Local["zh-hans"].REMOTE_DPAD_GET_DIRECTION_TOOLTIP="获取方向盘的值",Local["zh-hans"].REMOTE_BUTTON_GET_VALUE_TITLE1="按键",Local["zh-hans"].REMOTE_BUTTON_GET_VALUE_TITLE2="获取值",Local["zh-hans"].REMOTE_BUTTON_GET_VALUE_TOOLTIP="获取按键的值",Local["zh-hans"].REMOTE_SWITCH_GET_VALUE_TITLE1="开关",Local["zh-hans"].REMOTE_SWITCH_GET_VALUE_TITLE2="获取值",Local["zh-hans"].REMOTE_SWITCH_GET_VALUE_TOOLTIP="获取开关值";
Local.en.MSG.catTime="Time",Local.en.TIME_LOCALTIME_TITLE1="convert seconds",Local.en.TIME_LOCALTIME_TITLE2="to localtime",Local.en.TIME_LOCALTIME_TOOLTIP="Convert a time expressed in seconds since the Epoch (see above) into       an 8-tuple which contains: (year, month, mday, hour, minute, second, weekday, yearday) \n      If secs is not provided or None, then the current time from the RTC is used. \n      year includes the century (for example 2014). \n      month is 1-12 \n      mday is 1-31 \n      hour is 0-23 \n      minute is 0-59 \n      second is 0-59 \n      weekday is 0-6 for Mon-Sun \n      yearday is 1-366",Local.en.TIME_MKTIME_TITLE1="convert localtime",Local.en.TIME_MKTIME_TITLE2="to seconds",Local.en.TIME_MKTIME_TOOLTIP="This is inverse function of localtime.       It’s argument is a full 8-tuple which expresses a time as per localtime.       It returns an integer which is the number of seconds since Jan 1, 2000. \n      year includes the century (for example 2014). \n      month is 1-12 \n      mday is 1-31 \n      hour is 0-23 \n      minute is 0-59 \n      second is 0-59 \n      weekday is 0-6 for Mon-Sun \n      yearday is 1-366",Local.en.TIME_SLEEP_TITLE1="sleep",Local.en.TIME_SLEEP_TITLE2="seconds",Local.en.TIME_SLEEP_TOOLTIP="Sleep for the given number of seconds.       Some boards may accept seconds as a floating-point number to sleep for a fractional number of seconds.       Note that other boards may not accept a floating-point argument, for compatibility with them use sleep_ms() and sleep_us() functions.",Local.en.TIME_SLEEP_MS_TITLE1="sleep",Local.en.TIME_SLEEP_MS_TITLE2="milliseconds",Local.en.TIME_SLEEP_MS_TOOLTIP="Delay for given number of milliseconds, should be positive or 0.",Local.en.TIME_SLEEP_US_TITLE1="sleep",Local.en.TIME_SLEEP_US_TITLE2="microseconds",Local.en.TIME_SLEEP_US_TOOLTIP="Delay for given number of microseconds, should be positive or 0.",Local.en.TIME_TICKS_MS_TITLE="ticks ms (milliseconds)",Local.en.TIME_TICKS_MS_TOOLTIP="Returns an increasing millisecond counter with an arbitrary reference point,       that wraps around after some value.\n      The wrap-around value is not explicitly exposed, but we will refer to it as TICKS_MAX to simplify discussion.       Period of the values is TICKS_PERIOD = TICKS_MAX + 1.       TICKS_PERIOD is guaranteed to be a power of two, but otherwise may differ from port to port.       The same period value is used for all of ticks_ms(), ticks_us(), ticks_cpu() functions (for simplicity).       Thus, these functions will return a value in range [0 .. TICKS_MAX], inclusive, total TICKS_PERIOD values.       Note that only non-negative values are used.       For the most part, you should treat values returned by these functions as opaque.       The only operations available for them are ticks_diff() and ticks_add() functions described below.      Note: Performing standard mathematical operations (+, -) or relational operators (<, <=, >, >=)       directly on these value will lead to invalid result.       Performing mathematical operations and then passing their results as arguments to ticks_diff() or ticks_add() will also lead to invalid results from the latter functions.",Local.en.TIME_TICKS_US_TITLE="ticks us (microseconds)",Local.en.TIME_TICKS_US_TOOLTIP="Returns an increasing microsecond counter with an arbitrary reference point,       that wraps around after some value.\n      The wrap-around value is not explicitly exposed, but we will refer to it as TICKS_MAX to simplify discussion.       Period of the values is TICKS_PERIOD = TICKS_MAX + 1.       TICKS_PERIOD is guaranteed to be a power of two, but otherwise may differ from port to port.       The same period value is used for all of ticks_ms(), ticks_us(), ticks_cpu() functions (for simplicity).       Thus, these functions will return a value in range [0 .. TICKS_MAX], inclusive, total TICKS_PERIOD values.       Note that only non-negative values are used.       For the most part, you should treat values returned by these functions as opaque.       The only operations available for them are ticks_diff() and ticks_add() functions described below.      Note: Performing standard mathematical operations (+, -) or relational operators (<, <=, >, >=)       directly on these value will lead to invalid result.       Performing mathematical operations and then passing their results as arguments to ticks_diff() or ticks_add() will also lead to invalid results from the latter functions.",Local.en.TIME_TICKS_CPU_TITLE="ticks CPU ",Local.en.TIME_TICKS_CPU_TOOLTIP="Similar to ticks_ms() and ticks_us(), but with the highest possible resolution in the system.       This is usually CPU clocks, and that’s why the function is named that way.       But it doesn’t have to be a CPU clock, some other timing source available in a system (e.g. high-resolution timer) can be used instead.       The exact timing unit (resolution) of this function is not specified on time module level, but documentation for a specific port may provide more specific information.       This function is intended for very fine benchmarking or very tight real-time loops.       Avoid using it in portable code.\n      Availability: Not every port implements this function.",Local.en.TIME_TICKS_ADD_TITLE1="add a ticks",Local.en.TIME_TICKS_ADD_TITLE2="with delta",Local.en.TIME_TICKS_ADD_TOOLTIP="Offset ticks value by a given number, which can be either positive or negative.       Given a ticks value, this function allows to calculate ticks value delta ticks before or after it,       following modular-arithmetic definition of tick values (see ticks_ms() above).       ticks parameter must be a direct result of call to ticks_ms(), ticks_us(), or ticks_cpu() functions (or from previous call to ticks_add()).       However, delta can be an arbitrary integer number or numeric expression. ticks_add() is useful for calculating deadlines for events/tasks.       (Note: you must use ticks_diff() function to work with deadlines.)",Local.en.TIME_TICKS_DIFF_TITLE1="ticks diff between",Local.en.TIME_TICKS_DIFF_TITLE2="and",Local.en.TIME_TICKS_DIFF_TOOLTIP="Measure ticks difference between values returned from ticks_ms(), ticks_us(), or ticks_cpu() functions,       as a signed value which may wrap around.",Local.en.TIME_TIME_TITLE="time",Local.en.TIME_TIME_TOOLTIP="Returns the number of seconds, as an integer, since the Epoch, assuming that underlying RTC is set and maintained as described above.       If an RTC is not set, this function returns number of seconds since a port-specific reference point in time (for embedded boards without a battery-backed RTC, usually since power up or reset).       If you want to develop portable MicroPython application, you should not rely on this function to provide higher than second precision.       If you need higher precision, use ticks_ms() and ticks_us() functions, if you need calendar time, localtime() without an argument is a better choice.";
Local["zh-hans"].MSG.catTime="时间",Local["zh-hans"].TIME_LOCALTIME_TITLE1="转化秒",Local["zh-hans"].TIME_LOCALTIME_TITLE2="为本地时间",Local["zh-hans"].TIME_LOCALTIME_TOOLTIP="Convert a time expressed in seconds since the Epoch (see above) into       an 8-tuple which contains: (year, month, mday, hour, minute, second, weekday, yearday) \n      If secs is not provided or None, then the current time from the RTC is used. \n      year includes the century (for example 2014). \n      month is 1-12 \n      mday is 1-31 \n      hour is 0-23 \n      minute is 0-59 \n      second is 0-59 \n      weekday is 0-6 for Mon-Sun \n      yearday is 1-366",Local["zh-hans"].TIME_MKTIME_TITLE1="转化本地时间",Local["zh-hans"].TIME_MKTIME_TITLE2="为秒",Local["zh-hans"].TIME_MKTIME_TOOLTIP="This is inverse function of localtime.       It’s argument is a full 8-tuple which expresses a time as per localtime.       It returns an integer which is the number of seconds since Jan 1, 2000. \n      year includes the century (for example 2014). \n      month is 1-12 \n      mday is 1-31 \n      hour is 0-23 \n      minute is 0-59 \n      second is 0-59 \n      weekday is 0-6 for Mon-Sun \n      yearday is 1-366",Local["zh-hans"].TIME_SLEEP_TITLE1="睡眠",Local["zh-hans"].TIME_SLEEP_TITLE2="秒",Local["zh-hans"].TIME_SLEEP_TOOLTIP="Sleep for the given number of seconds.       Some boards may accept seconds as a floating-point number to sleep for a fractional number of seconds.       Note that other boards may not accept a floating-point argument, for compatibility with them use sleep_ms() and sleep_us() functions.",Local["zh-hans"].TIME_SLEEP_MS_TITLE1="睡眠",Local["zh-hans"].TIME_SLEEP_MS_TITLE2="毫秒",Local["zh-hans"].TIME_SLEEP_MS_TOOLTIP="Delay for given number of milliseconds, should be positive or 0.",Local["zh-hans"].TIME_SLEEP_US_TITLE1="睡眠",Local["zh-hans"].TIME_SLEEP_US_TITLE2="微秒",Local["zh-hans"].TIME_SLEEP_US_TOOLTIP="Delay for given number of microseconds, should be positive or 0.",Local["zh-hans"].TIME_TICKS_MS_TITLE="ticks ms (milliseconds)",Local["zh-hans"].TIME_TICKS_MS_TOOLTIP="Returns an increasing millisecond counter with an arbitrary reference point,       that wraps around after some value.\n      The wrap-around value is not explicitly exposed, but we will refer to it as TICKS_MAX to simplify discussion.       Period of the values is TICKS_PERIOD = TICKS_MAX + 1.       TICKS_PERIOD is guaranteed to be a power of two, but otherwise may differ from port to port.       The same period value is used for all of ticks_ms(), ticks_us(), ticks_cpu() functions (for simplicity).       Thus, these functions will return a value in range [0 .. TICKS_MAX], inclusive, total TICKS_PERIOD values.       Note that only non-negative values are used.       For the most part, you should treat values returned by these functions as opaque.       The only operations available for them are ticks_diff() and ticks_add() functions described below.      Note: Performing standard mathematical operations (+, -) or relational operators (<, <=, >, >=)       directly on these value will lead to invalid result.       Performing mathematical operations and then passing their results as arguments to ticks_diff() or ticks_add() will also lead to invalid results from the latter functions.",Local["zh-hans"].TIME_TICKS_US_TITLE="ticks us (microseconds)",Local["zh-hans"].TIME_TICKS_US_TOOLTIP="Returns an increasing microsecond counter with an arbitrary reference point,       that wraps around after some value.\n      The wrap-around value is not explicitly exposed, but we will refer to it as TICKS_MAX to simplify discussion.       Period of the values is TICKS_PERIOD = TICKS_MAX + 1.       TICKS_PERIOD is guaranteed to be a power of two, but otherwise may differ from port to port.       The same period value is used for all of ticks_ms(), ticks_us(), ticks_cpu() functions (for simplicity).       Thus, these functions will return a value in range [0 .. TICKS_MAX], inclusive, total TICKS_PERIOD values.       Note that only non-negative values are used.       For the most part, you should treat values returned by these functions as opaque.       The only operations available for them are ticks_diff() and ticks_add() functions described below.      Note: Performing standard mathematical operations (+, -) or relational operators (<, <=, >, >=)       directly on these value will lead to invalid result.       Performing mathematical operations and then passing their results as arguments to ticks_diff() or ticks_add() will also lead to invalid results from the latter functions.",Local["zh-hans"].TIME_TICKS_CPU_TITLE="ticks CPU ",Local["zh-hans"].TIME_TICKS_CPU_TOOLTIP="Similar to ticks_ms() and ticks_us(), but with the highest possible resolution in the system.       This is usually CPU clocks, and that’s why the function is named that way.       But it doesn’t have to be a CPU clock, some other timing source available in a system (e.g. high-resolution timer) can be used instead.       The exact timing unit (resolution) of this function is not specified on time module level, but documentation for a specific port may provide more specific information.       This function is intended for very fine benchmarking or very tight real-time loops.       Avoid using it in portable code.\n      Availability: Not every port implements this function.",Local["zh-hans"].TIME_TICKS_ADD_TITLE1="add a ticks",Local["zh-hans"].TIME_TICKS_ADD_TITLE2="with delta",Local["zh-hans"].TIME_TICKS_ADD_TOOLTIP="Offset ticks value by a given number, which can be either positive or negative.       Given a ticks value, this function allows to calculate ticks value delta ticks before or after it,       following modular-arithmetic definition of tick values (see ticks_ms() above).       ticks parameter must be a direct result of call to ticks_ms(), ticks_us(), or ticks_cpu() functions (or from previous call to ticks_add()).       However, delta can be an arbitrary integer number or numeric expression. ticks_add() is useful for calculating deadlines for events/tasks.       (Note: you must use ticks_diff() function to work with deadlines.)",Local["zh-hans"].TIME_TICKS_DIFF_TITLE1="ticks diff between",Local["zh-hans"].TIME_TICKS_DIFF_TITLE2="和",Local["zh-hans"].TIME_TICKS_DIFF_TOOLTIP="Measure ticks difference between values returned from ticks_ms(), ticks_us(), or ticks_cpu() functions,       as a signed value which may wrap around.",Local["zh-hans"].TIME_TIME_TITLE="时间",Local["zh-hans"].TIME_TIME_TOOLTIP="Returns the number of seconds, as an integer, since the Epoch, assuming that underlying RTC is set and maintained as described above.       If an RTC is not set, this function returns number of seconds since a port-specific reference point in time (for embedded boards without a battery-backed RTC, usually since power up or reset).       If you want to develop portable MicroPython application, you should not rely on this function to provide higher than second precision.       If you need higher precision, use ticks_ms() and ticks_us() functions, if you need calendar time, localtime() without an argument is a better choice.";
Local.en.MSG.catRaspberryPi="Raspberry Pi",Local.en.MSG.catSensorKitForPi="SensorKit For Pi",Local.en.MSG.raspberrypi_description="The Raspberry Pi is a series of small single-board computers developed in the United Kingdom by the Raspberry Pi Foundation to promote the teaching of basic computer science in schools and in developing countries.",Local.en.RASPBERRYPI_DIGITAL_PIN_TITLE="D",Local.en.RASPBERRYPI_DIGITAL_PIN_TOOLTIP="Digital pin number",Local.en.RASPBERRYPI_ANALOG_PIN_TITLE="A",Local.en.RASPBERRYPI_ANALOG_PIN_TOOLTIP="Analog pin number",Local.en.RASPBERRYPI_PWM_PIN_TITLE="PWM",Local.en.RASPBERRYPI_PWM_PIN_TOOLTIP="PWM pin number",Local.en.RASPBERRYPI_DEVICE_PIN_TOOLTIP="Device pin number",Local.en.RASPBERRYPI_PIN_STATUS_TOOLTIP="GPIO pin status",Local.en.RASPBERRYPI_PIN_IRQ_TRIGGER="irq trigger",Local.en.RASPBERRYPI_PIN_IRQ_TRIGGER_TOOLTIP="IRQ trigger",Local.en.RASPBERRYPI_CONNECT_WIFI_TITLE1="Connect WiFi",Local.en.RASPBERRYPI_CONNECT_WIFI_TITLE2="Country",Local.en.RASPBERRYPI_CONNECT_WIFI_TITLE3="Ssid",Local.en.RASPBERRYPI_CONNECT_WIFI_TITLE4="Password",Local.en.RASPBERRYPI_CONNECT_WIFI_TOOLTIP="Connect WiFi, Please enter the country's abbreviation (2 uppercase letters), reference link: https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2",Local.en.RASPBERRYPI_TASKMGR_TITLE1="get",Local.en.RASPBERRYPI_TASKMGR_TITLE2="value",Local.en.RASPBERRYPI_TASKMGR_TOOLTIP="Get CPU、temperature、internal storage、Disk share value.",Local.en.RASPBERRYPI_PIN_SET_VALUE_TITLE1="set pin",Local.en.RASPBERRYPI_PIN_SET_VALUE_TITLE2="value to",Local.en.RASPBERRYPI_PIN_SET_VALUE_TOOLTIP="Set pin value to low/high",Local.en.RASPBERRYPI_PIN_GET_VALUE_TITLE1="get pin",Local.en.RASPBERRYPI_PIN_GET_VALUE_TITLE2="value",Local.en.RASPBERRYPI_PIN_GET_VALUE_TOOLTIP="Get pin value",Local.en.RASPBERRYPI_PIN_ON_TITLE1="set pin",Local.en.RASPBERRYPI_PIN_ON_TITLE2="on",Local.en.RASPBERRYPI_PIN_ON_TOOLTIP="Set pin on",Local.en.RASPBERRYPI_PIN_OFF_TITLE1="set pin",Local.en.RASPBERRYPI_PIN_OFF_TITLE2="off",Local.en.RASPBERRYPI_PIN_OFF_TOOLTIP="Set pin off",Local.en.RASPBERRYPI_PIN_IRQ_TITLE1="add event detect",Local.en.RASPBERRYPI_PIN_IRQ_TITLE2="pin",Local.en.RASPBERRYPI_PIN_IRQ_TITLE3="trigger",Local.en.RASPBERRYPI_PIN_IRQ_TITLE4="handler",Local.en.RASPBERRYPI_PIN_IRQ_TOOLTIP="The event_detected() function is designed to be used in a loop with other things, \n        but unlike polling it is not going to miss the change in state of an input while the CPU is busy working on other things. ",Local.en.RASPBERRYPI_SERVO_SET_ANGLE_TITLE1="Servo pin",Local.en.RASPBERRYPI_SERVO_SET_ANGLE_TITLE2="set angle",Local.en.RASPBERRYPI_SERVO_SET_ANGLE_TITLE3="time",Local.en.RASPBERRYPI_SERVO_SET_ANGLE_TOOLTIP="Sets the angle of the servo:\n        angle is the angle to move to in degrees.\n        time is the number of milliseconds to take to get to the specified angle. If omitted, then the servo moves as quickly as possible to its new position.",Local.en.RASPBERRYPI_I2C_IS_READY_TITLE1="get I2C  status",Local.en.RASPBERRYPI_I2C_IS_READY_TOOLTIP="Check if an I2C device responds to the given address.",Local.en.RASPBERRYPI_I2C_SCAN_TITLE1="Scan I2C  address",Local.en.RASPBERRYPI_I2C_SCAN_TOOLTIP="Scan all I2C addresses from 0x01 to 0x7f and return a list of those that respond.",Local.en.RASPBERRYPI_I2C_SEND_TITLE1="I2C send",Local.en.RASPBERRYPI_I2C_SEND_TITLE2="address",Local.en.RASPBERRYPI_I2C_SEND_TOOLTIP="Send data on the bus.",Local.en.RASPBERRYPI_I2C_RECV_TITLE1="I2C recv",Local.en.RASPBERRYPI_I2C_RECV_TITLE2="address",Local.en.RASPBERRYPI_I2C_RECV_TOOLTIP="Receive data on the bus.",Local.en.RASPBERRYPI_I2C_MEM_WRITE_TITLE1="I2C memory write  data",Local.en.RASPBERRYPI_I2C_MEM_WRITE_TITLE2="address",Local.en.RASPBERRYPI_I2C_MEM_WRITE_TITLE3="memaddress",Local.en.RASPBERRYPI_I2C_MEM_WRITE_TOOLTIP="Read from the memory of an I2C device.",Local.en.RASPBERRYPI_I2C_MEM_READ_TITLE1="I2C memory read  data",Local.en.RASPBERRYPI_I2C_MEM_READ_TITLE2="address",Local.en.RASPBERRYPI_I2C_MEM_READ_TITLE3="memaddress",Local.en.RASPBERRYPI_I2C_MEM_READ_TOOLTIP="Returns the read data. ",Local.en.RASPBERRYPI_SPI_TITLE1="SPI  bus",Local.en.RASPBERRYPI_SPI_TITLE2="device",Local.en.RASPBERRYPI_SPI_TOOLTIP="Read I2C",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_TITLE1="PWM set",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_TITLE2="pulse width value",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_TOOLTIP="Set PWM pulse width value(0 ~ 4095).",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1="PWM set",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE2="pulse width precentage",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE3="%",Local.en.RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TOOLTIP="Set PWM pulse width precentage(0% ~ 100%).",Local.en.RASPBERRYPI_PWM_FREQ_TITLE1="PWM set",Local.en.RASPBERRYPI_PWM_FREQ_TITLE2="frequency to",Local.en.RASPBERRYPI_PWM_FREQ_TOOLTIP="Set PWM frequency value(HZ).",Local.en.RASPBERRYPI_PWM_PRESCALER_TITLE1="PWM set",Local.en.RASPBERRYPI_PWM_PRESCALER_TITLE2="prescaler to",Local.en.RASPBERRYPI_PWM_PRESCALER_TOOLTIP="Set PWM prescaler value.",Local.en.RASPBERRYPI_PWM_PERIOD_TITLE1="PWM set",Local.en.RASPBERRYPI_PWM_PERIOD_TITLE2="period to",Local.en.RASPBERRYPI_PWM_PERIOD_TOOLTIP="Set PWM period value.",Local.en.RASPBERRYPI_TTS_TOOLTIP="Text-to-speech language module.",Local.en.RASPBERRYPI_TEXT_TO_SPEECH_TITLE1="Say",Local.en.RASPBERRYPI_TEXT_TO_SPEECH_TOOLTIP="Play the written text out by voice.",Local.en.RASPBERRYPI_TEXT_TO_SPEECH_LANGUAGE_TITLE1="TTS  language",Local.en.RASPBERRYPI_TEXT_TO_SPEECH_LANGUAGE_TOOLTIP="Play the written text out by voice.";
Local["zh-hans"].MSG.catRaspberryPi="树莓派",Local["zh-hans"].MSG.catSensorKitForPi="树莓派传感器套件",Local["zh-hans"].MSG.raspberrypi_description="是一款基于Linux的单片机计算机。它由英国的树莓派基金会所开发",Local["zh-hans"].RASPBERRYPI_DIGITAL_PIN_TITLE="D",Local["zh-hans"].RASPBERRYPI_DIGITAL_PIN_TOOLTIP="数字引脚",Local["zh-hans"].RASPBERRYPI_ANALOG_PIN_TITLE="A",Local["zh-hans"].RASPBERRYPI_ANALOG_PIN_TOOLTIP="模拟引脚",Local["zh-hans"].RASPBERRYPI_PWM_PIN_TITLE="PWM",Local["zh-hans"].RASPBERRYPI_PWM_PIN_TOOLTIP="PWM 引脚",Local["zh-hans"].RASPBERRYPI_DEVICE_PIN_TOOLTIP="内置硬件引脚",Local["zh-hans"].RASPBERRYPI_PIN_STATUS_TOOLTIP="GPIO 引脚状态",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TRIGGER="中断触发",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TRIGGER_TOOLTIP="中断触发",Local["zh-hans"].RASPBERRYPI_CONNECT_WIFI_TITLE1="连接WiFi",Local["zh-hans"].RASPBERRYPI_CONNECT_WIFI_TITLE2="国家",Local["zh-hans"].RASPBERRYPI_CONNECT_WIFI_TITLE3="网络名称",Local["zh-hans"].RASPBERRYPI_CONNECT_WIFI_TITLE4="密码",Local["zh-hans"].RASPBERRYPI_CONNECT_WIFI_TOOLTIP="连接WIFI，请输入国家的缩写（两个大写的英文字母），参考链接: https://zh-hans.wikipedia.org/wiki/ISO_3166-1_alpha-2",Local["zh-hans"].RASPBERRYPI_TASKMGR_TITLE1="获取",Local["zh-hans"].RASPBERRYPI_TASKMGR_TITLE2="值",Local["zh-hans"].RASPBERRYPI_TASKMGR_TOOLTIP="获取CPU温度、GPU温度、CPU使用率、磁盘使用率、内存使用率.",Local["zh-hans"].RASPBERRYPI_PIN_SET_VALUE_TITLE1="设置引脚",Local["zh-hans"].RASPBERRYPI_PIN_SET_VALUE_TITLE2="的值为",Local["zh-hans"].RASPBERRYPI_PIN_SET_VALUE_TOOLTIP="设置引脚的值为高/低",Local["zh-hans"].RASPBERRYPI_PIN_GET_VALUE_TITLE1="获取引脚",Local["zh-hans"].RASPBERRYPI_PIN_GET_VALUE_TITLE2="的值",Local["zh-hans"].RASPBERRYPI_PIN_GET_VALUE_TOOLTIP="获取引脚的值",Local["zh-hans"].RASPBERRYPI_PIN_ON_TITLE1="设置引脚",Local["zh-hans"].RASPBERRYPI_PIN_ON_TITLE2="为打开",Local["zh-hans"].RASPBERRYPI_PIN_ON_TOOLTIP="设置引脚为打开",Local["zh-hans"].RASPBERRYPI_PIN_OFF_TITLE1="设置引脚",Local["zh-hans"].RASPBERRYPI_PIN_OFF_TITLE2="为关闭",Local["zh-hans"].RASPBERRYPI_PIN_OFF_TOOLTIP="设置引脚为关闭",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TITLE1="添加事件监测",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TITLE2="引脚",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TITLE3="中断触发",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TITLE4="执行",Local["zh-hans"].RASPBERRYPI_PIN_IRQ_TOOLTIP="The evzh-hanst_detected() function is designed to be used in a loop with other things, \n        but unlike polling it is not going to miss the change in state of an input while the CPU is busy working on other things. ",Local["zh-hans"].RASPBERRYPI_SERVO_SET_ANGLE_TITLE1="设置舵机",Local["zh-hans"].RASPBERRYPI_SERVO_SET_ANGLE_TITLE2="的角度",Local["zh-hans"].RASPBERRYPI_SERVO_SET_ANGLE_TITLE3="time",Local["zh-hans"].RASPBERRYPI_SERVO_SET_ANGLE_TOOLTIP="Sets the angle of the servo:\n     angle is the angle to move to in degrees.\n     time is the number of milliseconds to take to get to the specified angle. If omitted, thzh-hans the servo moves as quickly as possible to its new position.",Local["zh-hans"].RASPBERRYPI_I2C_TITLE1="读I2C  地址",Local["zh-hans"].RASPBERRYPI_I2C_TITLE2="命令",Local["zh-hans"].RASPBERRYPI_I2C_TITLE3="数据",Local["zh-hans"].RASPBERRYPI_I2C_TOOLTIP="读I2C",Local["zh-hans"].RASPBERRYPI_WRITE_I2C_TITLE1="写I2C  地址",Local["zh-hans"].RASPBERRYPI_WRITE_I2C_TITLE2="寄存器地址",Local["zh-hans"].RASPBERRYPI_WRITE_I2C_TITLE3="数据",Local["zh-hans"].RASPBERRYPI_WRITE_I2C_TOOLTIP="写 I2C",Local["zh-hans"].RASPBERRYPI_SPI_TITLE1="SPI  总线",Local["zh-hans"].RASPBERRYPI_SPI_TITLE2="设备",Local["zh-hans"].RASPBERRYPI_SPI_TOOLTIP="Read I2C",Local["zh-hans"].RASPBERRYPI_I2C_IS_READY_TITLE1="是否有I2C",Local["zh-hans"].RASPBERRYPI_I2C_IS_READY_TOOLTIP="检查I2C设备是否响应给定的地址。",Local["zh-hans"].RASPBERRYPI_I2C_SCAN_TITLE1="扫描I2C地址",Local["zh-hans"].RASPBERRYPI_I2C_SCAN_TOOLTIP="扫描从0x01到0x7f所有的I2C地址，并且返回响应这些地址的列表。",Local["zh-hans"].RASPBERRYPI_I2C_SEND_TITLE1="发送I2c 数据",Local["zh-hans"].RASPBERRYPI_I2C_SEND_TITLE2="地址",Local["zh-hans"].RASPBERRYPI_I2C_SEND_TOOLTIP="在总线上发送数据。",Local["zh-hans"].RASPBERRYPI_I2C_RECV_TITLE1="接收I2c 数据",Local["zh-hans"].RASPBERRYPI_I2C_RECV_TITLE2="地址",Local["zh-hans"].RASPBERRYPI_I2C_RECV_TOOLTIP="在总线上接收数据。",Local["zh-hans"].RASPBERRYPI_I2C_MEM_WRITE_TITLE1="在I2C设备的内存中写入  数据",Local["zh-hans"].RASPBERRYPI_I2C_MEM_WRITE_TITLE2="地址",Local["zh-hans"].RASPBERRYPI_I2C_MEM_WRITE_TITLE3="从机地址",Local["zh-hans"].RASPBERRYPI_I2C_MEM_WRITE_TOOLTIP="在I2C设备的内存中写入。",Local["zh-hans"].RASPBERRYPI_I2C_MEM_READ_TITLE1="在I2C设备的内存中读取  数据",Local["zh-hans"].RASPBERRYPI_I2C_MEM_READ_TITLE2="地址",Local["zh-hans"].RASPBERRYPI_I2C_MEM_READ_TITLE3="从机地址",Local["zh-hans"].RASPBERRYPI_I2C_MEM_READ_TOOLTIP="在I2C设备的内存中读取，并返回读取值。 ",Local["zh-hans"].RASPBERRYPI_SPI_TITLE1="SPI 通道",Local["zh-hans"].RASPBERRYPI_SPI_TITLE2="设备",Local["zh-hans"].RASPBERRYPI_SPI_TOOLTIP="读取",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_TITLE1="PWM设置",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_TITLE2="脉冲宽度的值为",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_TOOLTIP="设置PWM脉冲宽度的值为（0 ~ 4095）.",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1="PWM设置",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1="脉冲宽度的百分比为",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TITLE2="%",Local["zh-hans"].RASPBERRYPI_PWM_PULSE_WIDTH_PRECENTAGE_TOOLTIP="设置PWM脉冲宽度的百分比为(0% ~ 100%).",Local["zh-hans"].RASPBERRYPI_PWM_FREQ_TITLE1="PWM 设置",Local["zh-hans"].RASPBERRYPI_PWM_FREQ_TITLE2="频率为",Local["zh-hans"].RASPBERRYPI_PWM_FREQ_TOOLTIP="设置PWM的频率(HZ).",Local["zh-hans"].RASPBERRYPI_PWM_PRESCALER_TITLE1="PWM 设置",Local["zh-hans"].RASPBERRYPI_PWM_PRESCALER_TITLE2="预分频为",Local["zh-hans"].RASPBERRYPI_PWM_PRESCALER_TOOLTIP="设置PWM预分频的值.",Local["zh-hans"].RASPBERRYPI_PWM_PERIOD_TITLE1="PWM 设置",Local["zh-hans"].RASPBERRYPI_PWM_PERIOD_TITLE2="周期为",Local["zh-hans"].RASPBERRYPI_PWM_PERIOD_TOOLTIP="设置PWM周期的值.",Local["zh-hans"].RASPBERRYPI_TTS_TOOLTIP="文字转声音的语言选择模块.",Local["zh-hans"].RASPBERRYPI_TEXT_TO_SPEECH_TITLE1="说",Local["zh-hans"].RASPBERRYPI_TEXT_TO_SPEECH_TOOLTIP="将输入的文字通过声音播放出来.",Local["zh-hans"].RASPBERRYPI_TEXT_TO_SPEECH_LANGUAGE_TITLE1="文字转声音  语言选择",Local["zh-hans"].RASPBERRYPI_TEXT_TO_SPEECH_LANGUAGE_TOOLTIP="选择语言.";
Local.en.MSG.catModules="Modules",Local.en.MODULES_LEDMODULE_NAME="LED Module",Local.en.MODULES_LEDMODULE_SET_VALUE_TITLE1="LED module set ",Local.en.MODULES_LEDMODULE_SET_VALUE_TITLE2="status",Local.en.MODULES_LEDMODULE_SET_VALUE_TOOLTIP="Set LED to ON or OFF.(0 is OFF, 1 is ON)",Local.en.MODULES_RGBLED_NAME="RGB LED",Local.en.MODULES_RGBLED_SET_VALUE_TITLE1="RGB module R",Local.en.MODULES_RGBLED_SET_VALUE_TITLE2="G",Local.en.MODULES_RGBLED_SET_VALUE_TITLE3="B",Local.en.MODULES_RGBLED_SET_VALUE_TITLE4="set colour to",Local.en.MODULES_RGBLED_SET_VALUE_TOOLTIP="Set RGB color",Local.en.MODULES_BUTTON_NAME="Button",Local.en.MODULES_BUTTON_GET_VALUE_TITLE1="Button get",Local.en.MODULES_BUTTON_GET_VALUE_TITLE2="value",Local.en.MODULES_BUTTON_GET_VALUE_TOOLTIP="Get button value.0(button pressed) or 1(button released)",Local.en.MODULES_TILTSWITCH_NAME="Tilt Switch",Local.en.MODULES_TILTSWITCH_GET_VALUE_TITLE1="Tilt switch get",Local.en.MODULES_TILTSWITCH_GET_VALUE_TITLE2="value",Local.en.MODULES_TILTSWITCH_GET_VALUE_TOOLTIP="Get tilt switch value.",Local.en.MODULES_VIBRATIONSWITCH_NAME="Vibration Switch",Local.en.MODULES_VIBRATIONSWITCH_GET_VALUE_TITLE1="Vibration switch get",Local.en.MODULES_VIBRATIONSWITCH_GET_VALUE_TITLE2="value",Local.en.MODULES_VIBRATIONSWITCH_GET_VALUE_TOOLTIP="Get vibration switch value.",Local.en.MODULES_BUZZER_NAME="Buzzer",Local.en.MODULES_BUZZER_SET_STATUS_TITLE1="Buzzer",Local.en.MODULES_BUZZER_SET_STATUS_TITLE2="play",Local.en.MODULES_BUZZER_SET_STATUS_TITLE3="for",Local.en.MODULES_BUZZER_SET_STATUS_TOOLTIP="Buzzer play note for a beat",Local.en.MODULES_JOYSTICK_NAME="Joystick",Local.en.MODULES_JOYSTICK_GET_VALUE_TITLE1="Joystick  X",Local.en.MODULES_JOYSTICK_GET_VALUE_TITLE2="Y",Local.en.MODULES_JOYSTICK_GET_VALUE_TITLE3="Btn get",Local.en.MODULES_JOYSTICK_GET_VALUE_TITLE4="value",Local.en.MODULES_JOYSTICK_GET_VALUE_TOOLTIP="Get joystick X/Y/Btn value",Local.en.MODULES_JOYSTICK_NAME="Joystick",Local.en.MODULES_JOYSTICK_GET_STATUS_TITLE1="Joystick get status  X",Local.en.MODULES_JOYSTICK_GET_STATUS_TITLE2="Y",Local.en.MODULES_JOYSTICK_GET_STATUS_TITLE3="Btn",Local.en.MODULES_JOYSTICK_GET_STATUS_TOOLTIP="Get joystick status",Local.en.MODULES_POTENTIOMETER_NAME="Potentiometer",Local.en.MODULES_POTENTIOMETER_GET_VALUE_TITLE1="Potentiometer get",Local.en.MODULES_POTENTIOMETER_GET_VALUE_TITLE2="value",Local.en.MODULES_POTENTIOMETER_GET_VALUE_TOOLTIP="Get potentiometer analog value.",Local.en.MODULES_SOUNDSENSOR_NAME="Sound Sensor",Local.en.MODULES_SOUNDSENSOR_GET_VALUE_TITLE1="Sound sensor get",Local.en.MODULES_SOUNDSENSOR_GET_VALUE_TITLE2="value",Local.en.MODULES_SOUNDSENSOR_GET_VALUE_TOOLTIP="Get sound analog value.",Local.en.MODULES_PHOTORESISTOR_NAME="Photoresistor",Local.en.MODULES_PHOTORESISTOR_GET_VALUE_TITLE1="Photoresistor get",Local.en.MODULES_PHOTORESISTOR_GET_VALUE_TITLE2="value",Local.en.MODULES_PHOTORESISTOR_GET_VALUE_TOOLTIP="Get photoresisotr analog value.",Local.en.MODULES_TOUCHSWITCH_NAME="Touch Switch",Local.en.MODULES_TOUCHSWITCH_GET_VALUE_TITLE1="Touch switch get",Local.en.MODULES_TOUCHSWITCH_GET_VALUE_TITLE2="value",Local.en.MODULES_TOUCHSWITCH_GET_VALUE_TOOLTIP="Get touch switch value.",Local.en.MODULES_ULTRASONIC_NAME="Ultrasonic",Local.en.MODULES_ULTRASONIC_GET_VALUE_TITLE1="Ultrasonic get distance",Local.en.MODULES_ULTRASONIC_GET_VALUE_TITLE2="trig",Local.en.MODULES_ULTRASONIC_GET_VALUE_TITLE3="echo",Local.en.MODULES_ULTRASONIC_VALUE_TOOLTIP=" Get ultrasonic value.",Local.en.MODULES_DS18B20_NAME="DS18B20",Local.en.MODULES_DS18B20_GET_VALUE_TITLE1="DS18B20 Get temperature(to GPIO 4)",Local.en.MODULES_DS18B20_GET_VALUE_TOOLTIP="Get DS18B20 value (Connect GPIO 4)",Local.en.MODULES_SERVO_NAME="Servo",Local.en.MODULES_SERVO_SET_ANGLE_TITLE1="Servo set",Local.en.MODULES_SERVO_SET_ANGLE_TITLE2="angle",Local.en.MODULES_SERVO_SET_ANGLE_TOOLTIP="Set servo angle",Local.en.MODULES_MOISTURESENSOR_NAME="Moisture Sensor",Local.en.MODULES_MOISTURESENSOR_GET_VALUE_TITLE1="Moisture sensor get",Local.en.MODULES_MOISTURESENSOR_GET_VALUE_TITLE2="value",Local.en.MODULES_MOISTURESENSOR_GET_VALUE_TOOLTIP="Get moisture sensor value",Local.en.MODULES_ADXL345_NAME="ADXL345",Local.en.MODULES_ADXL345_GET_VALUE_TITLE1="ADXL345 get value",Local.en.MODULES_ADXL345_GET_VALUE_TOOLTIP="Get ADXL345 value";
Local["zh-hans"].MSG.catModules="模块",Local["zh-hans"].MODULES_LEDMODULE_NAME="LED 模块",Local["zh-hans"].MODULES_LEDMODULE_SET_VALUE_TITLE1="LED 模块设置 ",Local["zh-hans"].MODULES_LEDMODULE_SET_VALUE_TITLE2="状态",Local["zh-hans"].MODULES_LEDMODULE_SET_VALUE_TOOLTIP="设置LED为开或关.(0 代表关, 1 代表开)",Local["zh-hans"].MODULES_RGBLED_NAME="RGB LED",Local["zh-hans"].MODULES_RGBLED_SET_VALUE_TITLE1="RGB 模块 R",Local["zh-hans"].MODULES_RGBLED_SET_VALUE_TITLE2="G",Local["zh-hans"].MODULES_RGBLED_SET_VALUE_TITLE3="B",Local["zh-hans"].MODULES_RGBLED_SET_VALUE_TITLE4="设置颜色为",Local["zh-hans"].MODULES_RGBLED_SET_VALUE_TOOLTIP="设置RGB的颜色",Local["zh-hans"].MODULES_BUTTON_NAME="按键",Local["zh-hans"].MODULES_BUTTON_GET_VALUE_TITLE1="按键 获取",Local["zh-hans"].MODULES_BUTTON_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_BUTTON_GET_VALUE_TOOLTIP="获取按键的值， 0代表按键按下、1代表按键弹出",Local["zh-hans"].MODULES_TILTSWITCH_NAME="倾斜快关",Local["zh-hans"].MODULES_TILTSWITCH_GET_VALUE_TITLE1="倾斜开关 获取",Local["zh-hans"].MODULES_TILTSWITCH_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_TILTSWITCH_GET_VALUE_TOOLTIP="获取倾斜开关的值.",Local["zh-hans"].MODULES_VIBRATIONSWITCH_NAME="振动开关",Local["zh-hans"].MODULES_VIBRATIONSWITCH_GET_VALUE_TITLE1="振动开关 获取",Local["zh-hans"].MODULES_VIBRATIONSWITCH_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_VIBRATIONSWITCH_GET_VALUE_TOOLTIP="获取振动开关的值.",Local["zh-hans"].MODULES_BUZZER_NAME="蜂鸣器",Local["zh-hans"].MODULES_BUZZER_SET_STATUS_TITLE1="蜂鸣器",Local["zh-hans"].MODULES_BUZZER_SET_STATUS_TITLE2="音调",Local["zh-hans"].MODULES_BUZZER_SET_STATUS_TITLE3="保持",Local["zh-hans"].MODULES_BUZZER_SET_STATUS_TOOLTIP="蜂鸣器打一个节拍",Local["zh-hans"].MODULES_JOYSTICK_NAME="摇杆",Local["zh-hans"].MODULES_JOYSTICK_GET_VALUE_TITLE1="摇杆 X",Local["zh-hans"].MODULES_JOYSTICK_GET_VALUE_TITLE2="Y",Local["zh-hans"].MODULES_JOYSTICK_GET_VALUE_TITLE3="Btn 获取",Local["zh-hans"].MODULES_JOYSTICK_GET_VALUE_TITLE4="值",Local["zh-hans"].MODULES_JOYSTICK_GET_VALUE_TOOLTIP="Get 摇杆 X/Y/Btn 的值",Local["zh-hans"].MODULES_JOYSTICK_NAME="摇杆",Local["zh-hans"].MODULES_JOYSTICK_GET_STATUS_TITLE1="摇杆 获取状态 X",Local["zh-hans"].MODULES_JOYSTICK_GET_STATUS_TITLE2="Y",Local["zh-hans"].MODULES_JOYSTICK_GET_STATUS_TITLE3="Btn",Local["zh-hans"].MODULES_JOYSTICK_GET_STATUS_TOOLTIP="获取摇杆的状态值",Local["zh-hans"].MODULES_POTENTIOMETER_NAME="电位计",Local["zh-hans"].MODULES_POTENTIOMETER_GET_VALUE_TITLE1="电位计 获取",Local["zh-hans"].MODULES_POTENTIOMETER_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_POTENTIOMETER_GET_VALUE_TOOLTIP="获取电位计的模拟值.",Local["zh-hans"].MODULES_SOUNDSENSOR_NAME="声音传感器",Local["zh-hans"].MODULES_SOUNDSENSOR_GET_VALUE_TITLE1="声音传感器 获取",Local["zh-hans"].MODULES_SOUNDSENSOR_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_SOUNDSENSOR_GET_VALUE_TOOLTIP="获取声音传感器的模拟值.",Local["zh-hans"].MODULES_PHOTORESISTOR_NAME="光敏电阻",Local["zh-hans"].MODULES_PHOTORESISTOR_GET_VALUE_TITLE1="光敏电阻 获取",Local["zh-hans"].MODULES_PHOTORESISTOR_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_PHOTORESISTOR_GET_VALUE_TOOLTIP="获取光敏电阻的模拟值.",Local["zh-hans"].MODULES_TOUCHSWITCH_NAME="触摸开关",Local["zh-hans"].MODULES_TOUCHSWITCH_GET_VALUE_TITLE1="触摸开关 获取",Local["zh-hans"].MODULES_TOUCHSWITCH_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_TOUCHSWITCH_GET_VALUE_TOOLTIP="获取触摸开关的值.",Local["zh-hans"].MODULES_ULTRASONIC_NAME="超声波",Local["zh-hans"].MODULES_ULTRASONIC_GET_VALUE_TITLE1="超声波获取距离",Local["zh-hans"].MODULES_ULTRASONIC_GET_VALUE_TITLE2="trig",Local["zh-hans"].MODULES_ULTRASONIC_GET_VALUE_TITLE3="echo",Local["zh-hans"].MODULES_ULTRASONIC_VALUE_TOOLTIP="获取超声波测量距离的值.",Local["zh-hans"].MODULES_DS18B20_NAME="DS18B20",Local["zh-hans"].MODULES_DS18B20_GET_VALUE_TITLE1="DS18B20 获取温度(to GPIO 4)",Local["zh-hans"].MODULES_DS18B20_GET_VALUE_TOOLTIP="获取DS18B20检测的值(连接GPIO 4)",Local["zh-hans"].MODULES_SERVO_NAME="舵机",Local["zh-hans"].MODULES_SERVO_SET_ANGLE_TITLE1="舵机 设置",Local["zh-hans"].MODULES_SERVO_SET_ANGLE_TITLE2="角度",Local["zh-hans"].MODULES_SERVO_SET_ANGLE_TOOLTIP="设置电机的角度",Local["zh-hans"].MODULES_MOISTURESENSOR_NAME="湿度传感器",Local["zh-hans"].MODULES_MOISTURESENSOR_GET_VALUE_TITLE1="湿度传感器 获取",Local["zh-hans"].MODULES_MOISTURESENSOR_GET_VALUE_TITLE2="值",Local["zh-hans"].MODULES_MOISTURESENSOR_GET_VALUE_TOOLTIP="获取湿度传感器的值",Local["zh-hans"].MODULES_ADXL345_NAME="加速度传感器",Local["zh-hans"].MODULES_ADXL345_GET_VALUE_TITLE1="加速度传感器 获取值",Local["zh-hans"].MODULES_ADXL345_GET_VALUE_TOOLTIP="Get 加速度传感器的值(ADXL345).";
Local.en.MSG.catLeaf="Leaf",Local.en.MSG.catSensorKitForLeaf="SensorKit For Leaf",Local.en.MSG.leaf_description="A Development board with cotex-m4 processor, and build-in bluetooth for your creative electric project.",Local.en.LEAF_PIN_OUTPUT="input",Local.en.LEAF_PIN_INPUT="output",Local.en.LEAF_PIN_OPEN_DRAIN="open_drain",Local.en.LEAF_PIN_DIGITAL_PIN_TOOLTIP="Digital pins number",Local.en.LEAF_PIN_ANALOG_PIN_TOOLTIP="Analog pin number",Local.en.LEAF_PIN_DEVICE_PIN_TOOLTIP="Build-in device",Local.en.LEAF_PIN_SERVO_PIN_TOOLTIP="Servo pin number",Local.en.LEAF_PIN_PULL_TITLE="pull up",Local.en.LEAF_PIN_PULL_TOOLTIP="Input pin pull up /down or not",Local.en.LEAF_PIN_IRQ_TRIGGER_TITLE="irq trigger",Local.en.LEAF_PIN_IRQ_TRIGGER_TOOLTIP="IRQ trigger",Local.en.LEAF_PIN_SET_VALUE_TITLE1="set pin",Local.en.LEAF_PIN_SET_VALUE_TITLE2="value to",Local.en.LEAF_PIN_SET_VALUE_TOOLTIP="Set pin value to 0/1",Local.en.LEAF_PIN_GET_VALUE_TITLE1="get pin",Local.en.LEAF_PIN_GET_VALUE_TITLE2="value",Local.en.LEAF_PIN_GET_VALUE_TOOLTIP="Get pin value",Local.en.LEAF_PIN_ON_TITLE1="set pin",Local.en.LEAF_PIN_ON_TITLE2="on",Local.en.LEAF_PIN_ON_TOOLTIP="Set pin to 1 output level.",Local.en.LEAF_PIN_OFF_TITLE1="set pin",Local.en.LEAF_PIN_OFF_TITLE2="off",Local.en.LEAF_PIN_OFF_TOOLTIP="Set pin to 0 output level.",Local.en.LEAF_PIN_IRQ_TITLE1="configure an irq",Local.en.LEAF_PIN_IRQ_TITLE2="pin",Local.en.LEAF_PIN_IRQ_TITLE3="mode",Local.en.LEAF_PIN_IRQ_TITLE4="pull",Local.en.LEAF_PIN_IRQ_TITLE5="handler",Local.en.LEAF_PIN_IRQ_TOOLTIP="There are a total of 22 interrupt lines. 16 of these can come from GPIO pins and the remaining 6 are from internal sources.\n        Create an ExtInt object:\n        pin is the pin on which to enable the interrupt (can be a pin object or any valid pin name).\n        mode can be one of: - ExtInt.IRQ_RISING - trigger on a rising edge; - ExtInt.IRQ_FALLING - trigger on a falling edge; - ExtInt.IRQ_RISING_FALLING - trigger on a rising or falling edge.\n        pull can be one of: - pyb.Pin.PULL_NONE - no pull up or down resistors; - pyb.Pin.PULL_UP - enable the pull-up resistor; - pyb.Pin.PULL_DOWN - enable the pull-down resistor.\n        callback is the function to call when the interrupt triggers. \n        The callback function must accept exactly 1 argument, which is the line that triggered the interrupt.",Local.en.LEAF_PWM_PIN_TITLE="PWM",Local.en.LEAF_PWM_PIN_TOOLTIP="PWM pin number",Local.en.LEAF_ADC_READ_TITLE1="get pin",Local.en.LEAF_ADC_READ_TITLE2="value",Local.en.LEAF_ADC_READ_TOOLTIP="read analog value, return 0-4095",Local.en.LEAF_DAC_WRITE_TITLE1="write analog pin",Local.en.LEAF_DAC_WRITE_TITLE2="analog_value",Local.en.LEAF_DAC_WRITE_TOOLTIP="write analog value to the pin.\n       The DAC is used to output analog values (a specific voltage) on pin X5 or pin X6. \n       The voltage will be between 0 and 3.3V.",Local.en.LEAF_SERVO_GET_ANGLE_TITLE1="Servo pin",Local.en.LEAF_SERVO_GET_ANGLE_TITLE2="angle",Local.en.LEAF_SERVO_GET_ANGLE_TOOLTIP="Get the servo current angle",Local.en.LEAF_SERVO_SET_ANGLE_TITLE1="Servo pin",Local.en.LEAF_SERVO_SET_ANGLE_TITLE2="set angle",Local.en.LEAF_SERVO_SET_ANGLE_TITLE3="time",Local.en.LEAF_SERVO_SET_ANGLE_TOOLTIP="Sets the angle of the servo:\n     angle is the angle to move to in degrees.\n     time is the number of milliseconds to take to get to the specified angle. If omitted, then the servo moves as quickly as possible to its new position.",Local.en.LEAF_SERVO_GET_SPEED_TITLE1="Servo pin",Local.en.LEAF_SERVO_GET_SPEED_TITLE2="speed",Local.en.LEAF_SERVO_GET_SPEED_TOOLTIP="Get the servo current speed",Local.en.LEAF_SERVO_SET_SPEED_TITLE1="Servo pin",Local.en.LEAF_SERVO_SET_SPEED_TITLE2="set speed",Local.en.LEAF_SERVO_SET_SPEED_TITLE3="time",Local.en.LEAF_SERVO_SET_SPEED_TOOLTIP="Sets the angle of the servo:\n     speed is the speed to change to, between -100 and 100.\n     time is the number of milliseconds to take to get to the specified speed. If omitted, then the servo accelerates as quickly as possible.",Local.en.LEAF_SERVO_GET_CALIBRATION_TITLE1="Servo pin",Local.en.LEAF_SERVO_GET_CALIBRATION_TITLE2="calibration",Local.en.LEAF_SERVO_GET_CALIBRATION_TOOLTIP="Get the servo current calibration",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE1="Set servo calibration",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE2="pin",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE3="pulse_min",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE4="pulse_max",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE5="pulse_centre",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE6="pulse_angle_90",Local.en.LEAF_SERVO_SET_CALIBRATION_TITLE7="pulse_speed_100",Local.en.LEAF_SERVO_SET_CALIBRATION_TOOLTIP="Sets the angle of the servo:\n      pulse_min is the minimum allowed pulse width.\n      pulse_max is the maximum allowed pulse width.\n      pulse_centre is the pulse width corresponding to the centre/zero position.\n      pulse_angle_90 is the pulse width corresponding to 90 degrees.\n      pulse_speed_100 is the pulse width corresponding to a speed of 100.",Local.en.LEAF_SPI_MSB_TITLE="SPI MSB",Local.en.LEAF_SPI_MSB_TOOLTIP="Set the first bit to be the most significant bit",Local.en.LEAF_SPI_INIT_TITLE1="spi init",Local.en.LEAF_SPI_INIT_TITLE2="baudrate",Local.en.LEAF_SPI_INIT_TITLE3="polarity",Local.en.LEAF_SPI_INIT_TITLE4="phase",Local.en.LEAF_SPI_INIT_TOOLTIP="The hardware SPI is faster (up to 80Mhz),                      but only works on following pins:                       MISO is GPIO12, MOSI is GPIO13, and SCK is GPIO14.",Local.en.LEAF_SPI_DEINIT_TITLE="spi deinit",Local.en.LEAF_SPI_DEINIT_TOOLTIP="Turn off the SPI bus.",Local.en.LEAF_SPI_READ_TITLE1="spi read",Local.en.LEAF_SPI_READ_TITLE2="bytes",Local.en.LEAF_SPI_READ_TOOLTIP="Read a number of bytes specified by nbytes while continuously writing the single byte given by write. \n          Returns a bytes object with the data that was read.",Local.en.LEAF_SPI_READINTO_TITLE="spi read into buffer",Local.en.LEAF_SPI_READINTO_TOOLTIP="Read into the buffer specified by buf while           continuously writing the single byte given by write. Returns None.",Local.en.LEAF_SPI_WRITE_TITLE="spi write words",Local.en.LEAF_SPI_WRITE_TOOLTIP="Write the bytes contained in buf. Returns None.",Local.en.LEAF_SPI_WRITE_READINTO_TITLE1="spi write then read into",Local.en.LEAF_SPI_WRITE_READINTO_TITLE2="write buf",Local.en.LEAF_SPI_WRITE_READINTO_TITLE3="read buf",Local.en.LEAF_SPI_WRITE_READINTO_TOOLTIP="Write the bytes contained in buf. Returns None.",Local.en.LEAF_I2C_INIT_TITLE1="i2c init",Local.en.LEAF_I2C_INIT_TITLE2="freq",Local.en.LEAF_I2C_INIT_TOOLTIP="create I2C peripheral at frequency of 400kHz                       depending on the port scl=Pin(5),sda=Pin(4)",Local.en.LEAF_I2C_SCAN_TITLE="i2c scan",Local.en.LEAF_I2C_SCAN_TOOLTIP="scan i2c bus for slave addr",Local.en.LEAF_I2C_START_TITLE="i2c start",Local.en.LEAF_I2C_START_TOOLTIP="Generate a START condition on the bus (SDA transitions to low while SCL is high).\n          Availability: ESP8266.",Local.en.LEAF_I2C_STOP_TITLE="i2c stop",Local.en.LEAF_I2C_STOP_TOOLTIP="Generate a STOP condition on the bus (SDA transitions to high while SCL is high).\n          Availability: ESP8266.",Local.en.LEAF_I2C_READ_FROM_TITLE1="i2c read",Local.en.LEAF_I2C_READ_FROM_TITLE2="bytes from addr",Local.en.LEAF_I2C_READ_FROM_TOOLTIP="read n bytes from slave device with address 0xAA",Local.en.LEAF_I2C_WRITE_TO_TITLE1="i2c write words",Local.en.LEAF_I2C_WRITE_TO_TITLE2="to addr",Local.en.LEAF_I2C_WRITE_TO_TOOLTIP="write 'N' to slave device with address 0xAA",Local.en.LEAF_PWM_PULSE_WIDTH_TITLE1="PWM set",Local.en.LEAF_PWM_PULSE_WIDTH_TITLE2="pulse width to",Local.en.LEAF_PWM_PULSE_WIDTH_TOOLTIP="Set PWM pulse width value(0 ~ 4095).",Local.en.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1="PWM set",Local.en.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE2="pulse width to",Local.en.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE3="%",Local.en.LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TOOLTIP="Set PWM pulse width precentage(0% ~ 100%).",Local.en.LEAF_PWM_FREQ_TITLE1="PWM set",Local.en.LEAF_PWM_FREQ_TITLE2="frequency to",Local.en.LEAF_PWM_FREQ_TOOLTIP="Set PWM frequency value(HZ,0 < HZ).",Local.en.LEAF_PWM_PRESCALER_TITLE1="PWM set",Local.en.LEAF_PWM_PRESCALER_TITLE2="prescaler to",Local.en.LEAF_PWM_PRESCALER_TOOLTIP="Set PWM prescaler value.",Local.en.LEAF_PWM_PERIOD_TITLE1="PWM set",Local.en.LEAF_PWM_PERIOD_TITLE2="period to",Local.en.LEAF_PWM_PERIOD_TOOLTIP="Set PWM period value(0 ~ 4095).";
Local["zh-hans"].MSG.catLeaf="叶子",Local["zh-hans"].MSG.catSensorKitForLeaf="叶子传感器套件",Local["zh-hans"].MSG.leaf_description="一个为你富有创造力的电子项目打造的，带有Cotex-M4主控和内置蓝牙的开发板",Local["zh-hans"].LEAF_PIN_OUTPUT="输入",Local["zh-hans"].LEAF_PIN_INPUT="输出",Local["zh-hans"].LEAF_PIN_OPEN_DRAIN="开漏",Local["zh-hans"].LEAF_PIN_DIGITAL_PIN_TOOLTIP="数字引脚编号",Local["zh-hans"].LEAF_PIN_ANALOG_PIN_TOOLTIP="模拟引脚编号",Local["zh-hans"].LEAF_PIN_DEVICE_PIN_TOOLTIP="内置设备",Local["zh-hans"].LEAF_PIN_SERVO_PIN_TOOLTIP="舵机引脚编号",Local["zh-hans"].LEAF_PIN_PULL_TITLE="上拉",Local["zh-hans"].LEAF_PIN_PULL_TOOLTIP="输入的上拉/下拉/悬空",Local["zh-hans"].LEAF_PIN_IRQ_TRIGGER_TITLE="中断触发",Local["zh-hans"].LEAF_PIN_IRQ_TRIGGER_TOOLTIP="中断触发",Local["zh-hans"].LEAF_PIN_SET_VALUE_TITLE1="设置引脚",Local["zh-hans"].LEAF_PIN_SET_VALUE_TITLE2="的值为",Local["zh-hans"].LEAF_PIN_SET_VALUE_TOOLTIP="设置引脚的值为0/1",Local["zh-hans"].LEAF_PIN_GET_VALUE_TITLE1="获取引脚",Local["zh-hans"].LEAF_PIN_GET_VALUE_TITLE2="的值",Local["zh-hans"].LEAF_PIN_GET_VALUE_TOOLTIP="获取引脚的值",Local["zh-hans"].LEAF_PIN_ON_TITLE1="设置引脚",Local["zh-hans"].LEAF_PIN_ON_TITLE2="打开",Local["zh-hans"].LEAF_PIN_ON_TOOLTIP="设置引脚打开",Local["zh-hans"].LEAF_PIN_OFF_TITLE1="设置引脚",Local["zh-hans"].LEAF_PIN_OFF_TITLE2="关闭",Local["zh-hans"].LEAF_PIN_OFF_TOOLTIP="设置引脚关闭",Local["zh-hans"].LEAF_PIN_IRQ_TITLE1="配置一个中断",Local["zh-hans"].LEAF_PIN_IRQ_TITLE2="引脚",Local["zh-hans"].LEAF_PIN_IRQ_TITLE3="模式",Local["zh-hans"].LEAF_PIN_IRQ_TITLE4="上下拉",Local["zh-hans"].LEAF_PIN_IRQ_TITLE5="执行",Local["zh-hans"].LEAF_PIN_IRQ_TOOLTIP="There are a total of 22 interrupt lines. 16 of these can come from GPIO pins and the remaining 6 are from internal sources.\n        Create an ExtInt object:\n        pin is the pin on which to enable the interrupt (can be a pin object or any valid pin name).\n        mode can be one of: - ExtInt.IRQ_RISING - trigger on a rising edge; - ExtInt.IRQ_FALLING - trigger on a falling edge; - ExtInt.IRQ_RISING_FALLING - trigger on a rising or falling edge.\n        pull can be one of: - pyb.Pin.PULL_NONE - no pull up or down resistors; - pyb.Pin.PULL_UP - enable the pull-up resistor; - pyb.Pin.PULL_DOWN - enable the pull-down resistor.\n        callback is the function to call when the interrupt triggers. \n        The callback function must accept exactly 1 argument, which is the line that triggered the interrupt.",Local["zh-hans"].RASPBERRYPI_PWM_PIN_TITLE="PWM",Local["zh-hans"].RASPBERRYPI_PWM_PIN_TOOLTIP="PWM 引脚",Local["zh-hans"].LEAF_ADC_READ_TITLE1="获取引脚",Local["zh-hans"].LEAF_ADC_READ_TITLE2="的值",Local["zh-hans"].LEAF_ADC_READ_TOOLTIP="获取引脚的模拟值, 返回 0-1024",Local["zh-hans"].LEAF_DAC_WRITE_TITLE1="设置引脚",Local["zh-hans"].LEAF_DAC_WRITE_TITLE2="的模拟值为",Local["zh-hans"].LEAF_DAC_WRITE_TOOLTIP="设置引脚的模拟值.\n       模拟值引脚在A4，A5. \n       模拟值的电压范围在 0 到 3.3V.",Local["zh-hans"].LEAF_SERVO_GET_ANGLE_TITLE1="获取舵机",Local["zh-hans"].LEAF_SERVO_GET_ANGLE_TITLE2="的角度",Local["zh-hans"].LEAF_SERVO_GET_ANGLE_TOOLTIP="获取舵机的角度",Local["zh-hans"].LEAF_SERVO_SET_ANGLE_TITLE1="设置舵机",Local["zh-hans"].LEAF_SERVO_SET_ANGLE_TITLE2="的角度",Local["zh-hans"].LEAF_SERVO_SET_ANGLE_TITLE3="time",Local["zh-hans"].LEAF_SERVO_SET_ANGLE_TOOLTIP="设置舵机的角度:\n     angle is the angle to move to in degrees.\n     time is the number of milliseconds to take to get to the specified angle. If omitted, then the servo moves as quickly as possible to its new position.",Local["zh-hans"].LEAF_SERVO_GET_SPEED_TITLE1="获取舵机",Local["zh-hans"].LEAF_SERVO_GET_SPEED_TITLE2="的速度",Local["zh-hans"].LEAF_SERVO_GET_SPEED_TOOLTIP="获取舵机的速度",Local["zh-hans"].LEAF_SERVO_SET_SPEED_TITLE1="设置舵机",Local["zh-hans"].LEAF_SERVO_SET_SPEED_TITLE2="的速度",Local["zh-hans"].LEAF_SERVO_SET_SPEED_TITLE3="time",Local["zh-hans"].LEAF_SERVO_SET_SPEED_TOOLTIP="设置舵机的速度:\n     speed is the speed to change to, between -100 and 100.\n     time is the number of milliseconds to take to get to the specified speed. If omitted, then the servo accelerates as quickly as possible.",Local["zh-hans"].LEAF_SERVO_GET_CALIBRATION_TITLE1="获取舵机",Local["zh-hans"].LEAF_SERVO_GET_CALIBRATION_TITLE2="的校准值",Local["zh-hans"].LEAF_SERVO_GET_CALIBRATION_TOOLTIP="获取舵机的校准值",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE1="设置舵机的校准值",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE2="引脚",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE3="最小脉宽",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE4="最大脉宽",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE5="中心脉宽",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE6="90度的脉宽",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TITLE7="舵机速度为100的脉宽",Local["zh-hans"].LEAF_SERVO_SET_CALIBRATION_TOOLTIP="Sets the angle of the servo:\n      pulse_min is the minimum allowed pulse width.\n      pulse_max is the maximum allowed pulse width.\n      pulse_centre is the pulse width corresponding to the centre/zero position.\n      pulse_angle_90 is the pulse width corresponding to 90 degrees.\n      pulse_speed_100 is the pulse width corresponding to a speed of 100.",Local["zh-hans"].LEAF_PWM_PULSE_WIDTH_TITLE1="PWM设置",Local["zh-hans"].LEAF_PWM_PULSE_WIDTH_TITLE2="脉冲宽度的值为",Local["zh-hans"].LEAF_PWM_TOOLTIP="设置PWM脉冲宽度的值为（0 ~ 4095）.",Local["zh-hans"].LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1="PWM设置",Local["zh-hans"].LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE1="脉冲宽度的百分比为",Local["zh-hans"].LEAF_PWM_PULSE_WIDTH_PRECENTAGE_TITLE2="%",Local["zh-hans"].LEAF_PWM_FREQ_TITLE1="PWM 设置",Local["zh-hans"].LEAF_PWM_FREQ_TITLE2="频率为",Local["zh-hans"].LEAF_PWM_FREQ_TOOLTIP="设置PWM的频率(HZ).",Local["zh-hans"].LEAF_PWM_PRESCALER_TITLE1="PWM 设置",Local["zh-hans"].LEAF_PWM_PRESCALER_TITLE2="预分频为",Local["zh-hans"].LEAF_PWM_PRESCALER_TOOLTIP="设置PWM预分频的值.",Local["zh-hans"].LEAF_PWM_PERIOD_TITLE1="PWM 设置",Local["zh-hans"].LEAF_PWM_PERIOD_TITLE2="周期为",Local["zh-hans"].LEAF_PWM_PERIOD_TOOLTIP="设置PWM周期的值.";
Local.en.MSG.catJellyPi="Jelly Pi",Local.en.MSG.jellypi_description="Jelly Pi",Local.en.JELLYPI_INPUT_PORT_TOOLTIP="Jelly input port number",Local.en.JELLYPI_OUTPUT_TOOLTIP="Jelly output port number",Local.en.JELLYPI_I2C_PORT_TOOLTIP="Jelly i2c port number";
Local.en.MSG.catJellyPi="Jelly Pi",Local.en.MSG.jellypi_description="Jelly Pi",Local.en.JELLY_INPUT_PORT_TOOLTIP="Jelly input port number",Local.en.JELLY_OUTPUT_PORT_TOOLTIP="Jelly output port number",Local.en.JELLY_I2C_PORT_TOOLTIP="Jelly i2c port number";
Local.en.MSG.catLizard="Lizard",Local.en.MSG.lizard_description="Lizard Robot",Local.en.LIZARD_WALK_FORWARD_TITLE1="walk forward",Local.en.LIZARD_WALK_FORWARD_TITLE2="step",Local.en.LIZARD_WALK_FORWARD_TITLE3="speed",Local.en.LIZARD_WALK_BACKWARD_TITLE1="walk backward",Local.en.LIZARD_WALK_BACKWARD_TITLE2="step",Local.en.LIZARD_WALK_BACKWARD_TITLE3="speed",Local.en.LIZARD_TURN_LEFT_TITLE1="turn left",Local.en.LIZARD_TURN_LEFT_TITLE2="step",Local.en.LIZARD_TURN_LEFT_TITLE3="speed",Local.en.LIZARD_TURN_RIGHT_TITLE1="turn right",Local.en.LIZARD_TURN_RIGHT_TITLE2="step",Local.en.LIZARD_TURN_RIGHT_TITLE3="speed",Local.en.LIZARD_SET_OFFSET_TITLE="set offset",Local.en.LIZARD_SET_OFFSET_TITLE1="foreleg",Local.en.LIZARD_SET_OFFSET_TITLE2="waist",Local.en.LIZARD_SET_OFFSET_TITLE3="hind leg",Local.en.LIZARD_WALK_FOEWARD_TOOLTIP="Lizard walk forward some steps";
Local["zh-hans"].MSG.catLizard="蜥蜴",Local["zh-hans"].MSG.lizard_description="蜥蜴机器人",Local["zh-hans"].LIZARD_WALK_FORWARD_TITLE1="前进",Local["zh-hans"].LIZARD_WALK_FORWARD_TITLE2="步",Local["zh-hans"].LIZARD_WALK_FORWARD_TITLE3="速度",Local["zh-hans"].LIZARD_WALK_BACKWARD_TITLE1="后退",Local["zh-hans"].LIZARD_WALK_BACKWARD_TITLE2="步",Local["zh-hans"].LIZARD_WALK_BACKWARD_TITLE3="速度",Local["zh-hans"].LIZARD_TURN_LEFT_TITLE1="左转",Local["zh-hans"].LIZARD_TURN_LEFT_TITLE2="步",Local["zh-hans"].LIZARD_TURN_LEFT_TITLE3="速度",Local["zh-hans"].LIZARD_TURN_RIGHT_TITLE1="右转",Local["zh-hans"].LIZARD_TURN_RIGHT_TITLE2="步",Local["zh-hans"].LIZARD_TURN_RIGHT_TITLE3="速度",Local["zh-hans"].LIZARD_SET_OFFSET_TITLE="设置偏差值",Local["zh-hans"].LIZARD_SET_OFFSET_TITLE1="前腿",Local["zh-hans"].LIZARD_SET_OFFSET_TITLE2="腰部",Local["zh-hans"].LIZARD_SET_OFFSET_TITLE3="后退",Local["zh-hans"].LIZARD_WALK_FOEWARD_TOOLTIP="蜥蜴前进";
Local.en.MSG.catPiMobile="PiMobile",Local.en.MSG.pimobile_description="Raspberry Pi Mobile Car";
Local["zh-hans"].MSG.catPiMobile="PiMobile",Local["zh-hans"].MSG.pimobile_description="树莓派新一代小车",Local["zh-hans"].PIMOBILE_DIGITAL_PIN_TITLE="D",Local["zh-hans"].PIMOBILE_DIGITAL_PIN_TOOLTIP="数字引脚",Local["zh-hans"].PIMOBILE_ANALOG_PIN_TITLE="A",Local["zh-hans"].PIMOBILE_ANALOG_PIN_TOOLTIP="模拟引脚",Local["zh-hans"].PIMOBILE_PWM_PIN_TITLE="PWM",Local["zh-hans"].PIMOBILE_PWM_PIN_TOOLTIP="PWM 引脚",Local["zh-hans"].PIMOBILE_DEVICE_PIN_TOOLTIP="内置硬件引脚",Local["zh-hans"].PIMOBILE_LINE_TOOLTIP="选择巡线",Local["zh-hans"].PIMOBILE_MOTOR_SELECT_TOOLTIP="选择电机",Local["zh-hans"].PIMOBILE_LINE_FOLLOWER_TITLE1="获取巡线",Local["zh-hans"].PIMOBILE_LINE_FOLLOWER_TITLE2="的值",Local["zh-hans"].PIMOBILE_LINE_FOLLOWER_TOOLTIP="返回巡线的值",Local["zh-hans"].PIMOBILE_ULTARSONIC_DISTANCE_TITLE1="获取超声波的值",Local["zh-hans"].PIMOBILE_ULTARSONIC_DISTANCE_TITLE2="Triq",Local["zh-hans"].PIMOBILE_ULTARSONIC_DISTANCE_TITLE3="Echo",Local["zh-hans"].PIMOBILE_ULTARSONIC_TOOLTIP="获取超声波的值",Local["zh-hans"].PIMOBILE_MOTOR_TITLE1="设置电机",Local["zh-hans"].PIMOBILE_MOTOR_TITLE2="的值为",Local["zh-hans"].PIMOBILE_MOTOR_TOOLTIP="设置电机的值 (-4095 ~ 4095).负值代表后退，正值代表前进. ";
Local.en.MSG.catSensorkit="Sensor Kit",Local.en.MSG.sensorkit_description="Sensor kit";
Local["zh-hans"].MSG.catSensorkit="传感器套件",Local["zh-hans"].MSG.sensorkit_description="传感器套件";
Local.en.MSG.catJelly="Jelly",Local.en.JELLY_NOTE_TOOLTIP="Music notes",Local.en.JELLY_DISTANCE_SENSOR_TITLE1="Distance Sensor",Local.en.JELLY_DISTANCE_SENSOR_TITLE2="get distance",Local.en.JELLY_DISTANCE_SENSOR_TOOLTIP="Get distance in centimeter",Local.en.JELLY_SOUND_SENSOR_TITLE1="Sound Sensor",Local.en.JELLY_SOUND_SENSOR_TITLE2="get value",Local.en.JELLY_SOUND_SENSOR_TOOLTIP="Get sound value (0 ~ 4095)",Local.en.JELLY_LIGHT_SENSOR_TITLE1="Light Sensor",Local.en.JELLY_LIGHT_SENSOR_TITLE2="get value",Local.en.JELLY_LIGHT_SENSOR_TOOLTIP="Get light value (0 ~ 4095)",Local.en.JELLY_SLIDER_TITLE1="Slider",Local.en.JELLY_SLIDER_TITLE2="get value",Local.en.JELLY_SLIDER_TOOLTIP="Get slider value (0 ~ 4095)",Local.en.JELLY_BUTTON_TITLE1="Button",Local.en.JELLY_BUTTON_TITLE2="get value",Local.en.JELLY_BUTTON_TOOLTIP="Get button value (1 as pressed, 0 as released)",Local.en.JELLY_SERVO_TITLE1="Servo",Local.en.JELLY_SERVO_TITLE2="set angle",Local.en.JELLY_SERVO_TOOLTIP="Set servo angle (0 ~ 180)",Local.en.JELLY_MOTOR_TITLE1="Motor",Local.en.JELLY_MOTOR_TITLE2="set speed",Local.en.JELLY_MOTOR_TOOLTIP="Set motor speed (-4095 ~ 4095)",Local.en.JELLY_LED_TITLE1="LED",Local.en.JELLY_LED_TITLE2="set brightness",Local.en.JELLY_LED_TOOLTIP="Set LED brightness (0 ~ 4095)",Local.en.JELLY_RGB_TITLE1="RGB",Local.en.JELLY_RGB_TITLE2="set color",Local.en.JELLY_RGB_TOOLTIP="Set RGB LED color with color block",Local.en.JELLY_LED_BAR_TITLE1="LED Bar",Local.en.JELLY_LED_BAR_TITLE2="set value",Local.en.JELLY_LED_BAR_TOOLTIP="Set LED bar value (0 ~ 4095)",Local.en.JELLY_BUZZER_TITLE1="Buzzer",Local.en.JELLY_BUZZER_TITLE2="play note",Local.en.JELLY_BUZZER_TOOLTIP="Buzzer play note with note block";
Local["zh-hans"].MSG.catSensorkit="传感器套件",Local["zh-hans"].SENSORKIT_PIN_NUMBER_TITLE="GPIO",Local["zh-hans"].SENSORKIT_PIN_NUMBER_TOOLTIP="GPIO 引脚编号",Local["zh-hans"].SENSORKIT_PIN_STATUS_TOOLTIP="GPIO 引脚状态",Local["zh-hans"].SENSORKIT_PIN_IRQ_TRIGGER="中断触发",Local["zh-hans"].SENSORKIT_PIN_IRQ_TRIGGER_TOOLTIP="中断触发",Local["zh-hans"].SENSORKIT_PIN_COLOUR_TOOLTIP="颜色",Local["zh-hans"].SENSORKIT_PIN_SWITCH_TOOLTIP="开或关",Local["zh-hans"].SENSORKIT_PIN_DOUBLE_LED_TOOLTIP="双色LED",Local["zh-hans"].SENSORKIT_LED_SET_VALUE_TITLE1="设置LED",Local["zh-hans"].SENSORKIT_LED_SET_VALUE_TITLE2="为",Local["zh-hans"].SENSORKIT_LED_SET_VALUE_TOOLTIP="设置LED为开或关.",Local["zh-hans"].SENSORKIT_LED_ON_TITLE1="设置LED",Local["zh-hans"].SENSORKIT_LED_ON_TITLE2="开",Local["zh-hans"].SENSORKIT_LED_ON_TOOLTIP="设置LED为开",Local["zh-hans"].SENSORKIT_LED_OFF_TITLE1="设置LED",Local["zh-hans"].SENSORKIT_LED_OFF_TITLE2="关",Local["zh-hans"].SENSORKIT_LED_OFF_TOOLTIP="设置LED为关",Local["zh-hans"].SENSORKIT_RGB_SET_VALUE_TITLE1="设置RGB中R连接",Local["zh-hans"].SENSORKIT_RGB_SET_VALUE_TITLE2="              G连接",Local["zh-hans"].SENSORKIT_RGB_SET_VALUE_TITLE3="              B连接",Local["zh-hans"].SENSORKIT_RGB_SET_VALUE_TITLE4="     选取颜色为",Local["zh-hans"].SENSORKIT_RGB_SET_VALUE_TOOLTIP="设置RGB颜色",Local["zh-hans"].SENSORKIT_BUZZER_SET_VALUE_TITLE1="设置有源蜂鸣器",Local["zh-hans"].SENSORKIT_BUZZER_SET_VALUE_TITLE2="为",Local["zh-hans"].SENSORKIT_BUZZER_SET_VALUE_TOOLTIP="设置有源蜂鸣器为开或关.",Local["zh-hans"].SENSORKIT_BUZZER_ACTIVE_TITLE1="设置有源蜂鸣器",Local["zh-hans"].SENSORKIT_BUZZER_ACTIVE_TITLE2="为开",Local["zh-hans"].SENSORKIT_BUZZER_ACTIVE_TOOLTIP="设置有源蜂鸣器为开.",Local["zh-hans"].SENSORKIT_BUZZER_PASSIVE_TITLE1="设置有源蜂鸣器",Local["zh-hans"].SENSORKIT_BUZZER_PASSIVE_TITLE2="为关",Local["zh-hans"].SENSORKIT_BUZZER_PASSIVE_TOOLTIP="设置有源蜂鸣器为关.",Local["zh-hans"].SENSORKIT_DOUBLELED_SET_VALUE_TITLE1="设置双色LED中R连接",Local["zh-hans"].SENSORKIT_DOUBLELED_SET_VALUE_TITLE2="                      G连接",Local["zh-hans"].SENSORKIT_DOUBLELED_SET_VALUE_TITLE3="               选取颜色为",Local["zh-hans"].SENSORKIT_DOUBLELED_SET_VALUE_TOOLTIP="设置双色LED颜色",Local["zh-hans"].SENSORKIT_AUTOFLASH_SET_VALUE_TITLE1="设置自动闪烁LED",Local["zh-hans"].SENSORKIT_AUTOFLASH_SET_VALUE_TITLE2="为",Local["zh-hans"].SENSORKIT_AUTOFLASH_SET_VALUE_TOOLTIP="设置自动闪烁LED为开或关.",Local["zh-hans"].SENSORKIT_RELAY_SET_VALUE_TITLE1="设置继电器",Local["zh-hans"].SENSORKIT_RELAY_SET_VALUE_TITLE2="为",Local["zh-hans"].SENSORKIT_RELAY_SET_VALUE_TOOLTIP="设置继电器为开或关.",Local["zh-hans"].SENSORKIT_LASER_SET_VALUE_TITLE1="设置激光发射器",Local["zh-hans"].SENSORKIT_LASER_SET_VALUE_TITLE2="为",Local["zh-hans"].SENSORKIT_LASER_SET_VALUE_TOOLTIP="设置激光发射器为.",Local["zh-hans"].SENSORKIT_PIN_NUMBER_TITLE="GPIO",Local["zh-hans"].SENSORKIT_PIN_NUMBER_TOOLTIP="GPIO引脚编号",Local["zh-hans"].SENSORKIT_PIN_STATUS_TOOLTIP="GPIO引脚状态",Local["zh-hans"].SENSORKIT_PIN_IRQ_TRIGGER="中断触发",Local["zh-hans"].SENSORKIT_PIN_IRQ_TRIGGER_TOOLTIP="中断触发",Local["zh-hans"].SENSORKIT_BUTTON_GET_VALUE_TITLE1="获取按钮",Local["zh-hans"].SENSORKIT_BUTTON_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_BUTTON_GET_VALUE_TOOLTIP="获取按钮的值.",Local["zh-hans"].SENSORKIT_POTENTIOMETER_GET_VALUE_TITLE1="获取电位计",Local["zh-hans"].SENSORKIT_POTENTIOMETER_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_POTENTIOMETER_GET_VALUE_TOOLTIP="获取电位计的值",Local["zh-hans"].SENSORKIT_SOUND_GET_VALUE_TITLE1="获取声音",Local["zh-hans"].SENSORKIT_SOUND_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_SOUND_GET_VALUE_TOOLTIP="获取声音的值.",Local["zh-hans"].SENSORKIT_ULTRASONIC_GET_VALUE_TITLE1="获取超声波测距",Local["zh-hans"].SENSORKIT_ULTRASONIC_GET_VALUE_TITLE3="",Local["zh-hans"].SENSORKIT_ULTRASONIC_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_ULTRASONIC_VALUE_TOOLTIP="获取超声波测距的值.",Local["zh-hans"].SENSORKIT_TILTSWITCH_GET_VALUE_TITLE1="获取倾斜开关",Local["zh-hans"].SENSORKIT_TILTSWITCH_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_TILTSWITCH_GET_VALUE_TOOLTIP="获取倾斜开关的值.",Local["zh-hans"].SENSORKIT_REEDSWITCH_GET_VALUE_TITLE1="获取磁簧开关",Local["zh-hans"].SENSORKIT_REEDSWITCH_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_REEDSWITCH_GET_VALUE_TOOLTIP="获取磁簧开关的值.",Local["zh-hans"].SENSORKIT_PHOTOINTERRUPTER_GET_VALUE_TITLE1="获取光电断路器",Local["zh-hans"].SENSORKIT_PHOTOINTERRUPTER_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_PHOTOINTERRUPTER_GET_VALUE_TOOLTIP="获取光电断路器的值.",Local["zh-hans"].SENSORKIT_RAINDETECTION_GET_VALUE_TITLE1="获取雨水检测",Local["zh-hans"].SENSORKIT_RAINDETECTION_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_RAINDETECTION_GET_VALUE_TOOLTIP="获取雨水检测的值.",Local["zh-hans"].SENSORKIT_TEMPERATURE_GET_VALUE_TITLE1="获取温度",Local["zh-hans"].SENSORKIT_TEMPERATURE_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_TEMPERATURE_GET_VALUE_TOOLTIP="获取温度的值.",Local["zh-hans"].SENSORKIT_IROBSTACLE_GET_VALUE_TITLE1="获取避障",Local["zh-hans"].SENSORKIT_IROBSTACLE_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_IROBSTACLE_GET_VALUE_TOOLTIP="获取避障的值.",Local["zh-hans"].SENSORKIT_PHOTORESISTOR_GET_VALUE_TITLE1="获取光敏电阻",Local["zh-hans"].SENSORKIT_PHOTORESISTOR_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_PHOTORESISTOR_GET_VALUE_TOOLTIP="获取光敏电阻的值.",Local["zh-hans"].SENSORKIT_FLAME_GET_VALUE_TITLE1="获取火焰传感器",Local["zh-hans"].SENSORKIT_FLAME_GET_VALUE_TITLE3="",Local["zh-hans"].SENSORKIT_FLAME_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_FLAME_VALUE_TOOLTIP="获取火焰传感器的值.",Local["zh-hans"].SENSORKIT_GASSENSOR_GET_VALUE_TITLE1="获取气体传感器",Local["zh-hans"].SENSORKIT_GASSENSOR_GET_VALUE_TITLE3="",Local["zh-hans"].SENSORKIT_GASSENSOR_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_GASSENSOR_VALUE_TOOLTIP="获取火焰传感器的值.",Local["zh-hans"].SENSORKIT_TOUCHSWITCH_GET_VALUE_TITLE1="获取触摸开关",Local["zh-hans"].SENSORKIT_TOUCHSWITCH_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_TOUCHSWITCH_GET_VALUE_TOOLTIP="获取触摸开关的值.",Local["zh-hans"].SENSORKIT_DS18B20_GET_VALUE_TITLE1="获取ds18b20",Local["zh-hans"].SENSORKIT_DS18B20_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_DS18B20_GET_VALUE_TOOLTIP="获取ds18b20温度传感器的值.",Local["zh-hans"].SENSORKIT_ROTARY_ENCODER_GET_VALUE_TITLE1="获取旋转编码器",Local["zh-hans"].SENSORKIT_ROTARY_ENCODER_GET_VALUE_TITLE2="                     的值",Local["zh-hans"].SENSORKIT_ROTARY_ENCODER_GET_VALUE_TITLE3="",Local["zh-hans"].SENSORKIT_ROTARY_ENCODER_VALUE_TOOLTIP="获取旋转编码器的值.",Local["zh-hans"].SENSORKIT_TRACKING_GET_VALUE_TITLE1="获取跟踪传感器",Local["zh-hans"].SENSORKIT_TRACKING_GET_VALUE_TITLE2="的值",Local["zh-hans"].SENSORKIT_TRACKING_GET_VALUE_TOOLTIP="获取跟踪传感器的值.",Local["zh-hans"].SENSORKIT_ANALOGHALLSWITCH_GET_VALUE_TITLE1="模拟霍尔传感器 DO",Local["zh-hans"].SENSORKIT_ANALOGHALLSWITCH_GET_VALUE_TITLE2="获取",Local["zh-hans"].SENSORKIT_ANALOGHALLSWITCH_GET_VALUE_TITLE3="的值 AO",Local["zh-hans"].SENSORKIT_ANALOGHALLSWITCH_VALUE_TOOLTIP=" 获取模拟霍尔传感器的值.";
Local.en.MSG.catRobothat="Robot Hat",Local.en.MSG.robothat_description="Raspberry Pi Robot Hat",Local.en.ROBOTHAT_DIGITAL_PIN_TITLE="D",Local.en.ROBOTHAT_DIGITAL_PIN_TOOLTIP="Digital pin number",Local.en.ROBOTHAT_ANALOG_PIN_TITLE="A",Local.en.ROBOTHAT_ANALOG_PIN_TOOLTIP="Analog pin number",Local.en.ROBOTHAT_PWM_PIN_TITLE="PWM",Local.en.ROBOTHAT_PWM_PIN_TOOLTIP="PWM pin number",Local.en.ROBOTHAT_DEVICE_PIN_TOOLTIP="Device pin number",Local.en.ROBOTHAT_LINE_TOOLTIP="Select line follower",Local.en.ROBOTHAT_MOTOR_SELECT_TOOLTIP="Select Motor ",Local.en.ROBOTHAT_LINE_FOLLOWER_TITLE1="Get line follower",Local.en.ROBOTHAT_LINE_FOLLOWER_TITLE2="value",Local.en.ROBOTHAT_LINE_FOLLOWER_TOOLTIP="return the value of the line follower",Local.en.ROBOTHAT_ULTARSONIC_DISTANCE_TITLE1="Get ultarsonic value",Local.en.ROBOTHAT_ULTARSONIC_DISTANCE_TITLE2="Triq",Local.en.ROBOTHAT_ULTARSONIC_DISTANCE_TITLE3="Echo",Local.en.ROBOTHAT_ULTARSONIC_TOOLTIP="Get ultarsonic value",Local.en.ROBOTHAT_MOTOR_TITLE1="Motor set",Local.en.ROBOTHAT_MOTOR_TITLE2="speed to",Local.en.ROBOTHAT_MOTOR_TITLE3="calibration value to",Local.en.ROBOTHAT_MOTOR_TOOLTIP="Set motor speed (-100 ~ 100). Negative values represent backwards,                                         positive values represent foewards. calibration value:                                         Given by the speed calibration block.",Local.en.ROBOTHAT_MOTOR_DIRECTION_CALIBRATION_TITLE1="Motor calibration",Local.en.ROBOTHAT_MOTOR_DIRECTION_CALIBRATION_TITLE2="direction to",Local.en.ROBOTHAT_MOTOR_DIRECTION_CALIBRATION_TOOLTIP="The correct direction is 0; The direction error is 1.",Local.en.ROBOTHAT_MOTOR_SPEED_CALIBRATION_TITLE1="Motor set speed calibration value",Local.en.ROBOTHAT_MOTOR_SPEED_CALIBRATION_TITLE2="",Local.en.ROBOTHAT_MOTOR_SPEED_CALIBRATION_TOOLTIP=" Calibration value: positive value reduces left wheel speed,                                                            negative value reduces right wheel speed.range(-100~100)";
Local["zh-hans"].MSG.catRobothat="机器人帽子",Local["zh-hans"].MSG.robothat_description="树莓派新一代小车",Local["zh-hans"].ROBOTHAT_DIGITAL_PIN_TITLE="D",Local["zh-hans"].ROBOTHAT_DIGITAL_PIN_TOOLTIP="数字引脚",Local["zh-hans"].ROBOTHAT_ANALOG_PIN_TITLE="A",Local["zh-hans"].ROBOTHAT_ANALOG_PIN_TOOLTIP="模拟引脚",Local["zh-hans"].ROBOTHAT_PWM_PIN_TITLE="PWM",Local["zh-hans"].ROBOTHAT_PWM_PIN_TOOLTIP="PWM 引脚",Local["zh-hans"].ROBOTHAT_DEVICE_PIN_TOOLTIP="内置硬件引脚",Local["zh-hans"].ROBOTHAT_LINE_TOOLTIP="选择巡线",Local["zh-hans"].ROBOTHAT_MOTOR_SELECT_TOOLTIP="选择电机",Local["zh-hans"].ROBOTHAT_LINE_FOLLOWER_TITLE1="获取巡线",Local["zh-hans"].ROBOTHAT_LINE_FOLLOWER_TITLE2="的值",Local["zh-hans"].ROBOTHAT_LINE_FOLLOWER_TOOLTIP="返回巡线的值",Local["zh-hans"].ROBOTHAT_ULTARSONIC_DISTANCE_TITLE1="获取超声波的值",Local["zh-hans"].ROBOTHAT_ULTARSONIC_DISTANCE_TITLE2="Triq",Local["zh-hans"].ROBOTHAT_ULTARSONIC_DISTANCE_TITLE3="Echo",Local["zh-hans"].ROBOTHAT_ULTARSONIC_TOOLTIP="获取超声波的值",Local["zh-hans"].ROBOTHAT_MOTOR_TITLE1="设置电机",Local["zh-hans"].ROBOTHAT_MOTOR_TITLE2="的值为",Local["zh-hans"].ROBOTHAT_MOTOR_TOOLTIP="设置电机的值 (-4095 ~ 4095).负值代表后退，正值代表前进. ";
Local.en.MSG.catRobotShield="Robot Shield",Local.en.MSG.robotshield_description="Robot Shield",Local.en.ROBOTSHIELD_SENSOR_PIN_TITLE="Sensor",Local.en.ROBOTSHIELD_SENSOR_PIN_TOOLTIP="Sensor pin number",Local.en.ROBOTSHIELD_SERVO_PIN_TITLE="Servo",Local.en.ROBOTSHIELD_SERVO_PIN_TOOLTIP="Servo pin number";
Local["zh-hans"].MSG.catRobotShield="机器人盾",Local["zh-hans"].MSG.robotshield_description="机器人盾",Local["zh-hans"].ROBOTSHIELD_SENSOR_PIN_TITLE="传感器",Local["zh-hans"].ROBOTSHIELD_SENSOR_PIN_TOOLTIP="传感器引脚",Local["zh-hans"].ROBOTSHIELD_SERVO_PIN_TITLE="舵机",Local["zh-hans"].ROBOTSHIELD_SERVO_PIN_TOOLTIP="舵机引脚";
Local.en.MSG.catSwitchBot="SwitchBot",Local.en.SWITCHBOT_S1_TITLE1="SwitchBot S1 MAC address",Local.en.SWITCHBOT_S1_TITLE2="set status",Local.en.SWITCHBOT_S1_TOOLTIP="Fill in the Switchbot MAC address and set the status. For the Switchbot MAC address, please see the link:";
Local["zh-hans"].MSG.catSwitchBot="远程机器人",Local["zh-hans"].SWITCHBOT_S1_TITLE1="连接远程机器人",Local["zh-hans"].SWITCHBOT_S1_TITLE1="MAC地址",Local["zh-hans"].SWITCHBOT_S1_TITLE1="设置状态",Local["zh-hans"].SWITCHBOT_S1_TOOLTIP="填写Switchbot MAC地址，并设置状态，查询远程机器人MAC地址请见链接：";
Local.en.MSG.catSensorKitForPi="SensorKit For Pi",Local.en.MSG.sensorkitforpi_description="SensorKit For Pi";
Local["zh-hans"].MSG.catSensorKitForPi="树莓派传感器套件",Local["zh-hans"].MSG.sensorkitforpi_description="树莓派传感器套件";
Local.en.MSG.catSensorKitForLeaf="SensorKit For Leaf",Local.en.MSG.sensorkitforleaf_description="SensorKit For Leaf";
Local["zh-hans"].MSG.catSensorKitForLeaf="叶子传感器套件",Local["zh-hans"].MSG.sensorkitforleaf_description="叶子传感器套件";
Local.en.MSG.catSloth="Sloth",Local.en.MSG.sloth_description="Sloth",Local.en.SLOTH_WALK_FORWARD_TITLE1="walk forward",Local.en.SLOTH_WALK_FORWARD_TITLE2="step",Local.en.SLOTH_WALK_FORWARD_TITLE3="speed",Local.en.SLOTH_WALK_BACKWARD_TITLE1="walk backward",Local.en.SLOTH_WALK_BACKWARD_TITLE2="step",Local.en.SLOTH_WALK_BACKWARD_TITLE3="speed",Local.en.SLOTH_TURN_LEFT_TITLE1="turn left",Local.en.SLOTH_TURN_LEFT_TITLE2="step",Local.en.SLOTH_TURN_LEFT_TITLE3="speed",Local.en.SLOTH_TURN_RIGHT_TITLE1="turn right",Local.en.SLOTH_TURN_RIGHT_TITLE2="step",Local.en.SLOTH_TURN_RIGHT_TITLE3="speed",Local.en.SLOTH_SET_OFFSET_TITLE="set offset",Local.en.SLOTH_SET_OFFSET_TITLE1="right_leg",Local.en.SLOTH_SET_OFFSET_TITLE2="left_leg",Local.en.SLOTH_SET_OFFSET_TITLE3="right_foot",Local.en.SLOTH_SET_OFFSET_TITLE4="left_foot",Local.en.SLOTH_WALK_FOEWARD_TOOLTIP="Sloth walk forward some steps";
Local["zh-hans"].MSG.catSloth="树懒",Local["zh-hans"].MSG.sloth_description="树懒",Local["zh-hans"].SLOTH_WALK_FORWARD_TITLE1="前进",Local["zh-hans"].SLOTH_WALK_FORWARD_TITLE2="步",Local["zh-hans"].SLOTH_WALK_FORWARD_TITLE3="速度",Local["zh-hans"].SLOTH_WALK_BACKWARD_TITLE1="后退",Local["zh-hans"].SLOTH_WALK_BACKWARD_TITLE2="步",Local["zh-hans"].SLOTH_WALK_BACKWARD_TITLE3="速度",Local["zh-hans"].SLOTH_TURN_LEFT_TITLE1="转左",Local["zh-hans"].SLOTH_TURN_LEFT_TITLE2="步",Local["zh-hans"].SLOTH_TURN_LEFT_TITLE3="速度",Local["zh-hans"].SLOTH_TURN_RIGHT_TITLE1="转右",Local["zh-hans"].SLOTH_TURN_RIGHT_TITLE2="步",Local["zh-hans"].SLOTH_TURN_RIGHT_TITLE3="速度",Local["zh-hans"].SLOTH_SET_OFFSET_TITLE="设置初始化角度",Local["zh-hans"].SLOTH_SET_OFFSET_TITLE1="右腿",Local["zh-hans"].SLOTH_SET_OFFSET_TITLE2="左腿",Local["zh-hans"].SLOTH_SET_OFFSET_TITLE3="右脚掌",Local["zh-hans"].SLOTH_SET_OFFSET_TITLE4="左脚掌",Local["zh-hans"].SLOTH_WALK_FOEWARD_TOOLTIP="树懒向前走";